(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{4442:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{L:()=>v,a:()=>He,b:()=>re,c:()=>De,d:()=>Ge,g:()=>ct}),ee(5531);const v="ionViewWillEnter",He="ionViewDidEnter",re="ionViewWillLeave",De="ionViewDidLeave",Ge="ionViewWillUnload",ct=fe=>fe.classList.contains("ion-page")?fe:fe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||fe},5531:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{a:()=>qe,c:()=>Q,g:()=>Ge});class x{constructor(){this.m=new Map}reset(fe){this.m=new Map(Object.entries(fe))}get(fe,Y){const J=this.m.get(fe);return void 0!==J?J:Y}getBoolean(fe,Y=!1){const J=this.m.get(fe);return void 0===J?Y:"string"==typeof J?"true"===J:!!J}getNumber(fe,Y){const J=parseFloat(this.m.get(fe));return isNaN(J)?void 0!==Y?Y:NaN:J}set(fe,Y){this.m.set(fe,Y)}}const Q=new x,Ge=ct=>ge(ct),qe=(ct,fe)=>("string"==typeof ct&&(fe=ct,ct=void 0),Ge(ct).includes(fe)),ge=(ct=window)=>{if(typeof ct>"u")return[];ct.Ionic=ct.Ionic||{};let fe=ct.Ionic.platforms;return null==fe&&(fe=ct.Ionic.platforms=ke(ct),fe.forEach(Y=>ct.document.documentElement.classList.add(`plt-${Y}`))),fe},ke=ct=>{const fe=Q.get("platform");return Object.keys(Ot).filter(Y=>{const J=null==fe?void 0:fe[Y];return"function"==typeof J?J(ct):Ot[Y](ct)})},Te=ct=>!!(Ye(ct,/iPad/i)||Ye(ct,/Macintosh/i)&&at(ct)),Xe=ct=>Ye(ct,/android|sink/i),at=ct=>Pt(ct,"(any-pointer:coarse)"),Ne=ct=>ze(ct)||tt(ct),ze=ct=>!!(ct.cordova||ct.phonegap||ct.PhoneGap),tt=ct=>{const fe=ct.Capacitor;return!(null==fe||!fe.isNative)},Ye=(ct,fe)=>fe.test(ct.navigator.userAgent),Pt=(ct,fe)=>{var Y;return null===(Y=ct.matchMedia)||void 0===Y?void 0:Y.call(ct,fe).matches},Ot={ipad:Te,iphone:ct=>Ye(ct,/iPhone/i),ios:ct=>Ye(ct,/iPhone|iPod/i)||Te(ct),android:Xe,phablet:ct=>{const fe=ct.innerWidth,Y=ct.innerHeight,J=Math.min(fe,Y),ie=Math.max(fe,Y);return J>390&&J<520&&ie>620&&ie<800},tablet:ct=>{const fe=ct.innerWidth,Y=ct.innerHeight,J=Math.min(fe,Y),ie=Math.max(fe,Y);return Te(ct)||(ct=>Xe(ct)&&!Ye(ct,/mobile/i))(ct)||J>460&&J<820&&ie>780&&ie<1400},cordova:ze,capacitor:tt,electron:ct=>Ye(ct,/electron/i),pwa:ct=>{var fe;return!!(null!==(fe=ct.matchMedia)&&void 0!==fe&&fe.call(ct,"(display-mode: standalone)").matches||ct.navigator.standalone)},mobile:at,mobileweb:ct=>at(ct)&&!Ne(ct),desktop:ct=>!at(ct),hybrid:Ne}},9986:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{c:()=>He});var x=ee(8476);let Q;const M=(re,De,Ge)=>{const qe=De.startsWith("animation")?(re=>(void 0===Q&&(Q=void 0===re.style.animationName&&void 0!==re.style.webkitAnimationName?"-webkit-":""),Q))(re):"";re.style.setProperty(qe+De,Ge)},v=(re=[],De)=>{if(void 0!==De){const Ge=Array.isArray(De)?De:[De];return[...re,...Ge]}return re},He=re=>{let De,Ge,qe,ge,ke,Re,Qe,nt,_t,Ye,At,Te=[],Ke=[],it=[],Xe=!1,vt={},We=[],at=[],pe={},Ne=0,ze=!1,tt=!1,Pt=!0,Ot=!1,nn=!0,Kt=!1;const ct=re,fe=[],Y=[],J=[],ie=[],de=[],Ue=[],Le=[],mt=[],xt=[],Sn=[],zt=[],mn="function"==typeof AnimationEffect||void 0!==x.w&&"function"==typeof x.w.AnimationEffect,En="function"==typeof Element&&"function"==typeof Element.prototype.animate&&mn,xn=()=>zt,Ht=(lt,Qt)=>{const On=Qt.findIndex(cn=>cn.c===lt);On>-1&&Qt.splice(On,1)},Ze=(lt,Qt)=>((null!=Qt&&Qt.oneTimeCallback?Y:fe).push({c:lt,o:Qt}),At),Gt=()=>{En&&(zt.forEach(lt=>{lt.cancel()}),zt.length=0)},Bn=()=>{Ue.forEach(lt=>{null!=lt&&lt.parentNode&&lt.parentNode.removeChild(lt)}),Ue.length=0},jn=()=>void 0!==ke?ke:Qe?Qe.getFill():"both",jt=()=>void 0!==nt?nt:void 0!==Re?Re:Qe?Qe.getDirection():"normal",gr=()=>ze?"linear":void 0!==qe?qe:Qe?Qe.getEasing():"linear",pn=()=>tt?0:void 0!==_t?_t:void 0!==Ge?Ge:Qe?Qe.getDuration():0,tr=()=>void 0!==ge?ge:Qe?Qe.getIterations():1,Vo=()=>void 0!==Ye?Ye:void 0!==De?De:Qe?Qe.getDelay():0,ni=()=>{0!==Ne&&(Ne--,0===Ne&&((()=>{xt.forEach(Br=>Br()),Sn.forEach(Br=>Br());const lt=Pt?1:0,Qt=We,On=at,cn=pe;ie.forEach(Br=>{const di=Br.classList;Qt.forEach(Xi=>di.add(Xi)),On.forEach(Xi=>di.remove(Xi));for(const Xi in cn)cn.hasOwnProperty(Xi)&&M(Br,Xi,cn[Xi])}),_t=void 0,nt=void 0,Ye=void 0,fe.forEach(Br=>Br.c(lt,At)),Y.forEach(Br=>Br.c(lt,At)),Y.length=0,nn=!0,Pt&&(Ot=!0),Pt=!0})(),Qe&&Qe.animationFinish()))},Js=()=>{(()=>{Le.forEach(cn=>cn()),mt.forEach(cn=>cn());const lt=Ke,Qt=it,On=vt;ie.forEach(cn=>{const Br=cn.classList;lt.forEach(di=>Br.add(di)),Qt.forEach(di=>Br.remove(di));for(const di in On)On.hasOwnProperty(di)&&M(cn,di,On[di])})})(),Te.length>0&&En&&(ie.forEach(lt=>{const Qt=lt.animate(Te,{id:ct,delay:Vo(),duration:pn(),easing:gr(),iterations:tr(),fill:jn(),direction:jt()});Qt.pause(),zt.push(Qt)}),zt.length>0&&(zt[0].onfinish=()=>{ni()})),Xe=!0},kr=lt=>{lt=Math.min(Math.max(lt,0),.9999),En&&zt.forEach(Qt=>{Qt.currentTime=Qt.effect.getComputedTiming().delay+pn()*lt,Qt.pause()})},gn=lt=>{zt.forEach(Qt=>{Qt.effect.updateTiming({delay:Vo(),duration:pn(),easing:gr(),iterations:tr(),fill:jn(),direction:jt()})}),void 0!==lt&&kr(lt)},Tn=(lt=!1,Qt=!0,On)=>(lt&&de.forEach(cn=>{cn.update(lt,Qt,On)}),En&&gn(On),At),Ao=()=>{Xe&&(En?zt.forEach(lt=>{lt.pause()}):ie.forEach(lt=>{M(lt,"animation-play-state","paused")}),Kt=!0)},_i=lt=>new Promise(Qt=>{null!=lt&&lt.sync&&(tt=!0,Ze(()=>tt=!1,{oneTimeCallback:!0})),Xe||Js(),Ot&&(En&&(kr(0),gn()),Ot=!1),nn&&(Ne=de.length+1,nn=!1);const On=()=>{Ht(cn,Y),Qt()},cn=()=>{Ht(On,J),Qt()};Ze(cn,{oneTimeCallback:!0}),((lt,Qt)=>{J.push({c:lt,o:{oneTimeCallback:!0}})})(On),de.forEach(Br=>{Br.play()}),En?(zt.forEach(lt=>{lt.play()}),(0===Te.length||0===ie.length)&&ni()):ni(),Kt=!1}),zo=(lt,Qt)=>{const On=Te[0];return void 0===On||void 0!==On.offset&&0!==On.offset?Te=[{offset:0,[lt]:Qt},...Te]:On[lt]=Qt,At};return At={parentAnimation:Qe,elements:ie,childAnimations:de,id:ct,animationFinish:ni,from:zo,to:(lt,Qt)=>{const On=Te[Te.length-1];return void 0===On||void 0!==On.offset&&1!==On.offset?Te=[...Te,{offset:1,[lt]:Qt}]:On[lt]=Qt,At},fromTo:(lt,Qt,On)=>zo(lt,Qt).to(lt,On),parent:lt=>(Qe=lt,At),play:_i,pause:()=>(de.forEach(lt=>{lt.pause()}),Ao(),At),stop:()=>{de.forEach(lt=>{lt.stop()}),Xe&&(Gt(),Xe=!1),ze=!1,tt=!1,nn=!0,nt=void 0,_t=void 0,Ye=void 0,Ne=0,Ot=!1,Pt=!0,Kt=!1,J.forEach(lt=>lt.c(0,At)),J.length=0},destroy:lt=>(de.forEach(Qt=>{Qt.destroy(lt)}),(lt=>{Gt(),lt&&Bn()})(lt),ie.length=0,de.length=0,Te.length=0,fe.length=0,Y.length=0,Xe=!1,nn=!0,At),keyframes:lt=>{const Qt=Te!==lt;return Te=lt,Qt&&(lt=>{En&&xn().forEach(Qt=>{const On=Qt.effect;if(On.setKeyframes)On.setKeyframes(lt);else{const cn=new KeyframeEffect(On.target,lt,On.getTiming());Qt.effect=cn}})})(Te),At},addAnimation:lt=>{if(null!=lt)if(Array.isArray(lt))for(const Qt of lt)Qt.parent(At),de.push(Qt);else lt.parent(At),de.push(lt);return At},addElement:lt=>{if(null!=lt)if(1===lt.nodeType)ie.push(lt);else if(lt.length>=0)for(let Qt=0;Qt<lt.length;Qt++)ie.push(lt[Qt]);else console.error("Invalid addElement value");return At},update:Tn,fill:lt=>(ke=lt,Tn(!0),At),direction:lt=>(Re=lt,Tn(!0),At),iterations:lt=>(ge=lt,Tn(!0),At),duration:lt=>(!En&&0===lt&&(lt=1),Ge=lt,Tn(!0),At),easing:lt=>(qe=lt,Tn(!0),At),delay:lt=>(De=lt,Tn(!0),At),getWebAnimations:xn,getKeyframes:()=>Te,getFill:jn,getDirection:jt,getDelay:Vo,getIterations:tr,getEasing:gr,getDuration:pn,afterAddRead:lt=>(xt.push(lt),At),afterAddWrite:lt=>(Sn.push(lt),At),afterClearStyles:(lt=[])=>{for(const Qt of lt)pe[Qt]="";return At},afterStyles:(lt={})=>(pe=lt,At),afterRemoveClass:lt=>(at=v(at,lt),At),afterAddClass:lt=>(We=v(We,lt),At),beforeAddRead:lt=>(Le.push(lt),At),beforeAddWrite:lt=>(mt.push(lt),At),beforeClearStyles:(lt=[])=>{for(const Qt of lt)vt[Qt]="";return At},beforeStyles:(lt={})=>(vt=lt,At),beforeRemoveClass:lt=>(it=v(it,lt),At),beforeAddClass:lt=>(Ke=v(Ke,lt),At),onFinish:Ze,isRunning:()=>0!==Ne&&!Kt,progressStart:(lt=!1,Qt)=>(de.forEach(On=>{On.progressStart(lt,Qt)}),Ao(),ze=lt,Xe||Js(),Tn(!1,!0,Qt),At),progressStep:lt=>(de.forEach(Qt=>{Qt.progressStep(lt)}),kr(lt),At),progressEnd:(lt,Qt,On)=>(ze=!1,de.forEach(cn=>{cn.progressEnd(lt,Qt,On)}),void 0!==On&&(_t=On),Ot=!1,Pt=!0,0===lt?(nt="reverse"===jt()?"normal":"reverse","reverse"===nt&&(Pt=!1),En?(Tn(),kr(1-Qt)):(Ye=(1-Qt)*pn()*-1,Tn(!1,!1))):1===lt&&(En?(Tn(),kr(Qt)):(Ye=Qt*pn()*-1,Tn(!1,!1))),void 0!==lt&&!Qe&&_i(),At)}}},464:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{E:()=>qe,a:()=>x,s:()=>De});const x=ge=>{try{if(ge instanceof re)return ge.value;if(!M()||"string"!=typeof ge||""===ge)return ge;if(ge.includes("onload="))return"";const ke=document.createDocumentFragment(),Re=document.createElement("div");ke.appendChild(Re),Re.innerHTML=ge,He.forEach(Xe=>{const Qe=ke.querySelectorAll(Xe);for(let vt=Qe.length-1;vt>=0;vt--){const We=Qe[vt];We.parentNode?We.parentNode.removeChild(We):ke.removeChild(We);const at=u(We);for(let pe=0;pe<at.length;pe++)Q(at[pe])}});const Te=u(ke);for(let Xe=0;Xe<Te.length;Xe++)Q(Te[Xe]);const Ke=document.createElement("div");Ke.appendChild(ke);const it=Ke.querySelector("div");return null!==it?it.innerHTML:Ke.innerHTML}catch(ke){return console.error(ke),""}},Q=ge=>{if(ge.nodeType&&1!==ge.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ge.attributes instanceof NamedNodeMap))return void ge.remove();for(let Re=ge.attributes.length-1;Re>=0;Re--){const Te=ge.attributes.item(Re),Ke=Te.name;if(!v.includes(Ke.toLowerCase())){ge.removeAttribute(Ke);continue}const it=Te.value,Xe=ge[Ke];(null!=it&&it.toLowerCase().includes("javascript:")||null!=Xe&&Xe.toLowerCase().includes("javascript:"))&&ge.removeAttribute(Ke)}const ke=u(ge);for(let Re=0;Re<ke.length;Re++)Q(ke[Re])},u=ge=>null!=ge.children?ge.children:ge.childNodes,M=()=>{var ge;const ke=window,Re=null===(ge=null==ke?void 0:ke.Ionic)||void 0===ge?void 0:ge.config;return!Re||(Re.get?Re.get("sanitizerEnabled",!0):!0===Re.sanitizerEnabled||void 0===Re.sanitizerEnabled)},v=["class","id","href","src","name","slot"],He=["script","style","iframe","meta","link","object","embed"];class re{constructor(ke){this.value=ke}}const De=ge=>{const ke=window,Re=ke.Ionic;if(!Re||!Re.config||"Object"===Re.config.constructor.name)return ke.Ionic=ke.Ionic||{},ke.Ionic.config=Object.assign(Object.assign({},ke.Ionic.config),ge),ke.Ionic.config},qe=!1},8621:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{C:()=>v,a:()=>u,d:()=>M});var x=ee(467),Q=ee(4920);const u=function(){var He=(0,x.A)(function*(re,De,Ge,qe,ge,ke){var Re;if(re)return re.attachViewToDom(De,Ge,ge,qe);if(!(ke||"string"==typeof Ge||Ge instanceof HTMLElement))throw new Error("framework delegate is missing");const Te="string"==typeof Ge?null===(Re=De.ownerDocument)||void 0===Re?void 0:Re.createElement(Ge):Ge;return qe&&qe.forEach(Ke=>Te.classList.add(Ke)),ge&&Object.assign(Te,ge),De.appendChild(Te),yield new Promise(Ke=>(0,Q.c)(Te,Ke)),Te});return function(De,Ge,qe,ge,ke,Re){return He.apply(this,arguments)}}(),M=(He,re)=>{if(re){if(He)return He.removeViewFromDom(re.parentElement,re);re.remove()}return Promise.resolve()},v=()=>{let He,re;return{attachViewToDom:function(){var qe=(0,x.A)(function*(ge,ke,Re={},Te=[]){var Ke,it;let Xe;if(He=ge,ke){const vt="string"==typeof ke?null===(Ke=He.ownerDocument)||void 0===Ke?void 0:Ke.createElement(ke):ke;Te.forEach(We=>vt.classList.add(We)),Object.assign(vt,Re),He.appendChild(vt),Xe=vt,yield new Promise(We=>(0,Q.c)(vt,We))}else if(He.children.length>0&&("ION-MODAL"===He.tagName||"ION-POPOVER"===He.tagName)&&!(Xe=He.children[0]).classList.contains("ion-delegate-host")){const We=null===(it=He.ownerDocument)||void 0===it?void 0:it.createElement("div");We.classList.add("ion-delegate-host"),Te.forEach(at=>We.classList.add(at)),We.append(...He.children),He.appendChild(We),Xe=We}const Qe=document.querySelector("ion-app")||document.body;return re=document.createComment("ionic teleport"),He.parentNode.insertBefore(re,He),Qe.appendChild(He),null!=Xe?Xe:He});return function(ke,Re){return qe.apply(this,arguments)}}(),removeViewFromDom:()=>(He&&re&&(re.parentNode.insertBefore(He,re),re.remove()),Promise.resolve())}}},1970:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{B:()=>M,G:()=>v});class Q{constructor(re,De,Ge,qe,ge){this.id=De,this.name=Ge,this.disableScroll=ge,this.priority=1e6*qe+De,this.ctrl=re}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const re=this.ctrl.capture(this.name,this.id,this.priority);return re&&this.disableScroll&&this.ctrl.disableScroll(this.id),re}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class u{constructor(re,De,Ge,qe){this.id=De,this.disable=Ge,this.disableScroll=qe,this.ctrl=re}block(){if(this.ctrl){if(this.disable)for(const re of this.disable)this.ctrl.disableGesture(re,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const re of this.disable)this.ctrl.enableGesture(re,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const M="backdrop-no-scroll",v=new class x{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(re){var De;return new Q(this,this.newID(),re.name,null!==(De=re.priority)&&void 0!==De?De:0,!!re.disableScroll)}createBlocker(re={}){return new u(this,this.newID(),re.disable,!!re.disableScroll)}start(re,De,Ge){return this.canStart(re)?(this.requestedStart.set(De,Ge),!0):(this.requestedStart.delete(De),!1)}capture(re,De,Ge){if(!this.start(re,De,Ge))return!1;const qe=this.requestedStart;let ge=-1e4;if(qe.forEach(ke=>{ge=Math.max(ge,ke)}),ge===Ge){this.capturedId=De,qe.clear();const ke=new CustomEvent("ionGestureCaptured",{detail:{gestureName:re}});return document.dispatchEvent(ke),!0}return qe.delete(De),!1}release(re){this.requestedStart.delete(re),this.capturedId===re&&(this.capturedId=void 0)}disableGesture(re,De){let Ge=this.disabledGestures.get(re);void 0===Ge&&(Ge=new Set,this.disabledGestures.set(re,Ge)),Ge.add(De)}enableGesture(re,De){const Ge=this.disabledGestures.get(re);void 0!==Ge&&Ge.delete(De)}disableScroll(re){this.disabledScroll.add(re),1===this.disabledScroll.size&&document.body.classList.add(M)}enableScroll(re){this.disabledScroll.delete(re),0===this.disabledScroll.size&&document.body.classList.remove(M)}canStart(re){return!(void 0!==this.capturedId||this.isDisabled(re))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(re){const De=this.disabledGestures.get(re);return!!(De&&De.size>0)}newID(){return this.gestureId++,this.gestureId}}},6411:(hn,Ct,ee)=>{"use strict";ee.r(Ct),ee.d(Ct,{MENU_BACK_BUTTON_PRIORITY:()=>Ge,OVERLAY_BACK_BUTTON_PRIORITY:()=>De,blockHardwareBackButton:()=>He,shouldUseCloseWatcher:()=>v,startHardwareBackButton:()=>re});var x=ee(467),Q=ee(8476),u=ee(3664);ee(9672);const v=()=>u.c.get("experimentalCloseWatcher",!1)&&void 0!==Q.w&&"CloseWatcher"in Q.w,He=()=>{document.addEventListener("backbutton",()=>{})},re=()=>{const qe=document;let ge=!1;const ke=()=>{if(ge)return;let Re=0,Te=[];const Ke=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Qe,vt){Te.push({priority:Qe,handler:vt,id:Re++})}}});qe.dispatchEvent(Ke);const it=function(){var Qe=(0,x.A)(function*(vt){try{if(null!=vt&&vt.handler){const We=vt.handler(Xe);null!=We&&(yield We)}}catch(We){console.error(We)}});return function(We){return Qe.apply(this,arguments)}}(),Xe=()=>{if(Te.length>0){let Qe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Te.forEach(vt=>{vt.priority>=Qe.priority&&(Qe=vt)}),ge=!0,Te=Te.filter(vt=>vt.id!==Qe.id),it(Qe).then(()=>ge=!1)}};Xe()};if(v()){let Re;const Te=()=>{null==Re||Re.destroy(),Re=new Q.w.CloseWatcher,Re.onclose=()=>{ke(),Te()}};Te()}else qe.addEventListener("backbutton",ke)},De=100,Ge=99},4920:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{a:()=>De,b:()=>Ge,c:()=>u,d:()=>Te,e:()=>vt,f:()=>Re,g:()=>qe,h:()=>v,i:()=>re,j:()=>Ke,k:()=>M,l:()=>ke,m:()=>it,n:()=>Qe,o:()=>We,p:()=>Xe,r:()=>ge,s:()=>at,t:()=>x});const x=(pe,Ne=0)=>new Promise(ze=>{Q(pe,Ne,ze)}),Q=(pe,Ne=0,ze)=>{let tt,nt;const _t={passive:!0},Pt=()=>{tt&&tt()},Ot=nn=>{(void 0===nn||pe===nn.target)&&(Pt(),ze(nn))};return pe&&(pe.addEventListener("webkitTransitionEnd",Ot,_t),pe.addEventListener("transitionend",Ot,_t),nt=setTimeout(Ot,Ne+500),tt=()=>{void 0!==nt&&(clearTimeout(nt),nt=void 0),pe.removeEventListener("webkitTransitionEnd",Ot,_t),pe.removeEventListener("transitionend",Ot,_t)}),Pt},u=(pe,Ne)=>{pe.componentOnReady?pe.componentOnReady().then(ze=>Ne(ze)):ge(()=>Ne(pe))},M=pe=>void 0!==pe.componentOnReady,v=(pe,Ne=[])=>{const ze={};return Ne.forEach(tt=>{pe.hasAttribute(tt)&&(null!==pe.getAttribute(tt)&&(ze[tt]=pe.getAttribute(tt)),pe.removeAttribute(tt))}),ze},He=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],re=(pe,Ne)=>{let ze=He;return Ne&&Ne.length>0&&(ze=ze.filter(tt=>!Ne.includes(tt))),v(pe,ze)},De=(pe,Ne,ze,tt)=>{var nt;if(typeof window<"u"){const _t=window,Ye=null===(nt=null==_t?void 0:_t.Ionic)||void 0===nt?void 0:nt.config;if(Ye){const Pt=Ye.get("_ael");if(Pt)return Pt(pe,Ne,ze,tt);if(Ye._ael)return Ye._ael(pe,Ne,ze,tt)}}return pe.addEventListener(Ne,ze,tt)},Ge=(pe,Ne,ze,tt)=>{var nt;if(typeof window<"u"){const _t=window,Ye=null===(nt=null==_t?void 0:_t.Ionic)||void 0===nt?void 0:nt.config;if(Ye){const Pt=Ye.get("_rel");if(Pt)return Pt(pe,Ne,ze,tt);if(Ye._rel)return Ye._rel(pe,Ne,ze,tt)}}return pe.removeEventListener(Ne,ze,tt)},qe=(pe,Ne=pe)=>pe.shadowRoot||Ne,ge=pe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(pe):"function"==typeof requestAnimationFrame?requestAnimationFrame(pe):setTimeout(pe),ke=pe=>!!pe.shadowRoot&&!!pe.attachShadow,Re=pe=>{if(pe.focus(),pe.classList.contains("ion-focusable")){const Ne=pe.closest("ion-app");Ne&&Ne.setFocus([pe])}},Te=(pe,Ne,ze,tt,nt)=>{if(pe||ke(Ne)){let _t=Ne.querySelector("input.aux-input");_t||(_t=Ne.ownerDocument.createElement("input"),_t.type="hidden",_t.classList.add("aux-input"),Ne.appendChild(_t)),_t.disabled=nt,_t.name=ze,_t.value=tt||""}},Ke=(pe,Ne,ze)=>Math.max(pe,Math.min(Ne,ze)),it=(pe,Ne)=>{if(!pe){const ze="ASSERT: "+Ne;throw console.error(ze),new Error(ze)}},Xe=pe=>{if(pe){const Ne=pe.changedTouches;if(Ne&&Ne.length>0){const ze=Ne[0];return{x:ze.clientX,y:ze.clientY}}if(void 0!==pe.pageX)return{x:pe.pageX,y:pe.pageY}}return{x:0,y:0}},Qe=pe=>{const Ne="rtl"===document.dir;switch(pe){case"start":return Ne;case"end":return!Ne;default:throw new Error(`"${pe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},vt=(pe,Ne)=>{const ze=pe._original||pe;return{_original:pe,emit:We(ze.emit.bind(ze),Ne)}},We=(pe,Ne=0)=>{let ze;return(...tt)=>{clearTimeout(ze),ze=setTimeout(pe,Ne,...tt)}},at=(pe,Ne)=>{if(null!=pe||(pe={}),null!=Ne||(Ne={}),pe===Ne)return!0;const ze=Object.keys(pe);if(ze.length!==Object.keys(Ne).length)return!1;for(const tt of ze)if(!(tt in Ne)||pe[tt]!==Ne[tt])return!1;return!0}},5465:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{m:()=>Re});var x=ee(467),Q=ee(8476),u=ee(6411),M=ee(4929),v=ee(4920),He=ee(3664),re=ee(9986);const De=Te=>(0,re.c)().duration(Te?400:300),Ge=Te=>{let Ke,it;const Xe=Te.width+8,Qe=(0,re.c)(),vt=(0,re.c)();Te.isEndSide?(Ke=Xe+"px",it="0px"):(Ke=-Xe+"px",it="0px"),Qe.addElement(Te.menuInnerEl).fromTo("transform",`translateX(${Ke})`,`translateX(${it})`);const at="ios"===(0,He.b)(Te),pe=at?.2:.25;return vt.addElement(Te.backdropEl).fromTo("opacity",.01,pe),De(at).addAnimation([Qe,vt])},qe=Te=>{let Ke,it;const Xe=(0,He.b)(Te),Qe=Te.width;Te.isEndSide?(Ke=-Qe+"px",it=Qe+"px"):(Ke=Qe+"px",it=-Qe+"px");const vt=(0,re.c)().addElement(Te.menuInnerEl).fromTo("transform",`translateX(${it})`,"translateX(0px)"),We=(0,re.c)().addElement(Te.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ke})`),at=(0,re.c)().addElement(Te.backdropEl).fromTo("opacity",.01,.32);return De("ios"===Xe).addAnimation([vt,We,at])},ge=Te=>{const Ke=(0,He.b)(Te),it=Te.width*(Te.isEndSide?-1:1)+"px",Xe=(0,re.c)().addElement(Te.contentEl).fromTo("transform","translateX(0px)",`translateX(${it})`);return De("ios"===Ke).addAnimation(Xe)},Re=(()=>{const Te=new Map,Ke=[],it=function(){var J=(0,x.A)(function*(ie){const de=yield Ne(ie,!0);return!!de&&de.open()});return function(de){return J.apply(this,arguments)}}(),Xe=function(){var J=(0,x.A)(function*(ie){const de=yield void 0!==ie?Ne(ie,!0):ze();return void 0!==de&&de.close()});return function(de){return J.apply(this,arguments)}}(),Qe=function(){var J=(0,x.A)(function*(ie){const de=yield Ne(ie,!0);return!!de&&de.toggle()});return function(de){return J.apply(this,arguments)}}(),vt=function(){var J=(0,x.A)(function*(ie,de){const Ue=yield Ne(de);return Ue&&(Ue.disabled=!ie),Ue});return function(de,Ue){return J.apply(this,arguments)}}(),We=function(){var J=(0,x.A)(function*(ie,de){const Ue=yield Ne(de);return Ue&&(Ue.swipeGesture=ie),Ue});return function(de,Ue){return J.apply(this,arguments)}}(),at=function(){var J=(0,x.A)(function*(ie){if(null!=ie){const de=yield Ne(ie);return void 0!==de&&de.isOpen()}return void 0!==(yield ze())});return function(de){return J.apply(this,arguments)}}(),pe=function(){var J=(0,x.A)(function*(ie){const de=yield Ne(ie);return!!de&&!de.disabled});return function(de){return J.apply(this,arguments)}}(),Ne=function(){var J=(0,x.A)(function*(ie,de=!1){if(yield Y(),"start"===ie||"end"===ie){const Le=Ke.filter(xt=>xt.side===ie&&!xt.disabled);if(Le.length>=1)return Le.length>1&&de&&(0,M.p)(`menuController queried for a menu on the "${ie}" side, but ${Le.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Le.map(xt=>xt.el)),Le[0].el;const mt=Ke.filter(xt=>xt.side===ie);if(mt.length>=1)return mt.length>1&&de&&(0,M.p)(`menuController queried for a menu on the "${ie}" side, but ${mt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,mt.map(xt=>xt.el)),mt[0].el}else if(null!=ie)return fe(Le=>Le.menuId===ie);return fe(Le=>!Le.disabled)||(Ke.length>0?Ke[0].el:void 0)});return function(de){return J.apply(this,arguments)}}(),ze=function(){var J=(0,x.A)(function*(){return yield Y(),At()});return function(){return J.apply(this,arguments)}}(),tt=function(){var J=(0,x.A)(function*(){return yield Y(),Kt()});return function(){return J.apply(this,arguments)}}(),nt=function(){var J=(0,x.A)(function*(){return yield Y(),ct()});return function(){return J.apply(this,arguments)}}(),_t=(J,ie)=>{Te.set(J,ie)},Ot=function(){var J=(0,x.A)(function*(ie,de,Ue){if(ct())return!1;if(de){const Le=yield ze();Le&&ie.el!==Le&&(yield Le.setOpen(!1,!1))}return ie._setOpen(de,Ue)});return function(de,Ue,Le){return J.apply(this,arguments)}}(),At=()=>fe(J=>J._isOpen),Kt=()=>Ke.map(J=>J.el),ct=()=>Ke.some(J=>J.isAnimating),fe=J=>{const ie=Ke.find(J);if(void 0!==ie)return ie.el},Y=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(J=>new Promise(ie=>(0,v.c)(J,ie))));return _t("reveal",ge),_t("push",qe),_t("overlay",Ge),null==Q.d||Q.d.addEventListener("ionBackButton",J=>{const ie=At();ie&&J.detail.register(u.MENU_BACK_BUTTON_PRIORITY,()=>ie.close())}),{registerAnimation:_t,get:Ne,getMenus:tt,getOpen:ze,isEnabled:pe,swipeGesture:We,isAnimating:nt,isOpen:at,enable:vt,toggle:Qe,close:Xe,open:it,_getOpenSync:At,_createAnimation:(J,ie)=>{const de=Te.get(J);if(!de)throw new Error("animation not registered");return de(ie)},_register:J=>{Ke.indexOf(J)<0&&Ke.push(J)},_unregister:J=>{const ie=Ke.indexOf(J);ie>-1&&Ke.splice(ie,1)},_setOpen:Ot}})()},8607:(hn,Ct,ee)=>{"use strict";ee.r(Ct),ee.d(Ct,{GESTURE_CONTROLLER:()=>x.G,createGesture:()=>Ge});var x=ee(1970);const Q=(Re,Te,Ke,it)=>{const Xe=u(Re)?{capture:!!it.capture,passive:!!it.passive}:!!it.capture;let Qe,vt;return Re.__zone_symbol__addEventListener?(Qe="__zone_symbol__addEventListener",vt="__zone_symbol__removeEventListener"):(Qe="addEventListener",vt="removeEventListener"),Re[Qe](Te,Ke,Xe),()=>{Re[vt](Te,Ke,Xe)}},u=Re=>{if(void 0===M)try{const Te=Object.defineProperty({},"passive",{get:()=>{M=!0}});Re.addEventListener("optsTest",()=>{},Te)}catch{M=!1}return!!M};let M;const re=Re=>Re instanceof Document?Re:Re.ownerDocument,Ge=Re=>{let Te=!1,Ke=!1,it=!0,Xe=!1;const Qe=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Re),vt=Qe.canStart,We=Qe.onWillStart,at=Qe.onStart,pe=Qe.onEnd,Ne=Qe.notCaptured,ze=Qe.onMove,tt=Qe.threshold,nt=Qe.passive,_t=Qe.blurOnStart,Ye={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Pt=((Re,Te,Ke)=>{const it=Ke*(Math.PI/180),Xe="x"===Re,Qe=Math.cos(it),vt=Te*Te;let We=0,at=0,pe=!1,Ne=0;return{start(ze,tt){We=ze,at=tt,Ne=0,pe=!0},detect(ze,tt){if(!pe)return!1;const nt=ze-We,_t=tt-at,Ye=nt*nt+_t*_t;if(Ye<vt)return!1;const Pt=Math.sqrt(Ye),Ot=(Xe?nt:_t)/Pt;return Ne=Ot>Qe?1:Ot<-Qe?-1:0,pe=!1,!0},isGesture:()=>0!==Ne,getDirection:()=>Ne}})(Qe.direction,Qe.threshold,Qe.maxAngle),Ot=x.G.createGesture({name:Re.gestureName,priority:Re.gesturePriority,disableScroll:Re.disableScroll}),Kt=()=>{Te&&(Xe=!1,ze&&ze(Ye))},ct=()=>!!Ot.capture()&&(Te=!0,it=!1,Ye.startX=Ye.currentX,Ye.startY=Ye.currentY,Ye.startTime=Ye.currentTime,We?We(Ye).then(Y):Y(),!0),Y=()=>{_t&&(()=>{if(typeof document<"u"){const Le=document.activeElement;null!=Le&&Le.blur&&Le.blur()}})(),at&&at(Ye),it=!0},J=()=>{Te=!1,Ke=!1,Xe=!1,it=!0,Ot.release()},ie=Le=>{const mt=Te,xt=it;if(J(),xt){if(qe(Ye,Le),mt)return void(pe&&pe(Ye));Ne&&Ne(Ye)}},de=((Re,Te,Ke,it,Xe)=>{let Qe,vt,We,at,pe,Ne,ze,tt=0;const nt=fe=>{tt=Date.now()+2e3,Te(fe)&&(!vt&&Ke&&(vt=Q(Re,"touchmove",Ke,Xe)),We||(We=Q(fe.target,"touchend",Ye,Xe)),at||(at=Q(fe.target,"touchcancel",Ye,Xe)))},_t=fe=>{tt>Date.now()||Te(fe)&&(!Ne&&Ke&&(Ne=Q(re(Re),"mousemove",Ke,Xe)),ze||(ze=Q(re(Re),"mouseup",Pt,Xe)))},Ye=fe=>{Ot(),it&&it(fe)},Pt=fe=>{nn(),it&&it(fe)},Ot=()=>{vt&&vt(),We&&We(),at&&at(),vt=We=at=void 0},nn=()=>{Ne&&Ne(),ze&&ze(),Ne=ze=void 0},At=()=>{Ot(),nn()},Kt=(fe=!0)=>{fe?(Qe||(Qe=Q(Re,"touchstart",nt,Xe)),pe||(pe=Q(Re,"mousedown",_t,Xe))):(Qe&&Qe(),pe&&pe(),Qe=pe=void 0,At())};return{enable:Kt,stop:At,destroy:()=>{Kt(!1),it=Ke=Te=void 0}}})(Qe.el,Le=>{const mt=ke(Le);return!(Ke||!it||(ge(Le,Ye),Ye.startX=Ye.currentX,Ye.startY=Ye.currentY,Ye.startTime=Ye.currentTime=mt,Ye.velocityX=Ye.velocityY=Ye.deltaX=Ye.deltaY=0,Ye.event=Le,vt&&!1===vt(Ye))||(Ot.release(),!Ot.start()))&&(Ke=!0,0===tt?ct():(Pt.start(Ye.startX,Ye.startY),!0))},Le=>{Te?!Xe&&it&&(Xe=!0,qe(Ye,Le),requestAnimationFrame(Kt)):(qe(Ye,Le),Pt.detect(Ye.currentX,Ye.currentY)&&(!Pt.isGesture()||!ct())&&Ue())},ie,{capture:!1,passive:nt}),Ue=()=>{J(),de.stop(),Ne&&Ne(Ye)};return{enable(Le=!0){Le||(Te&&ie(void 0),J()),de.enable(Le)},destroy(){Ot.destroy(),de.destroy()}}},qe=(Re,Te)=>{if(!Te)return;const Ke=Re.currentX,it=Re.currentY,Xe=Re.currentTime;ge(Te,Re);const Qe=Re.currentX,vt=Re.currentY,at=(Re.currentTime=ke(Te))-Xe;if(at>0&&at<100){const Ne=(vt-it)/at;Re.velocityX=(Qe-Ke)/at*.7+.3*Re.velocityX,Re.velocityY=.7*Ne+.3*Re.velocityY}Re.deltaX=Qe-Re.startX,Re.deltaY=vt-Re.startY,Re.event=Te},ge=(Re,Te)=>{let Ke=0,it=0;if(Re){const Xe=Re.changedTouches;if(Xe&&Xe.length>0){const Qe=Xe[0];Ke=Qe.clientX,it=Qe.clientY}else void 0!==Re.pageX&&(Ke=Re.pageX,it=Re.pageY)}Te.currentX=Ke,Te.currentY=it},ke=Re=>Re.timeStamp||Date.now()},9672:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{B:()=>He,a:()=>Sa,b:()=>so,c:()=>xt,d:()=>En,e:()=>bn,f:()=>ct,g:()=>Sn,h:()=>At,i:()=>mn,j:()=>Tn,k:()=>re,r:()=>yn,w:()=>rs});var x=ee(467);var M=Object.defineProperty,He={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},re=U=>{const Z=new URL(U,gt.$resourcesUrl$);return Z.origin!==Fn.location.origin?Z.href:Z.pathname},De={},ke=U=>"object"==(U=typeof U)||"function"===U;function Re(U){var Z,ae,he;return null!=(he=null==(ae=null==(Z=U.head)?void 0:Z.querySelector('meta[name="csp-nonce"]'))?void 0:ae.getAttribute("content"))?he:void 0}((U,Z)=>{for(var ae in Z)M(U,ae,{get:Z[ae],enumerable:!0})})({},{err:()=>it,map:()=>Xe,ok:()=>Ke,unwrap:()=>Qe,unwrapErr:()=>vt});var Ke=U=>({isOk:!0,isErr:!1,value:U}),it=U=>({isOk:!1,isErr:!0,value:U});function Xe(U,Z){if(U.isOk){const ae=Z(U.value);return ae instanceof Promise?ae.then(he=>Ke(he)):Ke(ae)}if(U.isErr)return it(U.value);throw"should never get here"}var Qe=U=>{if(U.isOk)return U.value;throw U.value},vt=U=>{if(U.isErr)return U.value;throw U.value},nt="s-id",_t="sty-id",Ot="slot-fb{display:contents}slot-fb[hidden]{display:none}",nn="http://www.w3.org/1999/xlink",At=(U,Z,...ae)=>{let he=null,we=null,Ie=null,ut=!1,Tt=!1;const It=[],Rt=Yt=>{for(let qt=0;qt<Yt.length;qt++)he=Yt[qt],Array.isArray(he)?Rt(he):null!=he&&"boolean"!=typeof he&&((ut="function"!=typeof U&&!ke(he))&&(he=String(he)),ut&&Tt?It[It.length-1].$text$+=he:It.push(ut?Kt(null,he):he),Tt=ut)};if(Rt(ae),Z){Z.key&&(we=Z.key),Z.name&&(Ie=Z.name);{const Yt=Z.className||Z.class;Yt&&(Z.class="object"!=typeof Yt?Yt:Object.keys(Yt).filter(qt=>Yt[qt]).join(" "))}}if("function"==typeof U)return U(null===Z?{}:Z,It,Y);const $t=Kt(U,null);return $t.$attrs$=Z,It.length>0&&($t.$children$=It),$t.$key$=we,$t.$name$=Ie,$t},Kt=(U,Z)=>({$flags$:0,$tag$:U,$text$:Z,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),ct={},Y={forEach:(U,Z)=>U.map(J).forEach(Z),map:(U,Z)=>U.map(J).map(Z).map(ie)},J=U=>({vattrs:U.$attrs$,vchildren:U.$children$,vkey:U.$key$,vname:U.$name$,vtag:U.$tag$,vtext:U.$text$}),ie=U=>{if("function"==typeof U.vtag){const ae={...U.vattrs};return U.vkey&&(ae.key=U.vkey),U.vname&&(ae.name=U.vname),At(U.vtag,ae,...U.vchildren||[])}const Z=Kt(U.vtag,U.vtext);return Z.$attrs$=U.vattrs,Z.$children$=U.vchildren,Z.$key$=U.vkey,Z.$name$=U.vname,Z},Ue=(U,Z,ae,he,we,Ie,ut)=>{let Tt,It,Rt,$t;if(1===Ie.nodeType){for(Tt=Ie.getAttribute("c-id"),Tt&&(It=Tt.split("."),(It[0]===ut||"0"===It[0])&&(Rt={$flags$:0,$hostId$:It[0],$nodeId$:It[1],$depth$:It[2],$index$:It[3],$tag$:Ie.tagName.toLowerCase(),$elm$:Ie,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Z.push(Rt),Ie.removeAttribute("c-id"),U.$children$||(U.$children$=[]),U.$children$[Rt.$index$]=Rt,U=Rt,he&&"0"===Rt.$depth$&&(he[Rt.$index$]=Rt.$elm$))),$t=Ie.childNodes.length-1;$t>=0;$t--)Ue(U,Z,ae,he,we,Ie.childNodes[$t],ut);if(Ie.shadowRoot)for($t=Ie.shadowRoot.childNodes.length-1;$t>=0;$t--)Ue(U,Z,ae,he,we,Ie.shadowRoot.childNodes[$t],ut)}else if(8===Ie.nodeType)It=Ie.nodeValue.split("."),(It[1]===ut||"0"===It[1])&&(Tt=It[0],Rt={$flags$:0,$hostId$:It[1],$nodeId$:It[2],$depth$:It[3],$index$:It[4],$elm$:Ie,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Tt?(Rt.$elm$=Ie.nextSibling,Rt.$elm$&&3===Rt.$elm$.nodeType&&(Rt.$text$=Rt.$elm$.textContent,Z.push(Rt),Ie.remove(),U.$children$||(U.$children$=[]),U.$children$[Rt.$index$]=Rt,he&&"0"===Rt.$depth$&&(he[Rt.$index$]=Rt.$elm$))):Rt.$hostId$===ut&&("s"===Tt?(Rt.$tag$="slot",Ie["s-sn"]=It[5]?Rt.$name$=It[5]:"",Ie["s-sr"]=!0,he&&(Rt.$elm$=jr.createElement(Rt.$tag$),Rt.$name$&&Rt.$elm$.setAttribute("name",Rt.$name$),Ie.parentNode.insertBefore(Rt.$elm$,Ie),Ie.remove(),"0"===Rt.$depth$&&(he[Rt.$index$]=Rt.$elm$)),ae.push(Rt),U.$children$||(U.$children$=[]),U.$children$[Rt.$index$]=Rt):"r"===Tt&&(he?Ie.remove():(we["s-cr"]=Ie,Ie["s-cn"]=!0))));else if(U&&"style"===U.$tag$){const Yt=Kt(null,Ie.textContent);Yt.$elm$=Ie,Yt.$index$="0",U.$children$=[Yt]}},Le=(U,Z)=>{if(1===U.nodeType){let ae=0;for(;ae<U.childNodes.length;ae++)Le(U.childNodes[ae],Z);if(U.shadowRoot)for(ae=0;ae<U.shadowRoot.childNodes.length;ae++)Le(U.shadowRoot.childNodes[ae],Z)}else if(8===U.nodeType){const ae=U.nodeValue.split(".");"o"===ae[0]&&(Z.set(ae[1]+"."+ae[2],U),U.nodeValue="",U["s-en"]=ae[3])}},xt=U=>Ss.push(U),Sn=U=>Er(U).$modeName$,mn=U=>Er(U).$hostElement$,En=(U,Z,ae)=>{const he=mn(U);return{emit:we=>xn(he,Z,{bubbles:!!(4&ae),composed:!!(2&ae),cancelable:!!(1&ae),detail:we})}},xn=(U,Z,ae)=>{const he=gt.ce(Z,ae);return U.dispatchEvent(he),he},er=new WeakMap,In=(U,Z,ae)=>{let he=na.get(U);ds&&ae?(he=he||new CSSStyleSheet,"string"==typeof he?he=Z:he.replaceSync(Z)):he=Z,na.set(U,he)},St=(U,Z,ae)=>{var he;const we=Ht(Z,ae),Ie=na.get(we);if(U=11===U.nodeType?U:jr,Ie)if("string"==typeof Ie){let Tt,ut=er.get(U=U.head||U);if(ut||er.set(U,ut=new Set),!ut.has(we)){if(U.host&&(Tt=U.querySelector(`[${_t}="${we}"]`)))Tt.innerHTML=Ie;else{Tt=jr.createElement("style"),Tt.innerHTML=Ie;const It=null!=(he=gt.$nonce$)?he:Re(jr);null!=It&&Tt.setAttribute("nonce",It),U.insertBefore(Tt,U.querySelector("link"))}4&Z.$flags$&&(Tt.innerHTML+=Ot),ut&&ut.add(we)}}else U.adoptedStyleSheets.includes(Ie)||(U.adoptedStyleSheets=[...U.adoptedStyleSheets,Ie]);return we},Ht=(U,Z)=>"sc-"+(Z&&32&U.$flags$?U.$tagName$+"-"+Z:U.$tagName$),Pe=U=>U.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ze=(U,Z,ae,he,we,Ie)=>{if(ae!==he){let ut=ts(U,Z),Tt=Z.toLowerCase();if("class"===Z){const It=U.classList,Rt=Gt(ae),$t=Gt(he);It.remove(...Rt.filter(Yt=>Yt&&!$t.includes(Yt))),It.add(...$t.filter(Yt=>Yt&&!Rt.includes(Yt)))}else if("style"===Z){for(const It in ae)(!he||null==he[It])&&(It.includes("-")?U.style.removeProperty(It):U.style[It]="");for(const It in he)(!ae||he[It]!==ae[It])&&(It.includes("-")?U.style.setProperty(It,he[It]):U.style[It]=he[It])}else if("key"!==Z)if("ref"===Z)he&&he(U);else if(ut||"o"!==Z[0]||"n"!==Z[1]){const It=ke(he);if((ut||It&&null!==he)&&!we)try{if(U.tagName.includes("-"))U[Z]=he;else{const $t=null==he?"":he;"list"===Z?ut=!1:(null==ae||U[Z]!=$t)&&(U[Z]=$t)}}catch{}let Rt=!1;Tt!==(Tt=Tt.replace(/^xlink\:?/,""))&&(Z=Tt,Rt=!0),null==he||!1===he?(!1!==he||""===U.getAttribute(Z))&&(Rt?U.removeAttributeNS(nn,Z):U.removeAttribute(Z)):(!ut||4&Ie||we)&&!It&&(he=!0===he?"":he,Rt?U.setAttributeNS(nn,Z,he):U.setAttribute(Z,he))}else if(Z="-"===Z[2]?Z.slice(3):ts(Fn,Tt)?Tt.slice(2):Tt[2]+Z.slice(3),ae||he){const It=Z.endsWith(Bn);Z=Z.replace(ir,""),ae&&gt.rel(U,Z,ae,It),he&&gt.ael(U,Z,he,It)}}},et=/\s/,Gt=U=>U?U.split(et):[],Bn="Capture",ir=new RegExp(Bn+"$"),zn=(U,Z,ae)=>{const he=11===Z.$elm$.nodeType&&Z.$elm$.host?Z.$elm$.host:Z.$elm$,we=U&&U.$attrs$||De,Ie=Z.$attrs$||De;for(const ut of rn(Object.keys(we)))ut in Ie||Ze(he,ut,we[ut],void 0,ae,Z.$flags$);for(const ut of rn(Object.keys(Ie)))Ze(he,ut,we[ut],Ie[ut],ae,Z.$flags$)};function rn(U){return U.includes("ref")?[...U.filter(Z=>"ref"!==Z),"ref"]:U}var sn,Ln,pr,cr=!1,qr=!1,Fr=!1,ti=!1,Rn=(U,Z,ae,he)=>{var we;const Ie=Z.$children$[ae];let Tt,It,Rt,ut=0;if(cr||(Fr=!0,"slot"===Ie.$tag$&&(sn&&he.classList.add(sn+"-s"),Ie.$flags$|=Ie.$children$?2:1)),null!==Ie.$text$)Tt=Ie.$elm$=jr.createTextNode(Ie.$text$);else if(1&Ie.$flags$)Tt=Ie.$elm$=jr.createTextNode("");else{if(ti||(ti="svg"===Ie.$tag$),Tt=Ie.$elm$=jr.createElementNS(ti?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Ie.$flags$?"slot-fb":Ie.$tag$),ti&&"foreignObject"===Ie.$tag$&&(ti=!1),zn(null,Ie,ti),(U=>null!=U)(sn)&&Tt["s-si"]!==sn&&Tt.classList.add(Tt["s-si"]=sn),Ie.$children$)for(ut=0;ut<Ie.$children$.length;++ut)It=Rn(U,Ie,ut,Tt),It&&Tt.appendChild(It);"svg"===Ie.$tag$?ti=!1:"foreignObject"===Tt.tagName&&(ti=!0)}return Tt["s-hn"]=pr,3&Ie.$flags$&&(Tt["s-sr"]=!0,Tt["s-cr"]=Ln,Tt["s-sn"]=Ie.$name$||"",Tt["s-rf"]=null==(we=Ie.$attrs$)?void 0:we.ref,Rt=U&&U.$children$&&U.$children$[ae],Rt&&Rt.$tag$===Ie.$tag$&&U.$elm$&&Wi(U.$elm$)),Tt},Wi=U=>{gt.$flags$|=1;const Z=U.closest(pr.toLowerCase());if(null!=Z){const ae=Array.from(Z.childNodes).find(we=>we["s-cr"]),he=Array.from(U.childNodes);for(const we of ae?he.reverse():he)null!=we["s-sh"]&&(Dt(Z,we,null!=ae?ae:null),we["s-sh"]=void 0,Fr=!0)}gt.$flags$&=-2},jn=(U,Z)=>{gt.$flags$|=1;const ae=Array.from(U.childNodes);if(U["s-sr"]){let he=U;for(;he=he.nextSibling;)he&&he["s-sn"]===U["s-sn"]&&he["s-sh"]===pr&&ae.push(he)}for(let he=ae.length-1;he>=0;he--){const we=ae[he];we["s-hn"]!==pr&&we["s-ol"]&&(Dt(qi(we),we,Vo(we)),we["s-ol"].remove(),we["s-ol"]=void 0,we["s-sh"]=void 0,Fr=!0),Z&&jn(we,Z)}gt.$flags$&=-2},jt=(U,Z,ae,he,we,Ie)=>{let Tt,ut=U["s-cr"]&&U["s-cr"].parentNode||U;for(ut.shadowRoot&&ut.tagName===pr&&(ut=ut.shadowRoot);we<=Ie;++we)he[we]&&(Tt=Rn(null,ae,we,U),Tt&&(he[we].$elm$=Tt,Dt(ut,Tt,Vo(Z))))},gr=(U,Z,ae)=>{for(let he=Z;he<=ae;++he){const we=U[he];if(we){const Ie=we.$elm$;rt(we),Ie&&(qr=!0,Ie["s-ol"]?Ie["s-ol"].remove():jn(Ie,!0),Ie.remove())}}},tr=(U,Z,ae=!1)=>U.$tag$===Z.$tag$&&("slot"===U.$tag$?U.$name$===Z.$name$:!!ae||U.$key$===Z.$key$),Vo=U=>U&&U["s-ol"]||U,qi=U=>(U["s-ol"]?U["s-ol"]:U).parentNode,ui=(U,Z,ae=!1)=>{const he=Z.$elm$=U.$elm$,we=U.$children$,Ie=Z.$children$,ut=Z.$tag$,Tt=Z.$text$;let It;null===Tt?(ti="svg"===ut||"foreignObject"!==ut&&ti,"slot"!==ut||cr?zn(U,Z,ti):U.$name$!==Z.$name$&&(Z.$elm$["s-sn"]=Z.$name$||"",Wi(Z.$elm$.parentElement)),null!==we&&null!==Ie?((U,Z,ae,he,we=!1)=>{let vr,Xn,Ie=0,ut=0,Tt=0,It=0,Rt=Z.length-1,$t=Z[0],Yt=Z[Rt],qt=he.length-1,_n=he[0],nr=he[qt];for(;Ie<=Rt&&ut<=qt;)if(null==$t)$t=Z[++Ie];else if(null==Yt)Yt=Z[--Rt];else if(null==_n)_n=he[++ut];else if(null==nr)nr=he[--qt];else if(tr($t,_n,we))ui($t,_n,we),$t=Z[++Ie],_n=he[++ut];else if(tr(Yt,nr,we))ui(Yt,nr,we),Yt=Z[--Rt],nr=he[--qt];else if(tr($t,nr,we))("slot"===$t.$tag$||"slot"===nr.$tag$)&&jn($t.$elm$.parentNode,!1),ui($t,nr,we),Dt(U,$t.$elm$,Yt.$elm$.nextSibling),$t=Z[++Ie],nr=he[--qt];else if(tr(Yt,_n,we))("slot"===$t.$tag$||"slot"===nr.$tag$)&&jn(Yt.$elm$.parentNode,!1),ui(Yt,_n,we),Dt(U,Yt.$elm$,$t.$elm$),Yt=Z[--Rt],_n=he[++ut];else{for(Tt=-1,It=Ie;It<=Rt;++It)if(Z[It]&&null!==Z[It].$key$&&Z[It].$key$===_n.$key$){Tt=It;break}Tt>=0?(Xn=Z[Tt],Xn.$tag$!==_n.$tag$?vr=Rn(Z&&Z[ut],ae,Tt,U):(ui(Xn,_n,we),Z[Tt]=void 0,vr=Xn.$elm$),_n=he[++ut]):(vr=Rn(Z&&Z[ut],ae,ut,U),_n=he[++ut]),vr&&Dt(qi($t.$elm$),vr,Vo($t.$elm$))}Ie>Rt?jt(U,null==he[qt+1]?null:he[qt+1].$elm$,ae,he,ut,qt):ut>qt&&gr(Z,Ie,Rt)})(he,we,Z,Ie,ae):null!==Ie?(null!==U.$text$&&(he.textContent=""),jt(he,null,Z,Ie,0,Ie.length-1)):null!==we&&gr(we,0,we.length-1),ti&&"svg"===ut&&(ti=!1)):(It=he["s-cr"])?It.parentNode.textContent=Tt:U.$text$!==Tt&&(he.data=Tt)},Ae=U=>{const Z=U.childNodes;for(const ae of Z)if(1===ae.nodeType){if(ae["s-sr"]){const he=ae["s-sn"];ae.hidden=!1;for(const we of Z)if(we!==ae)if(we["s-hn"]!==ae["s-hn"]||""!==he){if(1===we.nodeType&&(he===we.getAttribute("slot")||he===we["s-sn"])||3===we.nodeType&&he===we["s-sn"]){ae.hidden=!0;break}}else if(1===we.nodeType||3===we.nodeType&&""!==we.textContent.trim()){ae.hidden=!0;break}}Ae(ae)}},ye=[],Je=U=>{let Z,ae,he;for(const we of U.childNodes){if(we["s-sr"]&&(Z=we["s-cr"])&&Z.parentNode){ae=Z.parentNode.childNodes;const Ie=we["s-sn"];for(he=ae.length-1;he>=0;he--)if(Z=ae[he],!(Z["s-cn"]||Z["s-nr"]||Z["s-hn"]===we["s-hn"]||Z["s-sh"]&&Z["s-sh"]===we["s-hn"]))if(be(Z,Ie)){let ut=ye.find(Tt=>Tt.$nodeToRelocate$===Z);qr=!0,Z["s-sn"]=Z["s-sn"]||Ie,ut?(ut.$nodeToRelocate$["s-sh"]=we["s-hn"],ut.$slotRefNode$=we):(Z["s-sh"]=we["s-hn"],ye.push({$slotRefNode$:we,$nodeToRelocate$:Z})),Z["s-sr"]&&ye.map(Tt=>{be(Tt.$nodeToRelocate$,Z["s-sn"])&&(ut=ye.find(It=>It.$nodeToRelocate$===Z),ut&&!Tt.$slotRefNode$&&(Tt.$slotRefNode$=ut.$slotRefNode$))})}else ye.some(ut=>ut.$nodeToRelocate$===Z)||ye.push({$nodeToRelocate$:Z})}1===we.nodeType&&Je(we)}},be=(U,Z)=>1===U.nodeType?null===U.getAttribute("slot")&&""===Z||U.getAttribute("slot")===Z:U["s-sn"]===Z||""===Z,rt=U=>{U.$attrs$&&U.$attrs$.ref&&U.$attrs$.ref(null),U.$children$&&U.$children$.map(rt)},Dt=(U,Z,ae)=>{const he=null==U?void 0:U.insertBefore(Z,ae);return Nn(Z,U),he},Wt=U=>U?U["s-rsc"]||U["s-si"]||U["s-sc"]||Wt(U.parentElement):void 0,Nn=(U,Z)=>{var ae,he,we;if(U&&Z){const Ie=U["s-rsc"],ut=Wt(Z);Ie&&null!=(ae=U.classList)&&ae.contains(Ie)&&U.classList.remove(Ie),ut&&(U["s-rsc"]=ut,(null==(he=U.classList)||!he.contains(ut))&&(null==(we=U.classList)||we.add(ut)))}},X=(U,Z)=>{Z&&!U.$onRenderResolve$&&Z["s-p"]&&Z["s-p"].push(new Promise(ae=>U.$onRenderResolve$=ae))},ar=(U,Z)=>{if(U.$flags$|=16,!(4&U.$flags$))return X(U,U.$ancestorComponent$),rs(()=>Pr(U,Z));U.$flags$|=512},Pr=(U,Z)=>{const he=U.$lazyInstance$;let we;return Z&&(U.$flags$|=256,U.$queuedListeners$&&(U.$queuedListeners$.map(([Ie,ut])=>Vi(he,Ie,ut)),U.$queuedListeners$=void 0),we=Vi(he,"componentWillLoad")),we=ni(we,()=>Vi(he,"componentWillRender")),ni(we,()=>Js(U,he,Z))},ni=(U,Z)=>Aa(U)?U.then(Z):Z(),Aa=U=>U instanceof Promise||U&&U.then&&"function"==typeof U.then,Js=function(){var U=(0,x.A)(function*(Z,ae,he){var we;const Ie=Z.$hostElement$,Tt=Ie["s-rc"];he&&(U=>{const Z=U.$cmpMeta$,ae=U.$hostElement$,he=Z.$flags$,Ie=St(ae.shadowRoot?ae.shadowRoot:ae.getRootNode(),Z,U.$modeName$);10&he&&(ae["s-sc"]=Ie,ae.classList.add(Ie+"-h"),2&he&&ae.classList.add(Ie+"-s"))})(Z);kr(Z,ae,Ie,he),Tt&&(Tt.map(Rt=>Rt()),Ie["s-rc"]=void 0);{const Rt=null!=(we=Ie["s-p"])?we:[],$t=()=>gn(Z);0===Rt.length?$t():(Promise.all(Rt).then($t),Z.$flags$|=4,Rt.length=0)}});return function(ae,he,we){return U.apply(this,arguments)}}(),kr=(U,Z,ae,he)=>{try{Z=Z.render&&Z.render(),U.$flags$&=-17,U.$flags$|=2,((U,Z,ae=!1)=>{var he,we,Ie,ut,Tt;const It=U.$hostElement$,Rt=U.$cmpMeta$,$t=U.$vnode$||Kt(null,null),Yt=(U=>U&&U.$tag$===ct)(Z)?Z:At(null,null,Z);if(pr=It.tagName,Rt.$attrsToReflect$&&(Yt.$attrs$=Yt.$attrs$||{},Rt.$attrsToReflect$.map(([qt,_n])=>Yt.$attrs$[_n]=It[qt])),ae&&Yt.$attrs$)for(const qt of Object.keys(Yt.$attrs$))It.hasAttribute(qt)&&!["key","ref","style","class"].includes(qt)&&(Yt.$attrs$[qt]=It[qt]);if(Yt.$tag$=null,Yt.$flags$|=4,U.$vnode$=Yt,Yt.$elm$=$t.$elm$=It.shadowRoot||It,sn=It["s-sc"],cr=!!(1&Rt.$flags$),Ln=It["s-cr"],qr=!1,ui($t,Yt,ae),gt.$flags$|=1,Fr){Je(Yt.$elm$);for(const qt of ye){const _n=qt.$nodeToRelocate$;if(!_n["s-ol"]){const nr=jr.createTextNode("");nr["s-nr"]=_n,Dt(_n.parentNode,_n["s-ol"]=nr,_n)}}for(const qt of ye){const _n=qt.$nodeToRelocate$,nr=qt.$slotRefNode$;if(nr){const vr=nr.parentNode;let Xn=nr.nextSibling;if(Xn&&1===Xn.nodeType){let Ir=null==(he=_n["s-ol"])?void 0:he.previousSibling;for(;Ir;){let Cr=null!=(we=Ir["s-nr"])?we:null;if(Cr&&Cr["s-sn"]===_n["s-sn"]&&vr===Cr.parentNode){for(Cr=Cr.nextSibling;Cr===_n||null!=Cr&&Cr["s-sr"];)Cr=null==Cr?void 0:Cr.nextSibling;if(!Cr||!Cr["s-nr"]){Xn=Cr;break}}Ir=Ir.previousSibling}}(!Xn&&vr!==_n.parentNode||_n.nextSibling!==Xn)&&_n!==Xn&&(Dt(vr,_n,Xn),1===_n.nodeType&&(_n.hidden=null!=(Ie=_n["s-ih"])&&Ie)),_n&&"function"==typeof nr["s-rf"]&&nr["s-rf"](_n)}else 1===_n.nodeType&&(ae&&(_n["s-ih"]=null!=(ut=_n.hidden)&&ut),_n.hidden=!0)}}if(qr&&Ae(Yt.$elm$),gt.$flags$&=-2,ye.length=0,2&Rt.$flags$)for(const qt of Yt.$elm$.childNodes)qt["s-hn"]!==pr&&!qt["s-sh"]&&(ae&&null==qt["s-ih"]&&(qt["s-ih"]=null!=(Tt=qt.hidden)&&Tt),qt.hidden=!0);Ln=void 0})(U,Z,he)}catch(we){ii(we,U.$hostElement$)}return null},gn=U=>{const ae=U.$hostElement$,we=U.$lazyInstance$,Ie=U.$ancestorComponent$;Vi(we,"componentDidRender"),64&U.$flags$?Vi(we,"componentDidUpdate"):(U.$flags$|=64,Uo(ae),Vi(we,"componentDidLoad"),U.$onReadyResolve$(ae),Ie||Li()),U.$onInstanceResolve$(ae),U.$onRenderResolve$&&(U.$onRenderResolve$(),U.$onRenderResolve$=void 0),512&U.$flags$&&ns(()=>ar(U,!1)),U.$flags$&=-517},Tn=U=>{{const Z=Er(U),ae=Z.$hostElement$.isConnected;return ae&&2==(18&Z.$flags$)&&ar(Z,!1),ae}},Li=U=>{Uo(jr.documentElement),ns(()=>xn(Fn,"appload",{detail:{namespace:"ionic"}}))},Vi=(U,Z,ae)=>{if(U&&U[Z])try{return U[Z](ae)}catch(he){ii(he)}},Uo=U=>U.classList.add("hydrated"),Bo=(U,Z,ae)=>{var he;const we=U.prototype;if(Z.$members$){U.watchers&&(Z.$watchers$=U.watchers);const Ie=Object.entries(Z.$members$);if(Ie.map(([ut,[Tt]])=>{31&Tt||2&ae&&32&Tt?Object.defineProperty(we,ut,{get(){return((U,Z)=>Er(this).$instanceValues$.get(Z))(0,ut)},set(It){((U,Z,ae,he)=>{const we=Er(U);if(!we)throw new Error(`Couldn't find host element for "${he.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const Ie=we.$hostElement$,ut=we.$instanceValues$.get(Z),Tt=we.$flags$,It=we.$lazyInstance$;ae=((U,Z)=>null==U||ke(U)?U:4&Z?"false"!==U&&(""===U||!!U):2&Z?parseFloat(U):1&Z?String(U):U)(ae,he.$members$[Z][0]);const Rt=Number.isNaN(ut)&&Number.isNaN(ae);if((!(8&Tt)||void 0===ut)&&ae!==ut&&!Rt&&(we.$instanceValues$.set(Z,ae),It)){if(he.$watchers$&&128&Tt){const Yt=he.$watchers$[Z];Yt&&Yt.map(qt=>{try{It[qt](ae,ut,Z)}catch(_n){ii(_n,Ie)}})}2==(18&Tt)&&ar(we,!1)}})(this,ut,It,Z)},configurable:!0,enumerable:!0}):1&ae&&64&Tt&&Object.defineProperty(we,ut,{value(...It){var Rt;const $t=Er(this);return null==(Rt=null==$t?void 0:$t.$onInstancePromise$)?void 0:Rt.then(()=>{var Yt;return null==(Yt=$t.$lazyInstance$)?void 0:Yt[ut](...It)})}})}),1&ae){const ut=new Map;we.attributeChangedCallback=function(Tt,It,Rt){gt.jmp(()=>{var $t;const Yt=ut.get(Tt);if(this.hasOwnProperty(Yt))Rt=this[Yt],delete this[Yt];else{if(we.hasOwnProperty(Yt)&&"number"==typeof this[Yt]&&this[Yt]==Rt)return;if(null==Yt){const qt=Er(this),_n=null==qt?void 0:qt.$flags$;if(_n&&!(8&_n)&&128&_n&&Rt!==It){const nr=qt.$lazyInstance$,vr=null==($t=Z.$watchers$)?void 0:$t[Tt];null==vr||vr.forEach(Xn=>{null!=nr[Xn]&&nr[Xn].call(nr,Rt,It,Tt)})}return}}this[Yt]=(null!==Rt||"boolean"!=typeof this[Yt])&&Rt})},U.observedAttributes=Array.from(new Set([...Object.keys(null!=(he=Z.$watchers$)?he:{}),...Ie.filter(([Tt,It])=>15&It[0]).map(([Tt,It])=>{var Rt;const $t=It[1]||Tt;return ut.set($t,Tt),512&It[0]&&(null==(Rt=Z.$attrsToReflect$)||Rt.push([Tt,$t])),$t})]))}}return U},So=function(){var U=(0,x.A)(function*(Z,ae,he,we){let Ie;if(!(32&ae.$flags$)){if(ae.$flags$|=32,he.$lazyBundleId$){if(Ie=Il(he),Ie.then){const $t=()=>{};Ie=yield Ie,$t()}Ie.isProxied||(he.$watchers$=Ie.watchers,Bo(Ie,he,2),Ie.isProxied=!0);const Rt=()=>{};ae.$flags$|=8;try{new Ie(ae)}catch($t){ii($t)}ae.$flags$&=-9,ae.$flags$|=128,Rt(),Ki(ae.$lazyInstance$)}else Ie=Z.constructor,customElements.whenDefined(he.$tagName$).then(()=>ae.$flags$|=128);if(Ie.style){let Rt=Ie.style;"string"!=typeof Rt&&(Rt=Rt[ae.$modeName$=(U=>Ss.map(Z=>Z(U)).find(Z=>!!Z))(Z)]);const $t=Ht(he,ae.$modeName$);if(!na.has($t)){const Yt=()=>{};In($t,Rt,!!(1&he.$flags$)),Yt()}}}const ut=ae.$ancestorComponent$,Tt=()=>ar(ae,!0);ut&&ut["s-rc"]?ut["s-rc"].push(Tt):Tt()});return function(ae,he,we,Ie){return U.apply(this,arguments)}}(),Ki=U=>{Vi(U,"connectedCallback")},Do=U=>{const Z=U["s-cr"]=jr.createComment("");Z["s-cn"]=!0,Dt(U,Z,U.firstChild)},zo=U=>{Vi(U,"disconnectedCallback")},jo=function(){var U=(0,x.A)(function*(Z){if(!(1&gt.$flags$)){const ae=Er(Z);ae.$rmListeners$&&(ae.$rmListeners$.map(he=>he()),ae.$rmListeners$=void 0),null!=ae&&ae.$lazyInstance$?zo(ae.$lazyInstance$):null!=ae&&ae.$onReadyPromise$&&ae.$onReadyPromise$.then(()=>zo(ae.$lazyInstance$))}});return function(ae){return U.apply(this,arguments)}}(),lt=U=>{const Z=U.cloneNode;U.cloneNode=function(ae){const he=this,we=he.shadowRoot&&Cl,Ie=Z.call(he,!!we&&ae);if(!we&&ae){let Tt,It,ut=0;const Rt=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-rsc"];for(;ut<he.childNodes.length;ut++)Tt=he.childNodes[ut]["s-nr"],It=Rt.every($t=>!he.childNodes[ut][$t]),Tt&&(Ie.__appendChild?Ie.__appendChild(Tt.cloneNode(!0)):Ie.appendChild(Tt.cloneNode(!0))),It&&Ie.appendChild(he.childNodes[ut].cloneNode(!0))}return Ie}},Qt=U=>{U.__appendChild=U.appendChild,U.appendChild=function(Z){const ae=Z["s-sn"]=ea(Z),he=Ho(this.childNodes,ae,this.tagName);if(he){const we=Xa(he,ae),Ie=we[we.length-1],ut=Dt(Ie.parentNode,Z,Ie.nextSibling);return Ae(this),ut}return this.__appendChild(Z)}},On=U=>{U.__removeChild=U.removeChild,U.removeChild=function(Z){if(Z&&typeof Z["s-sn"]<"u"){const ae=Ho(this.childNodes,Z["s-sn"],this.tagName);if(ae){const we=Xa(ae,Z["s-sn"]).find(Ie=>Ie===Z);if(we)return we.remove(),void Ae(this)}}return this.__removeChild(Z)}},cn=U=>{const Z=U.prepend;U.prepend=function(...ae){ae.forEach(he=>{"string"==typeof he&&(he=this.ownerDocument.createTextNode(he));const we=he["s-sn"]=ea(he),Ie=Ho(this.childNodes,we,this.tagName);if(Ie){const ut=document.createTextNode("");ut["s-nr"]=he,Ie["s-cr"].parentNode.__appendChild(ut),he["s-ol"]=ut;const It=Xa(Ie,we)[0];return Dt(It.parentNode,he,It.nextSibling)}return 1===he.nodeType&&he.getAttribute("slot")&&(he.hidden=!0),Z.call(this,he)})}},Br=U=>{U.append=function(...Z){Z.forEach(ae=>{"string"==typeof ae&&(ae=this.ownerDocument.createTextNode(ae)),this.appendChild(ae)})}},di=U=>{const Z=U.insertAdjacentHTML;U.insertAdjacentHTML=function(ae,he){if("afterbegin"!==ae&&"beforeend"!==ae)return Z.call(this,ae,he);const we=this.ownerDocument.createElement("_");let Ie;if(we.innerHTML=he,"afterbegin"===ae)for(;Ie=we.firstChild;)this.prepend(Ie);else if("beforeend"===ae)for(;Ie=we.firstChild;)this.append(Ie)}},Xi=U=>{U.insertAdjacentText=function(Z,ae){this.insertAdjacentHTML(Z,ae)}},es=U=>{const Z=U.insertAdjacentElement;U.insertAdjacentElement=function(ae,he){return"afterbegin"!==ae&&"beforeend"!==ae?Z.call(this,ae,he):"afterbegin"===ae?(this.prepend(he),he):("beforeend"===ae&&this.append(he),he)}},Zs=U=>{const Z=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(U,"__textContent",Z),Object.defineProperty(U,"textContent",{get(){return" "+zr(this.childNodes).map(we=>{var Ie,ut;const Tt=[];let It=we.nextSibling;for(;It&&It["s-sn"]===we["s-sn"];)(3===It.nodeType||1===It.nodeType)&&Tt.push(null!=(ut=null==(Ie=It.textContent)?void 0:Ie.trim())?ut:""),It=It.nextSibling;return Tt.filter(Rt=>""!==Rt).join(" ")}).filter(we=>""!==we).join(" ")+" "},set(ae){zr(this.childNodes).forEach(we=>{let Ie=we.nextSibling;for(;Ie&&Ie["s-sn"]===we["s-sn"];){const ut=Ie;Ie=Ie.nextSibling,ut.remove()}if(""===we["s-sn"]){const ut=this.ownerDocument.createTextNode(ae);ut["s-sn"]="",Dt(we.parentElement,ut,we.nextSibling)}else we.remove()})}})},$o=(U,Z)=>{class ae extends Array{item(we){return this[we]}}if(8&Z.$flags$){const he=U.__lookupGetter__("childNodes");Object.defineProperty(U,"children",{get(){return this.childNodes.map(we=>1===we.nodeType)}}),Object.defineProperty(U,"childElementCount",{get:()=>U.children.length}),Object.defineProperty(U,"childNodes",{get(){const we=he.call(this);if(!(1&gt.$flags$)&&2&Er(this).$flags$){const Ie=new ae;for(let ut=0;ut<we.length;ut++){const Tt=we[ut]["s-nr"];Tt&&Ie.push(Tt)}return Ie}return ae.from(we)}})}},zr=U=>{const Z=[];for(const ae of Array.from(U))ae["s-sr"]&&Z.push(ae),Z.push(...zr(ae.childNodes));return Z},ea=U=>U["s-sn"]||1===U.nodeType&&U.getAttribute("slot")||"",Ho=(U,Z,ae)=>{let we,he=0;for(;he<U.length;he++)if(we=U[he],we["s-sr"]&&we["s-sn"]===Z&&we["s-hn"]===ae||(we=Ho(we.childNodes,Z,ae),we))return we;return null},Xa=(U,Z)=>{const ae=[U];for(;(U=U.nextSibling)&&U["s-sn"]===Z;)ae.push(U);return ae},so=(U,Z={})=>{var ae;const we=[],Ie=Z.exclude||[],ut=Fn.customElements,Tt=jr.head,It=Tt.querySelector("meta[charset]"),Rt=jr.createElement("style"),$t=[],Yt=jr.querySelectorAll(`[${_t}]`);let qt,_n=!0,nr=0;for(Object.assign(gt,Z),gt.$resourcesUrl$=new URL(Z.resourcesUrl||"./",jr.baseURI).href,gt.$flags$|=2;nr<Yt.length;nr++)In(Yt[nr].getAttribute(_t),Pe(Yt[nr].innerHTML),!0);let vr=!1;if(U.map(Xn=>{Xn[1].map(Ir=>{var Cr;const Kr={$flags$:Ir[0],$tagName$:Ir[1],$members$:Ir[2],$listeners$:Ir[3]};4&Kr.$flags$&&(vr=!0),Kr.$members$=Ir[2],Kr.$listeners$=Ir[3],Kr.$attrsToReflect$=[],Kr.$watchers$=null!=(Cr=Ir[4])?Cr:{};const Qi=Kr.$tagName$,is=class extends HTMLElement{constructor(Wo){super(Wo),or(Wo=this,Kr),1&Kr.$flags$&&Wo.attachShadow({mode:"open",delegatesFocus:!!(16&Kr.$flags$)})}connectedCallback(){qt&&(clearTimeout(qt),qt=null),_n?$t.push(this):gt.jmp(()=>(U=>{if(!(1&gt.$flags$)){const Z=Er(U),ae=Z.$cmpMeta$,he=()=>{};if(1&Z.$flags$)Di(U,Z,ae.$listeners$),null!=Z&&Z.$lazyInstance$?Ki(Z.$lazyInstance$):null!=Z&&Z.$onReadyPromise$&&Z.$onReadyPromise$.then(()=>Ki(Z.$lazyInstance$));else{let we;if(Z.$flags$|=1,we=U.getAttribute(nt),we){if(1&ae.$flags$){const Ie=St(U.shadowRoot,ae,U.getAttribute("s-mode"));U.classList.remove(Ie+"-h",Ie+"-s")}((U,Z,ae,he)=>{const Ie=U.shadowRoot,ut=[],It=Ie?[]:null,Rt=he.$vnode$=Kt(Z,null);gt.$orgLocNodes$||Le(jr.body,gt.$orgLocNodes$=new Map),U[nt]=ae,U.removeAttribute(nt),Ue(Rt,ut,[],It,U,U,ae),ut.map($t=>{const Yt=$t.$hostId$+"."+$t.$nodeId$,qt=gt.$orgLocNodes$.get(Yt),_n=$t.$elm$;qt&&Cl&&""===qt["s-en"]&&qt.parentNode.insertBefore(_n,qt.nextSibling),Ie||(_n["s-hn"]=Z,qt&&(_n["s-ol"]=qt,_n["s-ol"]["s-nr"]=_n)),gt.$orgLocNodes$.delete(Yt)}),Ie&&It.map($t=>{$t&&Ie.appendChild($t)})})(U,ae.$tagName$,we,Z)}we||12&ae.$flags$&&Do(U);{let Ie=U;for(;Ie=Ie.parentNode||Ie.host;)if(1===Ie.nodeType&&Ie.hasAttribute("s-id")&&Ie["s-p"]||Ie["s-p"]){X(Z,Z.$ancestorComponent$=Ie);break}}ae.$members$&&Object.entries(ae.$members$).map(([Ie,[ut]])=>{if(31&ut&&U.hasOwnProperty(Ie)){const Tt=U[Ie];delete U[Ie],U[Ie]=Tt}}),So(U,Z,ae)}he()}})(this))}disconnectedCallback(){gt.jmp(()=>jo(this))}componentOnReady(){return Er(this).$onReadyPromise$}};2&Kr.$flags$&&((U,Z)=>{lt(U),Qt(U),Br(U),cn(U),es(U),di(U),Xi(U),Zs(U),$o(U,Z),On(U)})(is.prototype,Kr),Kr.$lazyBundleId$=Xn[0],!Ie.includes(Qi)&&!ut.get(Qi)&&(we.push(Qi),ut.define(Qi,Bo(is,Kr,1)))})}),we.length>0&&(vr&&(Rt.textContent+=Ot),Rt.textContent+=we+"{visibility:hidden}.hydrated{visibility:inherit}",Rt.innerHTML.length)){Rt.setAttribute("data-styles","");const Xn=null!=(ae=gt.$nonce$)?ae:Re(jr);null!=Xn&&Rt.setAttribute("nonce",Xn),Tt.insertBefore(Rt,It?It.nextSibling:Tt.firstChild)}_n=!1,$t.length?$t.map(Xn=>Xn.connectedCallback()):gt.jmp(()=>qt=setTimeout(Li,30))},Di=(U,Z,ae,he)=>{ae&&ae.map(([we,Ie,ut])=>{const Tt=Kn(U,we),It=ao(Z,ut),Rt=to(we);gt.ael(Tt,Ie,It,Rt),(Z.$rmListeners$=Z.$rmListeners$||[]).push(()=>gt.rel(Tt,Ie,It,Rt))})},ao=(U,Z)=>ae=>{try{256&U.$flags$?U.$lazyInstance$[Z](ae):(U.$queuedListeners$=U.$queuedListeners$||[]).push([Z,ae])}catch(he){ii(he)}},Kn=(U,Z)=>4&Z?jr:8&Z?Fn:16&Z?jr.body:U,to=U=>bl?{passive:!!(1&U),capture:!!(2&U)}:!!(2&U),ri=new WeakMap,Er=U=>ri.get(U),yn=(U,Z)=>ri.set(Z.$lazyInstance$=U,Z),or=(U,Z)=>{const ae={$flags$:0,$hostElement$:U,$cmpMeta$:Z,$instanceValues$:new Map};return ae.$onInstancePromise$=new Promise(he=>ae.$onInstanceResolve$=he),ae.$onReadyPromise$=new Promise(he=>ae.$onReadyResolve$=he),U["s-p"]=[],U["s-rc"]=[],Di(U,ae,Z.$listeners$),ri.set(U,ae)},ts=(U,Z)=>Z in U,ii=(U,Z)=>(0,console.error)(U,Z),ta=new Map,Il=(U,Z,ae)=>{const he=U.$tagName$.replace(/-/g,"_"),we=U.$lazyBundleId$,Ie=ta.get(we);return Ie?Ie[he]:ee(8996)(`./${we}.entry.js`).then(ut=>(ta.set(we,ut),ut[he]),ii)},na=new Map,Ss=[],Fn=typeof window<"u"?window:{},jr=Fn.document||{head:{}},gt={$flags$:0,$resourcesUrl$:"",jmp:U=>U(),raf:U=>requestAnimationFrame(U),ael:(U,Z,ae,he)=>U.addEventListener(Z,ae,he),rel:(U,Z,ae,he)=>U.removeEventListener(Z,ae,he),ce:(U,Z)=>new CustomEvent(U,Z)},Sa=U=>{Object.assign(gt,U)},Cl=!0,bl=(()=>{let U=!1;try{jr.addEventListener("e",null,Object.defineProperty({},"passive",{get(){U=!0}}))}catch{}return U})(),ds=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),co=!1,ra=[],Da=[],Po=(U,Z)=>ae=>{U.push(ae),co||(co=!0,Z&&4&gt.$flags$?ns(Ui):gt.raf(Ui))},Ds=U=>{for(let Z=0;Z<U.length;Z++)try{U[Z](performance.now())}catch(ae){ii(ae)}U.length=0},Ui=()=>{Ds(ra),Ds(Da),(co=ra.length>0)&&gt.raf(Ui)},ns=U=>Promise.resolve(void 0).then(U),bn=Po(ra,!1),rs=Po(Da,!0)},2725:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{b:()=>De,c:()=>Ge,d:()=>qe,e:()=>At,g:()=>fe,l:()=>Ot,s:()=>Kt,t:()=>Qe,w:()=>nn});var x=ee(467),Q=ee(3664),u=ee(9672),M=ee(4929),v=ee(4920);const De="ionViewWillLeave",Ge="ionViewDidLeave",qe="ionViewWillUnload",ge=Y=>{Y.tabIndex=-1,Y.focus()},ke=Y=>null!==Y.offsetParent,Te="ion-last-focus",Xe_saveViewFocus=ie=>{if(Q.c.get("focusManagerPriority",!1)){const Ue=document.activeElement;null!==Ue&&null!=ie&&ie.contains(Ue)&&Ue.setAttribute(Te,"true")}},Xe_setViewFocus=ie=>{const de=Q.c.get("focusManagerPriority",!1);if(Array.isArray(de)&&!ie.contains(document.activeElement)){const Ue=ie.querySelector(`[${Te}]`);if(Ue&&ke(Ue))return void ge(Ue);for(const Le of de)switch(Le){case"content":const mt=ie.querySelector('main, [role="main"]');if(mt&&ke(mt))return void ge(mt);break;case"heading":const xt=ie.querySelector('h1, [role="heading"][aria-level="1"]');if(xt&&ke(xt))return void ge(xt);break;case"banner":const Sn=ie.querySelector('header, [role="banner"]');if(Sn&&ke(Sn))return void ge(Sn);break;default:(0,M.p)(`Unrecognized focus manager priority value ${Le}`)}ge(ie)}},Qe=Y=>new Promise((J,ie)=>{(0,u.w)(()=>{vt(Y),We(Y).then(de=>{de.animation&&de.animation.destroy(),at(Y),J(de)},de=>{at(Y),ie(de)})})}),vt=Y=>{const J=Y.enteringEl,ie=Y.leavingEl;Xe_saveViewFocus(ie),ct(J,ie,Y.direction),Y.showGoBack?J.classList.add("can-go-back"):J.classList.remove("can-go-back"),Kt(J,!1),J.style.setProperty("pointer-events","none"),ie&&(Kt(ie,!1),ie.style.setProperty("pointer-events","none"))},We=function(){var Y=(0,x.A)(function*(J){const ie=yield pe(J);return ie&&u.B.isBrowser?Ne(ie,J):ze(J)});return function(ie){return Y.apply(this,arguments)}}(),at=Y=>{const J=Y.enteringEl,ie=Y.leavingEl;J.classList.remove("ion-page-invisible"),J.style.removeProperty("pointer-events"),void 0!==ie&&(ie.classList.remove("ion-page-invisible"),ie.style.removeProperty("pointer-events")),Xe_setViewFocus(J)},pe=function(){var Y=(0,x.A)(function*(J){return J.leavingEl&&J.animated&&0!==J.duration?J.animationBuilder?J.animationBuilder:"ios"===J.mode?(yield Promise.resolve().then(ee.bind(ee,8454))).iosTransitionAnimation:(yield Promise.resolve().then(ee.bind(ee,3314))).mdTransitionAnimation:void 0});return function(ie){return Y.apply(this,arguments)}}(),Ne=function(){var Y=(0,x.A)(function*(J,ie){yield tt(ie,!0);const de=J(ie.baseEl,ie);Ye(ie.enteringEl,ie.leavingEl);const Ue=yield _t(de,ie);return ie.progressCallback&&ie.progressCallback(void 0),Ue&&Pt(ie.enteringEl,ie.leavingEl),{hasCompleted:Ue,animation:de}});return function(ie,de){return Y.apply(this,arguments)}}(),ze=function(){var Y=(0,x.A)(function*(J){const ie=J.enteringEl,de=J.leavingEl,Ue=Q.c.get("focusManagerPriority",!1);return yield tt(J,Ue),Ye(ie,de),Pt(ie,de),{hasCompleted:!0}});return function(ie){return Y.apply(this,arguments)}}(),tt=function(){var Y=(0,x.A)(function*(J,ie){(void 0!==J.deepWait?J.deepWait:ie)&&(yield Promise.all([At(J.enteringEl),At(J.leavingEl)])),yield nt(J.viewIsReady,J.enteringEl)});return function(ie,de){return Y.apply(this,arguments)}}(),nt=function(){var Y=(0,x.A)(function*(J,ie){J&&(yield J(ie))});return function(ie,de){return Y.apply(this,arguments)}}(),_t=(Y,J)=>{const ie=J.progressCallback,de=new Promise(Ue=>{Y.onFinish(Le=>Ue(1===Le))});return ie?(Y.progressStart(!0),ie(Y)):Y.play(),de},Ye=(Y,J)=>{Ot(J,De),Ot(Y,"ionViewWillEnter")},Pt=(Y,J)=>{Ot(Y,"ionViewDidEnter"),Ot(J,Ge)},Ot=(Y,J)=>{if(Y){const ie=new CustomEvent(J,{bubbles:!1,cancelable:!1});Y.dispatchEvent(ie)}},nn=()=>new Promise(Y=>(0,v.r)(()=>(0,v.r)(()=>Y()))),At=function(){var Y=(0,x.A)(function*(J){const ie=J;if(ie){if(null!=ie.componentOnReady){if(null!=(yield ie.componentOnReady()))return}else if(null!=ie.__registerHost)return void(yield new Promise(Ue=>(0,v.r)(Ue)));yield Promise.all(Array.from(ie.children).map(At))}});return function(ie){return Y.apply(this,arguments)}}(),Kt=(Y,J)=>{J?(Y.setAttribute("aria-hidden","true"),Y.classList.add("ion-page-hidden")):(Y.hidden=!1,Y.removeAttribute("aria-hidden"),Y.classList.remove("ion-page-hidden"))},ct=(Y,J,ie)=>{void 0!==Y&&(Y.style.zIndex="back"===ie?"99":"101"),void 0!==J&&(J.style.zIndex="100")},fe=Y=>Y.classList.contains("ion-page")?Y:Y.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Y},4929:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{a:()=>Q,b:()=>u,p:()=>x});const x=(M,...v)=>console.warn(`[Ionic Warning]: ${M}`,...v),Q=(M,...v)=>console.error(`[Ionic Error]: ${M}`,...v),u=(M,...v)=>console.error(`<${M.tagName.toLowerCase()}> must be used inside ${v.join(" or ")}.`)},8476:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{d:()=>Q,w:()=>x});const x=typeof window<"u"?window:void 0,Q=typeof document<"u"?document:void 0},3664:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{a:()=>ge,b:()=>Kt,c:()=>u,i:()=>ct});var x=ee(9672);class Q{constructor(){this.m=new Map}reset(Y){this.m=new Map(Object.entries(Y))}get(Y,J){const ie=this.m.get(Y);return void 0!==ie?ie:J}getBoolean(Y,J=!1){const ie=this.m.get(Y);return void 0===ie?J:"string"==typeof ie?"true"===ie:!!ie}getNumber(Y,J){const ie=parseFloat(this.m.get(Y));return isNaN(ie)?void 0!==J?J:NaN:ie}set(Y,J){this.m.set(Y,J)}}const u=new Q,Ge="ionic-persist-config",ge=(fe,Y)=>("string"==typeof fe&&(Y=fe,fe=void 0),(fe=>ke(fe))(fe).includes(Y)),ke=(fe=window)=>{if(typeof fe>"u")return[];fe.Ionic=fe.Ionic||{};let Y=fe.Ionic.platforms;return null==Y&&(Y=fe.Ionic.platforms=Re(fe),Y.forEach(J=>fe.document.documentElement.classList.add(`plt-${J}`))),Y},Re=fe=>{const Y=u.get("platform");return Object.keys(nn).filter(J=>{const ie=null==Y?void 0:Y[J];return"function"==typeof ie?ie(fe):nn[J](fe)})},Ke=fe=>!!(Pt(fe,/iPad/i)||Pt(fe,/Macintosh/i)&&pe(fe)),Qe=fe=>Pt(fe,/android|sink/i),pe=fe=>Ot(fe,"(any-pointer:coarse)"),ze=fe=>tt(fe)||nt(fe),tt=fe=>!!(fe.cordova||fe.phonegap||fe.PhoneGap),nt=fe=>{const Y=fe.Capacitor;return!(null==Y||!Y.isNative)},Pt=(fe,Y)=>Y.test(fe.navigator.userAgent),Ot=(fe,Y)=>{var J;return null===(J=fe.matchMedia)||void 0===J?void 0:J.call(fe,Y).matches},nn={ipad:Ke,iphone:fe=>Pt(fe,/iPhone/i),ios:fe=>Pt(fe,/iPhone|iPod/i)||Ke(fe),android:Qe,phablet:fe=>{const Y=fe.innerWidth,J=fe.innerHeight,ie=Math.min(Y,J),de=Math.max(Y,J);return ie>390&&ie<520&&de>620&&de<800},tablet:fe=>{const Y=fe.innerWidth,J=fe.innerHeight,ie=Math.min(Y,J),de=Math.max(Y,J);return Ke(fe)||(fe=>Qe(fe)&&!Pt(fe,/mobile/i))(fe)||ie>460&&ie<820&&de>780&&de<1400},cordova:tt,capacitor:nt,electron:fe=>Pt(fe,/electron/i),pwa:fe=>{var Y;return!!(null!==(Y=fe.matchMedia)&&void 0!==Y&&Y.call(fe,"(display-mode: standalone)").matches||fe.navigator.standalone)},mobile:pe,mobileweb:fe=>pe(fe)&&!ze(fe),desktop:fe=>!pe(fe),hybrid:ze};let At;const Kt=fe=>fe&&(0,x.g)(fe)||At,ct=(fe={})=>{if(typeof window>"u")return;const Y=window.document,J=window,ie=J.Ionic=J.Ionic||{},de={};fe._ael&&(de.ael=fe._ael),fe._rel&&(de.rel=fe._rel),fe._ce&&(de.ce=fe._ce),(0,x.a)(de);const Ue=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(fe=>{try{const Y=fe.sessionStorage.getItem(Ge);return null!==Y?JSON.parse(Y):{}}catch{return{}}})(J)),{persistConfig:!1}),ie.config),(fe=>{const Y={};return fe.location.search.slice(1).split("&").map(J=>J.split("=")).map(([J,ie])=>{try{return[decodeURIComponent(J),decodeURIComponent(ie)]}catch{return["",""]}}).filter(([J])=>((fe,Y)=>fe.substr(0,Y.length)===Y)(J,"ionic:")).map(([J,ie])=>[J.slice(6),ie]).forEach(([J,ie])=>{Y[J]=ie}),Y})(J)),fe);u.reset(Ue),u.getBoolean("persistConfig")&&((fe,Y)=>{try{fe.sessionStorage.setItem(Ge,JSON.stringify(Y))}catch{return}})(J,Ue),ke(J),ie.config=u,ie.mode=At=u.get("mode",Y.documentElement.getAttribute("mode")||(ge(J,"ios")?"ios":"md")),u.set("mode",At),Y.documentElement.setAttribute("mode",At),Y.documentElement.classList.add(At),u.getBoolean("_testing")&&u.set("animated",!1);const Le=xt=>{var Sn;return null===(Sn=xt.tagName)||void 0===Sn?void 0:Sn.startsWith("ION-")},mt=xt=>["ios","md"].includes(xt);(0,x.c)(xt=>{for(;xt;){const Sn=xt.mode||xt.getAttribute("mode");if(Sn){if(mt(Sn))return Sn;Le(xt)&&console.warn('Invalid ionic mode: "'+Sn+'", expected: "ios" or "md"')}xt=xt.parentElement}return At})}},8454:(hn,Ct,ee)=>{"use strict";ee.r(Ct),ee.d(Ct,{iosTransitionAnimation:()=>Te,shadow:()=>De});var x=ee(9986),Q=ee(2725);ee(8476),ee(3664),ee(9672);const re=it=>document.querySelector(`${it}.ion-cloned-element`),De=it=>it.shadowRoot||it,Ge=it=>{const Xe="ION-TABS"===it.tagName?it:it.querySelector("ion-tabs"),Qe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Xe){const vt=Xe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=vt?vt.querySelector(Qe):null}return it.querySelector(Qe)},qe=(it,Xe)=>{const Qe="ION-TABS"===it.tagName?it:it.querySelector("ion-tabs");let vt=[];if(null!=Qe){const We=Qe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=We&&(vt=We.querySelectorAll("ion-buttons"))}else vt=it.querySelectorAll("ion-buttons");for(const We of vt){const at=We.closest("ion-header"),pe=at&&!at.classList.contains("header-collapse-condense-inactive"),Ne=We.querySelector("ion-back-button"),ze=We.classList.contains("buttons-collapse");if(null!==Ne&&("start"===We.slot||""===We.slot)&&(ze&&pe&&Xe||!ze))return Ne}return null},ke=(it,Xe,Qe,vt,We,at,pe,Ne,ze)=>{var tt,nt;const _t=Xe?`calc(100% - ${We.right+4}px)`:We.left-4+"px",Ye=Xe?"right":"left",Pt=Xe?"left":"right",Ot=Xe?"right":"left";let nn=1,At=1,Kt=`scale(${At})`;const ct="scale(1)";if(at&&pe){const et=(null===(tt=at.textContent)||void 0===tt?void 0:tt.trim())===(null===(nt=Ne.textContent)||void 0===nt?void 0:nt.trim());nn=ze.width/pe.width,At=(ze.height-Ke)/pe.height,Kt=et?`scale(${nn}, ${At})`:`scale(${At})`}const Y=De(vt).querySelector("ion-icon").getBoundingClientRect(),J=Xe?Y.width/2-(Y.right-We.right)+"px":We.left-Y.width/2+"px",ie=Xe?`-${window.innerWidth-We.right}px`:`${We.left}px`,de=`${ze.top}px`,Ue=`${We.top}px`,xt=Qe?[{offset:0,transform:`translate3d(${ie}, ${Ue}, 0)`},{offset:1,transform:`translate3d(${J}, ${de}, 0)`}]:[{offset:0,transform:`translate3d(${J}, ${de}, 0)`},{offset:1,transform:`translate3d(${ie}, ${Ue}, 0)`}],mn=Qe?[{offset:0,opacity:1,transform:ct},{offset:1,opacity:0,transform:Kt}]:[{offset:0,opacity:0,transform:Kt},{offset:1,opacity:1,transform:ct}],er=Qe?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],In=(0,x.c)(),St=(0,x.c)(),rr=(0,x.c)(),Ht=re("ion-back-button"),Pe=De(Ht).querySelector(".button-text"),Ze=De(Ht).querySelector("ion-icon");Ht.text=vt.text,Ht.mode=vt.mode,Ht.icon=vt.icon,Ht.color=vt.color,Ht.disabled=vt.disabled,Ht.style.setProperty("display","block"),Ht.style.setProperty("position","fixed"),St.addElement(Ze),In.addElement(Pe),rr.addElement(Ht),rr.beforeStyles({position:"absolute",top:"0px",[Ot]:"0px"}).beforeAddWrite(()=>{vt.style.setProperty("display","none"),Ht.style.setProperty(Ye,_t)}).afterAddWrite(()=>{vt.style.setProperty("display",""),Ht.style.setProperty("display","none"),Ht.style.removeProperty(Ye)}).keyframes(xt),In.beforeStyles({"transform-origin":`${Ye} top`}).keyframes(mn),St.beforeStyles({"transform-origin":`${Pt} center`}).keyframes(er),it.addAnimation([In,St,rr])},Re=(it,Xe,Qe,vt,We,at,pe,Ne,ze)=>{var tt,nt;const _t=Xe?"right":"left",Ye=Xe?`calc(100% - ${We.right}px)`:`${We.left}px`,Ot=`${We.top}px`;let At=Xe?`-${window.innerWidth-pe.right-8}px`:`${pe.x+8}px`,Kt=.5;const ct="scale(1)";let fe=`scale(${Kt})`;if(Ne&&ze){At=Xe?`-${window.innerWidth-ze.right-8}px`:ze.x-8+"px";const Sn=(null===(tt=Ne.textContent)||void 0===tt?void 0:tt.trim())===(null===(nt=vt.textContent)||void 0===nt?void 0:nt.trim());Kt=ze.height/(at.height-Ke),fe=Sn?`scale(${ze.width/at.width}, ${Kt})`:`scale(${Kt})`}const ie=pe.top+pe.height/2-We.height*Kt/2+"px",Le=Qe?[{offset:0,opacity:0,transform:`translate3d(${At}, ${ie}, 0) ${fe}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Ot}, 0) ${ct}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Ot}, 0) ${ct}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${At}, ${ie}, 0) ${fe}`}],mt=re("ion-title"),xt=(0,x.c)();mt.innerText=vt.innerText,mt.size=vt.size,mt.color=vt.color,xt.addElement(mt),xt.beforeStyles({"transform-origin":`${_t} top`,height:`${We.height}px`,display:"",position:"relative",[_t]:Ye}).beforeAddWrite(()=>{vt.style.setProperty("opacity","0")}).afterAddWrite(()=>{vt.style.setProperty("opacity",""),mt.style.setProperty("display","none")}).keyframes(Le),it.addAnimation(xt)},Te=(it,Xe)=>{var Qe;try{const vt="cubic-bezier(0.32,0.72,0,1)",We="opacity",at="transform",pe="0%",ze="rtl"===it.ownerDocument.dir,tt=ze?"-99.5%":"99.5%",nt=ze?"33%":"-33%",_t=Xe.enteringEl,Ye=Xe.leavingEl,Pt="back"===Xe.direction,Ot=_t.querySelector(":scope > ion-content"),nn=_t.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),At=_t.querySelectorAll(":scope > ion-header > ion-toolbar"),Kt=(0,x.c)(),ct=(0,x.c)();if(Kt.addElement(_t).duration((null!==(Qe=Xe.duration)&&void 0!==Qe?Qe:0)||540).easing(Xe.easing||vt).fill("both").beforeRemoveClass("ion-page-invisible"),Ye&&null!=it){const ie=(0,x.c)();ie.addElement(it),Kt.addAnimation(ie)}if(Ot||0!==At.length||0!==nn.length?(ct.addElement(Ot),ct.addElement(nn)):ct.addElement(_t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Kt.addAnimation(ct),Pt?ct.beforeClearStyles([We]).fromTo("transform",`translateX(${nt})`,`translateX(${pe})`).fromTo(We,.8,1):ct.beforeClearStyles([We]).fromTo("transform",`translateX(${tt})`,`translateX(${pe})`),Ot){const ie=De(Ot).querySelector(".transition-effect");if(ie){const de=ie.querySelector(".transition-cover"),Ue=ie.querySelector(".transition-shadow"),Le=(0,x.c)(),mt=(0,x.c)(),xt=(0,x.c)();Le.addElement(ie).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),mt.addElement(de).beforeClearStyles([We]).fromTo(We,0,.1),xt.addElement(Ue).beforeClearStyles([We]).fromTo(We,.03,.7),Le.addAnimation([mt,xt]),ct.addAnimation([Le])}}const fe=_t.querySelector("ion-header.header-collapse-condense"),{forward:Y,backward:J}=((it,Xe,Qe,vt,We)=>{const at=qe(vt,Qe),pe=Ge(We),Ne=Ge(vt),ze=qe(We,Qe),tt=null!==at&&null!==pe&&!Qe,nt=null!==Ne&&null!==ze&&Qe;if(tt){const _t=pe.getBoundingClientRect(),Ye=at.getBoundingClientRect(),Pt=De(at).querySelector(".button-text"),Ot=null==Pt?void 0:Pt.getBoundingClientRect(),At=De(pe).querySelector(".toolbar-title").getBoundingClientRect();Re(it,Xe,Qe,pe,_t,At,Ye,Pt,Ot),ke(it,Xe,Qe,at,Ye,Pt,Ot,pe,At)}else if(nt){const _t=Ne.getBoundingClientRect(),Ye=ze.getBoundingClientRect(),Pt=De(ze).querySelector(".button-text"),Ot=null==Pt?void 0:Pt.getBoundingClientRect(),At=De(Ne).querySelector(".toolbar-title").getBoundingClientRect();Re(it,Xe,Qe,Ne,_t,At,Ye,Pt,Ot),ke(it,Xe,Qe,ze,Ye,Pt,Ot,Ne,At)}return{forward:tt,backward:nt}})(Kt,ze,Pt,_t,Ye);if(At.forEach(ie=>{const de=(0,x.c)();de.addElement(ie),Kt.addAnimation(de);const Ue=(0,x.c)();Ue.addElement(ie.querySelector("ion-title"));const Le=(0,x.c)(),mt=Array.from(ie.querySelectorAll("ion-buttons,[menuToggle]")),xt=ie.closest("ion-header"),Sn=null==xt?void 0:xt.classList.contains("header-collapse-condense-inactive");let zt;zt=mt.filter(Pt?In=>{const St=In.classList.contains("buttons-collapse");return St&&!Sn||!St}:In=>!In.classList.contains("buttons-collapse")),Le.addElement(zt);const mn=(0,x.c)();mn.addElement(ie.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const En=(0,x.c)();En.addElement(De(ie).querySelector(".toolbar-background"));const xn=(0,x.c)(),er=ie.querySelector("ion-back-button");if(er&&xn.addElement(er),de.addAnimation([Ue,Le,mn,En,xn]),Le.fromTo(We,.01,1),mn.fromTo(We,.01,1),Pt)Sn||Ue.fromTo("transform",`translateX(${nt})`,`translateX(${pe})`).fromTo(We,.01,1),mn.fromTo("transform",`translateX(${nt})`,`translateX(${pe})`),xn.fromTo(We,.01,1);else if(fe||Ue.fromTo("transform",`translateX(${tt})`,`translateX(${pe})`).fromTo(We,.01,1),mn.fromTo("transform",`translateX(${tt})`,`translateX(${pe})`),En.beforeClearStyles([We,"transform"]),(null==xt?void 0:xt.translucent)?En.fromTo("transform",ze?"translateX(-100%)":"translateX(100%)","translateX(0px)"):En.fromTo(We,.01,"var(--opacity)"),Y||xn.fromTo(We,.01,1),er&&!Y){const St=(0,x.c)();St.addElement(De(er).querySelector(".button-text")).fromTo("transform",ze?"translateX(-100px)":"translateX(100px)","translateX(0px)"),de.addAnimation(St)}}),Ye){const ie=(0,x.c)(),de=Ye.querySelector(":scope > ion-content"),Ue=Ye.querySelectorAll(":scope > ion-header > ion-toolbar"),Le=Ye.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(de||0!==Ue.length||0!==Le.length?(ie.addElement(de),ie.addElement(Le)):ie.addElement(Ye.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Kt.addAnimation(ie),Pt){ie.beforeClearStyles([We]).fromTo("transform",`translateX(${pe})`,ze?"translateX(-100%)":"translateX(100%)");const mt=(0,Q.g)(Ye);Kt.afterAddWrite(()=>{"normal"===Kt.getDirection()&&mt.style.setProperty("display","none")})}else ie.fromTo("transform",`translateX(${pe})`,`translateX(${nt})`).fromTo(We,1,.8);if(de){const mt=De(de).querySelector(".transition-effect");if(mt){const xt=mt.querySelector(".transition-cover"),Sn=mt.querySelector(".transition-shadow"),zt=(0,x.c)(),mn=(0,x.c)(),En=(0,x.c)();zt.addElement(mt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),mn.addElement(xt).beforeClearStyles([We]).fromTo(We,.1,0),En.addElement(Sn).beforeClearStyles([We]).fromTo(We,.7,.03),zt.addAnimation([mn,En]),ie.addAnimation([zt])}}Ue.forEach(mt=>{const xt=(0,x.c)();xt.addElement(mt);const Sn=(0,x.c)();Sn.addElement(mt.querySelector("ion-title"));const zt=(0,x.c)(),mn=mt.querySelectorAll("ion-buttons,[menuToggle]"),En=mt.closest("ion-header"),xn=null==En?void 0:En.classList.contains("header-collapse-condense-inactive"),er=Array.from(mn).filter(Ze=>{const et=Ze.classList.contains("buttons-collapse");return et&&!xn||!et});zt.addElement(er);const In=(0,x.c)(),St=mt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");St.length>0&&In.addElement(St);const rr=(0,x.c)();rr.addElement(De(mt).querySelector(".toolbar-background"));const Ht=(0,x.c)(),Pe=mt.querySelector("ion-back-button");if(Pe&&Ht.addElement(Pe),xt.addAnimation([Sn,zt,In,Ht,rr]),Kt.addAnimation(xt),Ht.fromTo(We,.99,0),zt.fromTo(We,.99,0),In.fromTo(We,.99,0),Pt){if(xn||Sn.fromTo("transform",`translateX(${pe})`,ze?"translateX(-100%)":"translateX(100%)").fromTo(We,.99,0),In.fromTo("transform",`translateX(${pe})`,ze?"translateX(-100%)":"translateX(100%)"),rr.beforeClearStyles([We,"transform"]),(null==En?void 0:En.translucent)?rr.fromTo("transform","translateX(0px)",ze?"translateX(-100%)":"translateX(100%)"):rr.fromTo(We,"var(--opacity)",0),Pe&&!J){const et=(0,x.c)();et.addElement(De(Pe).querySelector(".button-text")).fromTo("transform",`translateX(${pe})`,`translateX(${(ze?-124:124)+"px"})`),xt.addAnimation(et)}}else xn||Sn.fromTo("transform",`translateX(${pe})`,`translateX(${nt})`).fromTo(We,.99,0).afterClearStyles([at,We]),In.fromTo("transform",`translateX(${pe})`,`translateX(${nt})`).afterClearStyles([at,We]),Ht.afterClearStyles([We]),Sn.afterClearStyles([We]),zt.afterClearStyles([We])})}return Kt}catch(vt){throw vt}},Ke=10},3314:(hn,Ct,ee)=>{"use strict";ee.r(Ct),ee.d(Ct,{mdTransitionAnimation:()=>He});var x=ee(9986),Q=ee(2725);ee(8476),ee(3664),ee(9672);const He=(re,De)=>{var Ge,qe,ge;const Te="back"===De.direction,it=De.leavingEl,Xe=(0,Q.g)(De.enteringEl),Qe=Xe.querySelector("ion-toolbar"),vt=(0,x.c)();if(vt.addElement(Xe).fill("both").beforeRemoveClass("ion-page-invisible"),Te?vt.duration((null!==(Ge=De.duration)&&void 0!==Ge?Ge:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):vt.duration((null!==(qe=De.duration)&&void 0!==qe?qe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Qe){const We=(0,x.c)();We.addElement(Qe),vt.addAnimation(We)}if(it&&Te){vt.duration((null!==(ge=De.duration)&&void 0!==ge?ge:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const We=(0,x.c)();We.addElement((0,Q.g)(it)).onFinish(at=>{1===at&&We.elements.length>0&&We.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),vt.addAnimation(We)}return vt}},6002:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{B:()=>mn,F:()=>Ht,G:()=>En,O:()=>xn,a:()=>Xe,b:()=>Qe,c:()=>pe,d:()=>er,e:()=>In,f:()=>Y,g:()=>ie,h:()=>Le,i:()=>xt,j:()=>ze,k:()=>tt,m:()=>We,n:()=>qe,o:()=>ct,q:()=>ge,s:()=>zt,t:()=>Ne});var x=ee(467),Q=ee(8476),u=ee(4920),M=ee(6411),v=ee(3664),He=ee(8621),re=ee(1970),De=ee(4929);const Ge='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',qe=(Pe,Ze)=>{const et=Pe.querySelector(Ge);ke(et,null!=Ze?Ze:Pe)},ge=(Pe,Ze)=>{const et=Array.from(Pe.querySelectorAll(Ge));ke(et.length>0?et[et.length-1]:null,null!=Ze?Ze:Pe)},ke=(Pe,Ze)=>{let et=Pe;const Gt=null==Pe?void 0:Pe.shadowRoot;Gt&&(et=Gt.querySelector(Ge)||Pe),et?(0,u.f)(et):Ze.focus()};let Re=0,Te=0;const Ke=new WeakMap,it=Pe=>({create:Ze=>nt(Pe,Ze),dismiss:(Ze,et,Gt)=>nn(document,Ze,et,Pe,Gt),getTop:()=>(0,x.A)(function*(){return ct(document,Pe)})()}),Xe=it("ion-alert"),Qe=it("ion-action-sheet"),We=it("ion-modal"),pe=it("ion-popover"),Ne=it("ion-toast"),ze=Pe=>{typeof document<"u"&&Ot(document);const Ze=Re++;Pe.overlayIndex=Ze},tt=Pe=>(Pe.hasAttribute("id")||(Pe.id="ion-overlay-"+ ++Te),Pe.id),nt=(Pe,Ze)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Pe).then(()=>{const et=document.createElement(Pe);return et.classList.add("overlay-hidden"),Object.assign(et,Object.assign(Object.assign({},Ze),{hasController:!0})),de(document).appendChild(et),new Promise(Gt=>(0,u.c)(et,Gt))}):Promise.resolve(),Ye=(Pe,Ze)=>{let et=Pe;const Gt=null==Pe?void 0:Pe.shadowRoot;Gt&&(et=Gt.querySelector(Ge)||Pe),et?(0,u.f)(et):Ze.focus()},Ot=Pe=>{0===Re&&(Re=1,Pe.addEventListener("focus",Ze=>{((Pe,Ze)=>{const et=ct(Ze,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),Gt=Pe.target;et&&Gt&&!et.classList.contains(Ht)&&(et.shadowRoot?(()=>{if(et.contains(Gt))et.lastFocus=Gt;else if("ION-TOAST"===Gt.tagName)Ye(et.lastFocus,et);else{const zn=et.lastFocus;qe(et),zn===Ze.activeElement&&ge(et),et.lastFocus=Ze.activeElement}})():(()=>{if(et===Gt)et.lastFocus=void 0;else if("ION-TOAST"===Gt.tagName)Ye(et.lastFocus,et);else{const zn=(0,u.g)(et);if(!zn.contains(Gt))return;const rn=zn.querySelector(".ion-overlay-wrapper");if(!rn)return;if(rn.contains(Gt)||Gt===zn.querySelector("ion-backdrop"))et.lastFocus=Gt;else{const sn=et.lastFocus;qe(rn,et),sn===Ze.activeElement&&ge(rn,et),et.lastFocus=Ze.activeElement}}})())})(Ze,Pe)},!0),Pe.addEventListener("ionBackButton",Ze=>{const et=ct(Pe);null!=et&&et.backdropDismiss&&Ze.detail.register(M.OVERLAY_BACK_BUTTON_PRIORITY,()=>{et.dismiss(void 0,mn)})}),(0,M.shouldUseCloseWatcher)()||Pe.addEventListener("keydown",Ze=>{if("Escape"===Ze.key){const et=ct(Pe);null!=et&&et.backdropDismiss&&et.dismiss(void 0,mn)}}))},nn=(Pe,Ze,et,Gt,Bn)=>{const ir=ct(Pe,Gt,Bn);return ir?ir.dismiss(Ze,et):Promise.reject("overlay does not exist")},Kt=(Pe,Ze)=>((Pe,Ze)=>(void 0===Ze&&(Ze="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Pe.querySelectorAll(Ze)).filter(et=>et.overlayIndex>0)))(Pe,Ze).filter(et=>!(Pe=>Pe.classList.contains("overlay-hidden"))(et)),ct=(Pe,Ze,et)=>{const Gt=Kt(Pe,Ze);return void 0===et?Gt[Gt.length-1]:Gt.find(Bn=>Bn.id===et)},fe=(Pe=!1)=>{const et=de(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");et&&(Pe?et.setAttribute("aria-hidden","true"):et.removeAttribute("aria-hidden"))},Y=function(){var Pe=(0,x.A)(function*(Ze,et,Gt,Bn,ir){var zn,rn;if(Ze.presented)return;fe(!0),document.body.classList.add(re.B),St(Ze.el),Ze.presented=!0,Ze.willPresent.emit(),null===(zn=Ze.willPresentShorthand)||void 0===zn||zn.emit();const sn=(0,v.b)(Ze),Ln=Ze.enterAnimation?Ze.enterAnimation:v.c.get(et,"ios"===sn?Gt:Bn);(yield Ue(Ze,Ln,Ze.el,ir))&&(Ze.didPresent.emit(),null===(rn=Ze.didPresentShorthand)||void 0===rn||rn.emit()),"ION-TOAST"!==Ze.el.tagName&&J(Ze.el),Ze.keyboardClose&&(null===document.activeElement||!Ze.el.contains(document.activeElement))&&Ze.el.focus(),Ze.el.removeAttribute("aria-hidden")});return function(et,Gt,Bn,ir,zn){return Pe.apply(this,arguments)}}(),J=function(){var Pe=(0,x.A)(function*(Ze){let et=document.activeElement;if(!et)return;const Gt=null==et?void 0:et.shadowRoot;Gt&&(et=Gt.querySelector(Ge)||et),yield Ze.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&et.focus()});return function(et){return Pe.apply(this,arguments)}}(),ie=function(){var Pe=(0,x.A)(function*(Ze,et,Gt,Bn,ir,zn,rn){var sn,Ln;if(!Ze.presented)return!1;void 0!==Q.d&&1===Kt(Q.d).length&&(fe(!1),document.body.classList.remove(re.B)),Ze.presented=!1;try{Ze.el.style.setProperty("pointer-events","none"),Ze.willDismiss.emit({data:et,role:Gt}),null===(sn=Ze.willDismissShorthand)||void 0===sn||sn.emit({data:et,role:Gt});const cr=(0,v.b)(Ze),qr=Ze.leaveAnimation?Ze.leaveAnimation:v.c.get(Bn,"ios"===cr?ir:zn);Gt!==En&&(yield Ue(Ze,qr,Ze.el,rn)),Ze.didDismiss.emit({data:et,role:Gt}),null===(Ln=Ze.didDismissShorthand)||void 0===Ln||Ln.emit({data:et,role:Gt}),(Ke.get(Ze)||[]).forEach(ti=>ti.destroy()),Ke.delete(Ze),Ze.el.classList.add("overlay-hidden"),Ze.el.style.removeProperty("pointer-events"),void 0!==Ze.el.lastFocus&&(Ze.el.lastFocus=void 0)}catch(cr){console.error(cr)}return Ze.el.remove(),rr(),!0});return function(et,Gt,Bn,ir,zn,rn,sn){return Pe.apply(this,arguments)}}(),de=Pe=>Pe.querySelector("ion-app")||Pe.body,Ue=function(){var Pe=(0,x.A)(function*(Ze,et,Gt,Bn){Gt.classList.remove("overlay-hidden");const zn=et(Ze.el,Bn);(!Ze.animated||!v.c.getBoolean("animated",!0))&&zn.duration(0),Ze.keyboardClose&&zn.beforeAddWrite(()=>{const sn=Gt.ownerDocument.activeElement;null!=sn&&sn.matches("input,ion-input, ion-textarea")&&sn.blur()});const rn=Ke.get(Ze)||[];return Ke.set(Ze,[...rn,zn]),yield zn.play(),!0});return function(et,Gt,Bn,ir){return Pe.apply(this,arguments)}}(),Le=(Pe,Ze)=>{let et;const Gt=new Promise(Bn=>et=Bn);return mt(Pe,Ze,Bn=>{et(Bn.detail)}),Gt},mt=(Pe,Ze,et)=>{const Gt=Bn=>{(0,u.b)(Pe,Ze,Gt),et(Bn)};(0,u.a)(Pe,Ze,Gt)},xt=Pe=>"cancel"===Pe||Pe===mn,Sn=Pe=>Pe(),zt=(Pe,Ze)=>{if("function"==typeof Pe)return v.c.get("_zoneGate",Sn)(()=>{try{return Pe(Ze)}catch(Gt){throw Gt}})},mn="backdrop",En="gesture",xn=39,er=Pe=>{let et,Ze=!1;const Gt=(0,He.C)(),Bn=(rn=!1)=>{if(et&&!rn)return{delegate:et,inline:Ze};const{el:sn,hasController:Ln,delegate:pr}=Pe;return Ze=null!==sn.parentNode&&!Ln,et=Ze?pr||Gt:pr,{inline:Ze,delegate:et}};return{attachViewToDom:function(){var rn=(0,x.A)(function*(sn){const{delegate:Ln}=Bn(!0);if(Ln)return yield Ln.attachViewToDom(Pe.el,sn);const{hasController:pr}=Pe;if(pr&&void 0!==sn)throw new Error("framework delegate is missing");return null});return function(Ln){return rn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:rn}=Bn();rn&&void 0!==Pe.el&&rn.removeViewFromDom(Pe.el.parentElement,Pe.el)}}},In=()=>{let Pe;const Ze=()=>{Pe&&(Pe(),Pe=void 0)};return{addClickListener:(Gt,Bn)=>{Ze();const ir=void 0!==Bn?document.getElementById(Bn):null;ir?Pe=((rn,sn)=>{const Ln=()=>{sn.present()};return rn.addEventListener("click",Ln),()=>{rn.removeEventListener("click",Ln)}})(ir,Gt):(0,De.p)(`A trigger element with the ID "${Bn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Gt)},removeClickListener:Ze}},St=Pe=>{var Ze;if(void 0===Q.d)return;const et=Kt(Q.d);for(let Gt=et.length-1;Gt>=0;Gt--){const Bn=et[Gt],ir=null!==(Ze=et[Gt+1])&&void 0!==Ze?Ze:Pe;(ir.hasAttribute("aria-hidden")||"ION-TOAST"!==ir.tagName)&&Bn.setAttribute("aria-hidden","true")}},rr=()=>{if(void 0===Q.d)return;const Pe=Kt(Q.d);for(let Ze=Pe.length-1;Ze>=0;Ze--){const et=Pe[Ze];if(et.removeAttribute("aria-hidden"),"ION-TOAST"!==et.tagName)break}},Ht="ion-disable-focus-trap"},9960:(hn,Ct,ee)=>{"use strict";var x={};ee.r(x),ee.d(x,{FirebaseError:()=>zt,SDK_VERSION:()=>Cr,_DEFAULT_ENTRY_NAME:()=>Z,_addComponent:()=>ut,_addOrOverwriteComponent:()=>Tt,_apps:()=>he,_clearComponents:()=>_n,_components:()=>Ie,_getProvider:()=>Rt,_isFirebaseApp:()=>Yt,_isFirebaseServerApp:()=>qt,_registerComponent:()=>It,_removeServiceInstance:()=>$t,_serverApps:()=>we,deleteApp:()=>Ya,getApp:()=>is,getApps:()=>Wo,initializeApp:()=>Kr,initializeServerApp:()=>Qi,onLog:()=>Ra,registerVersion:()=>br,setLogLevel:()=>uo});var Q=ee(345),u=ee(4438),M=ee(9246),v=ee(177);const re=function(n,e){if(!n)throw De(e)},De=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},Ge=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=63&s|128):55296==(64512&s)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&n.charCodeAt(++r)),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=63&s|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=63&s|128)}return e},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const c=n[s],h=s+1<n.length,m=h?n[s+1]:0,y=s+2<n.length,T=y?n[s+2]:0;let q=(15&m)<<2|T>>6,ue=63&T;y||(ue=64,h||(q=64)),r.push(t[c>>2],t[(3&c)<<4|m>>4],t[q],t[ue])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ge(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const c=n[t++];e[r++]=String.fromCharCode((31&s)<<6|63&c)}else if(s>239&&s<365){const y=((7&s)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(1023&y))}else{const c=n[t++],h=n[t++];e[r++]=String.fromCharCode((15&s)<<12|(63&c)<<6|63&h)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const c=t[n.charAt(s++)],m=s<n.length?t[n.charAt(s)]:0;++s;const T=s<n.length?t[n.charAt(s)]:64;++s;const B=s<n.length?t[n.charAt(s)]:64;if(++s,null==c||null==m||null==T||null==B)throw new ke;r.push(c<<2|m>>4),64!==T&&(r.push(m<<4&240|T>>2),64!==B&&r.push(T<<6&192|B))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(n){const e=Ge(n);return ge.encodeByteArray(e,!0)},Te=function(n){return Re(n).replace(/\./g,"")},Ke=function(n){try{return ge.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Xe(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Qe(t)||(n[t]=Xe(n[t],e[t]));return n}function Qe(n){return"__proto__"!==n}const Ne=()=>{try{return function vt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ke(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},nt=()=>{var n;return null===(n=Ne())||void 0===n?void 0:n.config};class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Pt(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",s=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(h)),""].join(".")}function Ot(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function At(){var n;const e=null===(n=Ne())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Kt(){return"object"==typeof self&&self.self===self}function ct(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function J(){const n=Ot();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ue(){return!At()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}class zt extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,zt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mn.prototype.create)}}class mn{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,c=this.errors[e],h=c?function En(n,e){return n.replace(xn,(t,r)=>{const s=e[r];return null!=s?String(s):`<${r}?>`})}(c,r):"Error";return new zt(s,`${this.serviceName}: ${h} (${s}).`,r)}}const xn=/\{\$([^}]+)}/g;function er(n){return JSON.parse(n)}function In(n){return JSON.stringify(n)}const St=function(n){let e={},t={},r={},s="";try{const c=n.split(".");e=er(Ke(c[0])||""),t=er(Ke(c[1])||""),s=c[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:s}};function et(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Gt(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Bn(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ir(n,e,t){const r={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=e.call(t,n[s],s,n));return r}function zn(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const c=n[s],h=e[s];if(rn(c)&&rn(h)){if(!zn(c,h))return!1}else if(c!==h)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function rn(n){return null!==n&&"object"==typeof n}function Ln(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pr(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,c]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(c)}}),e}function cr(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class qr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let B=0;B<16;B++)r[B]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let B=0;B<16;B++)r[B]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let B=16;B<80;B++){const q=r[B-3]^r[B-8]^r[B-14]^r[B-16];r[B]=4294967295&(q<<1|q>>>31)}let T,N,s=this.chain_[0],c=this.chain_[1],h=this.chain_[2],m=this.chain_[3],y=this.chain_[4];for(let B=0;B<80;B++){B<40?B<20?(T=m^c&(h^m),N=1518500249):(T=c^h^m,N=1859775393):B<60?(T=c&h|m&(c|h),N=2400959708):(T=c^h^m,N=3395469782);const q=(s<<5|s>>>27)+T+y+N+r[B]&4294967295;y=m,m=h,h=4294967295&(c<<30|c>>>2),c=s,s=q}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+y&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let s=0;const c=this.buf_;let h=this.inbuf_;for(;s<t;){if(0===h)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if("string"==typeof e){for(;s<t;)if(c[h]=e.charCodeAt(s),++h,++s,h===this.blockSize){this.compress_(c),h=0;break}}else for(;s<t;)if(c[h]=e[s],++h,++s,h===this.blockSize){this.compress_(c),h=0;break}}this.inbuf_=h,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let c=24;c>=0;c-=8)e[r]=this.chain_[s]>>c&255,++r;return e}}function Fr(n,e){const t=new ti(n,e);return t.subscribe.bind(t)}class ti{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");s=function Wi(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===s.next&&(s.next=jn),void 0===s.error&&(s.error=jn),void 0===s.complete&&(s.complete=jn);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),c}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jn(){}const jt=function(n,e,t,r){let s;if(r<e?s="at least "+e:r>t&&(s=0===t?"none":"no more than "+t),s)throw new Error(n+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+s+".")};function gr(n,e){return`${n} failed: ${e} argument `}function tr(n,e,t,r){if((!r||t)&&"function"!=typeof t)throw new Error(gr(n,e)+"must be a valid function.")}function Vo(n,e,t,r){if((!r||t)&&("object"!=typeof t||null===t))throw new Error(gr(n,e)+"must be a valid context object.")}const ui=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};function Mt(n){return n&&n._delegate?n._delegate:n}var X=ee(467);class ar{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Pr="[DEFAULT]";class ni{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ye;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),s=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(s)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(s)return null;throw c}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Js(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:s});r.resolve(c)}catch{}}}}clearInstance(e=Pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,X.A)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Pr){return this.instances.has(e)}getOptions(e=Pr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[c,h]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(c)&&h.resolve(s);return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),c=null!==(r=this.onInitCallbacks.get(s))&&void 0!==r?r:new Set;c.add(e),this.onInitCallbacks.set(s,c);const h=this.instances.get(s);return h&&e(h,s),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Pr?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Pr){return this.component?this.component.multipleInstances?e:Pr:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class kr{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ni(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const gn=[];var Tn=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Tn||{});const Li={debug:Tn.DEBUG,verbose:Tn.VERBOSE,info:Tn.INFO,warn:Tn.WARN,error:Tn.ERROR,silent:Tn.SILENT},Vi=Tn.INFO,Uo={[Tn.DEBUG]:"log",[Tn.VERBOSE]:"log",[Tn.INFO]:"info",[Tn.WARN]:"warn",[Tn.ERROR]:"error"},Ao=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),s=Uo[e];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[s](`[${r}]  ${n.name}:`,...t)};class qn{constructor(e){this.name=e,this._logLevel=Vi,this._logHandler=Ao,this._userLogHandler=null,gn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Li[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Tn.DEBUG,...e),this._logHandler(this,Tn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Tn.VERBOSE,...e),this._logHandler(this,Tn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Tn.INFO,...e),this._logHandler(this,Tn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Tn.WARN,...e),this._logHandler(this,Tn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Tn.ERROR,...e),this._logHandler(this,Tn.ERROR,...e)}}const Ki=(n,e)=>e.some(t=>n instanceof t);let _i,Do;const Ro=new WeakMap,lt=new WeakMap,Qt=new WeakMap,On=new WeakMap,cn=new WeakMap;let Xi={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return lt.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Qt.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zr(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function $o(n){return"function"==typeof n?function Zs(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function jo(){return Do||(Do=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(ea(this),e),zr(Ro.get(this))}:function(...e){return zr(n.apply(ea(this),e))}:function(e,...t){const r=n.call(ea(this),e,...t);return Qt.set(r,e.sort?e.sort():[e]),zr(r)}}(n):(n instanceof IDBTransaction&&function di(n){if(lt.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",h),n.removeEventListener("abort",h)},c=()=>{t(),s()},h=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",c),n.addEventListener("error",h),n.addEventListener("abort",h)});lt.set(n,e)}(n),Ki(n,function zo(){return _i||(_i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Xi):n)}function zr(n){if(n instanceof IDBRequest)return function Br(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",c),n.removeEventListener("error",h)},c=()=>{t(zr(n.result)),s()},h=()=>{r(n.error),s()};n.addEventListener("success",c),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Ro.set(t,n)}).catch(()=>{}),cn.set(e,n),e}(n);if(On.has(n))return On.get(n);const e=$o(n);return e!==n&&(On.set(n,e),cn.set(e,n)),e}const ea=n=>cn.get(n),so=["get","getKey","getAll","getAllKeys","count"],Di=["put","add","delete","clear"],ao=new Map;function Kn(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(ao.get(e))return ao.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Di.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!so.includes(t))return;const c=function(){var h=(0,X.A)(function*(m,...y){const T=this.transaction(m,s?"readwrite":"readonly");let N=T.store;return r&&(N=N.index(y.shift())),(yield Promise.all([N[t](...y),s&&T.done]))[0]});return function(y){return h.apply(this,arguments)}}();return ao.set(e,c),c}!function es(n){Xi=n(Xi)}(n=>({...n,get:(e,t,r)=>Kn(e,t)||n.get(e,t,r),has:(e,t)=>!!Kn(e,t)||n.has(e,t)}));class to{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function lo(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const ri="@firebase/app",Er="0.10.5",yn=new qn("@firebase/app"),Z="[DEFAULT]",ae={[ri]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},he=new Map,we=new Map,Ie=new Map;function ut(n,e){try{n.container.addComponent(e)}catch(t){yn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Tt(n,e){n.container.addOrOverwriteComponent(e)}function It(n){const e=n.name;if(Ie.has(e))return yn.debug(`There were multiple attempts to register component ${e}.`),!1;Ie.set(e,n);for(const t of he.values())ut(t,n);for(const t of we.values())ut(t,n);return!0}function Rt(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $t(n,e,t=Z){Rt(n,e).clearInstance(t)}function Yt(n){return void 0!==n.options}function qt(n){return void 0!==n.settings}function _n(){Ie.clear()}const vr=new mn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Xn{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}class Ir extends Xn{constructor(e,t,r,s){const c=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,h={name:r,automaticDataCollectionEnabled:c};super(void 0!==e.apiKey?e:e.options,h,s),this._serverConfig=Object.assign({automaticDataCollectionEnabled:c},t),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,br(ri,Er,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ya(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw vr.create("server-app-deleted")}}const Cr="10.12.2";function Kr(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Z,automaticDataCollectionEnabled:!1},e),s=r.name;if("string"!=typeof s||!s)throw vr.create("bad-app-name",{appName:String(s)});if(t||(t=nt()),!t)throw vr.create("no-options");const c=he.get(s);if(c){if(zn(t,c.options)&&zn(r,c.config))return c;throw vr.create("duplicate-app",{appName:s})}const h=new kr(s);for(const y of Ie.values())h.addComponent(y);const m=new Xn(t,r,h);return he.set(s,m),m}function Qi(n,e){if(Kt())throw vr.create("invalid-server-app-environment");let t;void 0===e.automaticDataCollectionEnabled&&(e.automaticDataCollectionEnabled=!1),t=Yt(n)?n.options:n;const r=Object.assign(Object.assign({},e),t);if(void 0!==r.releaseOnDeref&&delete r.releaseOnDeref,void 0!==e.releaseOnDeref&&typeof FinalizationRegistry>"u")throw vr.create("finalization-registry-not-supported",{});const c=""+(T=JSON.stringify(r),[...T].reduce((N,B)=>Math.imul(31,N)+B.charCodeAt(0)|0,0)),h=we.get(c);var T;if(h)return h.incRefCount(e.releaseOnDeref),h;const m=new kr(c);for(const T of Ie.values())m.addComponent(T);const y=new Ir(t,e,c,m);return we.set(c,y),y}function is(n=Z){const e=he.get(n);if(!e&&n===Z&&nt())return Kr();if(!e)throw vr.create("no-app",{appName:n});return e}function Wo(){return Array.from(he.values())}function Ya(n){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,X.A)(function*(n){let e=!1;const t=n.name;he.has(t)?(e=!0,he.delete(t)):we.has(t)&&n.decRefCount()<=0&&(we.delete(t),e=!0),e&&(yield Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)})).apply(this,arguments)}function br(n,e,t){var r;let s=null!==(r=ae[n])&&void 0!==r?r:n;t&&(s+=`-${t}`);const c=s.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const m=[`Unable to register library "${s}" with version "${e}":`];return c&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),c&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void yn.warn(m.join(" "))}It(new ar(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function Ra(n,e){if(null!==n&&"function"!=typeof n)throw vr.create("invalid-log-argument");!function So(n,e){for(const t of gn){let r=null;e&&e.level&&(r=Li[e.level]),t.userLogHandler=null===n?null:(s,c,...h)=>{const m=h.map(y=>{if(null==y)return null;if("string"==typeof y)return y;if("number"==typeof y||"boolean"==typeof y)return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(y=>y).join(" ");c>=(null!=r?r:s.logLevel)&&n({level:Tn[c].toLowerCase(),message:m,args:h,type:s.name})}}}(n,e)}function uo(n){!function Bo(n){gn.forEach(e=>{e.setLogLevel(n)})}(n)}const $c="firebase-heartbeat-database",lc=1,Bi="firebase-heartbeat-store";let lr=null;function Ps(){return lr||(lr=function Ho(n,e,{blocked:t,upgrade:r,blocking:s,terminated:c}={}){const h=indexedDB.open(n,e),m=zr(h);return r&&h.addEventListener("upgradeneeded",y=>{r(zr(h.result),y.oldVersion,y.newVersion,zr(h.transaction),y)}),t&&h.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),s&&y.addEventListener("versionchange",T=>s(T.oldVersion,T.newVersion,T))}).catch(()=>{}),m}($c,lc,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(Bi)}catch(t){console.warn(t)}}}).catch(n=>{throw vr.create("idb-open",{originalErrorMessage:n.message})})),lr}function Pa(){return(Pa=(0,X.A)(function*(n){try{const t=(yield Ps()).transaction(Bi),r=yield t.objectStore(Bi).get(os(n));return yield t.done,r}catch(e){if(e instanceof zt)yn.warn(e.message);else{const t=vr.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});yn.warn(t.message)}}})).apply(this,arguments)}function xs(n,e){return zi.apply(this,arguments)}function zi(){return(zi=(0,X.A)(function*(n,e){try{const r=(yield Ps()).transaction(Bi,"readwrite");yield r.objectStore(Bi).put(e,os(n)),yield r.done}catch(t){if(t instanceof zt)yn.warn(t.message);else{const r=vr.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});yn.warn(r.message)}}})).apply(this,arguments)}function os(n){return`${n.name}!${n.options.appId}`}class Tl{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ms(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,X.A)(function*(){var t,r;const c=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Al();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==h&&!e._heartbeatsCache.heartbeats.some(m=>m.date===h))return e._heartbeatsCache.heartbeats.push({date:h,agent:c}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(m=>{const y=new Date(m.date).valueOf();return Date.now()-y<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,X.A)(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=Al(),{heartbeatsToSend:s,unsentEntries:c}=function Sl(n,e=1024){const t=[];let r=n.slice();for(const s of n){const c=t.find(h=>h.agent===s.agent);if(c){if(c.dates.push(s.date),Dl(t)>e){c.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Dl(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),h=Te(JSON.stringify({version:2,heartbeats:s}));return e._heartbeatsCache.lastSentHeartbeatDate=r,c.length>0?(e._heartbeatsCache.heartbeats=c,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),h})()}}function Al(){return(new Date).toISOString().substring(0,10)}class Ms{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,X.A)(function*(){return!!Le()&&function mt(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var c;e((null===(c=s.error)||void 0===c?void 0:c.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,X.A)(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function wl(n){return Pa.apply(this,arguments)}(e.app);return null!=r&&r.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return(0,X.A)(function*(){var r;if(yield t._canUseIndexedDBPromise){const c=yield t.read();return xs(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:c.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,X.A)(function*(){var r;if(yield t._canUseIndexedDBPromise){const c=yield t.read();return xs(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...e.heartbeats]})}})()}}function Dl(n){return Te(JSON.stringify({version:2,heartbeats:n})).length}!function cc(n){It(new ar("platform-logger",e=>new to(e),"PRIVATE")),It(new ar("heartbeat",e=>new Tl(e),"PRIVATE")),br(ri,Er,n),br(ri,Er,"esm2017"),br("fire-js","")}("");class ks{constructor(e,t){this._delegate=e,this.firebase=t,ut(e,new ar("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Ya(this._delegate)))}_getService(e,t=Z){var r;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&"EXPLICIT"===(null===(r=s.getComponent())||void 0===r?void 0:r.instantiationMode)&&s.initialize(),s.getImmediate({identifier:t})}_removeServiceInstance(e,t=Z){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){ut(this._delegate,e)}_addOrOverwriteComponent(e){Tt(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const j=new mn("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function ne(){const n=function O(n){const e={},t={__esModule:!0,initializeApp:function c(T,N={}){const B=Kr(T,N);if(et(e,B.name))return e[B.name];const q=new n(B,t);return e[B.name]=q,q},app:s,registerVersion:br,setLogLevel:uo,onLog:Ra,apps:null,SDK_VERSION:Cr,INTERNAL:{registerComponent:function m(T){const N=T.name,B=N.replace("-compat","");if(It(T)&&"PUBLIC"===T.type){const q=(ue=s())=>{if("function"!=typeof ue[B])throw j.create("invalid-app-argument",{appName:N});return ue[B]()};void 0!==T.serviceProps&&Xe(q,T.serviceProps),t[B]=q,n.prototype[B]=function(...ue){return this._getService.bind(this,N).apply(this,T.multipleInstances?ue:[])}}return"PUBLIC"===T.type?t[B]:null},removeApp:function r(T){delete e[T]},useAsService:function y(T,N){return"serverAuth"===N?null:N},modularAPIs:x}};function s(T){if(!et(e,T=T||Z))throw j.create("no-app",{appName:T});return e[T]}return t.default=t,Object.defineProperty(t,"apps",{get:function h(){return Object.keys(e).map(T=>e[T])}}),s.App=n,t}(ks);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function e(t){Xe(n,t)},createSubscribe:Fr,ErrorFactory:mn,deepExtend:Xe}),n}(),le=new qn("@firebase/app-compat");if(Kt()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const yr=z;!function Mn(n){br("@firebase/app-compat","0.2.35",n)}(),yr.registerVersion("firebase","10.12.2","app-compat");var fs=ee(1635);const Ja={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const uc=function Ju(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},sr=function Hc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pi=new mn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Yi=new qn("@firebase/auth");function Ns(n,...e){Yi.logLevel<=Tn.ERROR&&Yi.error(`Auth (${Cr}): ${n}`,...e)}function $r(n,...e){throw Ma(n,...e)}function oi(n,...e){return Ma(n,...e)}function Gc(n,e,t){const r=Object.assign(Object.assign({},sr()),{[e]:t});return new mn("auth","Firebase",r).create(e,{appName:n.name})}function Pi(n){return Gc(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fs(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&$r(n,"argument-error"),Gc(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ma(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return pi.create(n,...e)}function Bt(n,e,...t){if(!n)throw Ma(e,...t)}function fo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ns(e),new Error(e)}function xi(n,e){n||fo(e)}function Rl(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Pl(){return"http:"===Zu()||"https:"===Zu()}function Zu(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Os{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile=nn()||fe()}get(){return function dc(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pl()||ct()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ps(n,e){xi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Wc{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xl={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},hc=new Os(3e4,6e4);function Vr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Hr(n,e,t,r){return Za.apply(this,arguments)}function Za(){return(Za=(0,X.A)(function*(n,e,t,r,s={}){return qo(n,s,(0,X.A)(function*(){let c={},h={};r&&("GET"===e?h=r:c={body:JSON.stringify(r)});const m=Ln(Object.assign({key:n.config.apiKey},h)).slice(1),y=yield n._getAdditionalHeaders();return y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode),Wc.fetch()(nd(n,n.config.apiHost,t,m),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},c))}))})).apply(this,arguments)}function qo(n,e,t){return sa.apply(this,arguments)}function sa(){return(sa=(0,X.A)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},xl),e);try{const s=new el(n),c=yield Promise.race([t(),s.promise]);s.clearNetworkTimeout();const h=yield c.json();if("needConfirmation"in h)throw tl(n,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[y,T]=m.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===y)throw tl(n,"credential-already-in-use",h);if("EMAIL_EXISTS"===y)throw tl(n,"email-already-in-use",h);if("USER_DISABLED"===y)throw tl(n,"user-disabled",h);const N=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw Gc(n,N,T);$r(n,N)}}catch(s){if(s instanceof zt)throw s;$r(n,"network-request-failed",{message:String(s)})}})).apply(this,arguments)}function Ls(n,e,t,r){return td.apply(this,arguments)}function td(){return(td=(0,X.A)(function*(n,e,t,r,s={}){const c=yield Hr(n,e,t,r,s);return"mfaPendingCredential"in c&&$r(n,"multi-factor-auth-required",{_serverResponse:c}),c})).apply(this,arguments)}function nd(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?ps(n.config,s):`${n.config.apiScheme}://${s}`}function fh(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class el{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),hc.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tl(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=oi(n,e,r);return s.customData._tokenResponse=t,s}function rd(n){return void 0!==n&&void 0!==n.getResponse}function ph(n){return void 0!==n&&void 0!==n.enterprise}class qc{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return fh(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function I(){return(I=(0,X.A)(function*(n){return(yield Hr(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function P(n,e){return g.apply(this,arguments)}function g(){return(g=(0,X.A)(function*(n,e){return Hr(n,"GET","/v2/recaptchaConfig",Vr(n,e))})).apply(this,arguments)}function A(){return(A=(0,X.A)(function*(n,e){return Hr(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function $(){return($=(0,X.A)(function*(n,e){return Hr(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function te(n,e){return ve.apply(this,arguments)}function ve(){return(ve=(0,X.A)(function*(n,e){return Hr(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function pt(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Qn(){return(Qn=(0,X.A)(function*(n,e=!1){const t=Mt(n),r=yield t.getIdToken(e),s=Yn(r);Bt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const c="object"==typeof s.firebase?s.firebase:void 0,h=null==c?void 0:c.sign_in_provider;return{claims:s,token:r,authTime:pt(An(s.auth_time)),issuedAtTime:pt(An(s.iat)),expirationTime:pt(An(s.exp)),signInProvider:h||null,signInSecondFactor:(null==c?void 0:c.sign_in_second_factor)||null}})).apply(this,arguments)}function An(n){return 1e3*Number(n)}function Yn(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Ns("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ke(t);return s?JSON.parse(s):(Ns("Failed to decode base64 JWT payload"),null)}catch(s){return Ns("Caught error parsing JWT payload as JSON",null==s?void 0:s.toString()),null}}function $n(n){const e=Yn(n);return Bt(e,"internal-error"),Bt(typeof e.exp<"u","internal-error"),Bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function xr(n,e){return ur.apply(this,arguments)}function ur(){return(ur=(0,X.A)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof zt&&function Lt({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class dn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const s=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,X.A)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,X.A)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class wr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pt(this.lastLoginAt),this.creationTime=pt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jr(n){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,X.A)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),s=yield xr(n,te(t,{idToken:r}));Bt(null==s?void 0:s.users.length,t,"internal-error");const c=s.users[0];n._notifyReloadListener(c);const h=null!==(e=c.providerUserInfo)&&void 0!==e&&e.length?Nr(c.providerUserInfo):[],m=function si(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}(n.providerData,h),N=!!n.isAnonymous&&!(n.email&&c.passwordHash||null!=m&&m.length),B={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new wr(c.createdAt,c.lastLoginAt),isAnonymous:N};Object.assign(n,B)})).apply(this,arguments)}function Us(){return(Us=(0,X.A)(function*(n){const e=Mt(n);yield Jr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Nr(n){return n.map(e=>{var{providerId:t}=e,r=(0,fs.Tt)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Vn(){return(Vn=(0,X.A)(function*(n,e){const t=yield qo(n,{},(0,X.A)(function*(){const r=Ln({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:c}=n.config,h=nd(n,s,"/v1/token",`key=${c}`),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Wc.fetch()(h,{method:"POST",headers:m,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function mh(){return(mh=(0,X.A)(function*(n,e){return Hr(n,"POST","/v2/accounts:revokeToken",Vr(n,e))})).apply(this,arguments)}class la{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Bt(e.idToken,"internal-error"),Bt(typeof e.idToken<"u","internal-error"),Bt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$n(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Bt(0!==e.length,"internal-error");const t=$n(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){var r=this;return(0,X.A)(function*(){return t||!r.accessToken||r.isExpired?(Bt(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,X.A)(function*(){const{accessToken:s,refreshToken:c,expiresIn:h}=yield function aa(n,e){return Vn.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(s,c,Number(h))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:c}=t,h=new la;return r&&(Bt("string"==typeof r,"internal-error",{appName:e}),h.refreshToken=r),s&&(Bt("string"==typeof s,"internal-error",{appName:e}),h.accessToken=s),c&&(Bt("number"==typeof c,"internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new la,this.toJSON())}_performRefresh(){return fo("not implemented")}}function Or(n,e){Bt("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class ms{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,c=(0,fs.Tt)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new wr(c.createdAt||void 0,c.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,X.A)(function*(){const r=yield xr(t,t.stsTokenManager.getToken(t.auth,e));return Bt(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function kn(n){return Qn.apply(this,arguments)}(this,e)}reload(){return function ji(n){return Us.apply(this,arguments)}(this)}_assign(e){this!==e&&(Bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,X.A)(function*(){let s=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),s=!0),t&&(yield Jr(r)),yield r.auth._persistUserIfCurrent(r),s&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,X.A)(function*(){if(qt(e.auth.app))return Promise.reject(Pi(e.auth));const t=yield e.getIdToken();return yield xr(e,function p(n,e){return A.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,c,h,m,y,T,N;const B=null!==(r=t.displayName)&&void 0!==r?r:void 0,q=null!==(s=t.email)&&void 0!==s?s:void 0,ue=null!==(c=t.phoneNumber)&&void 0!==c?c:void 0,Se=null!==(h=t.photoURL)&&void 0!==h?h:void 0,ft=null!==(m=t.tenantId)&&void 0!==m?m:void 0,dt=null!==(y=t._redirectEventId)&&void 0!==y?y:void 0,Zt=null!==(T=t.createdAt)&&void 0!==T?T:void 0,ln=null!==(N=t.lastLoginAt)&&void 0!==N?N:void 0,{uid:Xt,emailVerified:vn,isAnonymous:mr,providerData:Wn,stsTokenManager:Me}=t;Bt(Xt&&Me,e,"internal-error");const me=la.fromJSON(this.name,Me);Bt("string"==typeof Xt,e,"internal-error"),Or(B,e.name),Or(q,e.name),Bt("boolean"==typeof vn,e,"internal-error"),Bt("boolean"==typeof mr,e,"internal-error"),Or(ue,e.name),Or(Se,e.name),Or(ft,e.name),Or(dt,e.name),Or(Zt,e.name),Or(ln,e.name);const Ee=new ms({uid:Xt,auth:e,email:q,emailVerified:vn,displayName:B,isAnonymous:mr,photoURL:Se,phoneNumber:ue,tenantId:ft,stsTokenManager:me,createdAt:Zt,lastLoginAt:ln});return Wn&&Array.isArray(Wn)&&(Ee.providerData=Wn.map(Oe=>Object.assign({},Oe))),dt&&(Ee._redirectEventId=dt),Ee}static _fromIdTokenResponse(e,t,r=!1){return(0,X.A)(function*(){const s=new la;s.updateFromServerResponse(t);const c=new ms({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return yield Jr(c),c})()}static _fromGetAccountInfoResponse(e,t,r){return(0,X.A)(function*(){const s=t.users[0];Bt(void 0!==s.localId,"internal-error");const c=void 0!==s.providerUserInfo?Nr(s.providerUserInfo):[],h=!(s.email&&s.passwordHash||null!=c&&c.length),m=new la;m.updateFromIdToken(r);const y=new ms({uid:s.localId,auth:e,stsTokenManager:m,isAnonymous:h}),T={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new wr(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash||null!=c&&c.length)};return Object.assign(y,T),y})()}}const Kc=new Map;function Ci(n){xi(n instanceof Function,"Expected a class definition");let e=Kc.get(n);return e?(xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Kc.set(n,e),e)}const kl=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,X.A)(function*(){return!0})()}_set(t,r){var s=this;return(0,X.A)(function*(){s.storage[t]=r})()}_get(t){var r=this;return(0,X.A)(function*(){const s=r.storage[t];return void 0===s?null:s})()}_remove(t){var r=this;return(0,X.A)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function gs(n,e,t){return`firebase:${n}:${e}:${t}`}class ca{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:c}=this.auth;this.fullUserKey=gs(this.userKey,s.apiKey,c),this.fullPersistenceKey=gs("persistence",s.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,X.A)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ms._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,X.A)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,X.A)(function*(){if(!t.length)return new ca(Ci(kl),e,r);const s=(yield Promise.all(t.map(function(){var T=(0,X.A)(function*(N){if(yield N._isAvailable())return N});return function(N){return T.apply(this,arguments)}}()))).filter(T=>T);let c=s[0]||Ci(kl);const h=gs(r,e.config.apiKey,e.name);let m=null;for(const T of t)try{const N=yield T._get(h);if(N){const B=ms._fromJSON(e,N);T!==c&&(m=B),c=T;break}}catch{}const y=s.filter(T=>T._shouldAllowMigration);return c._shouldAllowMigration&&y.length?(c=y[0],m&&(yield c._set(h,m.toJSON())),yield Promise.all(t.map(function(){var T=(0,X.A)(function*(N){if(N!==c)try{yield N._remove(h)}catch{}});return function(N){return T.apply(this,arguments)}}())),new ca(c,e,r)):new ca(c,e,r)})()}}function po(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ka(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jn(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nl(e))return"Blackberry";if(mi(e))return"Webos";if(gh(e))return"Safari";if((e.includes("chrome/")||id(e))&&!e.includes("edge/"))return"Chrome";if(nl(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function Jn(n=Ot()){return/firefox\//i.test(n)}function gh(n=Ot()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function id(n=Ot()){return/crios\//i.test(n)}function ka(n=Ot()){return/iemobile/i.test(n)}function nl(n=Ot()){return/android/i.test(n)}function Nl(n=Ot()){return/blackberry/i.test(n)}function mi(n=Ot()){return/webos/i.test(n)}function Fl(n=Ot()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Ol(n=Ot()){return Fl(n)||nl(n)||mi(n)||Nl(n)||/windows phone/i.test(n)||ka(n)}function ua(n,e=[]){let t;switch(n){case"Browser":t=po(Ot());break;case"Worker":t=`${po(Ot())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Cr}/${r}`}class bg{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=c=>new Promise((h,m)=>{try{h(e(c))}catch(y){m(y)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,X.A)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const s of t.queue)yield s(e),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const c of r)try{c()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null==s?void 0:s.message})}})()}}function hp(){return(hp=(0,X.A)(function*(n,e={}){return Hr(n,"GET","/v2/passwordPolicy",Vr(n,e))})).apply(this,arguments)}class fp{constructor(e){var t,r,s,c;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=h.minPasswordLength)&&void 0!==t?t:6,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),void 0!==h.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),void 0!==h.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),void 0!==h.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),void 0!==h.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(s=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==s?s:"",this.forceUpgradeOnSignin=null!==(c=e.forceUpgradeOnSignin)&&void 0!==c&&c,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,c,h,m;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=null===(t=y.meetsMinPasswordLength)||void 0===t||t),y.isValid&&(y.isValid=null===(r=y.meetsMaxPasswordLength)||void 0===r||r),y.isValid&&(y.isValid=null===(s=y.containsLowercaseLetter)||void 0===s||s),y.isValid&&(y.isValid=null===(c=y.containsUppercaseLetter)||void 0===c||c),y.isValid&&(y.isValid=null===(h=y.containsNumericCharacter)||void 0===h||h),y.isValid&&(y.isValid=null===(m=y.containsNonAlphanumericCharacter)||void 0===m||m),y}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Uy{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new By(this),this.idTokenSubscription=new By(this),this.beforeStateQueue=new bg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ci(t)),this._initializationPromise=this.queue((0,X.A)(function*(){var s,c;if(!r._deleted&&(r.persistenceManager=yield ca.create(r,e),!r._deleted)){if(null!==(s=r._popupRedirectResolver)&&void 0!==s&&s._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(c=r.currentUser)||void 0===c?void 0:c.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,X.A)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return(0,X.A)(function*(){try{const r=yield te(t,{idToken:e}),s=yield ms._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(s)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return(0,X.A)(function*(){var r;if(qt(t.app)){const m=t.app.settings.authIdToken;return m?new Promise(y=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(m).then(y,y))}):t.directlySetCurrentUser(null)}const s=yield t.assertedPersistence.getCurrentUser();let c=s,h=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const m=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,y=null==c?void 0:c._redirectEventId,T=yield t.tryRedirectSignIn(e);(!m||m===y)&&null!=T&&T.user&&(c=T.user,h=!0)}if(!c)return t.directlySetCurrentUser(null);if(!c._redirectEventId){if(h)try{yield t.beforeStateQueue.runMiddleware(c)}catch(m){c=s,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(m))}return c?t.reloadAndSetCurrentUserOrClear(c):t.directlySetCurrentUser(null)}return Bt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===c._redirectEventId?t.directlySetCurrentUser(c):t.reloadAndSetCurrentUserOrClear(c)})()}tryRedirectSignIn(e){var t=this;return(0,X.A)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,X.A)(function*(){try{yield Jr(e)}catch(r){if("auth/network-request-failed"!==(null==r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function ed(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,X.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,X.A)(function*(){if(qt(t.app))return Promise.reject(Pi(t));const r=e?Mt(e):null;return r&&Bt(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,X.A)(function*(){if(!r._deleted)return e&&Bt(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,X.A)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,X.A)(function*(){return qt(e.app)?Promise.reject(Pi(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return qt(this.app)?Promise.reject(Pi(this)):this.queue((0,X.A)(function*(){yield t.assertedPersistence.setPersistence(Ci(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,X.A)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,X.A)(function*(){const t=yield function Vy(n){return hp.apply(this,arguments)}(e),r=new fp(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return(0,X.A)(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(s.tenantId=t.tenantId),yield function Ml(n,e){return mh.apply(this,arguments)}(t,s)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,X.A)(function*(){const s=yield r.getOrInitRedirectPersistenceManager(t);return null===e?s.removeCurrentUser():s.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,X.A)(function*(){if(!t.redirectPersistenceManager){const r=e&&Ci(e)||t._popupRedirectResolver;Bt(r,t,"argument-error"),t.redirectPersistenceManager=yield ca.create(t,[Ci(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,X.A)(function*(){var r,s;return t._isInitialized&&(yield t.queue((0,X.A)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(s=t.redirectUser)||void 0===s?void 0:s._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,X.A)(function*(){if(e===t.currentUser)return t.queue((0,X.A)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const c="function"==typeof t?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),"function"==typeof t){const y=e.addObserver(t,r,s);return()=>{h=!0,y()}}{const y=e.addObserver(t);return()=>{h=!0,y()}}}directlySetCurrentUser(e){var t=this;return(0,X.A)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ua(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,X.A)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const s=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();s&&(r["X-Firebase-Client"]=s);const c=yield e._getAppCheckToken();return c&&(r["X-Firebase-AppCheck"]=c),r})()}_getAppCheckToken(){var e=this;return(0,X.A)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return null!=r&&r.error&&function Ri(n,...e){Yi.logLevel<=Tn.WARN&&Yi.warn(`Auth (${Cr}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),null==r?void 0:r.token})()}}function Zr(n){return Mt(n)}class By{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fr(t=>this.observer=t)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vh={loadJS:()=>(0,X.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tg(n){return vh.loadJS(n)}function nw(n){return`__${n}${Math.floor(1e6*Math.random())}`}class rw{constructor(e){this.type="recaptcha-enterprise",this.auth=Zr(e)}verify(e="verify",t=!1){var r=this;return(0,X.A)(function*(){function c(){return c=(0,X.A)(function*(m){if(!t){if(null==m.tenantId&&null!=m._agentRecaptchaConfig)return m._agentRecaptchaConfig.siteKey;if(null!=m.tenantId&&void 0!==m._tenantRecaptchaConfigs[m.tenantId])return m._tenantRecaptchaConfigs[m.tenantId].siteKey}return new Promise(function(){var y=(0,X.A)(function*(T,N){P(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(B=>{if(void 0!==B.recaptchaKey){const q=new qc(B);return null==m.tenantId?m._agentRecaptchaConfig=q:m._tenantRecaptchaConfigs[m.tenantId]=q,T(q.siteKey)}N(new Error("recaptcha Enterprise site key undefined"))}).catch(B=>{N(B)})});return function(T,N){return y.apply(this,arguments)}}())}),c.apply(this,arguments)}function h(m,y,T){const N=window.grecaptcha;ph(N)?N.enterprise.ready(()=>{N.enterprise.execute(m,{action:e}).then(B=>{y(B)}).catch(()=>{y("NO_RECAPTCHA")})}):T(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((m,y)=>{(function s(m){return c.apply(this,arguments)})(r.auth).then(T=>{if(!t&&ph(window.grecaptcha))h(T,m,y);else{if(typeof window>"u")return void y(new Error("RecaptchaVerifier is only supported in browser"));let N=function zy(){return vh.recaptchaEnterpriseScript}();0!==N.length&&(N+=T),Tg(N).then(()=>{h(T,m,y)}).catch(B=>{y(B)})}}).catch(T=>{y(T)})})})()}}function iw(n,e,t){return pp.apply(this,arguments)}function pp(){return(pp=(0,X.A)(function*(n,e,t,r=!1){const s=new rw(n);let c;try{c=yield s.verify(t)}catch{c=yield s.verify(t,!0)}const h=Object.assign({},e);return Object.assign(h,r?{captchaResp:c}:{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h})).apply(this,arguments)}function b(n,e,t,r){return R.apply(this,arguments)}function R(){return R=(0,X.A)(function*(n,e,t,r){var s;if(null!==(s=n._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=yield iw(n,e,t,"getOobCode"===t);return r(n,c)}return r(n,e).catch(function(){var c=(0,X.A)(function*(h){if("auth/missing-recaptcha-token"===h.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=yield iw(n,e,t,"getOobCode"===t);return r(n,m)}return Promise.reject(h)});return function(h){return c.apply(this,arguments)}}())}),R.apply(this,arguments)}function xe(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Ve(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Pn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fo("not implemented")}_getIdTokenResponse(e){return fo("not implemented")}_linkToIdToken(e,t){return fo("not implemented")}_getReauthenticationResolver(e){return fo("not implemented")}}function ai(n,e){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,X.A)(function*(n,e){return Hr(n,"POST","/v1/accounts:resetPassword",Vr(n,e))})).apply(this,arguments)}function rl(){return(rl=(0,X.A)(function*(n,e){return Hr(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function as(n,e){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,X.A)(function*(n,e){return Hr(n,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function Vl(){return(Vl=(0,X.A)(function*(n,e){return Hr(n,"POST","/v1/accounts:update",Vr(n,e))})).apply(this,arguments)}function jy(n,e){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,X.A)(function*(n,e){return Ls(n,"POST","/v1/accounts:signInWithPassword",Vr(n,e))})).apply(this,arguments)}function Gr(n,e){return mp.apply(this,arguments)}function mp(){return(mp=(0,X.A)(function*(n,e){return Hr(n,"POST","/v1/accounts:sendOobCode",Vr(n,e))})).apply(this,arguments)}function Xo(){return(Xo=(0,X.A)(function*(n,e){return Gr(n,e)})).apply(this,arguments)}function SR(n,e){return od.apply(this,arguments)}function od(){return(od=(0,X.A)(function*(n,e){return Gr(n,e)})).apply(this,arguments)}function yh(n,e){return _s.apply(this,arguments)}function _s(){return(_s=(0,X.A)(function*(n,e){return Gr(n,e)})).apply(this,arguments)}function _p(){return(_p=(0,X.A)(function*(n,e){return Gr(n,e)})).apply(this,arguments)}function Na(){return(Na=(0,X.A)(function*(n,e){return Ls(n,"POST","/v1/accounts:signInWithEmailLink",Vr(n,e))})).apply(this,arguments)}function $y(){return($y=(0,X.A)(function*(n,e){return Ls(n,"POST","/v1/accounts:signInWithEmailLink",Vr(n,e))})).apply(this,arguments)}class Eh extends Pn{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Eh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Eh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(null!=t&&t.email&&null!=t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,X.A)(function*(){switch(t.signInMethod){case"password":return b(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",jy);case"emailLink":return function RR(n,e){return Na.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:$r(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,X.A)(function*(){switch(r.signInMethod){case"password":return b(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",as);case"emailLink":return function ow(n,e){return $y.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:$r(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function il(n,e){return vp.apply(this,arguments)}function vp(){return(vp=(0,X.A)(function*(n,e){return Ls(n,"POST","/v1/accounts:signInWithIdp",Vr(n,e))})).apply(this,arguments)}class da extends Pn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,c=(0,fs.Tt)(t,["providerId","signInMethod"]);if(!r||!s)return null;const h=new da(r,s);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){return il(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,il(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,il(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ln(t)}return e}}function fc(){return(fc=(0,X.A)(function*(n,e){return Hr(n,"POST","/v1/accounts:sendVerificationCode",Vr(n,e))})).apply(this,arguments)}function Ag(){return(Ag=(0,X.A)(function*(n,e){return Ls(n,"POST","/v1/accounts:signInWithPhoneNumber",Vr(n,e))})).apply(this,arguments)}function Gy(){return(Gy=(0,X.A)(function*(n,e){const t=yield Ls(n,"POST","/v1/accounts:signInWithPhoneNumber",Vr(n,e));if(t.temporaryProof)throw tl(n,"account-exists-with-different-credential",t);return t})).apply(this,arguments)}const PR={USER_NOT_FOUND:"user-not-found"};function Sg(){return(Sg=(0,X.A)(function*(n,e){return Ls(n,"POST","/v1/accounts:signInWithPhoneNumber",Vr(n,Object.assign(Object.assign({},e),{operation:"REAUTH"})),PR)})).apply(this,arguments)}class Fa extends Pn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Fa({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Fa({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function Zn(n,e){return Ag.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function GF(n,e){return Gy.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function xR(n,e){return Sg.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:s}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:c}=e;return r||t||s||c?new Fa({verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:c}):null}}class Ep{constructor(e){var t,r,s,c,h,m;const y=pr(cr(e)),T=null!==(t=y.apiKey)&&void 0!==t?t:null,N=null!==(r=y.oobCode)&&void 0!==r?r:null,B=function MR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(s=y.mode)&&void 0!==s?s:null);Bt(T&&N&&B,"argument-error"),this.apiKey=T,this.operation=B,this.code=N,this.continueUrl=null!==(c=y.continueUrl)&&void 0!==c?c:null,this.languageCode=null!==(h=y.languageCode)&&void 0!==h?h:null,this.tenantId=null!==(m=y.tenantId)&&void 0!==m?m:null}static parseLink(e){const t=function kR(n){const e=pr(cr(n)).link,t=e?pr(cr(e)).deep_link_id:null,r=pr(cr(n)).deep_link_id;return(r?pr(cr(r)).link:null)||r||t||e||n}(e);try{return new Ep(t)}catch{return null}}}let Wy=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Eh._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const s=Ep.parseLink(r);return Bt(s,"argument-error"),Eh._fromEmailAndCode(t,s.code,s.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class yt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class dr extends yt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sd extends dr{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return Bt("providerId"in t&&"signInMethod"in t,"argument-error"),da._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Bt(e.idToken||e.accessToken,"argument-error"),da._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return sd.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return sd.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:c,nonce:h,providerId:m}=e;if(!r&&!s&&!t&&!c||!m)return null;try{return new sd(m)._credential({idToken:t,accessToken:r,nonce:h,pendingToken:c})}catch{return null}}}let qy=(()=>{class n extends dr{constructor(){super("facebook.com")}static credential(t){return da._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),Qr=(()=>{class n extends dr{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return da._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:s}=t;if(!r&&!s)return null;try{return n.credential(r,s)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),Ky=(()=>{class n extends dr{constructor(){super("github.com")}static credential(t){return da._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class vs extends Pn{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return il(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,il(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,il(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:s,pendingToken:c}=t;return r&&s&&c&&r===s?new vs(r,c):null}static _create(e,t){return new vs(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ih extends yt{constructor(e){Bt(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Ih.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ih.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=vs.fromJSON(e);return Bt(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return vs._create(r,t)}catch{return null}}}let sw=(()=>{class n extends dr{constructor(){super("twitter.com")}static credential(t,r){return da._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:s}=t;if(!r||!s)return null;try{return n.credential(r,s)}catch{return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function NR(n,e){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,X.A)(function*(n,e){return Ls(n,"POST","/v1/accounts:signUp",Vr(n,e))})).apply(this,arguments)}class gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,s=!1){return(0,X.A)(function*(){const c=yield ms._fromIdTokenResponse(e,r,s),h=Ul(r);return new gi({user:c,providerId:h,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,X.A)(function*(){yield e._updateTokensIfNecessary(r,!0);const s=Ul(r);return new gi({user:e,providerId:s,_tokenResponse:r,operationType:t})})()}}function Ul(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function ha(){return(ha=(0,X.A)(function*(n){var e;if(qt(n.app))return Promise.reject(Pi(n));const t=Zr(n);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new gi({user:t.currentUser,providerId:null,operationType:"signIn"});const r=yield NR(t,{returnSecureToken:!0}),s=yield gi._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(s.user),s})).apply(this,arguments)}class Oa extends zt{constructor(e,t,r,s){var c;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Oa.prototype),this.customData={appName:e.name,tenantId:null!==(c=e.tenantId)&&void 0!==c?c:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Oa(e,t,r,s)}}function lw(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw"auth/multi-factor-auth-required"===c.code?Oa._fromErrorAndOperation(n,c,e,r):c})}function Qy(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function Yy(){return Yy=(0,X.A)(function*(n,e){const t=Mt(n);yield Ch(!0,t,e);const{providerUserInfo:r}=yield function C(n,e){return $.apply(this,arguments)}(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),s=Qy(r||[]);return t.providerData=t.providerData.filter(c=>s.has(c.providerId)),s.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t}),Yy.apply(this,arguments)}function Cp(n,e){return bp.apply(this,arguments)}function bp(){return(bp=(0,X.A)(function*(n,e,t=!1){const r=yield xr(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return gi._forOperation(n,"link",r)})).apply(this,arguments)}function Ch(n,e,t){return bh.apply(this,arguments)}function bh(){return(bh=(0,X.A)(function*(n,e,t){yield Jr(e);const s=!1===n?"provider-already-linked":"no-such-provider";Bt(Qy(e.providerData).has(t)===n,e.auth,s)})).apply(this,arguments)}function cw(n,e){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,X.A)(function*(n,e,t=!1){const{auth:r}=n;if(qt(r.app))return Promise.reject(Pi(r));const s="reauthenticate";try{const c=yield xr(n,lw(r,s,e,n),t);Bt(c.idToken,r,"internal-error");const h=Yn(c.idToken);Bt(h,r,"internal-error");const{sub:m}=h;return Bt(n.uid===m,r,"user-mismatch"),gi._forOperation(n,s,c)}catch(c){throw"auth/user-not-found"===(null==c?void 0:c.code)&&$r(r,"user-mismatch"),c}})).apply(this,arguments)}function Pg(n,e){return xg.apply(this,arguments)}function xg(){return(xg=(0,X.A)(function*(n,e,t=!1){if(qt(n.app))return Promise.reject(Pi(n));const r="signIn",s=yield lw(n,r,e),c=yield gi._fromIdTokenResponse(n,r,s);return t||(yield n._updateCurrentUser(c.user)),c})).apply(this,arguments)}function wp(n,e){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,X.A)(function*(n,e){return Pg(Zr(n),e)})).apply(this,arguments)}function Jy(n,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,X.A)(function*(n,e){const t=Mt(n);return yield Ch(!1,t,e.providerId),Cp(t,e)})).apply(this,arguments)}function uw(n,e){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,X.A)(function*(n,e){return cw(Mt(n),e)})).apply(this,arguments)}function li(){return(li=(0,X.A)(function*(n,e){return Ls(n,"POST","/v1/accounts:signInWithCustomToken",Vr(n,e))})).apply(this,arguments)}function Zy(){return Zy=(0,X.A)(function*(n,e){if(qt(n.app))return Promise.reject(Pi(n));const t=Zr(n),r=yield function ad(n,e){return li.apply(this,arguments)}(t,{token:e,returnSecureToken:!0}),s=yield gi._fromIdTokenResponse(t,"signIn",r);return yield t._updateCurrentUser(s.user),s}),Zy.apply(this,arguments)}class Ap{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?e0._fromServerResponse(e,t):"totpInfo"in t?kg._fromServerResponse(e,t):$r(e,"internal-error")}}class e0 extends Ap{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new e0(t)}}class kg extends Ap{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new kg(t)}}function Sp(n,e,t){var r;Bt((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),Bt(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Bt(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Bt(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function ld(n){return La.apply(this,arguments)}function La(){return(La=(0,X.A)(function*(n){const e=Zr(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function wh(){return(wh=(0,X.A)(function*(n,e,t){const r=Zr(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Sp(r,s,t),yield b(r,s,"getOobCode",SR)})).apply(this,arguments)}function Th(){return Th=(0,X.A)(function*(n,e,t){yield ai(Mt(n),{oobCode:e,newPassword:t}).catch(function(){var r=(0,X.A)(function*(s){throw"auth/password-does-not-meet-requirements"===s.code&&ld(n),s});return function(s){return r.apply(this,arguments)}}())}),Th.apply(this,arguments)}function Fg(){return Fg=(0,X.A)(function*(n,e){yield function Qc(n,e){return Vl.apply(this,arguments)}(Mt(n),{oobCode:e})}),Fg.apply(this,arguments)}function n0(n,e){return r0.apply(this,arguments)}function r0(){return(r0=(0,X.A)(function*(n,e){const t=Mt(n),r=yield ai(t,{oobCode:e}),s=r.requestType;switch(Bt(s,t,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Bt(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Bt(r.mfaInfo,t,"internal-error");default:Bt(r.email,t,"internal-error")}let c=null;return r.mfaInfo&&(c=Ap._fromServerResponse(Zr(t),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:c},operation:s}})).apply(this,arguments)}function cd(){return(cd=(0,X.A)(function*(n,e){const{data:t}=yield n0(Mt(n),e);return t.email})).apply(this,arguments)}function Dp(){return(Dp=(0,X.A)(function*(n,e,t){if(qt(n.app))return Promise.reject(Pi(n));const r=Zr(n),h=yield b(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NR).catch(y=>{throw"auth/password-does-not-meet-requirements"===y.code&&ld(n),y}),m=yield gi._fromIdTokenResponse(r,"signIn",h);return yield r._updateCurrentUser(m.user),m})).apply(this,arguments)}function o0(){return(o0=(0,X.A)(function*(n,e,t){const r=Zr(n),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};(function c(h,m){Bt(m.handleCodeInApp,r,"argument-error"),m&&Sp(r,h,m)})(s,t),yield b(r,s,"getOobCode",yh)})).apply(this,arguments)}function Rp(){return(Rp=(0,X.A)(function*(n,e,t){if(qt(n.app))return Promise.reject(Pi(n));const r=Mt(n),s=Wy.credentialWithLink(e,t||Rl());return Bt(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),wp(r,s)})).apply(this,arguments)}function s0(){return(s0=(0,X.A)(function*(n,e){return Hr(n,"POST","/v1/accounts:createAuthUri",Vr(n,e))})).apply(this,arguments)}function Mp(){return Mp=(0,X.A)(function*(n,e){const r={identifier:e,continueUri:Pl()?Rl():"http://localhost"},{signinMethods:s}=yield function Pp(n,e){return s0.apply(this,arguments)}(Mt(n),r);return s||[]}),Mp.apply(this,arguments)}function dw(){return dw=(0,X.A)(function*(n,e){const t=Mt(n),s={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&Sp(t.auth,s,e);const{email:c}=yield function gp(n,e){return Xo.apply(this,arguments)}(t.auth,s);c!==n.email&&(yield n.reload())}),dw.apply(this,arguments)}function Lg(){return Lg=(0,X.A)(function*(n,e,t){const r=Mt(n),c={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&Sp(r.auth,c,t);const{email:h}=yield function DR(n,e){return _p.apply(this,arguments)}(r.auth,c);h!==n.email&&(yield n.reload())}),Lg.apply(this,arguments)}function Va(){return(Va=(0,X.A)(function*(n,e){return Hr(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Sh(){return Sh=(0,X.A)(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=Mt(n),c={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=yield xr(r,function zR(n,e){return Va.apply(this,arguments)}(r.auth,c));r.displayName=h.displayName||null,r.photoURL=h.photoUrl||null;const m=r.providerData.find(({providerId:y})=>"password"===y);m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),yield r._updateTokensIfNecessary(h)}),Sh.apply(this,arguments)}function kp(n,e,t){return Np.apply(this,arguments)}function Np(){return Np=(0,X.A)(function*(n,e,t){const{auth:r}=n,c={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(c.email=e),t&&(c.password=t);const h=yield xr(n,function no(n,e){return rl.apply(this,arguments)}(r,c));yield n._updateTokensIfNecessary(h,!0)}),Np.apply(this,arguments)}class ud{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class l0 extends ud{constructor(e,t,r,s){super(e,t,r),this.username=s}}class pw extends ud{constructor(e,t){super(e,"facebook.com",t)}}class mw extends l0{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class HR extends ud{constructor(e,t){super(e,"google.com",t)}}class Vg extends l0{constructor(e,t,r){super(e,"twitter.com",t,r)}}function dd(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function $R(n){var e,t;if(!n)return null;const{providerId:r}=n,s=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},c=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!r&&null!=n&&n.idToken){const h=null===(t=null===(e=Yn(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(h)return new ud(c,"anonymous"!==h&&"custom"!==h?h:null)}if(!r)return null;switch(r){case"facebook.com":return new pw(c,s);case"github.com":return new mw(c,s);case"google.com":return new HR(c,s);case"twitter.com":return new Vg(c,s,n.screenName||null);case"custom":case"anonymous":return new ud(c,null);default:return new ud(c,r,s)}}(t)}class Zc{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Zc("enroll",e,t)}static _fromMfaPendingCredential(e){return new Zc("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(null!=e&&e.multiFactorSession){if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return Zc._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(r=e.multiFactorSession)&&void 0!==r&&r.idToken)return Zc._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Fp{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Zr(e),s=t.customData._serverResponse,c=(s.mfaInfo||[]).map(m=>Ap._fromServerResponse(r,m));Bt(s.mfaPendingCredential,r,"internal-error");const h=Zc._fromMfaPendingCredential(s.mfaPendingCredential);return new Fp(h,c,function(){var m=(0,X.A)(function*(y){const T=yield y._process(r,h);delete s.mfaInfo,delete s.mfaPendingCredential;const N=Object.assign(Object.assign({},s),{idToken:T.idToken,refreshToken:T.refreshToken});switch(t.operationType){case"signIn":const B=yield gi._fromIdTokenResponse(r,t.operationType,N);return yield r._updateCurrentUser(B.user),B;case"reauthenticate":return Bt(t.user,r,"internal-error"),gi._forOperation(t.user,t.operationType,N);default:$r(r,"internal-error")}});return function(y){return m.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,X.A)(function*(){return t.signInResolver(e)})()}}class d0{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Ap._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new d0(e)}getSession(){var e=this;return(0,X.A)(function*(){return Zc._fromIdtoken(yield e.user.getIdToken(),e.user)})()}enroll(e,t){var r=this;return(0,X.A)(function*(){const s=e,c=yield r.getSession(),h=yield xr(r.user,s._process(r.user.auth,c,t));return yield r.user._updateTokensIfNecessary(h),r.user.reload()})()}unenroll(e){var t=this;return(0,X.A)(function*(){const r="string"==typeof e?e:e.uid,s=yield t.user.getIdToken();try{const c=yield xr(t.user,function vw(n,e){return Hr(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Vr(n,e))}(t.user.auth,{idToken:s,mfaEnrollmentId:r}));t.enrolledFactors=t.enrolledFactors.filter(({uid:h})=>h!==r),yield t.user._updateTokensIfNecessary(c),yield t.user.reload()}catch(c){throw c}})()}}const Bg=new WeakMap,zg="__sak";class JR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zg,"1"),this.storage.removeItem(zg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Op=(()=>{class n extends JR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yw(){const n=Ot();return gh(n)||Fl(n)}()&&function dp(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ol(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const s=this.storage.getItem(r),c=this.localCache[r];s!==c&&t(r,c,s)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((m,y,T)=>{this.notifyListeners(m,T)});const s=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const m=this.storage.getItem(s);if(t.newValue!==m)null!==t.newValue?this.storage.setItem(s,t.newValue):this.storage.removeItem(s);else if(this.localCache[s]===t.newValue&&!r)return}const c=()=>{const m=this.storage.getItem(s);!r&&this.localCache[s]===m||this.notifyListeners(s,m)},h=this.storage.getItem(s);!function _h(){return J()&&10===document.documentMode}()||h===t.newValue||t.newValue===t.oldValue?c():setTimeout(c,10)}notifyListeners(t,r){this.localCache[t]=r;const s=this.listeners[t];if(s)for(const c of Array.from(s))c(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:s}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var s=()=>super._set,c=this;return(0,X.A)(function*(){yield s().call(c,t,r),c.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,s=this;return(0,X.A)(function*(){const c=yield r().call(s,t);return s.localCache[t]=JSON.stringify(c),c})()}_remove(t){var r=()=>super._remove,s=this;return(0,X.A)(function*(){yield r().call(s,t),delete s.localCache[t]})()}}return n.type="LOCAL",n})(),Bl=(()=>{class n extends JR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Iw=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(c=>c.isListeningto(t));if(r)return r;const s=new n(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,X.A)(function*(){const s=t,{eventId:c,eventType:h,data:m}=s.data,y=r.handlersMap[h];if(null==y||!y.size)return;s.ports[0].postMessage({status:"ack",eventId:c,eventType:h});const T=Array.from(y).map(function(){var B=(0,X.A)(function*(q){return q(s.origin,m)});return function(q){return B.apply(this,arguments)}}()),N=yield function pc(n){return Promise.all(n.map(function(){var e=(0,X.A)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(T);s.ports[0].postMessage({status:"done",eventId:c,eventType:h,response:N})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function zl(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class ZR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var s=this;return(0,X.A)(function*(){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let h,m;return new Promise((y,T)=>{const N=zl("",20);c.port1.start();const B=setTimeout(()=>{T(new Error("unsupported_event"))},r);m={messageChannel:c,onMessage(q){const ue=q;if(ue.data.eventId===N)switch(ue.data.status){case"ack":clearTimeout(B),h=setTimeout(()=>{T(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(ue.data.response);break;default:clearTimeout(B),clearTimeout(h),T(new Error("invalid_response"))}}},s.handlers.add(m),c.port1.addEventListener("message",m.onMessage),s.target.postMessage({eventType:e,eventId:N,data:t},[c.port2])}).finally(()=>{m&&s.removeMessageHandler(m)})})()}}function ro(){return window}function bw(){return typeof ro().WorkerGlobalScope<"u"&&"function"==typeof ro().importScripts}function ww(){return(ww=(0,X.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Tw="firebaseLocalStorageDb",eu="firebaseLocalStorage",h0="fbase_key";class Lp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ph(n,e){return n.transaction([eu],e?"readwrite":"readonly").objectStore(eu)}function f0(){const n=indexedDB.open(Tw,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(eu,{keyPath:h0})}catch(s){t(s)}}),n.addEventListener("success",(0,X.A)(function*(){const r=n.result;r.objectStoreNames.contains(eu)?e(r):(r.close(),yield function jl(){const n=indexedDB.deleteDatabase(Tw);return new Lp(n).toPromise()}(),e(yield f0()))}))})}function jg(n,e,t){return hd.apply(this,arguments)}function hd(){return(hd=(0,X.A)(function*(n,e,t){const r=Ph(n,!0).put({[h0]:e,value:t});return new Lp(r).toPromise()})).apply(this,arguments)}function $g(){return($g=(0,X.A)(function*(n,e){const t=Ph(n,!1).get(e),r=yield new Lp(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function p0(n,e){const t=Ph(n,!0).delete(e);return new Lp(t).toPromise()}const xh=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,X.A)(function*(){return t.db||(t.db=yield f0()),t.db})()}_withRetries(t){var r=this;return(0,X.A)(function*(){let s=0;for(;;)try{const c=yield r._openDb();return yield t(c)}catch(c){if(s++>3)throw c;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,X.A)(function*(){return bw()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,X.A)(function*(){t.receiver=Iw._getInstance(function tO(){return bw()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,X.A)(function*(s,c){return{keyProcessed:(yield t._poll()).includes(c.key)}});return function(s,c){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,X.A)(function*(s,c){return["keyChanged"]});return function(s,c){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,X.A)(function*(){var r,s;if(t.activeServiceWorker=yield function ZF(){return ww.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new ZR(t.activeServiceWorker);const c=yield t.sender._send("ping",{},800);c&&null!==(r=c[0])&&void 0!==r&&r.fulfilled&&null!==(s=c[0])&&void 0!==s&&s.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,X.A)(function*(){if(r.sender&&r.activeServiceWorker&&function eO(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,X.A)(function*(){try{if(!indexedDB)return!1;const t=yield f0();return yield jg(t,zg,"1"),yield p0(t,zg),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,X.A)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var s=this;return(0,X.A)(function*(){return s._withPendingWrite((0,X.A)(function*(){return yield s._withRetries(c=>jg(c,t,r)),s.localCache[t]=r,s.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,X.A)(function*(){const s=yield r._withRetries(c=>function eP(n,e){return $g.apply(this,arguments)}(c,t));return r.localCache[t]=s,s})()}_remove(t){var r=this;return(0,X.A)(function*(){return r._withPendingWrite((0,X.A)(function*(){return yield r._withRetries(s=>p0(s,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,X.A)(function*(){const r=yield t._withRetries(h=>{const m=Ph(h,!1).getAll();return new Lp(m).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const s=[],c=new Set;if(0!==r.length)for(const{fbase_key:h,value:m}of r)c.add(h),JSON.stringify(t.localCache[h])!==JSON.stringify(m)&&(t.notifyListeners(h,m),s.push(h));for(const h of Object.keys(t.localCache))t.localCache[h]&&!c.has(h)&&(t.notifyListeners(h,null),s.push(h));return s})()}notifyListeners(t,r){this.localCache[t]=r;const s=this.listeners[t];if(s)for(const c of Array.from(s))c(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,X.A)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})(),Qo=1e12;class m0{constructor(e){this.auth=e,this.counter=Qo,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new Dw(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Qo;null===(t=this._widgets.get(r))||void 0===t||t.delete(),this._widgets.delete(r)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Qo))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,X.A)(function*(){var r;return null===(r=t._widgets.get(e||Qo))||void 0===r||r.execute(),""})()}}class Dw{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s="string"==typeof e?document.getElementById(e):e;Bt(s,"argument-error",{appName:t}),this.container=s,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function g0(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(62*Math.random())));return e.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ko=nw("rcb"),Vp=new Os(3e4,6e4);class Rw{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=ro().grecaptcha)||void 0===e||!e.render)}load(e,t=""){return Bt(function Pw(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&rd(ro().grecaptcha)?Promise.resolve(ro().grecaptcha):new Promise((r,s)=>{const c=ro().setTimeout(()=>{s(oi(e,"network-request-failed"))},Vp.get());ro()[ko]=()=>{ro().clearTimeout(c),delete ro()[ko];const m=ro().grecaptcha;if(!m||!rd(m))return void s(oi(e,"internal-error"));const y=m.render;m.render=(T,N)=>{const B=y(T,N);return this.counter++,B},this.hostLanguage=t,r(m)},Tg(`${function ew(){return vh.recaptchaV2Script}()}?${Ln({onload:ko,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(c),s(oi(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!(null===(t=ro().grecaptcha)||void 0===t||!t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class oP{load(e){return(0,X.A)(function*(){return new m0(e)})()}clearedOneInstance(){}}const _0="recaptcha",sP={theme:"light",type:"image"};class xw{constructor(e,t,r=Object.assign({},sP)){this.parameters=r,this.type=_0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zr(e),this.isInvisible="invisible"===this.parameters.size,Bt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s="string"==typeof t?document.getElementById(t):t;Bt(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new oP:new Rw,this.validateStartingState()}verify(){var e=this;return(0,X.A)(function*(){e.assertNotDestroyed();const t=yield e.render(),r=e.getAssertedRecaptcha();return r.getResponse(t)||new Promise(c=>{const h=m=>{m&&(e.tokenChangeListeners.delete(h),c(m))};e.tokenChangeListeners.add(h),e.isInvisible&&r.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Bt(!this.parameters.sitekey,this.auth,"argument-error"),Bt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Bt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),"function"==typeof e)e(t);else if("string"==typeof e){const r=ro()[e];"function"==typeof r&&r(t)}}}assertNotDestroyed(){Bt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,X.A)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const r=document.createElement("div");t.appendChild(r),t=r}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,X.A)(function*(){Bt(Pl()&&!bw(),e.auth,"internal-error"),yield function aP(){let n=null;return new Promise(e=>{"complete"!==document.readyState?(n=()=>e(),window.addEventListener("load",n)):e()}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function Vs(n){return I.apply(this,arguments)}(e.auth);Bt(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return Bt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wg{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Fa._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function v0(){return(v0=(0,X.A)(function*(n,e,t){if(qt(n.app))return Promise.reject(Pi(n));const r=Zr(n),s=yield Up(r,e,Mt(t));return new Wg(s,c=>wp(r,c))})).apply(this,arguments)}function y0(){return(y0=(0,X.A)(function*(n,e,t){const r=Mt(n);yield Ch(!1,r,"phone");const s=yield Up(r.auth,e,Mt(t));return new Wg(s,c=>Jy(r,c))})).apply(this,arguments)}function qg(){return(qg=(0,X.A)(function*(n,e,t){const r=Mt(n);if(qt(r.auth.app))return Promise.reject(Pi(r.auth));const s=yield Up(r.auth,e,Mt(t));return new Wg(s,c=>uw(r,c))})).apply(this,arguments)}function Up(n,e,t){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,X.A)(function*(n,e,t){var r;const s=yield t.verify();try{let c;if(Bt("string"==typeof s,n,"argument-error"),Bt(t.type===_0,n,"argument-error"),c="string"==typeof e?{phoneNumber:e}:e,"session"in c){const h=c.session;if("phoneNumber"in c)return Bt("enroll"===h.type,n,"internal-error"),(yield function _w(n,e){return Hr(n,"POST","/v2/accounts/mfaEnrollment:start",Vr(n,e))}(n,{idToken:h.credential,phoneEnrollmentInfo:{phoneNumber:c.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{Bt("signin"===h.type,n,"internal-error");const m=(null===(r=c.multiFactorHint)||void 0===r?void 0:r.uid)||c.multiFactorUid;return Bt(m,n,"missing-multi-factor-info"),(yield function tP(n,e){return Hr(n,"POST","/v2/accounts/mfaSignIn:start",Vr(n,e))}(n,{mfaPendingCredential:h.credential,mfaEnrollmentId:m,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:h}=yield function Hy(n,e){return fc.apply(this,arguments)}(n,{phoneNumber:c.phoneNumber,recaptchaToken:s});return h}}finally{t._reset()}}),Mh.apply(this,arguments)}function Kg(){return(Kg=(0,X.A)(function*(n,e){const t=Mt(n);if(qt(t.auth.app))return Promise.reject(Pi(t.auth));yield Cp(t,e)})).apply(this,arguments)}let kh=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=Zr(t)}verifyPhoneNumber(t,r){return Up(this.auth,t,Mt(r))}static credential(t,r){return Fa._fromVerification(t,r)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:r,temporaryProof:s}=t;return r&&s?Fa._fromTokenResponse(r,s):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function tu(n,e){return e?Ci(e):(Bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class E0 extends Pn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,t){return il(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uP(n){return Pg(n.auth,new E0(n),n.bypassAuthState)}function dP(n){const{auth:e,user:t}=n;return Bt(t,e,"internal-error"),cw(t,new E0(n),n.bypassAuthState)}function hP(n){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,X.A)(function*(n){const{auth:e,user:t}=n;return Bt(t,e,"internal-error"),Cp(t,new E0(n),n.bypassAuthState)})).apply(this,arguments)}class fP{constructor(e,t,r,s,c=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,X.A)(function*(r,s){e.pendingPromise={resolve:r,reject:s};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(c){e.reject(c)}});return function(r,s){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,X.A)(function*(){const{urlResponse:r,sessionId:s,postBody:c,tenantId:h,error:m,type:y}=e;if(m)return void t.reject(m);const T={auth:t.auth,requestUri:r,sessionId:s,tenantId:h||void 0,postBody:c||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(y)(T))}catch(N){t.reject(N)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uP;case"linkViaPopup":case"linkViaRedirect":return hP;case"reauthViaPopup":case"reauthViaRedirect":return dP;default:$r(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nw=new Os(2e3,1e4);function I0(){return(I0=(0,X.A)(function*(n,e,t){if(qt(n.app))return Promise.reject(oi(n,"operation-not-supported-in-this-environment"));const r=Zr(n);Fs(n,e,yt);const s=tu(r,t);return new b0(r,"signInViaPopup",e,s).executeNotNull()})).apply(this,arguments)}function C0(){return(C0=(0,X.A)(function*(n,e,t){const r=Mt(n);if(qt(r.auth.app))return Promise.reject(oi(r.auth,"operation-not-supported-in-this-environment"));Fs(r.auth,e,yt);const s=tu(r.auth,t);return new b0(r.auth,"reauthViaPopup",e,s,r).executeNotNull()})).apply(this,arguments)}function Bp(){return(Bp=(0,X.A)(function*(n,e,t){const r=Mt(n);Fs(r.auth,e,yt);const s=tu(r.auth,t);return new b0(r.auth,"linkViaPopup",e,s,r).executeNotNull()})).apply(this,arguments)}let b0=(()=>{class n extends fP{constructor(t,r,s,c,h){super(t,r,c,h),this.provider=s,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return(0,X.A)(function*(){const r=yield t.execute();return Bt(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return(0,X.A)(function*(){xi(1===t.filter.length,"Popup operations only handle one event");const r=zl();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(s=>{t.reject(s)}),t.resolver._isIframeWebStorageSupported(t.auth,s=>{s||t.reject(oi(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,s;this.pollId=null!==(s=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==s&&s.closed?window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,Nw.get())};t()}}return n.currentPopupAction=null,n})();const nu="pendingRedirect",Nh=new Map;class mP extends fP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,X.A)(function*(){let r=Nh.get(t.auth._key());if(!r){try{const c=(yield function Ow(n,e){return zp.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(c)}catch(s){r=()=>Promise.reject(s)}Nh.set(t.auth._key(),r)}return t.bypassAuthState||Nh.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,X.A)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const s=yield r.auth._redirectUserForId(e.eventId);if(s)return r.user=s,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,X.A)(function*(){})()}cleanUp(){}}function zp(){return(zp=(0,X.A)(function*(n,e){const t=_P(e),r=Uw(n);if(!(yield r._isAvailable()))return!1;const s="true"===(yield r._get(t));return yield r._remove(t),s})).apply(this,arguments)}function Lw(n,e){return Vw.apply(this,arguments)}function Vw(){return(Vw=(0,X.A)(function*(n,e){return Uw(n)._set(_P(e),"true")})).apply(this,arguments)}function w0(n,e){Nh.set(n._key(),e)}function Uw(n){return Ci(n._redirectPersistence)}function _P(n){return gs(nu,n.config.apiKey,n.name)}function rO(n,e,t){return function Qg(n,e,t){return T0.apply(this,arguments)}(n,e,t)}function T0(){return(T0=(0,X.A)(function*(n,e,t){if(qt(n.app))return Promise.reject(Pi(n));const r=Zr(n);Fs(n,e,yt),yield r._initializationPromise;const s=tu(r,t);return yield Lw(s,r),s._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function A0(n,e,t){return function S0(n,e,t){return ru.apply(this,arguments)}(n,e,t)}function ru(){return(ru=(0,X.A)(function*(n,e,t){const r=Mt(n);if(Fs(r.auth,e,yt),qt(r.auth.app))return Promise.reject(Pi(r.auth));yield r.auth._initializationPromise;const s=tu(r.auth,t);yield Lw(s,r.auth);const c=yield Lh(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",c)})).apply(this,arguments)}function Yg(n,e,t){return function Jg(n,e,t){return iu.apply(this,arguments)}(n,e,t)}function iu(){return(iu=(0,X.A)(function*(n,e,t){const r=Mt(n);Fs(r.auth,e,yt),yield r.auth._initializationPromise;const s=tu(r.auth,t);yield Ch(!1,r,e.providerId),yield Lw(s,r.auth);const c=yield Lh(r);return s._openRedirect(r.auth,e,"linkViaRedirect",c)})).apply(this,arguments)}function ou(){return(ou=(0,X.A)(function*(n,e){return yield Zr(n)._initializationPromise,Fh(n,e,!1)})).apply(this,arguments)}function Fh(n,e){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,X.A)(function*(n,e,t=!1){if(qt(n.app))return Promise.reject(Pi(n));const r=Zr(n),s=tu(r,e),h=yield new mP(r,s,t).execute();return h&&!t&&(delete h.user._redirectEventId,yield r._persistUserIfCurrent(h.user),yield r._setRedirectUser(null,e)),h})).apply(this,arguments)}function Lh(n){return Bw.apply(this,arguments)}function Bw(){return(Bw=(0,X.A)(function*(n){const e=zl(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e})).apply(this,arguments)}class Vh{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function vP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return R0(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!R0(e)){const s=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(oi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zw(e))}saveEventToCache(e){this.cachedEventUids.add(zw(e)),this.lastProcessedEventTime=Date.now()}}function zw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function R0({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function jw(n){return $p.apply(this,arguments)}function $p(){return($p=(0,X.A)(function*(n,e={}){return Hr(n,"GET","/v1/projects",e)})).apply(this,arguments)}const $w=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yP=/^https?/;function fd(){return(fd=(0,X.A)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield jw(n);for(const t of e)try{if(Hw(t))return}catch{}$r(n,"unauthorized-domain")})).apply(this,arguments)}function Hw(n){const e=Rl(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return""===h.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&h.hostname===r}if(!yP.test(t))return!1;if($w.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const P0=new Os(3e4,6e4);function Gw(){const n=ro().___jsl;if(null!=n&&n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let x0=null;const IP=new Os(5e3,15e3),Zg="__/auth/iframe",M0="emulator/auth/iframe",CP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ww=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k0(n){const e=n.config;Bt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ps(e,M0):`https://${n.config.authDomain}/${Zg}`,r={apiKey:e.apiKey,appName:n.name,v:Cr},s=Ww.get(n.config.apiHost);s&&(r.eid=s);const c=n._getFrameworks();return c.length&&(r.fw=c.join(",")),`${t}?${Ln(r).slice(1)}`}function Uh(){return Uh=(0,X.A)(function*(n){const e=yield function Hp(n){return x0=x0||function iO(n){return new Promise((e,t)=>{var r,s,c;function h(){Gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gw(),t(oi(n,"network-request-failed"))},timeout:P0.get()})}if(null!==(s=null===(r=ro().gapi)||void 0===r?void 0:r.iframes)&&void 0!==s&&s.Iframe)e(gapi.iframes.getContext());else{if(null===(c=ro().gapi)||void 0===c||!c.load){const m=nw("iframefcb");return ro()[m]=()=>{gapi.load?h():t(oi(n,"network-request-failed"))},Tg(`${function tw(){return vh.gapiScript}()}?onload=${m}`).catch(y=>t(y))}h()}}).catch(e=>{throw x0=null,e})}(n),x0}(n),t=ro().gapi;return Bt(t,n,"internal-error"),e.open({where:document.body,url:k0(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CP,dontclear:!0},r=>new Promise(function(){var s=(0,X.A)(function*(c,h){yield r.restyle({setHideOnLeave:!1});const m=oi(n,"network-request-failed"),y=ro().setTimeout(()=>{h(m)},IP.get());function T(){ro().clearTimeout(y),c(r)}r.ping(T).then(T,()=>{h(m)})});return function(c,h){return s.apply(this,arguments)}}()))}),Uh.apply(this,arguments)}const qw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const oO="__/auth/handler",n_="emulator/auth/handler",F0=encodeURIComponent("fac");function r_(n,e,t,r,s,c){return i_.apply(this,arguments)}function i_(){return(i_=(0,X.A)(function*(n,e,t,r,s,c){Bt(n.config.authDomain,n,"auth-domain-config-required"),Bt(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Cr,eventId:s};if(e instanceof yt){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",Bn(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[N,B]of Object.entries(c||{}))h[N]=B}if(e instanceof dr){const N=e.getScopes().filter(B=>""!==B);N.length>0&&(h.scopes=N.join(","))}n.tenantId&&(h.tid=n.tenantId);const m=h;for(const N of Object.keys(m))void 0===m[N]&&delete m[N];const y=yield n._getAppCheckToken(),T=y?`#${F0}=${encodeURIComponent(y)}`:"";return`${function Qw({config:n}){return n.emulator?ps(n,n_):`https://${n.authDomain}/${oO}`}(n)}?${Ln(m).slice(1)}${T}`})).apply(this,arguments)}const o_="webStorageSupport",Yw=class TP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bl,this._completeRedirectFn=Fh,this._overrideRedirectResult=w0}_openPopup(e,t,r,s){var c=this;return(0,X.A)(function*(){var h;xi(null===(h=c.eventManagers[e._key()])||void 0===h?void 0:h.manager,"_initialize() not called before _openPopup()");const m=yield r_(e,t,r,Rl(),s);return function bP(n,e,t,r=500,s=600){const c=Math.max((window.screen.availHeight-s)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const y=Object.assign(Object.assign({},qw),{width:r.toString(),height:s.toString(),top:c,left:h}),T=Ot().toLowerCase();t&&(m=id(T)?"_blank":t),Jn(T)&&(e=e||"http://localhost",y.scrollbars="yes");const N=Object.entries(y).reduce((q,[ue,Se])=>`${q}${ue}=${Se},`,"");if(function Ko(n=Ot()){var e;return Fl(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(T)&&"_self"!==m)return function wP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",m),new pd(null);const B=window.open(e||"",m,N);Bt(B,n,"popup-blocked");try{B.focus()}catch{}return new pd(B)}(e,m,zl())})()}_openRedirect(e,t,r,s){var c=this;return(0,X.A)(function*(){return yield c._originValidation(e),function Cw(n){ro().location.href=n}(yield r_(e,t,r,Rl(),s)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:c}=this.eventManagers[t];return s?Promise.resolve(s):(xi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,X.A)(function*(){const r=yield function e_(n){return Uh.apply(this,arguments)}(e),s=new Vh(e);return r.register("authEvent",c=>(Bt(null==c?void 0:c.authEvent,e,"invalid-auth-event"),{status:s.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:s},t.iframes[e._key()]=r,s})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(o_,{type:o_},s=>{var c;const h=null===(c=null==s?void 0:s[0])||void 0===c?void 0:c[o_];void 0!==h&&t(!!h),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function EP(n){return fd.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ol()||gh()||Fl()}};class Jw{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return fo("unexpected MultiFactorSessionType")}}}class O0 extends Jw{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new O0(e)}_finalizeEnroll(e,t,r){return function XR(n,e){return Hr(n,"POST","/v2/accounts/mfaEnrollment:finalize",Vr(n,e))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function nP(n,e){return Hr(n,"POST","/v2/accounts/mfaSignIn:finalize",Vr(n,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let AP=(()=>{class n{constructor(){}static assertion(t){return O0._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var SP="@firebase/auth";class sO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,X.A)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((null==r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ol(){return window}Ne(),function Zb(n){vh=n}({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const c=oi("internal-error");c.customData=s,t(c)},r.type="text/javascript",r.charset="UTF-8",function mc(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function eT(n){It(new ar("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=r.options;Bt(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:h,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ua(n)},T=new Uy(r,s,c,y);return function K(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ci);null!=e&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(T,t),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),It(new ar("auth-internal",e=>{const t=Zr(e.getProvider("auth").getImmediate());return new sO(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(SP,"1.7.4",function aO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),br(SP,"1.7.4","esm2017")}("Browser");function s_(){return s_=(0,X.A)(function*(n,e,t){var r;const{BuildInfo:s}=ol();xi(e.sessionId,"AuthEvent did not contain a session ID");const c=yield function dO(n){return a_.apply(this,arguments)}(e.sessionId),h={};return Fl()?h.ibi=s.packageName:nl()?h.apn=s.packageName:$r(n,"operation-not-supported-in-this-environment"),s.displayName&&(h.appDisplayName=s.displayName),h.sessionId=c,r_(n,t,e.type,void 0,null!==(r=e.eventId)&&void 0!==r?r:void 0,h)}),s_.apply(this,arguments)}function oT(){return oT=(0,X.A)(function*(n){const{BuildInfo:e}=ol(),t={};Fl()?t.iosBundleId=e.packageName:nl()?t.androidPackageName=e.packageName:$r(n,"operation-not-supported-in-this-environment"),yield jw(n,t)}),oT.apply(this,arguments)}function Gp(){return Gp=(0,X.A)(function*(n,e,t){const{cordova:r}=ol();let s=()=>{};try{yield new Promise((c,h)=>{let m=null;function y(){var B;c();const q=null===(B=r.plugins.browsertab)||void 0===B?void 0:B.close;"function"==typeof q&&q(),"function"==typeof(null==t?void 0:t.close)&&t.close()}function T(){m||(m=window.setTimeout(()=>{h(oi(n,"redirect-cancelled-by-user"))},2e3))}function N(){"visible"===(null==document?void 0:document.visibilityState)&&T()}e.addPassiveListener(y),document.addEventListener("resume",T,!1),nl()&&document.addEventListener("visibilitychange",N,!1),s=()=>{e.removePassiveListener(y),document.removeEventListener("resume",T,!1),document.removeEventListener("visibilitychange",N,!1),m&&window.clearTimeout(m)}})}finally{s()}}),Gp.apply(this,arguments)}function a_(){return a_=(0,X.A)(function*(n){const e=function MP(n){if(xi(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}(n),t=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}),a_.apply(this,arguments)}class NP extends Vh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,X.A)(function*(){yield e.initPromise})()}}function U0(n){return l_.apply(this,arguments)}function l_(){return l_=(0,X.A)(function*(n){const e=yield c_()._get(Bh(n));return e&&(yield c_()._remove(Bh(n))),e}),l_.apply(this,arguments)}function VP(){const n=[];for(let t=0;t<20;t++){const r=Math.floor(62*Math.random());n.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(r))}return n.join("")}function c_(){return Ci(Op)}function Bh(n){return gs("authEvent",n.config.apiKey,n.name)}function u_(n){if(null==n||!n.includes("?"))return{};const[e,...t]=n.split("?");return pr(t.join("?"))}const zP=class BP{constructor(){this._redirectPersistence=Bl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fh,this._overrideRedirectResult=w0}_initialize(e){var t=this;return(0,X.A)(function*(){const r=e._key();let s=t.eventManagers.get(r);return s||(s=new NP(e),t.eventManagers.set(r,s),t.attachCallbackListeners(e,s)),s})()}_openPopup(e){$r(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,r,s){var c=this;return(0,X.A)(function*(){!function uO(n){var e,t,r,s,c,h,m,y,T,N;const B=ol();Bt("function"==typeof(null===(e=null==B?void 0:B.universalLinks)||void 0===e?void 0:e.subscribe),n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Bt(typeof(null===(t=null==B?void 0:B.BuildInfo)||void 0===t?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Bt("function"==typeof(null===(c=null===(s=null===(r=null==B?void 0:B.cordova)||void 0===r?void 0:r.plugins)||void 0===s?void 0:s.browsertab)||void 0===c?void 0:c.openUrl),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Bt("function"==typeof(null===(y=null===(m=null===(h=null==B?void 0:B.cordova)||void 0===h?void 0:h.plugins)||void 0===m?void 0:m.browsertab)||void 0===y?void 0:y.isAvailable),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Bt("function"==typeof(null===(N=null===(T=null==B?void 0:B.cordova)||void 0===T?void 0:T.InAppBrowser)||void 0===N?void 0:N.open),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const h=yield c._initialize(e);yield h.initialized(),h.resetRedirect(),function gP(){Nh.clear()}(),yield c._originValidation(e);const m=function FP(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:VP(),postBody:null,tenantId:n.tenantId,error:oi(n,"no-auth-event")}}(e,r,s);yield function OP(n,e){return c_()._set(Bh(n),e)}(e,m);const y=yield function iT(n,e,t){return s_.apply(this,arguments)}(e,m,t),T=yield function cO(n){const{cordova:e}=ol();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let s=null;r?e.plugins.browsertab.openUrl(n):s=e.InAppBrowser.open(n,function xo(n=Ot()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}()?"_blank":"_system","location=yes"),t(s)})})}(y);return function V0(n,e,t){return Gp.apply(this,arguments)}(e,h,T)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function lO(n){return oT.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:s,BuildInfo:c}=ol(),h=setTimeout((0,X.A)(function*(){yield U0(e),t.onEvent(z0())}),500),m=function(){var N=(0,X.A)(function*(B){clearTimeout(h);const q=yield U0(e);let ue=null;q&&null!=B&&B.url&&(ue=function LP(n,e){var t,r;const s=function B0(n){const e=u_(n),t=e.link?decodeURIComponent(e.link):void 0,r=u_(t).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return u_(s).link||s||r||t||n}(e);if(s.includes("/__/auth/callback")){const c=u_(s),h=c.firebaseError?function UP(n){try{return JSON.parse(n)}catch{return null}}(decodeURIComponent(c.firebaseError)):null,m=null===(r=null===(t=null==h?void 0:h.code)||void 0===t?void 0:t.split("auth/"))||void 0===r?void 0:r[1],y=m?oi(m):null;return y?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:y,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:s,postBody:null}}return null}(q,B.url)),t.onEvent(ue||z0())});return function(q){return N.apply(this,arguments)}}();typeof r<"u"&&"function"==typeof r.subscribe&&r.subscribe(null,m);const y=s,T=`${c.packageName.toLowerCase()}://`;ol().handleOpenURL=function(){var N=(0,X.A)(function*(B){if(B.toLowerCase().startsWith(T)&&m({url:B}),"function"==typeof y)try{y(B)}catch(q){console.error(q)}});return function(B){return N.apply(this,arguments)}}()}};function z0(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:oi("no-auth-event")}}function Wp(){var n;return(null===(n=null==self?void 0:self.location)||void 0===n?void 0:n.protocol)||null}function GP(n=Ot()){return!("file:"!==Wp()&&"ionic:"!==Wp()&&"capacitor:"!==Wp()||!n.toLowerCase().match(/iphone|ipad|ipod|android/))}function lT(){try{const n=self.localStorage,e=zl();if(n)return n.setItem(e,"1"),n.removeItem(e),!function qP(n=Ot()){return function qp(){return J()&&11===(null==document?void 0:document.documentMode)}()||function WP(n=Ot()){return/Edge\/\d+/.test(n)}(n)}()||Le()}catch{return d_()&&Le()}return!1}function d_(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function j0(){return(function aT(){return"http:"===Wp()||"https:"===Wp()}()||ct()||GP())&&!function hO(){return fe()||At()}()&&lT()&&!d_()}function cT(){return GP()&&typeof document<"u"}function $0(){return $0=(0,X.A)(function*(){return!!cT()&&new Promise(n=>{const e=setTimeout(()=>{n(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})})}),$0.apply(this,arguments)}const pa={LOCAL:"local",NONE:"none",SESSION:"session"},_d=Bt,QP="persistence";function Kp(n){return uT.apply(this,arguments)}function uT(){return uT=(0,X.A)(function*(n){yield n._initializationPromise;const e=YP(),t=gs(QP,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}),uT.apply(this,arguments)}function YP(){var n;try{return(null===(n=function XP(){return typeof window<"u"?window:null}())||void 0===n?void 0:n.sessionStorage)||null}catch{return null}}const mO=Bt;class vd{constructor(){this.browserResolver=Ci(Yw),this.cordovaResolver=Ci(zP),this.underlyingResolver=null,this._redirectPersistence=Bl,this._completeRedirectFn=Fh,this._overrideRedirectResult=w0}_initialize(e){var t=this;return(0,X.A)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,r,s){var c=this;return(0,X.A)(function*(){return yield c.selectUnderlyingResolver(),c.assertedUnderlyingResolver._openPopup(e,t,r,s)})()}_openRedirect(e,t,r,s){var c=this;return(0,X.A)(function*(){return yield c.selectUnderlyingResolver(),c.assertedUnderlyingResolver._openRedirect(e,t,r,s)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return cT()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mO(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,X.A)(function*(){if(e.underlyingResolver)return;const t=yield function KP(){return $0.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function dT(n){return n.unwrap()}function f_(n){return G0(n)}function G0(n){const{_tokenResponse:e}=n instanceof zt?n.customData:n;if(!e)return null;if(!(n instanceof zt)&&"temporaryProof"in e&&"phoneNumber"in e)return kh.credentialFromResult(n);const t=e.providerId;if(!t||t===Ja.PASSWORD)return null;let r;switch(t){case Ja.GOOGLE:r=Qr;break;case Ja.FACEBOOK:r=qy;break;case Ja.GITHUB:r=Ky;break;case Ja.TWITTER:r=sw;break;default:const{oauthIdToken:s,oauthAccessToken:c,oauthTokenSecret:h,pendingToken:m,nonce:y}=e;return c||h||s||m?m?t.startsWith("saml.")?vs._create(t,m):da._fromParams({providerId:t,signInMethod:t,pendingToken:m,idToken:s,accessToken:c}):new sd(t).credential({idToken:s,accessToken:c,rawNonce:y}):null}return n instanceof zt?r.credentialFromError(n):r.credentialFromResult(n)}function ys(n,e){return e.catch(t=>{throw t instanceof zt&&function H0(n,e){var t;const r=null===(t=e.customData)||void 0===t?void 0:t._tokenResponse;if("auth/multi-factor-auth-required"===(null==e?void 0:e.code))e.resolver=new hT(n,function Ug(n,e){var t;const r=Mt(n),s=e;return Bt(e.customData.operationType,r,"argument-error"),Bt(null===(t=s.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,r,"argument-error"),Fp._fromError(r,s)}(n,e));else if(r){const s=G0(e),c=e;s&&(c.credential=s,c.tenantId=r.tenantId||void 0,c.email=r.email||void 0,c.phoneNumber=r.phoneNumber||void 0)}}(n,t),t}).then(t=>{const s=t.user;return{operationType:t.operationType,credential:f_(t),additionalUserInfo:dd(t),user:Bs.getOrCreate(s)}})}function p_(n,e){return W0.apply(this,arguments)}function W0(){return W0=(0,X.A)(function*(n,e){const t=yield e;return{verificationId:t.verificationId,confirm:r=>ys(n,t.confirm(r))}}),W0.apply(this,arguments)}class hT{constructor(e,t){this.resolver=t,this.auth=function h_(n){return n.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ys(dT(this.auth),this.resolver.resolveSignIn(e))}}class Bs{constructor(e){this._delegate=e,this.multiFactor=function YR(n){const e=Mt(n);return Bg.has(e)||Bg.set(e,d0._fromUser(e)),Bg.get(e)}(e)}static getOrCreate(e){return Bs.USER_MAP.has(e)||Bs.USER_MAP.set(e,new Bs(e)),Bs.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,X.A)(function*(){return ys(t.auth,Jy(t._delegate,e))})()}linkWithPhoneNumber(e,t){var r=this;return(0,X.A)(function*(){return p_(r.auth,function cP(n,e,t){return y0.apply(this,arguments)}(r._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,X.A)(function*(){return ys(t.auth,function Fw(n,e,t){return Bp.apply(this,arguments)}(t._delegate,e,vd))})()}linkWithRedirect(e){var t=this;return(0,X.A)(function*(){return yield Kp(Zr(t.auth)),Yg(t._delegate,e,vd)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,X.A)(function*(){return ys(t.auth,uw(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return p_(this.auth,function Mw(n,e,t){return qg.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return ys(this.auth,function nO(n,e,t){return C0.apply(this,arguments)}(this._delegate,e,vd))}reauthenticateWithRedirect(e){var t=this;return(0,X.A)(function*(){return yield Kp(Zr(t.auth)),A0(t._delegate,e,vd)})()}sendEmailVerification(e){return function Og(n,e){return dw.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,X.A)(function*(){return yield function FR(n,e){return Yy.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function a0(n,e){const t=Mt(n);return qt(t.auth.app)?Promise.reject(Pi(t.auth)):kp(t,e,null)}(this._delegate,e)}updatePassword(e){return function fw(n,e){return kp(Mt(n),null,e)}(this._delegate,e)}updatePhoneNumber(e){return function kw(n,e){return Kg.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function jR(n,e){return Sh.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function hw(n,e,t){return Lg.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bs.USER_MAP=new WeakMap;const Yo=Bt;let Ua=(()=>{class n{constructor(t,r){if(this.app=t,r.isInitialized())return this._delegate=r.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:s}=t.options;Yo(s,"invalid-api-key",{appName:t.name}),Yo(s,"invalid-api-key",{appName:t.name});const c=typeof window<"u"?vd:void 0;this._delegate=r.initialize({options:{persistence:gO(s,t.name),popupRedirectResolver:c}}),this._delegate._updateErrorMap(uc),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,r){!function oe(n,e,t){const r=Zr(n);Bt(r._canInitEmulator,r,"emulator-config-failed"),Bt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!(null==t||!t.disableWarnings),c=xe(e),{host:h,port:m}=function bt(n){const e=xe(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const c=s[1];return{host:c,port:Ve(r.substr(c.length+1))}}{const[c,h]=r.split(":");return{host:c,port:Ve(h)}}}(e);r.config.emulator={url:`${c}//${h}${null===m?"":`:${m}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||function Jt(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(this._delegate,t,r)}applyActionCode(t){return function t0(n,e){return Fg.apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return n0(this._delegate,t)}confirmPasswordReset(t,r){return function Ng(n,e,t){return Th.apply(this,arguments)}(this._delegate,t,r)}createUserWithEmailAndPassword(t,r){var s=this;return(0,X.A)(function*(){return ys(s._delegate,function VR(n,e,t){return Dp.apply(this,arguments)}(s._delegate,t,r))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function xp(n,e){return Mp.apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function qF(n,e){const t=Ep.parseLink(e);return"EMAIL_SIGNIN"===(null==t?void 0:t.operation)}(0,t)}getRedirectResult(){var t=this;return(0,X.A)(function*(){Yo(j0(),t._delegate,"operation-not-supported-in-this-environment");const r=yield function jp(n,e){return ou.apply(this,arguments)}(t._delegate,vd);return r?ys(t._delegate,Promise.resolve(r)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function sT(n,e){Zr(n)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,r,s){const{next:c,error:h,complete:m}=q0(t,r,s);return this._delegate.onAuthStateChanged(c,h,m)}onIdTokenChanged(t,r,s){const{next:c,error:h,complete:m}=q0(t,r,s);return this._delegate.onIdTokenChanged(c,h,m)}sendSignInLinkToEmail(t,r){return function BR(n,e,t){return o0.apply(this,arguments)}(this._delegate,t,r)}sendPasswordResetEmail(t,r){return function LR(n,e,t){return wh.apply(this,arguments)}(this._delegate,t,r||void 0)}setPersistence(t){var r=this;return(0,X.A)(function*(){let s;switch(function fO(n,e){_d(Object.values(pa).includes(e),n,"invalid-persistence-type"),fe()?_d(e!==pa.SESSION,n,"unsupported-persistence-type"):At()?_d(e===pa.NONE,n,"unsupported-persistence-type"):d_()?_d(e===pa.NONE||e===pa.LOCAL&&Le(),n,"unsupported-persistence-type"):_d(e===pa.NONE||lT(),n,"unsupported-persistence-type")}(r._delegate,t),t){case pa.SESSION:s=Bl;break;case pa.LOCAL:s=(yield Ci(xh)._isAvailable())?xh:Op;break;case pa.NONE:s=kl;break;default:return $r("argument-error",{appName:r._delegate.name})}return r._delegate.setPersistence(s)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return ys(this._delegate,function aw(n){return ha.apply(this,arguments)}(this._delegate))}signInWithCredential(t){return ys(this._delegate,wp(this._delegate,t))}signInWithCustomToken(t){return ys(this._delegate,function OR(n,e){return Zy.apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,r){return ys(this._delegate,function UR(n,e,t){return qt(n.app)?Promise.reject(Pi(n)):wp(Mt(n),Wy.credential(e,t)).catch(function(){var r=(0,X.A)(function*(s){throw"auth/password-does-not-meet-requirements"===s.code&&ld(n),s});return function(s){return r.apply(this,arguments)}}())}(this._delegate,t,r))}signInWithEmailLink(t,r){return ys(this._delegate,function KF(n,e,t){return Rp.apply(this,arguments)}(this._delegate,t,r))}signInWithPhoneNumber(t,r){return p_(this._delegate,function lP(n,e,t){return v0.apply(this,arguments)}(this._delegate,t,r))}signInWithPopup(t){var r=this;return(0,X.A)(function*(){return Yo(j0(),r._delegate,"operation-not-supported-in-this-environment"),ys(r._delegate,function pP(n,e,t){return I0.apply(this,arguments)}(r._delegate,t,vd))})()}signInWithRedirect(t){var r=this;return(0,X.A)(function*(){return Yo(j0(),r._delegate,"operation-not-supported-in-this-environment"),yield Kp(r._delegate),rO(r._delegate,t,vd)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function Ah(n,e){return cd.apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=pa,n})();function q0(n,e,t){let r=n;"function"!=typeof n&&({next:r,error:e,complete:t}=n);const s=r;return{next:h=>s(h&&Bs.getOrCreate(h)),error:e,complete:t}}function gO(n,e){const t=function pO(n,e){const t=YP();if(!t)return[];const r=gs(QP,n,e);switch(t.getItem(r)){case pa.NONE:return[kl];case pa.LOCAL:return[xh,Bl];case pa.SESSION:return[Bl];default:return[]}}(n,e);if(typeof self<"u"&&!t.includes(xh)&&t.push(xh),typeof window<"u")for(const r of[Op,Bl])t.includes(r)||t.push(r);return t.includes(kl)||t.push(kl),t}class K0{constructor(){this.providerId="phone",this._delegate=new kh(dT(yr.auth()))}static credential(e,t){return kh.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}K0.PHONE_SIGN_IN_METHOD=kh.PHONE_SIGN_IN_METHOD,K0.PROVIDER_ID=kh.PROVIDER_ID;const _O=Bt;class vO{constructor(e,t,r=yr.app()){var s;_O(null===(s=r.options)||void 0===s?void 0:s.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new xw(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function pT(n){n.INTERNAL.registerComponent(new ar("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Ua(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Wy,FacebookAuthProvider:qy,GithubAuthProvider:Ky,GoogleAuthProvider:Qr,OAuthProvider:sd,SAMLAuthProvider:Ih,PhoneAuthProvider:K0,PhoneMultiFactorGenerator:AP,RecaptchaVerifier:vO,TwitterAuthProvider:sw,Auth:Ua,AuthCredential:Pn,Error:zt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion("@firebase/auth-compat","0.5.9")}(yr);var gc,m_,JP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xp={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function s(Me,me,Ee){Ee||(Ee=0);var Oe=Array(16);if("string"==typeof me)for(var Be=0;16>Be;++Be)Oe[Be]=me.charCodeAt(Ee++)|me.charCodeAt(Ee++)<<8|me.charCodeAt(Ee++)<<16|me.charCodeAt(Ee++)<<24;else for(Be=0;16>Be;++Be)Oe[Be]=me[Ee++]|me[Ee++]<<8|me[Ee++]<<16|me[Ee++]<<24;var st=Me.g[3],Ce=(me=Me.g[0])+(st^(Ee=Me.g[1])&((Be=Me.g[2])^st))+Oe[0]+3614090360&4294967295;Ce=(Ee=(Be=(st=(me=(Ee=(Be=(st=(me=(Ee=(Be=(st=(me=(Ee=(Be=(st=(me=(Ee=(Be=(st=(me=(Ee=(Be=(st=(me=(Ee=(Be=(st=(me=(Ee=(Be=(st=(me=(Ee=(Be=(st=(me=(Ee=(Be=(st=(me=(Ee=(Be=(st=(me=(Ee=(Be=(st=(me=(Ee=(Be=(st=(me=(Ee=(Be=(st=(me=(Ee=(Be=(st=(me=Ee+(Ce<<7&4294967295|Ce>>>25))+((Ce=st+(Be^me&(Ee^Be))+Oe[1]+3905402710&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Be+(Ee^st&(me^Ee))+Oe[2]+606105819&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ee+(me^Be&(st^me))+Oe[3]+3250441966&4294967295)<<22&4294967295|Ce>>>10))+((Ce=me+(st^Ee&(Be^st))+Oe[4]+4118548399&4294967295)<<7&4294967295|Ce>>>25))+((Ce=st+(Be^me&(Ee^Be))+Oe[5]+1200080426&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Be+(Ee^st&(me^Ee))+Oe[6]+2821735955&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ee+(me^Be&(st^me))+Oe[7]+4249261313&4294967295)<<22&4294967295|Ce>>>10))+((Ce=me+(st^Ee&(Be^st))+Oe[8]+1770035416&4294967295)<<7&4294967295|Ce>>>25))+((Ce=st+(Be^me&(Ee^Be))+Oe[9]+2336552879&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Be+(Ee^st&(me^Ee))+Oe[10]+4294925233&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ee+(me^Be&(st^me))+Oe[11]+2304563134&4294967295)<<22&4294967295|Ce>>>10))+((Ce=me+(st^Ee&(Be^st))+Oe[12]+1804603682&4294967295)<<7&4294967295|Ce>>>25))+((Ce=st+(Be^me&(Ee^Be))+Oe[13]+4254626195&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Be+(Ee^st&(me^Ee))+Oe[14]+2792965006&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ee+(me^Be&(st^me))+Oe[15]+1236535329&4294967295)<<22&4294967295|Ce>>>10))+((Ce=me+(Be^st&(Ee^Be))+Oe[1]+4129170786&4294967295)<<5&4294967295|Ce>>>27))+((Ce=st+(Ee^Be&(me^Ee))+Oe[6]+3225465664&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Be+(me^Ee&(st^me))+Oe[11]+643717713&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ee+(st^me&(Be^st))+Oe[0]+3921069994&4294967295)<<20&4294967295|Ce>>>12))+((Ce=me+(Be^st&(Ee^Be))+Oe[5]+3593408605&4294967295)<<5&4294967295|Ce>>>27))+((Ce=st+(Ee^Be&(me^Ee))+Oe[10]+38016083&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Be+(me^Ee&(st^me))+Oe[15]+3634488961&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ee+(st^me&(Be^st))+Oe[4]+3889429448&4294967295)<<20&4294967295|Ce>>>12))+((Ce=me+(Be^st&(Ee^Be))+Oe[9]+568446438&4294967295)<<5&4294967295|Ce>>>27))+((Ce=st+(Ee^Be&(me^Ee))+Oe[14]+3275163606&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Be+(me^Ee&(st^me))+Oe[3]+4107603335&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ee+(st^me&(Be^st))+Oe[8]+1163531501&4294967295)<<20&4294967295|Ce>>>12))+((Ce=me+(Be^st&(Ee^Be))+Oe[13]+2850285829&4294967295)<<5&4294967295|Ce>>>27))+((Ce=st+(Ee^Be&(me^Ee))+Oe[2]+4243563512&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Be+(me^Ee&(st^me))+Oe[7]+1735328473&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ee+(st^me&(Be^st))+Oe[12]+2368359562&4294967295)<<20&4294967295|Ce>>>12))+((Ce=me+(Ee^Be^st)+Oe[5]+4294588738&4294967295)<<4&4294967295|Ce>>>28))+((Ce=st+(me^Ee^Be)+Oe[8]+2272392833&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Be+(st^me^Ee)+Oe[11]+1839030562&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ee+(Be^st^me)+Oe[14]+4259657740&4294967295)<<23&4294967295|Ce>>>9))+((Ce=me+(Ee^Be^st)+Oe[1]+2763975236&4294967295)<<4&4294967295|Ce>>>28))+((Ce=st+(me^Ee^Be)+Oe[4]+1272893353&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Be+(st^me^Ee)+Oe[7]+4139469664&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ee+(Be^st^me)+Oe[10]+3200236656&4294967295)<<23&4294967295|Ce>>>9))+((Ce=me+(Ee^Be^st)+Oe[13]+681279174&4294967295)<<4&4294967295|Ce>>>28))+((Ce=st+(me^Ee^Be)+Oe[0]+3936430074&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Be+(st^me^Ee)+Oe[3]+3572445317&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ee+(Be^st^me)+Oe[6]+76029189&4294967295)<<23&4294967295|Ce>>>9))+((Ce=me+(Ee^Be^st)+Oe[9]+3654602809&4294967295)<<4&4294967295|Ce>>>28))+((Ce=st+(me^Ee^Be)+Oe[12]+3873151461&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Be+(st^me^Ee)+Oe[15]+530742520&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ee+(Be^st^me)+Oe[2]+3299628645&4294967295)<<23&4294967295|Ce>>>9))+((Ce=me+(Be^(Ee|~st))+Oe[0]+4096336452&4294967295)<<6&4294967295|Ce>>>26))+((Ce=st+(Ee^(me|~Be))+Oe[7]+1126891415&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Be+(me^(st|~Ee))+Oe[14]+2878612391&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Ee+(st^(Be|~me))+Oe[5]+4237533241&4294967295)<<21&4294967295|Ce>>>11))+((Ce=me+(Be^(Ee|~st))+Oe[12]+1700485571&4294967295)<<6&4294967295|Ce>>>26))+((Ce=st+(Ee^(me|~Be))+Oe[3]+2399980690&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Be+(me^(st|~Ee))+Oe[10]+4293915773&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Ee+(st^(Be|~me))+Oe[1]+2240044497&4294967295)<<21&4294967295|Ce>>>11))+((Ce=me+(Be^(Ee|~st))+Oe[8]+1873313359&4294967295)<<6&4294967295|Ce>>>26))+((Ce=st+(Ee^(me|~Be))+Oe[15]+4264355552&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Be+(me^(st|~Ee))+Oe[6]+2734768916&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Ee+(st^(Be|~me))+Oe[13]+1309151649&4294967295)<<21&4294967295|Ce>>>11))+((st=(me=Ee+((Ce=me+(Be^(Ee|~st))+Oe[4]+4149444226&4294967295)<<6&4294967295|Ce>>>26))+((Ce=st+(Ee^(me|~Be))+Oe[11]+3174756917&4294967295)<<10&4294967295|Ce>>>22))^((Be=st+((Ce=Be+(me^(st|~Ee))+Oe[2]+718787259&4294967295)<<15&4294967295|Ce>>>17))|~me))+Oe[9]+3951481745&4294967295,Me.g[0]=Me.g[0]+me&4294967295,Me.g[1]=Me.g[1]+(Be+(Ce<<21&4294967295|Ce>>>11))&4294967295,Me.g[2]=Me.g[2]+Be&4294967295,Me.g[3]=Me.g[3]+st&4294967295}function h(Me,me){this.h=me;for(var Ee=[],Oe=!0,Be=Me.length-1;0<=Be;Be--){var st=0|Me[Be];Oe&&st==me||(Ee[Be]=st,Oe=!1)}this.g=Ee}(function e(Me,me){function Ee(){}Ee.prototype=me.prototype,Me.D=me.prototype,Me.prototype=new Ee,Me.prototype.constructor=Me,Me.C=function(Oe,Be,st){for(var Ce=Array(arguments.length-2),ch=2;ch<arguments.length;ch++)Ce[ch-2]=arguments[ch];return me.prototype[Be].apply(Oe,Ce)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(Me,me){void 0===me&&(me=Me.length);for(var Ee=me-this.blockSize,Oe=this.B,Be=this.h,st=0;st<me;){if(0==Be)for(;st<=Ee;)s(this,Me,st),st+=this.blockSize;if("string"==typeof Me){for(;st<me;)if(Oe[Be++]=Me.charCodeAt(st++),Be==this.blockSize){s(this,Oe),Be=0;break}}else for(;st<me;)if(Oe[Be++]=Me[st++],Be==this.blockSize){s(this,Oe),Be=0;break}}this.h=Be,this.o+=me},r.prototype.v=function(){var Me=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Me[0]=128;for(var me=1;me<Me.length-8;++me)Me[me]=0;var Ee=8*this.o;for(me=Me.length-8;me<Me.length;++me)Me[me]=255&Ee,Ee/=256;for(this.u(Me),Me=Array(16),me=Ee=0;4>me;++me)for(var Oe=0;32>Oe;Oe+=8)Me[Ee++]=this.g[me]>>>Oe&255;return Me};var m={};function y(Me){return-128<=Me&&128>Me?function c(Me,me){var Ee=m;return Object.prototype.hasOwnProperty.call(Ee,Me)?Ee[Me]:Ee[Me]=me(Me)}(Me,function(me){return new h([0|me],0>me?-1:0)}):new h([0|Me],0>Me?-1:0)}function T(Me){if(isNaN(Me)||!isFinite(Me))return B;if(0>Me)return dt(T(-Me));for(var me=[],Ee=1,Oe=0;Me>=Ee;Oe++)me[Oe]=Me/Ee|0,Ee*=4294967296;return new h(me,0)}var B=y(0),q=y(1),ue=y(16777216);function Se(Me){if(0!=Me.h)return!1;for(var me=0;me<Me.g.length;me++)if(0!=Me.g[me])return!1;return!0}function ft(Me){return-1==Me.h}function dt(Me){for(var me=Me.g.length,Ee=[],Oe=0;Oe<me;Oe++)Ee[Oe]=~Me.g[Oe];return new h(Ee,~Me.h).add(q)}function Zt(Me,me){return Me.add(dt(me))}function ln(Me,me){for(;(65535&Me[me])!=Me[me];)Me[me+1]+=Me[me]>>>16,Me[me]&=65535,me++}function Xt(Me,me){this.g=Me,this.h=me}function vn(Me,me){if(Se(me))throw Error("division by zero");if(Se(Me))return new Xt(B,B);if(ft(Me))return me=vn(dt(Me),me),new Xt(dt(me.g),dt(me.h));if(ft(me))return me=vn(Me,dt(me)),new Xt(dt(me.g),me.h);if(30<Me.g.length){if(ft(Me)||ft(me))throw Error("slowDivide_ only works with positive integers.");for(var Ee=q,Oe=me;0>=Oe.l(Me);)Ee=mr(Ee),Oe=mr(Oe);var Be=Wn(Ee,1),st=Wn(Oe,1);for(Oe=Wn(Oe,2),Ee=Wn(Ee,2);!Se(Oe);){var Ce=st.add(Oe);0>=Ce.l(Me)&&(Be=Be.add(Ee),st=Ce),Oe=Wn(Oe,1),Ee=Wn(Ee,1)}return me=Zt(Me,Be.j(me)),new Xt(Be,me)}for(Be=B;0<=Me.l(me);){for(Ee=Math.max(1,Math.floor(Me.m()/me.m())),Oe=48>=(Oe=Math.ceil(Math.log(Ee)/Math.LN2))?1:Math.pow(2,Oe-48),Ce=(st=T(Ee)).j(me);ft(Ce)||0<Ce.l(Me);)Ce=(st=T(Ee-=Oe)).j(me);Se(st)&&(st=q),Be=Be.add(st),Me=Zt(Me,Ce)}return new Xt(Be,Me)}function mr(Me){for(var me=Me.g.length+1,Ee=[],Oe=0;Oe<me;Oe++)Ee[Oe]=Me.i(Oe)<<1|Me.i(Oe-1)>>>31;return new h(Ee,Me.h)}function Wn(Me,me){var Ee=me>>5;me%=32;for(var Oe=Me.g.length-Ee,Be=[],st=0;st<Oe;st++)Be[st]=0<me?Me.i(st+Ee)>>>me|Me.i(st+Ee+1)<<32-me:Me.i(st+Ee);return new h(Be,Me.h)}(n=h.prototype).m=function(){if(ft(this))return-dt(this).m();for(var Me=0,me=1,Ee=0;Ee<this.g.length;Ee++){var Oe=this.i(Ee);Me+=(0<=Oe?Oe:4294967296+Oe)*me,me*=4294967296}return Me},n.toString=function(Me){if(2>(Me=Me||10)||36<Me)throw Error("radix out of range: "+Me);if(Se(this))return"0";if(ft(this))return"-"+dt(this).toString(Me);for(var me=T(Math.pow(Me,6)),Ee=this,Oe="";;){var Be=vn(Ee,me).g,st=((0<(Ee=Zt(Ee,Be.j(me))).g.length?Ee.g[0]:Ee.h)>>>0).toString(Me);if(Se(Ee=Be))return st+Oe;for(;6>st.length;)st="0"+st;Oe=st+Oe}},n.i=function(Me){return 0>Me?0:Me<this.g.length?this.g[Me]:this.h},n.l=function(Me){return ft(Me=Zt(this,Me))?-1:Se(Me)?0:1},n.abs=function(){return ft(this)?dt(this):this},n.add=function(Me){for(var me=Math.max(this.g.length,Me.g.length),Ee=[],Oe=0,Be=0;Be<=me;Be++){var st=Oe+(65535&this.i(Be))+(65535&Me.i(Be)),Ce=(st>>>16)+(this.i(Be)>>>16)+(Me.i(Be)>>>16);Oe=Ce>>>16,Ee[Be]=(Ce&=65535)<<16|(st&=65535)}return new h(Ee,-2147483648&Ee[Ee.length-1]?-1:0)},n.j=function(Me){if(Se(this)||Se(Me))return B;if(ft(this))return ft(Me)?dt(this).j(dt(Me)):dt(dt(this).j(Me));if(ft(Me))return dt(this.j(dt(Me)));if(0>this.l(ue)&&0>Me.l(ue))return T(this.m()*Me.m());for(var me=this.g.length+Me.g.length,Ee=[],Oe=0;Oe<2*me;Oe++)Ee[Oe]=0;for(Oe=0;Oe<this.g.length;Oe++)for(var Be=0;Be<Me.g.length;Be++){var st=this.i(Oe)>>>16,Ce=65535&this.i(Oe),ch=Me.i(Be)>>>16,Nb=65535&Me.i(Be);Ee[2*Oe+2*Be]+=Ce*Nb,ln(Ee,2*Oe+2*Be),Ee[2*Oe+2*Be+1]+=st*Nb,ln(Ee,2*Oe+2*Be+1),Ee[2*Oe+2*Be+1]+=Ce*ch,ln(Ee,2*Oe+2*Be+1),Ee[2*Oe+2*Be+2]+=st*ch,ln(Ee,2*Oe+2*Be+2)}for(Oe=0;Oe<me;Oe++)Ee[Oe]=Ee[2*Oe+1]<<16|Ee[2*Oe];for(Oe=me;Oe<2*me;Oe++)Ee[Oe]=0;return new h(Ee,0)},n.A=function(Me){return vn(this,Me).h},n.and=function(Me){for(var me=Math.max(this.g.length,Me.g.length),Ee=[],Oe=0;Oe<me;Oe++)Ee[Oe]=this.i(Oe)&Me.i(Oe);return new h(Ee,this.h&Me.h)},n.or=function(Me){for(var me=Math.max(this.g.length,Me.g.length),Ee=[],Oe=0;Oe<me;Oe++)Ee[Oe]=this.i(Oe)|Me.i(Oe);return new h(Ee,this.h|Me.h)},n.xor=function(Me){for(var me=Math.max(this.g.length,Me.g.length),Ee=[],Oe=0;Oe<me;Oe++)Ee[Oe]=this.i(Oe)^Me.i(Oe);return new h(Ee,this.h^Me.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,m_=Xp.Md5=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=T,h.fromString=function N(Me,me){if(0==Me.length)throw Error("number format error: empty string");if(2>(me=me||10)||36<me)throw Error("radix out of range: "+me);if("-"==Me.charAt(0))return dt(N(Me.substring(1),me));if(0<=Me.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ee=T(Math.pow(me,8)),Oe=B,Be=0;Be<Me.length;Be+=8){var st=Math.min(8,Me.length-Be),Ce=parseInt(Me.substring(Be,Be+st),me);8>st?(st=T(Math.pow(me,st)),Oe=Oe.j(st).add(T(Ce))):Oe=(Oe=Oe.j(Ee)).add(T(Ce))}return Oe},gc=Xp.Integer=h}).apply(typeof JP<"u"?JP:typeof self<"u"?self:typeof window<"u"?window:{});var __,X0,yd,Qp,v_,Q0,Y0,mT,gT,g_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zs={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,L,G){return E==Array.prototype||E==Object.prototype||(E[L]=G.value),E},r=function t(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof g_&&g_];for(var L=0;L<E.length;++L){var G=E[L];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}(this);!function s(E,L){if(L)e:{var G=r;E=E.split(".");for(var se=0;se<E.length-1;se++){var je=E[se];if(!(je in G))break e;G=G[je]}(L=L(se=G[E=E[E.length-1]]))!=se&&null!=L&&e(G,E,{configurable:!0,writable:!0,value:L})}}("Array.prototype.values",function(E){return E||function(){return function c(E,L){E instanceof String&&(E+="");var G=0,se=!1,je={next:function(){if(!se&&G<E.length){var Et=G++;return{value:L(Et,E[Et]),done:!1}}return se=!0,{done:!0,value:void 0}}};return je[Symbol.iterator]=function(){return je},je}(this,function(L,G){return G})}});var h=h||{},m=this||self;function y(E){var L=typeof E;return"array"==(L="object"!=L?L:E?Array.isArray(E)?"array":L:"null")||"object"==L&&"number"==typeof E.length}function T(E){var L=typeof E;return"object"==L&&null!=E||"function"==L}function N(E,L,G){return E.call.apply(E.bind,arguments)}function B(E,L,G){if(!E)throw Error();if(2<arguments.length){var se=Array.prototype.slice.call(arguments,2);return function(){var je=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(je,se),E.apply(L,je)}}return function(){return E.apply(L,arguments)}}function q(E,L,G){return(q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?N:B).apply(null,arguments)}function ue(E,L){var G=Array.prototype.slice.call(arguments,1);return function(){var se=G.slice();return se.push.apply(se,arguments),E.apply(this,se)}}function Se(E,L){function G(){}G.prototype=L.prototype,E.aa=L.prototype,E.prototype=new G,E.prototype.constructor=E,E.Qb=function(se,je,Et){for(var on=Array(arguments.length-2),Ii=2;Ii<arguments.length;Ii++)on[Ii-2]=arguments[Ii];return L.prototype[je].apply(se,on)}}function ft(E){const L=E.length;if(0<L){const G=Array(L);for(let se=0;se<L;se++)G[se]=E[se];return G}return[]}function dt(E,L){for(let G=1;G<arguments.length;G++){const se=arguments[G];if(y(se)){const je=E.length||0,Et=se.length||0;E.length=je+Et;for(let on=0;on<Et;on++)E[je+on]=se[on]}else E.push(se)}}function ln(E){return/^[\s\xa0]*$/.test(E)}function Xt(){var E=m.navigator;return E&&(E=E.userAgent)?E:""}function vn(E){return vn[" "](E),E}vn[" "]=function(){};var mr=!(-1==Xt().indexOf("Gecko")||-1!=Xt().toLowerCase().indexOf("webkit")&&-1==Xt().indexOf("Edge")||-1!=Xt().indexOf("Trident")||-1!=Xt().indexOf("MSIE")||-1!=Xt().indexOf("Edge"));function Wn(E,L,G){for(const se in E)L.call(G,E[se],se,E)}function me(E){const L={};for(const G in E)L[G]=E[G];return L}const Ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Oe(E,L){let G,se;for(let je=1;je<arguments.length;je++){for(G in se=arguments[je],se)E[G]=se[G];for(let Et=0;Et<Ee.length;Et++)G=Ee[Et],Object.prototype.hasOwnProperty.call(se,G)&&(E[G]=se[G])}}function Be(E){var L=1;E=E.split(":");const G=[];for(;0<L&&E.length;)G.push(E.shift()),L--;return E.length&&G.push(E.join(":")),G}function st(E){m.setTimeout(()=>{throw E},0)}function Ce(){var E=EF;let L=null;return E.g&&(L=E.g,E.g=E.g.next,E.g||(E.h=null),L.next=null),L}var Nb=new class Zt{constructor(L,G){this.i=L,this.j=G,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}(()=>new dz,E=>E.reset());class dz{constructor(){this.next=this.g=this.h=null}set(L,G){this.h=L,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let Fb,Ob=!1,EF=new class ch{constructor(){this.h=this.g=null}add(L,G){const se=Nb.get();se.set(L,G),this.h?this.h.next=se:this.g=se,this.h=se}},$L=()=>{const E=m.Promise.resolve(void 0);Fb=()=>{E.then(hz)}};var hz=()=>{for(var E;E=Ce();){try{E.h.call(E.g)}catch(G){st(G)}var L=Nb;L.j(E),100>L.h&&(L.h++,E.next=L.g,L.g=E)}Ob=!1};function sp(){this.s=this.s,this.C=this.C}function Ks(E,L){this.type=E,this.g=this.target=L,this.defaultPrevented=!1}sp.prototype.s=!1,sp.prototype.ma=function(){this.s||(this.s=!0,this.N())},sp.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ks.prototype.h=function(){this.defaultPrevented=!0};var fz=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var E=!1,L=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const G=()=>{};m.addEventListener("test",G,L),m.removeEventListener("test",G,L)}catch{}return E}();function Lb(E,L){if(Ks.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var G=this.type=E.type,se=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=L,L=E.relatedTarget){if(mr){e:{try{vn(L.nodeName);var je=!0;break e}catch{}je=!1}je||(L=null)}}else"mouseover"==G?L=E.fromElement:"mouseout"==G&&(L=E.toElement);this.relatedTarget=L,se?(this.clientX=void 0!==se.clientX?se.clientX:se.pageX,this.clientY=void 0!==se.clientY?se.clientY:se.pageY,this.screenX=se.screenX||0,this.screenY=se.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:pz[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&Lb.aa.h.call(this)}}Se(Lb,Ks);var pz={2:"touch",3:"pen",4:"mouse"};Lb.prototype.h=function(){Lb.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var Vb="closure_listenable_"+(1e6*Math.random()|0),mz=0;function gz(E,L,G,se,je){this.listener=E,this.proxy=null,this.src=L,this.type=G,this.capture=!!se,this.ha=je,this.key=++mz,this.da=this.fa=!1}function lR(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function cR(E){this.src=E,this.g={},this.h=0}function IF(E,L){var G=L.type;if(G in E.g){var Et,se=E.g[G],je=Array.prototype.indexOf.call(se,L,void 0);(Et=0<=je)&&Array.prototype.splice.call(se,je,1),Et&&(lR(L),0==E.g[G].length&&(delete E.g[G],E.h--))}}function CF(E,L,G,se){for(var je=0;je<E.length;++je){var Et=E[je];if(!Et.da&&Et.listener==L&&Et.capture==!!G&&Et.ha==se)return je}return-1}cR.prototype.add=function(E,L,G,se,je){var Et=E.toString();(E=this.g[Et])||(E=this.g[Et]=[],this.h++);var on=CF(E,L,se,je);return-1<on?(L=E[on],G||(L.fa=!1)):((L=new gz(L,this.src,Et,!!se,je)).fa=G,E.push(L)),L};var bF="closure_lm_"+(1e6*Math.random()|0),wF={};function HL(E,L,G,se,je){if(se&&se.once)return WL(E,L,G,se,je);if(Array.isArray(L)){for(var Et=0;Et<L.length;Et++)HL(E,L[Et],G,se,je);return null}return G=DF(G),E&&E[Vb]?E.K(L,G,T(se)?!!se.capture:!!se,je):GL(E,L,G,!1,se,je)}function GL(E,L,G,se,je,Et){if(!L)throw Error("Invalid event type");var on=T(je)?!!je.capture:!!je,Ii=AF(E);if(Ii||(E[bF]=Ii=new cR(E)),(G=Ii.add(L,G,se,on,Et)).proxy)return G;if(se=function _z(){const L=vz;return function E(G){return L.call(E.src,E.listener,G)}}(),G.proxy=se,se.src=E,se.listener=G,E.addEventListener)fz||(je=on),void 0===je&&(je=!1),E.addEventListener(L.toString(),se,je);else if(E.attachEvent)E.attachEvent(KL(L.toString()),se);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(se)}return G}function WL(E,L,G,se,je){if(Array.isArray(L)){for(var Et=0;Et<L.length;Et++)WL(E,L[Et],G,se,je);return null}return G=DF(G),E&&E[Vb]?E.L(L,G,T(se)?!!se.capture:!!se,je):GL(E,L,G,!0,se,je)}function qL(E,L,G,se,je){if(Array.isArray(L))for(var Et=0;Et<L.length;Et++)qL(E,L[Et],G,se,je);else se=T(se)?!!se.capture:!!se,G=DF(G),E&&E[Vb]?(E=E.i,(L=String(L).toString())in E.g&&-1<(G=CF(Et=E.g[L],G,se,je))&&(lR(Et[G]),Array.prototype.splice.call(Et,G,1),0==Et.length&&(delete E.g[L],E.h--))):E&&(E=AF(E))&&(L=E.g[L.toString()],E=-1,L&&(E=CF(L,G,se,je)),(G=-1<E?L[E]:null)&&TF(G))}function TF(E){if("number"!=typeof E&&E&&!E.da){var L=E.src;if(L&&L[Vb])IF(L.i,E);else{var G=E.type,se=E.proxy;L.removeEventListener?L.removeEventListener(G,se,E.capture):L.detachEvent?L.detachEvent(KL(G),se):L.addListener&&L.removeListener&&L.removeListener(se),(G=AF(L))?(IF(G,E),0==G.h&&(G.src=null,L[bF]=null)):lR(E)}}}function KL(E){return E in wF?wF[E]:wF[E]="on"+E}function vz(E,L){if(E.da)E=!0;else{L=new Lb(L,this);var G=E.listener,se=E.ha||E.src;E.fa&&TF(E),E=G.call(se,L)}return E}function AF(E){return(E=E[bF])instanceof cR?E:null}var SF="__closure_events_fn_"+(1e9*Math.random()>>>0);function DF(E){return"function"==typeof E?E:(E[SF]||(E[SF]=function(L){return E.handleEvent(L)}),E[SF])}function Xs(){sp.call(this),this.i=new cR(this),this.M=this,this.F=null}function wa(E,L){var G,se=E.F;if(se)for(G=[];se;se=se.F)G.push(se);if(E=E.M,se=L.type||L,"string"==typeof L)L=new Ks(L,E);else if(L instanceof Ks)L.target=L.target||E;else{var je=L;Oe(L=new Ks(se,E),je)}if(je=!0,G)for(var Et=G.length-1;0<=Et;Et--){var on=L.g=G[Et];je=uR(on,se,!0,L)&&je}if(je=uR(on=L.g=E,se,!0,L)&&je,je=uR(on,se,!1,L)&&je,G)for(Et=0;Et<G.length;Et++)je=uR(on=L.g=G[Et],se,!1,L)&&je}function uR(E,L,G,se){if(!(L=E.i.g[String(L)]))return!0;L=L.concat();for(var je=!0,Et=0;Et<L.length;++Et){var on=L[Et];if(on&&!on.da&&on.capture==G){var Ii=on.listener,As=on.ha||on.src;on.fa&&IF(E.i,on),je=!1!==Ii.call(As,se)&&je}}return je&&!se.defaultPrevented}function XL(E,L,G){if("function"==typeof E)G&&(E=q(E,G));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=q(E.handleEvent,E)}return 2147483647<Number(L)?-1:m.setTimeout(E,L||0)}function QL(E){E.g=XL(()=>{E.g=null,E.i&&(E.i=!1,QL(E))},E.l);const L=E.h;E.h=null,E.m.apply(null,L)}Se(Xs,sp),Xs.prototype[Vb]=!0,Xs.prototype.removeEventListener=function(E,L,G,se){qL(this,E,L,G,se)},Xs.prototype.N=function(){if(Xs.aa.N.call(this),this.i){var L,E=this.i;for(L in E.g){for(var G=E.g[L],se=0;se<G.length;se++)lR(G[se]);delete E.g[L],E.h--}}this.F=null},Xs.prototype.K=function(E,L,G,se){return this.i.add(String(E),L,!1,G,se)},Xs.prototype.L=function(E,L,G,se){return this.i.add(String(E),L,!0,G,se)};class yz extends sp{constructor(L,G){super(),this.m=L,this.l=G,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:QL(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ub(E){sp.call(this),this.h=E,this.g={}}Se(Ub,sp);var YL=[];function JL(E){Wn(E.g,function(L,G){this.g.hasOwnProperty(G)&&TF(L)},E),E.g={}}Ub.prototype.N=function(){Ub.aa.N.call(this),JL(this)},Ub.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var RF=m.JSON.stringify,Ez=m.JSON.parse,Iz=class{stringify(E){return m.JSON.stringify(E,void 0)}parse(E){return m.JSON.parse(E,void 0)}};function PF(){}function eV(){}PF.prototype.h=null;var Bb={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xF(){Ks.call(this,"d")}function MF(){Ks.call(this,"c")}Se(xF,Ks),Se(MF,Ks);var yg={},tV=null;function dR(){return tV=tV||new Xs}function nV(E){Ks.call(this,yg.La,E)}function zb(E){const L=dR();wa(L,new nV(L))}function rV(E,L){Ks.call(this,yg.STAT_EVENT,E),this.stat=L}function Ta(E){const L=dR();wa(L,new rV(L,E))}function iV(E,L){Ks.call(this,yg.Ma,E),this.size=L}function jb(E,L){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){E()},L)}function $b(){this.g=!0}function Ny(E,L,G,se){E.info(function(){return"XMLHTTP TEXT ("+L+"): "+function Tz(E,L){if(!E.g)return L;if(!L)return null;try{var G=JSON.parse(L);if(G)for(E=0;E<G.length;E++)if(Array.isArray(G[E])){var se=G[E];if(!(2>se.length)){var je=se[1];if(Array.isArray(je)&&!(1>je.length)){var Et=je[0];if("noop"!=Et&&"stop"!=Et&&"close"!=Et)for(var on=1;on<je.length;on++)je[on]=""}}}return RF(G)}catch{return L}}(E,G)+(se?" "+se:"")})}yg.La="serverreachability",Se(nV,Ks),yg.STAT_EVENT="statevent",Se(rV,Ks),yg.Ma="timingevent",Se(iV,Ks),$b.prototype.xa=function(){this.g=!1},$b.prototype.info=function(){};var kF,hR={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oV={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function fR(){}function ap(E,L,G,se){this.j=E,this.i=L,this.l=G,this.R=se||1,this.U=new Ub(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sV}function sV(){this.i=null,this.g="",this.h=!1}Se(fR,PF),fR.prototype.g=function(){return new XMLHttpRequest},fR.prototype.i=function(){return{}},kF=new fR;var aV={},NF={};function FF(E,L,G){E.L=1,E.v=_R(uh(L)),E.m=G,E.P=!0,lV(E,null)}function lV(E,L){E.F=Date.now(),pR(E),E.A=uh(E.v);var G=E.A,se=E.R;Array.isArray(se)||(se=[String(se)]),CV(G.i,"t",se),E.C=0,G=E.j.J,E.h=new sV,E.g=BV(E.j,G?L:null,!E.m),0<E.O&&(E.M=new yz(q(E.Y,E,E.g),E.O)),L=E.U,G=E.g,se=E.ca;var je="readystatechange";Array.isArray(je)||(je&&(YL[0]=je.toString()),je=YL);for(var Et=0;Et<je.length;Et++){var on=HL(G,je[Et],se||L.handleEvent,!1,L.h||L);if(!on)break;L.g[on.key]=on}L=E.H?me(E.H):{},E.m?(E.u||(E.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,L)):(E.u="GET",E.g.ea(E.A,E.u,null,L)),zb(),function Cz(E,L,G,se,je,Et){E.info(function(){if(E.g)if(Et)for(var on="",Ii=Et.split("&"),As=0;As<Ii.length;As++){var Yr=Ii[As].split("=");if(1<Yr.length){var Qs=Yr[0];Yr=Yr[1];var Ys=Qs.split("_");on=2<=Ys.length&&"type"==Ys[1]?on+(Qs+"=")+Yr+"&":on+(Qs+"=redacted&")}}else on=null;else on=Et;return"XMLHTTP REQ ("+se+") [attempt "+je+"]: "+L+"\n"+G+"\n"+on})}(E.i,E.u,E.A,E.l,E.R,E.m)}function cV(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function Az(E,L){var G=E.C,se=L.indexOf("\n",G);return-1==se?NF:(G=Number(L.substring(G,se)),isNaN(G)?aV:(se+=1)+G>L.length?NF:(L=L.slice(se,se+G),E.C=se+G,L))}function pR(E){E.S=Date.now()+E.I,uV(E,E.I)}function uV(E,L){if(null!=E.B)throw Error("WatchDog timer not null");E.B=jb(q(E.ba,E),L)}function OF(E){E.B&&(m.clearTimeout(E.B),E.B=null)}function Hb(E){0==E.j.G||E.J||OV(E.j,E)}function Eg(E){OF(E);var L=E.M;L&&"function"==typeof L.ma&&L.ma(),E.M=null,JL(E.U),E.g&&(L=E.g,E.g=null,L.abort(),L.ma())}function LF(E,L){try{var G=E.j;if(0!=G.G&&(G.g==E||VF(G.h,E)))if(!E.K&&VF(G.h,E)&&3==G.G){try{var se=G.Da.g.parse(L)}catch{se=null}if(Array.isArray(se)&&3==se.length){var je=se;if(0==je[0]){e:if(!G.u){if(G.g){if(!(G.g.F+3e3<E.F))break e;CR(G),ER(G)}jF(G),Ta(18)}}else G.za=je[1],0<G.za-G.T&&37500>je[2]&&G.F&&0==G.v&&!G.C&&(G.C=jb(q(G.Za,G),6e3));if(1>=fV(G.h)&&G.ca){try{G.ca()}catch{}G.ca=void 0}}else Cg(G,11)}else if((E.K||G.g==E)&&CR(G),!ln(L))for(je=G.Da.g.parse(L),L=0;L<je.length;L++){let Yr=je[L];if(G.T=Yr[0],Yr=Yr[1],2==G.G)if("c"==Yr[0]){G.K=Yr[1],G.ia=Yr[2];const Qs=Yr[3];null!=Qs&&(G.la=Qs,G.j.info("VER="+G.la));const Ys=Yr[4];null!=Ys&&(G.Aa=Ys,G.j.info("SVER="+G.Aa));const Ly=Yr[5];null!=Ly&&"number"==typeof Ly&&0<Ly&&(G.L=se=1.5*Ly,G.j.info("backChannelRequestTimeoutMs_="+se)),se=G;const jc=E.g;if(jc){const wR=jc.g?jc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wR){var Et=se.h;Et.g||-1==wR.indexOf("spdy")&&-1==wR.indexOf("quic")&&-1==wR.indexOf("h2")||(Et.j=Et.l,Et.g=new Set,Et.h&&(UF(Et,Et.h),Et.h=null))}if(se.D){const HF=jc.g?jc.g.getResponseHeader("X-HTTP-Session-Id"):null;HF&&(se.ya=HF,Oi(se.I,se.D,HF))}}G.G=3,G.l&&G.l.ua(),G.ba&&(G.R=Date.now()-E.F,G.j.info("Handshake RTT: "+G.R+"ms"));var on=E;if((se=G).qa=UV(se,se.J?se.ia:null,se.W),on.K){pV(se.h,on);var Ii=on,As=se.L;As&&(Ii.I=As),Ii.B&&(OF(Ii),pR(Ii)),se.g=on}else NV(se);0<G.i.length&&IR(G)}else"stop"!=Yr[0]&&"close"!=Yr[0]||Cg(G,7);else 3==G.G&&("stop"==Yr[0]||"close"==Yr[0]?"stop"==Yr[0]?Cg(G,7):zF(G):"noop"!=Yr[0]&&G.l&&G.l.ta(Yr),G.v=0)}zb()}catch{}}ap.prototype.ca=function(E){E=E.target;const L=this.M;L&&3==dh(E)?L.j():this.Y(E)},ap.prototype.Y=function(E){try{if(E==this.g)e:{const Ys=dh(this.g);var L=this.g.Ba();if(this.g.Z(),!(3>Ys)&&(3!=Ys||this.g&&(this.h.h||this.g.oa()||RV(this.g)))){this.J||4!=Ys||7==L||zb(),OF(this);var G=this.g.Z();this.X=G;t:if(cV(this)){var se=RV(this.g);E="";var je=se.length,Et=4==dh(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Eg(this),Hb(this);var on="";break t}this.h.i=new m.TextDecoder}for(L=0;L<je;L++)this.h.h=!0,E+=this.h.i.decode(se[L],{stream:!(Et&&L==je-1)});se.length=0,this.h.g+=E,this.C=0,on=this.h.g}else on=this.g.oa();if(this.o=200==G,function bz(E,L,G,se,je,Et,on){E.info(function(){return"XMLHTTP RESP ("+se+") [ attempt "+je+"]: "+L+"\n"+G+"\n"+Et+" "+on})}(this.i,this.u,this.A,this.l,this.R,Ys,G),this.o){if(this.T&&!this.K){t:{if(this.g){var Ii,As=this.g;if((Ii=As.g?As.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ln(Ii)){var Yr=Ii;break t}}Yr=null}if(!(G=Yr)){this.o=!1,this.s=3,Ta(12),Eg(this),Hb(this);break e}Ny(this.i,this.l,G,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,LF(this,G)}if(this.P){let jc;for(G=!0;!this.J&&this.C<on.length;){if(jc=Az(this,on),jc==NF){4==Ys&&(this.s=4,Ta(14),G=!1),Ny(this.i,this.l,null,"[Incomplete Response]");break}if(jc==aV){this.s=4,Ta(15),Ny(this.i,this.l,on,"[Invalid Chunk]"),G=!1;break}Ny(this.i,this.l,jc,null),LF(this,jc)}if(cV(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ys||0!=on.length||this.h.h||(this.s=1,Ta(16),G=!1),this.o=this.o&&G,G){if(0<on.length&&!this.W){this.W=!0;var Qs=this.j;Qs.g==this&&Qs.ba&&!Qs.M&&(Qs.j.info("Great, no buffering proxy detected. Bytes received: "+on.length),$F(Qs),Qs.M=!0,Ta(11))}}else Ny(this.i,this.l,on,"[Invalid Chunked Response]"),Eg(this),Hb(this)}else Ny(this.i,this.l,on,null),LF(this,on);4==Ys&&Eg(this),this.o&&!this.J&&(4==Ys?OV(this.j,this):(this.o=!1,pR(this)))}else(function $z(E){const L={};E=(E.g&&2<=dh(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let se=0;se<E.length;se++){if(ln(E[se]))continue;var G=Be(E[se]);const je=G[0];if("string"!=typeof(G=G[1]))continue;G=G.trim();const Et=L[je]||[];L[je]=Et,Et.push(G)}!function Me(E,L){for(const G in E)L.call(void 0,E[G],G,E)}(L,function(se){return se.join(", ")})})(this.g),400==G&&0<on.indexOf("Unknown SID")?(this.s=3,Ta(12)):(this.s=0,Ta(13)),Eg(this),Hb(this)}}}catch{}},ap.prototype.cancel=function(){this.J=!0,Eg(this)},ap.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function wz(E,L){E.info(function(){return"TIMEOUT: "+L})}(this.i,this.A),2!=this.L&&(zb(),Ta(17)),Eg(this),this.s=2,Hb(this)):uV(this,this.S-E)};var Sz=class{constructor(E,L){this.g=E,this.map=L}};function dV(E){this.l=E||10,E=m.PerformanceNavigationTiming?0<(E=m.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hV(E){return!!E.h||!!E.g&&E.g.size>=E.j}function fV(E){return E.h?1:E.g?E.g.size:0}function VF(E,L){return E.h?E.h==L:!!E.g&&E.g.has(L)}function UF(E,L){E.g?E.g.add(L):E.h=L}function pV(E,L){E.h&&E.h==L?E.h=null:E.g&&E.g.has(L)&&E.g.delete(L)}function mV(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let L=E.i;for(const G of E.g.values())L=L.concat(G.D);return L}return ft(E.i)}function gV(E,L){if(E.forEach&&"function"==typeof E.forEach)E.forEach(L,void 0);else if(y(E)||"string"==typeof E)Array.prototype.forEach.call(E,L,void 0);else for(var G=function Rz(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(y(E)||"string"==typeof E){var L=[];E=E.length;for(var G=0;G<E;G++)L.push(G);return L}L=[],G=0;for(const se in E)L[G++]=se;return L}}}(E),se=function Dz(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(y(E)){for(var L=[],G=E.length,se=0;se<G;se++)L.push(E[se]);return L}for(se in L=[],G=0,E)L[G++]=E[se];return L}(E),je=se.length,Et=0;Et<je;Et++)L.call(void 0,se[Et],G&&G[Et],E)}dV.prototype.cancel=function(){if(this.i=mV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var _V=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ig(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Ig){this.h=E.h,mR(this,E.j),this.o=E.o,this.g=E.g,gR(this,E.s),this.l=E.l;var L=E.i,G=new qb;G.i=L.i,L.g&&(G.g=new Map(L.g),G.h=L.h),vV(this,G),this.m=E.m}else E&&(L=String(E).match(_V))?(this.h=!1,mR(this,L[1]||"",!0),this.o=Gb(L[2]||""),this.g=Gb(L[3]||"",!0),gR(this,L[4]),this.l=Gb(L[5]||"",!0),vV(this,L[6]||"",!0),this.m=Gb(L[7]||"")):(this.h=!1,this.i=new qb(null,this.h))}function uh(E){return new Ig(E)}function mR(E,L,G){E.j=G?Gb(L,!0):L,E.j&&(E.j=E.j.replace(/:$/,""))}function gR(E,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);E.s=L}else E.s=null}function vV(E,L,G){L instanceof qb?(E.i=L,function Oz(E,L){L&&!E.j&&(lp(E),E.i=null,E.g.forEach(function(G,se){var je=se.toLowerCase();se!=je&&(EV(this,se),CV(this,je,G))},E)),E.j=L}(E.i,E.h)):(G||(L=Wb(L,Nz)),E.i=new qb(L,E.h))}function Oi(E,L,G){E.i.set(L,G)}function _R(E){return Oi(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Gb(E,L){return E?L?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Wb(E,L,G){return"string"==typeof E?(E=encodeURI(E).replace(L,xz),G&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function xz(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Ig.prototype.toString=function(){var E=[],L=this.j;L&&E.push(Wb(L,yV,!0),":");var G=this.g;return(G||"file"==L)&&(E.push("//"),(L=this.o)&&E.push(Wb(L,yV,!0),"@"),E.push(encodeURIComponent(String(G)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(G=this.s)&&E.push(":",String(G))),(G=this.l)&&(this.g&&"/"!=G.charAt(0)&&E.push("/"),E.push(Wb(G,"/"==G.charAt(0)?kz:Mz,!0))),(G=this.i.toString())&&E.push("?",G),(G=this.m)&&E.push("#",Wb(G,Fz)),E.join("")};var yV=/[#\/\?@]/g,Mz=/[#\?:]/g,kz=/[#\?]/g,Nz=/[#\?@]/g,Fz=/#/g;function qb(E,L){this.h=this.g=null,this.i=E||null,this.j=!!L}function lp(E){E.g||(E.g=new Map,E.h=0,E.i&&function Pz(E,L){if(E){E=E.split("&");for(var G=0;G<E.length;G++){var se=E[G].indexOf("="),je=null;if(0<=se){var Et=E[G].substring(0,se);je=E[G].substring(se+1)}else Et=E[G];L(Et,je?decodeURIComponent(je.replace(/\+/g," ")):"")}}}(E.i,function(L,G){E.add(decodeURIComponent(L.replace(/\+/g," ")),G)}))}function EV(E,L){lp(E),L=Fy(E,L),E.g.has(L)&&(E.i=null,E.h-=E.g.get(L).length,E.g.delete(L))}function IV(E,L){return lp(E),L=Fy(E,L),E.g.has(L)}function CV(E,L,G){EV(E,L),0<G.length&&(E.i=null,E.g.set(Fy(E,L),ft(G)),E.h+=G.length)}function Fy(E,L){return L=String(L),E.j&&(L=L.toLowerCase()),L}function cp(E,L,G,se,je){try{je&&(je.onload=null,je.onerror=null,je.onabort=null,je.ontimeout=null),se(G)}catch{}}function Uz(){this.g=new Iz}function Bz(E,L,G){const se=G||"";try{gV(E,function(je,Et){let on=je;T(je)&&(on=RF(je)),L.push(se+Et+"="+encodeURIComponent(on))})}catch(je){throw L.push(se+"type="+encodeURIComponent("_badmap")),je}}function Kb(E){this.l=E.Ub||null,this.j=E.eb||!1}function vR(E,L){Xs.call(this),this.D=E,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function bV(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function Xb(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Qb(E)}function Qb(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function wV(E){let L="";return Wn(E,function(G,se){L+=se,L+=":",L+=G,L+="\r\n"}),L}function BF(E,L,G){e:{for(se in G){var se=!1;break e}se=!0}se||(G=wV(G),"string"==typeof E?null!=G&&encodeURIComponent(String(G)):Oi(E,L,G))}function oo(E){Xs.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=qb.prototype).add=function(E,L){lp(this),this.i=null,E=Fy(this,E);var G=this.g.get(E);return G||this.g.set(E,G=[]),G.push(L),this.h+=1,this},n.forEach=function(E,L){lp(this),this.g.forEach(function(G,se){G.forEach(function(je){E.call(L,je,se,this)},this)},this)},n.na=function(){lp(this);const E=Array.from(this.g.values()),L=Array.from(this.g.keys()),G=[];for(let se=0;se<L.length;se++){const je=E[se];for(let Et=0;Et<je.length;Et++)G.push(L[se])}return G},n.V=function(E){lp(this);let L=[];if("string"==typeof E)IV(this,E)&&(L=L.concat(this.g.get(Fy(this,E))));else{E=Array.from(this.g.values());for(let G=0;G<E.length;G++)L=L.concat(E[G])}return L},n.set=function(E,L){return lp(this),this.i=null,IV(this,E=Fy(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[L]),this.h+=1,this},n.get=function(E,L){return E&&0<(E=this.V(E)).length?String(E[0]):L},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],L=Array.from(this.g.keys());for(var G=0;G<L.length;G++){var se=L[G];const Et=encodeURIComponent(String(se)),on=this.V(se);for(se=0;se<on.length;se++){var je=Et;""!==on[se]&&(je+="="+encodeURIComponent(String(on[se]))),E.push(je)}}return this.i=E.join("&")},Se(Kb,PF),Kb.prototype.g=function(){return new vR(this.l,this.j)},Kb.prototype.i=function(E){return function(){return E}}({}),Se(vR,Xs),(n=vR.prototype).open=function(E,L){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=L,this.readyState=1,Qb(this)},n.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(L.body=E),(this.D||m).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xb(this)),this.readyState=0},n.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Qb(this)),this.g&&(this.readyState=3,Qb(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bV(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var L=E.value?E.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!E.done}))&&(this.response=this.responseText+=L)}E.done?Xb(this):Qb(this),3==this.readyState&&bV(this)}},n.Ra=function(E){this.g&&(this.response=this.responseText=E,Xb(this))},n.Qa=function(E){this.g&&(this.response=E,Xb(this))},n.ga=function(){this.g&&Xb(this)},n.setRequestHeader=function(E,L){this.u.append(E,L)},n.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],L=this.h.entries();for(var G=L.next();!G.done;)E.push((G=G.value)[0]+": "+G[1]),G=L.next();return E.join("\r\n")},Object.defineProperty(vR.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Se(oo,Xs);var zz=/^https?$/i,jz=["POST","PUT"];function TV(E,L){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=L,E.m=5,AV(E),yR(E)}function AV(E){E.A||(E.A=!0,wa(E,"complete"),wa(E,"error"))}function SV(E){if(E.h&&typeof h<"u"&&(!E.v[1]||4!=dh(E)||2!=E.Z()))if(E.u&&4==dh(E))XL(E.Ea,0,E);else if(wa(E,"readystatechange"),4==dh(E)){E.h=!1;try{const on=E.Z();e:switch(on){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var G;if(!(G=L)){var se;if(se=0===on){var je=String(E.D).match(_V)[1]||null;!je&&m.self&&m.self.location&&(je=m.self.location.protocol.slice(0,-1)),se=!zz.test(je?je.toLowerCase():"")}G=se}if(G)wa(E,"complete"),wa(E,"success");else{E.m=6;try{var Et=2<dh(E)?E.g.statusText:""}catch{Et=""}E.l=Et+" ["+E.Z()+"]",AV(E)}}finally{yR(E)}}}function yR(E,L){if(E.g){DV(E);const G=E.g,se=E.v[0]?()=>{}:null;E.g=null,E.v=null,L||wa(E,"ready");try{G.onreadystatechange=se}catch{}}}function DV(E){E.I&&(m.clearTimeout(E.I),E.I=null)}function dh(E){return E.g?E.g.readyState:0}function RV(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Yb(E,L,G){return G&&G.internalChannelParams&&G.internalChannelParams[E]||L}function PV(E){this.Aa=0,this.i=[],this.j=new $b,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yb("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yb("baseRetryDelayMs",5e3,E),this.cb=Yb("retryDelaySeedMs",1e4,E),this.Wa=Yb("forwardChannelMaxRetries",2,E),this.wa=Yb("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new dV(E&&E.concurrentRequestLimit),this.Da=new Uz,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function zF(E){if(xV(E),3==E.G){var L=E.U++,G=uh(E.I);if(Oi(G,"SID",E.K),Oi(G,"RID",L),Oi(G,"TYPE","terminate"),Jb(E,G),(L=new ap(E,E.j,L)).L=2,L.v=_R(uh(G)),G=!1,m.navigator&&m.navigator.sendBeacon)try{G=m.navigator.sendBeacon(L.v.toString(),"")}catch{}!G&&m.Image&&((new Image).src=L.v,G=!0),G||(L.g=BV(L.j,null),L.g.ea(L.v)),L.F=Date.now(),pR(L)}VV(E)}function ER(E){E.g&&($F(E),E.g.cancel(),E.g=null)}function xV(E){ER(E),E.u&&(m.clearTimeout(E.u),E.u=null),CR(E),E.h.cancel(),E.s&&("number"==typeof E.s&&m.clearTimeout(E.s),E.s=null)}function IR(E){if(!hV(E.h)&&!E.s){E.s=!0;var L=E.Ga;Fb||$L(),Ob||(Fb(),Ob=!0),EF.add(L,E),E.B=0}}function MV(E,L){var G;G=L?L.l:E.U++;const se=uh(E.I);Oi(se,"SID",E.K),Oi(se,"RID",G),Oi(se,"AID",E.T),Jb(E,se),E.m&&E.o&&BF(se,E.m,E.o),G=new ap(E,E.j,G,E.B+1),null===E.m&&(G.H=E.o),L&&(E.i=L.D.concat(E.i)),L=kV(E,G,1e3),G.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),UF(E.h,G),FF(G,se,L)}function Jb(E,L){E.H&&Wn(E.H,function(G,se){Oi(L,se,G)}),E.l&&gV({},function(G,se){Oi(L,se,G)})}function kV(E,L,G){G=Math.min(E.i.length,G);var se=E.l?q(E.l.Na,E.l,E):null;e:{var je=E.i;let Et=-1;for(;;){const on=["count="+G];-1==Et?0<G?(Et=je[0].g,on.push("ofs="+Et)):Et=0:on.push("ofs="+Et);let Ii=!0;for(let As=0;As<G;As++){let Yr=je[As].g;const Qs=je[As].map;if(Yr-=Et,0>Yr)Et=Math.max(0,je[As].g-100),Ii=!1;else try{Bz(Qs,on,"req"+Yr+"_")}catch{se&&se(Qs)}}if(Ii){se=on.join("&");break e}}}return E=E.i.splice(0,G),L.D=E,se}function NV(E){if(!E.g&&!E.u){E.Y=1;var L=E.Fa;Fb||$L(),Ob||(Fb(),Ob=!0),EF.add(L,E),E.v=0}}function jF(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=jb(q(E.Fa,E),LV(E,E.v)),E.v++,0))}function $F(E){null!=E.A&&(m.clearTimeout(E.A),E.A=null)}function FV(E){E.g=new ap(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var L=uh(E.qa);Oi(L,"RID","rpc"),Oi(L,"SID",E.K),Oi(L,"AID",E.T),Oi(L,"CI",E.F?"0":"1"),!E.F&&E.ja&&Oi(L,"TO",E.ja),Oi(L,"TYPE","xmlhttp"),Jb(E,L),E.m&&E.o&&BF(L,E.m,E.o),E.L&&(E.g.I=E.L);var G=E.g;E=E.ia,G.L=1,G.v=_R(uh(L)),G.m=null,G.P=!0,lV(G,E)}function CR(E){null!=E.C&&(m.clearTimeout(E.C),E.C=null)}function OV(E,L){var G=null;if(E.g==L){CR(E),$F(E),E.g=null;var se=2}else{if(!VF(E.h,L))return;G=L.D,pV(E.h,L),se=1}if(0!=E.G)if(L.o)if(1==se){G=L.m?L.m.length:0,L=Date.now()-L.F;var je=E.B;wa(se=dR(),new iV(se,G)),IR(E)}else NV(E);else if(3==(je=L.s)||0==je&&0<L.X||!(1==se&&function Hz(E,L){return!(fV(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=L.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=jb(q(E.Ga,E,L),LV(E,E.B)),E.B++,0)))}(E,L)||2==se&&jF(E)))switch(G&&0<G.length&&(L=E.h,L.i=L.i.concat(G)),je){case 1:Cg(E,5);break;case 4:Cg(E,10);break;case 3:Cg(E,6);break;default:Cg(E,2)}}function LV(E,L){let G=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(G*=2),G*L}function Cg(E,L){if(E.j.info("Error code "+L),2==L){var G=q(E.fb,E),se=E.Xa;const je=!se;se=new Ig(se||"//www.google.com/images/cleardot.gif"),m.location&&"http"==m.location.protocol||mR(se,"https"),_R(se),je?function Lz(E,L){const G=new $b;if(m.Image){const se=new Image;se.onload=ue(cp,G,"TestLoadImage: loaded",!0,L,se),se.onerror=ue(cp,G,"TestLoadImage: error",!1,L,se),se.onabort=ue(cp,G,"TestLoadImage: abort",!1,L,se),se.ontimeout=ue(cp,G,"TestLoadImage: timeout",!1,L,se),m.setTimeout(function(){se.ontimeout&&se.ontimeout()},1e4),se.src=E}else L(!1)}(se.toString(),G):function Vz(E,L){new $b;const se=new AbortController,je=setTimeout(()=>{se.abort(),cp(0,0,!1,L)},1e4);fetch(E,{signal:se.signal}).then(Et=>{clearTimeout(je),cp(0,0,!!Et.ok,L)}).catch(()=>{clearTimeout(je),cp(0,0,!1,L)})}(se.toString(),G)}else Ta(2);E.G=0,E.l&&E.l.sa(L),VV(E),xV(E)}function VV(E){if(E.G=0,E.ka=[],E.l){const L=mV(E.h);(0!=L.length||0!=E.i.length)&&(dt(E.ka,L),dt(E.ka,E.i),E.h.i.length=0,ft(E.i),E.i.length=0),E.l.ra()}}function UV(E,L,G){var se=G instanceof Ig?uh(G):new Ig(G);if(""!=se.g)L&&(se.g=L+"."+se.g),gR(se,se.s);else{var je=m.location;se=je.protocol,L=L?L+"."+je.hostname:je.hostname,je=+je.port;var Et=new Ig(null);se&&mR(Et,se),L&&(Et.g=L),je&&gR(Et,je),G&&(Et.l=G),se=Et}return L=E.ya,(G=E.D)&&L&&Oi(se,G,L),Oi(se,"VER",E.la),Jb(E,se),se}function BV(E,L,G){if(L&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(L=new oo(E.Ca&&!E.pa?new Kb({eb:G}):E.pa)).Ha(E.J),L}function zV(){}function bR(){}function El(E,L){Xs.call(this),this.g=new PV(L),this.l=E,this.h=L&&L.messageUrlParams||null,E=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(E?E["X-WebChannel-Content-Type"]=L.messageContentType:E={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(E?E["X-WebChannel-Client-Profile"]=L.va:E={"X-WebChannel-Client-Profile":L.va}),this.g.S=E,(E=L&&L.Sb)&&!ln(E)&&(this.g.m=E),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!ln(L)&&(this.g.D=L,null!==(E=this.h)&&L in E&&L in(E=this.h)&&delete E[L]),this.j=new Oy(this)}function jV(E){xF.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var L=E.__sm__;if(L){e:{for(const G in L){E=G;break e}E=void 0}(this.i=E)&&(E=this.i,L=null!==L&&E in L?L[E]:void 0),this.data=L}else this.data=E}function $V(){MF.call(this),this.status=1}function Oy(E){this.g=E}(n=oo.prototype).Ha=function(E){this.J=E},n.ea=function(E,L,G,se){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);L=L?L.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kF.g(),this.v=function ZL(E){return E.h||(E.h=E.i())}(this.o?this.o:kF),this.g.onreadystatechange=q(this.Ea,this);try{this.B=!0,this.g.open(L,String(E),!0),this.B=!1}catch(Et){return void TV(this,Et)}if(E=G||"",G=new Map(this.headers),se)if(Object.getPrototypeOf(se)===Object.prototype)for(var je in se)G.set(je,se[je]);else{if("function"!=typeof se.keys||"function"!=typeof se.get)throw Error("Unknown input type for opt_headers: "+String(se));for(const Et of se.keys())G.set(Et,se.get(Et))}se=Array.from(G.keys()).find(Et=>"content-type"==Et.toLowerCase()),je=m.FormData&&E instanceof m.FormData,!(0<=Array.prototype.indexOf.call(jz,L,void 0))||se||je||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Et,on]of G)this.g.setRequestHeader(Et,on);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{DV(this),this.u=!0,this.g.send(E),this.u=!1}catch(Et){TV(this,Et)}},n.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,wa(this,"complete"),wa(this,"abort"),yR(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yR(this,!0)),oo.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?SV(this):this.bb())},n.bb=function(){SV(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<dh(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(E){if(this.g){var L=this.g.responseText;return E&&0==L.indexOf(E)&&(L=L.substring(E.length)),Ez(L)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=PV.prototype).la=8,n.G=1,n.connect=function(E,L,G,se){Ta(0),this.W=E,this.H=L||{},G&&void 0!==se&&(this.H.OSID=G,this.H.OAID=se),this.F=this.X,this.I=UV(this,null,this.W),IR(this)},n.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const je=new ap(this,this.j,E);let Et=this.o;if(this.S&&(Et?(Et=me(Et),Oe(Et,this.S)):Et=this.S),null!==this.m||this.O||(je.H=Et,Et=null),this.P)e:{for(var L=0,G=0;G<this.i.length;G++){var se=this.i[G];if(void 0===(se="__data__"in se.map&&"string"==typeof(se=se.map.__data__)?se.length:void 0))break;if(4096<(L+=se)){L=G;break e}if(4096===L||G===this.i.length-1){L=G+1;break e}}L=1e3}else L=1e3;L=kV(this,je,L),Oi(G=uh(this.I),"RID",E),Oi(G,"CVER",22),this.D&&Oi(G,"X-HTTP-Session-Id",this.D),Jb(this,G),Et&&(this.O?L="headers="+encodeURIComponent(String(wV(Et)))+"&"+L:this.m&&BF(G,this.m,Et)),UF(this.h,je),this.Ua&&Oi(G,"TYPE","init"),this.P?(Oi(G,"$req",L),Oi(G,"SID","null"),je.T=!0,FF(je,G,null)):FF(je,G,L),this.G=2}}else 3==this.G&&(E?MV(this,E):0==this.i.length||hV(this.h)||MV(this))},n.Fa=function(){if(this.u=null,FV(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=jb(q(this.ab,this),E)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ta(10),ER(this),FV(this))},n.Za=function(){null!=this.C&&(this.C=null,ER(this),jF(this),Ta(19))},n.fb=function(E){E?(this.j.info("Successfully pinged google.com"),Ta(2)):(this.j.info("Failed to ping google.com"),Ta(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=zV.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},bR.prototype.g=function(E,L){return new El(E,L)},Se(El,Xs),El.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},El.prototype.close=function(){zF(this.g)},El.prototype.o=function(E){var L=this.g;if("string"==typeof E){var G={};G.__data__=E,E=G}else this.u&&((G={}).__data__=RF(E),E=G);L.i.push(new Sz(L.Ya++,E)),3==L.G&&IR(L)},El.prototype.N=function(){this.g.l=null,delete this.j,zF(this.g),delete this.g,El.aa.N.call(this)},Se(jV,xF),Se($V,MF),Se(Oy,zV),Oy.prototype.ua=function(){wa(this.g,"a")},Oy.prototype.ta=function(E){wa(this.g,new jV(E))},Oy.prototype.sa=function(E){wa(this.g,new $V)},Oy.prototype.ra=function(){wa(this.g,"b")},bR.prototype.createWebChannel=bR.prototype.g,El.prototype.send=El.prototype.o,El.prototype.open=El.prototype.m,El.prototype.close=El.prototype.close,gT=zs.createWebChannelTransport=function(){return new bR},mT=zs.getStatEventTarget=function(){return dR()},Y0=zs.Event=yg,Q0=zs.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hR.NO_ERROR=0,hR.TIMEOUT=8,hR.HTTP_ERROR=6,v_=zs.ErrorCode=hR,oV.COMPLETE="complete",Qp=zs.EventType=oV,eV.EventType=Bb,Bb.OPEN="a",Bb.CLOSE="b",Bb.ERROR="c",Bb.MESSAGE="d",Xs.prototype.listen=Xs.prototype.K,yd=zs.WebChannel=eV,X0=zs.FetchXmlHttpFactory=Kb,oo.prototype.listenOnce=oo.prototype.L,oo.prototype.getLastError=oo.prototype.Ka,oo.prototype.getLastErrorCode=oo.prototype.Ba,oo.prototype.getStatus=oo.prototype.Z,oo.prototype.getResponseJson=oo.prototype.Oa,oo.prototype.getResponseText=oo.prototype.oa,oo.prototype.send=oo.prototype.ea,oo.prototype.setWithCredentials=oo.prototype.Ha,__=zs.XhrIo=oo}).apply(typeof g_<"u"?g_:typeof self<"u"?self:typeof window<"u"?window:{});const _T="@firebase/firestore";class go{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}go.UNAUTHENTICATED=new go(null),go.GOOGLE_CREDENTIALS=new go("google-credentials-uid"),go.FIRST_PARTY=new go("first-party-uid"),go.MOCK_USER=new go("mock-user");let $l="10.12.1";const sl=new qn("@firebase/firestore");function su(){return sl.logLevel}function Vt(n,...e){if(sl.logLevel<=Tn.DEBUG){const t=e.map(_c);sl.debug(`Firestore (${$l}): ${n}`,...t)}}function Mi(n,...e){if(sl.logLevel<=Tn.ERROR){const t=e.map(_c);sl.error(`Firestore (${$l}): ${n}`,...t)}}function Es(n,...e){if(sl.logLevel<=Tn.WARN){const t=e.map(_c);sl.warn(`Firestore (${$l}): ${n}`,...t)}}function _c(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function un(n="Unexpected state"){const e=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: `+n;throw Mi(e),new Error(e)}function Cn(n,e){n||un()}function en(n,e){return n}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends zt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class io{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class J0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(go.UNAUTHENTICATED))}shutdown(){}}class Z0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yT{constructor(e){this.t=e,this.currentUser=go.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const c=T=>this.i!==s?(s=this.i,t(T)):Promise.resolve();let h=new io;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new io,e.enqueueRetryable(()=>c(this.currentUser))};const m=()=>{const T=h;e.enqueueRetryable((0,X.A)(function*(){yield T.promise,yield c(r.currentUser)}))},y=T=>{Vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(T=>y(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?y(T):(Vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new io)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Cn("string"==typeof r.accessToken),new J0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Cn(null===e||"string"==typeof e),new go(e)}}class y_{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=go.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Yp{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new y_(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(go.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=c=>{null!=c.error&&Vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,Vt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const s=c=>{Vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>s(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?s(c):Vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Cn("string"==typeof t.token),this.R=t.token,new eE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ET(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class I_{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=ET(40);for(let c=0;c<s.length;++c)r.length<20&&s[c]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[c]%62))}return r}}function Hn(n,e){return n<e?-1:n>e?1:0}function jh(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function nE(n){return n+"\0"}class bi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bi.fromMillis(Date.now())}static fromDate(e){return bi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new bi(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Hn(this.nanoseconds,e.nanoseconds):Hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dn(e)}static min(){return new Dn(new bi(0,0))}static max(){return new Dn(new bi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jp{constructor(e,t,r){void 0===t?t=0:t>e.length&&un(),void 0===r?r=e.length-t:r>e.length-t&&un(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Jp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const c=e.get(s),h=t.get(s);if(c<h)return-1;if(c>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tr extends Jp{construct(e,t,r){return new Tr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Nt(ht.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Tr(t)}static emptyPath(){return new Tr([])}}const IT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Jp{construct(e,t,r){return new fn(e,t,r)}static isValidIdentifier(e){return IT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const c=()=>{if(0===r.length)throw new Nt(ht.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;s<e.length;){const m=e[s];if("\\"===m){if(s+1===e.length)throw new Nt(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[s+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Nt(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,s+=2}else"`"===m?(h=!h,s++):"."!==m||h?(r+=m,s++):(c(),s++)}if(c(),h)throw new Nt(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(t)}static emptyPath(){return new fn([])}}class tn{constructor(e){this.path=e}static fromPath(e){return new tn(Tr.fromString(e))}static fromName(e){return new tn(Tr.fromString(e).popFirst(5))}static empty(){return new tn(Tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new Tr(e.slice()))}}class Ed{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function au(n){return n.fields.find(e=>2===e.kind)}function lu(n){return n.fields.filter(e=>2!==e.kind)}Ed.UNKNOWN_ID=-1;class Id{constructor(e,t){this.fieldPath=e,this.kind=t}}class al{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new al(0,js.min())}}function b_(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Dn.fromTimestamp(1e9===r?new bi(t+1,0):new bi(t,r));return new js(s,tn.empty(),e)}function $h(n){return new js(n.readTime,n.key,-1)}class js{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new js(Dn.min(),tn.empty(),-1)}static max(){return new js(Dn.max(),tn.empty(),-1)}}function Zp(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=tn.comparator(n.documentKey,e.documentKey),0!==t?t:Hn(n.largestBatchId,e.largestBatchId))}const w_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function vc(n){return em.apply(this,arguments)}function em(){return em=(0,X.A)(function*(n){if(n.code!==ht.FAILED_PRECONDITION||n.message!==w_)throw n;Vt("LocalStore","Unexpectedly lost primary lease")}),em.apply(this,arguments)}class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&un(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $e((r,s)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,s)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof $e?t:$e.resolve(t)}catch(t){return $e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):$e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):$e.reject(t)}static resolve(e){return new $e((t,r)=>{t(e)})}static reject(e){return new $e((t,r)=>{r(e)})}static waitFor(e){return new $e((t,r)=>{let s=0,c=0,h=!1;e.forEach(m=>{++s,m.next(()=>{++c,h&&c===s&&t()},y=>r(y))}),h=!0,c===s&&t()})}static or(e){let t=$e.resolve(!1);for(const r of e)t=t.next(s=>s?$e.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,c)=>{r.push(t.call(this,s,c))}),this.waitFor(r)}static mapArray(e,t){return new $e((r,s)=>{const c=e.length,h=new Array(c);let m=0;for(let y=0;y<c;y++){const T=y;t(e[T]).next(N=>{h[T]=N,++m,m===c&&r(h)},N=>s(N))}})}static doWhile(e,t){return new $e((r,s)=>{const c=()=>{!0===e()?t().next(()=>{c()},s):r()};c()})}}class A_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new io,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new tm(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=oE(r.target.error);this.V.reject(new tm(e,s))}}static open(e,t,r,s){try{return new A_(t,e.transaction(s,r))}catch(c){throw new tm(t,c)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Vt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new nx(t)}}class Hl{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===Hl.S(Ot())&&Mi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Vt("SimpleDb","Removing database:",e),uu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Le())return!1;if(Hl.C())return!0;const e=Ot(),t=Hl.S(e),r=0<t&&t<10,s=rE(e),c=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){var t=this;return(0,X.A)(function*(){return t.db||(Vt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=h=>{r(h.target.result)},c.onblocked=()=>{s(new tm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=h=>{const m=h.target.error;s("VersionError"===m.name?new Nt(ht.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Nt(ht.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new tm(e,m))},c.onupgradeneeded=h=>{Vt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.p.O(h.target.result,c.transaction,h.oldVersion,t.version).next(()=>{Vt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.N&&(t.db.onversionchange=r=>t.N(r)),t.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var c=this;return(0,X.A)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{c.db=yield c.M(e);const y=A_.open(c.db,e,h?"readonly":"readwrite",r),T=s(y).next(N=>(y.g(),N)).catch(N=>(y.abort(N),$e.reject(N))).toPromise();return T.catch(()=>{}),yield y.m,T}catch(y){const T=y,N="FirebaseError"!==T.name&&m<3;if(Vt("SimpleDb","Transaction failed with error:",T.message,"Retrying:",N),c.close(),!N)return Promise.reject(T)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function rE(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class tx{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return uu(this.B.delete())}}class tm extends Nt{constructor(e,t){super(ht.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function cu(n){return"IndexedDbTransactionError"===n.name}class nx{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Vt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Vt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),uu(r)}add(e){return Vt("SimpleDb","ADD",this.store.name,e,e),uu(this.store.add(e))}get(e){return uu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Vt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Vt("SimpleDb","DELETE",this.store.name,e),uu(this.store.delete(e))}count(){return Vt("SimpleDb","COUNT",this.store.name),uu(this.store.count())}U(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if("function"==typeof s.getAll){const c=s.getAll(r.range);return new $e((h,m)=>{c.onerror=y=>{m(y.target.error)},c.onsuccess=y=>{h(y.target.result)}})}{const c=this.cursor(r),h=[];return this.W(c,(m,y)=>{h.push(y)}).next(()=>h)}}G(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new $e((s,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}j(e,t){Vt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const s=this.cursor(r);return this.W(s,(c,h,m)=>m.delete())}J(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.W(s,t)}Y(e){const t=this.cursor({});return new $e((r,s)=>{t.onerror=c=>{const h=oE(c.target.error);s(h)},t.onsuccess=c=>{const h=c.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}W(e,t){const r=[];return new $e((s,c)=>{e.onerror=h=>{c(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void s();const y=new tx(m),T=t(m.primaryKey,m.value,y);if(T instanceof $e){const N=T.catch(B=>(y.done(),$e.reject(B)));r.push(N)}y.isDone?s():null===y.K?m.continue():m.continue(y.K)}}).next(()=>$e.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function uu(n){return new $e((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=oE(r.target.error);t(s)}})}let iE=!1;function oE(n){const e=Hl.S(Ot());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iE||(iE=!0,setTimeout(()=>{throw r},0)),r}}return n}class rx{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var t=this;Vt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,X.A)(function*(){t.task=null;try{Vt("IndexBackfiller",`Documents written: ${yield t.Z.ee()}`)}catch(r){cu(r)?Vt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield vc(r)}yield t.X(6e4)}))}}class $s{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){var t=this;return(0,X.A)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.te(r,e))})()}te(e,t){const r=new Set;let s=t,c=!0;return $e.doWhile(()=>!0===c&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(h=>{if(null!==h&&!r.has(h))return Vt("IndexBackfiller",`Processing collection: ${h}`),this.ne(e,h,s).next(m=>{s-=m,r.add(h)});c=!1})).next(()=>t-s)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(c=>{const h=c.changes;return this.localStore.indexManager.updateIndexEntries(e,h).next(()=>this.re(s,c)).next(m=>(Vt("IndexBackfiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>h.size)}))}re(e,t){let r=e;return t.changes.forEach((s,c)=>{const h=$h(c);Zp(h,r)>0&&(r=h)}),new js(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ma=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ie(s),this.se=s=>r.writeSequenceNumber(s))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function nm(n){return null==n}function S_(n){return 0===n&&1/n==-1/0}function D_(n){return"number"==typeof n&&Number.isInteger(n)&&!S_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Jo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bT(e)),e=ix(n.get(t),e);return bT(e)}function ix(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const c=n.charAt(s);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function bT(n){return n+"\x01\x01"}function Gl(n){const e=n.length;if(Cn(e>=2),2===e)return Cn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tr.emptyPath();const t=e-2,r=[];let s="";for(let c=0;c<e;){const h=n.indexOf("\x01",c);switch((h<0||h>t)&&un(),n.charAt(h+1)){case"\x01":const m=n.substring(c,h);let y;0===s.length?y=m:(s+=m,y=s,s=""),r.push(y);break;case"\x10":s+=n.substring(c,h),s+="\0";break;case"\x11":s+=n.substring(c,h+1);break;default:un()}c=h+2}return new Tr(r)}const sE=["userId","batchId"];function R_(n,e){return[n,Jo(e)]}function wT(n,e,t){return[n,Jo(e),t]}const aE={},ox=["prefixPath","collectionGroup","readTime","documentId"],sx=["prefixPath","collectionGroup","documentId"],ax=["collectionGroup","readTime","prefixPath","documentId"],lx=["canonicalId","targetId"],cx=["targetId","path"],Wl=["path","targetId"],lE=["collectionId","parent"],ux=["indexId","uid"],dx=["uid","sequenceNumber"],TT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],AT=["indexId","uid","orderedDocumentKey"],P_=["userId","collectionPath","documentId"],cE=["userId","collectionPath","largestBatchId"],yO=["userId","collectionGroup","largestBatchId"],uE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ST=[...uE,"documentOverlays"],dE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rm=dE,x_=[...rm,"indexConfiguration","indexState","indexEntries"],yc=x_;class hE extends T_{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function No(n,e){const t=en(n);return Hl.F(t._e,e)}function M_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function du(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Wr{constructor(e,t){this.comparator=e,this.root=t||_o.EMPTY}insert(e,t){return new Wr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_o.BLACK,null,null))}remove(e){return new Wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_o.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hu(this.root,e,this.comparator,!0)}}class hu{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&s&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _o{constructor(e,t,r,s,c){this.key=e,this.value=t,this.color=null!=r?r:_o.RED,this.left=null!=s?s:_o.EMPTY,this.right=null!=c?c:_o.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,c){return new _o(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===c?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _o.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return _o.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_o.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw un();const e=this.left.check();if(e!==this.right.check())throw un();return e+(this.isRed()?0:1)}}_o.EMPTY=null,_o.RED=!0,_o.BLACK=!1,_o.EMPTY=new class{constructor(){this.size=0}get key(){throw un()}get value(){throw un()}get color(){throw un()}get left(){throw un()}get right(){throw un()}copy(e,t,r,s,c){return this}insert(e,t,r){return new _o(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ur{constructor(e){this.comparator=e,this.data=new Wr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pE(this.data.getIterator())}getIteratorFrom(e){return new pE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ur)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(s,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ur(this.comparator);return t.data=e,t}}class pE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cd(n){return n.hasNext()?n.getNext():void 0}class Hs{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Hs([])}unionWith(e){let t=new Ur(fn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Hs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class DT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new DT("Invalid base64 string: "+c):c}}(e);return new vo(t)}static fromUint8Array(e){const t=function(s){let c="";for(let h=0;h<s.length;++h)c+=String.fromCharCode(s[h]);return c}(e);return new vo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vo.EMPTY_BYTE_STRING=new vo("");const RT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(n){if(Cn(!!n),"string"==typeof n){let e=0;const t=RT.exec(n);if(Cn(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$i(n.seconds),nanos:$i(n.nanos)}}function $i(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function fu(n){return"string"==typeof n?vo.fromBase64String(n):vo.fromUint8Array(n)}function k_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function N_(n){const e=n.mapValue.fields.__previous_value__;return k_(e)?N_(e):e}function Gh(n){const e=Ba(n.mapValue.fields.__local_write_time__.timestampValue);return new bi(e.seconds,e.nanos)}class fx{constructor(e,t,r,s,c,h,m,y,T){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=T}}class pu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new pu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}const Ec={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wh={nullValue:"NULL_VALUE"};function Ic(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?k_(n)?4:MT(n)?9007199254740991:10:un()}function Gs(n,e){if(n===e)return!0;const t=Ic(n);if(t!==Ic(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gh(n).isEqual(Gh(e));case 3:return function(s,c){if("string"==typeof s.timestampValue&&"string"==typeof c.timestampValue&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const h=Ba(s.timestampValue),m=Ba(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,fu(n.bytesValue).isEqual(fu(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,c){return $i(s.geoPointValue.latitude)===$i(c.geoPointValue.latitude)&&$i(s.geoPointValue.longitude)===$i(c.geoPointValue.longitude)}(n,e);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return $i(s.integerValue)===$i(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const h=$i(s.doubleValue),m=$i(c.doubleValue);return h===m?S_(h)===S_(m):isNaN(h)&&isNaN(m)}return!1}(n,e);case 9:return jh(n.arrayValue.values||[],e.arrayValue.values||[],Gs);case 10:return function(s,c){const h=s.mapValue.fields||{},m=c.mapValue.fields||{};if(M_(h)!==M_(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(void 0===m[y]||!Gs(h[y],m[y])))return!1;return!0}(n,e);default:return un()}var c}function Cc(n,e){return void 0!==(n.values||[]).find(t=>Gs(t,e))}function za(n,e){if(n===e)return 0;const t=Ic(n),r=Ic(e);if(t!==r)return Hn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Hn(n.booleanValue,e.booleanValue);case 2:return function(c,h){const m=$i(c.integerValue||c.doubleValue),y=$i(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(n,e);case 3:return PT(n.timestampValue,e.timestampValue);case 4:return PT(Gh(n),Gh(e));case 5:return Hn(n.stringValue,e.stringValue);case 6:return function(c,h){const m=fu(c),y=fu(h);return m.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(c,h){const m=c.split("/"),y=h.split("/");for(let T=0;T<m.length&&T<y.length;T++){const N=Hn(m[T],y[T]);if(0!==N)return N}return Hn(m.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,h){const m=Hn($i(c.latitude),$i(h.latitude));return 0!==m?m:Hn($i(c.longitude),$i(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(c,h){const m=c.values||[],y=h.values||[];for(let T=0;T<m.length&&T<y.length;++T){const N=za(m[T],y[T]);if(N)return N}return Hn(m.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(c,h){if(c===Ec.mapValue&&h===Ec.mapValue)return 0;if(c===Ec.mapValue)return 1;if(h===Ec.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),T=h.fields||{},N=Object.keys(T);y.sort(),N.sort();for(let B=0;B<y.length&&B<N.length;++B){const q=Hn(y[B],N[B]);if(0!==q)return q;const ue=za(m[y[B]],T[N[B]]);if(0!==ue)return ue}return Hn(y.length,N.length)}(n.mapValue,e.mapValue);default:throw un()}}function PT(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Hn(n,e);const t=Ba(n),r=Ba(e),s=Hn(t.seconds,r.seconds);return 0!==s?s:Hn(t.nanos,r.nanos)}function qh(n){return mE(n)}function mE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ba(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?fu(n.bytesValue).toBase64():"referenceValue"in n?tn.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const c of t.values||[])s?s=!1:r+=",",r+=mE(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",c=!0;for(const h of r)c?c=!1:s+=",",s+=`${h}:${mE(t.fields[h])}`;return s+"}"}(n.mapValue):un()}function bc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gE(n){return!!n&&"integerValue"in n}function F_(n){return!!n&&"arrayValue"in n}function px(n){return!!n&&"nullValue"in n}function xT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function O_(n){return!!n&&"mapValue"in n}function L_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return du(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=L_(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=L_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function MT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function EO(n){return"nullValue"in n?Wh:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?bc(pu.empty(),tn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:un()}function mx(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?bc(pu.empty(),tn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ec:un()}function kT(n,e){const t=za(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function NT(n,e){const t=za(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class yo{constructor(e){this.value=e}static empty(){return new yo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!O_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=L_(t)}setAll(e){let t=fn.emptyPath(),r={},s=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const y=this.getFieldsMap(t);this.applyChanges(y,r,s),r={},s=[],t=m.popLast()}h?r[m.lastSegment()]=L_(h):s.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,s)}delete(e){const t=this.field(e.popLast());O_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];O_(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){du(t,(s,c)=>e[s]=c);for(const s of r)delete e[s]}clone(){return new yo(L_(this.value))}}function Kh(n){const e=[];return du(n.fields,(t,r)=>{const s=new fn([t]);if(O_(r)){const c=Kh(r.mapValue).fields;if(0===c.length)e.push(s);else for(const h of c)e.push(s.child(h))}else e.push(s)}),new Hs(e)}class hi{constructor(e,t,r,s,c,h,m){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new hi(e,0,Dn.min(),Dn.min(),Dn.min(),yo.empty(),0)}static newFoundDocument(e,t,r,s){return new hi(e,1,t,Dn.min(),r,s,0)}static newNoDocument(e,t){return new hi(e,2,t,Dn.min(),Dn.min(),yo.empty(),0)}static newUnknownDocument(e,t){return new hi(e,3,t,Dn.min(),Dn.min(),yo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Dn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ll{constructor(e,t){this.position=e,this.inclusive=t}}function _E(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const c=e[s],h=n.position[s];if(r=c.field.isKeyField()?tn.comparator(tn.fromName(h.referenceValue),t.key):za(h,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function Xh(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gs(n.position[t],e.position[t]))return!1;return!0}class Qh{constructor(e,t="asc"){this.field=e,this.dir=t}}function gx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Yh{}class Ar extends Yh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new EE(e,t,r):"array-contains"===t?new V_(e,r):"in"===t?new vx(e,r):"not-in"===t?new yx(e,r):"array-contains-any"===t?new Ex(e,r):new Ar(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new im(e,r):new _x(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(za(t,this.value)):null!==t&&Ic(this.value)===Ic(t)&&this.matchesComparison(za(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return un()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends Yh{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ei(e,t)}matches(e){return wd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wd(n){return"and"===n.op}function vE(n){return"or"===n.op}function Jh(n){return FT(n)&&wd(n)}function FT(n){for(const e of n.filters)if(e instanceof ei)return!1;return!0}function yE(n){if(n instanceof Ar)return n.field.canonicalString()+n.op.toString()+qh(n.value);if(Jh(n))return n.filters.map(e=>yE(e)).join(",");{const e=n.filters.map(t=>yE(t)).join(",");return`${n.op}(${e})`}}function OT(n,e){return n instanceof Ar?(r=n,(s=e)instanceof Ar&&r.op===s.op&&r.field.isEqual(s.field)&&Gs(r.value,s.value)):n instanceof ei?function(r,s){return s instanceof ei&&r.op===s.op&&r.filters.length===s.filters.length&&r.filters.reduce((c,h,m)=>c&&OT(h,s.filters[m]),!0)}(n,e):void un();var r,s}function LT(n,e){const t=n.filters.concat(e);return ei.create(t,n.op)}function VT(n){return n instanceof Ar?`${(t=n).field.canonicalString()} ${t.op} ${qh(t.value)}`:n instanceof ei?function(t){return t.op.toString()+" {"+t.getFilters().map(VT).join(" ,")+"}"}(n):"Filter";var t}class EE extends Ar{constructor(e,t,r){super(e,t,r),this.key=tn.fromName(r.referenceValue)}matches(e){const t=tn.comparator(e.key,this.key);return this.matchesComparison(t)}}class im extends Ar{constructor(e,t){super(e,"in",t),this.keys=om(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _x extends Ar{constructor(e,t){super(e,"not-in",t),this.keys=om(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function om(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>tn.fromName(r.referenceValue))}class V_ extends Ar{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return F_(t)&&Cc(t.arrayValue,this.value)}}class vx extends Ar{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cc(this.value.arrayValue,t)}}class yx extends Ar{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Cc(this.value.arrayValue,t)}}class Ex extends Ar{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!F_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Cc(this.value.arrayValue,r))}}class IE{constructor(e,t=null,r=[],s=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=c,this.startAt=h,this.endAt=m,this.ue=null}}function CE(n,e=null,t=[],r=[],s=null,c=null,h=null){return new IE(n,e,t,r,s,c,h)}function mu(n){const e=en(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>yE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(c=r).field.canonicalString()+c.dir;var c}).join(","),nm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qh(r)).join(",")),e.ue=t}return e.ue}function sm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!OT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Xh(n.startAt,e.startAt)&&Xh(n.endAt,e.endAt)}function U_(n){return tn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function am(n,e){return n.filters.filter(t=>t instanceof Ar&&t.field.isEqual(e))}function UT(n,e,t){let r=Wh,s=!0;for(const c of am(n,e)){let h=Wh,m=!0;switch(c.op){case"<":case"<=":h=EO(c.value);break;case"==":case"in":case">=":h=c.value;break;case">":h=c.value,m=!1;break;case"!=":case"not-in":h=Wh}kT({value:r,inclusive:s},{value:h,inclusive:m})<0&&(r=h,s=m)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const h=t.position[c];kT({value:r,inclusive:s},{value:h,inclusive:t.inclusive})<0&&(r=h,s=t.inclusive);break}return{value:r,inclusive:s}}function BT(n,e,t){let r=Ec,s=!0;for(const c of am(n,e)){let h=Ec,m=!0;switch(c.op){case">=":case">":h=mx(c.value),m=!1;break;case"==":case"in":case"<=":h=c.value;break;case"<":h=c.value,m=!1;break;case"!=":case"not-in":h=Ec}NT({value:r,inclusive:s},{value:h,inclusive:m})>0&&(r=h,s=m)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const h=t.position[c];NT({value:r,inclusive:s},{value:h,inclusive:t.inclusive})>0&&(r=h,s=t.inclusive);break}return{value:r,inclusive:s}}class Ws{constructor(e,t=null,r=[],s=[],c=null,h="F",m=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null}}function B_(n,e,t,r,s,c,h,m){return new Ws(n,e,t,r,s,c,h,m)}function Zh(n){return new Ws(n)}function bE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function wE(n){return null!==n.collectionGroup}function Td(n){const e=en(n);if(null===e.ce){e.ce=[];const t=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),t.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ur(fn.comparator);return h.filters.forEach(y=>{y.getFlattenedFilters().forEach(T=>{T.isInequality()&&(m=m.add(T.field))})}),m})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Qh(c,r))}),t.has(fn.keyField().canonicalString())||e.ce.push(new Qh(fn.keyField(),r))}return e.ce}function Is(n){const e=en(n);return e.le||(e.le=function lm(n,e){if("F"===n.limitType)return CE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>new Qh(s.field,"desc"===s.dir?"asc":"desc"));const t=n.endAt?new ll(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ll(n.startAt.position,n.startAt.inclusive):null;return CE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Td(n))),e.le}function z_(n,e){const t=n.filters.concat([e]);return new Ws(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function j_(n,e,t){return new Ws(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cm(n,e){return sm(Is(n),Is(e))&&n.limitType===e.limitType}function jT(n){return`${mu(Is(n))}|lt:${n.limitType}`}function gu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>VT(s)).join(", ")}]`),nm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>{return`${(h=s).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>qh(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>qh(s)).join(",")),`Target(${r})`}(Is(n))}; limitType=${n.limitType})`}function $_(n,e){return e.isFoundDocument()&&function(r,s){const c=s.key.path;return null!==r.collectionGroup?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):tn.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(n,e)&&function(r,s){for(const c of Td(r))if(!c.field.isKeyField()&&null===s.data.field(c.field))return!1;return!0}(n,e)&&function(r,s){for(const c of r.filters)if(!c.matches(s))return!1;return!0}(n,e)&&(s=e,!((r=n).startAt&&!function(h,m,y){const T=_E(h,m,y);return h.inclusive?T<=0:T<0}(r.startAt,Td(r),s)||r.endAt&&!function(h,m,y){const T=_E(h,m,y);return h.inclusive?T>=0:T>0}(r.endAt,Td(r),s)));var r,s}function TE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cl(n){return(e,t)=>{let r=!1;for(const s of Td(n)){const c=$T(s,e,t);if(0!==c)return c;r=r||s.field.isKeyField()}return 0}}function $T(n,e,t){const r=n.field.isKeyField()?tn.comparator(e.key,t.key):function(c,h,m){const y=h.data.field(c),T=m.data.field(c);return null!==y&&null!==T?za(y,T):un()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return un()}}class wc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,c]of r)if(this.equalsFn(s,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return void(s[c]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){du(this.inner,(t,r)=>{for(const[s,c]of r)e(s,c)})}isEmpty(){return fE(this.inner)}size(){return this.innerSize}}const IO=new Wr(tn.comparator);function Lr(){return IO}const HT=new Wr(tn.comparator);function Ad(...n){let e=HT;for(const t of n)e=e.insert(t.key,t);return e}function GT(n){let e=HT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ql(){return ef()}function H_(){return ef()}function ef(){return new wc(n=>n.toString(),(n,e)=>n.isEqual(e))}const WT=new Wr(tn.comparator),qT=new Ur(tn.comparator);function hr(...n){let e=qT;for(const t of n)e=e.add(t);return e}const Ix=new Ur(Hn);function Tc(){return Ix}function AE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:S_(e)?"-0":e}}function G_(n){return{integerValue:""+n}}function KT(n,e){return D_(e)?G_(e):AE(n,e)}class um{constructor(){this._=void 0}}function XT(n,e,t){return n instanceof _u?function(s,c){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&k_(c)&&(c=N_(c)),c&&(h.fields.__previous_value__=c),{mapValue:h}}(t,e):n instanceof qs?dm(n,e):n instanceof vu?nf(n,e):function(s,c){const h=tf(s,c),m=YT(h)+YT(s.Pe);return gE(h)&&gE(s.Pe)?G_(m):AE(s.serializer,m)}(n,e)}function QT(n,e,t){return n instanceof qs?dm(n,e):n instanceof vu?nf(n,e):t}function tf(n,e){return n instanceof rf?gE(r=e)||(c=r)&&"doubleValue"in c?e:{integerValue:0}:null;var r,c}class _u extends um{}class qs extends um{constructor(e){super(),this.elements=e}}function dm(n,e){const t=W_(e);for(const r of n.elements)t.some(s=>Gs(s,r))||t.push(r);return{arrayValue:{values:t}}}class vu extends um{constructor(e){super(),this.elements=e}}function nf(n,e){let t=W_(e);for(const r of n.elements)t=t.filter(s=>!Gs(s,r));return{arrayValue:{values:t}}}class rf extends um{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function YT(n){return $i(n.integerValue||n.doubleValue)}function W_(n){return F_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class sf{constructor(e,t){this.field=e,this.transform=t}}class hm{constructor(e,t){this.version=e,this.transformResults=t}}class ki{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sd(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class fm{}function SE(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new lf(n.key,ki.none()):new af(n.key,n.data,ki.none());{const t=n.data,r=yo.empty();let s=new Ur(fn.comparator);for(let c of e.fields)if(!s.has(c)){let h=t.field(c);null===h&&c.length>1&&(c=c.popLast(),h=t.field(c)),null===h?r.delete(c):r.set(c,h),s=s.add(c)}return new Ac(n.key,r,new Hs(s.toArray()),ki.none())}}function Cx(n,e,t){n instanceof af?function(s,c,h){const m=s.value.clone(),y=eA(s.fieldTransforms,c,h.transformResults);m.setAll(y),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(n,e,t):n instanceof Ac?function(s,c,h){if(!Sd(s.precondition,c))return void c.convertToUnknownDocument(h.version);const m=eA(s.fieldTransforms,c,h.transformResults),y=c.data;y.setAll(ZT(s)),y.setAll(m),c.convertToFoundDocument(h.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Eu(n,e,t,r){return n instanceof af?function(c,h,m,y){if(!Sd(c.precondition,h))return m;const T=c.value.clone(),N=tA(c.fieldTransforms,y,h);return T.setAll(N),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ac?function(c,h,m,y){if(!Sd(c.precondition,h))return m;const T=tA(c.fieldTransforms,y,h),N=h.data;return N.setAll(ZT(c)),N.setAll(T),h.convertToFoundDocument(h.version,N).setHasLocalMutations(),null===m?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(B=>B.field))}(n,e,t,r):(m=t,Sd(n.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m);var h,m}function pm(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),c=tf(r.transform,s||null);null!=c&&(null===t&&(t=yo.empty()),t.set(r.field,c))}return t||null}function JT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===s||r&&s&&jh(r,s,(c,h)=>function yu(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(r=n.transform)instanceof qs&&s instanceof qs||r instanceof vu&&s instanceof vu?jh(r.elements,s.elements,Gs):r instanceof rf&&s instanceof rf?Gs(r.Pe,s.Pe):r instanceof _u&&s instanceof _u);var r,s}(c,h))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,s}class af extends fm{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ac extends fm{constructor(e,t,r,s,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ZT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function eA(n,e,t){const r=new Map;Cn(n.length===t.length);for(let s=0;s<t.length;s++){const c=n[s],h=c.transform,m=e.data.field(c.field);r.set(c.field,QT(h,m,t[s]))}return r}function tA(n,e,t){const r=new Map;for(const s of n){const c=s.transform,h=t.data.field(s.field);r.set(s.field,XT(c,h,e))}return r}class lf extends fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DE extends fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cf{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const c=this.mutations[s];c.key.isEqual(e.key)&&Cx(c,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Eu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Eu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=H_();return this.mutations.forEach(s=>{const c=e.get(s.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=t.has(s.key)?null:m;const y=SE(h,m);null!==y&&r.set(s.key,y),h.isValidDocument()||h.convertToNoDocument(Dn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),hr())}isEqual(e){return this.batchId===e.batchId&&jh(this.mutations,e.mutations,(t,r)=>JT(t,r))&&jh(this.baseMutations,e.baseMutations,(t,r)=>JT(t,r))}}class RE{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Cn(e.mutations.length===r.length);let s=function(){return WT}();const c=e.mutations;for(let h=0;h<c.length;h++)s=s.insert(c[h].key,r[h].version);return new RE(e,t,r,s)}}class PE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nA{constructor(e,t){this.count=e,this.unchangedNames=t}}var Hi,Mr;function rA(n){switch(n){default:return un();case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0}}function ME(n){if(void 0===n)return Mi("GRPC error has no .code"),ht.UNKNOWN;switch(n){case Hi.OK:return ht.OK;case Hi.CANCELLED:return ht.CANCELLED;case Hi.UNKNOWN:return ht.UNKNOWN;case Hi.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case Hi.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case Hi.INTERNAL:return ht.INTERNAL;case Hi.UNAVAILABLE:return ht.UNAVAILABLE;case Hi.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case Hi.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case Hi.NOT_FOUND:return ht.NOT_FOUND;case Hi.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case Hi.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case Hi.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case Hi.ABORTED:return ht.ABORTED;case Hi.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case Hi.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case Hi.DATA_LOSS:return ht.DATA_LOSS;default:return un()}}(Mr=Hi||(Hi={}))[Mr.OK=0]="OK",Mr[Mr.CANCELLED=1]="CANCELLED",Mr[Mr.UNKNOWN=2]="UNKNOWN",Mr[Mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mr[Mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mr[Mr.NOT_FOUND=5]="NOT_FOUND",Mr[Mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mr[Mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mr[Mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mr[Mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mr[Mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mr[Mr.ABORTED=10]="ABORTED",Mr[Mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mr[Mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mr[Mr.INTERNAL=13]="INTERNAL",Mr[Mr.UNAVAILABLE=14]="UNAVAILABLE",Mr[Mr.DATA_LOSS=15]="DATA_LOSS";function kE(){return new TextEncoder}const iA=new gc([4294967295,4294967295],0);function oA(n){const e=kE().encode(n),t=new m_;return t.update(e),new Uint8Array(t.digest())}function sA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new gc([t,r],0),new gc([s,c],0)]}class NE{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Dd(`Invalid padding: ${t}`);if(r<0)throw new Dd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Dd(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Dd(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=gc.fromNumber(this.Ie)}Ee(e,t,r){let s=e.add(t.multiply(gc.fromNumber(r)));return 1===s.compare(iA)&&(s=new gc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=oA(e),[r,s]=sA(t);for(let c=0;c<this.hashCount;c++){const h=this.Ee(r,s,c);if(!this.de(h))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new NE(c,s,t);return r.forEach(m=>h.insert(m)),h}insert(e){if(0===this.Ie)return;const t=oA(e),[r,s]=sA(t);for(let c=0;c<this.hashCount;c++){const h=this.Ee(r,s,c);this.Ae(h)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Dd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rd{constructor(e,t,r,s,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,df.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Rd(Dn.min(),s,new Wr(Hn),Lr(),hr())}}class df{constructor(e,t,r,s,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new df(r,t,hr(),hr(),hr())}}class hf{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class q_{constructor(e,t){this.targetId=e,this.me=t}}class aA{constructor(e,t,r=vo.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class lA{constructor(){this.fe=0,this.ge=FE(),this.pe=vo.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=hr(),t=hr(),r=hr();return this.ge.forEach((s,c)=>{switch(c){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:un()}}),new df(this.pe,this.ye,e,t,r)}ve(){this.we=!1,this.ge=FE()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Cn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class bx{constructor(e){this.Le=e,this.Be=new Map,this.ke=Lr(),this.qe=cA(),this.Qe=new Wr(Hn)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:un()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.ze(s)&&t(s)})}He(e){const t=e.targetId,r=e.me.count,s=this.Je(t);if(s){const c=s.target;if(U_(c))if(0===r){const h=new tn(c.path);this.Ue(t,h,hi.newNoDocument(h,Dn.min()))}else Cn(1===r);else{const h=this.Ye(t);if(h!==r){const m=this.Ze(e),y=m?this.Xe(m,e,h):1;0!==y&&(this.je(t),this.Qe=this.Qe.insert(t,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:c=0}=t;let h,m;try{h=fu(r).toUint8Array()}catch(y){if(y instanceof DT)return Es("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new NE(h,s,c)}catch(y){return Es(y instanceof Dd?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return 0===m.Ie?null:m}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(c=>{const h=this.Le.tt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.Ue(t,c,null),s++)}),s}rt(e){const t=new Map;this.Be.forEach((c,h)=>{const m=this.Je(h);if(m){if(c.current&&U_(m.target)){const y=new tn(m.target.path);null!==this.ke.get(y)||this.it(h,y)||this.Ue(h,y,hi.newNoDocument(y,e))}c.be&&(t.set(h,c.Ce()),c.ve())}});let r=hr();this.qe.forEach((c,h)=>{let m=!0;h.forEachWhile(y=>{const T=this.Je(y);return!T||"TargetPurposeLimboResolution"===T.purpose||(m=!1,!1)}),m&&(r=r.add(c))}),this.ke.forEach((c,h)=>h.setReadTime(e));const s=new Rd(e,t,this.Qe,this.ke,r);return this.ke=Lr(),this.qe=cA(),this.Qe=new Wr(Hn),s}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new lA,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ur(Hn),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Vt("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lA),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function cA(){return new Wr(tn.comparator)}function FE(){return new Wr(tn.comparator)}const OE={asc:"ASCENDING",desc:"DESCENDING"},LE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uA={and:"AND",or:"OR"};class dA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function K_(n,e){return n.useProto3Json||nm(e)?e:{value:e}}function ff(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wx(n,e){return ff(n,e.toTimestamp())}function Ni(n){return Cn(!!n),Dn.fromTimestamp(function(t){const r=Ba(t);return new bi(r.seconds,r.nanos)}(n))}function X_(n,e){return Q_(n,e).canonicalString()}function Q_(n,e){const t=(s=n,new Tr(["projects",s.projectId,"databases",s.database])).child("documents");var s;return void 0===e?t:t.child(e)}function Tx(n){const e=Tr.fromString(n);return Cn(xx(e)),e}function Y_(n,e){return X_(n.databaseId,e.path)}function Kl(n,e){const t=Tx(e);if(t.get(1)!==n.databaseId.projectId)throw new Nt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Nt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tn(zE(t))}function UE(n,e){return X_(n.databaseId,e)}function BE(n){const e=Tx(n);return 4===e.length?Tr.emptyPath():zE(e)}function mm(n){return new Tr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zE(n){return Cn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function jE(n,e,t){return{name:Y_(n,e),fields:t.value.mapValue.fields}}function $E(n,e,t){const r=Kl(n,e.name),s=Ni(e.updateTime),c=e.createTime?Ni(e.createTime):Dn.min(),h=new yo({mapValue:{fields:e.fields}}),m=hi.newFoundDocument(r,s,c,h);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function J_(n,e){let t;if(e instanceof af)t={update:jE(n,e.key,e.value)};else if(e instanceof lf)t={delete:Y_(n,e.key)};else if(e instanceof Ac)t={update:jE(n,e.key,e.data),updateMask:AO(e.fieldMask)};else{if(!(e instanceof DE))return un();t={verify:Y_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(c,h){const m=h.transform;if(m instanceof _u)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof qs)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof rf)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw un()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:wx(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:un()),t;var c}function fA(n,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?ki.updateTime(Ni(c.updateTime)):void 0!==c.exists?ki.exists(c.exists):ki.none():ki.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(h,m){let y=null;"setToServerValue"in m?(Cn("REQUEST_TIME"===m.setToServerValue),y=new _u):"appendMissingElements"in m?y=new qs(m.appendMissingElements.values||[]):"removeAllFromArray"in m?y=new vu(m.removeAllFromArray.values||[]):"increment"in m?y=new rf(h,m.increment):un();const T=fn.fromServerFormat(m.fieldPath);return new sf(T,y)}(n,s)):[];var c;if(e.update){const s=Kl(n,e.update.name),c=new yo({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Hs((e.updateMask.fieldPaths||[]).map(N=>fn.fromServerFormat(N)));return new Ac(s,c,h,t,r)}return new af(s,c,t,r)}if(e.delete){const s=Kl(n,e.delete);return new lf(s,t)}if(e.verify){const s=Kl(n,e.verify);return new DE(s,t)}return un()}function Sx(n,e){return{documents:[UE(n,e.path)]}}function HE(n,e){const t={structuredQuery:{}},r=e.path;let s;null!==e.collectionGroup?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=UE(n,s);const c=function(T){if(0!==T.length)return Px(ei.create(T,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const h=function(T){if(0!==T.length)return T.map(N=>{return{field:Pd((q=N).field),direction:pA(q.dir)};var q})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=K_(n,e.limit);return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt=function(T){return{before:!T.inclusive,values:T.position}}(e.endAt)),{_t:t,parent:s};var T}function Rx(n){let e=BE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Cn(1===r);const N=t.from[0];N.allDescendants?s=N.collectionId:e=e.child(N.collectionId)}let c=[];t.where&&(c=function(B){const q=GE(B);return q instanceof ei&&Jh(q)?q.getFilters():[q]}(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(q=>{return new Qh(gm((Se=q).field),function(dt){switch(dt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Se.direction));var Se}));let m=null;t.limit&&(m=function(B){let q;return q="object"==typeof B?B.value:B,nm(q)?null:q}(t.limit));let y=null;var B;t.startAt&&(y=new ll((B=t.startAt).values||[],!!B.before));let T=null;return t.endAt&&(T=function(B){return new ll(B.values||[],!B.before)}(t.endAt)),B_(e,s,h,c,m,"F",y,T)}function GE(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=gm(t.unaryFilter.field);return Ar.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=gm(t.unaryFilter.field);return Ar.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=gm(t.unaryFilter.field);return Ar.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=gm(t.unaryFilter.field);return Ar.create(h,"!=",{nullValue:"NULL_VALUE"});default:return un()}}(n):void 0!==n.fieldFilter?Ar.create(gm((t=n).fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return un()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return ei.create(t.compositeFilter.filters.map(r=>GE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return un()}}(t.compositeFilter.op))}(n):un();var t}function pA(n){return OE[n]}function wO(n){return LE[n]}function TO(n){return uA[n]}function Pd(n){return{fieldPath:n.canonicalString()}}function gm(n){return fn.fromServerFormat(n.fieldPath)}function Px(n){return n instanceof Ar?function(t){if("=="===t.op){if(xT(t.value))return{unaryFilter:{field:Pd(t.field),op:"IS_NAN"}};if(px(t.value))return{unaryFilter:{field:Pd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(xT(t.value))return{unaryFilter:{field:Pd(t.field),op:"IS_NOT_NAN"}};if(px(t.value))return{unaryFilter:{field:Pd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pd(t.field),op:wO(t.op),value:t.value}}}(n):n instanceof ei?function(t){const r=t.getFilters().map(s=>Px(s));return 1===r.length?r[0]:{compositeFilter:{op:TO(t.op),filters:r}}}(n):un()}function AO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xx(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Iu{constructor(e,t,r,s,c=Dn.min(),h=Dn.min(),m=vo.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Iu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Mx{constructor(e){this.ct=e}}function xd(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Cu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Y_(c=n.ct,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:ff(c,h.version.toTimestamp()),createTime:ff(c,h.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Md(e.version)};else{if(!e.isUnknownDocument())return un();r.unknownDocument={path:t.path.toArray(),version:Md(e.version)}}var c,h;return r}function Cu(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Md(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pf(n){const e=new bi(n.seconds,n.nanoseconds);return Dn.fromTimestamp(e)}function bu(n,e){const t=(e.baseMutations||[]).map(c=>fA(n.ct,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const r=e.mutations.map(c=>fA(n.ct,c)),s=bi.fromMillis(e.localWriteTimeMs);return new cf(e.batchId,s,t,r)}function _m(n){const e=pf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?pf(n.lastLimboFreeSnapshotVersion):Dn.min();let r;return r=void 0!==n.query.documents?(Cn(1===(c=n.query).documents.length),Is(Zh(BE(c.documents[0])))):function(c){return Is(Rx(c))}(n.query),new Iu(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,vo.fromBase64String(n.resumeToken));var c}function Nx(n,e){const t=Md(e.snapshotVersion),r=Md(e.lastLimboFreeSnapshotVersion);let s;s=U_(e.target)?Sx(n.ct,e.target):HE(n.ct,e.target)._t;const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:mu(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function WE(n){const e=Rx({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?j_(e,e.limit,"L"):e}function qE(n,e){return new PE(e.largestBatchId,fA(n.ct,e.overlayMutation))}function mA(n,e){const t=e.path.lastSegment();return[n,Jo(e.path.popLast()),t]}function vm(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Md(r.readTime),documentKey:Jo(r.documentKey.path),largestBatchId:r.largestBatchId}}class gA{getBundleMetadata(e,t){return _A(e).get(t).next(r=>{if(r)return{id:(c=r).bundleId,createTime:pf(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return _A(e).put({bundleId:(s=t).id,createTime:Md(Ni(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return KE(e).get(t).next(r=>{if(r)return{name:(c=r).name,query:WE(c.bundledQuery),readTime:pf(c.readTime)};var c})}saveNamedQuery(e,t){return KE(e).put({name:(s=t).name,readTime:Md(Ni(s.readTime)),bundledQuery:s.bundledQuery});var s}}function _A(n){return No(n,"bundles")}function KE(n){return No(n,"namedQueries")}class XE{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){return new XE(e,t.uid||"")}getOverlay(e,t){return mf(e).get(mA(this.userId,t)).next(r=>r?qE(this.serializer,r):null)}getOverlays(e,t){const r=ql();return $e.forEach(t,s=>this.getOverlay(e,s).next(c=>{null!==c&&r.set(s,c)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((c,h)=>{const m=new PE(t,h);s.push(this.ht(e,m))}),$e.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(h=>s.add(Jo(h.getCollectionPath())));const c=[];return s.forEach(h=>{const m=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);c.push(mf(e).j("collectionPathOverlayIndex",m))}),$e.waitFor(c)}getOverlaysForCollection(e,t,r){const s=ql(),c=Jo(t),h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return mf(e).U("collectionPathOverlayIndex",h).next(m=>{for(const y of m){const T=qE(this.serializer,y);s.set(T.getKey(),T)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const c=ql();let h;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mf(e).J({index:"collectionGroupOverlayIndex",range:m},(y,T,N)=>{const B=qE(this.serializer,T);c.size()<s||B.largestBatchId===h?(c.set(B.getKey(),B),h=B.largestBatchId):N.done()}).next(()=>c)}ht(e,t){return mf(e).put(function(s,c,h){const[m,y,T]=mA(c,h.mutation.key);return{userId:c,collectionPath:y,documentId:T,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:J_(s.ct,h.mutation)}}(this.serializer,this.userId,t))}}function mf(n){return No(n,"documentOverlays")}class gf{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt($i(e.integerValue));else if("doubleValue"in e){const r=$i(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),S_(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(t,20),"string"==typeof r&&(r=Ba(r)),t.At(`${r.seconds||""}`),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(fu(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?MT(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):un()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const r=e.fields||{};this.Et(t,55);for(const s of Object.keys(r))this.Rt(s,t),this.It(r[s],t)}wt(e,t){const r=e.values||[];this.Et(t,50);for(const s of r)this.It(s,t)}gt(e,t){this.Et(t,37),tn.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function Fx(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function QE(n){const e=64-function(r){let s=0;for(let c=0;c<8;++c){const h=Fx(255&r[c]);if(s+=h,8!==h)break}return s}(n);return Math.ceil(e/8)}gf.bt=new gf;class YE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ct(r.value),r=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Mt(r.value),r=t.next();this.xt()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const s=t.codePointAt(0);this.Ct(240|s>>>18),this.Ct(128|63&s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s)}}this.vt()}Nt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const s=t.codePointAt(0);this.Mt(240|s>>>18),this.Mt(128|63&s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s)}}this.xt()}Lt(e){const t=this.Bt(e),r=QE(t);this.kt(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}qt(e){const t=this.Bt(e),r=QE(t);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(c){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,c,!1),new Uint8Array(h.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class Ox{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Lx{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class wu{constructor(){this.Gt=new YE,this.zt=new Ox(this.Gt),this.jt=new Lx(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class kd{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new kd(this.indexId,this.documentKey,this.arrayValue,r)}}function Tu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=vA(n.arrayValue,e.arrayValue),0!==t?t:(t=vA(n.directionalValue,e.directionalValue),0!==t?t:tn.comparator(n.documentKey,e.documentKey)))}function vA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class yA{constructor(e){this.Yt=new Ur((t,r)=>fn.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Cn(e.collectionGroup===this.collectionId),this.en)return!1;const t=au(e);if(void 0!==t&&!this.nn(t))return!1;const r=lu(e);let s=new Set,c=0,h=0;for(;c<r.length&&this.nn(r[c]);++c)s=s.add(r[c].fieldPath.canonicalString());if(c===r.length)return!0;if(this.Yt.size>0){const m=this.Yt.getIterator().getNext();if(!s.has(m.field.canonicalString())){const y=r[c];if(!this.rn(m,y)||!this.sn(this.Zt[h++],y))return!1}++c}for(;c<r.length;++c)if(h>=this.Zt.length||!this.sn(this.Zt[h++],r[c]))return!1;return!0}on(){if(this.en)return null;let e=new Ur(fn.comparator);const t=[];for(const r of this.Xt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new Id(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Id(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Id(r.field,"asc"===r.dir?0:1)));return new Ed(Ed.UNKNOWN_ID,this.collectionId,t,al.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function EA(n){var e,t;if(Cn(n instanceof Ar||n instanceof ei),n instanceof Ar){if(n instanceof vx){const s=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Ar.create(n.field,"==",c)))||[];return ei.create(s,"or")}return n}const r=n.filters.map(s=>EA(s));return ei.create(r,n.op)}function Vx(n){if(0===n.getFilters().length)return[];const e=eI(EA(n));return Cn(ZE(e)),JE(e)||Z_(e)?[e]:e.getFilters()}function JE(n){return n instanceof Ar}function Z_(n){return n instanceof ei&&Jh(n)}function ZE(n){return JE(n)||Z_(n)||function(t){if(t instanceof ei&&vE(t)){for(const r of t.getFilters())if(!JE(r)&&!Z_(r))return!1;return!0}return!1}(n)}function eI(n){if(Cn(n instanceof Ar||n instanceof ei),n instanceof Ar)return n;if(1===n.filters.length)return eI(n.filters[0]);const e=n.filters.map(r=>eI(r));let t=ei.create(e,n.op);return t=ym(t),ZE(t)?t:(Cn(t instanceof ei),Cn(wd(t)),Cn(t.filters.length>1),t.filters.reduce((r,s)=>IA(r,s)))}function IA(n,e){let t;return Cn(n instanceof Ar||n instanceof ei),Cn(e instanceof Ar||e instanceof ei),t=n instanceof Ar?e instanceof Ar?ei.create([n,e],"and"):tI(n,e):e instanceof Ar?tI(e,n):function(s,c){if(Cn(s.filters.length>0&&c.filters.length>0),wd(s)&&wd(c))return LT(s,c.getFilters());const h=vE(s)?s:c,m=vE(s)?c:s,y=h.filters.map(T=>IA(T,m));return ei.create(y,"or")}(n,e),ym(t)}function tI(n,e){if(wd(e))return LT(e,n.getFilters());{const t=e.filters.map(r=>IA(n,r));return ei.create(t,"or")}}function ym(n){if(Cn(n instanceof Ar||n instanceof ei),n instanceof Ar)return n;const e=n.getFilters();if(1===e.length)return ym(e[0]);if(FT(n))return n;const t=e.map(s=>ym(s)),r=[];return t.forEach(s=>{s instanceof Ar?r.push(s):s instanceof ei&&(s.op===n.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:ei.create(r,n.op)}class Nd{constructor(){this._n=new ev}addToCollectionParentIndex(e,t){return this._n.add(t),$e.resolve()}getCollectionParents(e,t){return $e.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return $e.resolve()}deleteFieldIndex(e,t){return $e.resolve()}deleteAllFieldIndexes(e){return $e.resolve()}createTargetIndexes(e,t){return $e.resolve()}getDocumentsMatchingTarget(e,t){return $e.resolve(null)}getIndexType(e,t){return $e.resolve(0)}getFieldIndexes(e,t){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,t){return $e.resolve(js.min())}getMinOffsetFromCollectionGroup(e,t){return $e.resolve(js.min())}updateCollectionGroup(e,t,r){return $e.resolve()}updateIndexEntries(e,t){return $e.resolve()}}class ev{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Ur(Tr.comparator),c=!s.has(r);return this.index[t]=s.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ur(Tr.comparator)).toArray()}}const tv=new Uint8Array(0);class SO{constructor(e,t){this.databaseId=t,this.an=new ev,this.un=new wc(r=>mu(r),(r,s)=>sm(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.an.add(t)});const c={collectionId:r,parent:Jo(s)};return nv(e).put(c)}return $e.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[nE(t),""],!1,!0);return nv(e).U(s).next(c=>{for(const h of c){if(h.collectionId!==t)break;r.push(Gl(h.parent))}return r})}addFieldIndex(e,t){const r=Em(e),s={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(y=>[y.fieldPath.canonicalString(),y.kind])};var m;delete s.indexId;const c=r.add(s);if(t.indexState){const h=Fd(e);return c.next(m=>{h.put(vm(m,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const r=Em(e),s=Fd(e),c=Au(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Em(e),r=Au(e),s=Fd(e);return t.j().next(()=>r.j()).next(()=>s.j())}createTargetIndexes(e,t){return $e.forEach(this.cn(t),r=>this.getIndexType(e,r).next(s=>{if(0===s||1===s){const c=new yA(r).on();if(null!=c)return this.addFieldIndex(e,c)}}))}getDocumentsMatchingTarget(e,t){const r=Au(e);let s=!0;const c=new Map;return $e.forEach(this.cn(t),h=>this.ln(e,h).next(m=>{s&&(s=!!m),c.set(h,m)})).next(()=>{if(s){let h=hr();const m=[];return $e.forEach(c,(y,T)=>{var Xt;Vt("IndexedDbIndexManager",`Using index ${Xt=y,`id=${Xt.indexId}|cg=${Xt.collectionGroup}|f=${Xt.fields.map(vn=>`${vn.fieldPath}:${vn.kind}`).join(",")}`} to execute ${mu(t)}`);const N=function(Xt,vn){const mr=au(vn);if(void 0===mr)return null;for(const Wn of am(Xt,mr.fieldPath))switch(Wn.op){case"array-contains-any":return Wn.value.arrayValue.values||[];case"array-contains":return[Wn.value]}return null}(T,y),B=function(Xt,vn){const mr=new Map;for(const Wn of lu(vn))for(const Me of am(Xt,Wn.fieldPath))switch(Me.op){case"==":case"in":mr.set(Wn.fieldPath.canonicalString(),Me.value);break;case"not-in":case"!=":return mr.set(Wn.fieldPath.canonicalString(),Me.value),Array.from(mr.values())}return null}(T,y),q=function(Xt,vn){const mr=[];let Wn=!0;for(const Me of lu(vn)){const me=0===Me.kind?UT(Xt,Me.fieldPath,Xt.startAt):BT(Xt,Me.fieldPath,Xt.startAt);mr.push(me.value),Wn&&(Wn=me.inclusive)}return new ll(mr,Wn)}(T,y),ue=function(Xt,vn){const mr=[];let Wn=!0;for(const Me of lu(vn)){const me=0===Me.kind?BT(Xt,Me.fieldPath,Xt.endAt):UT(Xt,Me.fieldPath,Xt.endAt);mr.push(me.value),Wn&&(Wn=me.inclusive)}return new ll(mr,Wn)}(T,y),Se=this.hn(y,T,q),ft=this.hn(y,T,ue),dt=this.Pn(y,T,B),Zt=this.In(y.indexId,N,Se,q.inclusive,ft,ue.inclusive,dt);return $e.forEach(Zt,ln=>r.G(ln,t.limit).next(Xt=>{Xt.forEach(vn=>{const mr=tn.fromSegments(vn.documentKey);h.has(mr)||(h=h.add(mr),m.push(mr))})}))}).next(()=>m)}return $e.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Vx(ei.create(e.filters,"and")).map(r=>CE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}In(e,t,r,s,c,h,m){const y=(null!=t?t.length:1)*Math.max(r.length,c.length),T=y/(null!=t?t.length:1),N=[];for(let B=0;B<y;++B){const q=t?this.Tn(t[B/T]):tv,ue=this.En(e,q,r[B%T],s),Se=this.dn(e,q,c[B%T],h),ft=m.map(dt=>this.En(e,q,dt,!0));N.push(...this.createRange(ue,Se,ft))}return N}En(e,t,r,s){const c=new kd(e,tn.empty(),t,r);return s?c:c.Jt()}dn(e,t,r,s){const c=new kd(e,tn.empty(),t,r);return s?c.Jt():c}ln(e,t){const r=new yA(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(c=>{let h=null;for(const m of c)r.tn(m)&&(!h||m.fields.length>h.fields.length)&&(h=m);return h})}getIndexType(e,t){let r=2;const s=this.cn(t);return $e.forEach(s,c=>this.ln(e,c).next(h=>{h?0!==r&&h.fields.length<function(y){let T=new Ur(fn.comparator),N=!1;for(const B of y.filters)for(const q of B.getFlattenedFilters())q.field.isKeyField()||("array-contains"===q.op||"array-contains-any"===q.op?N=!0:T=T.add(q.field));for(const B of y.orderBy)B.field.isKeyField()||(T=T.add(B.field));return T.size+(N?1:0)}(c)&&(r=1):r=0})).next(()=>null!==t.limit&&s.length>1&&2===r?1:r)}An(e,t){const r=new wu;for(const s of lu(e)){const c=t.data.field(s.fieldPath);if(null==c)return null;const h=r.Ht(s.kind);gf.bt.Pt(c,h)}return r.Wt()}Tn(e){const t=new wu;return gf.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const r=new wu;return gf.bt.Pt(bc(this.databaseId,t),r.Ht(function(c){const h=lu(c);return 0===h.length?0:h[h.length-1].kind}(e))),r.Wt()}Pn(e,t,r){if(null===r)return[];let s=[];s.push(new wu);let c=0;for(const h of lu(e)){const m=r[c++];for(const y of s)if(this.Vn(t,h.fieldPath)&&F_(m))s=this.mn(s,h,m);else{const T=y.Ht(h.kind);gf.bt.Pt(m,T)}}return this.fn(s)}hn(e,t,r){return this.Pn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Wt();return t}mn(e,t,r){const s=[...e],c=[];for(const h of r.arrayValue.values||[])for(const m of s){const y=new wu;y.seed(m.Wt()),gf.bt.Pt(h,y.Ht(t.kind)),c.push(y)}return c}Vn(e,t){return!!e.filters.find(r=>r instanceof Ar&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Em(e),s=Fd(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(c=>{const h=[];return $e.forEach(c,m=>s.get([m.indexId,this.uid]).next(y=>{h.push(function(N,B){const q=B?new al(B.sequenceNumber,new js(pf(B.readTime),new tn(Gl(B.documentKey)),B.largestBatchId)):al.empty(),ue=N.fields.map(([Se,ft])=>new Id(fn.fromServerFormat(Se),ft));return new Ed(N.indexId,N.collectionGroup,ue,q)}(m,y))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const c=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==c?c:Hn(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=Em(e),c=Fd(e);return this.gn(e).next(h=>s.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>$e.forEach(m,y=>c.put(vm(y.indexId,this.uid,h,r)))))}updateIndexEntries(e,t){const r=new Map;return $e.forEach(t,(s,c)=>{const h=r.get(s.collectionGroup);return(h?$e.resolve(h):this.getFieldIndexes(e,s.collectionGroup)).next(m=>(r.set(s.collectionGroup,m),$e.forEach(m,y=>this.pn(e,s,y).next(T=>{const N=this.yn(c,y);return T.isEqual(N)?$e.resolve():this.wn(e,c,y,T,N)}))))})}Sn(e,t,r,s){return Au(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.Rn(r,t.key),documentKey:t.key.path.toArray()})}bn(e,t,r,s){return Au(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.Rn(r,t.key),t.key.path.toArray()])}pn(e,t,r){const s=Au(e);let c=new Ur(Tu);return s.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,t)])},(h,m)=>{c=c.add(new kd(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>c)}yn(e,t){let r=new Ur(Tu);const s=this.An(t,e);if(null==s)return r;const c=au(t);if(null!=c){const h=e.data.field(c.fieldPath);if(F_(h))for(const m of h.arrayValue.values||[])r=r.add(new kd(t.indexId,e.key,this.Tn(m),s))}else r=r.add(new kd(t.indexId,e.key,tv,s));return r}wn(e,t,r,s,c){Vt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(y,T,N,B,q){const ue=y.getIterator(),Se=T.getIterator();let ft=Cd(ue),dt=Cd(Se);for(;ft||dt;){let Zt=!1,ln=!1;if(ft&&dt){const Xt=N(ft,dt);Xt<0?ln=!0:Xt>0&&(Zt=!0)}else null!=ft?ln=!0:Zt=!0;Zt?(B(dt),dt=Cd(Se)):ln?(q(ft),ft=Cd(ue)):(ft=Cd(ue),dt=Cd(Se))}}(s,c,Tu,m=>{h.push(this.Sn(e,t,r,m))},m=>{h.push(this.bn(e,t,r,m))}),$e.waitFor(h)}gn(e){let t=1;return Fd(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,c)=>{c.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,m)=>Tu(h,m)).filter((h,m,y)=>!m||0!==Tu(h,y[m-1]));const s=[];s.push(e);for(const h of r){const m=Tu(h,e),y=Tu(h,t);if(0===m)s[0]=e.Jt();else if(m>0&&y<0)s.push(h),s.push(h.Jt());else if(y>0)break}s.push(t);const c=[];for(let h=0;h<s.length;h+=2){if(this.Dn(s[h],s[h+1]))return[];c.push(IDBKeyRange.bound([s[h].indexId,this.uid,s[h].arrayValue,s[h].directionalValue,tv,[]],[s[h+1].indexId,this.uid,s[h+1].arrayValue,s[h+1].directionalValue,tv,[]]))}return c}Dn(e,t){return Tu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(rv)}getMinOffset(e,t){return $e.mapArray(this.cn(t),r=>this.ln(e,r).next(s=>s||un())).next(rv)}}function nv(n){return No(n,"collectionParents")}function Au(n){return No(n,"indexEntries")}function Em(n){return No(n,"indexConfiguration")}function Fd(n){return No(n,"indexState")}function rv(n){Cn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;Zp(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new js(e.readTime,e.documentKey,t)}const CA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Eo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Eo(e,Eo.DEFAULT_COLLECTION_PERCENTILE,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ux(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),c=[],h=IDBKeyRange.only(t.batchId);let m=0;const y=r.J({range:h},(N,B,q)=>(m++,q.delete()));c.push(y.next(()=>{Cn(1===m)}));const T=[];for(const N of t.mutations){const B=wT(e,N.key.path,t.batchId);c.push(s.delete(B)),T.push(N.key)}return $e.waitFor(c).next(()=>T)}function nI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw un();e=n.noDocument}return JSON.stringify(e).length}Eo.DEFAULT_COLLECTION_PERCENTILE=10,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Eo.DEFAULT=new Eo(41943040,Eo.DEFAULT_COLLECTION_PERCENTILE,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Eo.DISABLED=new Eo(-1,0,0);class iv{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Cn={}}static lt(e,t,r,s){Cn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new iv(c,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ga(e).J({index:"userMutationsIndex",range:r},(s,c,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const c=Im(e),h=ga(e);return h.add({}).next(m=>{Cn("number"==typeof m);const y=new cf(m,t,r,s),T=function(ue,Se,ft){const dt=ft.baseMutations.map(ln=>J_(ue.ct,ln)),Zt=ft.mutations.map(ln=>J_(ue.ct,ln));return{userId:Se,batchId:ft.batchId,localWriteTimeMs:ft.localWriteTime.toMillis(),baseMutations:dt,mutations:Zt}}(this.serializer,this.userId,y),N=[];let B=new Ur((q,ue)=>Hn(q.canonicalString(),ue.canonicalString()));for(const q of s){const ue=wT(this.userId,q.key.path,m);B=B.add(q.key.path.popLast()),N.push(h.put(T)),N.push(c.put(ue,aE))}return B.forEach(q=>{N.push(this.indexManager.addToCollectionParentIndex(e,q))}),e.addOnCommittedListener(()=>{this.Cn[m]=y.keys()}),$e.waitFor(N).next(()=>y)})}lookupMutationBatch(e,t){return ga(e).get(t).next(r=>r?(Cn(r.userId===this.userId),bu(this.serializer,r)):null)}vn(e,t){return this.Cn[t]?$e.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.Cn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return ga(e).J({index:"userMutationsIndex",range:s},(h,m,y)=>{m.userId===this.userId&&(Cn(m.batchId>=r),c=bu(this.serializer,m)),y.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ga(e).J({index:"userMutationsIndex",range:t,reverse:!0},(s,c,h)=>{r=c.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ga(e).U("userMutationsIndex",t).next(r=>r.map(s=>bu(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=R_(this.userId,t.path),s=IDBKeyRange.lowerBound(r),c=[];return Im(e).J({range:s},(h,m,y)=>{const[T,N,B]=h,q=Gl(N);if(T===this.userId&&t.path.isEqual(q))return ga(e).get(B).next(ue=>{if(!ue)throw un();Cn(ue.userId===this.userId),c.push(bu(this.serializer,ue))});y.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ur(Hn);const s=[];return t.forEach(c=>{const h=R_(this.userId,c.path),m=IDBKeyRange.lowerBound(h),y=Im(e).J({range:m},(T,N,B)=>{const[q,ue,Se]=T,ft=Gl(ue);q===this.userId&&c.path.isEqual(ft)?r=r.add(Se):B.done()});s.push(y)}),$e.waitFor(s).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,c=R_(this.userId,r),h=IDBKeyRange.lowerBound(c);let m=new Ur(Hn);return Im(e).J({range:h},(y,T,N)=>{const[B,q,ue]=y,Se=Gl(q);B===this.userId&&r.isPrefixOf(Se)?Se.length===s&&(m=m.add(ue)):N.done()}).next(()=>this.Fn(e,m))}Fn(e,t){const r=[],s=[];return t.forEach(c=>{s.push(ga(e).get(c).next(h=>{if(null===h)throw un();Cn(h.userId===this.userId),r.push(bu(this.serializer,h))}))}),$e.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return Ux(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Mn(t.batchId)}),$e.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return $e.resolve();const r=IDBKeyRange.lowerBound(function(h){return[h]}(this.userId)),s=[];return Im(e).J({range:r},(c,h,m)=>{if(c[0]===this.userId){const y=Gl(c[1]);s.push(y)}else m.done()}).next(()=>{Cn(0===s.length)})})}containsKey(e,t){return Bx(e,this.userId,t)}xn(e){return Cm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Bx(n,e,t){const r=R_(e,t.path),s=r[1],c=IDBKeyRange.lowerBound(r);let h=!1;return Im(n).J({range:c,H:!0},(m,y,T)=>{const[N,B,q]=m;N===e&&B===s&&(h=!0),T.done()}).next(()=>h)}function ga(n){return No(n,"mutations")}function Im(n){return No(n,"documentMutations")}function Cm(n){return No(n,"mutationQueues")}class Od{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Od(0)}static Ln(){return new Od(-1)}}class zx{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new Od(t.highestTargetId);return t.highestTargetId=r.next(),this.kn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Dn.fromTimestamp(new bi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.kn(e,s)))}addTargetData(e,t){return this.qn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(t,r),this.kn(e,r))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Su(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(Cn(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,t,r){let s=0;const c=[];return Su(e).J((h,m)=>{const y=_m(m);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(s++,c.push(this.removeTargetData(e,y)))}).next(()=>$e.waitFor(c)).next(()=>s)}forEachTarget(e,t){return Su(e).J((r,s)=>{const c=_m(s);t(c)})}Bn(e){return bA(e).get("targetGlobalKey").next(t=>(Cn(null!==t),t))}kn(e,t){return bA(e).put("targetGlobalKey",t)}qn(e,t){return Su(e).put(Nx(this.serializer,t))}Qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=mu(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Su(e).J({range:s,index:"queryTargetsIndex"},(h,m,y)=>{const T=_m(m);sm(t,T.target)&&(c=T,y.done())}).next(()=>c)}addMatchingKeys(e,t,r){const s=[],c=Zo(e);return t.forEach(h=>{const m=Jo(h.path);s.push(c.put({targetId:r,path:m})),s.push(this.referenceDelegate.addReference(e,r,h))}),$e.waitFor(s)}removeMatchingKeys(e,t,r){const s=Zo(e);return $e.forEach(t,c=>{const h=Jo(c.path);return $e.waitFor([s.delete([r,h]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=Zo(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Zo(e);let c=hr();return s.J({range:r,H:!0},(h,m,y)=>{const T=Gl(h[1]),N=new tn(T);c=c.add(N)}).next(()=>c)}containsKey(e,t){const r=Jo(t.path),s=IDBKeyRange.bound([r],[nE(r)],!1,!0);let c=0;return Zo(e).J({index:"documentTargetsIndex",H:!0,range:s},([h,m],y,T)=>{0!==h&&(c++,T.done())}).next(()=>c>0)}ot(e,t){return Su(e).get(t).next(r=>r?_m(r):null)}}function Su(n){return No(n,"targets")}function bA(n){return No(n,"targetGlobal")}function Zo(n){return No(n,"targetDocuments")}function _f([n,e],[t,r]){const s=Hn(n,t);return 0===s?Hn(e,r):s}class Ji{constructor(e){this.Kn=e,this.buffer=new Ur(_f),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_f(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Du{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var t=this;Vt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,X.A)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){cu(r)?Vt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield vc(r)}yield t.zn(3e5)}))}}class ov{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return $e.resolve(ma.oe);const r=new Ji(t);return this.jn.forEachTarget(e,s=>r.Wn(s.sequenceNumber)).next(()=>this.jn.Jn(e,s=>r.Wn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(CA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CA):this.Yn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let r,s,c,h,m,y,T;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(B=>(B>this.params.maximumSequenceNumbersToCollect?(Vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${B}`),s=this.params.maximumSequenceNumbersToCollect):s=B,h=Date.now(),this.nthSequenceNumber(e,s))).next(B=>(r=B,m=Date.now(),this.removeTargets(e,r,t))).next(B=>(c=B,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(B=>(T=Date.now(),su()<=Tn.DEBUG&&Vt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-N}ms\n\tDetermined least recently used ${s} in `+(m-h)+`ms\n\tRemoved ${c} targets in `+(y-m)+`ms\n\tRemoved ${B} documents in `+(T-y)+`ms\nTotal Duration: ${T-N}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:c,documentsRemoved:B})))}}class bm{constructor(e,t){this.db=e,this.garbageCollector=function _a(n,e){return new ov(n,e)}(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Zn(e){let t=0;return this.Jn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,(r,s)=>t(s))}addReference(e,t,r){return sv(e,r)}removeReference(e,t,r){return sv(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return sv(e,t)}er(e,t){return function(s,c){let h=!1;return Cm(s).Y(m=>Bx(s,m,c).next(y=>(y&&(h=!0),$e.resolve(!y)))).next(()=>h)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let c=0;return this.Xn(e,(h,m)=>{if(m<=t){const y=this.er(e,h).next(T=>{if(!T)return c++,r.getEntry(e,h).next(()=>(r.removeEntry(h,Dn.min()),Zo(e).delete([0,Jo(h.path)])))});s.push(y)}}).next(()=>$e.waitFor(s)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return sv(e,t)}Xn(e,t){const r=Zo(e);let s,c=ma.oe;return r.J({index:"documentTargetsIndex"},([h,m],{path:y,sequenceNumber:T})=>{0===h?(c!==ma.oe&&t(new tn(Gl(s)),c),c=T,s=y):c=ma.oe}).next(()=>{c!==ma.oe&&t(new tn(Gl(s)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sv(n,e){return Zo(n).put((s=n.currentSequenceNumber,{targetId:0,path:Jo(e.path),sequenceNumber:s}));var s}class Ld{constructor(){this.changes=new wc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?$e.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wA{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return fi(e).put(r)}removeEntry(e,t,r){return fi(e).delete(function(c,h){const m=c.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Cu(h),m[m.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.tr(e,r)))}getEntry(e,t){let r=hi.newInvalidDocument(t);return fi(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(vf(t))},(s,c)=>{r=this.nr(t,c)}).next(()=>r)}rr(e,t){let r={size:0,document:hi.newInvalidDocument(t)};return fi(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(vf(t))},(s,c)=>{r={document:this.nr(t,c),size:nI(c)}}).next(()=>r)}getEntries(e,t){let r=Lr();return this.ir(e,t,(s,c)=>{const h=this.nr(s,c);r=r.insert(s,h)}).next(()=>r)}sr(e,t){let r=Lr(),s=new Wr(tn.comparator);return this.ir(e,t,(c,h)=>{const m=this.nr(c,h);r=r.insert(c,m),s=s.insert(c,nI(h))}).next(()=>({documents:r,_r:s}))}ir(e,t,r){if(t.isEmpty())return $e.resolve();let s=new Ur(Gi);t.forEach(y=>s=s.add(y));const c=IDBKeyRange.bound(vf(s.first()),vf(s.last())),h=s.getIterator();let m=h.getNext();return fi(e).J({index:"documentKeyIndex",range:c},(y,T,N)=>{const B=tn.fromSegments([...T.prefixPath,T.collectionGroup,T.documentId]);for(;m&&Gi(m,B)<0;)r(m,null),m=h.getNext();m&&m.isEqual(B)&&(r(m,T),m=h.hasNext()?h.getNext():null),m?N.$(vf(m)):N.done()}).next(()=>{for(;m;)r(m,null),m=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(e,t,r,s,c){const h=t.path,m=[h.popLast().toArray(),h.lastSegment(),Cu(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],y=[h.popLast().toArray(),h.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fi(e).U(IDBKeyRange.bound(m,y,!0)).next(T=>{null==c||c.incrementDocumentReadCount(T.length);let N=Lr();for(const B of T){const q=this.nr(tn.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);q.isFoundDocument()&&($_(t,q)||s.has(q.key))&&(N=N.insert(q.key,q))}return N})}getAllFromCollectionGroup(e,t,r,s){let c=Lr();const h=AA(t,r),m=AA(t,js.max());return fi(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,m,!0)},(y,T,N)=>{const B=this.nr(tn.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);c=c.insert(B.key,B),c.size===s&&N.done()}).next(()=>c)}newChangeBuffer(e){return new jx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return TA(e).get("remoteDocumentGlobalKey").next(t=>(Cn(!!t),t))}tr(e,t){return TA(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const r=function kx(n,e){let t;if(e.document)t=$E(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=tn.fromSegments(e.noDocument.path),s=pf(e.noDocument.readTime);t=hi.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return un();{const r=tn.fromSegments(e.unknownDocument.path),s=pf(e.unknownDocument.version);t=hi.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(s){const c=new bi(s[0],s[1]);return Dn.fromTimestamp(c)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Dn.min()))return r}return hi.newInvalidDocument(e)}}function rI(n){return new wA(n)}class jx extends Ld{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new wc(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new Ur((c,h)=>Hn(c.canonicalString(),h.canonicalString()));return this.changes.forEach((c,h)=>{const m=this.ur.get(c);if(t.push(this.ar.removeEntry(e,c,m.readTime)),h.isValidDocument()){const y=xd(this.ar.serializer,h);s=s.add(c.path.popLast());const T=nI(y);r+=T-m.size,t.push(this.ar.addEntry(e,c,y))}else if(r-=m.size,this.trackRemovals){const y=xd(this.ar.serializer,h.convertToNoDocument(Dn.min()));t.push(this.ar.addEntry(e,c,y))}}),s.forEach(c=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.ar.updateMetadata(e,r)),$e.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next(r=>(this.ur.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.ar.sr(e,t).next(({documents:r,_r:s})=>(s.forEach((c,h)=>{this.ur.set(c,{size:h,readTime:r.get(c).readTime})}),r))}}function TA(n){return No(n,"remoteDocumentGlobal")}function fi(n){return No(n,"remoteDocumentsV14")}function vf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function AA(n,e){const t=e.documentKey.path.toArray();return[n,Cu(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Gi(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(s=Hn(t[c],r[c]),s)return s;return s=Hn(t.length,r.length),s||(s=Hn(t[t.length-2],r[r.length-2]),s||Hn(t[t.length-1],r[r.length-1]))}class wm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Vd{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&Eu(r.mutation,s,Hs.empty(),bi.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,hr()).next(()=>r))}getLocalViewOfDocuments(e,t,r=hr()){const s=ql();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(c=>{let h=Ad();return c.forEach((m,y)=>{h=h.insert(m,y.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const r=ql();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,hr()))}populateOverlays(e,t,r){const s=[];return r.forEach(c=>{t.has(c)||s.push(c)}),this.documentOverlayCache.getOverlays(e,s).next(c=>{c.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,r,s){let c=Lr();const h=ef(),m=ef();return t.forEach((y,T)=>{const N=r.get(T.key);s.has(T.key)&&(void 0===N||N.mutation instanceof Ac)?c=c.insert(T.key,T):void 0!==N?(h.set(T.key,N.mutation.getFieldMask()),Eu(N.mutation,T,N.mutation.getFieldMask(),bi.now())):h.set(T.key,Hs.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((T,N)=>h.set(T,N)),t.forEach((T,N)=>{var B;return m.set(T,new wm(N,null!==(B=h.get(T))&&void 0!==B?B:null))}),m))}recalculateAndSaveOverlays(e,t){const r=ef();let s=new Wr((h,m)=>h-m),c=hr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(y=>{const T=t.get(y);if(null===T)return;let N=r.get(y)||Hs.empty();N=m.applyToLocalView(T,N),r.set(y,N);const B=(s.get(m.batchId)||hr()).add(y);s=s.insert(m.batchId,B)})}).next(()=>{const h=[],m=s.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),T=y.key,N=y.value,B=H_();N.forEach(q=>{if(!c.has(q)){const ue=SE(t.get(q),r.get(q));null!==ue&&B.set(q,ue),c=c.add(q)}}),h.push(this.documentOverlayCache.saveOverlays(e,T,B))}return $e.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return tn.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):wE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s);var h}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(c=>{const h=s-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-c.size):$e.resolve(ql());let m=-1,y=c;return h.next(T=>$e.forEach(T,(N,B)=>(m<B.largestBatchId&&(m=B.largestBatchId),c.get(N)?$e.resolve():this.remoteDocumentCache.getEntry(e,N).next(q=>{y=y.insert(N,q)}))).next(()=>this.populateOverlays(e,T,c)).next(()=>this.computeViews(e,y,T,hr())).next(N=>({batchId:m,changes:GT(N)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tn(t)).next(r=>{let s=Ad();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const c=t.collectionGroup;let h=Ad();return this.indexManager.getCollectionParents(e,c).next(m=>$e.forEach(m,y=>{const T=(B=t,q=y.child(c),new Ws(q,null,B.explicitOrderBy.slice(),B.filters.slice(),B.limit,B.limitType,B.startAt,B.endAt));var B,q;return this.getDocumentsMatchingCollectionQuery(e,T,r,s).next(N=>{N.forEach((B,q)=>{h=h.insert(B,q)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,r,s){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,c,s))).next(h=>{c.forEach((y,T)=>{const N=T.getKey();null===h.get(N)&&(h=h.insert(N,hi.newInvalidDocument(N)))});let m=Ad();return h.forEach((y,T)=>{const N=c.get(y);void 0!==N&&Eu(N.mutation,T,Hs.empty(),bi.now()),$_(t,T)&&(m=m.insert(y,T))}),m})}}class av{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return $e.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,{id:(s=t).id,version:s.version,createTime:Ni(s.createTime)}),$e.resolve();var s}getNamedQuery(e,t){return $e.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,{name:(s=t).name,query:WE(s.bundledQuery),readTime:Ni(s.readTime)}),$e.resolve();var s}}class Tm{constructor(){this.overlays=new Wr(tn.comparator),this.hr=new Map}getOverlay(e,t){return $e.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ql();return $e.forEach(t,s=>this.getOverlay(e,s).next(c=>{null!==c&&r.set(s,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,c)=>{this.ht(e,t,c)}),$e.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.hr.get(r);return void 0!==s&&(s.forEach(c=>this.overlays=this.overlays.remove(c)),this.hr.delete(r)),$e.resolve()}getOverlaysForCollection(e,t,r){const s=ql(),c=t.length+1,h=new tn(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,T=y.getKey();if(!t.isPrefixOf(T.path))break;T.path.length===c&&y.largestBatchId>r&&s.set(y.getKey(),y)}return $e.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let c=new Wr((T,N)=>T-N);const h=this.overlays.getIterator();for(;h.hasNext();){const T=h.getNext().value;if(T.getKey().getCollectionGroup()===t&&T.largestBatchId>r){let N=c.get(T.largestBatchId);null===N&&(N=ql(),c=c.insert(T.largestBatchId,N)),N.set(T.getKey(),T)}}const m=ql(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((T,N)=>m.set(T,N)),!(m.size()>=s)););return $e.resolve(m)}ht(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const h=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new PE(t,r));let c=this.hr.get(t);void 0===c&&(c=hr(),this.hr.set(t,c)),this.hr.set(t,c.add(r.key))}}class yf{constructor(){this.Pr=new Ur(Io.Ir),this.Tr=new Ur(Io.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const r=new Io(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new Io(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){const t=new tn(new Tr([])),r=new Io(t,e),s=new Io(t,e+1),c=[];return this.Tr.forEachInRange([r,s],h=>{this.Ar(h),c.push(h.key)}),c}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new tn(new Tr([])),r=new Io(t,e),s=new Io(t,e+1);let c=hr();return this.Tr.forEachInRange([r,s],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new Io(e,0),r=this.Pr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Io{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return tn.comparator(e.key,t.key)||Hn(e.pr,t.pr)}static Er(e,t){return Hn(e.pr,t.pr)||tn.comparator(e.key,t.key)}}class SA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Ur(Io.Ir)}checkEmpty(e){return $e.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const c=this.yr;this.yr++;const h=new cf(c,t,r,s);this.mutationQueue.push(h);for(const m of s)this.wr=this.wr.add(new Io(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return $e.resolve(h)}lookupMutationBatch(e,t){return $e.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.br(t+1),c=s<0?0:s;return $e.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Io(t,0),s=new Io(t,Number.POSITIVE_INFINITY),c=[];return this.wr.forEachInRange([r,s],h=>{const m=this.Sr(h.pr);c.push(m)}),$e.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ur(Hn);return t.forEach(s=>{const c=new Io(s,0),h=new Io(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([c,h],m=>{r=r.add(m.pr)})}),$e.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let c=r;tn.isDocumentKey(c)||(c=c.child(""));const h=new Io(new tn(c),0);let m=new Ur(Hn);return this.wr.forEachWhile(y=>{const T=y.key.path;return!!r.isPrefixOf(T)&&(T.length===s&&(m=m.add(y.pr)),!0)},h),$e.resolve(this.Dr(m))}Dr(e){const t=[];return e.forEach(r=>{const s=this.Sr(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Cn(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return $e.forEach(t.mutations,s=>{const c=new Io(s.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){const r=new Io(t,0),s=this.wr.firstAfterOrEqual(r);return $e.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return $e.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class DA{constructor(e){this.vr=e,this.docs=new Wr(tn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),c=s?s.size:0,h=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return $e.resolve(r?r.document.mutableCopy():hi.newInvalidDocument(t))}getEntries(e,t){let r=Lr();return t.forEach(s=>{const c=this.docs.get(s);r=r.insert(s,c?c.document.mutableCopy():hi.newInvalidDocument(s))}),$e.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let c=Lr();const h=t.path,m=new tn(h.child("")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:T,value:{document:N}}=y.getNext();if(!h.isPrefixOf(T.path))break;T.path.length>h.length+1||Zp($h(N),r)<=0||(s.has(N.key)||$_(t,N))&&(c=c.insert(N.key,N.mutableCopy()))}return $e.resolve(c)}getAllFromCollectionGroup(e,t,r,s){un()}Fr(e,t){return $e.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new lv(this)}getSize(e){return $e.resolve(this.size)}}class lv extends Ld{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),$e.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class iI{constructor(e){this.persistence=e,this.Mr=new wc(t=>mu(t),sm),this.lastRemoteSnapshotVersion=Dn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new yf,this.targetCount=0,this.Lr=Od.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,s)=>t(s)),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),$e.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Od(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,$e.resolve()}updateTargetData(e,t){return this.qn(t),$e.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,t,r){let s=0;const c=[];return this.Mr.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Mr.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),$e.waitFor(c).next(()=>s)}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,t){const r=this.Mr.get(t)||null;return $e.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),$e.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);const s=this.persistence.referenceDelegate,c=[];return s&&t.forEach(h=>{c.push(s.markPotentiallyOrphaned(e,h))}),$e.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),$e.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Nr.gr(t);return $e.resolve(r)}containsKey(e,t){return $e.resolve(this.Nr.containsKey(t))}}class cv{constructor(e,t){this.Br={},this.overlays={},this.kr=new ma(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new iI(this),this.indexManager=new Nd,this.remoteDocumentCache=new DA(r=>this.referenceDelegate.Kr(r)),this.serializer=new Mx(t),this.$r=new av(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Tm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new SA(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){Vt("MemoryPersistence","Starting transaction:",e);const s=new uv(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(c=>this.referenceDelegate.Wr(s).next(()=>c)).toPromise().then(c=>(s.raiseOnCommittedEvent(),c))}Gr(e,t){return $e.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class uv extends T_{constructor(e){super(),this.currentSequenceNumber=e}}class Xl{constructor(e){this.persistence=e,this.zr=new yf,this.jr=null}static Hr(e){return new Xl(e)}get Jr(){if(this.jr)return this.jr;throw un()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),$e.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),$e.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),$e.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(c=>this.Jr.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.Jr,r=>{const s=tn.fromPath(r);return this.Yr(e,s).next(c=>{c||t.removeEntry(s,Dn.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return $e.or([()=>$e.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class va{constructor(e){this.serializer=e}O(e,t,r,s){const c=new A_("createOrUpgrade",t);var y;r<1&&s>=1&&(e.createObjectStore("owner"),(y=e).createObjectStore("mutationQueues",{keyPath:"userId"}),y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sE,{unique:!0}),y.createObjectStore("documentMutations"),RA(e),function(y){y.createObjectStore("remoteDocuments")}(e));let h=$e.resolve();return r<3&&s>=3&&(0!==r&&(function(y){y.deleteObjectStore("targetDocuments"),y.deleteObjectStore("targets"),y.deleteObjectStore("targetGlobal")}(e),RA(e)),h=h.next(()=>function(y){const T=y.store("targetGlobal"),N={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dn.min().toTimestamp(),targetCount:0};return T.put("targetGlobalKey",N)}(c))),r<4&&s>=4&&(0!==r&&(h=h.next(()=>function(y,T){return T.store("mutations").U().next(N=>{y.deleteObjectStore("mutations"),y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sE,{unique:!0});const B=T.store("mutations"),q=N.map(ue=>B.put(ue));return $e.waitFor(q)})}(e,c))),h=h.next(()=>{!function(y){y.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(h=h.next(()=>this.Xr(c))),r<6&&s>=6&&(h=h.next(()=>(function(y){y.createObjectStore("remoteDocumentGlobal")}(e),this.ei(c)))),r<7&&s>=7&&(h=h.next(()=>this.ti(c))),r<8&&s>=8&&(h=h.next(()=>this.ni(e,c))),r<9&&s>=9&&(h=h.next(()=>{!function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(h=h.next(()=>this.ri(c))),r<11&&s>=11&&(h=h.next(()=>{(function(y){y.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(y){y.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(h=h.next(()=>{!function(y){const T=y.createObjectStore("documentOverlays",{keyPath:P_});T.createIndex("collectionPathOverlayIndex",cE,{unique:!1}),T.createIndex("collectionGroupOverlayIndex",yO,{unique:!1})}(e)})),r<13&&s>=13&&(h=h.next(()=>function(y){const T=y.createObjectStore("remoteDocumentsV14",{keyPath:ox});T.createIndex("documentKeyIndex",sx),T.createIndex("collectionGroupIndex",ax)}(e)).next(()=>this.ii(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(h=h.next(()=>this.si(e,c))),r<15&&s>=15&&(h=h.next(()=>function(y){y.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),y.createObjectStore("indexState",{keyPath:ux}).createIndex("sequenceNumberIndex",dx,{unique:!1}),y.createObjectStore("indexEntries",{keyPath:TT}).createIndex("documentKeyIndex",AT,{unique:!1})}(e))),r<16&&s>=16&&(h=h.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),h}ei(e){let t=0;return e.store("remoteDocuments").J((r,s)=>{t+=nI(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(s=>$e.forEach(s,c=>{const h=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",h).next(m=>$e.forEach(m,y=>{Cn(y.userId===c.userId);const T=bu(this.serializer,y);return Ux(e,c.userId,T).next(()=>{})}))}))}ti(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const c=[];return r.J((h,m)=>{const y=new Tr(h),T=[0,Jo(y)];c.push(t.get(T).next(N=>N?$e.resolve():t.put({targetId:0,path:Jo(y),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>$e.waitFor(c))})}ni(e,t){e.createObjectStore("collectionParents",{keyPath:lE});const r=t.store("collectionParents"),s=new ev,c=h=>{if(s.add(h)){const m=h.lastSegment(),y=h.popLast();return r.put({collectionId:m,parent:Jo(y)})}};return t.store("remoteDocuments").J({H:!0},(h,m)=>{const y=new Tr(h);return c(y.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([h,m,y],T)=>{const N=Gl(m);return c(N.popLast())}))}ri(e){const t=e.store("targets");return t.J((r,s)=>{const c=_m(s),h=Nx(this.serializer,c);return t.put(h)})}ii(e,t){const r=t.store("remoteDocuments"),s=[];return r.J((c,h)=>{const m=t.store("remoteDocumentsV14"),y=(B=h,B.document?new tn(Tr.fromString(B.document.name).popFirst(5)):B.noDocument?tn.fromSegments(B.noDocument.path):B.unknownDocument?tn.fromSegments(B.unknownDocument.path):un()).path.toArray(),T={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};var B;s.push(m.put(T))}).next(()=>$e.waitFor(s))}si(e,t){const r=t.store("mutations"),s=rI(this.serializer),c=new cv(Xl.Hr,this.serializer.ct);return r.U().next(h=>{const m=new Map;return h.forEach(y=>{var T;let N=null!==(T=m.get(y.userId))&&void 0!==T?T:hr();bu(this.serializer,y).keys().forEach(B=>N=N.add(B)),m.set(y.userId,N)}),$e.forEach(m,(y,T)=>{const N=new go(T),B=XE.lt(this.serializer,N),q=c.getIndexManager(N),ue=iv.lt(N,this.serializer,q,c.referenceDelegate);return new Vd(s,ue,B,q).recalculateAndSaveOverlaysForDocumentKeys(new hE(t,ma.oe),y).next()})})}}function RA(n){n.createObjectStore("targetDocuments",{keyPath:cx}).createIndex("documentTargetsIndex",Wl,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",lx,{unique:!0}),n.createObjectStore("targetGlobal")}const oI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Am{constructor(e,t,r,s,c,h,m,y,T,N,B=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.oi=c,this.window=h,this.document=m,this._i=T,this.ai=N,this.ui=B,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=q=>Promise.resolve(),!Am.D())throw new Nt(ht.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bm(this,s),this.Ti=t+"main",this.serializer=new Mx(y),this.Ei=new Hl(this.Ti,this.ui,new va(this.serializer)),this.Qr=new zx(this.referenceDelegate,this.serializer),this.remoteDocumentCache=rI(this.serializer),this.$r=new gA,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===N&&Mi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nt(ht.FAILED_PRECONDITION,oI);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new ma(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var t=this;return this.Ii=function(){var r=(0,X.A)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var t=(0,X.A)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,X.A)(function*(){t.started&&(yield t.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Sm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(t=>{t||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(t=>this.isPrimary&&!t?this.yi(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(cu(e))return Vt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Vt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Ef(e).get("owner").next(t=>$e.resolve(this.Si(t)))}bi(e){return Sm(e).delete(this.clientId)}Di(){var e=this;return(0,X.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=No(r,"clientMetadata");return s.U().next(c=>{const h=e.vi(c,18e5),m=c.filter(y=>-1===h.indexOf(y));return $e.forEach(m,y=>s.delete(y.clientId)).next(()=>m)})}).catch(()=>[]);if(e.di)for(const r of t)e.di.removeItem(e.Fi(r.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?$e.resolve(!0):Ef(e).get("owner").next(t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new Nt(ht.FAILED_PRECONDITION,oI);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sm(e).U().next(r=>void 0===this.vi(r,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Vt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,X.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new hE(t,ma.oe);return e.yi(r).next(()=>e.bi(r))}),e.Ei.close(),e.Li()})()}vi(e,t){return e.filter(r=>this.Ci(r.updateTimeMs,t)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Sm(e).U().next(t=>this.vi(t,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,t){return iv.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new SO(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return XE.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,r){Vt("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",c=16===(y=this.ui)?yc:15===y?x_:14===y?rm:13===y?dE:12===y?ST:11===y?uE:void un();var y;let h;return this.Ei.runTransaction(e,s,c,m=>(h=new hE(m,this.kr?this.kr.next():ma.oe),"readwrite-primary"===t?this.gi(h).next(y=>!!y||this.pi(h)).next(y=>{if(!y)throw Mi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Nt(ht.FAILED_PRECONDITION,w_);return r(h)}).next(y=>this.wi(h).next(()=>y)):this.ki(h).next(()=>r(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}ki(e){return Ef(e).get("owner").next(t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)&&!this.Si(t)&&!(this.ai||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Nt(ht.FAILED_PRECONDITION,oI)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ef(e).put("owner",t)}static D(){return Hl.D()}yi(e){const t=Ef(e);return t.get("owner").next(r=>this.Si(r)?(Vt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):$e.resolve())}Ci(e,t){const r=Date.now();return!(e<r-t||e>r&&(Mi(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;Ue()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const r=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Vt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Mi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Mi("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ef(n){return No(n,"owner")}function Sm(n){return No(n,"clientMetadata")}function sI(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class PA{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=s}static Ki(e,t){let r=hr(),s=hr();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:s=s.add(c.doc.key)}return new PA(e,t.fromCache,r,s)}}class $x{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Dm{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Ue()?8:rE(Ot())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,s){const c={result:null};return this.ji(e,t).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.Hi(e,t,s,r).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new $x;return this.Ji(e,t,h).next(m=>{if(c.result=m,this.Ui)return this.Yi(e,t,h,m.size)})}).next(()=>c.result)}Yi(e,t,r,s){return r.documentReadCount<this.Wi?(su()<=Tn.DEBUG&&Vt("QueryEngine","SDK will not create cache indexes for query:",gu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$e.resolve()):(su()<=Tn.DEBUG&&Vt("QueryEngine","Query:",gu(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(su()<=Tn.DEBUG&&Vt("QueryEngine","The SDK decides to create cache indexes for query:",gu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Is(t))):$e.resolve())}ji(e,t){if(bE(t))return $e.resolve(null);let r=Is(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=j_(t,null,"F"),r=Is(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const h=hr(...c);return this.zi.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,r).next(y=>{const T=this.Zi(t,m);return this.Xi(t,T,h,y.readTime)?this.ji(e,j_(t,null,"F")):this.es(e,T,t,y)}))})))}Hi(e,t,r,s){return bE(t)||s.isEqual(Dn.min())?$e.resolve(null):this.zi.getDocuments(e,r).next(c=>{const h=this.Zi(t,c);return this.Xi(t,h,r,s)?$e.resolve(null):(su()<=Tn.DEBUG&&Vt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),gu(t)),this.es(e,h,t,b_(s,-1)).next(m=>m))})}Zi(e,t){let r=new Ur(cl(e));return t.forEach((s,c)=>{$_(e,c)&&(r=r.add(c))}),r}Xi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(s)>0)}Ji(e,t,r){return su()<=Tn.DEBUG&&Vt("QueryEngine","Using full collection scan to execute query:",gu(t)),this.zi.getDocumentsMatchingQuery(e,t,js.min(),r)}es(e,t,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(c=>(t.forEach(h=>{c=c.insert(h.key,h)}),c))}}class aI{constructor(e,t,r,s){this.persistence=e,this.ts=t,this.serializer=s,this.ns=new Wr(Hn),this.rs=new wc(c=>mu(c),sm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vd(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function hv(n,e,t,r){return new aI(n,e,t,r)}function Ud(n,e){return fv.apply(this,arguments)}function fv(){return fv=(0,X.A)(function*(n,e){const t=en(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(c=>(s=c,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const h=[],m=[];let y=hr();for(const T of s){h.push(T.batchId);for(const N of T.mutations)y=y.add(N.key)}for(const T of c){m.push(T.batchId);for(const N of T.mutations)y=y.add(N.key)}return t.localDocuments.getDocuments(r,y).next(T=>({us:T,removedBatchIds:h,addedBatchIds:m}))})})}),fv.apply(this,arguments)}function Bd(n){const e=en(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function pv(n,e,t){let r=hr(),s=hr();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let h=Lr();return t.forEach((m,y)=>{const T=c.get(m);y.isFoundDocument()!==T.isFoundDocument()&&(s=s.add(m)),y.isNoDocument()&&y.version.isEqual(Dn.min())?(e.removeEntry(m,y.readTime),h=h.insert(m,y)):!T.isValidDocument()||y.version.compareTo(T.version)>0||0===y.version.compareTo(T.version)&&T.hasPendingWrites?(e.addEntry(y),h=h.insert(m,y)):Vt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",T.version," Watch version:",y.version)}),{cs:h,ls:s}})}function MA(n,e){const t=en(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zd(n,e){const t=en(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Qr.getTargetData(r,e).next(c=>c?(s=c,$e.resolve(s)):t.Qr.allocateTargetId(r).next(h=>(s=new Iu(e,h,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.ns.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}function jd(n,e,t){return cI.apply(this,arguments)}function cI(){return cI=(0,X.A)(function*(n,e,t){const r=en(n),s=r.ns.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,h=>r.persistence.referenceDelegate.removeTarget(h,s)))}catch(h){if(!cu(h))throw h;Vt("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}),cI.apply(this,arguments)}function mv(n,e,t){const r=en(n);let s=Dn.min(),c=hr();return r.persistence.runTransaction("Execute query","readwrite",h=>function(y,T,N){const B=en(y),q=B.rs.get(N);return void 0!==q?$e.resolve(B.ns.get(q)):B.Qr.getTargetData(T,N)}(r,h,Is(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(h,m.targetId).next(y=>{c=y})}).next(()=>r.ts.getDocumentsMatchingQuery(h,e,t?s:Dn.min(),t?c:hr())).next(m=>(kA(r,TE(e),m),{documents:m,hs:c})))}function $d(n,e){const t=en(n),r=en(t.Qr),s=t.ns.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",c=>r.ot(c,e).next(h=>h?h.target:null))}function uI(n,e){const t=en(n),r=t.ss.get(e)||Dn.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.os.getAllFromCollectionGroup(s,e,b_(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(kA(t,e,s),s))}function kA(n,e,t){let r=n.ss.get(e)||Dn.min();t.forEach((s,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.ss.set(e,r)}function dI(){return dI=(0,X.A)(function*(n,e,t,r){const s=en(n);let c=hr(),h=Lr();for(const T of t){const N=e.Ps(T.metadata.name);T.document&&(c=c.add(N));const B=e.Is(T);B.setReadTime(e.Ts(T.metadata.readTime)),h=h.insert(N,B)}const m=s.os.newChangeBuffer({trackRemovals:!0}),y=yield zd(s,(N=r,Is(Zh(Tr.fromString(`__bundle__/docs/${N}`)))));var N;return s.persistence.runTransaction("Apply bundle documents","readwrite",T=>pv(T,m,h).next(N=>(m.apply(T),N)).next(N=>s.Qr.removeMatchingKeysForTargetId(T,y.targetId).next(()=>s.Qr.addMatchingKeys(T,c,y.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(T,N.cs,N.ls)).next(()=>N.cs)))}),dI.apply(this,arguments)}function NA(n,e){return gv.apply(this,arguments)}function gv(){return gv=(0,X.A)(function*(n,e,t=hr()){const r=yield zd(n,Is(WE(e.bundledQuery))),s=en(n);return s.persistence.runTransaction("Save named query","readwrite",c=>{const h=Ni(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return s.$r.saveNamedQuery(c,e);const m=r.withResumeToken(vo.EMPTY_BYTE_STRING,h);return s.ns=s.ns.insert(m.targetId,m),s.Qr.updateTargetData(c,m).next(()=>s.Qr.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>s.Qr.addMatchingKeys(c,t,r.targetId)).next(()=>s.$r.saveNamedQuery(c,e))})}),gv.apply(this,arguments)}function FA(n,e){return`firestore_clients_${n}_${e}`}function Gx(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function hI(n,e){return`firestore_targets_${n}_${e}`}class If{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Es(e,t,r){const s=JSON.parse(r);let c,h="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return h&&s.error&&(h="string"==typeof s.error.message&&"string"==typeof s.error.code,h&&(c=new Nt(s.error.code,s.error.message))),h?new If(e,t,s.state,c):(Mi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Es(e,t){const r=JSON.parse(t);let s,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Nt(r.error.code,r.error.message))),c?new Hd(e,r.state,s):(Mi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _v{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,c=Tc();for(let h=0;s&&h<r.activeTargetIds.length;++h)s=D_(r.activeTargetIds[h]),c=c.add(r.activeTargetIds[h]);return s?new _v(e,c):(Mi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class fI{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new fI(t.clientId,t.onlineState):(Mi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class pI{constructor(){this.activeTargetIds=Tc()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mI{constructor(e,t,r,s,c){this.window=e,this.oi=t,this.persistenceKey=r,this.Vs=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Wr(Hn),this.started=!1,this.ys=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ws=FA(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new pI),this.bs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(y){return`firestore_bundle_loaded_v2_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,X.A)(function*(){const t=yield e.syncEngine.Bi();for(const s of t){if(s===e.Vs)continue;const c=e.getItem(FA(e.persistenceKey,s));if(c){const h=_v.Es(s,c);h&&(e.ps=e.ps.insert(h.clientId,h))}}e.Ms();const r=e.storage.getItem(e.vs);if(r){const s=e.xs(r);s&&e.Os(s)}for(const s of e.ys)e.gs(s);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,r){this.Ls(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(hI(this.persistenceKey,e));if(r){const s=Hd.Es(e,r);s&&(t=s.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(hI(this.persistenceKey,e))}updateQueryState(e,t,r){this.qs(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Bs(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Vt("SharedClientState","READ",e,t),t}setItem(e,t){Vt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Vt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Vt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ws)return void Mi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,X.A)(function*(){if(t.started){if(null!==r.key)if(t.bs.test(r.key)){if(null==r.newValue){const s=t.$s(r.key);return t.Us(s,null)}{const s=t.Ws(r.key,r.newValue);if(s)return t.Us(s.clientId,s)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const s=t.Gs(r.key,r.newValue);if(s)return t.zs(s)}}else if(t.Cs.test(r.key)){if(null!==r.newValue){const s=t.js(r.key,r.newValue);if(s)return t.Hs(s)}}else if(r.key===t.vs){if(null!==r.newValue){const s=t.xs(r.newValue);if(s)return t.Os(s)}}else if(r.key===t.Ss){const s=function(h){let m=ma.oe;if(null!=h)try{const y=JSON.parse(h);Cn("number"==typeof y),m=y}catch(y){Mi("SharedClientState","Failed to read sequence number from WebStorage",y)}return m}(r.newValue);s!==ma.oe&&t.sequenceNumberHandler(s)}else if(r.key===t.Fs){const s=t.Js(r.newValue);yield Promise.all(s.map(c=>t.syncEngine.Ys(c)))}}else t.ys.push(r)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,r){const s=new If(this.currentUser,e,t,r),c=Gx(this.persistenceKey,this.currentUser,e);this.setItem(c,s.ds())}Bs(e){const t=Gx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,t,r){const s=hI(this.persistenceKey,e),c=new Hd(e,t,r);this.setItem(s,c.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const r=this.$s(e);return _v.Es(r,t)}Gs(e,t){const r=this.Ds.exec(e),s=Number(r[1]);return If.Es(new go(void 0!==r[2]?r[2]:null),s,t)}js(e,t){const r=this.Cs.exec(e),s=Number(r[1]);return Hd.Es(s,t)}xs(e){return fI.Es(e)}Js(e){return JSON.parse(e)}zs(e){var t=this;return(0,X.A)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Zs(e.batchId,e.state,e.error);Vt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const r=t?this.ps.insert(e,t):this.ps.remove(e),s=this.Ns(this.ps),c=this.Ns(r),h=[],m=[];return c.forEach(y=>{s.has(y)||h.push(y)}),s.forEach(y=>{c.has(y)||m.push(y)}),this.syncEngine.eo(h,m).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=Tc();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class OA{constructor(){this.no=new pI,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new pI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wx{io(e){}shutdown(){}}class LA{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vv=null;function gI(){return null===vv?vv=268435456+Math.round(2147483648*Math.random()):vv++,"0x"+vv.toString(16)}const qx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kx{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const ls="WebChannelConnection";class Xx extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+t.host,this.So=`projects/${s}/databases/${c}`,this.bo="(default)"===this.databaseId.database?`project_id=${s}`:`project_id=${s}&database_id=${c}`}get Do(){return!1}Co(t,r,s,c,h){const m=gI(),y=this.vo(t,r.toUriEncodedString());Vt("RestConnection",`Sending RPC '${t}' ${m}:`,y,s);const T={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(T,c,h),this.Mo(t,y,T,s).then(N=>(Vt("RestConnection",`Received RPC '${t}' ${m}: `,N),N),N=>{throw Es("RestConnection",`RPC '${t}' ${m} failed with error: `,N,"url: ",y,"request:",s),N})}xo(t,r,s,c,h,m){return this.Co(t,r,s,c,h)}Fo(t,r,s){t["X-Goog-Api-Client"]="gl-js/ fire/"+$l,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((c,h)=>t[h]=c),s&&s.headers.forEach((c,h)=>t[h]=c)}vo(t,r){return`${this.wo}/v1/${r}:${qx[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,r,s){const c=gI();return new Promise((h,m)=>{const y=new __;y.setWithCredentials(!0),y.listenOnce(Qp.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case v_.NO_ERROR:const N=y.getResponseJson();Vt(ls,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(N)),h(N);break;case v_.TIMEOUT:Vt(ls,`RPC '${e}' ${c} timed out`),m(new Nt(ht.DEADLINE_EXCEEDED,"Request time out"));break;case v_.HTTP_ERROR:const B=y.getStatus();if(Vt(ls,`RPC '${e}' ${c} failed with status:`,B,"response text:",y.getResponseText()),B>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const ue=null==q?void 0:q.error;if(ue&&ue.status&&ue.message){const Se=function(dt){const Zt=dt.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(Zt)>=0?Zt:ht.UNKNOWN}(ue.status);m(new Nt(Se,ue.message))}else m(new Nt(ht.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new Nt(ht.UNAVAILABLE,"Connection failed."));break;default:un()}}finally{Vt(ls,`RPC '${e}' ${c} completed.`)}});const T=JSON.stringify(s);Vt(ls,`RPC '${e}' ${c} sending request:`,s),y.send(t,"POST",T,r,15)})}Oo(e,t,r){const s=gI(),c=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=gT(),m=mT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;void 0!==T&&(y.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(y.xmlHttpFactory=new X0({})),this.Fo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const N=c.join("");Vt(ls,`Creating RPC '${e}' stream ${s}: ${N}`,y);const B=h.createWebChannel(N,y);let q=!1,ue=!1;const Se=new Kx({lo:dt=>{ue?Vt(ls,`Not sending because RPC '${e}' stream ${s} is closed:`,dt):(q||(Vt(ls,`Opening RPC '${e}' stream ${s} transport.`),B.open(),q=!0),Vt(ls,`RPC '${e}' stream ${s} sending:`,dt),B.send(dt))},ho:()=>B.close()}),ft=(dt,Zt,ln)=>{dt.listen(Zt,Xt=>{try{ln(Xt)}catch(vn){setTimeout(()=>{throw vn},0)}})};return ft(B,yd.EventType.OPEN,()=>{ue||(Vt(ls,`RPC '${e}' stream ${s} transport opened.`),Se.mo())}),ft(B,yd.EventType.CLOSE,()=>{ue||(ue=!0,Vt(ls,`RPC '${e}' stream ${s} transport closed`),Se.po())}),ft(B,yd.EventType.ERROR,dt=>{ue||(ue=!0,Es(ls,`RPC '${e}' stream ${s} transport errored:`,dt),Se.po(new Nt(ht.UNAVAILABLE,"The operation could not be completed")))}),ft(B,yd.EventType.MESSAGE,dt=>{var Zt;if(!ue){const ln=dt.data[0];Cn(!!ln);const vn=ln.error||(null===(Zt=ln[0])||void 0===Zt?void 0:Zt.error);if(vn){Vt(ls,`RPC '${e}' stream ${s} received error:`,vn);const mr=vn.status;let Wn=function(Ee){const Oe=Hi[Ee];if(void 0!==Oe)return ME(Oe)}(mr),Me=vn.message;void 0===Wn&&(Wn=ht.INTERNAL,Me="Unknown error status: "+mr+" with message "+vn.message),ue=!0,Se.po(new Nt(Wn,Me)),B.close()}else Vt(ls,`RPC '${e}' stream ${s} received:`,ln),Se.yo(ln)}}),ft(m,Y0.STAT_EVENT,dt=>{dt.stat===Q0.PROXY?Vt(ls,`RPC '${e}' stream ${s} detected buffering proxy`):dt.stat===Q0.NOPROXY&&Vt(ls,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{Se.fo()},0),Se}}function VA(){return typeof window<"u"?window:null}function yv(){return typeof document<"u"?document:null}function Rm(n){return new dA(n,!0)}class Ev{constructor(e,t,r=1e3,s=1.5,c=6e4){this.oi=e,this.timerId=t,this.No=r,this.Lo=s,this.Bo=c,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),s=Math.max(0,t-r);s>0&&Vt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class _I{constructor(e,t,r,s,c,h,m,y){this.oi=e,this.Go=r,this.zo=s,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Ev(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,X.A)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,X.A)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,t){var r=this;return(0,X.A)(function*(){r.s_(),r.o_(),r.Yo.cancel(),r.jo++,4!==e?r.Yo.reset():t&&t.code===ht.RESOURCE_EXHAUSTED?(Mi(t.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),r.Yo.Ko()):t&&t.code===ht.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.__(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ao(t)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.jo===t&&this.u_(r,s)},r=>{e(()=>{const s=new Nt(ht.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(s)})})}u_(e,t){const r=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(s=>{r(()=>this.c_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}e_(){var e=this;this.state=5,this.Yo.$o((0,X.A)(function*(){e.state=0,e.start()}))}c_(e){return Vt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(Vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ru extends _I{constructor(e,t,r,s,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,h),this.serializer=c}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function Ax(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(T=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===T?1:"REMOVE"===T?2:"CURRENT"===T?3:"RESET"===T?4:un(),s=e.targetChange.targetIds||[],c=function(T,N){return T.useProto3Json?(Cn(void 0===N||"string"==typeof N),vo.fromBase64String(N||"")):(Cn(void 0===N||N instanceof Buffer||N instanceof Uint8Array),vo.fromUint8Array(N||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(T){const N=void 0===T.code?ht.UNKNOWN:ME(T.code);return new Nt(N,T.message||"")}(h);t=new aA(r,s,c,m||null)}else if("documentChange"in e){const r=e.documentChange,s=Kl(n,r.document.name),c=Ni(r.document.updateTime),h=r.document.createTime?Ni(r.document.createTime):Dn.min(),m=new yo({mapValue:{fields:r.document.fields}}),y=hi.newFoundDocument(s,c,h,m);t=new hf(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,s=Kl(n,r.document),c=r.readTime?Ni(r.readTime):Dn.min(),h=hi.newNoDocument(s,c);t=new hf([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,s=Kl(n,r.document);t=new hf([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return un();{const r=e.filter,{count:s=0,unchangedNames:c}=r,h=new nA(s,c);t=new q_(r.targetId,h)}}var T;return t}(this.serializer,e),r=function(c){if(!("targetChange"in c))return Dn.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Dn.min():h.readTime?Ni(h.readTime):Dn.min()}(e);return this.listener.h_(t,r)}P_(e){const t={};t.database=mm(this.serializer),t.addTarget=function(c,h){let m;const y=h.target;if(m=U_(y)?{documents:Sx(c,y)}:{query:HE(c,y)._t},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=VE(c,h.resumeToken);const T=K_(c,h.expectedCount);null!==T&&(m.expectedCount=T)}else if(h.snapshotVersion.compareTo(Dn.min())>0){m.readTime=ff(c,h.snapshotVersion.toTimestamp());const T=K_(c,h.expectedCount);null!==T&&(m.expectedCount=T)}return m}(this.serializer,e);const r=function bO(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return un()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.i_(t)}I_(e){const t={};t.database=mm(this.serializer),t.removeTarget=e,this.i_(t)}}class Qx extends _I{constructor(e,t,r,s,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,h),this.serializer=c,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(Cn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function CO(n,e){return n&&n.length>0?(Cn(void 0!==e),n.map(t=>function(s,c){let h=Ni(s.updateTime?s.updateTime:c);return h.isEqual(Dn.min())&&(h=Ni(c)),new hm(h,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ni(e.commitTime);return this.listener.A_(r,t)}return Cn(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=mm(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>J_(this.serializer,r))};this.i_(t)}}class Yx extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.m_=!1}f_(){if(this.m_)throw new Nt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Co(e,Q_(t,r),s,c,h)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Nt(ht.UNKNOWN,c.toString())})}xo(e,t,r,s,c){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.xo(e,Q_(t,r),s,h,m,c)).catch(h=>{throw"FirebaseError"===h.name?(h.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Nt(ht.UNKNOWN,h.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class UA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Mi(t),this.y_=!1):Vt("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Jx{constructor(e,t,r,s,c){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=c,this.O_.io(m=>{r.enqueueAndForget((0,X.A)(function*(){var y;ya(h)&&(Vt("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,X.A)(function*(N){const B=en(N);B.M_.add(4),yield Ql(B),B.N_.set("Unknown"),B.M_.delete(4),yield Cf(B)}),function T(N){return y.apply(this,arguments)})(h))}))}),this.N_=new UA(r,s)}}function Cf(n){return Iv.apply(this,arguments)}function Iv(){return Iv=(0,X.A)(function*(n){if(ya(n))for(const e of n.x_)yield e(!0)}),Iv.apply(this,arguments)}function Ql(n){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,X.A)(function*(n){for(const e of n.x_)yield e(!1)}),Pm.apply(this,arguments)}function Sc(n,e){const t=en(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),Mu(t)?xu(t):wi(t).Xo()&&Pu(t,e))}function Gd(n,e){const t=en(n),r=wi(t);t.F_.delete(e),r.Xo()&&Cv(t,e),0===t.F_.size&&(r.Xo()?r.n_():ya(t)&&t.N_.set("Unknown"))}function Pu(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wi(n).P_(e)}function Cv(n,e){n.L_.xe(e),wi(n).I_(e)}function xu(n){n.L_=new bx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),wi(n).start(),n.N_.w_()}function Mu(n){return ya(n)&&!wi(n).Zo()&&n.F_.size>0}function ya(n){return 0===en(n).M_.size}function Wd(n){n.L_=void 0}function bf(n){return ku.apply(this,arguments)}function ku(){return ku=(0,X.A)(function*(n){n.N_.set("Online")}),ku.apply(this,arguments)}function wf(n){return Nu.apply(this,arguments)}function Nu(){return Nu=(0,X.A)(function*(n){n.F_.forEach((e,t)=>{Pu(n,e)})}),Nu.apply(this,arguments)}function Tf(n,e){return bv.apply(this,arguments)}function bv(){return bv=(0,X.A)(function*(n,e){Wd(n),Mu(n)?(n.N_.D_(e),xu(n)):n.N_.set("Unknown")}),bv.apply(this,arguments)}function BA(n,e,t){return wv.apply(this,arguments)}function wv(){return wv=(0,X.A)(function*(n,e,t){if(n.N_.set("Online"),e instanceof aA&&2===e.state&&e.cause)try{yield(r=(0,X.A)(function*(c,h){const m=h.cause;for(const y of h.targetIds)c.F_.has(y)&&(yield c.remoteSyncer.rejectListen(y,m),c.F_.delete(y),c.L_.removeTarget(y))}),function s(c,h){return r.apply(this,arguments)})(n,e)}catch(r){Vt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xm(n,r)}else if(e instanceof hf?n.L_.Ke(e):e instanceof q_?n.L_.He(e):n.L_.We(e),!t.isEqual(Dn.min()))try{const r=yield Bd(n.localStore);t.compareTo(r)>=0&&(yield function(c,h){const m=c.L_.rt(h);return m.targetChanges.forEach((y,T)=>{if(y.resumeToken.approximateByteSize()>0){const N=c.F_.get(T);N&&c.F_.set(T,N.withResumeToken(y.resumeToken,h))}}),m.targetMismatches.forEach((y,T)=>{const N=c.F_.get(y);if(!N)return;c.F_.set(y,N.withResumeToken(vo.EMPTY_BYTE_STRING,N.snapshotVersion)),Cv(c,y);const B=new Iu(N.target,y,T,N.sequenceNumber);Pu(c,B)}),c.remoteSyncer.applyRemoteEvent(m)}(n,t))}catch(r){Vt("RemoteStore","Failed to raise snapshot:",r),yield xm(n,r)}var r}),wv.apply(this,arguments)}function xm(n,e,t){return Tv.apply(this,arguments)}function Tv(){return Tv=(0,X.A)(function*(n,e,t){if(!cu(e))throw e;n.M_.add(1),yield Ql(n),n.N_.set("Offline"),t||(t=()=>Bd(n.localStore)),n.asyncQueue.enqueueRetryable((0,X.A)(function*(){Vt("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield Cf(n)}))}),Tv.apply(this,arguments)}function vI(n,e){return e().catch(t=>xm(n,t,e))}function qd(n){return Av.apply(this,arguments)}function Av(){return Av=(0,X.A)(function*(n){const e=en(n),t=Rc(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;zA(e);)try{const s=yield MA(e.localStore,r);if(null===s){0===e.v_.length&&t.n_();break}r=s.batchId,Sv(e,s)}catch(s){yield xm(e,s)}Dc(e)&&jA(e)}),Av.apply(this,arguments)}function zA(n){return ya(n)&&n.v_.length<10}function Sv(n,e){n.v_.push(e);const t=Rc(n);t.Xo()&&t.E_&&t.d_(e.mutations)}function Dc(n){return ya(n)&&!Rc(n).Zo()&&n.v_.length>0}function jA(n){Rc(n).start()}function Zx(n){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,X.A)(function*(n){Rc(n).V_()}),Mm.apply(this,arguments)}function Kd(n){return km.apply(this,arguments)}function km(){return km=(0,X.A)(function*(n){const e=Rc(n);for(const t of n.v_)e.d_(t.mutations)}),km.apply(this,arguments)}function eM(n,e,t){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,X.A)(function*(n,e,t){const r=n.v_.shift(),s=RE.from(r,e,t);yield vI(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield qd(n)}),Nm.apply(this,arguments)}function DO(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,X.A)(function*(n,e){var t;e&&Rc(n).E_&&(yield(t=(0,X.A)(function*(s,c){if(rA(m=c.code)&&m!==ht.ABORTED){const h=s.v_.shift();Rc(s).t_(),yield vI(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,c)),yield qd(s)}var m}),function r(s,c){return t.apply(this,arguments)})(n,e)),Dc(n)&&jA(n)}),$A.apply(this,arguments)}function HA(n,e){return yI.apply(this,arguments)}function yI(){return yI=(0,X.A)(function*(n,e){const t=en(n);t.asyncQueue.verifyOperationInProgress(),Vt("RemoteStore","RemoteStore received new credentials");const r=ya(t);t.M_.add(3),yield Ql(t),r&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield Cf(t)}),yI.apply(this,arguments)}function Dv(n,e){return EI.apply(this,arguments)}function EI(){return EI=(0,X.A)(function*(n,e){const t=en(n);e?(t.M_.delete(2),yield Cf(t)):e||(t.M_.add(2),yield Ql(t),t.N_.set("Unknown"))}),EI.apply(this,arguments)}function wi(n){return n.B_||(n.B_=function(t,r,s){const c=en(t);return c.f_(),new Ru(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(n.datastore,n.asyncQueue,{Po:bf.bind(null,n),To:wf.bind(null,n),Ao:Tf.bind(null,n),h_:BA.bind(null,n)}),n.x_.push(function(){var e=(0,X.A)(function*(t){t?(n.B_.t_(),Mu(n)?xu(n):n.N_.set("Unknown")):(yield n.B_.stop(),Wd(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}function Rc(n){return n.k_||(n.k_=function(t,r,s){const c=en(t);return c.f_(),new Qx(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:Zx.bind(null,n),Ao:DO.bind(null,n),R_:Kd.bind(null,n),A_:eM.bind(null,n)}),n.x_.push(function(){var e=(0,X.A)(function*(t){t?(n.k_.t_(),yield qd(n)):(yield n.k_.stop(),n.v_.length>0&&(Vt("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(t){return e.apply(this,arguments)}}())),n.k_}class II{constructor(e,t,r,s,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=c,this.deferred=new io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,c){const h=Date.now()+r,m=new II(e,t,h,s,c);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nt(ht.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Af(n,e){if(Mi("AsyncQueue",`${e}: ${n}`),cu(n))return new Nt(ht.UNAVAILABLE,`${e}: ${n}`);throw n}class Xd{constructor(e){this.comparator=e?(t,r)=>e(t,r)||tn.comparator(t.key,r.key):(t,r)=>tn.comparator(t.key,r.key),this.keyedMap=Ad(),this.sortedSet=new Wr(this.comparator)}static emptySet(e){return new Xd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,c=r.getNext().key;if(!s.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Xd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class GA{constructor(){this.q_=new Wr(tn.comparator)}track(e){const t=e.doc.key,r=this.q_.get(t);r?0!==e.type&&3===r.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==r.type?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.q_=this.q_.remove(t):1===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):un():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Qd{constructor(e,t,r,s,c,h,m,y,T){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=T}static fromInitialDocuments(e,t,r,s,c){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Qd(e,t,Xd.emptySet(t),h,r,s,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class WA{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Sf{constructor(){this.queries=new wc(e=>jT(e),cm),this.onlineState="Unknown",this.z_=new Set}}function CI(n,e){return bI.apply(this,arguments)}function bI(){return bI=(0,X.A)(function*(n,e){const t=en(n);let r=3;const s=e.query;let c=t.queries.get(s);c?!c.W_()&&e.G_()&&(r=2):(c=new WA,r=e.G_()?0:1);try{switch(r){case 0:c.K_=yield t.onListen(s,!0);break;case 1:c.K_=yield t.onListen(s,!1);break;case 2:yield t.onFirstRemoteStoreListen(s)}}catch(h){const m=Af(h,`Initialization of query '${gu(e.query)}' failed`);return void e.onError(m)}t.queries.set(s,c),c.U_.push(e),e.j_(t.onlineState),c.K_&&e.H_(c.K_)&&Fm(t)}),bI.apply(this,arguments)}function Rv(n,e){return wI.apply(this,arguments)}function wI(){return wI=(0,X.A)(function*(n,e){const t=en(n),r=e.query;let s=3;const c=t.queries.get(r);if(c){const h=c.U_.indexOf(e);h>=0&&(c.U_.splice(h,1),0===c.U_.length?s=e.G_()?0:1:!c.W_()&&e.G_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}),wI.apply(this,arguments)}function qA(n,e){const t=en(n);let r=!1;for(const s of e){const h=t.queries.get(s.query);if(h){for(const m of h.U_)m.H_(s)&&(r=!0);h.K_=s}}r&&Fm(t)}function RO(n,e,t){const r=en(n),s=r.queries.get(e);if(s)for(const c of s.U_)c.onError(t);r.queries.delete(e)}function Fm(n){n.z_.forEach(e=>{e.next()})}var Om,TI;(TI=Om||(Om={})).J_="default",TI.Cache="cache";class Lm{constructor(e,t,r){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new Qd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Qd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Om.Cache}}class Yl{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class KA{constructor(e){this.serializer=e}Ps(e){return Kl(this.serializer,e)}Is(e){return e.metadata.exists?$E(this.serializer,e.document,!1):hi.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Ni(e)}}class tM{constructor(e,t,r){this.oa=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ul(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const r=Tr.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,r=new KA(this.serializer);for(const s of e)if(s.metadata.queries){const c=r.Ps(s.metadata.name);for(const h of s.metadata.queries){const m=(t.get(h)||hr()).add(c);t.set(h,m)}}return t}complete(){var e=this;return(0,X.A)(function*(){const t=yield function Hx(n,e,t,r){return dI.apply(this,arguments)}(e.localStore,new KA(e.serializer),e.documents,e.oa.id),r=e.aa(e.documents);for(const s of e.queries)yield NA(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:t}})()}}function ul(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ja{constructor(e){this.key=e}}class $a{constructor(e){this.key=e}}class AI{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=hr(),this.mutatedKeys=hr(),this.Ia=cl(e),this.Ta=new Xd(this.Ia)}get Ea(){return this.la}da(e,t){const r=t?t.Aa:new GA,s=t?t.Ta:this.Ta;let c=t?t.mutatedKeys:this.mutatedKeys,h=s,m=!1;const y="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,T="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((N,B)=>{const q=s.get(N),ue=$_(this.query,B)?B:null,Se=!!q&&this.mutatedKeys.has(q.key),ft=!!ue&&(ue.hasLocalMutations||this.mutatedKeys.has(ue.key)&&ue.hasCommittedMutations);let dt=!1;q&&ue?q.data.isEqual(ue.data)?Se!==ft&&(r.track({type:3,doc:ue}),dt=!0):this.Ra(q,ue)||(r.track({type:2,doc:ue}),dt=!0,(y&&this.Ia(ue,y)>0||T&&this.Ia(ue,T)<0)&&(m=!0)):!q&&ue?(r.track({type:0,doc:ue}),dt=!0):q&&!ue&&(r.track({type:1,doc:q}),dt=!0,(y||T)&&(m=!0)),dt&&(ue?(h=h.add(ue),c=ft?c.add(N):c.delete(N)):(h=h.delete(N),c=c.delete(N)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const N="F"===this.query.limitType?h.last():h.first();h=h.delete(N.key),c=c.delete(N.key),r.track({type:1,doc:N})}return{Ta:h,Aa:r,Xi:m,mutatedKeys:c}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const c=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const h=e.Aa.Q_();h.sort((N,B)=>function(ue,Se){const ft=dt=>{switch(dt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return un()}};return ft(ue)-ft(Se)}(N.type,B.type)||this.Ia(N.doc,B.doc)),this.Va(r),s=null!=s&&s;const m=t&&!s?this.ma():[],y=0===this.Pa.size&&this.current&&!s?1:0,T=y!==this.ha;return this.ha=y,0!==h.length||T?{snapshot:new Qd(this.query,e.Ta,c,h,e.mutatedKeys,0===y,T,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:m}:{fa:m}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new GA,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=hr(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const t=[];return e.forEach(r=>{this.Pa.has(r)||t.push(new $a(r))}),this.Pa.forEach(r=>{e.has(r)||t.push(new ja(r))}),t}pa(e){this.la=e.hs,this.Pa=hr();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Qd.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class XA{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nM{constructor(e){this.key=e,this.wa=!1}}class rM{constructor(e,t,r,s,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Sa={},this.ba=new wc(m=>jT(m),cm),this.Da=new Map,this.Ca=new Set,this.va=new Wr(tn.comparator),this.Fa=new Map,this.Ma=new yf,this.xa={},this.Oa=new Map,this.Na=Od.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function iM(n,e){return SI.apply(this,arguments)}function SI(){return SI=(0,X.A)(function*(n,e,t=!0){const r=jm(n);let s;const c=r.ba.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),s=c.view.ya()):s=yield QA(r,e,t,!0),s}),SI.apply(this,arguments)}function DI(n,e){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,X.A)(function*(n,e){const t=jm(n);yield QA(t,e,!0,!1)}),Yd.apply(this,arguments)}function QA(n,e,t,r){return Pv.apply(this,arguments)}function Pv(){return Pv=(0,X.A)(function*(n,e,t,r){const s=yield zd(n.localStore,Is(e)),c=s.targetId,h=t?n.sharedClientState.addLocalQueryTarget(c):"not-current";let m;return r&&(m=yield RI(n,e,c,"current"===h,s.resumeToken)),n.isPrimaryClient&&t&&Sc(n.remoteStore,s),m}),Pv.apply(this,arguments)}function RI(n,e,t,r,s){return PI.apply(this,arguments)}function PI(){return PI=(0,X.A)(function*(n,e,t,r,s){n.Ba=(B,q,ue)=>{return(Se=(0,X.A)(function*(dt,Zt,ln,Xt){let vn=Zt.view.da(ln);vn.Xi&&(vn=yield mv(dt.localStore,Zt.query,!1).then(({documents:me})=>Zt.view.da(me,vn)));const mr=Xt&&Xt.targetChanges.get(Zt.targetId),Wn=Xt&&null!=Xt.targetMismatches.get(Zt.targetId),Me=Zt.view.applyChanges(vn,dt.isPrimaryClient,mr,Wn);return kv(dt,Zt.targetId,Me.fa),Me.snapshot}),function ft(dt,Zt,ln,Xt){return Se.apply(this,arguments)})(n,B,q,ue);var Se};const c=yield mv(n.localStore,e,!0),h=new AI(e,c.hs),m=h.da(c.documents),y=df.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),T=h.applyChanges(m,n.isPrimaryClient,y);kv(n,t,T.fa);const N=new XA(e,t,h);return n.ba.set(e,N),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),T.snapshot}),PI.apply(this,arguments)}function YA(n,e,t){return xv.apply(this,arguments)}function xv(){return xv=(0,X.A)(function*(n,e,t){const r=en(n),s=r.ba.get(e),c=r.Da.get(s.targetId);if(c.length>1)return r.Da.set(s.targetId,c.filter(h=>!cm(h,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield jd(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Gd(r.remoteStore,s.targetId),Jd(r,s.targetId)}).catch(vc))):(Jd(r,s.targetId),yield jd(r.localStore,s.targetId,!0))}),xv.apply(this,arguments)}function Mv(n,e){return xI.apply(this,arguments)}function xI(){return xI=(0,X.A)(function*(n,e){const t=en(n),r=t.ba.get(e),s=t.Da.get(r.targetId);t.isPrimaryClient&&1===s.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Gd(t.remoteStore,r.targetId))}),xI.apply(this,arguments)}function MI(){return MI=(0,X.A)(function*(n,e,t){const r=GI(n);try{const s=yield function(h,m){const y=en(h),T=bi.now(),N=m.reduce((ue,Se)=>ue.add(Se.key),hr());let B,q;return y.persistence.runTransaction("Locally write mutations","readwrite",ue=>{let Se=Lr(),ft=hr();return y.os.getEntries(ue,N).next(dt=>{Se=dt,Se.forEach((Zt,ln)=>{ln.isValidDocument()||(ft=ft.add(Zt))})}).next(()=>y.localDocuments.getOverlayedDocuments(ue,Se)).next(dt=>{B=dt;const Zt=[];for(const ln of m){const Xt=pm(ln,B.get(ln.key).overlayedDocument);null!=Xt&&Zt.push(new Ac(ln.key,Xt,Kh(Xt.value.mapValue),ki.exists(!0)))}return y.mutationQueue.addMutationBatch(ue,T,Zt,m)}).next(dt=>{q=dt;const Zt=dt.applyToLocalDocumentSet(B,ft);return y.documentOverlayCache.saveOverlays(ue,dt.batchId,Zt)})}).then(()=>({batchId:q.batchId,changes:GT(B)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(h,m,y){let T=h.xa[h.currentUser.toKey()];T||(T=new Wr(Hn)),T=T.insert(m,y),h.xa[h.currentUser.toKey()]=T}(r,s.batchId,t),yield Pc(r,s.changes),yield qd(r.remoteStore)}catch(s){const c=Af(s,"Failed to persist write");t.reject(c)}}),MI.apply(this,arguments)}function ZA(n,e){return kI.apply(this,arguments)}function kI(){return kI=(0,X.A)(function*(n,e){const t=en(n);try{const r=yield function lI(n,e){const t=en(n),r=e.snapshotVersion;let s=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.os.newChangeBuffer({trackRemovals:!0});s=t.ns;const m=[];e.targetChanges.forEach((N,B)=>{const q=s.get(B);if(!q)return;m.push(t.Qr.removeMatchingKeys(c,N.removedDocuments,B).next(()=>t.Qr.addMatchingKeys(c,N.addedDocuments,B)));let ue=q.withSequenceNumber(c.currentSequenceNumber);var ft,dt,Zt;null!==e.targetMismatches.get(B)?ue=ue.withResumeToken(vo.EMPTY_BYTE_STRING,Dn.min()).withLastLimboFreeSnapshotVersion(Dn.min()):N.resumeToken.approximateByteSize()>0&&(ue=ue.withResumeToken(N.resumeToken,r)),s=s.insert(B,ue),dt=ue,Zt=N,(0===(ft=q).resumeToken.approximateByteSize()||dt.snapshotVersion.toMicroseconds()-ft.snapshotVersion.toMicroseconds()>=3e8||Zt.addedDocuments.size+Zt.modifiedDocuments.size+Zt.removedDocuments.size>0)&&m.push(t.Qr.updateTargetData(c,ue))});let y=Lr(),T=hr();if(e.documentUpdates.forEach(N=>{e.resolvedLimboDocuments.has(N)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,N))}),m.push(pv(c,h,e.documentUpdates).next(N=>{y=N.cs,T=N.ls})),!r.isEqual(Dn.min())){const N=t.Qr.getLastRemoteSnapshotVersion(c).next(B=>t.Qr.setTargetsMetadata(c,c.currentSequenceNumber,r));m.push(N)}return $e.waitFor(m).next(()=>h.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,y,T)).next(()=>y)}).then(c=>(t.ns=s,c))}(t.localStore,e);e.targetChanges.forEach((s,c)=>{const h=t.Fa.get(c);h&&(Cn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?h.wa=!0:s.modifiedDocuments.size>0?Cn(h.wa):s.removedDocuments.size>0&&(Cn(h.wa),h.wa=!1))}),yield Pc(t,r,e)}catch(r){yield vc(r)}}),kI.apply(this,arguments)}function eS(n,e,t){const r=en(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.ba.forEach((c,h)=>{const m=h.view.j_(e);m.snapshot&&s.push(m.snapshot)}),function(h,m){const y=en(h);y.onlineState=m;let T=!1;y.queries.forEach((N,B)=>{for(const q of B.U_)q.j_(m)&&(T=!0)}),T&&Fm(y)}(r.eventManager,e),s.length&&r.Sa.h_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oM(n,e,t){return NI.apply(this,arguments)}function NI(){return NI=(0,X.A)(function*(n,e,t){const r=en(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Fa.get(e),c=s&&s.key;if(c){let h=new Wr(tn.comparator);h=h.insert(c,hi.newNoDocument(c,Dn.min()));const m=hr().add(c),y=new Rd(Dn.min(),new Map,new Wr(Hn),h,m);yield ZA(r,y),r.va=r.va.remove(c),r.Fa.delete(e),UI(r)}else yield jd(r.localStore,e,!1).then(()=>Jd(r,e,t)).catch(vc)}),NI.apply(this,arguments)}function sM(n,e){return FI.apply(this,arguments)}function FI(){return FI=(0,X.A)(function*(n,e){const t=en(n),r=e.batch.batchId;try{const s=yield function xA(n,e){const t=en(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),c=t.os.newChangeBuffer({trackRemovals:!0});return function(m,y,T,N){const B=T.batch,q=B.keys();let ue=$e.resolve();return q.forEach(Se=>{ue=ue.next(()=>N.getEntry(y,Se)).next(ft=>{const dt=T.docVersions.get(Se);Cn(null!==dt),ft.version.compareTo(dt)<0&&(B.applyToRemoteDocument(ft,T),ft.isValidDocument()&&(ft.setReadTime(T.commitVersion),N.addEntry(ft)))})}),ue.next(()=>m.mutationQueue.removeMutationBatch(y,B))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let y=hr();for(let T=0;T<m.mutationResults.length;++T)m.mutationResults[T].transformResults.length>0&&(y=y.add(m.batch.mutations[T].key));return y}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);Um(t,r,null),LI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Pc(t,s)}catch(s){yield vc(s)}}),FI.apply(this,arguments)}function aM(n,e,t){return OI.apply(this,arguments)}function OI(){return OI=(0,X.A)(function*(n,e,t){const r=en(n);try{const s=yield function(h,m){const y=en(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let N;return y.mutationQueue.lookupMutationBatch(T,m).next(B=>(Cn(null!==B),N=B.keys(),y.mutationQueue.removeMutationBatch(T,B))).next(()=>y.mutationQueue.performConsistencyCheck(T)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(T,N,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,N)).next(()=>y.localDocuments.getDocuments(T,N))})}(r.localStore,e);Um(r,e,t),LI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Pc(r,s)}catch(s){yield vc(s)}}),OI.apply(this,arguments)}function Vm(){return Vm=(0,X.A)(function*(n,e){const t=en(n);ya(t.remoteStore)||Vt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(h){const m=en(h);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>m.mutationQueue.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===r)return void e.resolve();const s=t.Oa.get(r)||[];s.push(e),t.Oa.set(r,s)}catch(r){const s=Af(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),Vm.apply(this,arguments)}function LI(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function Um(n,e,t){const r=en(n);let s=r.xa[r.currentUser.toKey()];if(s){const c=s.get(e);c&&(t?c.reject(t):c.resolve(),s=s.remove(e)),r.xa[r.currentUser.toKey()]=s}}function Jd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Da.get(e))n.ba.delete(r),t&&n.Sa.ka(r,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(r=>{n.Ma.containsKey(r)||VI(n,r)})}function VI(n,e){n.Ca.delete(e.path.canonicalString());const t=n.va.get(e);null!==t&&(Gd(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),UI(n))}function kv(n,e,t){for(const r of t)r instanceof ja?(n.Ma.addReference(r.key,e),cM(n,r)):r instanceof $a?(Vt("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,e),n.Ma.containsKey(r.key)||VI(n,r.key)):un()}function cM(n,e){const t=e.key,r=t.path.canonicalString();n.va.get(t)||n.Ca.has(r)||(Vt("SyncEngine","New document in limbo: "+t),n.Ca.add(r),UI(n))}function UI(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const e=n.Ca.values().next().value;n.Ca.delete(e);const t=new tn(Tr.fromString(e)),r=n.Na.next();n.Fa.set(r,new nM(t)),n.va=n.va.insert(t,r),Sc(n.remoteStore,new Iu(Is(Zh(t.path)),r,"TargetPurposeLimboResolution",ma.oe))}}function Pc(n,e,t){return BI.apply(this,arguments)}function BI(){return BI=(0,X.A)(function*(n,e,t){const r=en(n),s=[],c=[],h=[];var m;r.ba.isEmpty()||(r.ba.forEach((m,y)=>{h.push(r.Ba(y,e,t).then(T=>{if((T||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,T&&!T.fromCache?"current":"not-current"),T){s.push(T);const N=PA.Ki(y.targetId,T);c.push(N)}}))}),yield Promise.all(h),r.Sa.h_(s),yield(m=(0,X.A)(function*(T,N){const B=en(T);try{yield B.persistence.runTransaction("notifyLocalViewChanges","readwrite",q=>$e.forEach(N,ue=>$e.forEach(ue.qi,Se=>B.persistence.referenceDelegate.addReference(q,ue.targetId,Se)).next(()=>$e.forEach(ue.Qi,Se=>B.persistence.referenceDelegate.removeReference(q,ue.targetId,Se)))))}catch(q){if(!cu(q))throw q;Vt("LocalStore","Failed to update sequence numbers: "+q)}for(const q of N){const ue=q.targetId;if(!q.fromCache){const Se=B.ns.get(ue),dt=Se.withLastLimboFreeSnapshotVersion(Se.snapshotVersion);B.ns=B.ns.insert(ue,dt)}}}),function y(T,N){return m.apply(this,arguments)})(r.localStore,c))}),BI.apply(this,arguments)}function uM(n,e){return zI.apply(this,arguments)}function zI(){return zI=(0,X.A)(function*(n,e){const t=en(n);if(!t.currentUser.isEqual(e)){Vt("SyncEngine","User change. New user:",e.toKey());const r=yield Ud(t.localStore,e);t.currentUser=e,(c=t).Oa.forEach(m=>{m.forEach(y=>{y.reject(new Nt(ht.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Oa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pc(t,r.us)}var c}),zI.apply(this,arguments)}function dM(n,e){const t=en(n),r=t.Fa.get(e);if(r&&r.wa)return hr().add(r.key);{let s=hr();const c=t.Da.get(e);if(!c)return s;for(const h of c){const m=t.ba.get(h);s=s.unionWith(m.view.Ea)}return s}}function hM(n,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,X.A)(function*(n,e){const t=en(n),r=yield mv(t.localStore,e.query,!0),s=e.view.pa(r);return t.isPrimaryClient&&kv(t,e.targetId,s.fa),s}),Bm.apply(this,arguments)}function fM(n,e){return jI.apply(this,arguments)}function jI(){return jI=(0,X.A)(function*(n,e){const t=en(n);return uI(t.localStore,e).then(r=>Pc(t,r))}),jI.apply(this,arguments)}function $I(n,e,t,r){return HI.apply(this,arguments)}function HI(){return HI=(0,X.A)(function*(n,e,t,r){const s=en(n),c=yield function(m,y){const T=en(m),N=en(T.mutationQueue);return T.persistence.runTransaction("Lookup mutation documents","readonly",B=>N.vn(B,y).next(q=>q?T.localDocuments.getDocuments(B,q):$e.resolve(null)))}(s.localStore,e);var y;null!==c?("pending"===t?yield qd(s.remoteStore):"acknowledged"===t||"rejected"===t?(Um(s,e,r||null),LI(s,e),y=e,en(en(s.localStore).mutationQueue).Mn(y)):un(),yield Pc(s,c)):Vt("SyncEngine","Cannot apply mutation batch with id: "+e)}),HI.apply(this,arguments)}function Df(){return Df=(0,X.A)(function*(n,e){const t=en(n);if(jm(t),GI(t),!0===e&&!0!==t.La){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield Fv(t,r.toArray());t.La=!0,yield Dv(t.remoteStore,!0);for(const c of s)Sc(t.remoteStore,c)}else if(!1===e&&!1!==t.La){const r=[];let s=Promise.resolve();t.Da.forEach((c,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):s=s.then(()=>(Jd(t,h),jd(t.localStore,h,!0))),Gd(t.remoteStore,h)}),yield s,yield Fv(t,r),function(h){const m=en(h);m.Fa.forEach((y,T)=>{Gd(m.remoteStore,T)}),m.Ma.mr(),m.Fa=new Map,m.va=new Wr(tn.comparator)}(t),t.La=!1,yield Dv(t.remoteStore,!1)}}),Df.apply(this,arguments)}function Fv(n,e,t){return Ov.apply(this,arguments)}function Ov(){return Ov=(0,X.A)(function*(n,e,t){const r=en(n),s=[],c=[];for(const h of e){let m;const y=r.Da.get(h);if(y&&0!==y.length){m=yield zd(r.localStore,Is(y[0]));for(const T of y){const N=r.ba.get(T),B=yield hM(r,N);B.snapshot&&c.push(B.snapshot)}}else{const T=yield $d(r.localStore,h);m=yield zd(r.localStore,T),yield RI(r,tS(T),h,!1,m.resumeToken)}s.push(m)}return r.Sa.h_(c),s}),Ov.apply(this,arguments)}function tS(n){return B_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function pM(n){return t=en(n).localStore,en(en(t).persistence).Bi();var t}function mM(n,e,t,r){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,X.A)(function*(n,e,t,r){const s=en(n);if(s.La)return void Vt("SyncEngine","Ignoring unexpected query state notification.");const c=s.Da.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const h=yield uI(s.localStore,TE(c[0])),m=Rd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,vo.EMPTY_BYTE_STRING);yield Pc(s,h,m);break}case"rejected":yield jd(s.localStore,e,!0),Jd(s,e,r);break;default:un()}}),Rf.apply(this,arguments)}function Lv(n,e,t){return zm.apply(this,arguments)}function zm(){return zm=(0,X.A)(function*(n,e,t){const r=jm(n);if(r.La){for(const s of e){if(r.Da.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){Vt("SyncEngine","Adding an already active target "+s);continue}const c=yield $d(r.localStore,s),h=yield zd(r.localStore,c);yield RI(r,tS(c),h.targetId,!1,h.resumeToken),Sc(r.remoteStore,h)}for(const s of t)r.Da.has(s)&&(yield jd(r.localStore,s,!1).then(()=>{Gd(r.remoteStore,s),Jd(r,s)}).catch(vc))}}),zm.apply(this,arguments)}function jm(n){const e=en(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oM.bind(null,e),e.Sa.h_=qA.bind(null,e.eventManager),e.Sa.ka=RO.bind(null,e.eventManager),e}function GI(n){const e=en(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aM.bind(null,e),e}class Zd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,X.A)(function*(){t.serializer=Rm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return hv(this.persistence,new Dm,e.initialUser,this.serializer)}createPersistence(e){return new cv(Xl.Hr,this.serializer)}createSharedClientState(e){return new OA}terminate(){var e=this;return(0,X.A)(function*(){var t,r;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Vv extends Zd{constructor(e,t,r){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,X.A)(function*(){yield t().call(r,e),yield r.Qa.initialize(r,e),yield GI(r.Qa.syncEngine),yield qd(r.Qa.remoteStore),yield r.persistence.fi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return hv(this.persistence,new Dm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Du(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new $s(t,this.persistence);return new rx(e.asyncQueue,r)}createPersistence(e){const t=sI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Eo.withCacheSize(this.cacheSizeBytes):Eo.DEFAULT;return new Am(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,VA(),yv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new OA}}class Fu extends Vv{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,X.A)(function*(){yield t().call(r,e);const s=r.Qa.syncEngine;r.sharedClientState instanceof mI&&(r.sharedClientState.syncEngine={Zs:$I.bind(null,s),Xs:mM.bind(null,s),eo:Lv.bind(null,s),Bi:pM.bind(null,s),Ys:fM.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.fi(function(){var c=(0,X.A)(function*(h){yield function Nv(n,e){return Df.apply(this,arguments)}(r.Qa.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start():h||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(h&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():h||r.indexBackfillerScheduler.stop())});return function(h){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=VA();if(!mI.D(t))throw new Nt(ht.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=sI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mI(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Pf{initialize(e,t){var r=this;return(0,X.A)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>eS(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=uM.bind(null,r.syncEngine),yield Dv(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Sf}createDatastore(e){const t=Rm(e.databaseInfo.databaseId),r=new Xx(e.databaseInfo);return new Yx(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,s=this.datastore,c=e.asyncQueue,h=t=>eS(this.syncEngine,t,0),m=LA.D()?new LA:new Wx,new Jx(r,s,c,h,m);var r,s,c,h,m}createSyncEngine(e,t){return function(s,c,h,m,y,T,N){const B=new rM(s,c,h,m,y,T);return N&&(B.La=!0),B}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return(0,X.A)(function*(){var t,r;yield(r=(0,X.A)(function*(c){const h=en(c);Vt("RemoteStore","RemoteStore shutting down."),h.M_.add(5),yield Ql(h),h.O_.shutdown(),h.N_.set("Unknown")}),function s(c){return r.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}function rS(n,e=10240){let t=0;return{read:()=>(0,X.A)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,X.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class xc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class PO{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new io,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,X.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,X.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,X.A)(function*(){const t=yield e.za();if(null===t)return null;const r=e.Wa.decode(t),s=Number(r);isNaN(s)&&e.ja(`length string (${r}) is not valid number`);const c=yield e.Ha(s);return new Yl(JSON.parse(c),t.length+s)})()}Ja(){return this.buffer.findIndex(e=>123===e)}za(){var e=this;return(0,X.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const t=e.Ja();t<0&&e.ja("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ha(e){var t=this;return(0,X.A)(function*(){for(;t.buffer.length<e;)(yield t.Ya())&&t.ja("Reached the end of bundle when more is expected.");const r=t.Wa.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,X.A)(function*(){const t=yield e.Ua.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class WI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,X.A)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new Nt(ht.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const r=yield(s=(0,X.A)(function*(h,m){const y=en(h),T={documents:m.map(ue=>Y_(y.serializer,ue))},N=yield y.xo("BatchGetDocuments",y.serializer.databaseId,Tr.emptyPath(),T,m.length),B=new Map;N.forEach(ue=>{const Se=function hA(n,e){return"found"in e?function(r,s){Cn(!!s.found);const c=Kl(r,s.found.name),h=Ni(s.found.updateTime),m=s.found.createTime?Ni(s.found.createTime):Dn.min(),y=new yo({mapValue:{fields:s.found.fields}});return hi.newFoundDocument(c,h,m,y)}(n,e):"missing"in e?function(r,s){Cn(!!s.missing),Cn(!!s.readTime);const c=Kl(r,s.missing),h=Ni(s.readTime);return hi.newNoDocument(c,h)}(n,e):un()}(y.serializer,ue);B.set(Se.key.toString(),Se)});const q=[];return m.forEach(ue=>{const Se=B.get(ue.toString());Cn(!!Se),q.push(Se)}),q}),function c(h,m){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new lf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,X.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const c=tn.fromPath(s);e.mutations.push(new DE(c,e.precondition(c)))}),yield(r=(0,X.A)(function*(c,h){const m=en(c),y={writes:h.map(T=>J_(m.serializer,T))};yield m.Co("Commit",m.serializer.databaseId,Tr.emptyPath(),y)}),function s(c,h){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw un();t=Dn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Nt(ht.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Dn.min())?ki.exists(!1):ki.updateTime(t):ki.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dn.min()))throw new Nt(ht.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ki.updateTime(t)}return ki.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xO{constructor(e,t,r,s,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=c,this.Za=r.maxAttempts,this.Yo=new Ev(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,X.A)(function*(){const t=new WI(e.datastore),r=e.tu(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(c=>{e.nu(c)}))}).catch(s=>{e.nu(s)})}))}tu(e){try{const t=this.updateFunction(e);return!nm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!rA(t)}return!1}}class iS{constructor(e,t,r,s){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=go.UNAUTHENTICATED,this.clientId=I_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,X.A)(function*(m){Vt("FirestoreClient","Received user=",m.uid),yield c.authCredentialListener(m),c.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(Vt("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,X.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Af(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function $m(n,e){return oS.apply(this,arguments)}function oS(){return oS=(0,X.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Vt("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,X.A)(function*(c){r.isEqual(c)||(yield Ud(e.localStore,c),r=c)});return function(c){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),oS.apply(this,arguments)}function Ou(n,e){return qI.apply(this,arguments)}function qI(){return qI=(0,X.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield KI(n);Vt("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>HA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>HA(e.remoteStore,s)),n._onlineComponents=e}),qI.apply(this,arguments)}function sS(n){return"FirebaseError"===n.name?n.code===ht.FAILED_PRECONDITION||n.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function KI(n){return Lu.apply(this,arguments)}function Lu(){return Lu=(0,X.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Vt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $m(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!sS(t))throw t;Es("Error using user provided cache. Falling back to memory cache: "+t),yield $m(n,new Zd)}}else Vt("FirestoreClient","Using default OfflineComponentProvider"),yield $m(n,new Zd);return n._offlineComponents}),Lu.apply(this,arguments)}function Uv(n){return xf.apply(this,arguments)}function xf(){return xf=(0,X.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Vt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ou(n,n._uninitializedComponentsProvider._online)):(Vt("FirestoreClient","Using default OnlineComponentProvider"),yield Ou(n,new Pf))),n._onlineComponents}),xf.apply(this,arguments)}function Hm(n){return KI(n).then(e=>e.persistence)}function Co(n){return KI(n).then(e=>e.localStore)}function XI(n){return Uv(n).then(e=>e.remoteStore)}function Bv(n){return Uv(n).then(e=>e.syncEngine)}function eh(n){return zv.apply(this,arguments)}function zv(){return zv=(0,X.A)(function*(n){const e=yield Uv(n),t=e.eventManager;return t.onListen=iM.bind(null,e.syncEngine),t.onUnlisten=YA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=DI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Mv.bind(null,e.syncEngine),t}),zv.apply(this,arguments)}function uS(n,e,t={}){const r=new io;return n.asyncQueue.enqueueAndForget((0,X.A)(function*(){return function(c,h,m,y,T){const N=new xc({next:q=>{h.enqueueAndForget(()=>Rv(c,B));const ue=q.docs.has(m);!ue&&q.fromCache?T.reject(new Nt(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):ue&&q.fromCache&&y&&"server"===y.source?T.reject(new Nt(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(q)},error:q=>T.reject(q)}),B=new Lm(Zh(m.path),N,{includeMetadataChanges:!0,ra:!0});return CI(c,B)}(yield eh(n),n.asyncQueue,e,t,r)})),r.promise}function Mf(n,e,t={}){const r=new io;return n.asyncQueue.enqueueAndForget((0,X.A)(function*(){return function(c,h,m,y,T){const N=new xc({next:q=>{h.enqueueAndForget(()=>Rv(c,B)),q.fromCache&&"server"===y.source?T.reject(new Nt(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(q)},error:q=>T.reject(q)}),B=new Lm(m,N,{includeMetadataChanges:!0,ra:!0});return CI(c,B)}(yield eh(n),n.asyncQueue,e,t,r)})),r.promise}function pS(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const kf=new Map;function th(n,e,t){if(!t)throw new Nt(ht.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mS(n,e,t,r){if(!0===e&&!0===r)throw new Nt(ht.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function gS(n){if(!tn.isDocumentKey(n))throw new Nt(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QI(n){if(tn.isDocumentKey(n))throw new Nt(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Vu(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":un()}function _r(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Nt(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vu(n);throw new Nt(ht.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function _S(n,e){if(e<=0)throw new Nt(ht.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class vS{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Nt(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nt(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=pS(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Nt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Nt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Nt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nf{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nt(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nt(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vS(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new vT;switch(r.type){case"firstParty":return new Yp(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Nt(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=kf.get(t);r&&(Vt("ComponentProvider","Removing Datastore"),kf.delete(t),r.terminate())}(this),Promise.resolve()}}class Fo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class yi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yi(this.firestore,e,this._key)}}class dl extends Fo{constructor(e,t,r){super(e,t,Zh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yi(this.firestore,null,new tn(e))}withConverter(e){return new dl(this.firestore,e,this._path)}}function yS(n,e,...t){if(n=Mt(n),th("collection","path",e),n instanceof Nf){const r=Tr.fromString(e,...t);return QI(r),new dl(n,null,r)}{if(!(n instanceof yi||n instanceof dl))throw new Nt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tr.fromString(e,...t));return QI(r),new dl(n.firestore,null,r)}}function JI(n,e,...t){if(n=Mt(n),1===arguments.length&&(e=I_.newId()),th("doc","path",e),n instanceof Nf){const r=Tr.fromString(e,...t);return gS(r),new yi(n,null,new tn(r))}{if(!(n instanceof yi||n instanceof dl))throw new Nt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tr.fromString(e,...t));return gS(r),new yi(n.firestore,n instanceof dl?n.converter:null,new tn(r))}}function bM(n,e){return n=Mt(n),e=Mt(e),(n instanceof yi||n instanceof dl)&&(e instanceof yi||e instanceof dl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ES(n,e){return n=Mt(n),e=Mt(e),n instanceof Fo&&e instanceof Fo&&n.firestore===e.firestore&&cm(n._query,e._query)&&n.converter===e.converter}class MO{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Ev(this,"async_queue_retry"),this.hu=()=>{const t=yv();t&&Vt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const e=yv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=yv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new io;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,X.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(t){if(!cu(t))throw t;Vt("AsyncQueue","Operation failed with retryable error: "+t)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{throw this.au=r,this.uu=!1,Mi("INTERNAL UNHANDLED ERROR: ",function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),m}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const s=II.createAndSchedule(this,e,t,r,c=>this.Eu(c));return this._u.push(s),s}Pu(){this.au&&un()}verifyOperationInProgress(){}du(){var e=this;return(0,X.A)(function*(){let t;do{t=e.iu,yield t}while(t!==e.iu)})()}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function $v(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const s=t;for(const c of["next","error","complete"])if(c in s&&"function"==typeof s[c])return!0;return!1}(n)}class Hv{constructor(){this._progressObserver={},this._taskCompletionResolver=new io,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ci extends Nf{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new MO,this._persistenceKey=(null==s?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||IS(this),this._firestoreClient.terminate()}}function Ti(n){return n._firestoreClient||IS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function IS(n){var e,t,r;const s=n._freezeSettings(),c=(y=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new fx(n._databaseId,y,n._persistenceKey,(N=s).host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,pS(N.experimentalLongPollingOptions),N.useFetchStreams));var y,N;n._firestoreClient=new iS(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(t=s.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}function DM(n,e,t){const r=new io;return n.asyncQueue.enqueue((0,X.A)(function*(){try{yield $m(n,t),yield Ou(n,e),r.resolve()}catch(s){const c=s;if(!sS(c))throw c;Es("Error enabling indexeddb cache. Falling back to memory cache: "+c),r.reject(c)}})).then(()=>r.promise)}function wS(n){if(n._initialized||n._terminated)throw new Nt(ht.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hl(vo.fromBase64String(e))}catch(t){throw new Nt(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hl(vo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Mc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Nt(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nh{constructor(e){this._methodName=e}}class Gm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nt(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nt(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Hn(this._lat,e._lat)||Hn(this._long,e._long)}}const AS=/^__.*__$/;class NM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ac(e,this.data,this.fieldMask,t,this.fieldTransforms):new af(e,this.data,t,this.fieldTransforms)}}class SS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ac(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw un()}}class Of{constructor(e,t,r,s,c,h){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===c&&this.mu(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Of(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.gu({path:r,yu:!1});return s.wu(e),s}Su(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.gu({path:r,yu:!1});return s.mu(),s}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Xv(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(DS(this.fu)&&AS.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class FM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rm(e)}Fu(e,t,r,s=!1){return new Of({fu:e,methodName:t,vu:r,path:fn.emptyPath(),yu:!1,Cu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uu(n){const e=n._freezeSettings(),t=Rm(n._databaseId);return new FM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qv(n,e,t,r,s,c={}){const h=n.Fu(c.merge||c.mergeFields?2:0,e,t,s);sC("Data must be an object, but it was:",h,r);const m=PS(r,h);let y,T;if(c.merge)y=new Hs(h.fieldMask),T=h.fieldTransforms;else if(c.mergeFields){const N=[];for(const B of c.mergeFields){const q=qm(e,B,t);if(!h.contains(q))throw new Nt(ht.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);Qv(N,q)||N.push(q)}y=new Hs(N),T=h.fieldTransforms.filter(B=>y.covers(B.field))}else y=null,T=h.fieldTransforms;return new NM(new yo(m),y,T)}class Wm extends nh{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wm}}function RS(n,e,t){return new Of({fu:3,vu:e.settings.vu,methodName:n._methodName,yu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ZI extends nh{_toFieldTransform(e){return new sf(e.path,new _u)}isEqual(e){return e instanceof ZI}}class eC extends nh{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=RS(this,e,!0),r=this.Mu.map(c=>rh(c,t)),s=new qs(r);return new sf(e.path,s)}isEqual(e){return e instanceof eC&&zn(this.Mu,e.Mu)}}class tC extends nh{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=RS(this,e,!0),r=this.Mu.map(c=>rh(c,t)),s=new vu(r);return new sf(e.path,s)}isEqual(e){return e instanceof tC&&zn(this.Mu,e.Mu)}}class nC extends nh{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new rf(e.serializer,KT(e.serializer,this.xu));return new sf(e.path,t)}isEqual(e){return e instanceof nC&&this.xu===e.xu}}function rC(n,e,t,r){const s=n.Fu(1,e,t);sC("Data must be an object, but it was:",s,r);const c=[],h=yo.empty();du(r,(y,T)=>{const N=Km(e,y,t);T=Mt(T);const B=s.Su(N);if(T instanceof Wm)c.push(N);else{const q=rh(T,B);null!=q&&(c.push(N),h.set(N,q))}});const m=new Hs(c);return new SS(h,m,s.fieldTransforms)}function Kv(n,e,t,r,s,c){const h=n.Fu(1,e,t),m=[qm(e,r,t)],y=[s];if(c.length%2!=0)throw new Nt(ht.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<c.length;q+=2)m.push(qm(e,c[q])),y.push(c[q+1]);const T=[],N=yo.empty();for(let q=m.length-1;q>=0;--q)if(!Qv(T,m[q])){const ue=m[q];let Se=y[q];Se=Mt(Se);const ft=h.Su(ue);if(Se instanceof Wm)T.push(ue);else{const dt=rh(Se,ft);null!=dt&&(T.push(ue),N.set(ue,dt))}}const B=new Hs(T);return new SS(N,B,h.fieldTransforms)}function iC(n,e,t,r=!1){return rh(t,n.Fu(r?4:3,e))}function rh(n,e){if(oC(n=Mt(n)))return sC("Unsupported field value:",e,n),PS(n,e);if(n instanceof nh)return function(r,s){if(!DS(s.fu))throw s.Du(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Du(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(r,s){const c=[];let h=0;for(const m of r){let y=rh(m,s.bu(h));null==y&&(y={nullValue:"NULL_VALUE"}),c.push(y),h++}return{arrayValue:{values:c}}}(n,e)}return function(r,s){if(null===(r=Mt(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return KT(s.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const c=bi.fromDate(r);return{timestampValue:ff(s.serializer,c)}}if(r instanceof bi){const c=new bi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ff(s.serializer,c)}}if(r instanceof Gm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hl)return{bytesValue:VE(s.serializer,r._byteString)};if(r instanceof yi){const c=s.databaseId,h=r.firestore._databaseId;if(!h.isEqual(c))throw s.Du(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:X_(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Du(`Unsupported field value: ${Vu(r)}`)}(n,e)}function PS(n,e){const t={};return fE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):du(n,(r,s)=>{const c=rh(s,e.pu(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function oC(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof bi||n instanceof Gm||n instanceof hl||n instanceof yi||n instanceof nh)}function sC(n,e,t){if(!oC(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const r=Vu(t);throw e.Du("an object"===r?n+" a custom object":n+" "+r)}var s}function qm(n,e,t){if((e=Mt(e))instanceof Mc)return e._internalPath;if("string"==typeof e)return Km(n,e);throw Xv("Field path arguments must be of type string or ",n,!1,void 0,t)}const aC=new RegExp("[~\\*/\\[\\]]");function Km(n,e,t){if(e.search(aC)>=0)throw Xv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mc(...e.split("."))._internalPath}catch{throw Xv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xv(n,e,t,r,s){const c=r&&!r.isEmpty(),h=void 0!==s;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||h)&&(y+=" (found",c&&(y+=` in field ${r}`),h&&(y+=` in document ${s}`),y+=")"),new Nt(ht.INVALID_ARGUMENT,m+n+y)}function Qv(n,e){return n.some(t=>t.isEqual(e))}class Lf{constructor(e,t,r,s,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xS extends Lf{data(){return super.data()}}function lC(n,e){return"string"==typeof e?Km(n,e):e instanceof Mc?e._internalPath:e._delegate._internalPath}function cC(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Nt(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uC{}class Vf extends uC{}function kc(n,e,...t){let r=[];e instanceof uC&&r.push(e),r=r.concat(t),function(c){const h=c.filter(y=>y instanceof ih).length,m=c.filter(y=>y instanceof Uf).length;if(h>1||h>0&&m>0)throw new Nt(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Uf extends Vf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Uf(e,t,r)}_apply(e){const t=this._parse(e);return BS(e._query,t),new Fo(e.firestore,e.converter,z_(e._query,t))}_parse(e){const t=Uu(e.firestore);return function(c,h,m,y,T,N,B){let q;if(T.isKeyField()){if("array-contains"===N||"array-contains-any"===N)throw new Nt(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${N}' queries on documentId().`);if("in"===N||"not-in"===N){US(B,N);const ue=[];for(const Se of B)ue.push(VS(y,c,Se));q={arrayValue:{values:ue}}}else q=VS(y,c,B)}else"in"!==N&&"not-in"!==N&&"array-contains-any"!==N||US(B,N),q=iC(m,"where",B,"in"===N||"not-in"===N);return Ar.create(T,N,q)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class ih extends uC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ih(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:ei.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,c){let h=s;const m=c.getFlattenedFilters();for(const y of m)BS(h,y),h=z_(h,y)}(e._query,t),new Fo(e.firestore,e.converter,z_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Yv extends Vf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yv(e,t)}_apply(e){const t=function(s,c,h){if(null!==s.startAt)throw new Nt(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Nt(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qh(c,h)}(e._query,this._field,this._direction);return new Fo(e.firestore,e.converter,function(s,c){const h=s.explicitOrderBy.concat([c]);return new Ws(s.path,s.collectionGroup,h,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Xm extends Vf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Xm(e,t,r)}_apply(e){return new Fo(e.firestore,e.converter,j_(e._query,this._limit,this._limitType))}}class Qm extends Vf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Qm(e,t,r)}_apply(e){const t=LS(e,this.type,this._docOrFields,this._inclusive);return new Fo(e.firestore,e.converter,(c=t,new Ws((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)));var s,c}}class Ym extends Vf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ym(e,t,r)}_apply(e){const t=LS(e,this.type,this._docOrFields,this._inclusive);return new Fo(e.firestore,e.converter,(c=t,new Ws((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)));var s,c}}function LS(n,e,t,r){if(t[0]=Mt(t[0]),t[0]instanceof Lf)return function(c,h,m,y,T){if(!y)throw new Nt(ht.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const N=[];for(const B of Td(c))if(B.field.isKeyField())N.push(bc(h,y.key));else{const q=y.data.field(B.field);if(k_(q))throw new Nt(ht.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+B.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===q){const ue=B.field.canonicalString();throw new Nt(ht.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ue}' (used as the orderBy) does not exist.`)}N.push(q)}return new ll(N,T)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Uu(n.firestore);return function(h,m,y,T,N,B){const q=h.explicitOrderBy;if(N.length>q.length)throw new Nt(ht.INVALID_ARGUMENT,`Too many arguments provided to ${T}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ue=[];for(let Se=0;Se<N.length;Se++){const ft=N[Se];if(q[Se].field.isKeyField()){if("string"!=typeof ft)throw new Nt(ht.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${T}(), but got a ${typeof ft}`);if(!wE(h)&&-1!==ft.indexOf("/"))throw new Nt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${T}() must be a plain document ID, but '${ft}' contains a slash.`);const dt=h.path.child(Tr.fromString(ft));if(!tn.isDocumentKey(dt))throw new Nt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${T}() must result in a valid document path, but '${dt}' is not because it contains an odd number of segments.`);const Zt=new tn(dt);ue.push(bc(m,Zt))}else{const dt=iC(y,T,ft);ue.push(dt)}}return new ll(ue,B)}(n._query,n.firestore._databaseId,s,e,t,r)}}function VS(n,e,t){if("string"==typeof(t=Mt(t))){if(""===t)throw new Nt(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wE(e)&&-1!==t.indexOf("/"))throw new Nt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tr.fromString(t));if(!tn.isDocumentKey(r))throw new Nt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bc(n,new tn(r))}if(t instanceof yi)return bc(n,t._key);throw new Nt(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vu(t)}.`)}function US(n,e){if(!Array.isArray(n)||0===n.length)throw new Nt(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BS(n,e){const t=function(s,c){for(const h of s)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Nt(ht.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class hC{convertValue(e,t="none"){switch(Ic(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $i(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw un()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return du(e,(s,c)=>{r[s]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new Gm($i(e.latitude),$i(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=N_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Gh(e));default:return null}}convertTimestamp(e){const t=Ba(e);return new bi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tr.fromString(e);Cn(xx(r));const s=new pu(r.get(1),r.get(3)),c=new tn(r.popFirst(5));return s.isEqual(t)||Mi(`Document ${c} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Jv(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class BM extends hC{constructor(e){super(),this.firestore=e}convertBytes(e){return new hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yi(this.firestore,null,t)}}class Bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jl extends Lf{constructor(e,t,r,s,c,h){super(e,t,r,s,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(lC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Bf extends Jl{data(e={}){return super.data(e)}}class Nc{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Bu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Bf(this._firestore,this._userDataWriter,r.key,r,new Bu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nt(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let h=0;return s._snapshot.docChanges.map(m=>({type:"added",doc:new Bf(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Bu(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:h++}))}{let h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>c||3!==m.type).map(m=>{const y=new Bf(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Bu(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let T=-1,N=-1;return 0!==m.type&&(T=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),1!==m.type&&(h=h.add(m.doc),N=h.indexOf(m.doc.key)),{type:jS(m.type),doc:y,oldIndex:T,newIndex:N}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jS(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return un()}}function fC(n,e){return n instanceof Jl&&e instanceof Jl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Nc&&e instanceof Nc&&n._firestore===e._firestore&&ES(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Fc extends hC{constructor(e){super(),this.firestore=e}convertBytes(e){return new hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yi(this.firestore,null,t)}}function Zv(n,e,t){n=_r(n,yi);const r=_r(n.firestore,ci),s=Jv(n.converter,e,t);return oh(r,[qv(Uu(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,ki.none())])}function mC(n,e,t,...r){n=_r(n,yi);const s=_r(n.firestore,ci),c=Uu(s);let h;return h="string"==typeof(e=Mt(e))||e instanceof Mc?Kv(c,"updateDoc",n._key,e,t,r):rC(c,"updateDoc",n._key,e),oh(s,[h.toMutation(n._key,ki.exists(!0))])}function gC(n,...e){var t,r,s;n=Mt(n);let c={includeMetadataChanges:!1,source:"default"},h=0;"object"!=typeof e[h]||$v(e[h])||(c=e[h],h++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if($v(e[h])){const B=e[h];e[h]=null===(t=B.next)||void 0===t?void 0:t.bind(B),e[h+1]=null===(r=B.error)||void 0===r?void 0:r.bind(B),e[h+2]=null===(s=B.complete)||void 0===s?void 0:s.bind(B)}let y,T,N;if(n instanceof yi)T=_r(n.firestore,ci),N=Zh(n._key.path),y={next:B=>{e[h]&&e[h](ey(T,n,B))},error:e[h+1],complete:e[h+2]};else{const B=_r(n,Fo);T=_r(B.firestore,ci),N=B._query;const q=new Fc(T);y={next:ue=>{e[h]&&e[h](new Nc(T,q,B,ue))},error:e[h+1],complete:e[h+2]},cC(n._query)}return function(q,ue,Se,ft){const dt=new xc(ft),Zt=new Lm(ue,dt,Se);return q.asyncQueue.enqueueAndForget((0,X.A)(function*(){return CI(yield eh(q),Zt)})),()=>{dt.$a(),q.asyncQueue.enqueueAndForget((0,X.A)(function*(){return Rv(yield eh(q),Zt)}))}}(Ti(T),N,m,y)}function oh(n,e){return function(r,s){const c=new io;return r.asyncQueue.enqueueAndForget((0,X.A)(function*(){return function JA(n,e,t){return MI.apply(this,arguments)}(yield Bv(r),s,c)})),c.promise}(Ti(n),e)}function ey(n,e,t){const r=t.docs.get(e._key),s=new Fc(n);return new Jl(n,s,e._key,r,new Bu(t.hasPendingWrites,t.fromCache),e.converter)}const JM={maxAttempts:5};class yC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Uu(e)}set(e,t,r){this._verifyNotCommitted();const s=zu(e,this._firestore),c=Jv(s.converter,t,r),h=qv(this._dataReader,"WriteBatch.set",s._key,c,null!==s.converter,r);return this._mutations.push(h.toMutation(s._key,ki.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const c=zu(e,this._firestore);let h;return h="string"==typeof(t=Mt(t))||t instanceof Mc?Kv(this._dataReader,"WriteBatch.update",c._key,t,r,s):rC(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(h.toMutation(c._key,ki.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=zu(e,this._firestore);return this._mutations=this._mutations.concat(new lf(t._key,ki.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Nt(ht.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zu(n,e){if((n=Mt(n)).firestore!==e)throw new Nt(ht.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ZM extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Uu(t)}get(t){const r=zu(t,this._firestore),s=new BM(this._firestore);return this._transaction.lookup([r._key]).then(c=>{if(!c||1!==c.length)return un();const h=c[0];if(h.isFoundDocument())return new Lf(this._firestore,s,h.key,h,r.converter);if(h.isNoDocument())return new Lf(this._firestore,s,r._key,null,r.converter);throw un()})}set(t,r,s){const c=zu(t,this._firestore),h=Jv(c.converter,r,s),m=qv(this._dataReader,"Transaction.set",c._key,h,null!==c.converter,s);return this._transaction.set(c._key,m),this}update(t,r,s,...c){const h=zu(t,this._firestore);let m;return m="string"==typeof(r=Mt(r))||r instanceof Mc?Kv(this._dataReader,"Transaction.update",h._key,r,s,c):rC(this._dataReader,"Transaction.update",h._key,r),this._transaction.update(h._key,m),this}delete(t){const r=zu(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=zu(e,this._firestore),r=new Fc(this._firestore);return super.get(e).then(s=>new Jl(this._firestore,r,t._key,s._document,new Bu(!1,!1),t.converter))}}function wC(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Nt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function nD(){if(typeof Uint8Array>"u")throw new Nt("unimplemented","Uint8Arrays are not available in this environment.")}function rD(){if(!function hx(){return typeof atob<"u"}())throw new Nt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){$l=Cr,It(new ar("firestore",(r,{instanceIdentifier:s,options:c})=>{const h=r.getProvider("app").getImmediate(),m=new ci(new yT(r.getProvider("auth-internal")),new tE(r.getProvider("app-check-internal")),function(T,N){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new Nt(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(T.options.projectId,N)}(h,s),h);return c=Object.assign({useFetchStreams:t},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),br(_T,"4.6.3",e),br(_T,"4.6.3","esm2017")}();class Jm{constructor(e){this._delegate=e}static fromBase64String(e){return rD(),new Jm(hl.fromBase64String(e))}static fromUint8Array(e){return nD(),new Jm(hl.fromUint8Array(e))}toBase64(){return rD(),this._delegate.toBase64()}toUint8Array(){return nD(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sh(n){return function ck(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class uk{enableIndexedDbPersistence(e,t){return function AM(n,e){wS(n=_r(n,ci));const t=Ti(n);if(t._uninitializedComponentsProvider)throw new Nt(ht.FAILED_PRECONDITION,"SDK cache is already specified.");Es("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),s=new Pf;return DM(t,s,new Vv(s,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function SM(n){wS(n=_r(n,ci));const e=Ti(n);if(e._uninitializedComponentsProvider)throw new Nt(ht.FAILED_PRECONDITION,"SDK cache is already specified.");Es("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Pf;return DM(e,r,new Fu(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function RM(n){if(n._initialized&&!n._terminated)throw new Nt(ht.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new io;return n._queue.enqueueAndForgetEvenWhileRestricted((0,X.A)(function*(){try{yield(t=(0,X.A)(function*(s){if(!Hl.D())return Promise.resolve();const c=s+"main";yield Hl.delete(c)}),function r(s){return t.apply(this,arguments)})(sI(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class iD{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof pu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Es("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function YI(n,e,t,r={}){var s;const c=(n=_r(n,Nf))._getSettings(),h=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==h&&Es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:h,ssl:!1})),r.mockUserToken){let m,y;if("string"==typeof r.mockUserToken)m=r.mockUserToken,y=go.MOCK_USER;else{m=Pt(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new Nt(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new go(T)}n._authCredentials=new Z0(new J0(m,y))}}(this._delegate,e,t,r)}enableNetwork(){return function PM(n){return function lS(n){return n.asyncQueue.enqueue((0,X.A)(function*(){const e=yield Hm(n),t=yield XI(n);return e.setNetworkEnabled(!0),function(s){const c=en(s);return c.M_.delete(0),Cf(c)}(t)}))}(Ti(n=_r(n,ci)))}(this._delegate)}disableNetwork(){return function xM(n){return function cS(n){return n.asyncQueue.enqueue((0,X.A)(function*(){const e=yield Hm(n),t=yield XI(n);return e.setNetworkEnabled(!1),(r=(0,X.A)(function*(c){const h=en(c);h.M_.add(0),yield Ql(h),h.N_.set("Offline")}),function s(c){return r.apply(this,arguments)})(t);var r}))}(Ti(n=_r(n,ci)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,mS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function CS(n){return function(t){const r=new io;return t.asyncQueue.enqueueAndForget((0,X.A)(function*(){return function lM(n,e){return Vm.apply(this,arguments)}(yield Bv(t),r)})),r.promise}(Ti(n=_r(n,ci)))}(this._delegate)}onSnapshotsInSync(e){return function KS(n,e){return function EM(n,e){const t=new xc(e);return n.asyncQueue.enqueueAndForget((0,X.A)(function*(){return s=yield eh(n),c=t,en(s).z_.add(c),void c.next();var s,c})),()=>{t.$a(),n.asyncQueue.enqueueAndForget((0,X.A)(function*(){return s=yield eh(n),c=t,void en(s).z_.delete(c);var s,c}))}}(Ti(n=_r(n,ci)),$v(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Nt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ju(this,yS(this._delegate,e))}catch(t){throw bo(t,"collection()","Firestore.collection()")}}doc(e){try{return new fl(this,JI(this._delegate,e))}catch(t){throw bo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Cs(this,function CM(n,e){if(n=_r(n,Nf),th("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Nt(ht.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fo(n,null,(r=e,new Ws(Tr.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw bo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ty(n,e,t){n=_r(n,ci);const r=Object.assign(Object.assign({},JM),t);return function(c){if(c.maxAttempts<1)throw new Nt(ht.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(c,h,m){const y=new io;return c.asyncQueue.enqueueAndForget((0,X.A)(function*(){const T=yield function aS(n){return Uv(n).then(e=>e.datastore)}(c);new xO(c.asyncQueue,T,m,h,y).Xa()})),y.promise}(Ti(n),s=>e(new ZM(n,s)),r)}(this._delegate,t=>e(new oD(this,t)))}batch(){return Ti(this._delegate),new sD(new yC(this._delegate,e=>oh(this._delegate,e)))}loadBundle(e){return function MM(n,e){const t=Ti(n=_r(n,ci)),r=new Hv;return function IM(n,e,t,r){const s=function(h,m){let y;return y="string"==typeof h?kE().encode(h):h,N=function(N,B){if(N instanceof Uint8Array)return rS(N,B);if(N instanceof ArrayBuffer)return rS(new Uint8Array(N),B);if(N instanceof ReadableStream)return N.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new PO(N,m);var N}(t,Rm(e));n.asyncQueue.enqueueAndForget((0,X.A)(function*(){!function gM(n,e,t){const r=en(n);var s;(s=(0,X.A)(function*(h,m,y){try{const T=yield m.getMetadata();if(yield function(Se,ft){const dt=en(Se),Zt=Ni(ft.createTime);return dt.persistence.runTransaction("hasNewerBundle","readonly",ln=>dt.$r.getBundleMetadata(ln,ft.id)).then(ln=>!!ln&&ln.createTime.compareTo(Zt)>=0)}(h.localStore,T))return yield m.close(),y._completeWith({taskState:"Success",documentsLoaded:(Se=T).totalDocuments,bytesLoaded:Se.totalBytes,totalDocuments:Se.totalDocuments,totalBytes:Se.totalBytes}),Promise.resolve(new Set);y._updateProgress(ul(T));const N=new tM(T,h.localStore,m.serializer);let B=yield m.qa();for(;B;){const ue=yield N._a(B);ue&&y._updateProgress(ue),B=yield m.qa()}const q=yield N.complete();return yield Pc(h,q.ca,void 0),yield function(Se,ft){const dt=en(Se);return dt.persistence.runTransaction("Save bundle","readwrite",Zt=>dt.$r.saveBundleMetadata(Zt,ft))}(h.localStore,T),y._completeWith(q.progress),Promise.resolve(q.ua)}catch(T){return Es("SyncEngine",`Loading bundle failed with ${T}`),y._failWith(T),Promise.resolve(new Set)}var Se}),function c(h,m,y){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield Bv(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function bS(n,e){return function jv(n,e){return n.asyncQueue.enqueue((0,X.A)(function*(){return function(r,s){const c=en(r);return c.persistence.runTransaction("Get named query","readonly",h=>c.$r.getNamedQuery(h,s))}(yield Co(n),e)}))}(Ti(n=_r(n,ci)),e).then(t=>t?new Fo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Cs(this,t):null)}}class Oo extends hC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jm(new hl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return fl.forKey(t,this.firestore,null)}}class oD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Oo(e)}get(e){const t=$u(e);return this._delegate.get(t).then(r=>new Zm(this._firestore,new Jl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=$u(e);return r?(wC("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const c=$u(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...s),this}delete(e){const t=$u(e);return this._delegate.delete(t),this}}class sD{constructor(e){this._delegate=e}set(e,t,r){const s=$u(e);return r?(wC("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const c=$u(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...s),this}delete(e){const t=$u(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class jf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Bf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $f(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=jf.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let c=s.get(t);return c||(c=new jf(e,new Oo(e),t),s.set(t,c)),c}}jf.INSTANCES=new WeakMap;class fl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Oo(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Nt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new fl(t,new yi(t._delegate,r,new tn(e)))}static forKey(e,t,r){return new fl(t,new yi(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ju(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ju(this.firestore,yS(this._delegate,e))}catch(t){throw bo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Mt(e))instanceof yi&&bM(this._delegate,e)}set(e,t){t=wC("DocumentReference.set",t);try{return t?Zv(this._delegate,e,t):Zv(this._delegate,e)}catch(r){throw bo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?mC(this._delegate,e):mC(this._delegate,e,t,...r)}catch(s){throw bo(s,"updateDoc()","DocumentReference.update()")}}delete(){return function WS(n){return oh(_r(n.firestore,ci),[new lf(n._key,ki.none())])}(this._delegate)}onSnapshot(...e){const t=aD(e),r=ry(e,s=>new Zm(this.firestore,new Jl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return gC(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function HS(n){n=_r(n,yi);const e=_r(n.firestore,ci),t=Ti(e),r=new Fc(e);return function _M(n,e){const t=new io;return n.asyncQueue.enqueueAndForget((0,X.A)(function*(){return(r=(0,X.A)(function*(c,h,m){try{const y=yield function(N,B){const q=en(N);return q.persistence.runTransaction("read document","readonly",ue=>q.localDocuments.getDocument(ue,B))}(c,h);y.isFoundDocument()?m.resolve(y):y.isNoDocument()?m.resolve(null):m.reject(new Nt(ht.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const T=Af(y,`Failed to get document '${h} from cache`);m.reject(T)}}),function s(c,h,m){return r.apply(this,arguments)})(yield Co(n),e,t);var r})),t.promise}(t,n._key).then(s=>new Jl(e,r,n._key,s,new Bu(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function GS(n){n=_r(n,yi);const e=_r(n.firestore,ci);return uS(Ti(e),n._key,{source:"server"}).then(t=>ey(e,n,t))}(this._delegate):function $S(n){n=_r(n,yi);const e=_r(n.firestore,ci);return uS(Ti(e),n._key).then(t=>ey(e,n,t))}(this._delegate),t.then(r=>new Zm(this.firestore,new Jl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new fl(this.firestore,this._delegate.withConverter(e?jf.getInstance(this.firestore,e):null))}}function bo(n,e,t){return n.message=n.message.replace(e,t),n}function aD(n){for(const e of n)if("object"==typeof e&&!sh(e))return e;return{}}function ry(n,e){var t,r;let s;return s=sh(n[0])?n[0]:sh(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{s.next&&s.next(e(c))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class Zm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new fl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fC(this._delegate,e._delegate)}}class $f extends Zm{data(e){const t=this._delegate.data(e);return this._delegate._converter||function ex(n,e){n||un()}(void 0!==t),t}}class Cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Oo(e)}where(e,t,r){try{return new Cs(this.firestore,kc(this._delegate,function dC(n,e,t){const r=e,s=lC("where",n);return Uf._create(s,r,t)}(e,t,r)))}catch(s){throw bo(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Cs(this.firestore,kc(this._delegate,function MS(n,e="asc"){const t=e,r=lC("orderBy",n);return Yv._create(r,t)}(e,t)))}catch(r){throw bo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Cs(this.firestore,kc(this._delegate,function kS(n){return _S("limit",n),Xm._create("limit",n,"F")}(e)))}catch(t){throw bo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Cs(this.firestore,kc(this._delegate,function NS(n){return _S("limitToLast",n),Xm._create("limitToLast",n,"L")}(e)))}catch(t){throw bo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Cs(this.firestore,kc(this._delegate,function FS(...n){return Qm._create("startAt",n,!0)}(...e)))}catch(t){throw bo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Cs(this.firestore,kc(this._delegate,function OS(...n){return Qm._create("startAfter",n,!1)}(...e)))}catch(t){throw bo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Cs(this.firestore,kc(this._delegate,function VM(...n){return Ym._create("endBefore",n,!1)}(...e)))}catch(t){throw bo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Cs(this.firestore,kc(this._delegate,function UM(...n){return Ym._create("endAt",n,!0)}(...e)))}catch(t){throw bo(t,"endAt()","Query.endAt()")}}isEqual(e){return ES(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function HM(n){n=_r(n,Fo);const e=_r(n.firestore,ci),t=Ti(e),r=new Fc(e);return function vM(n,e){const t=new io;return n.asyncQueue.enqueueAndForget((0,X.A)(function*(){return(r=(0,X.A)(function*(c,h,m){try{const y=yield mv(c,h,!0),T=new AI(h,y.hs),N=T.da(y.documents),B=T.applyChanges(N,!1);m.resolve(B.snapshot)}catch(y){const T=Af(y,`Failed to execute query '${h} against cache`);m.reject(T)}}),function s(c,h,m){return r.apply(this,arguments)})(yield Co(n),e,t);var r})),t.promise}(t,n._query).then(s=>new Nc(e,r,n,s))}(this._delegate):"server"===(null==e?void 0:e.source)?function pC(n){n=_r(n,Fo);const e=_r(n.firestore,ci),t=Ti(e),r=new Fc(e);return Mf(t,n._query,{source:"server"}).then(s=>new Nc(e,r,n,s))}(this._delegate):function $M(n){n=_r(n,Fo);const e=_r(n.firestore,ci),t=Ti(e),r=new Fc(e);return cC(n._query),Mf(t,n._query).then(s=>new Nc(e,r,n,s))}(this._delegate),t.then(r=>new TC(this.firestore,new Nc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=aD(e),r=ry(e,s=>new TC(this.firestore,new Nc(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return gC(this._delegate,t,r)}withConverter(e){return new Cs(this.firestore,this._delegate.withConverter(e?jf.getInstance(this.firestore,e):null))}}class dk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new $f(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class TC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Cs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new $f(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new dk(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new $f(this._firestore,r))})}isEqual(e){return fC(this._delegate,e._delegate)}}class ju extends Cs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new fl(this.firestore,e):null}doc(e){try{return new fl(this.firestore,void 0===e?JI(this._delegate):JI(this._delegate,e))}catch(t){throw bo(t,"doc()","CollectionReference.doc()")}}add(e){return function qS(n,e){const t=_r(n.firestore,ci),r=JI(n),s=Jv(n.converter,e);return oh(t,[qv(Uu(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,ki.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new fl(this.firestore,t))}isEqual(e){return bM(this._delegate,e._delegate)}withConverter(e){return new ju(this.firestore,this._delegate.withConverter(e?jf.getInstance(this.firestore,e):null))}}function $u(n){return _r(n,yi)}class AC{constructor(...e){this._delegate=new Mc(...e)}static documentId(){return new AC(fn.keyField().canonicalString())}isEqual(e){return(e=Mt(e))instanceof Mc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Zl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ek(){return new ZI("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Zl(e)}static delete(){const e=function ZS(){return new Wm("deleteField")}();return e._methodName="FieldValue.delete",new Zl(e)}static arrayUnion(...e){const t=function tk(...n){return new eC("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Zl(t)}static arrayRemove(...e){const t=function nk(...n){return new tC("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Zl(t)}static increment(e){const t=function rk(n){return new nC("increment",n)}(e);return t._methodName="FieldValue.increment",new Zl(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const SC={Firestore:iD,GeoPoint:Gm,Timestamp:bi,Blob:Jm,Transaction:oD,WriteBatch:sD,DocumentReference:fl,DocumentSnapshot:Zm,Query:Cs,QueryDocumentSnapshot:$f,QuerySnapshot:TC,CollectionReference:ju,FieldPath:AC,FieldValue:Zl,setLogLevel:function zf(n){!function ZP(n){sl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function lD(n){(function jO(n,e){n.INTERNAL.registerComponent(new ar("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},SC)))})(n,(e,t)=>new iD(e,t,new uk)),n.registerVersion("@firebase/firestore-compat","0.3.32")}(yr);const cD="firebasestorage.googleapis.com",DC="storageBucket";class Ei extends zt{constructor(e,t,r=0){super(RC(e),`Firebase Storage: ${t} (${RC(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ei.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return RC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Fi=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Fi||{});function RC(n){return"storage/"+n}function PC(){return new Ei(Fi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function xC(){return new Ei(Fi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pD(){return new Ei(Fi.CANCELED,"User canceled the upload/download.")}function MC(){return new Ei(Fi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Gf(n){return new Ei(Fi.INVALID_ARGUMENT,n)}function yD(){return new Ei(Fi.APP_DELETED,"The Firebase app was deleted.")}function _k(n){return new Ei(Fi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wf(n,e){return new Ei(Fi.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function iy(n){throw new Ei(Fi.INTERNAL_ERROR,"Internal error: "+n)}class bs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=bs.makeFromUrl(e,t)}catch{return new bs(e,"")}if(""===r.path)return r;throw function mD(n){return new Ei(Fi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+s+"(/(.*))?$","i");function T(vn){vn.path_=decodeURIComponent(vn.path)}const B=t.replace(/[.]/g,"\\."),Xt=[{regex:m,indices:{bucket:1,path:3},postModify:function c(vn){"/"===vn.path.charAt(vn.path.length-1)&&(vn.path_=vn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${B}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:T},{regex:new RegExp(`^https?://${t===cD?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:T}];for(let vn=0;vn<Xt.length;vn++){const mr=Xt[vn],Wn=mr.regex.exec(e);if(Wn){let me=Wn[mr.indices.path];me||(me=""),r=new bs(Wn[mr.indices.bucket],me),mr.postModify(r);break}}if(null==r)throw function mk(n){return new Ei(Fi.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class $O{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function eg(n){return"string"==typeof n||n instanceof String}function vk(n){return oy()&&n instanceof Blob}function oy(){return typeof Blob<"u"}function kC(n,e,t,r){if(r<e)throw Gf(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Gf(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ea(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function tg(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var qf=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(qf||{});function ED(n,e){const t=n>=500&&n<600,s=-1!==[408,429].indexOf(n),c=-1!==e.indexOf(n);return t||s||c}class yk{constructor(e,t,r,s,c,h,m,y,T,N,B,q=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=y,this.timeout_=T,this.progressCallback_=N,this.connectionFactory_=B,this.retry=q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ue,Se)=>{this.resolve_=ue,this.reject_=Se,this.start_()})}start_(){const t=(r,s)=>{const c=this.resolve_,h=this.reject_,m=s.connection;if(s.wasSuccessCode)try{const y=this.callback_(m,m.getResponse());!function WO(n){return void 0!==n}(y)?c():c(y)}catch(y){h(y)}else if(null!==m){const y=PC();y.serverResponse=m.getErrorText(),h(this.errorCallback_?this.errorCallback_(m,y):y)}else h(s.canceled?this.appDelete_?yD():pD():xC())};this.canceled_?t(0,new sy(!1,null,!0)):this.backoffId_=function HO(n,e,t){let r=1,s=null,c=null,h=!1,m=0;function y(){return 2===m}let T=!1;function N(...dt){T||(T=!0,e.apply(null,dt))}function B(dt){s=setTimeout(()=>{s=null,n(ue,y())},dt)}function q(){c&&clearTimeout(c)}function ue(dt,...Zt){if(T)return void q();if(dt)return q(),void N.call(null,dt,...Zt);if(y()||h)return q(),void N.call(null,dt,...Zt);let Xt;r<64&&(r*=2),1===m?(m=2,Xt=0):Xt=1e3*(r+Math.random()),B(Xt)}let Se=!1;function ft(dt){Se||(Se=!0,q(),!T&&(null!==s?(dt||(m=2),clearTimeout(s),B(0)):dt||(m=1)))}return B(0),c=setTimeout(()=>{h=!0,ft(!0)},t),ft}((r,s)=>{if(s)return void r(!1,new sy(!1,null,!0));const c=this.connectionFactory_();this.pendingConnection_=c;const h=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const m=c.getErrorCode()===qf.NO_ERROR,y=c.getStatus();if(!m||ED(y,this.additionalRetryCodes_)&&this.retry){const N=c.getErrorCode()===qf.ABORT;return void r(!1,new sy(!1,null,N))}const T=-1!==this.successCodes_.indexOf(y);r(!0,new sy(T,c))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function GO(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class sy{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Tk(...n){const e=function wk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(oy())return new Blob(n);throw new Ei(Fi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ia={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class NC{constructor(e,t){this.data=e,this.contentType=t||null}}function FC(n,e){switch(n){case Ia.RAW:return new NC(CD(e));case Ia.BASE64:case Ia.BASE64URL:return new NC(bD(n,e));case Ia.DATA_URL:return new NC(function Rk(n){const e=new wD(n);return e.base64?bD(Ia.BASE64,e.rest):function Dk(n){let e;try{e=decodeURIComponent(n)}catch{throw Wf(Ia.DATA_URL,"Malformed data URL.")}return CD(e)}(e.rest)}(e),function TD(n){return new wD(n).contentType}(e))}throw PC()}function CD(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function bD(n,e){switch(n){case Ia.BASE64:{const s=-1!==e.indexOf("-"),c=-1!==e.indexOf("_");if(s||c)throw Wf(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ia.BASE64URL:{const s=-1!==e.indexOf("+"),c=-1!==e.indexOf("/");if(s||c)throw Wf(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Sk(n){if(typeof atob>"u")throw function vD(n){return new Ei(Fi.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(s){throw s.message.includes("polyfill")?s:Wf(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class wD{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Wf(Ia.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function OC(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class ec{constructor(e,t){let r=0,s="";vk(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(vk(this.data_)){const s=function Ak(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===s?null:new ec(s)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ec(r,!0)}}static getBlob(...e){if(oy()){const t=e.map(r=>r instanceof ec?r.data_:r);return new ec(Tk.apply(null,t))}{const t=e.map(h=>eg(h)?FC(Ia.RAW,h).data:h.data_);let r=0;t.forEach(h=>{r+=h.byteLength});const s=new Uint8Array(r);let c=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)s[c++]=h[m]}),new ec(s,!0)}}uploadData(){return this.data_}}function LC(n){let e;try{e=JSON.parse(n)}catch{return null}return function KO(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function UC(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function XO(n,e){return e}class ws{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||XO}}let ng=null;function rg(){if(ng)return ng;const n=[];n.push(new ws("bucket")),n.push(new ws("generation")),n.push(new ws("metageneration")),n.push(new ws("name","fullPath",!0));const t=new ws("name");t.xform=function e(c,h){return function AD(n){return!eg(n)||n.length<2?n:UC(n)}(h)},n.push(t);const s=new ws("size");return s.xform=function r(c,h){return void 0!==h?Number(h):h},n.push(s),n.push(new ws("timeCreated")),n.push(new ws("updated")),n.push(new ws("md5Hash",null,!0)),n.push(new ws("cacheControl",null,!0)),n.push(new ws("contentDisposition",null,!0)),n.push(new ws("contentEncoding",null,!0)),n.push(new ws("contentLanguage",null,!0)),n.push(new ws("contentType",null,!0)),n.push(new ws("metadata","customMetadata",!0)),ng=n,ng}function ay(n,e,t){const r=LC(e);return null===r?null:function xk(n,e,t){const r={type:"file"},s=t.length;for(let c=0;c<s;c++){const h=t[c];r[h.local]=h.xform(r,e[h.server])}return function SD(n,e){Object.defineProperty(n,"ref",{get:function t(){const c=new bs(n.bucket,n.fullPath);return e._makeStorageReference(c)}})}(r,n),r}(n,r,t)}function ly(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const c=e[s];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}const zC="prefixes",cy="items";class pl{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tc(n){if(!n)throw PC()}function $C(n,e){return function t(r,s){const c=ay(n,s,e);return tc(null!==c),c}}function Ca(n){return function e(t,r){let s;return s=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function pk(){return new Ei(Fi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function hD(){return new Ei(Fi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function dD(n){return new Ei(Fi.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function fD(n){return new Ei(Fi.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}}function Hu(n){const e=Ca(n);return function t(r,s){let c=e(r,s);return 404===r.getStatus()&&(c=function fk(n){return new Ei(Fi.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),c.serverResponse=s.serverResponse,c}}function Kf(n,e,t){const s=Ea(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new pl(s,"GET",$C(n,t),h);return m.errorHandler=Hu(e),m}function Mk(n,e,t,r,s){const c={};c.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(c.delimiter=t),r&&(c.pageToken=r),s&&(c.maxResults=s);const m=Ea(e.bucketOnlyServerUrl(),n.host,n._protocol),T=n.maxOperationRetryTime,N=new pl(m,"GET",function DD(n,e){return function t(r,s){const c=function QO(n,e,t){const r=LC(t);return null===r?null:function jC(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[zC])for(const s of t[zC]){const c=s.replace(/\/$/,""),h=n._makeStorageReference(new bs(e,c));r.prefixes.push(h)}if(t[cy])for(const s of t[cy]){const c=n._makeStorageReference(new bs(e,s.name));r.items.push(c)}return r}(n,e,r)}(n,e,s);return tc(null!==c),c}}(n,e.bucket),T);return N.urlParams=c,N.errorHandler=Ca(e),N}function xD(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function Fk(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class uy{constructor(e,t,r,s){this.current=e,this.total=t,this.finalized=!!r,this.metadata=s||null}}function dy(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{tc(!1)}return tc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Uk={STATE_CHANGED:"state_changed"},cs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function WC(n){switch(n){case"running":case"pausing":case"canceling":return cs.RUNNING;case"paused":return cs.PAUSED;case"success":return cs.SUCCESS;case"canceled":return cs.CANCELED;default:return cs.ERROR}}class Bk{constructor(e,t,r){if(function qO(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const c=e;this.next=c.next,this.error=c.error,this.complete=c.complete}}}function Oc(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let MD=null;class JO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw iy("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(const c in s)s.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,s[c].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw iy("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw iy("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw iy("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw iy("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ZO extends JO{initXhr(){this.xhr_.responseType="text"}}function ml(){return MD?MD():new ZO}class FD{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=rg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Fi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const c=this.isExponentialBackoffExpired();if(ED(s.status,[])){if(!c)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();s=xC()}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Fi.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,c)=>{this._resolve=s,this._reject=c,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function Lk(n,e,t,r,s){const c=e.bucketOnlyServerUrl(),h=xD(e,r,s),m={name:h.fullPath},y=Ea(c,n.host,n._protocol),N={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},B=ly(h,t),Se=new pl(y,"POST",function ue(ft){let dt;dy(ft);try{dt=ft.getResponseHeader("X-Goog-Upload-URL")}catch{tc(!1)}return tc(eg(dt)),dt},n.maxUploadRetryTime);return Se.urlParams=m,Se.headers=N,Se.body=B,Se.errorHandler=Ca(e),Se}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,ml,e,t);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const s=function YO(n,e,t,r){const y=new pl(t,"POST",function c(T){const N=dy(T,["active","final"]);let B=null;try{B=T.getResponseHeader("X-Goog-Upload-Size-Received")}catch{tc(!1)}B||tc(!1);const q=Number(B);return tc(!isNaN(q)),new uy(q,r.size(),"final"===N)},n.maxUploadRetryTime);return y.headers={"X-Goog-Upload-Command":"query"},y.errorHandler=Ca(e),y}(this._ref.storage,this._ref._location,e,this._blob),c=this._ref.storage._makeRequest(s,ml,t,r);this._request=c,c.getPromise().then(h=>{this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new uy(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,c)=>{let h;try{h=function Vk(n,e,t,r,s,c,h,m){const y=new uy(0,0);if(h?(y.current=h.current,y.total=h.total):(y.current=0,y.total=r.size()),r.size()!==y.total)throw function gD(){return new Ei(Fi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const T=y.total-y.current;let N=T;s>0&&(N=Math.min(N,s));const B=y.current;let ue="";ue=0===N?"finalize":T===N?"upload, finalize":"upload";const Se={"X-Goog-Upload-Command":ue,"X-Goog-Upload-Offset":`${y.current}`},ft=r.slice(B,B+N);if(null===ft)throw MC();const Xt=new pl(t,"POST",function dt(vn,mr){const Wn=dy(vn,["active","final"]),Me=y.current+N,me=r.size();let Ee;return Ee="final"===Wn?$C(e,c)(vn,mr):null,new uy(Me,me,"final"===Wn,Ee)},e.maxUploadRetryTime);return Xt.headers=Se,Xt.body=ft.uploadData(),Xt.progressCallback=m||null,Xt.errorHandler=Ca(n),Xt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(y){return this._error=y,void this._transition("error")}const m=this._ref.storage._makeRequest(h,ml,s,c,!1);this._request=m,m.getPromise().then(y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(y.current),y.finalized?(this._metadata=y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=Kf(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,ml,e,t);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function Ok(n,e,t,r,s){const c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},y=function m(){let Xt="";for(let vn=0;vn<2;vn++)Xt+=Math.random().toString().slice(2);return Xt}();h["Content-Type"]="multipart/related; boundary="+y;const T=xD(e,r,s),N=ly(T,t),ue=ec.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+N+"\r\n--"+y+"\r\nContent-Type: "+T.contentType+"\r\n\r\n",r,"\r\n--"+y+"--");if(null===ue)throw MC();const Se={name:T.fullPath},ft=Ea(c,n.host,n._protocol),Zt=n.maxUploadRetryTime,ln=new pl(ft,"POST",$C(n,t),Zt);return ln.urlParams=Se,ln.headers=h,ln.body=ue.uploadData(),ln.errorHandler=Ca(e),ln}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,ml,e,t);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=pD(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=WC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,s){const c=new Bk(t||void 0,r||void 0,s||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(WC(this._state)){case cs.SUCCESS:Oc(this._resolve.bind(null,this.snapshot))();break;case cs.CANCELED:case cs.ERROR:Oc(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(WC(this._state)){case cs.RUNNING:case cs.PAUSED:e.next&&Oc(e.next.bind(e,this.snapshot))();break;case cs.SUCCESS:e.complete&&Oc(e.complete.bind(e))();break;default:e.error&&Oc(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Wu{constructor(e,t){this._service=e,this._location=t instanceof bs?t:bs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Wu(e,t)}get root(){const e=new bs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UC(this._location.path)}get storage(){return this._service}get parent(){const e=function VC(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new bs(this._location.bucket,e);return new Wu(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw _k(e)}}function $k(n,e,t){return KC.apply(this,arguments)}function KC(){return KC=(0,X.A)(function*(n,e,t){const s=yield Hk(n,{pageToken:t});e.prefixes.push(...s.prefixes),e.items.push(...s.items),null!=s.nextPageToken&&(yield $k(n,e,s.nextPageToken))}),KC.apply(this,arguments)}function Hk(n,e){null!=e&&"number"==typeof e.maxResults&&kC("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=Mk(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,ml)}function UD(n){n._throwIfRoot("getDownloadURL");const e=function HC(n,e,t){const s=Ea(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new pl(s,"GET",function RD(n,e){return function t(r,s){const c=ay(n,s,e);return tc(null!==c),function BC(n,e,t,r){const s=LC(e);if(null===s||!eg(s.downloadTokens))return null;const c=s.downloadTokens;if(0===c.length)return null;const h=encodeURIComponent;return c.split(",").map(T=>{const B=n.fullPath;return Ea("/b/"+h(n.bucket)+"/o/"+h(B),t,r)+tg({alt:"media",token:T})})[0]}(c,s,n.host,n._protocol)}}(n,t),h);return m.errorHandler=Hu(e),m}(n.storage,n._location,rg());return n.storage.makeRequestWithTokens(e,ml).then(t=>{if(null===t)throw function _D(){return new Ei(Fi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function BD(n,e){const t=function Pk(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new bs(n._location.bucket,t);return new Wu(n.storage,r)}function Wk(n,e){if(n instanceof Xf){const t=n;if(null==t._bucket)throw function gk(){return new Ei(Fi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+DC+"' property when initializing the app?")}();const r=new Wu(t,t._bucket);return null!=e?Wk(r,e):r}return void 0!==e?BD(n,e):n}function i2(n,e){if(e&&function n2(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Xf)return function r2(n,e){return new Wu(n,e)}(n,e);throw Gf("To use ref(service, url), the first argument must be a Storage instance.")}return Wk(n,e)}function qk(n,e){const t=null==e?void 0:e[DC];return null==t?null:bs.makeFromBucketSpec(t,n)}class Xf{constructor(e,t,r,s,c){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=c,this._bucket=null,this._host=cD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?bs.makeFromBucketSpec(s,this._host):qk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?bs.makeFromBucketSpec(this._url,e):qk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,X.A)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,X.A)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wu(this,e)}_makeRequest(e,t,r,s,c=!0){if(this._deleted)return new $O(yD());{const h=function bk(n,e,t,r,s,c,h=!0){const m=tg(n.urlParams),y=n.url+m,T=Object.assign({},n.headers);return function Ck(n,e){e&&(n["X-Firebase-GMPID"]=e)}(T,e),function Ek(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(T,t),function Ik(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(T,c),function ID(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(T,r),new yk(y,n.method,T,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,h)}(e,this._appId,r,s,t,this._firebaseVersion,c);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}makeRequestWithTokens(e,t){var r=this;return(0,X.A)(function*(){const[s,c]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,s,c).getPromise()})()}}const jD="@firebase/storage";function Qk(n,e){return i2(n=Mt(n),e)}function qD(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Xf(t,r,s,e,Cr)}!function KD(){It(new ar("storage",qD,"PUBLIC").setMultipleInstances(!0)),br(jD,"0.12.5",""),br(jD,"0.12.5","esm2017")}();class ig{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class XD{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ig(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new ig(r,this,this._ref))},t)}on(e,t,r,s){let c;return t&&(c="function"==typeof t?h=>t(new ig(h,this,this._ref)):{next:t.next?h=>t.next(new ig(h,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,c,r||void 0,s||void 0)}}class QD{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new nc(e,this._service))}get items(){return this._delegate.items.map(e=>new nc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class nc{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function GD(n,e){return BD(n,e)}(this._delegate,e);return new nc(t,this.storage)}get root(){return new nc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new nc(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new XD(function QC(n,e,t){return function e2(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new FD(n,new ec(e),t)}(n=Mt(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ia.RAW,r){this._throwIfRoot("putString");const s=FC(t,e),c=Object.assign({},r);return null==c.contentType&&null!=s.contentType&&(c.contentType=s.contentType),new XD(new FD(this._delegate,new ec(s.data,!0),c),this)}listAll(){return function fy(n){return function LD(n){const e={prefixes:[],items:[]};return $k(n,e).then(()=>e)}(n=Mt(n))}(this._delegate).then(e=>new QD(e,this.storage))}list(e){return function JC(n,e){return Hk(n=Mt(n),e)}(this._delegate,e||void 0).then(t=>new QD(t,this.storage))}getMetadata(){return function Xk(n){return function t2(n){n._throwIfRoot("getMetadata");const e=Kf(n.storage,n._location,rg());return n.storage.makeRequestWithTokens(e,ml)}(n=Mt(n))}(this._delegate)}updateMetadata(e){return function YC(n,e){return function VD(n,e){n._throwIfRoot("updateMetadata");const t=function kk(n,e,t,r){const c=Ea(e.fullServerUrl(),n.host,n._protocol),m=ly(t,r),T=n.maxOperationRetryTime,N=new pl(c,"PATCH",$C(n,r),T);return N.headers={"Content-Type":"application/json; charset=utf-8"},N.body=m,N.errorHandler=Hu(e),N}(n.storage,n._location,e,rg());return n.storage.makeRequestWithTokens(t,ml)}(n=Mt(n),e)}(this._delegate,e)}getDownloadURL(){return function o2(n){return UD(n=Mt(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function s2(n){return function Gk(n){n._throwIfRoot("deleteObject");const e=function Nk(n,e){const r=Ea(e.fullServerUrl(),n.host,n._protocol),m=new pl(r,"DELETE",function h(y,T){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=Hu(e),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ml)}(n=Mt(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw _k(e)}}class py{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Yk(e))throw Gf("ref() expected a child path but got a URL, use refFromURL instead.");return new nc(Qk(this._delegate,e),this)}refFromURL(e){if(!Yk(e))throw Gf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{bs.makeFromUrl(e,this._delegate.host)}catch{throw Gf("refFromUrl() expected a valid full URL but got an invalid one.")}return new nc(Qk(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function WD(n,e,t,r={}){!function zD(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken="string"==typeof s?s:Pt(s,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function Yk(n){return/^[A-Za-z]+:\/\//.test(n)}function Zk(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new py(t,r)}!function u2(n){const e={TaskState:cs,TaskEvent:Uk,StringFormat:Ia,Storage:py,Reference:nc};n.INTERNAL.registerComponent(new ar("storage-compat",Zk,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.8")}(yr);const eN="@firebase/database";let eb="";function ZD(n){eb=n}class wo{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),In(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:er(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class og{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return et(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const sg=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wo(e)}}catch{}return new og},rc=sg("localStorage"),my=sg("sessionStorage"),ag=new qn("@firebase/database"),e1=function(){let n=1;return function(){return n++}}(),tN=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);if(s>=55296&&s<=56319){const c=s-55296;r++,re(r<n.length,"Surrogate pair missing trail surrogate."),s=65536+(c<<10)+(n.charCodeAt(r)-56320)}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=63&s|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=63&s|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=63&s|128)}return e}(n),t=new qr;t.update(e);const r=t.digest();return ge.encodeByteArray(r)},gy=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=gy.apply(null,r):e+="object"==typeof r?In(r):r,e+=" "}return e};let Lc=null,t1=!0;const tb=function(n,e){re(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(ag.logLevel=Tn.VERBOSE,Lc=ag.log.bind(ag),e&&my.set("logging_enabled",!0)):"function"==typeof n?Lc=n:(Lc=null,my.remove("logging_enabled"))},To=function(...n){if(!0===t1&&(t1=!1,null===Lc&&!0===my.get("logging_enabled")&&tb(!0)),Lc){const e=gy.apply(null,n);Lc(e)}},Yf=function(n){return function(...e){To(n,...e)}},_y=function(...n){const e="FIREBASE INTERNAL ERROR: "+gy(...n);ag.error(e)},ic=function(...n){const e=`FIREBASE FATAL ERROR: ${gy(...n)}`;throw ag.error(e),new Error(e)},us=function(...n){const e="FIREBASE WARNING: "+gy(...n);ag.warn(e)},vy=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},gl="[MIN_NAME]",ba="[MAX_NAME]",Ha=function(n,e){if(n===e)return 0;if(n===gl||e===ba)return-1;if(e===gl||n===ba)return 1;{const t=rN(n),r=rN(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},i1=function(n,e){return n===e?0:n<e?-1:1},yy=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+In(e))},o1=function(n){if("object"!=typeof n||null===n)return In(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=In(e[r]),t+=":",t+=o1(n[e[r]]);return t+="}",t},nN=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let s=0;s<t;s+=e)r.push(n.substring(s,s+e>t?t:s+e));return r};function Lo(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const s1=function(n){re(!vy(n),"Invalid JSON number");const r=1023;let s,c,h,m,y;0===n?(c=0,h=0,s=1/n==-1/0?1:0):(s=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),r),c=m+r,h=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(c=0,h=Math.round(n/Math.pow(2,-1074))));const T=[];for(y=52;y;y-=1)T.push(h%2?1:0),h=Math.floor(h/2);for(y=11;y;y-=1)T.push(c%2?1:0),c=Math.floor(c/2);T.push(s?1:0),T.reverse();const N=T.join("");let B="";for(y=0;y<64;y+=8){let q=parseInt(N.substr(y,8),2).toString(16);1===q.length&&(q="0"+q),B+=q}return B.toLowerCase()},h2=new RegExp("^-?(0*)\\d{1,10}$"),rN=function(n){if(h2.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},lg=function(n){try{n()}catch(e){setTimeout(()=>{throw us("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Ey=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class oN{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){us(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class sN{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(To("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',us(e)}}let Iy=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const lN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,p1="websocket",cN="long_polling";class Cy{constructor(e,t,r,s,c=!1,h="",m=!1,y=!1){this.secure=t,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=y,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rc.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&rc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ib(n,e,t){let r;if(re("string"==typeof e,"typeof type must == string"),re("object"==typeof t,"typeof params must == object"),e===p1)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==cN)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function m1(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const s=[];return Lo(t,(c,h)=>{s.push(c+"="+h)}),r+s.join("&")}class p2{constructor(){this.counters_={}}incrementCounter(e,t=1){et(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return function it(n){return Xe(void 0,n)}(this.counters_)}}const ob={},g1={};function sb(n){const e=n.toString();return ob[e]||(ob[e]=new p2),ob[e]}class g2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&lg(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class _l{constructor(e,t,r,s,c,h,m){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yf(e),this.stats_=sb(t),this.urlFn=y=>(this.appCheckToken&&(y.ac=this.appCheckToken),ib(t,cN,y))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new g2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ub((...c)=>{const[h,m,y,T,N]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=m,this.password=y;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[h,m]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&lN.test(location.hostname)&&(r.r="f");const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_l.forceAllow_=!0}static forceDisallow(){_l.forceDisallow_=!0}static isAvailable(){return!(!_l.forceAllow_&&(_l.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=In(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=Re(t),s=nN(r,1840);for(let c=0;c<s.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[c]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=In(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ub{constructor(e,t,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=e1(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=ub.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){To("frame writing exception"),m.stack&&To(m.stack),To(m)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||To("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const h=this.pendingSegs.shift();r=r+"&seg"+s+"="+h.seg+"&ts"+s+"="+h.ts+"&d"+s+"="+h.d,s++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(s),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||"loaded"===s||"complete"===s)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{To("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let by=null;typeof MozWebSocket<"u"?by=MozWebSocket:typeof WebSocket<"u"&&(by=WebSocket);let dg=(()=>{class n{constructor(t,r,s,c,h,m,y){this.connId=t,this.applicationId=s,this.appCheckToken=c,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yf(this.connId),this.stats_=sb(r),this.connURL=n.connectionURL_(r,m,y,c,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,s,c,h){const m={v:"5"};return typeof location<"u"&&location.hostname&&lN.test(location.hostname)&&(m.r="f"),r&&(m.s=r),s&&(m.ls=s),c&&(m.ac=c),h&&(m.p=h),ib(t,p1,m)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rc.set("previous_websocket_failure",!0);try{let s;0,this.mySock=new by(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const c=s.message||s.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const c=s.message||s.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);s&&s.length>1&&parseFloat(s[1])<4.4&&(t=!0)}return!t&&null!==by&&!n.forceDisallow_}static previouslyFailed(){return rc.isInMemoryStorage||!0===rc.get("previous_websocket_failure")}markConnectionHealthy(){rc.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const s=er(r);this.onMessage(s)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(re(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const s=this.extractFrameCount_(r);null!==s&&this.appendFrame_(s)}}send(t){this.resetKeepAlive();const r=In(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=nN(r,16384);s.length>1&&this.sendString_(String(s.length));for(let c=0;c<s.length;c++)this.sendString_(s[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),vN=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[_l,dg]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=dg&&dg.isAvailable();let s=r&&!dg.previouslyFailed();if(t.webSocketOnly&&(r||us("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[dg];else{const c=this.transports_=[];for(const h of n.ALL_TRANSPORTS)h&&h.isAvailable()&&c.push(h);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class S1{constructor(e,t,r,s,c,h,m,y,T,N){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=c,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=y,this.onKill_=T,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yf("c:"+this.id+":"),this.transportManager_=new vN(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Ey(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=yy("t",e),r=yy("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=yy("t",e),r=yy("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=yy("t",e);if("d"in e){const r=e.d;if("h"===t){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?_y("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_y("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&us("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Ey(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ey(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class D1{put(e,t,r,s){}merge(e,t,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class R1{constructor(e){this.allowedEvents_=e,this.listeners_={},re(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const s=this.getInitialEvent(e);s&&t.apply(r,s)}off(e,t,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let c=0;c<s.length;c++)if(s[c].callback===t&&(!r||r===s[c].context))return void s.splice(c,1)}validateEventType_(e){re(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class db extends R1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!nn()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new db}getInitialEvent(e){return re("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class o{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function a(){return new o("")}function l(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function d(n){return n.pieces_.length-n.pieceNum_}function f(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new o(n.pieces_,e)}function _(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function S(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function V(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new o(e,0)}function H(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof o)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&t.push(r[s])}return new o(t,0)}function W(n){return n.pieceNum_>=n.pieces_.length}function ce(n,e){const t=l(n),r=l(e);if(null===t)return e;if(t===r)return ce(f(n),f(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function _e(n,e){const t=S(n,0),r=S(e,0);for(let s=0;s<t.length&&s<r.length;s++){const c=Ha(t[s],r[s]);if(0!==c)return c}return t.length===r.length?0:t.length<r.length?-1:1}function Fe(n,e){if(d(n)!==d(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function ot(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(d(n)>d(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class kt{constructor(e,t){this.errorPrefix_=t,this.parts_=S(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ui(this.parts_[r]);Un(this)}}function Un(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Gn(n))}function Gn(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Sr extends R1{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Sr}getInitialEvent(e){return re("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Zi=1e3;let M1,hg=(()=>{class n extends D1{constructor(t,r,s,c,h,m,y,T){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=s,this.onConnectStatus_=c,this.onServerInfoUpdate_=h,this.authTokenProvider_=m,this.appCheckTokenProvider_=y,this.authOverride_=T,this.id=n.nextPersistentConnectionId_++,this.log_=Yf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,T)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Sr.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&db.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,s){const c=++this.requestNumber_,h={r:c,a:t,b:r};this.log_(In(h)),re(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),s&&(this.requestCBHash_[c]=s)}get(t){this.initConnection_();const r=new Ye,c={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:m=>{const y=m.d;"ok"===m.s?r.resolve(y):r.reject(y)}};return this.outstandingGets_.push(c),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,s,c){this.initConnection_();const h=t._queryIdentifier,m=t._path.toString();this.log_("Listen called for "+m+" "+h),this.listens.has(m)||this.listens.set(m,new Map),re(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),re(!this.listens.get(m).has(h),"listen() called twice for same path/queryId.");const y={onComplete:c,hashFn:r,query:t,tag:s};this.listens.get(m).set(h,y),this.connected_&&this.sendListen_(y)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,s=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(s)})}sendListen_(t){const r=t.query,s=r._path.toString(),c=r._queryIdentifier;this.log_("Listen on "+s+" for "+c);const h={p:s};t.tag&&(h.q=r._queryObject,h.t=t.tag),h.h=t.hashFn(),this.sendRequest("q",h,y=>{const T=y.d,N=y.s;n.warnOnListenWarnings_(T,r),(this.listens.get(s)&&this.listens.get(s).get(c))===t&&(this.log_("listen response",y),"ok"!==N&&this.removeListen_(s,c),t.onComplete&&t.onComplete(N,T))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&et(t,"w")){const s=Gt(t,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const c='".indexOn": "'+r._queryParams.getIndex().toString()+'"',h=r._path.toString();us(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=St(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=St(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",s={cred:t};null===this.authOverride_?s.noauth=!0:"object"==typeof this.authOverride_&&(s.authvar=this.authOverride_),this.sendRequest(r,s,c=>{const h=c.s,m=c.d||"error";this.authToken_===t&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,s=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,s)})}unlisten(t,r){const s=t._path.toString(),c=t._queryIdentifier;this.log_("Unlisten called for "+s+" "+c),re(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,c)&&this.connected_&&this.sendUnlisten_(s,c,t._queryObject,r)}sendUnlisten_(t,r,s,c){this.log_("Unlisten on "+t+" for "+r);const h={p:t};c&&(h.q=s,h.t=c),this.sendRequest("n",h)}onDisconnectPut(t,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:s})}onDisconnectMerge(t,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:s})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,s,c){const h={p:r,d:s};this.log_("onDisconnect "+t,h),this.sendRequest(t,h,m=>{c&&setTimeout(()=>{c(m.s,m.d)},Math.floor(0))})}put(t,r,s,c){this.putInternal("p",t,r,s,c)}merge(t,r,s,c){this.putInternal("m",t,r,s,c)}putInternal(t,r,s,c,h){this.initConnection_();const m={p:r,d:s};void 0!==h&&(m.h=h),this.outstandingPuts_.push({action:t,request:m,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,s=this.outstandingPuts_[t].request,c=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,s,h=>{this.log_(r+" response",h),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(h.s,h.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,s=>{"ok"!==s.s&&this.log_("reportStats","Error sending stats: "+s.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+In(t));const r=t.r,s=this.requestCBHash_[r];s&&(delete this.requestCBHash_[r],s(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):_y("Unrecognized action received from server: "+In(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){re(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Zi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Zi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,X.A)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),s=t.onReady_.bind(t),c=t.onRealtimeDisconnect_.bind(t),h=t.id+":"+n.nextConnectionId_++,m=t.lastSessionId;let y=!1,T=null;const N=function(){T?T.close():(y=!0,c())};t.realtime_={close:N,sendRequest:function(ue){re(T,"sendRequest call when we're not connected not allowed."),T.sendRequest(ue)}};const q=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[ue,Se]=yield Promise.all([t.authTokenProvider_.getToken(q),t.appCheckTokenProvider_.getToken(q)]);y?To("getToken() completed but was canceled"):(To("getToken() completed. Creating connection."),t.authToken_=ue&&ue.accessToken,t.appCheckToken_=Se&&Se.token,T=new S1(h,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,s,c,ft=>{us(ft+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},m))}catch(ue){t.log_("Failed to get token: "+ue),y||(t.repoInfo_.nodeAdmin&&us(ue),N())}}})()}interrupt(t){To("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){To("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Bn(this.interruptReasons_)&&(this.reconnectDelay_=Zi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let s;s=r?r.map(h=>o1(h)).join("$"):"default";const c=this.removeListen_(t,s);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(t,r){const s=new o(t).toString();let c;if(this.listens.has(s)){const h=this.listens.get(s);c=h.get(r),h.delete(r),0===h.size&&this.listens.delete(s)}else c=void 0;return c}onAuthRevoked_(t,r){To("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){To("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+eb.replace(/\./g,"-")]=1,nn()?t["framework.cordova"]=1:fe()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=db.getInstance().currentlyOnline();return Bn(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Rr{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Rr(e,t)}}class x1{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Rr(gl,e),s=new Rr(gl,t);return 0!==this.compare(r,s)}minPost(){return Rr.MIN}}class w2 extends x1{static get __EMPTY_NODE(){return M1}static set __EMPTY_NODE(e){M1=e}compare(e,t){return Ha(e.name,t.name)}isDefinedOn(e){throw De("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Rr.MIN}maxPost(){return new Rr(ba,M1)}makePost(e,t){return re("string"==typeof e,"KeyIndex indexValue must always be a string."),new Rr(e,M1)}toString(){return".key"}}const qu=new w2;class k1{constructor(e,t,r,s,c=null){this.isReverse_=s,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!e.isEmpty();)if(h=t?r(e.key,t):1,s&&(h*=-1),h<0)e=this.isReverse_?e.left:e.right;else{if(0===h){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let AN,Vc=(()=>{class n{constructor(t,r,s,c,h){this.key=t,this.value=r,this.color=null!=s?s:n.RED,this.left=null!=c?c:qa.EMPTY_NODE,this.right=null!=h?h:qa.EMPTY_NODE}copy(t,r,s,c,h){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=c?c:this.left,null!=h?h:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let c=this;const h=s(t,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(t,r,s),null):0===h?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(t,r,s)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return qa.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let s,c;if(s=this,r(t,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(t,r),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),0===r(t,s.key)){if(s.right.isEmpty())return qa.EMPTY_NODE;c=s.right.min_(),s=s.copy(c.key,c.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(t,r))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class qa{constructor(e,t=qa.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new qa(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Vc.BLACK,null,null))}remove(e){return new qa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Vc.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,s=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(s=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new k1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new k1(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new k1(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new k1(this.root_,null,this.comparator_,!0,e)}}function qV(n,e){return Ha(n.name,e.name)}function TN(n,e){return Ha(n,e)}qa.EMPTY_NODE=new class WV{copy(e,t,r,s,c){return this}insert(e,t,r){return new Vc(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const T2=function(n){return"number"==typeof n?"number:"+s1(n):"string:"+n},A2=function(n){if(n.isLeafNode()){const e=n.val();re("string"==typeof e||"number"==typeof e||"object"==typeof e&&et(e,".sv"),"Priority must be a string or number.")}else re(n===AN||n.isEmpty(),"priority of unexpected type.");re(n===AN||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let S2,D2,R2,wy=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,re(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),A2(this.priorityNode_)}static set __childrenNodeConstructor(t){S2=t}static get __childrenNodeConstructor(){return S2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return W(t)?this:".priority"===l(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const s=l(t);return null===s?r:r.isEmpty()&&".priority"!==s?this:(re(".priority"!==s||1===d(t),".priority must be the last token in a path"),this.updateImmediateChild(s,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(f(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+T2(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?s1(this.value_):this.value_,this.lazyHash_=tN(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(re(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,s=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(r),h=n.VALUE_TYPE_ORDER.indexOf(s);return re(c>=0,"Unknown leaf type: "+r),re(h>=0,"Unknown leaf type: "+s),c===h?"object"===s?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:h-c}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ai=new class YV extends x1{compare(e,t){const r=e.node.getPriority(),s=t.node.getPriority(),c=r.compareTo(s);return 0===c?Ha(e.name,t.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Rr.MIN}maxPost(){return new Rr(ba,new wy("[PRIORITY-POST]",R2))}makePost(e,t){const r=D2(e);return new Rr(t,new wy("[PRIORITY-POST]",r))}toString(){return".priority"}},JV=Math.log(2);class ZV{constructor(e){this.count=parseInt(Math.log(e+1)/JV,10),this.current_=this.count-1;const s=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const N1=function(n,e,t,r){n.sort(e);const s=function(y,T){const N=T-y;let B,q;if(0===N)return null;if(1===N)return B=n[y],q=t?t(B):B,new Vc(q,B.node,Vc.BLACK,null,null);{const ue=parseInt(N/2,10)+y,Se=s(y,ue),ft=s(ue+1,T);return B=n[ue],q=t?t(B):B,new Vc(q,B.node,Vc.BLACK,Se,ft)}},m=function(y){let T=null,N=null,B=n.length;const q=function(Se,ft){const dt=B-Se,Zt=B;B-=Se;const ln=s(dt+1,Zt),Xt=n[dt],vn=t?t(Xt):Xt;ue(new Vc(vn,Xt.node,ft,null,ln))},ue=function(Se){T?(T.left=Se,T=Se):(N=Se,T=Se)};for(let Se=0;Se<y.count;++Se){const ft=y.nextBitIsOne(),dt=Math.pow(2,y.count-(Se+1));ft?q(dt,Vc.BLACK):(q(dt,Vc.BLACK),q(dt,Vc.RED))}return N}(new ZV(n.length));return new qa(r||e,m)};let SN;const Ty={};class lh{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return re(Ty&&Ai,"ChildrenNode.ts has not been loaded"),SN=SN||new lh({".priority":Ty},{".priority":Ai}),SN}get(e){const t=Gt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof qa?t:null}hasIndex(e){return et(this.indexSet_,e.toString())}addIndex(e,t){re(e!==qu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const c=t.getIterator(Rr.Wrap);let m,h=c.getNext();for(;h;)s=s||e.isDefinedOn(h.node),r.push(h),h=c.getNext();m=s?N1(r,e.getCompare()):Ty;const y=e.toString(),T=Object.assign({},this.indexSet_);T[y]=e;const N=Object.assign({},this.indexes_);return N[y]=m,new lh(N,T)}addToIndexes(e,t){const r=ir(this.indexes_,(s,c)=>{const h=Gt(this.indexSet_,c);if(re(h,"Missing index implementation for "+c),s===Ty){if(h.isDefinedOn(e.node)){const m=[],y=t.getIterator(Rr.Wrap);let T=y.getNext();for(;T;)T.name!==e.name&&m.push(T),T=y.getNext();return m.push(e),N1(m,h.getCompare())}return Ty}{const m=t.get(e.name);let y=s;return m&&(y=y.remove(new Rr(e.name,m))),y.insert(e,e.node)}});return new lh(r,this.indexSet_)}removeFromIndexes(e,t){const r=ir(this.indexes_,s=>{if(s===Ty)return s;{const c=t.get(e.name);return c?s.remove(new Rr(e.name,c)):s}});return new lh(r,this.indexSet_)}}let fb,fr=(()=>{class n{constructor(t,r,s){this.children_=t,this.priorityNode_=r,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&A2(this.priorityNode_),this.children_.isEmpty()&&re(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fb||(fb=new n(new qa(TN),null,lh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fb}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?fb:r}}getChild(t){const r=l(t);return null===r?this:this.getImmediateChild(r).getChild(f(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(re(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const s=new Rr(t,r);let c,h;r.isEmpty()?(c=this.children_.remove(t),h=this.indexMap_.removeFromIndexes(s,this.children_)):(c=this.children_.insert(t,r),h=this.indexMap_.addToIndexes(s,this.children_));const m=c.isEmpty()?fb:this.priorityNode_;return new n(c,m,h)}}updateChild(t,r){const s=l(t);if(null===s)return r;{re(".priority"!==l(t)||1===d(t),".priority must be the last token in a path");const c=this.getImmediateChild(s).updateChild(f(t),r);return this.updateImmediateChild(s,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let s=0,c=0,h=!0;if(this.forEachChild(Ai,(m,y)=>{r[m]=y.val(t),s++,h&&n.INTEGER_REGEXP_.test(m)?c=Math.max(c,Number(m)):h=!1}),!t&&h&&c<2*s){const m=[];for(const y in r)m[y]=r[y];return m}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+T2(this.getPriority().val())+":"),this.forEachChild(Ai,(r,s)=>{const c=s.hash();""!==c&&(t+=":"+r+":"+c)}),this.lazyHash_=""===t?"":tN(t)}return this.lazyHash_}getPredecessorChildName(t,r,s){const c=this.resolveIndex_(s);if(c){const h=c.getPredecessorKey(new Rr(t,r));return h?h.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const s=r.minKey();return s&&s.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Rr(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const s=r.maxKey();return s&&s.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Rr(r,this.children_.get(r)):null}forEachChild(t,r){const s=this.resolveIndex_(t);return s?s.inorderTraversal(c=>r(c.name,c.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const s=this.resolveIndex_(r);if(s)return s.getIteratorFrom(t,c=>c);{const c=this.children_.getIteratorFrom(t.name,Rr.Wrap);let h=c.peek();for(;null!=h&&r.compare(h,t)<0;)c.getNext(),h=c.peek();return c}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const s=this.resolveIndex_(r);if(s)return s.getReverseIteratorFrom(t,c=>c);{const c=this.children_.getReverseIteratorFrom(t.name,Rr.Wrap);let h=c.peek();for(;null!=h&&r.compare(h,t)>0;)c.getNext(),h=c.peek();return c}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===pb?-1:0}withIndex(t){if(t===qu||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===qu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const s=this.getIterator(Ai),c=r.getIterator(Ai);let h=s.getNext(),m=c.getNext();for(;h&&m;){if(h.name!==m.name||!h.node.equals(m.node))return!1;h=s.getNext(),m=c.getNext()}return null===h&&null===m}return!1}return!1}}resolveIndex_(t){return t===qu?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const pb=new class eU extends fr{constructor(){super(new qa(TN),fr.EMPTY_NODE,lh.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Rr,{MIN:{value:new Rr(gl,fr.EMPTY_NODE)},MAX:{value:new Rr(ba,pb)}}),w2.__EMPTY_NODE=fr.EMPTY_NODE,wy.__childrenNodeConstructor=fr,function KV(n){AN=n}(pb),function QV(n){R2=n}(pb);const tU=!0;function eo(n,e=null){if(null===n)return fr.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),re(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new wy(n,eo(e));if(n instanceof Array||!tU){let t=fr.EMPTY_NODE;return Lo(n,(r,s)=>{if(et(n,r)&&"."!==r.substring(0,1)){const c=eo(s);(c.isLeafNode()||!c.isEmpty())&&(t=t.updateImmediateChild(r,c))}}),t.updatePriority(eo(e))}{const t=[];let r=!1;if(Lo(n,(h,m)=>{if("."!==h.substring(0,1)){const y=eo(m);y.isEmpty()||(r=r||!y.getPriority().isEmpty(),t.push(new Rr(h,y)))}}),0===t.length)return fr.EMPTY_NODE;const c=N1(t,qV,h=>h.name,TN);if(r){const h=N1(t,Ai.getCompare());return new fr(c,eo(e),new lh({".priority":h},{".priority":Ai}))}return new fr(c,eo(e),lh.Default)}}!function XV(n){D2=n}(eo);class DN extends x1{constructor(e){super(),this.indexPath_=e,re(!W(e)&&".priority"!==l(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),s=this.extractChild(t.node),c=r.compareTo(s);return 0===c?Ha(e.name,t.name):c}makePost(e,t){const r=eo(e),s=fr.EMPTY_NODE.updateChild(this.indexPath_,r);return new Rr(t,s)}maxPost(){const e=fr.EMPTY_NODE.updateChild(this.indexPath_,pb);return new Rr(ba,e)}toString(){return S(this.indexPath_,0).join("/")}}const RN=new class nU extends x1{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Ha(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Rr.MIN}maxPost(){return Rr.MAX}makePost(e,t){const r=eo(e);return new Rr(t,r)}toString(){return".value"}};function P2(n){return{type:"value",snapshotNode:n}}function Ay(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function mb(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function gb(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class PN{constructor(e){this.index_=e}updateChild(e,t,r,s,c,h){re(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=e.getImmediateChild(t);return m.getChild(s).equals(r.getChild(s))&&m.isEmpty()===r.isEmpty()||(null!=h&&(r.isEmpty()?e.hasChild(t)?h.trackChildChange(mb(t,m)):re(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(Ay(t,r)):h.trackChildChange(gb(t,r,m))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Ai,(s,c)=>{t.hasChild(s)||r.trackChildChange(mb(s,c))}),t.isLeafNode()||t.forEachChild(Ai,(s,c)=>{if(e.hasChild(s)){const h=e.getImmediateChild(s);h.equals(c)||r.trackChildChange(gb(s,c,h))}else r.trackChildChange(Ay(s,c))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?fr.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class _b{constructor(e){this.indexedFilter_=new PN(e.getIndex()),this.index_=e.getIndex(),this.startPost_=_b.getStartPost_(e),this.endPost_=_b.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,s,c,h){return this.matches(new Rr(t,r))||(r=fr.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,s,c,h)}updateFullNode(e,t,r){t.isLeafNode()&&(t=fr.EMPTY_NODE);let s=t.withIndex(this.index_);s=s.updatePriority(fr.EMPTY_NODE);const c=this;return t.forEachChild(Ai,(h,m)=>{c.matches(new Rr(h,m))||(s=s.updateImmediateChild(h,fr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class iU{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new _b(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,s,c,h){return this.rangedFilter_.matches(new Rr(t,r))||(r=fr.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,s,c,h):this.fullLimitUpdateChild_(e,t,r,c,h)}updateFullNode(e,t,r){let s;if(t.isLeafNode()||t.isEmpty())s=fr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let c;s=fr.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const m=c.getNext();if(this.withinDirectionalStart(m)){if(!this.withinDirectionalEnd(m))break;s=s.updateImmediateChild(m.name,m.node),h++}}}else{let c;s=t.withIndex(this.index_),s=s.updatePriority(fr.EMPTY_NODE),c=this.reverse_?s.getReverseIterator(this.index_):s.getIterator(this.index_);let h=0;for(;c.hasNext();){const m=c.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:s=s.updateImmediateChild(m.name,fr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,s,c){let h;if(this.reverse_){const B=this.index_.getCompare();h=(q,ue)=>B(ue,q)}else h=this.index_.getCompare();const m=e;re(m.numChildren()===this.limit_,"");const y=new Rr(t,r),T=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),N=this.rangedFilter_.matches(y);if(m.hasChild(t)){const B=m.getImmediateChild(t);let q=s.getChildAfterChild(this.index_,T,this.reverse_);for(;null!=q&&(q.name===t||m.hasChild(q.name));)q=s.getChildAfterChild(this.index_,q,this.reverse_);const ue=null==q?1:h(q,y);if(N&&!r.isEmpty()&&ue>=0)return null!=c&&c.trackChildChange(gb(t,r,B)),m.updateImmediateChild(t,r);{null!=c&&c.trackChildChange(mb(t,B));const ft=m.updateImmediateChild(t,fr.EMPTY_NODE);return null!=q&&this.rangedFilter_.matches(q)?(null!=c&&c.trackChildChange(Ay(q.name,q.node)),ft.updateImmediateChild(q.name,q.node)):ft}}return r.isEmpty()?e:N&&h(T,y)>=0?(null!=c&&(c.trackChildChange(mb(T.name,T.node)),c.trackChildChange(Ay(t,r))),m.updateImmediateChild(t,r).updateImmediateChild(T.name,fr.EMPTY_NODE)):e}}class F1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ai}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return re(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return re(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gl}hasEnd(){return this.endSet_}getIndexEndValue(){return re(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return re(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ba}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return re(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ai}copy(){const e=new F1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function xN(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function MN(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function O1(n,e){const t=n.copy();return t.index_=e,t}function x2(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Ai?t="$priority":n.index_===RN?t="$value":n.index_===qu?t="$key":(re(n.index_ instanceof DN,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=In(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=In(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+In(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=In(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+In(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function M2(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Ai&&(e.i=n.index_.toString()),e}class L1 extends D1{constructor(e,t,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Yf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(re(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,s){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const h=L1.getListenId_(e,r),m={};this.listens_[h]=m;const y=x2(e._queryParams);this.restRequest_(c+".json",y,(T,N)=>{let B=N;if(404===T&&(B=null,T=null),null===T&&this.onDataUpdate_(c,B,!1,r),Gt(this.listens_,h)===m){let q;q=T?401===T?"permission_denied":"rest_error:"+T:"ok",s(q,null)}})}unlisten(e,t){const r=L1.getListenId_(e,t);delete this.listens_[r]}get(e){const t=x2(e._queryParams),r=e._path.toString(),s=new Ye;return this.restRequest_(r+".json",t,(c,h)=>{let m=h;404===c&&(m=null,c=null),null===c?(this.onDataUpdate_(r,m,!1,null),s.resolve(m)):s.reject(new Error(m))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,c])=>{s&&s.accessToken&&(t.auth=s.accessToken),c&&c.token&&(t.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ln(t);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&4===m.readyState){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let y=null;if(m.status>=200&&m.status<300){try{y=er(m.responseText)}catch{us("Failed to parse JSON response for "+h+": "+m.responseText)}r(null,y)}else 401!==m.status&&404!==m.status&&us("Got unsuccessful REST response for "+h+" Status: "+m.status),r(m.status);r=null}},m.open("GET",h,!0),m.send()})}}class uU{constructor(){this.rootNode_=fr.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function V1(){return{value:null,children:new Map}}function Sy(n,e,t){if(W(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=l(e);n.children.has(r)||n.children.set(r,V1()),Sy(n.children.get(r),e=f(e),t)}}function kN(n,e){if(W(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Ai,(r,s)=>{Sy(n,new o(r),s)}),kN(n,e)}}if(n.children.size>0){const t=l(e);return e=f(e),n.children.has(t)&&kN(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function NN(n,e,t){null!==n.value?t(e,n.value):function dU(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,s)=>{NN(s,new o(e.toString()+"/"+r),t)})}class hU{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Lo(this.last_,(r,s)=>{t[r]=t[r]-s}),this.last_=e,t}}class mU{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new hU(e);const r=1e4+2e4*Math.random();Ey(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Lo(e,(s,c)=>{c>0&&et(this.statsToReport_,s)&&(t[s]=c,r=!0)}),r&&this.server_.reportStats(t),Ey(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ku=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Ku||{});function LN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class U1{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Ku.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(W(this.path)){if(null!=this.affectedTree.value)return re(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new o(e));return new U1(a(),t,this.revert)}}return re(l(this.path)===e,"operationForChild called for unrelated child."),new U1(f(this.path),this.affectedTree,this.revert)}}class vb{constructor(e,t){this.source=e,this.path=t,this.type=Ku.LISTEN_COMPLETE}operationForChild(e){return W(this.path)?new vb(this.source,a()):new vb(this.source,f(this.path))}}class fg{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Ku.OVERWRITE}operationForChild(e){return W(this.path)?new fg(this.source,a(),this.snap.getImmediateChild(e)):new fg(this.source,f(this.path),this.snap)}}class Dy{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Ku.MERGE}operationForChild(e){if(W(this.path)){const t=this.children.subtree(new o(e));return t.isEmpty()?null:t.value?new fg(this.source,a(),t.value):new Dy(this.source,a(),t)}return re(l(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Dy(this.source,f(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Jf{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(W(e))return this.isFullyInitialized()&&!this.filtered_;const t=l(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class gU{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function yb(n,e,t,r,s,c){const h=r.filter(m=>m.type===t);h.sort((m,y)=>function yU(n,e,t){if(null==e.childName||null==t.childName)throw De("Should only compare child_ events.");const r=new Rr(e.childName,e.snapshotNode),s=new Rr(t.childName,t.snapshotNode);return n.index_.compare(r,s)}(n,m,y)),h.forEach(m=>{const y=function vU(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,m,c);s.forEach(T=>{T.respondsTo(m.type)&&e.push(T.createEvent(y,n.query_))})})}function B1(n,e){return{eventCache:n,serverCache:e}}function Eb(n,e,t,r){return B1(new Jf(e,t,r),n.serverCache)}function N2(n,e,t,r){return B1(n.eventCache,new Jf(e,t,r))}function z1(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function pg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let VN;class Si{constructor(e,t=(()=>(VN||(VN=new qa(i1)),VN))()){this.value=e,this.children=t}static fromObject(e){let t=new Si(null);return Lo(e,(r,s)=>{t=t.set(new o(r),s)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:a(),value:this.value};if(W(e))return null;{const r=l(e),s=this.children.get(r);if(null!==s){const c=s.findRootMostMatchingPathAndValue(f(e),t);return null!=c?{path:H(new o(r),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(W(e))return this;{const t=l(e),r=this.children.get(t);return null!==r?r.subtree(f(e)):new Si(null)}}set(e,t){if(W(e))return new Si(t,this.children);{const r=l(e),c=(this.children.get(r)||new Si(null)).set(f(e),t),h=this.children.insert(r,c);return new Si(this.value,h)}}remove(e){if(W(e))return this.children.isEmpty()?new Si(null):new Si(null,this.children);{const t=l(e),r=this.children.get(t);if(r){const s=r.remove(f(e));let c;return c=s.isEmpty()?this.children.remove(t):this.children.insert(t,s),null===this.value&&c.isEmpty()?new Si(null):new Si(this.value,c)}return this}}get(e){if(W(e))return this.value;{const t=l(e),r=this.children.get(t);return r?r.get(f(e)):null}}setTree(e,t){if(W(e))return t;{const r=l(e),c=(this.children.get(r)||new Si(null)).setTree(f(e),t);let h;return h=c.isEmpty()?this.children.remove(r):this.children.insert(r,c),new Si(this.value,h)}}fold(e){return this.fold_(a(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((s,c)=>{r[s]=c.fold_(H(e,s),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,a(),t)}findOnPath_(e,t,r){const s=!!this.value&&r(t,this.value);if(s)return s;if(W(e))return null;{const c=l(e),h=this.children.get(c);return h?h.findOnPath_(f(e),H(t,c),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,a(),t)}foreachOnPath_(e,t,r){if(W(e))return this;{this.value&&r(t,this.value);const s=l(e),c=this.children.get(s);return c?c.foreachOnPath_(f(e),H(t,s),r):new Si(null)}}foreach(e){this.foreach_(a(),e)}foreach_(e,t){this.children.inorderTraversal((r,s)=>{s.foreach_(H(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Uc{constructor(e){this.writeTree_=e}static empty(){return new Uc(new Si(null))}}function Ib(n,e,t){if(W(e))return new Uc(new Si(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const s=r.path;let c=r.value;const h=ce(s,e);return c=c.updateChild(h,t),new Uc(n.writeTree_.set(s,c))}{const s=new Si(t),c=n.writeTree_.setTree(e,s);return new Uc(c)}}}function UN(n,e,t){let r=n;return Lo(t,(s,c)=>{r=Ib(r,H(e,s),c)}),r}function F2(n,e){if(W(e))return Uc.empty();{const t=n.writeTree_.setTree(e,new Si(null));return new Uc(t)}}function BN(n,e){return null!=mg(n,e)}function mg(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ce(t.path,e)):null}function O2(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ai,(r,s)=>{e.push(new Rr(r,s))}):n.writeTree_.children.inorderTraversal((r,s)=>{null!=s.value&&e.push(new Rr(r,s.value))}),e}function Zf(n,e){if(W(e))return n;{const t=mg(n,e);return new Uc(null!=t?new Si(t):n.writeTree_.subtree(e))}}function zN(n){return n.writeTree_.isEmpty()}function Ry(n,e){return L2(a(),n.writeTree_,e)}function L2(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((s,c)=>{".priority"===s?(re(null!==c.value,"Priority writes must always be leaf nodes"),r=c.value):t=L2(H(n,s),c,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(H(n,".priority"),r)),t}}function j1(n,e){return j2(e,n)}function TU(n,e){if(n.snap)return ot(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ot(H(n.path,t),e))return!0;return!1}function SU(n){return n.visible}function V2(n,e,t){let r=Uc.empty();for(let s=0;s<n.length;++s){const c=n[s];if(e(c)){const h=c.path;let m;if(c.snap)ot(t,h)?(m=ce(t,h),r=Ib(r,m,c.snap)):ot(h,t)&&(m=ce(h,t),r=Ib(r,a(),c.snap.getChild(m)));else{if(!c.children)throw De("WriteRecord should have .snap or .children");if(ot(t,h))m=ce(t,h),r=UN(r,m,c.children);else if(ot(h,t))if(m=ce(h,t),W(m))r=UN(r,a(),c.children);else{const y=Gt(c.children,l(m));if(y){const T=y.getChild(f(m));r=Ib(r,a(),T)}}}}}return r}function U2(n,e,t,r,s){if(r||s){const c=Zf(n.visibleWrites,e);return!s&&zN(c)?t:s||null!=t||BN(c,a())?Ry(V2(n.allWrites,function(T){return(T.visible||s)&&(!r||!~r.indexOf(T.writeId))&&(ot(T.path,e)||ot(e,T.path))},e),t||fr.EMPTY_NODE):null}{const c=mg(n.visibleWrites,e);if(null!=c)return c;{const h=Zf(n.visibleWrites,e);return zN(h)?t:null!=t||BN(h,a())?Ry(h,t||fr.EMPTY_NODE):null}}}function $1(n,e,t,r){return U2(n.writeTree,n.treePath,e,t,r)}function jN(n,e){return function DU(n,e,t){let r=fr.EMPTY_NODE;const s=mg(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ai,(c,h)=>{r=r.updateImmediateChild(c,h)}),r;if(t){const c=Zf(n.visibleWrites,e);return t.forEachChild(Ai,(h,m)=>{const y=Ry(Zf(c,new o(h)),m);r=r.updateImmediateChild(h,y)}),O2(c).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}return O2(Zf(n.visibleWrites,e)).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}(n.writeTree,n.treePath,e)}function B2(n,e,t,r){return function RU(n,e,t,r,s){re(r||s,"Either existingEventSnap or existingServerSnap must exist");const c=H(e,t);if(BN(n.visibleWrites,c))return null;{const h=Zf(n.visibleWrites,c);return zN(h)?s.getChild(t):Ry(h,s.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function H1(n,e){return function xU(n,e){return mg(n.visibleWrites,e)}(n.writeTree,H(n.treePath,e))}function $N(n,e,t){return function PU(n,e,t,r){const s=H(e,t),c=mg(n.visibleWrites,s);return null!=c?c:r.isCompleteForChild(t)?Ry(Zf(n.visibleWrites,s),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function z2(n,e){return j2(H(n.treePath,e),n.writeTree)}function j2(n,e){return{treePath:n,writeTree:e}}class FU{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;re("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),re(".priority"!==r,"Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const c=s.type;if("child_added"===t&&"child_removed"===c)this.changeMap.set(r,gb(r,e.snapshotNode,s.snapshotNode));else if("child_removed"===t&&"child_added"===c)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===c)this.changeMap.set(r,mb(r,s.oldSnap));else if("child_changed"===t&&"child_added"===c)this.changeMap.set(r,Ay(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==c)throw De("Illegal combination of changes: "+e+" occurred after "+s);this.changeMap.set(r,gb(r,e.snapshotNode,s.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const $2=new class OU{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class HN{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Jf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $N(this.writes_,e,r)}}getChildAfterChild(e,t,r){const s=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:pg(this.viewCache_),c=function NU(n,e,t,r,s,c){return function MU(n,e,t,r,s,c,h){let m;const y=Zf(n.visibleWrites,e),T=mg(y,a());if(null!=T)m=T;else{if(null==t)return[];m=Ry(y,t)}if(m=m.withIndex(h),m.isEmpty()||m.isLeafNode())return[];{const N=[],B=h.getCompare(),q=c?m.getReverseIteratorFrom(r,h):m.getIteratorFrom(r,h);let ue=q.getNext();for(;ue&&N.length<s;)0!==B(ue,r)&&N.push(ue),ue=q.getNext();return N}}(n.writeTree,n.treePath,e,t,r,s,c)}(this.writes_,s,t,1,r,e);return 0===c.length?null:c[0]}}function H2(n,e,t,r,s,c){const h=e.eventCache;if(null!=H1(r,t))return e;{let m,y;if(W(t))if(re(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const T=pg(e),B=jN(r,T instanceof fr?T:fr.EMPTY_NODE);m=n.filter.updateFullNode(e.eventCache.getNode(),B,c)}else{const T=$1(r,pg(e));m=n.filter.updateFullNode(e.eventCache.getNode(),T,c)}else{const T=l(t);if(".priority"===T){re(1===d(t),"Can't have a priority with additional path components");const N=h.getNode();y=e.serverCache.getNode();const B=B2(r,t,N,y);m=null!=B?n.filter.updatePriority(N,B):h.getNode()}else{const N=f(t);let B;if(h.isCompleteForChild(T)){y=e.serverCache.getNode();const q=B2(r,t,h.getNode(),y);B=null!=q?h.getNode().getImmediateChild(T).updateChild(N,q):h.getNode().getImmediateChild(T)}else B=$N(r,T,e.serverCache);m=null!=B?n.filter.updateChild(h.getNode(),T,B,N,s,c):h.getNode()}}return Eb(e,m,h.isFullyInitialized()||W(t),n.filter.filtersNodes())}}function G1(n,e,t,r,s,c,h,m){const y=e.serverCache;let T;const N=h?n.filter:n.filter.getIndexedFilter();if(W(t))T=N.updateFullNode(y.getNode(),r,null);else if(N.filtersNodes()&&!y.isFiltered()){const ue=y.getNode().updateChild(t,r);T=N.updateFullNode(y.getNode(),ue,null)}else{const ue=l(t);if(!y.isCompleteForPath(t)&&d(t)>1)return e;const Se=f(t),dt=y.getNode().getImmediateChild(ue).updateChild(Se,r);T=".priority"===ue?N.updatePriority(y.getNode(),dt):N.updateChild(y.getNode(),ue,dt,Se,$2,null)}const B=N2(e,T,y.isFullyInitialized()||W(t),N.filtersNodes());return H2(n,B,t,s,new HN(s,B,c),m)}function GN(n,e,t,r,s,c,h){const m=e.eventCache;let y,T;const N=new HN(s,e,c);if(W(t))T=n.filter.updateFullNode(e.eventCache.getNode(),r,h),y=Eb(e,T,!0,n.filter.filtersNodes());else{const B=l(t);if(".priority"===B)T=n.filter.updatePriority(e.eventCache.getNode(),r),y=Eb(e,T,m.isFullyInitialized(),m.isFiltered());else{const q=f(t),ue=m.getNode().getImmediateChild(B);let Se;if(W(q))Se=r;else{const ft=N.getCompleteChild(B);Se=null!=ft?".priority"===_(q)&&ft.getChild(V(q)).isEmpty()?ft:ft.updateChild(q,r):fr.EMPTY_NODE}y=ue.equals(Se)?e:Eb(e,n.filter.updateChild(m.getNode(),B,Se,q,N,h),m.isFullyInitialized(),n.filter.filtersNodes())}}return y}function G2(n,e){return n.eventCache.isCompleteForChild(e)}function W2(n,e,t){return t.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function WN(n,e,t,r,s,c,h,m){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let T,y=e;T=W(t)?r:new Si(null).setTree(t,r);const N=e.serverCache.getNode();return T.children.inorderTraversal((B,q)=>{if(N.hasChild(B)){const Se=W2(0,e.serverCache.getNode().getImmediateChild(B),q);y=G1(n,y,new o(B),Se,s,c,h,m)}}),T.children.inorderTraversal((B,q)=>{const ue=!e.serverCache.isCompleteForChild(B)&&null===q.value;if(!N.hasChild(B)&&!ue){const ft=W2(0,e.serverCache.getNode().getImmediateChild(B),q);y=G1(n,y,new o(B),ft,s,c,h,m)}}),y}class GU{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new PN(r.getIndex()),c=function oU(n){return n.loadsAllData()?new PN(n.getIndex()):n.hasLimit()?new iU(n):new _b(n)}(r);this.processor_=function LU(n){return{filter:n}}(c);const h=t.serverCache,m=t.eventCache,y=s.updateFullNode(fr.EMPTY_NODE,h.getNode(),null),T=c.updateFullNode(fr.EMPTY_NODE,m.getNode(),null),N=new Jf(y,h.isFullyInitialized(),s.filtersNodes()),B=new Jf(T,m.isFullyInitialized(),c.filtersNodes());this.viewCache_=B1(B,N),this.eventGenerator_=new gU(this.query_)}get query(){return this.query_}}function KU(n,e){const t=pg(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!W(e)&&!t.getImmediateChild(l(e)).isEmpty())?t.getChild(e):null}function q2(n){return 0===n.eventRegistrations_.length}function K2(n,e,t){const r=[];if(t){re(null==e,"A cancel should cancel all event registrations.");const s=n.query._path;n.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(t,s);h&&r.push(h)})}if(e){let s=[];for(let c=0;c<n.eventRegistrations_.length;++c){const h=n.eventRegistrations_[c];if(h.matches(e)){if(e.hasAnyCallback()){s=s.concat(n.eventRegistrations_.slice(c+1));break}}else s.push(h)}n.eventRegistrations_=s}else n.eventRegistrations_=[];return r}function X2(n,e,t,r){e.type===Ku.MERGE&&null!==e.source.queryId&&(re(pg(n.viewCache_),"We should always have a full cache before handling merges"),re(z1(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,c=function UU(n,e,t,r,s){const c=new FU;let h,m;if(t.type===Ku.OVERWRITE){const T=t;T.source.fromUser?h=GN(n,e,T.path,T.snap,r,s,c):(re(T.source.fromServer,"Unknown source."),m=T.source.tagged||e.serverCache.isFiltered()&&!W(T.path),h=G1(n,e,T.path,T.snap,r,s,m,c))}else if(t.type===Ku.MERGE){const T=t;T.source.fromUser?h=function zU(n,e,t,r,s,c,h){let m=e;return r.foreach((y,T)=>{const N=H(t,y);G2(e,l(N))&&(m=GN(n,m,N,T,s,c,h))}),r.foreach((y,T)=>{const N=H(t,y);G2(e,l(N))||(m=GN(n,m,N,T,s,c,h))}),m}(n,e,T.path,T.children,r,s,c):(re(T.source.fromServer,"Unknown source."),m=T.source.tagged||e.serverCache.isFiltered(),h=WN(n,e,T.path,T.children,r,s,m,c))}else if(t.type===Ku.ACK_USER_WRITE){const T=t;h=T.revert?function HU(n,e,t,r,s,c){let h;if(null!=H1(r,t))return e;{const m=new HN(r,e,s),y=e.eventCache.getNode();let T;if(W(t)||".priority"===l(t)){let N;if(e.serverCache.isFullyInitialized())N=$1(r,pg(e));else{const B=e.serverCache.getNode();re(B instanceof fr,"serverChildren would be complete if leaf node"),N=jN(r,B)}T=n.filter.updateFullNode(y,N,c)}else{const N=l(t);let B=$N(r,N,e.serverCache);null==B&&e.serverCache.isCompleteForChild(N)&&(B=y.getImmediateChild(N)),T=null!=B?n.filter.updateChild(y,N,B,f(t),m,c):e.eventCache.getNode().hasChild(N)?n.filter.updateChild(y,N,fr.EMPTY_NODE,f(t),m,c):y,T.isEmpty()&&e.serverCache.isFullyInitialized()&&(h=$1(r,pg(e)),h.isLeafNode()&&(T=n.filter.updateFullNode(T,h,c)))}return h=e.serverCache.isFullyInitialized()||null!=H1(r,a()),Eb(e,T,h,n.filter.filtersNodes())}}(n,e,T.path,r,s,c):function jU(n,e,t,r,s,c,h){if(null!=H1(s,t))return e;const m=e.serverCache.isFiltered(),y=e.serverCache;if(null!=r.value){if(W(t)&&y.isFullyInitialized()||y.isCompleteForPath(t))return G1(n,e,t,y.getNode().getChild(t),s,c,m,h);if(W(t)){let T=new Si(null);return y.getNode().forEachChild(qu,(N,B)=>{T=T.set(new o(N),B)}),WN(n,e,t,T,s,c,m,h)}return e}{let T=new Si(null);return r.foreach((N,B)=>{const q=H(t,N);y.isCompleteForPath(q)&&(T=T.set(N,y.getNode().getChild(q)))}),WN(n,e,t,T,s,c,m,h)}}(n,e,T.path,T.affectedTree,r,s,c)}else{if(t.type!==Ku.LISTEN_COMPLETE)throw De("Unknown operation type: "+t.type);h=function $U(n,e,t,r,s){const c=e.serverCache;return H2(n,N2(e,c.getNode(),c.isFullyInitialized()||W(t),c.isFiltered()),t,r,$2,s)}(n,e,t.path,r,c)}const y=c.getChanges();return function BU(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=z1(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&t.push(P2(z1(e)))}}(e,h,y),{viewCache:h,changes:y}}(n.processor_,s,e,t,r);return function VU(n,e){re(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),re(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),re(c.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,Q2(n,c.changes,c.viewCache.eventCache.getNode(),null)}function Q2(n,e,t,r){return function _U(n,e,t,r){const s=[],c=[];return e.forEach(h=>{"child_changed"===h.type&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(function rU(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(h.childName,h.snapshotNode))}),yb(n,s,"child_removed",e,r,t),yb(n,s,"child_added",e,r,t),yb(n,s,"child_moved",c,r,t),yb(n,s,"child_changed",e,r,t),yb(n,s,"value",e,r,t),s}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let W1,K1;class Y2{constructor(){this.views=new Map}}function qN(n,e,t,r){const s=e.source.queryId;if(null!==s){const c=n.views.get(s);return re(null!=c,"SyncTree gave us an op for an invalid query."),X2(c,e,t,r)}{let c=[];for(const h of n.views.values())c=c.concat(X2(h,e,t,r));return c}}function J2(n,e,t,r,s){const h=n.views.get(e._queryIdentifier);if(!h){let m=$1(t,s?r:null),y=!1;m?y=!0:r instanceof fr?(m=jN(t,r),y=!1):(m=fr.EMPTY_NODE,y=!1);const T=B1(new Jf(m,y,!1),new Jf(r,s,!1));return new GU(e,T)}return h}function Z2(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function ep(n,e){let t=null;for(const r of n.views.values())t=t||KU(r,e);return t}function eL(n,e){return e._queryParams.loadsAllData()?q1(n):n.views.get(e._queryIdentifier)}function tL(n,e){return null!=eL(n,e)}function tp(n){return null!=q1(n)}function q1(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let iB=1;class nL{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Si(null),this.pendingWriteTree_=function kU(){return{visibleWrites:Uc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function KN(n,e,t,r,s){return function IU(n,e,t,r,s){re(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:s}),s&&(n.visibleWrites=Ib(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,s),s?Py(n,new fg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function np(n,e,t=!1){const r=function bU(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function wU(n,e){const t=n.allWrites.findIndex(m=>m.writeId===e);re(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let s=r.visible,c=!1,h=n.allWrites.length-1;for(;s&&h>=0;){const m=n.allWrites[h];m.visible&&(h>=t&&TU(m,r.path)?s=!1:ot(r.path,m.path)&&(c=!0)),h--}return!!s&&(c?(function AU(n){n.visibleWrites=V2(n.allWrites,SU,a()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=F2(n.visibleWrites,r.path):Lo(r.children,y=>{n.visibleWrites=F2(n.visibleWrites,H(r.path,y))}),!0))}(n.pendingWriteTree_,e)){let c=new Si(null);return null!=r.snap?c=c.set(a(),!0):Lo(r.children,h=>{c=c.set(new o(h),!0)}),Py(n,new U1(r.path,c,t))}return[]}function Cb(n,e,t){return Py(n,new fg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function X1(n,e,t,r,s=!1){const c=e._path,h=n.syncPointTree_.get(c);let m=[];if(h&&("default"===e._queryIdentifier||tL(h,e))){const y=function tB(n,e,t,r){const s=e._queryIdentifier,c=[];let h=[];const m=tp(n);if("default"===s)for(const[y,T]of n.views.entries())h=h.concat(K2(T,t,r)),q2(T)&&(n.views.delete(y),T.query._queryParams.loadsAllData()||c.push(T.query));else{const y=n.views.get(s);y&&(h=h.concat(K2(y,t,r)),q2(y)&&(n.views.delete(s),y.query._queryParams.loadsAllData()||c.push(y.query)))}return m&&!tp(n)&&c.push(new(function JU(){return re(W1,"Reference.ts has not been loaded"),W1}())(e._repo,e._path)),{removed:c,events:h}}(h,e,t,r);(function ZU(n){return 0===n.views.size})(h)&&(n.syncPointTree_=n.syncPointTree_.remove(c));const T=y.removed;if(m=y.events,!s){const N=-1!==T.findIndex(q=>q._queryParams.loadsAllData()),B=n.syncPointTree_.findOnPath(c,(q,ue)=>tp(ue));if(N&&!B){const q=n.syncPointTree_.subtree(c);if(!q.isEmpty()){const ue=function dB(n){return n.fold((e,t,r)=>{if(t&&tp(t))return[q1(t)];{let s=[];return t&&(s=Z2(t)),Lo(r,(c,h)=>{s=s.concat(h)}),s}})}(q);for(let Se=0;Se<ue.length;++Se){const ft=ue[Se],dt=ft.query,Zt=sL(n,ft);n.listenProvider_.startListening(wb(dt),bb(n,dt),Zt.hashFn,Zt.onComplete)}}}!B&&T.length>0&&!r&&(N?n.listenProvider_.stopListening(wb(e),null):T.forEach(q=>{const ue=n.queryToTagMap.get(Y1(q));n.listenProvider_.stopListening(wb(q),ue)}))}!function hB(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const s=Y1(r),c=n.queryToTagMap.get(s);n.queryToTagMap.delete(s),n.tagToQueryMap.delete(c)}}}(n,T)}return m}function rL(n,e,t,r){const s=QN(n,r);if(null!=s){const c=YN(s),h=c.path,m=c.queryId,y=ce(h,e);return JN(n,h,new fg(LN(m),y,t))}return[]}function XN(n,e,t,r=!1){const s=e._path;let c=null,h=!1;n.syncPointTree_.foreachOnPath(s,(q,ue)=>{const Se=ce(q,s);c=c||ep(ue,Se),h=h||tp(ue)});let y,m=n.syncPointTree_.get(s);m?(h=h||tp(m),c=c||ep(m,a())):(m=new Y2,n.syncPointTree_=n.syncPointTree_.set(s,m)),null!=c?y=!0:(y=!1,c=fr.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((ue,Se)=>{const ft=ep(Se,a());ft&&(c=c.updateImmediateChild(ue,ft))}));const T=tL(m,e);if(!T&&!e._queryParams.loadsAllData()){const q=Y1(e);re(!n.queryToTagMap.has(q),"View does not exist, but we have a tag");const ue=function fB(){return iB++}();n.queryToTagMap.set(q,ue),n.tagToQueryMap.set(ue,q)}let B=function eB(n,e,t,r,s,c){const h=J2(n,e,r,s,c);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,h),function XU(n,e){n.eventRegistrations_.push(e)}(h,t),function QU(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ai,(c,h)=>{r.push(Ay(c,h))}),t.isFullyInitialized()&&r.push(P2(t.getNode())),Q2(n,r,t.getNode(),e)}(h,t)}(m,e,t,j1(n.pendingWriteTree_,s),c,y);if(!T&&!h&&!r){const q=eL(m,e);B=B.concat(function pB(n,e,t){const r=e._path,s=bb(n,e),c=sL(n,t),h=n.listenProvider_.startListening(wb(e),s,c.hashFn,c.onComplete),m=n.syncPointTree_.subtree(r);if(s)re(!tp(m.value),"If we're adding a query, it shouldn't be shadowed");else{const y=m.fold((T,N,B)=>{if(!W(T)&&N&&tp(N))return[q1(N).query];{let q=[];return N&&(q=q.concat(Z2(N).map(ue=>ue.query))),Lo(B,(ue,Se)=>{q=q.concat(Se)}),q}});for(let T=0;T<y.length;++T){const N=y[T];n.listenProvider_.stopListening(wb(N),bb(n,N))}}return h}(n,e,q))}return B}function Q1(n,e,t){const s=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(e,(h,m)=>{const T=ep(m,ce(h,e));if(T)return T});return U2(s,e,c,t,!0)}function Py(n,e){return iL(e,n.syncPointTree_,null,j1(n.pendingWriteTree_,a()))}function iL(n,e,t,r){if(W(n.path))return oL(n,e,t,r);{const s=e.get(a());null==t&&null!=s&&(t=ep(s,a()));let c=[];const h=l(n.path),m=n.operationForChild(h),y=e.children.get(h);if(y&&m){const T=t?t.getImmediateChild(h):null,N=z2(r,h);c=c.concat(iL(m,y,T,N))}return s&&(c=c.concat(qN(s,n,r,t))),c}}function oL(n,e,t,r){const s=e.get(a());null==t&&null!=s&&(t=ep(s,a()));let c=[];return e.children.inorderTraversal((h,m)=>{const y=t?t.getImmediateChild(h):null,T=z2(r,h),N=n.operationForChild(h);N&&(c=c.concat(oL(N,m,y,T)))}),s&&(c=c.concat(qN(s,n,r,t))),c}function sL(n,e){const t=e.query,r=bb(n,t);return{hashFn:()=>(function WU(n){return n.viewCache_.serverCache.getNode()}(e)||fr.EMPTY_NODE).hash(),onComplete:s=>{if("ok"===s)return r?function lB(n,e,t){const r=QN(n,t);if(r){const s=YN(r),c=s.path,h=s.queryId,m=ce(c,e);return JN(n,c,new vb(LN(h),m))}return[]}(n,t._path,r):function aB(n,e){return Py(n,new vb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const c=function l1(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(s,t);return X1(n,t,null,c)}}}}function bb(n,e){const t=Y1(e);return n.queryToTagMap.get(t)}function Y1(n){return n._path.toString()+"$"+n._queryIdentifier}function QN(n,e){return n.tagToQueryMap.get(e)}function YN(n){const e=n.indexOf("$");return re(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new o(n.substr(0,e))}}function JN(n,e,t){const r=n.syncPointTree_.get(e);return re(r,"Missing sync point for query tag that we're tracking"),qN(r,t,j1(n.pendingWriteTree_,e),null)}function wb(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function rB(){return re(K1,"Reference.ts has not been loaded"),K1}())(n._repo,n._path):n}class ZN{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new ZN(t)}node(){return this.node_}}class eF{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=H(this.path_,e);return new eF(this.syncTree_,t)}node(){return Q1(this.syncTree_,this.path_)}}const mB=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},aL=function(n,e,t){return n&&"object"==typeof n?(re(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?gB(n[".sv"],e,t):"object"==typeof n[".sv"]?_B(n[".sv"],e):void re(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},gB=function(n,e,t){if("timestamp"===n)return t.timestamp;re(!1,"Unexpected server value: "+n)},_B=function(n,e,t){n.hasOwnProperty("increment")||re(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&re(!1,"Unexpected increment value: "+r);const s=e.node();if(re(null!==s&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const h=s.getValue();return"number"!=typeof h?r:h+r},lL=function(n,e,t,r){return nF(e,new eF(t,n),r)},tF=function(n,e,t){return nF(n,new ZN(e),t)};function nF(n,e,t){const r=n.getPriority().val(),s=aL(r,e.getImmediateChild(".priority"),t);let c;if(n.isLeafNode()){const h=n,m=aL(h.getValue(),e,t);return m!==h.getValue()||s!==h.getPriority().val()?new wy(m,eo(s)):n}{const h=n;return c=h,s!==h.getPriority().val()&&(c=c.updatePriority(new wy(s))),h.forEachChild(Ai,(m,y)=>{const T=nF(y,e.getImmediateChild(m),t);T!==y&&(c=c.updateImmediateChild(m,T))}),c}}class rF{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function J1(n,e){let t=e instanceof o?e:new o(e),r=n,s=l(t);for(;null!==s;){const c=Gt(r.node.children,s)||{children:{},childCount:0};r=new rF(s,r,c),t=f(t),s=l(t)}return r}function gg(n){return n.node.value}function iF(n,e){n.node.value=e,oF(n)}function cL(n){return n.node.childCount>0}function Z1(n,e){Lo(n.node.children,(t,r)=>{e(new rF(t,n,r))})}function uL(n,e,t,r){t&&!r&&e(n),Z1(n,s=>{uL(s,e,!0,r)}),t&&r&&e(n)}function Tb(n){return new o(null===n.parent?n.name:Tb(n.parent)+"/"+n.name)}function oF(n){null!==n.parent&&function EB(n,e,t){const r=function vB(n){return void 0===gg(n)&&!cL(n)}(t),s=et(n.node.children,e);r&&s?(delete n.node.children[e],n.node.childCount--,oF(n)):!r&&!s&&(n.node.children[e]=t.node,n.node.childCount++,oF(n))}(n.parent,n.name,n)}const IB=/[\[\].#$\/\u0000-\u001F\u007F]/,CB=/[\[\].#$\u0000-\u001F\u007F]/,sF=10485760,eR=function(n){return"string"==typeof n&&0!==n.length&&!IB.test(n)},dL=function(n){return"string"==typeof n&&0!==n.length&&!CB.test(n)},Ab=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!vy(n)||n&&"object"==typeof n&&et(n,".sv")},Xu=function(n,e,t,r){r&&void 0===e||Sb(gr(n,"value"),e,t)},Sb=function(n,e,t){const r=t instanceof o?new kt(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Gn(r));if("function"==typeof e)throw new Error(n+"contains a function "+Gn(r)+" with contents = "+e.toString());if(vy(e))throw new Error(n+"contains "+e.toString()+" "+Gn(r));if("string"==typeof e&&e.length>sF/3&&ui(e)>sF)throw new Error(n+"contains a string greater than "+sF+" utf8 bytes "+Gn(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let s=!1,c=!1;if(Lo(e,(h,m)=>{if(".value"===h)s=!0;else if(".priority"!==h&&".sv"!==h&&(c=!0,!eR(h)))throw new Error(n+" contains an invalid key ("+h+") "+Gn(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Ut(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=ui(e),Un(n)})(r,h),Sb(n,m,r),function wt(n){const e=n.parts_.pop();n.byteLength_-=ui(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),s&&c)throw new Error(n+' contains ".value" child '+Gn(r)+" in addition to actual children.")}},hL=function(n,e,t,r){if(r&&void 0===e)return;const s=gr(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const c=[];Lo(e,(h,m)=>{const y=new o(h);if(Sb(s,m,H(t,y)),".priority"===_(y)&&!Ab(m))throw new Error(s+"contains an invalid value for '"+y.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(y)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const c=S(r);for(let h=0;h<c.length;h++)if((".priority"!==c[h]||h!==c.length-1)&&!eR(c[h]))throw new Error(n+"contains an invalid key ("+c[h]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(_e);let s=null;for(t=0;t<e.length;t++){if(r=e[t],null!==s&&ot(s,r))throw new Error(n+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,c)},aF=function(n,e,t){if(!t||void 0!==e){if(vy(e))throw new Error(gr(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ab(e))throw new Error(gr(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Db=function(n,e,t,r){if(!(r&&void 0===t||eR(t)))throw new Error(gr(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Rb=function(n,e,t,r){if(!(r&&void 0===t||dL(t)))throw new Error(gr(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},TB=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Rb(n,e,t,r)},oc=function(n,e){if(".info"===l(e))throw new Error(n+" failed = Can't modify data under /.info/")},fL=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!eR(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dL(n)}(t))throw new Error(gr(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class AB{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tR(n,e){let t=null;for(let r=0;r<e.length;r++){const s=e[r],c=s.getPath();null!==t&&!Fe(c,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:c}),t.events.push(s)}t&&n.eventLists_.push(t)}function pL(n,e,t){tR(n,t),mL(n,r=>Fe(r,e))}function vl(n,e,t){tR(n,t),mL(n,r=>ot(r,e)||ot(e,r))}function mL(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const s=n.eventLists_[r];s&&(e(s.path)?(SB(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function SB(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Lc&&To("event: "+t.toString()),lg(r)}}}const gL="repo_interrupt",DB=25;class RB{constructor(e,t,r,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new AB,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=V1(),this.transactionQueueTree_=new rF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function _L(n){const t=n.infoData_.getNode(new o(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Pb(n){return mB({timestamp:_L(n)})}function vL(n,e,t,r,s){n.dataUpdateCount++;const c=new o(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let h=[];if(s)if(r){const y=ir(t,T=>eo(T));h=function cB(n,e,t,r){const s=QN(n,r);if(s){const c=YN(s),h=c.path,m=c.queryId,y=ce(h,e),T=Si.fromObject(t);return JN(n,h,new Dy(LN(m),y,T))}return[]}(n.serverSyncTree_,c,y,s)}else{const y=eo(t);h=rL(n.serverSyncTree_,c,y,s)}else if(r){const y=ir(t,T=>eo(T));h=function sB(n,e,t){const r=Si.fromObject(t);return Py(n,new Dy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,c,y)}else{const y=eo(t);h=Cb(n.serverSyncTree_,c,y)}let m=c;h.length>0&&(m=My(n,c)),vl(n.eventQueue_,m,h)}function yL(n,e){lF(n,"connected",e),!1===e&&function NB(n){xy(n,"onDisconnectEvents");const e=Pb(n),t=V1();NN(n.onDisconnect_,a(),(s,c)=>{const h=lL(s,c,n.serverSyncTree_,e);Sy(t,s,h)});let r=[];NN(t,a(),(s,c)=>{r=r.concat(Cb(n.serverSyncTree_,s,c));const h=hF(n,s);My(n,h)}),n.onDisconnect_=V1(),vl(n.eventQueue_,a(),r)}(n)}function lF(n,e,t){const r=new o("/.info/"+e),s=eo(t);n.infoData_.updateSnapshot(r,s);const c=Cb(n.infoSyncTree_,r,s);vl(n.eventQueue_,r,c)}function nR(n){return n.nextWriteId_++}function cF(n,e,t,r,s){xy(n,"set",{path:e.toString(),value:t,priority:r});const c=Pb(n),h=eo(t,r),m=Q1(n.serverSyncTree_,e),y=tF(h,m,c),T=nR(n),N=KN(n.serverSyncTree_,e,y,T,!0);tR(n.eventQueue_,N),n.server_.put(e.toString(),h.val(!0),(q,ue)=>{const Se="ok"===q;Se||us("set at "+e+" failed: "+q);const ft=np(n.serverSyncTree_,T,!Se);vl(n.eventQueue_,e,ft),rp(0,s,q,ue)});const B=hF(n,e);My(n,B),vl(n.eventQueue_,B,[])}function FB(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,s)=>{"ok"===r&&kN(n.onDisconnect_,e),rp(0,t,r,s)})}function EL(n,e,t,r){const s=eo(t);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,h)=>{"ok"===c&&Sy(n.onDisconnect_,e,s),rp(0,r,c,h)})}function uF(n,e,t){let r;r=".info"===l(e._path)?X1(n.infoSyncTree_,e,t):X1(n.serverSyncTree_,e,t),pL(n.eventQueue_,e._path,r)}function IL(n){n.persistentConnection_&&n.persistentConnection_.interrupt(gL)}function xy(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),To(t,...e)}function rp(n,e,t,r){e&&lg(()=>{if("ok"===t)e(null);else{const s=(t||"error").toUpperCase();let c=s;r&&(c+=": "+r);const h=new Error(c);h.code=s,e(h)}})}function dF(n,e,t){return Q1(n.serverSyncTree_,e,t)||fr.EMPTY_NODE}function rR(n,e=n.transactionQueueTree_){if(e||iR(n,e),gg(e)){const t=bL(n,e);re(t.length>0,"Sending zero length transaction queue"),t.every(s=>0===s.status)&&function zB(n,e,t){const r=t.map(T=>T.currentWriteId),s=dF(n,e,r);let c=s;const h=s.hash();for(let T=0;T<t.length;T++){const N=t[T];re(0===N.status,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const B=ce(e,N.path);c=c.updateChild(B,N.currentOutputSnapshotRaw)}const m=c.val(!0),y=e;n.server_.put(y.toString(),m,T=>{xy(n,"transaction put response",{path:y.toString(),status:T});let N=[];if("ok"===T){const B=[];for(let q=0;q<t.length;q++)t[q].status=2,N=N.concat(np(n.serverSyncTree_,t[q].currentWriteId)),t[q].onComplete&&B.push(()=>t[q].onComplete(null,!0,t[q].currentOutputSnapshotResolved)),t[q].unwatcher();iR(n,J1(n.transactionQueueTree_,e)),rR(n,n.transactionQueueTree_),vl(n.eventQueue_,e,N);for(let q=0;q<B.length;q++)lg(B[q])}else{if("datastale"===T)for(let B=0;B<t.length;B++)t[B].status=3===t[B].status?4:0;else{us("transaction at "+y.toString()+" failed: "+T);for(let B=0;B<t.length;B++)t[B].status=4,t[B].abortReason=T}My(n,e)}},h)}(n,Tb(e),t)}else cL(e)&&Z1(e,t=>{rR(n,t)})}function My(n,e){const t=CL(n,e),r=Tb(t);return function jB(n,e,t){if(0===e.length)return;const r=[];let s=[];const h=e.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<e.length;m++){const y=e[m],T=ce(t,y.path);let B,N=!1;if(re(null!==T,"rerunTransactionsUnderNode_: relativePath should not be null."),4===y.status)N=!0,B=y.abortReason,s=s.concat(np(n.serverSyncTree_,y.currentWriteId,!0));else if(0===y.status)if(y.retryCount>=DB)N=!0,B="maxretry",s=s.concat(np(n.serverSyncTree_,y.currentWriteId,!0));else{const q=dF(n,y.path,h);y.currentInputSnapshot=q;const ue=e[m].update(q.val());if(void 0!==ue){Sb("transaction failed: Data returned ",ue,y.path);let Se=eo(ue);"object"==typeof ue&&null!=ue&&et(ue,".priority")||(Se=Se.updatePriority(q.getPriority()));const dt=y.currentWriteId,Zt=Pb(n),ln=tF(Se,q,Zt);y.currentOutputSnapshotRaw=Se,y.currentOutputSnapshotResolved=ln,y.currentWriteId=nR(n),h.splice(h.indexOf(dt),1),s=s.concat(KN(n.serverSyncTree_,y.path,ln,y.currentWriteId,y.applyLocally)),s=s.concat(np(n.serverSyncTree_,dt,!0))}else N=!0,B="nodata",s=s.concat(np(n.serverSyncTree_,y.currentWriteId,!0))}vl(n.eventQueue_,t,s),s=[],N&&(e[m].status=2,setTimeout(e[m].unwatcher,Math.floor(0)),e[m].onComplete&&r.push("nodata"===B?()=>e[m].onComplete(null,!1,e[m].currentInputSnapshot):()=>e[m].onComplete(new Error(B),!1,null)))}iR(n,n.transactionQueueTree_);for(let m=0;m<r.length;m++)lg(r[m]);rR(n,n.transactionQueueTree_)}(n,bL(n,t),r),r}function CL(n,e){let t,r=n.transactionQueueTree_;for(t=l(e);null!==t&&void 0===gg(r);)r=J1(r,t),t=l(e=f(e));return r}function bL(n,e){const t=[];return wL(n,e,t),t.sort((r,s)=>r.order-s.order),t}function wL(n,e,t){const r=gg(e);if(r)for(let s=0;s<r.length;s++)t.push(r[s]);Z1(e,s=>{wL(n,s,t)})}function iR(n,e){const t=gg(e);if(t){let r=0;for(let s=0;s<t.length;s++)2!==t[s].status&&(t[r]=t[s],r++);t.length=r,iF(e,t.length>0?t:void 0)}Z1(e,r=>{iR(n,r)})}function hF(n,e){const t=Tb(CL(n,e)),r=J1(n.transactionQueueTree_,e);return function yB(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,s=>{fF(n,s)}),fF(n,r),uL(r,s=>{fF(n,s)}),t}function fF(n,e){const t=gg(e);if(t){const r=[];let s=[],c=-1;for(let h=0;h<t.length;h++)3===t[h].status||(1===t[h].status?(re(c===h-1,"All SENT items should be at beginning of queue."),c=h,t[h].status=3,t[h].abortReason="set"):(re(0===t[h].status,"Unexpected transaction status in abort"),t[h].unwatcher(),s=s.concat(np(n.serverSyncTree_,t[h].currentWriteId,!0)),t[h].onComplete&&r.push(t[h].onComplete.bind(null,new Error("set"),!1,null))));-1===c?iF(e,void 0):t.length=c+1,vl(n.eventQueue_,Tb(e),s);for(let h=0;h<r.length;h++)lg(r[h])}}const pF=function(n,e){const t=GB(n),r=t.namespace;return"firebase.com"===t.domain&&ic(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&ic("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&us("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Cy(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new o(t.pathString)}},GB=function(n){let e="",t="",r="",s="",c="",h=!0,m="https",y=443;if("string"==typeof n){let T=n.indexOf("//");T>=0&&(m=n.substring(0,T-1),n=n.substring(T+2));let N=n.indexOf("/");-1===N&&(N=n.length);let B=n.indexOf("?");-1===B&&(B=n.length),e=n.substring(0,Math.min(N,B)),N<B&&(s=function $B(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let s=t[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}(n.substring(N,B)));const q=function HB(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):us(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,B)));T=e.indexOf(":"),T>=0?(h="https"===m||"wss"===m,y=parseInt(e.substring(T+1),10)):T=e.length;const ue=e.slice(0,T);if("localhost"===ue.toLowerCase())t="localhost";else if(ue.split(".").length<=2)t=ue;else{const Se=e.indexOf(".");r=e.substring(0,Se).toLowerCase(),t=e.substring(Se+1),c=r}"ns"in q&&(c=q.ns)}return{host:e,port:y,domain:t,subdomain:r,secure:h,scheme:m,pathString:s,namespace:c}},TL="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",WB=function(){let n=0;const e=[];return function(t){const r=t===n;let s;n=t;const c=new Array(8);for(s=7;s>=0;s--)c[s]=TL.charAt(t%64),t=Math.floor(t/64);re(0===t,"Cannot push at time == 0");let h=c.join("");if(r){for(s=11;s>=0&&63===e[s];s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(64*Math.random());for(s=0;s<12;s++)h+=TL.charAt(e[s]);return re(20===h.length,"nextPushId: Length should be 20."),h}}();class AL{constructor(e,t,r,s){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+In(this.snapshot.exportVal())}}class SL{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class mF{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return re(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class DL{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new Ye;return FB(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){oc("OnDisconnect.remove",this._path);const e=new Ye;return EL(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){oc("OnDisconnect.set",this._path),Xu("OnDisconnect.set",e,this._path,!1);const t=new Ye;return EL(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){oc("OnDisconnect.setWithPriority",this._path),Xu("OnDisconnect.setWithPriority",e,this._path,!1),aF("OnDisconnect.setWithPriority",t,!1);const r=new Ye;return function OB(n,e,t,r,s){const c=eo(t,r);n.server_.onDisconnectPut(e.toString(),c.val(!0),(h,m)=>{"ok"===h&&Sy(n.onDisconnect_,e,c),rp(0,s,h,m)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){oc("OnDisconnect.update",this._path),hL("OnDisconnect.update",e,this._path,!1);const t=new Ye;return function LB(n,e,t,r){if(Bn(t))return To("onDisconnect().update() called with empty data.  Don't do anything."),void rp(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(s,c)=>{"ok"===s&&Lo(t,(h,m)=>{const y=eo(m);Sy(n.onDisconnect_,H(e,h),y)}),rp(0,r,s,c)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Ka{constructor(e,t,r,s){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=s}get key(){return W(this._path)?null:_(this._path)}get ref(){return new sc(this._repo,this._path)}get _queryIdentifier(){const e=M2(this._queryParams),t=o1(e);return"{}"===t?"default":t}get _queryObject(){return M2(this._queryParams)}isEqual(e){if(!((e=Mt(e))instanceof Ka))return!1;const t=this._repo===e._repo,r=Fe(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function w(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function oR(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function ip(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===qu){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==gl)throw new Error(r);if("string"!=typeof e)throw new Error(s)}if(n.hasEnd()){if(n.getIndexEndName()!==ba)throw new Error(r);if("string"!=typeof t)throw new Error(s)}}else if(n.getIndex()===Ai){if(null!=e&&!Ab(e)||null!=t&&!Ab(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(re(n.getIndex()instanceof DN||n.getIndex()===RN,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function sR(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class sc extends Ka{constructor(e,t){super(e,t,new F1,!1)}get parent(){const e=V(this._path);return null===e?null:new sc(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class _g{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new o(e),r=vg(this.ref,e);return new _g(this._node.getChild(t),r,Ai)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,s)=>e(new _g(s,vg(this.ref,r),Ai)))}hasChild(e){const t=new o(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function RL(n,e){return(n=Mt(n))._checkNotDeleted("ref"),void 0!==e?vg(n._root,e):n._root}function PL(n,e){(n=Mt(n))._checkNotDeleted("refFromURL");const t=pF(e,n._repo.repoInfo_.nodeAdmin);fL("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&ic("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),RL(n,t.path.toString())}function vg(n,e){return null===l((n=Mt(n))._path)?TB("child","path",e,!1):Rb("child","path",e,!1),new sc(n._repo,H(n._path,e))}function gF(n,e){n=Mt(n),oc("set",n._path),Xu("set",e,n._path,!1);const t=new Ye;return cF(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function YB(n,e){hL("update",e,n._path,!1);const t=new Ye;return function kB(n,e,t,r){xy(n,"update",{path:e.toString(),value:t});let s=!0;const c=Pb(n),h={};if(Lo(t,(m,y)=>{s=!1,h[m]=lL(H(e,m),eo(y),n.serverSyncTree_,c)}),s)To("update() called with empty data.  Don't do anything."),rp(0,r,"ok",void 0);else{const m=nR(n),y=function oB(n,e,t,r){!function CU(n,e,t,r){re(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=UN(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const s=Si.fromObject(t);return Py(n,new Dy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,s))}(n.serverSyncTree_,e,h,m);tR(n.eventQueue_,y),n.server_.merge(e.toString(),t,(T,N)=>{const B="ok"===T;B||us("update at "+e+" failed: "+T);const q=np(n.serverSyncTree_,m,!B),ue=q.length>0?My(n,e):e;vl(n.eventQueue_,ue,q),rp(0,r,T,N)}),Lo(t,T=>{const N=hF(n,H(e,T));My(n,N)}),vl(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function JB(n){n=Mt(n);const e=new mF(()=>{}),t=new xb(e);return function MB(n,e,t){const r=function uB(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(T,N)=>{const B=ce(T,t);r=r||ep(N,B)});let s=n.syncPointTree_.get(t);s?r=r||ep(s,a()):(s=new Y2,n.syncPointTree_=n.syncPointTree_.set(t,s));const c=null!=r,h=c?new Jf(r,!0,!1):null;return function qU(n){return z1(n.viewCache_)}(J2(s,e,j1(n.pendingWriteTree_,e._path),c?h.getNode():fr.EMPTY_NODE,c))}(n.serverSyncTree_,e);return null!=r?Promise.resolve(r):n.server_.get(e).then(s=>{const c=eo(s).withIndex(e._queryParams.getIndex());let h;if(XN(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())h=Cb(n.serverSyncTree_,e._path,c);else{const m=bb(n.serverSyncTree_,e);h=rL(n.serverSyncTree_,e._path,c,m)}return vl(n.eventQueue_,e._path,h),X1(n.serverSyncTree_,e,t,null,!0),c},s=>(xy(n,"get for query "+In(e)+" failed: "+s),Promise.reject(new Error(s))))}(n._repo,n,t).then(r=>new _g(r,new sc(n._repo,n._path),n._queryParams.getIndex()))}class xb{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new AL("value",this,new _g(e.snapshotNode,new sc(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new SL(this,e,t):null}matches(e){return e instanceof xb&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class aR{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new SL(this,e,t):null}createEvent(e,t){re(null!=e.childName,"Child events should have a childName.");const r=vg(new sc(t._repo,t._path),e.childName),s=t._queryParams.getIndex();return new AL(e.type,this,new _g(e.snapshotNode,r,s),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof aR&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Mb(n,e,t,r,s){let c;if("object"==typeof r&&(c=void 0,s=r),"function"==typeof r&&(c=r),s&&s.onlyOnce){const y=t,T=(N,B)=>{uF(n._repo,n,m),y(N,B)};T.userCallback=t.userCallback,T.context=t.context,t=T}const h=new mF(t,c||void 0),m="value"===e?new xb(h):new aR(e,h);return function VB(n,e,t){let r;r=".info"===l(e._path)?XN(n.infoSyncTree_,e,t):XN(n.serverSyncTree_,e,t),pL(n.eventQueue_,e._path,r)}(n._repo,n,m),()=>uF(n._repo,n,m)}function _F(n,e,t,r){return Mb(n,"value",e,t,r)}function xL(n,e,t,r){return Mb(n,"child_added",e,t,r)}function ML(n,e,t,r){return Mb(n,"child_changed",e,t,r)}function kL(n,e,t,r){return Mb(n,"child_moved",e,t,r)}function NL(n,e,t,r){return Mb(n,"child_removed",e,t,r)}function FL(n,e,t){let r=null;const s=t?new mF(t):null;"value"===e?r=new xb(s):e&&(r=new aR(e,s)),uF(n._repo,n,r)}class Bc{}class OL extends Bc{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){Xu("endAt",this._value,e._path,!0);const t=MN(e._queryParams,this._value,this._key);if(sR(t),ip(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ka(e._repo,e._path,t,e._orderByCalled)}}class e4 extends Bc{constructor(e,t){super(),this._value=e,this._key=t,this.type="endBefore"}_apply(e){Xu("endBefore",this._value,e._path,!1);const t=function cU(n,e,t){let r;return r=MN(n,e,n.index_===qu||t?t:gl),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(sR(t),ip(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ka(e._repo,e._path,t,e._orderByCalled)}}class LL extends Bc{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){Xu("startAt",this._value,e._path,!0);const t=xN(e._queryParams,this._value,this._key);if(sR(t),ip(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ka(e._repo,e._path,t,e._orderByCalled)}}class r4 extends Bc{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAfter"}_apply(e){Xu("startAfter",this._value,e._path,!1);const t=function lU(n,e,t){let r;return r=xN(n,e,n.index_===qu||t?t:ba),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(sR(t),ip(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ka(e._repo,e._path,t,e._orderByCalled)}}class o4 extends Bc{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ka(e._repo,e._path,function sU(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class a4 extends Bc{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ka(e._repo,e._path,function aU(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class c4 extends Bc{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){oR(e,"orderByChild");const t=new o(this._path);if(W(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new DN(t),s=O1(e._queryParams,r);return ip(s),new Ka(e._repo,e._path,s,!0)}}class d4 extends Bc{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){oR(e,"orderByKey");const t=O1(e._queryParams,qu);return ip(t),new Ka(e._repo,e._path,t,!0)}}class f4 extends Bc{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){oR(e,"orderByPriority");const t=O1(e._queryParams,Ai);return ip(t),new Ka(e._repo,e._path,t,!0)}}class m4 extends Bc{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){oR(e,"orderByValue");const t=O1(e._queryParams,RN);return ip(t),new Ka(e._repo,e._path,t,!0)}}class _4 extends Bc{constructor(e,t){super(),this._value=e,this._key=t,this.type="equalTo"}_apply(e){if(Xu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new OL(this._value,this._key)._apply(new LL(this._value,this._key)._apply(e))}}function zc(n,...e){let t=Mt(n);for(const r of e)t=r._apply(t);return t}(function YU(n){re(!W1,"__referenceConstructor has already been defined"),W1=n})(sc),function nB(n){re(!K1,"__referenceConstructor has already been defined"),K1=n}(sc);const vF={};function yF(n,e,t,r,s){let c=r||n.options.databaseURL;void 0===c&&(n.options.projectId||ic("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),To("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let y,T,h=pF(c,s),m=h.repoInfo;typeof process<"u"&&process.env&&(T=process.env.FIREBASE_DATABASE_EMULATOR_HOST),T?(y=!0,c=`http://${T}?ns=${m.namespace}`,h=pF(c,s),m=h.repoInfo):y=!h.repoInfo.secure;const N=s&&y?new Iy(Iy.OWNER):new sN(n.name,n.options,e);fL("Invalid Firebase Database URL",h),W(h.path)||ic("Database URL must point to the root of a Firebase Database (not including a child path).");const B=function C4(n,e,t,r){let s=vF[e.name];s||(s={},vF[e.name]=s);let c=s[n.toURLString()];return c&&ic("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new RB(n,false,t,r),s[n.toURLString()]=c,c}(m,n,N,new oN(n.name,t));return new w4(B,n)}class w4{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function PB(n,e,t){if(n.stats_=sb(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new L1(n.repoInfo_,(r,s,c,h)=>{vL(n,r,s,c,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>yL(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{In(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new hg(n.repoInfo_,e,(r,s,c,h)=>{vL(n,r,s,c,h)},r=>{yL(n,r)},r=>{!function xB(n,e){Lo(e,(t,r)=>{lF(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function m2(n,e){const t=n.toString();return g1[t]||(g1[t]=e()),g1[t]}(n.repoInfo_,()=>new mU(n.stats_,n.server_)),n.infoData_=new uU,n.infoSyncTree_=new nL({startListening:(r,s,c,h)=>{let m=[];const y=n.infoData_.getNode(r._path);return y.isEmpty()||(m=Cb(n.infoSyncTree_,r._path,y),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),lF(n,"connected",!1),n.serverSyncTree_=new nL({startListening:(r,s,c,h)=>(n.server_.listen(r,c,s,(m,y)=>{const T=h(m,y);vl(n.eventQueue_,r._path,T)}),[]),stopListening:(r,s)=>{n.server_.unlisten(r,s)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sc(this._repo,a())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function I4(n,e){const t=vF[e];(!t||t[n.key]!==n)&&ic(`Database ${e}(${n.repoInfo_}) has already been deleted.`),IL(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ic("Cannot call "+e+" on a deleted database.")}}function UL(){vN.IS_TRANSPORT_INITIALIZED&&us("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function T4(){UL(),_l.forceDisallow()}function A4(){UL(),dg.forceDisallow(),_l.forceAllow()}function R4(n,e){tb(n,e)}const x4={".sv":"timestamp"};class N4{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}hg.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},hg.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function P4(n){ZD(Cr),It(new ar("database",(e,{instanceIdentifier:t})=>yF(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),br(eN,"1.0.5",n),br(eN,"1.0.5","esm2017")}();const V4=new qn("@firebase/database-compat"),zL=function(n){V4.warn("FIREBASE WARNING: "+n)};class z4{constructor(e){this._delegate=e}cancel(e){jt("OnDisconnect.cancel",0,1,arguments.length),tr("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){jt("OnDisconnect.remove",0,1,arguments.length),tr("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){jt("OnDisconnect.set",1,2,arguments.length),tr("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),s=>t(s)),r}setWithPriority(e,t,r){jt("OnDisconnect.setWithPriority",2,3,arguments.length),tr("OnDisconnect.setWithPriority","onComplete",r,!0);const s=this._delegate.setWithPriority(e,t);return r&&s.then(()=>r(null),c=>r(c)),s}update(e,t){if(jt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const s={};for(let c=0;c<e.length;++c)s[""+c]=e[c];e=s,zL("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}tr("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),s=>t(s)),r}}class j4{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return jt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class op{constructor(e,t){this._database=e,this._delegate=t}val(){return jt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return jt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return jt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return jt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return jt("DataSnapshot.child",0,1,arguments.length),e=String(e),Rb("DataSnapshot.child","path",e,!1),new op(this._database,this._delegate.child(e))}hasChild(e){return jt("DataSnapshot.hasChild",1,1,arguments.length),Rb("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return jt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return jt("DataSnapshot.forEach",1,1,arguments.length),tr("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new op(this._database,t)))}hasChildren(){return jt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return jt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return jt("DataSnapshot.ref",0,0,arguments.length),new yl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ts{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,s){var c;jt("Query.on",2,4,arguments.length),tr("Query.on","callback",t,!1);const h=Ts.getCancelAndContextArgs_("Query.on",r,s),m=(T,N)=>{t.call(h.context,new op(this.database,T),N)};m.userCallback=t,m.context=h.context;const y=null===(c=h.cancel)||void 0===c?void 0:c.bind(h.context);switch(e){case"value":return _F(this._delegate,m,y),t;case"child_added":return xL(this._delegate,m,y),t;case"child_removed":return NL(this._delegate,m,y),t;case"child_changed":return ML(this._delegate,m,y),t;case"child_moved":return kL(this._delegate,m,y),t;default:throw new Error(gr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if(jt("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(gr("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),tr("Query.off","callback",t,!0),Vo("Query.off","context",r,!0),t){const s=()=>{};s.userCallback=t,s.context=r,FL(this._delegate,e,s)}else FL(this._delegate,e)}get(){return JB(this._delegate).then(e=>new op(this.database,e))}once(e,t,r,s){jt("Query.once",1,4,arguments.length),tr("Query.once","callback",t,!0);const c=Ts.getCancelAndContextArgs_("Query.once",r,s),h=new Ye,m=(T,N)=>{const B=new op(this.database,T);t&&t.call(c.context,B,N),h.resolve(B)};m.userCallback=t,m.context=c.context;const y=T=>{c.cancel&&c.cancel.call(c.context,T),h.reject(T)};switch(e){case"value":_F(this._delegate,m,y,{onlyOnce:!0});break;case"child_added":xL(this._delegate,m,y,{onlyOnce:!0});break;case"child_removed":NL(this._delegate,m,y,{onlyOnce:!0});break;case"child_changed":ML(this._delegate,m,y,{onlyOnce:!0});break;case"child_moved":kL(this._delegate,m,y,{onlyOnce:!0});break;default:throw new Error(gr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(e){return jt("Query.limitToFirst",1,1,arguments.length),new Ts(this.database,zc(this._delegate,function s4(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new o4(n)}(e)))}limitToLast(e){return jt("Query.limitToLast",1,1,arguments.length),new Ts(this.database,zc(this._delegate,function l4(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new a4(n)}(e)))}orderByChild(e){return jt("Query.orderByChild",1,1,arguments.length),new Ts(this.database,zc(this._delegate,function u4(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Rb("orderByChild","path",n,!1),new c4(n)}(e)))}orderByKey(){return jt("Query.orderByKey",0,0,arguments.length),new Ts(this.database,zc(this._delegate,function h4(){return new d4}()))}orderByPriority(){return jt("Query.orderByPriority",0,0,arguments.length),new Ts(this.database,zc(this._delegate,function p4(){return new f4}()))}orderByValue(){return jt("Query.orderByValue",0,0,arguments.length),new Ts(this.database,zc(this._delegate,function g4(){return new m4}()))}startAt(e=null,t){return jt("Query.startAt",0,2,arguments.length),new Ts(this.database,zc(this._delegate,function n4(n=null,e){return Db("startAt","key",e,!0),new LL(n,e)}(e,t)))}startAfter(e=null,t){return jt("Query.startAfter",0,2,arguments.length),new Ts(this.database,zc(this._delegate,function i4(n,e){return Db("startAfter","key",e,!0),new r4(n,e)}(e,t)))}endAt(e=null,t){return jt("Query.endAt",0,2,arguments.length),new Ts(this.database,zc(this._delegate,function ZB(n,e){return Db("endAt","key",e,!0),new OL(n,e)}(e,t)))}endBefore(e=null,t){return jt("Query.endBefore",0,2,arguments.length),new Ts(this.database,zc(this._delegate,function t4(n,e){return Db("endBefore","key",e,!0),new e4(n,e)}(e,t)))}equalTo(e,t){return jt("Query.equalTo",1,2,arguments.length),new Ts(this.database,zc(this._delegate,function v4(n,e){return Db("equalTo","key",e,!0),new _4(n,e)}(e,t)))}toString(){return jt("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return jt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(jt("Query.isEqual",1,1,arguments.length),!(e instanceof Ts))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const s={cancel:void 0,context:void 0};if(t&&r)s.cancel=t,tr(e,"cancel",s.cancel,!0),s.context=r,Vo(e,"context",s.context,!0);else if(t)if("object"==typeof t&&null!==t)s.context=t;else{if("function"!=typeof t)throw new Error(gr(e,"cancelOrContext")+" must either be a cancel callback or a context object.");s.cancel=t}return s}get ref(){return new yl(this.database,new sc(this._delegate._repo,this._delegate._path))}}class yl extends Ts{constructor(e,t){super(e,new Ka(t._repo,t._path,new F1,!1)),this.database=e,this._delegate=t}getKey(){return jt("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return jt("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new yl(this.database,vg(this._delegate,e))}getParent(){jt("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new yl(this.database,e):null}getRoot(){return jt("Reference.root",0,0,arguments.length),new yl(this.database,this._delegate.root)}set(e,t){jt("Reference.set",1,2,arguments.length),tr("Reference.set","onComplete",t,!0);const r=gF(this._delegate,e);return t&&r.then(()=>t(null),s=>t(s)),r}update(e,t){if(jt("Reference.update",1,2,arguments.length),Array.isArray(e)){const s={};for(let c=0;c<e.length;++c)s[""+c]=e[c];e=s,zL("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}oc("Reference.update",this._delegate._path),tr("Reference.update","onComplete",t,!0);const r=YB(this._delegate,e);return t&&r.then(()=>t(null),s=>t(s)),r}setWithPriority(e,t,r){jt("Reference.setWithPriority",2,3,arguments.length),tr("Reference.setWithPriority","onComplete",r,!0);const s=function QB(n,e,t){if(oc("setWithPriority",n._path),Xu("setWithPriority",e,n._path,!1),aF("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new Ye;return cF(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&s.then(()=>r(null),c=>r(c)),s}remove(e){jt("Reference.remove",0,1,arguments.length),tr("Reference.remove","onComplete",e,!0);const t=function KB(n){return oc("remove",n._path),gF(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){jt("Reference.transaction",1,3,arguments.length),tr("Reference.transaction","transactionUpdate",e,!1),tr("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error(gr("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const s=function F4(n,e,t){var r;if(n=Mt(n),oc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const s=null===(r=null==t?void 0:t.applyLocally)||void 0===r||r,c=new Ye,m=_F(n,()=>{});return function BB(n,e,t,r,s,c){xy(n,"transaction on "+e);const h={path:e,update:t,onComplete:r,status:null,order:e1(),applyLocally:c,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=dF(n,e,void 0);h.currentInputSnapshot=m;const y=h.update(m.val());if(void 0===y)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{Sb("transaction failed: Data returned ",y,h.path),h.status=0;const T=J1(n.transactionQueueTree_,e),N=gg(T)||[];let B;N.push(h),iF(T,N),"object"==typeof y&&null!==y&&et(y,".priority")?(B=Gt(y,".priority"),re(Ab(B),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):B=(Q1(n.serverSyncTree_,e)||fr.EMPTY_NODE).getPriority().val();const q=Pb(n),ue=eo(y,B),Se=tF(ue,m,q);h.currentOutputSnapshotRaw=ue,h.currentOutputSnapshotResolved=Se,h.currentWriteId=nR(n);const ft=KN(n.serverSyncTree_,e,Se,h.currentWriteId,h.applyLocally);vl(n.eventQueue_,e,ft),rR(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(y,T,N)=>{let B=null;y?c.reject(y):(B=new _g(N,new sc(n._repo,n._path),Ai),c.resolve(new N4(T,B)))},m,s),c.promise}(this._delegate,e,{applyLocally:r}).then(c=>new j4(c.committed,new op(this.database,c.snapshot)));return t&&s.then(c=>t(null,c.committed,c.snapshot),c=>t(c,!1,null)),s}setPriority(e,t){jt("Reference.setPriority",1,2,arguments.length),tr("Reference.setPriority","onComplete",t,!0);const r=function XB(n,e){n=Mt(n),oc("setPriority",n._path),aF("setPriority",e,!1);const t=new Ye;return cF(n._repo,H(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),s=>t(s)),r}push(e,t){jt("Reference.push",0,2,arguments.length),tr("Reference.push","onComplete",t,!0);const r=function qB(n,e){n=Mt(n),oc("push",n._path),Xu("push",e,n._path,!0);const t=_L(n._repo),r=WB(t),s=vg(n,r),c=vg(n,r);let h;return h=null!=e?gF(c,e).then(()=>c):Promise.resolve(c),s.then=h.then.bind(h),s.catch=h.then.bind(h,void 0),s}(this._delegate,e),s=r.then(h=>new yl(this.database,h));t&&s.then(()=>t(null),h=>t(h));const c=new yl(this.database,r);return c.then=s.then.bind(s),c.catch=s.catch.bind(s,void 0),c}onDisconnect(){return oc("Reference.onDisconnect",this._delegate._path),new z4(new DL(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class kb{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:T4,forceLongPolling:A4}}useEmulator(e,t,r={}){!function BL(n,e,t,r={}){(n=Mt(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ic("Cannot call useEmulator() after instance has already been initialized.");const s=n._repoInternal;let c;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&ic('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Iy(Iy.OWNER);else if(r.mockUserToken){const h="string"==typeof r.mockUserToken?r.mockUserToken:Pt(r.mockUserToken,n.app.options.projectId);c=new Iy(h)}!function E4(n,e,t,r){n.repoInfo_=new Cy(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(s,e,t,c)}(this._delegate,e,t,r)}ref(e){if(jt("database.ref",0,1,arguments.length),e instanceof yl){const t=PL(this._delegate,e.toString());return new yl(this,t)}{const t=RL(this._delegate,e);return new yl(this,t)}}refFromURL(e){jt("database.refFromURL",1,1,arguments.length);const r=PL(this._delegate,e);return new yl(this,r)}goOffline(){return jt("database.goOffline",0,0,arguments.length),function S4(n){(n=Mt(n))._checkNotDeleted("goOffline"),IL(n._repo)}(this._delegate)}goOnline(){return jt("database.goOnline",0,0,arguments.length),function D4(n){(n=Mt(n))._checkNotDeleted("goOnline"),function UB(n){n.persistentConnection_&&n.persistentConnection_.resume(gL)}(n._repo)}(this._delegate)}}kb.ServerValue={TIMESTAMP:function M4(){return x4}(),increment:n=>function k4(n){return{".sv":{increment:n}}}(n)};var H4=Object.freeze({__proto__:null,initStandalone:function $4({app:n,url:e,version:t,customAuthImpl:r,customAppCheckImpl:s,namespace:c,nodeAdmin:h=!1}){ZD(t);const m=new kr("database-standalone"),y=new ni("auth-internal",m);let T;return y.setComponent(new ar("auth-internal",()=>r,"PRIVATE")),s&&(T=new ni("app-check-internal",m),T.setComponent(new ar("app-check-internal",()=>s,"PRIVATE"))),{instance:new kb(yF(n,y,T,e,h),n),namespace:c}}});const G4=kb.ServerValue;!function W4(n){n.INTERNAL.registerComponent(new ar("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),s=e.getProvider("database").getImmediate({identifier:t});return new kb(s,r)},"PUBLIC").setServiceProps({Reference:yl,Query:Ts,Database:kb,DataSnapshot:op,enableLogging:R4,INTERNAL:H4,ServerValue:G4}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.5")}(yr);let ac=(()=>{var n;class e{constructor(r){this.toastController=r,this.unsavedChanges=!1}presentToast(r){var s=this;return(0,X.A)(function*(){(yield s.toastController.create({message:r,duration:3e3})).present()})()}}return(n=e).\u0275fac=function(r){return new(r||n)(u.KVO(M.K_))},n.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),ky=(()=>{var n;class e{constructor(r){this.generalService=r,this.arrayImmagine=[0],this.flyerCount=0,this.posterCount=0,this.vetrograficaCount=0,this.imagePlanCost=0,this.logoCost=0,this.imageCostUnaTantum=0,this.imageCostMonthly=0,this.managementCost=0,this.digitalizzazioneWebisteCostUnaTantum=0,this.digitalizzazioneAppCostUnaTantum=0,this.digitalizzazioneIotCostUnaTantum=0,this.digitalizzazioneWebsiteCostMonthly=0,this.digitalizzazioneAppCostMonthly=0,this.digitalizzazioneIotCostMonthly=0,this.digitalizzazioneUnaTantumCost=0,this.digitalizzazioneMonthlyCost=0,this.totalCostUnaTantum=0,this.totalCostMonthly=0,this.digitalizzazioneWebisteCostUnaTantum=0,this.digitalizzazioneWebsiteCostMonthly=0,this.digitalizzazioneAppCostUnaTantum=0,this.digitalizzazioneAppCostMonthly=0,this.digitalizzazioneIotCostUnaTantum=0,this.digitalizzazioneIotCostMonthly=0}refreshShoppingCart(){document.getElementById("image-selected-plan-shopping-cart-display").innerText=this.currentImageSelectedPlan,"Basic"==this.currentImageSelectedPlan?(document.getElementById("image-basic").style.display="flex",this.imagePlanCost=330):document.getElementById("image-basic").style.display="none","Standard"==this.currentImageSelectedPlan?(document.getElementById("image-standard").style.display="flex",this.imagePlanCost=430):document.getElementById("image-standard").style.display="none","Deluxe"==this.currentImageSelectedPlan?(document.getElementById("image-deluxe").style.display="flex",this.imagePlanCost=650):document.getElementById("image-deluxe").style.display="none",document.getElementById("shopping-cart-flyer-count").innerText=this.flyerCount+"",document.getElementById("shopping-cart-poster-count").innerText=this.posterCount+"",document.getElementById("shopping-cart-vetrografica-count").innerText=this.vetrograficaCount+"",document.getElementById("shopping-cart-image-logo-type").innerText=this.currentImageLogoType+"","Importato"==this.currentImageLogoType&&(this.logoCost=500),"Creato da 0"==this.currentImageLogoType&&(this.logoCost=1e3),this.imageCostUnaTantum=150*this.flyerCount+250*this.posterCount+350*this.vetrograficaCount+this.logoCost,document.getElementById("shopping-cart-image-cost-una-tantum-display").innerText=this.imageCostUnaTantum,document.getElementById("shopping-cart-image-cost-monthly-display").innerText=this.imagePlanCost,document.getElementById("management-selected-plan-shopping-cart-display").innerText=this.currentManagementSelectedPlan,"Basic"==this.currentManagementSelectedPlan?(document.getElementById("management-basic").style.display="flex",this.managementCost=300):(document.getElementById("management-basic").style.display="none",this.managementCost=0),"Standard"==this.currentManagementSelectedPlan?(document.getElementById("management-standard").style.display="flex",this.managementCost=500):(document.getElementById("management-standard").style.display="none",this.managementCost=0),"Deluxe"==this.currentManagementSelectedPlan?(document.getElementById("management-deluxe").style.display="flex",this.managementCost=1e3):(document.getElementById("management-deluxe").style.display="none",this.managementCost=0),document.getElementById("shopping-cart-management-cost-una-tantum-display").innerText=this.managementCost,"Basic"==this.currentDigitalizzazioneSelectedPlan?(document.getElementById("digitalizzazione-website-basic").style.display="flex",this.digitalizzazioneWebisteCostUnaTantum=650,this.digitalizzazioneWebsiteCostMonthly=50):document.getElementById("digitalizzazione-website-basic").style.display="none","Standard"==this.currentDigitalizzazioneSelectedPlan?(document.getElementById("digitalizzazione-website-standard").style.display="flex",this.digitalizzazioneWebisteCostUnaTantum=1e3,this.digitalizzazioneWebsiteCostMonthly=60):document.getElementById("digitalizzazione-website-standard").style.display="none","Deluxe"==this.currentDigitalizzazioneSelectedPlan?(document.getElementById("digitalizzazione-website-deluxe").style.display="flex",this.digitalizzazioneWebisteCostUnaTantum=2e3,this.digitalizzazioneWebsiteCostMonthly=100):document.getElementById("digitalizzazione-website-deluxe").style.display="none","Basic"==this.currentDigitalizzazioneAppSelectedPlan?(document.getElementById("digitalizzazione-app-basic").style.display="flex",this.digitalizzazioneAppCostUnaTantum=2e3,this.digitalizzazioneAppCostMonthly=90):document.getElementById("digitalizzazione-app-basic").style.display="none","Standard"==this.currentDigitalizzazioneAppSelectedPlan?(document.getElementById("digitalizzazione-app-standard").style.display="flex",this.digitalizzazioneAppCostUnaTantum=3e3,this.digitalizzazioneAppCostMonthly=150):document.getElementById("digitalizzazione-app-standard").style.display="none","Deluxe"==this.currentDigitalizzazioneAppSelectedPlan?(document.getElementById("digitalizzazione-app-deluxe").style.display="flex",this.digitalizzazioneAppCostUnaTantum=6e3,this.digitalizzazioneAppCostMonthly=250):document.getElementById("digitalizzazione-app-deluxe").style.display="none","Selected"==this.currentDigitalizzazioneSelectedIot?(document.getElementById("digitalizzazione-iot").style.display="flex",this.digitalizzazioneIotCostUnaTantum=2500,this.digitalizzazioneIotCostMonthly=100):document.getElementById("digitalizzazione-iot").style.display="none",this.digitalizzazioneUnaTantumCost=this.digitalizzazioneWebisteCostUnaTantum+this.digitalizzazioneAppCostUnaTantum+this.digitalizzazioneIotCostUnaTantum,this.digitalizzazioneMonthlyCost=this.digitalizzazioneWebsiteCostMonthly+this.digitalizzazioneAppCostMonthly+this.digitalizzazioneIotCostMonthly,document.getElementById("shopping-cart-digitalizzazione-cost-una-tantum-display").innerText=this.digitalizzazioneUnaTantumCost,document.getElementById("shopping-cart-digitalizzazione-cost-monthly-display").innerText=this.digitalizzazioneMonthlyCost,this.totalCostUnaTantum=this.digitalizzazioneUnaTantumCost+this.imageCostUnaTantum+this.managementCost,this.totalCostMonthly=this.digitalizzazioneMonthlyCost+this.imagePlanCost,document.getElementById("shopping-cart-total-cost-una-tantum-display").innerText=this.totalCostUnaTantum,document.getElementById("shopping-cart-total-cost-monthly-display").innerText=this.totalCostMonthly}}return(n=e).\u0275fac=function(r){return new(r||n)(u.KVO(ac))},n.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var Qu=ee(70);let q4=(()=>{var n;class e{constructor(){}ngOnInit(){}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=u.VBU({type:n,selectors:[["app-sidebar"]],decls:39,vars:0,consts:[[2,"width","18rem","height","100%","display","flex","pointer-events","all","z-index","999"],[2,"border-right","1px solid rgba(0, 0, 0, 0.156)","width","100%","height","100%","display","flex","flex-direction","column","align-items","center","padding-top","1rem"],[2,"width","100%","padding-left","1.5rem"],[2,"margin-bottom","0rem"],[2,"margin-top","0.5rem"],["routerLink","/home",1,"sidebar-button",2,"width","90%"],["name","home-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],["routerLink","/customers",1,"sidebar-button",2,"width","90%"],["name","people-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],["routerLink","/prospects",1,"sidebar-button",2,"width","90%"],[1,"material-symbols-outlined","notranslate",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],["routerLink","/alchemizzatore",1,"sidebar-button",2,"width","90%"],["name","add-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],[2,"flex","1"],["routerLink","/home",1,"sidebar-button",2,"width","90%","margin-bottom","1rem"],["name","log-out-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"]],template:function(r,s){1&r&&(u.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),u.EFF(4,"Name Surname"),u.k0s(),u.j41(5,"p",4),u.EFF(6,"myemail@email.com"),u.k0s()(),u.j41(7,"button",5),u.nrm(8,"ion-icon",6),u.j41(9,"ion-label"),u.EFF(10,"Home"),u.k0s()(),u.j41(11,"button",7),u.nrm(12,"ion-icon",8),u.j41(13,"ion-label"),u.EFF(14,"Clienti"),u.k0s()(),u.j41(15,"button",9)(16,"span",10),u.EFF(17,"group_add"),u.k0s(),u.j41(18,"ion-label"),u.EFF(19,"Prospect"),u.k0s()(),u.j41(20,"button",5)(21,"span",10),u.EFF(22,"style"),u.k0s(),u.j41(23,"ion-label"),u.EFF(24,"Moduli"),u.k0s()(),u.j41(25,"button",11)(26,"span",10),u.EFF(27,"science"),u.k0s(),u.j41(28,"ion-label"),u.EFF(29,"Alchemizzatore"),u.k0s()(),u.j41(30,"button",5),u.nrm(31,"ion-icon",12),u.j41(32,"ion-label"),u.EFF(33,"Aggiungi"),u.k0s()(),u.nrm(34,"div",13),u.j41(35,"button",14),u.nrm(36,"ion-icon",15),u.j41(37,"ion-label"),u.EFF(38,"Disconnetti"),u.k0s()()()())},dependencies:[M.iq,M.he,M.N7,Qu.Wk]}),e})(),K4=(()=>{var n;class e{constructor(){}ngOnInit(){}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=u.VBU({type:n,selectors:[["app-footer"]],decls:8,vars:0,consts:[[2,"display","flex","flex-direction","row","align-items","center","justify-content","space-between","height","3.5rem","width","100%","border-top","1px solid rgba(0, 0, 0, 0.156)","flex-shrink","0","padding-left","1.8rem","padding-right","1.8rem"],["routerLink","/home","name","home-outline",2,"font-size","1.7rem","color","black"],["routerLink","/customers","name","people-outline",2,"font-size","1.7rem","color","black"],["routerLink","/add","name","add-outline",2,"font-size","1.7rem","color","black"],["routerLink","/alchemizzatore",1,"material-symbols-outlined","notranslate",2,"font-size","1.7rem","color","black"]],template:function(r,s){1&r&&(u.j41(0,"div",0),u.nrm(1,"ion-icon",1)(2,"ion-icon",2)(3,"ion-icon",3),u.j41(4,"span",4),u.EFF(5,"style"),u.k0s(),u.j41(6,"span",4),u.EFF(7,"science"),u.k0s()())},dependencies:[M.iq,M.N7,Qu.Wk]}),e})(),X4=(()=>{var n;class e{constructor(){}ngOnInit(){}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=u.VBU({type:n,selectors:[["app-header"]],decls:7,vars:0,consts:[[2,"height","4rem","width","100%","display","flex","flex-direction","row","align-items","center","border-bottom","1px solid rgba(0, 0, 0, 0.156)","padding-left","1rem","padding-right","1rem"],[2,"flex","1"],[2,"height","100%","display","flex","flex-direction","row","align-items","center","gap","1rem"],["routerLink","/notifications",1,"material-symbols-outlined","notranslate",2,"font-size","2rem","color","#333","cursor","pointer"],["routerLink","/account",1,"material-symbols-outlined","notranslate",2,"font-size","2rem","color","#333","cursor","pointer"]],template:function(r,s){1&r&&(u.j41(0,"div",0),u.nrm(1,"div",1),u.j41(2,"div",2)(3,"span",3),u.EFF(4,"notifications"),u.k0s(),u.j41(5,"span",4),u.EFF(6,"account_circle"),u.k0s()()())},dependencies:[M.N7,Qu.Wk]}),e})(),Q4=(()=>{var n;class e{constructor(r,s,c){this.generalService=r,this.alchemizzatoreService=s,this.router=c}ngOnInit(){this.initFirebase(),yr.auth().onAuthStateChanged(r=>{r||this.router.navigate(["log"])})}sendMessage(){document.getElementById("second-message-assistenza-commerciale-text").innerText=document.getElementById("assistenza-commerciale-message-input").value,document.getElementById("second-message-assistenza-commerciale").style.display="flex",document.getElementById("assistenza-commerciale-message-input").value="",setTimeout(()=>{document.getElementById("response-message-assistenza-commerciale").style.display="flex"},5e3),setTimeout(()=>{document.getElementById("response2-message-assistenza-commerciale").style.display="flex"},3e4)}initFirebase(){yr.initializeApp({apiKey:"AIzaSyDhmuB3V1kjKMcDyUYEjHhKlF1IWyrNQC0",authDomain:"crm-db-d1c98.firebaseapp.com",projectId:"crm-db-d1c98",storageBucket:"crm-db-d1c98.appspot.com",messagingSenderId:"482658736148",appId:"1:482658736148:web:8a344f05677bc7d8402f01",measurementId:"G-FE068M0GFS"})}showConfirmCancel(){document.getElementById("prospect-dialog").style.display="flex"}hideConfirmCancel(){document.getElementById("prospect-dialog").style.display="none"}addProspect(){const r=yr.firestore(),s=document.getElementById("customer-info-ragione-sociale-input").value,c=document.getElementById("customer-info-partita-iva-input").value,h=document.getElementById("customer-info-referente-input").value,m=document.getElementById("customer-info-sito-web-input").value,y=document.getElementById("customer-info-instagram-input").value,T=document.getElementById("customer-info-indirizzo-input").value,N=document.getElementById("customer-info-telefono-input").value,B=document.getElementById("customer-info-email-input").value,q=document.getElementById("customer-info-pec-input").value,ue=document.getElementById("customer-info-settore-merceologico-input").value,Se=document.getElementById("customer-info-forma-giuridica-input").value,ft=document.getElementById("prospect-dialog-motivazione-input").value;r.collection("prospects").doc().set({ragione_sociale:s,partita_iva:c,referente:h,website:m,instagram:y,address:T,phone_number:N,email:B,pec:q,settore_merceologico:ue,forma_giuridica:Se,motivazione:ft,purchase:{digitalizzazione:{website_selected_plan:this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan,website_selected_plan_cost_una_tantum:this.alchemizzatoreService.digitalizzazioneWebisteCostUnaTantum,website_selected_plan_cost_montly:this.alchemizzatoreService.digitalizzazioneWebsiteCostMonthly,app_selected_plan:this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan,app_selected_plan_cost_una_tantum:this.alchemizzatoreService.digitalizzazioneAppCostUnaTantum,app_selected_plan_cost_montly:this.alchemizzatoreService.digitalizzazioneAppCostMonthly,iot_selected_plan:this.alchemizzatoreService.currentDigitalizzazioneSelectedIot,iot_selected_plan_cost_una_tantum:this.alchemizzatoreService.digitalizzazioneIotCostUnaTantum,iot_selected_plan_cost_montly:this.alchemizzatoreService.digitalizzazioneIotCostMonthly},management:{selected_plan:this.alchemizzatoreService.currentManagementSelectedPlan},contabilit\u00e0:{},immagine:{social_selected_plan:this.alchemizzatoreService.currentImageSelectedPlan,grafica:{flyer_count:this.alchemizzatoreService.flyerCount,poster_count:this.alchemizzatoreService.posterCount,vetrografica_count:this.alchemizzatoreService.vetrograficaCount}},total:{total_cost_una_tantum:this.alchemizzatoreService.totalCostUnaTantum,total_cost_montly:this.alchemizzatoreService.totalCostMonthly}}}).then(()=>{this.generalService.presentToast("Prospect salvato con successo")}).catch(dt=>{this.generalService.presentToast("Errore durante il salvataggio del prospect: "+dt.message)})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.rXU(ac),u.rXU(ky),u.rXU(Qu.Ix))},n.\u0275cmp=u.VBU({type:n,selectors:[["app-root"]],decls:62,vars:0,consts:[["id","assistenza-commerciale",2,"width","100%","height","100%","background","rgba(0, 0, 0, 0.169)","position","absolute","z-index","9999","display","none","flex-direction","column","align-items","center","justify-content","center"],[1,"card1",2,"padding-left","1rem","padding-right","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","space-between"],["onclick","document.getElementById('assistenza-commerciale').style.display = 'none'; ",1,"material-symbols-outlined","notranslate",2,"color","black","font-size","1.8rem","cursor","pointer"],["id","ti-stiamo-collegando-message",2,"font-size","1.2rem"],["id","first-message-assistenza-commerciale",1,"card1",2,"width","15rem","display","none"],["id","first-message-assistenza-commerciale-text",2,"padding-left","1rem"],["id","second-message-assistenza-commerciale",2,"width","100%","display","none","justify-content","end","margin-top","1rem","margin-bottom","1rem"],[1,"card1",2,"width","15rem"],["id","second-message-assistenza-commerciale-text",2,"padding-left","1rem"],["id","response-message-assistenza-commerciale",1,"card1",2,"width","15rem","display","none"],[2,"padding-left","1rem","margin-right","1rem"],["id","response2-message-assistenza-commerciale",1,"card1",2,"width","15rem","display","none","margin-top","1rem"],["id","response3-message-assistenza-commerciale",2,"padding-left","1rem","margin-right","1rem","display","none","margin-top","1rem","margin-bottom","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem"],[1,"inputGroup",2,"flex","1 1 0","min-width","200px"],["id","assistenza-commerciale-message-input","type","text",1,"input-field3"],["for","assistenza-commerciale-message-input"],[1,"card1",2,"height","3rem","width","3rem","border-radius","50%",3,"click"],[1,"material-symbols-outlined","notranslate",2,"font-size","1.8rem"],["id","prospect-dialog",2,"width","100%","height","100%","background","rgba(0, 0, 0, 0.256)","z-index","999","position","absolute","display","none","align-items","center","justify-content","center"],[1,"card1",2,"width","20rem","padding-left","1rem","padding-right","1rem","padding-bottom","1rem"],[2,"display","flex","flex-direction","column","flex","1 1 0","min-width","200px"],["for","prospect-dialog-motivazione-input",2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],[1,"inputGroup"],["id","prospect-dialog-motivazione-input",1,"selector1",2,"width","100%"],["value","Prezzo"],["value","Fiducia"],["value","Indeciso"],["value","Non interessato"],["value","Crea prospect"],[1,"btn",2,"height","2.5rem",3,"click"],["id","app-container",2,"width","100%","height","100%","display","flex"],[2,"width","100%","height","100%"],["id","header"],["id","responsive-container-1",2,"width","100%","height","calc(100% - 4rem)","display","flex","flex-direction","row"],["id","sidebar",2,"width","18rem","height","100%","z-index","2","pointer-events","all"],[1,"scrollbar-resp-width",2,"height","100%","position","relative","width","100%"],["id","mobile-footer",2,"display","none"]],template:function(r,s){1&r&&(u.j41(0,"ion-app")(1,"div",0)(2,"div",1)(3,"h1",2),u.EFF(4,"Assistenza commerciale"),u.j41(5,"span",3),u.EFF(6,"close"),u.k0s()(),u.j41(7,"p",4),u.EFF(8,"Ti stiamo collegando con l'ufficio..."),u.k0s(),u.j41(9,"div",5),u.nrm(10,"p",6),u.k0s(),u.j41(11,"div",7)(12,"div",8),u.nrm(13,"p",9),u.k0s()(),u.j41(14,"div",10)(15,"p",11),u.EFF(16,"Dammi giusto 1 minuto per chiedere la deroga dello sconto"),u.k0s()(),u.j41(17,"div",12)(18,"p",11),u.EFF(19,"Deroga concessa, te la applico direttamente"),u.k0s()(),u.j41(20,"strong",13),u.EFF(21,"Sessione terminata"),u.k0s(),u.j41(22,"div",14)(23,"div",15),u.nrm(24,"input",16),u.j41(25,"label",17),u.EFF(26,"Il tuo messaggio"),u.k0s()(),u.j41(27,"button",18),u.bIt("click",function(){return s.sendMessage()}),u.j41(28,"span",19),u.EFF(29,"send"),u.k0s()()()()(),u.j41(30,"div",20)(31,"div",21)(32,"h3"),u.EFF(33,"Rifiuta"),u.k0s(),u.j41(34,"div",22)(35,"label",23),u.EFF(36,"Motivazione"),u.k0s(),u.j41(37,"div",24)(38,"select",25)(39,"option",26),u.EFF(40,"Prezzo"),u.k0s(),u.j41(41,"option",27),u.EFF(42,"Fiducia"),u.k0s(),u.j41(43,"option",28),u.EFF(44,"Indeciso"),u.k0s(),u.j41(45,"option",29),u.EFF(46,"Non interessato"),u.k0s(),u.j41(47,"option",30),u.EFF(48,"Crea prospect"),u.k0s()()()(),u.j41(49,"div",2)(50,"button",31),u.bIt("click",function(){return s.hideConfirmCancel()}),u.EFF(51,"Annulla"),u.k0s(),u.j41(52,"button",31),u.bIt("click",function(){return s.addProspect()}),u.EFF(53,"Conferma"),u.k0s()()()(),u.j41(54,"div",32)(55,"div",33),u.nrm(56,"app-header",34),u.j41(57,"div",35),u.nrm(58,"app-sidebar",36),u.j41(59,"div",37),u.nrm(60,"ion-router-outlet"),u.k0s()()()(),u.nrm(61,"app-footer",38),u.k0s())},dependencies:[M.U1,M.Rg,q4,K4,X4]}),e})();var jL=ee(4412);function Y4(n,e){if(1&n){const t=u.RV6();u.j41(0,"tbody")(1,"tr")(2,"td"),u.EFF(3),u.k0s(),u.j41(4,"td"),u.EFF(5),u.k0s(),u.j41(6,"td"),u.EFF(7),u.k0s(),u.nrm(8,"td"),u.j41(9,"td",6)(10,"span",7),u.EFF(11,"edit"),u.k0s(),u.j41(12,"span",8),u.bIt("click",function(){const s=u.eBV(t).$implicit,c=u.XpG();return u.Njj(c.deleteCustomer(s))}),u.EFF(13,"delete"),u.k0s()()()()}if(2&n){const t=e.$implicit;u.R7$(3),u.JRh(t.ragione_sociale),u.R7$(2),u.JRh(t.referente),u.R7$(2),u.JRh(t.phone_number)}}let J4=(()=>{var n;class e{constructor(r){this.generalService=r,this.documents=new jL.t([]),this.nextPageAvailable=!0}ngOnInit(){this.fetchCustomers()}fetchCustomers(){yr.firestore().collection("customers").limit(3).onSnapshot(r=>{const s=[];r.forEach(c=>{s.push({id:c.id,...c.data()})}),this.documents.next(s)},r=>{this.generalService.presentToast("Errore nel recuperare i clienti: "+r)})}deleteCustomer(r){confirm("Sei sicuro di voler eliminare questo cliente?")&&yr.firestore().collection("customers").doc(r.id).delete().then(()=>{this.generalService.presentToast("Cliente eliminato con successo")}).catch(s=>{this.generalService.presentToast("Errore nell'eliminare il cliente: "+s)})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.rXU(ac))},n.\u0275cmp=u.VBU({type:n,selectors:[["app-customers"]],decls:35,vars:3,consts:[[2,"height","100%","padding-top","1rem","padding-left","1rem","padding-right","1rem"],[2,"margin-top","0rem"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem"],[1,"card1",2,"padding-left","1rem","width","18rem"],[1,"table"],[4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","row","align-content","center","gap","1rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","1.5rem","cursor","pointer"],[1,"material-symbols-outlined","notranslate",2,"font-size","1.5rem","cursor","pointer",3,"click"]],template:function(r,s){1&r&&(u.j41(0,"div",0)(1,"h1",1),u.EFF(2,"Clienti"),u.k0s(),u.j41(3,"div",2)(4,"div",3)(5,"div")(6,"p"),u.EFF(7,"Totale clienti:"),u.k0s(),u.j41(8,"p"),u.EFF(9,"Totale servizi:"),u.k0s(),u.j41(10,"p"),u.EFF(11,"Media servizi:"),u.k0s()()(),u.j41(12,"div",3)(13,"div")(14,"p"),u.EFF(15,"Da saldare:"),u.k0s(),u.j41(16,"p"),u.EFF(17,"Tot. Incasso:"),u.k0s(),u.j41(18,"p"),u.EFF(19,"Disdette incorso:"),u.k0s()()()(),u.j41(20,"table",4)(21,"thead")(22,"tr")(23,"th"),u.EFF(24,"Ragione Sociale"),u.k0s(),u.j41(25,"th"),u.EFF(26,"Servizi attivi"),u.k0s(),u.j41(27,"th"),u.EFF(28,"Quota mensile"),u.k0s(),u.j41(29,"th"),u.EFF(30,"Quota una tantum"),u.k0s(),u.j41(31,"th"),u.EFF(32,"Stato pagamenti"),u.k0s()()(),u.DNE(33,Y4,14,3,"tbody",5),u.nI1(34,"async"),u.k0s()()),2&r&&(u.R7$(33),u.Y8G("ngForOf",u.bMT(34,1,s.documents)))},dependencies:[v.Sq,v.Jj]}),e})(),Z4=(()=>{var n;class e{constructor(r){this.generalService=r}ngOnInit(){}saveCustomerInfo(){const r=yr.firestore(),s=document.getElementById("customer-info-ragione-sociale-input").value,c=document.getElementById("customer-info-partita-iva-input").value,h=document.getElementById("customer-info-referente-input").value,m=document.getElementById("customer-info-sito-web-input").value,y=document.getElementById("customer-info-instagram-input").value,T=document.getElementById("customer-info-indirizzo-input").value,N=document.getElementById("customer-info-telefono-input").value,B=document.getElementById("customer-info-email-input").value,q=document.getElementById("customer-info-pec-input").value,ue=document.getElementById("customer-info-settore-merceologico-input").value,Se=document.getElementById("customer-info-forma-giuridica-input").value;r.collection("prospects").doc().set({ragione_sociale:s,partita_iva:c,referente:h,website:m,instagram:y,address:T,phone_number:N,email:B,pec:q,settore_merceologico:ue,forma_giuridica:Se}).then(()=>{this.showModulesSelection(),this.generalService.presentToast("Dati salvati con successo")}).catch(ft=>{this.generalService.presentToast("Errore durante il salvataggio dei dati: "+ft.message)})}showModulesSelection(){document.getElementById("customer-input-container").style.display="none",document.getElementById("modules-selection-container").style.display="flex",document.getElementById("shopping-cart-container").style.display="none",document.getElementById("assistenza-commerciale-button").style.display="none",document.getElementById("immagine-container").style.display="none",document.getElementById("digitalizzazione-container").style.display="none",document.getElementById("management-container").style.display="none",document.getElementById("contabilit\xe0-container").style.display="none"}}return(n=e).\u0275fac=function(r){return new(r||n)(u.rXU(ac))},n.\u0275cmp=u.VBU({type:n,selectors:[["app-customer-info-input"]],decls:125,vars:0,consts:[[2,"width","100%","height","100%","padding-left","1rem","padding-bottom","1rem","padding-right","1rem","display","flex","flex-direction","column"],[2,"margin-top","1rem","margin-bottom","1rem","font-size","1.8rem"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","width","100%"],["src","assets\\svg\\undraw_interview_re_e5jn (3).svg",2,"width","18rem"],[1,"resp-div1",2,"display","flex","flex-direction","column","flex-wrap","wrap","width","calc(100% - 20rem)"],[1,"inputGroup"],["id","customer-info-ragione-sociale-input","type","text",1,"input-field3"],["for","customer-info-ragione-sociale-input"],["id","customer-info-partita-iva-input","type","text",1,"input-field3"],["for","customer-info-partita-iva-input"],["id","customer-info-referente-input","type","text",1,"input-field3"],["for","customer-info-referente-input"],[1,"inputGroup",2,"flex","1 1 0","min-width","200px"],["id","customer-info-sito-web-input","type","text",1,"input-field3"],["for","customer-info-sito-web-input"],["id","customer-info-instagram-input","type","text",1,"input-field3"],["for","customer-info-instagram-input"],[2,"width","100%","display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem"],["id","customer-info-indirizzo-input","type","text",1,"input-field3"],["for","customer-info-indirizzo-input"],["id","customer-info-telefono-input","type","text",1,"input-field3"],["for","customer-info-telefono-input"],["id","customer-info-email-input","type","text",1,"input-field3"],["for","customer-info-email-input"],["id","customer-info-pec-input","type","text",1,"input-field3"],["for","customer-info-pec-input"],[2,"display","flex","flex-direction","column","flex","1 1 0","min-width","200px"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","customer-info-settore-merceologico-input",1,"selector1",2,"width","100%"],["value","AGRICOLTURA - CACCIA FORESTE - PESCA"],["value","ALBERGHI - PUBBLICI ESERCIZI"],["value","COMMERCIO"],["value","CONSULENZA D'IMPRESA"],["value","COSTRUZIONE - INSTALLAZIONE IMPIANTI - SERVIZI EDILIZIA"],["value","CREDITO - ASSICURAZIONI"],["value","ENERGIA - GAS - ACQUA"],["value","INDUSTRIE ESTRATTIVE TRASFORMAZIONI MINERALI"],["value","INDUSTRIE MANIFATTURIERE ALIMENTARI"],["value","INDUSTRIE MANIFATTURIERE LAVORAZIONE CARTA/CARTONE STAMPA - EDITORIA"],["value","INDUSTRIE CHIMICHE FARMACEUTICHE - COSMETICHE"],["value","INDUSTRIE MANIFATTURIERE LAVORAZIONE LEGNO"],["value","INDUSTRIE MANIFATTURIERE LAVORAZIONE METALLI MECCANICA DI PRECISIONE"],["value","INDUSTRIE MANIFATTURIERE TESSILE, ABBIGLIAMENTO, AFFINI"],["value","INDUSTRIE MANIFATTURIERE PRODUZIONE MATERIALI, APPARECCHIATURE/MACCHINE ELETTRICHE/ELETTRONICHE"],["value","NOLEGGIO/RIPARAZIONE BENI DI CONSUMO E BENI DUREVOLI"],["value","PUBBLICA AMMINISTRAZIONE"],["value","SERVIZI PRIVATI"],["value","TRASPORTI - COMUNICAZIONI"],["value","DOCENTI UNIVERSITARI"],["value","SOCI NON IN SERVIZIO ATTIVO"],["value","STUDENTI"],["id","customer-info-forma-giuridica-input",1,"selector1",2,"width","100%"],["value","Ditt\xe0 individuale forfettaria"],["value","Ditt\xe0 individuale"],["value","Impresa familiare"],["value","Societ\xe0 cooperativa"],["value","Impresa artigiana/agricola"],["value","Associazione"],["value","Societ\xe0 semplice"],["value","Societ\xe0 in nome collettivo"],["value","Societ\xe0 a comandita semplice"],["value","Societ\xe0 a responsabilit\xe0 limitata semplificata"],["value","Societ\xe0 a responsabilit\xe0 limitata"],["value","Societ\xe0 per azioni"],["value","Societ\xe0 in accomandita per azioni"]],template:function(r,s){1&r&&(u.j41(0,"div",0)(1,"h1",1),u.EFF(2,"Parlaci di te"),u.k0s(),u.j41(3,"div",2),u.nrm(4,"img",3),u.j41(5,"div",4)(6,"div",5),u.nrm(7,"input",6),u.j41(8,"label",7),u.EFF(9,"Ragione sociale"),u.k0s()(),u.j41(10,"div",5),u.nrm(11,"input",8),u.j41(12,"label",9),u.EFF(13,"Partita iva"),u.k0s()(),u.j41(14,"div",5),u.nrm(15,"input",10),u.j41(16,"label",11),u.EFF(17,"Referente"),u.k0s()()()(),u.j41(18,"div",2)(19,"div",12),u.nrm(20,"input",13),u.j41(21,"label",14),u.EFF(22,"Sito Web"),u.k0s()(),u.j41(23,"div",12),u.nrm(24,"input",15),u.j41(25,"label",16),u.EFF(26,"Instagram"),u.k0s()()(),u.j41(27,"div",17)(28,"div",12),u.nrm(29,"input",18),u.j41(30,"label",19),u.EFF(31,"Indirizzo"),u.k0s()(),u.j41(32,"div",12),u.nrm(33,"input",20),u.j41(34,"label",21),u.EFF(35,"Recapito telefonico"),u.k0s()(),u.j41(36,"div",12),u.nrm(37,"input",22),u.j41(38,"label",23),u.EFF(39,"E-Mail"),u.k0s()(),u.j41(40,"div",12),u.nrm(41,"input",24),u.j41(42,"label",25),u.EFF(43,"Pec"),u.k0s()()(),u.j41(44,"div",17)(45,"div",26)(46,"label",27),u.EFF(47,"Settore merceologico"),u.k0s(),u.j41(48,"div",5)(49,"select",28)(50,"option",29),u.EFF(51,"AGRICOLTURA - CACCIA FORESTE - PESCA"),u.k0s(),u.j41(52,"option",30),u.EFF(53,"ALBERGHI - PUBBLICI ESERCIZI"),u.k0s(),u.j41(54,"option",31),u.EFF(55,"COMMERCIO"),u.k0s(),u.j41(56,"option",32),u.EFF(57,"CONSULENZA D'IMPRESA"),u.k0s(),u.j41(58,"option",33),u.EFF(59,"COSTRUZIONE - INSTALLAZIONE IMPIANTI - SERVIZI EDILIZIA"),u.k0s(),u.j41(60,"option",34),u.EFF(61,"CREDITO - ASSICURAZIONI"),u.k0s(),u.j41(62,"option",35),u.EFF(63,"ENERGIA - GAS - ACQUA"),u.k0s(),u.j41(64,"option",36),u.EFF(65,"INDUSTRIE ESTRATTIVE TRASFORMAZIONI MINERALI "),u.k0s(),u.j41(66,"option",37),u.EFF(67,"INDUSTRIE MANIFATTURIERE ALIMENTARI"),u.k0s(),u.j41(68,"option",38),u.EFF(69,"INDUSTRIE MANIFATTURIERE LAVORAZIONE CARTA/CARTONE STAMPA - EDITORIA"),u.k0s(),u.j41(70,"option",39),u.EFF(71,"INDUSTRIE CHIMICHE FARMACEUTICHE - COSMETICHE"),u.k0s(),u.j41(72,"option",40),u.EFF(73,"INDUSTRIE MANIFATTURIERE LAVORAZIONE LEGNO "),u.k0s(),u.j41(74,"option",41),u.EFF(75,"INDUSTRIE MANIFATTURIERE LAVORAZIONE METALLI MECCANICA DI PRECISIONE"),u.k0s(),u.j41(76,"option",42),u.EFF(77,"INDUSTRIE MANIFATTURIERE TESSILE, ABBIGLIAMENTO, AFFINI"),u.k0s(),u.j41(78,"option",43),u.EFF(79," INDUSTRIE MANIFATTURIERE PRODUZIONE MATERIALI, APPARECCHIATURE/MACCHINE ELETTRICHE/ELETTRONICHE"),u.k0s(),u.j41(80,"option",44),u.EFF(81,"NOLEGGIO/RIPARAZIONE BENI DI CONSUMO E BENI DUREVOLI"),u.k0s(),u.j41(82,"option",45),u.EFF(83,"PUBBLICA AMMINISTRAZIONE"),u.k0s(),u.j41(84,"option",46),u.EFF(85,"SERVIZI PRIVATI"),u.k0s(),u.j41(86,"option",47),u.EFF(87,"TRASPORTI - COMUNICAZIONI"),u.k0s(),u.j41(88,"option",48),u.EFF(89,"DOCENTI UNIVERSITARI"),u.k0s(),u.j41(90,"option",49),u.EFF(91,"SOCI NON IN SERVIZIO ATTIVO"),u.k0s(),u.j41(92,"option",50),u.EFF(93,"STUDENTI"),u.k0s()()()(),u.j41(94,"div",26)(95,"label",27),u.EFF(96,"Forma giuridica"),u.k0s(),u.j41(97,"div",5)(98,"select",51)(99,"option",52),u.EFF(100,"Ditt\xe0 individuale forfettaria"),u.k0s(),u.j41(101,"option",53),u.EFF(102,"Ditt\xe0 individuale"),u.k0s(),u.j41(103,"option",54),u.EFF(104,"Impresa familiare"),u.k0s(),u.j41(105,"option",55),u.EFF(106,"Societ\xe0 cooperativa"),u.k0s(),u.j41(107,"option",56),u.EFF(108,"Impresa artigiana/agricola"),u.k0s(),u.j41(109,"option",57),u.EFF(110,"Associazione"),u.k0s(),u.j41(111,"option",58),u.EFF(112,"Societ\xe0 semplice"),u.k0s(),u.j41(113,"option",59),u.EFF(114,"Societ\xe0 in nome collettivo"),u.k0s(),u.j41(115,"option",60),u.EFF(116,"Societ\xe0 a comandita semplice"),u.k0s(),u.j41(117,"option",61),u.EFF(118,"Societ\xe0 a responsabilit\xe0 limitata semplificata"),u.k0s(),u.j41(119,"option",62),u.EFF(120,"Societ\xe0 a responsabilit\xe0 limitata"),u.k0s(),u.j41(121,"option",63),u.EFF(122,"Societ\xe0 per azioni"),u.k0s(),u.j41(123,"option",64),u.EFF(124,"Societ\xe0 in accomandita per azioni"),u.k0s()()()()()())}}),e})(),ez=(()=>{var n;class e{constructor(){}ngOnInit(){}showImmagine(){document.getElementById("customer-input-container").style.display="none",document.getElementById("modules-selection-container").style.display="none",document.getElementById("shopping-cart-container").style.display="none",document.getElementById("assistenza-commerciale-button").style.display="none",document.getElementById("immagine-container").style.display="flex",document.getElementById("digitalizzazione-container").style.display="none",document.getElementById("management-container").style.display="none",document.getElementById("contabilit\xe0-container").style.display="none"}showManagement(){document.getElementById("customer-input-container").style.display="none",document.getElementById("modules-selection-container").style.display="none",document.getElementById("shopping-cart-container").style.display="none",document.getElementById("assistenza-commerciale-button").style.display="none",document.getElementById("immagine-container").style.display="none",document.getElementById("digitalizzazione-container").style.display="none",document.getElementById("management-container").style.display="flex",document.getElementById("contabilit\xe0-container").style.display="none"}showContabilita(){document.getElementById("customer-input-container").style.display="none",document.getElementById("modules-selection-container").style.display="none",document.getElementById("shopping-cart-container").style.display="none",document.getElementById("assistenza-commerciale-button").style.display="none",document.getElementById("immagine-container").style.display="none",document.getElementById("digitalizzazione-container").style.display="none",document.getElementById("management-container").style.display="none",document.getElementById("contabilit\xe0-container").style.display="flex"}showDigitalizzazione(){document.getElementById("customer-input-container").style.display="none",document.getElementById("modules-selection-container").style.display="none",document.getElementById("shopping-cart-container").style.display="none",document.getElementById("assistenza-commerciale-button").style.display="none",document.getElementById("immagine-container").style.display="none",document.getElementById("digitalizzazione-container").style.display="flex",document.getElementById("management-container").style.display="none",document.getElementById("contabilit\xe0-container").style.display="none"}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=u.VBU({type:n,selectors:[["app-modules"]],decls:57,vars:0,consts:[[2,"width","100%","display","flex","flex-direction","column","gap","1rem","padding-bottom","6rem","padding-left","1rem","padding-right","1rem"],[2,"margin-top","1rem","margin-bottom","1rem","margin-right","1rem","font-size","1.8rem"],[2,"width","100%","display","flex","flex-wrap","wrap","gap","1rem"],["id","modules-input",1,"card",2,"flex","1 1 0","min-width","20rem","padding-left","1rem","cursor","pointer",3,"click"],["src","assets\\svg\\undraw_social_ideas_re_j5v4 (1).svg",2,"width","15rem","margin-top","1rem"],["src","assets\\svg\\undraw_success_factors_re_ce93 (1).svg",2,"width","15rem","margin-top","1rem"],["src","assets\\svg\\undraw_studying_re_deca.svg",2,"width","15rem","margin-top","1rem"],["src","assets\\svg\\undraw_product_iteration_kjok (2).svg",2,"width","15rem","margin-top","1rem"]],template:function(r,s){1&r&&(u.j41(0,"div",0)(1,"h1",1),u.EFF(2,"Seleziona le soluzioni pi\xf9 adatte a te"),u.k0s(),u.j41(3,"div",2)(4,"div",3),u.bIt("click",function(){return s.showImmagine()}),u.nrm(5,"img",4),u.j41(6,"div")(7,"h1"),u.EFF(8,"Immagine e presenza social "),u.k0s(),u.j41(9,"p")(10,"strong"),u.EFF(11,"Raggiungi un pubblico mondiale"),u.k0s(),u.EFF(12," e "),u.j41(13,"strong"),u.EFF(14,"aumenta le vendite"),u.k0s()(),u.j41(15,"p"),u.EFF(16,"Permetti ai tuoi clienti di avere "),u.j41(17,"strong"),u.EFF(18,"informazioni sulla tua attivit\xe0 in qualsiasi momento"),u.k0s(),u.EFF(19," grazie ai potenti algoritmi informatici alla base dei social media"),u.k0s()()(),u.j41(20,"div",3),u.bIt("click",function(){return s.showDigitalizzazione()}),u.nrm(21,"img",5),u.j41(22,"div")(23,"h1"),u.EFF(24,"Digitalizzazione e automatismi"),u.k0s(),u.j41(25,"p")(26,"strong"),u.EFF(27,"Aumenta la produttivit\xe0 e il fatturato della tua impresa "),u.k0s(),u.EFF(28,"grazie alle nostre "),u.j41(29,"strong"),u.EFF(30,"soluzioni informatiche personalizzate"),u.k0s()(),u.j41(31,"p"),u.EFF(32,"Permetti ai tuoi clienti di trovare e "),u.j41(33,"strong"),u.EFF(34,"ottenere informazioni sulla tua attivit\xe0 in qualsiasi momento"),u.k0s()()()()(),u.j41(35,"div",2)(36,"div",3),u.bIt("click",function(){return s.showContabilita()}),u.nrm(37,"img",6),u.j41(38,"div")(39,"h1"),u.EFF(40,"Contabilit\xe0 e fiscalit\xe0"),u.k0s(),u.j41(41,"p"),u.EFF(42,"Ottieni il supporto dedicato di un/a "),u.j41(43,"strong"),u.EFF(44,"commercialista dedicato"),u.k0s(),u.EFF(45," per la "),u.j41(46,"strong"),u.EFF(47,"gestione della contabilit\xe0 e fiscalit\xe0 aziendale"),u.k0s()()()(),u.j41(48,"div",3),u.bIt("click",function(){return s.showManagement()}),u.nrm(49,"img",7),u.j41(50,"div")(51,"h1"),u.EFF(52,"Ottimizzazione e vendite"),u.k0s(),u.j41(53,"p"),u.EFF(54,"Avvantaggiati di un commerciale dedicato, "),u.j41(55,"strong"),u.EFF(56,"identifica e risolvi i problemi aziendali per aumentare la tua produttivit\xe0"),u.k0s()()()()()())}}),e})(),tz=(()=>{var n;class e{constructor(r,s){this.generalService=r,this.alchemizzatoreService=s}ngOnInit(){}applyDiscount(){}showOrHideCostoModuliSingoli(){const r=document.getElementById("costo-moduli-singoli-shopping-cart");r.style.display="flex"==r.style.display?"none":"flex"}addCustomer(){const r=yr.firestore(),s=document.getElementById("customer-info-ragione-sociale-input").value,c=document.getElementById("customer-info-partita-iva-input").value,h=document.getElementById("customer-info-referente-input").value,m=document.getElementById("customer-info-sito-web-input").value,y=document.getElementById("customer-info-instagram-input").value,T=document.getElementById("customer-info-indirizzo-input").value,N=document.getElementById("customer-info-telefono-input").value,B=document.getElementById("customer-info-email-input").value,q=document.getElementById("customer-info-pec-input").value,ue=document.getElementById("customer-info-settore-merceologico-input").value,Se=document.getElementById("customer-info-forma-giuridica-input").value;r.collection("customers").doc().set({ragione_sociale:s,partita_iva:c,referente:h,website:m,instagram:y,address:T,phone_number:N,email:B,pec:q,settore_merceologico:ue,forma_giuridica:Se,purchase:{digitalizzazione:{website_selected_plan:this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan,website_selected_plan_cost_una_tantum:this.alchemizzatoreService.digitalizzazioneWebisteCostUnaTantum,website_selected_plan_cost_montly:this.alchemizzatoreService.digitalizzazioneWebsiteCostMonthly,app_selected_plan:this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan,app_selected_plan_cost_una_tantum:this.alchemizzatoreService.digitalizzazioneAppCostUnaTantum,app_selected_plan_cost_montly:this.alchemizzatoreService.digitalizzazioneAppCostMonthly,iot_selected_plan:this.alchemizzatoreService.currentDigitalizzazioneSelectedIot,iot_selected_plan_cost_una_tantum:this.alchemizzatoreService.digitalizzazioneIotCostUnaTantum,iot_selected_plan_cost_montly:this.alchemizzatoreService.digitalizzazioneIotCostMonthly},management:{selected_plan:this.alchemizzatoreService.currentManagementSelectedPlan},contabilit\u00e0:{},immagine:{social_selected_plan:this.alchemizzatoreService.currentImageSelectedPlan,grafica:{flyer_count:this.alchemizzatoreService.flyerCount,poster_count:this.alchemizzatoreService.posterCount,vetrografica_count:this.alchemizzatoreService.vetrograficaCount}},total:{total_cost_una_tantum:this.alchemizzatoreService.totalCostUnaTantum,total_cost_montly:this.alchemizzatoreService.totalCostMonthly}}}).then(()=>{this.generalService.presentToast("Cliente salvato con successo")}).catch(ft=>{this.generalService.presentToast("Errore durante il salvataggio del cliente: "+ft.message)})}showConfirmCancel(){document.getElementById("prospect-dialog").style.display="flex"}hideConfirmCancel(){document.getElementById("prospect-dialog").style.display="none"}}return(n=e).\u0275fac=function(r){return new(r||n)(u.rXU(ac),u.rXU(ky))},n.\u0275cmp=u.VBU({type:n,selectors:[["app-shopping-cart"]],decls:369,vars:0,consts:[[2,"width","100%","display","flex","flex-direction","column","gap","1rem","padding-bottom","6rem","padding-left","1rem","padding-right","1rem"],[2,"margin-top","0rem","font-size","2rem"],["id","image-checkout-card",1,"card",2,"display","none","flex-direction","row","padding","1rem","flex-wrap","wrap","gap","1rem"],["src","assets\\svg\\undraw_social_ideas_re_j5v4 (1).svg",2,"width","18rem"],[2,"font-size","1.2rem","margin-top","0rem","margin-bottom","0rem","font-weight","bold"],["id","image-selected-plan-shopping-cart-display"],["id","image-basic",2,"display","none","flex-direction","column"],[2,"margin-top","0rem","margin-bottom","0rem"],[2,"margin-top","0rem","margin-bottom","0rem","font-weight","bold"],["id","image-standard",2,"display","none","flex-direction","column"],["id","image-deluxe",2,"display","none","flex-direction","column"],[2,"margin-bottom","0rem"],["id","shopping-cart-flyer-count"],[2,"margin-bottom","0rem","margin-top","0.5rem"],["id","shopping-cart-poster-count"],["id","shopping-cart-vetrografica-count"],["id","shopping-cart-image-logo-type"],["id","management-checkout-card",1,"card",2,"display","none","flex-direction","row","flex-wrap","wrap","padding","1rem","width","100%","gap","1rem"],["src","assets\\svg\\undraw_product_iteration_kjok (2).svg",2,"width","18rem"],["id","management-selected-plan-shopping-cart-display"],["id","management-basic",2,"display","none","flex-direction","column","width","15rem"],["id","management-standard",2,"display","none","flex-direction","column"],["id","management-deluxe",2,"display","none","flex-direction","column"],["id","digitalizzazione-checkout-card",1,"card",2,"display","none","flex-direction","row","flex-wrap","wrap","padding","1rem","width","100%","gap","1rem"],[2,"font-size","1.2rem","margin-top","0rem","margin-bottom","1rem","font-weight","bold"],["src","assets\\svg\\undraw_success_factors_re_ce93 (1).svg",2,"width","18rem"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem"],["id","digitalizzazione-website-basic",2,"display","none","flex-direction","column","width","15rem"],[2,"margin-top","0.2rem","margin-bottom","0rem","font-size","1rem"],[2,"width","90%","background","#333","height","1px","margin-right","2rem"],["id","digitalizzazione-website-standard",2,"display","none","flex-direction","column"],["id","digitalizzazione-website-deluxe",2,"display","none","flex-direction","column"],["id","digitalizzazione-app-basic",2,"display","none","flex-direction","column","width","15rem"],["id","digitalizzazione-app-standard",2,"display","none","flex-direction","column"],["id","text-sbarrato"],["id","digitalizzazione-app-deluxe",2,"display","none","flex-direction","column"],["id","text-sbarrato2"],["id","digitalizzazione-iot",2,"display","none","flex-direction","column"],[1,"material-symbols-outlined","notranslate"],[1,"card1",2,"display","flex","flex-direction","column","gap","1rem","padding","0.5rem","margin-top","2rem","padding-left","1rem","padding-top","1rem","padding-bottom","1rem"],[2,"width","100%","height","100%","display","flex","flex-direction","row","align-items","center","justify-content","space-between"],[2,"height","100%"],[2,"margin-top","0rem","font-size","2rem","margin-bottom","0.2rem"],[2,"margin-top","0.5rem","margin-bottom","0rem","font-size","1.2rem"],["id","shopping-cart-total-cost-una-tantum-display"],[2,"margin-top","0.5rem","font-size","1.2rem"],["id","shopping-cart-total-cost-monthly-display"],[2,"height","100%","display","flex","flex-direction","row","gap","1rem","padding-right","1rem"],[1,"btn",2,"height","2.5rem","width","8rem","display","flex","flex-direction","row","align-items","center","gap","0.5rem",3,"click"],[1,"material-symbols-outlined","notranslate",2,"font-size","1.2rem"],[2,"font-size","1.2rem","margin-top","0rem","margin-bottom","0rem","display","flex","flex-direction","row","align-items","center","cursor","pointer","gap","1rem",3,"click"],["id","costo-moduli-singoli-shopping-cart",2,"display","none","flex-direction","row","width","auto","flex-wrap","wrap","gap","1.5rem"],[2,"width","100%","height","1px","background","#00000021"],[2,"margin-top","0.5rem","margin-bottom","0rem"],["id","shopping-cart-image-cost-una-tantum-display"],[2,"margin-top","0.5rem"],["id","shopping-cart-image-cost-monthly-display"],["id","shopping-cart-digitalizzazione-cost-una-tantum-display"],["id","shopping-cart-digitalizzazione-cost-monthly-display"],["id","shopping-cart-management-cost-una-tantum-display"]],template:function(r,s){1&r&&(u.j41(0,"div",0)(1,"h1",1),u.EFF(2,"Prodotti e servizi selezionati:"),u.k0s(),u.j41(3,"div",2),u.nrm(4,"img",3),u.j41(5,"div")(6,"p",4),u.EFF(7,"Immagine e presenza social | "),u.nrm(8,"strong",5),u.k0s(),u.j41(9,"div",6)(10,"p",7),u.EFF(11,"-Consulenza dedicata"),u.k0s(),u.j41(12,"p",7),u.EFF(13,"-Pubblicazione"),u.k0s(),u.j41(14,"p",7),u.EFF(15,"-Creazione contenuti sul posto"),u.k0s(),u.j41(16,"p",7),u.EFF(17,"-Creazione calendario editoriale"),u.k0s(),u.j41(18,"p",7),u.EFF(19,"-Rebranding profilo"),u.k0s(),u.j41(20,"p",8),u.EFF(21,"-2 post/mese"),u.k0s(),u.j41(22,"p",8),u.EFF(23,"-15 storie/mese"),u.k0s()(),u.j41(24,"div",9)(25,"p",7),u.EFF(26,"-Consulenza dedicata"),u.k0s(),u.j41(27,"p",7),u.EFF(28,"-Pubblicazione"),u.k0s(),u.j41(29,"p",7),u.EFF(30,"-Creazione contenuti sul posto"),u.k0s(),u.j41(31,"p",7),u.EFF(32,"-Creazione calendario editoriale"),u.k0s(),u.j41(33,"p",7),u.EFF(34,"-Rebranding profilo"),u.k0s(),u.j41(35,"p",8),u.EFF(36,"-6 post/mese"),u.k0s(),u.j41(37,"p",8),u.EFF(38,"-40 storie/mese"),u.k0s()(),u.j41(39,"div",10)(40,"p",7),u.EFF(41,"-Consulenza dedicata"),u.k0s(),u.j41(42,"p",7),u.EFF(43,"-Pubblicazione"),u.k0s(),u.j41(44,"p",7),u.EFF(45,"-Creazione contenuti sul posto"),u.k0s(),u.j41(46,"p",7),u.EFF(47,"-Creazione calendario editoriale"),u.k0s(),u.j41(48,"p",7),u.EFF(49,"-Rebranding profilo"),u.k0s(),u.j41(50,"p",8),u.EFF(51,"-18 post/mese"),u.k0s(),u.j41(52,"p",8),u.EFF(53,"-60 storie/mese"),u.k0s()()(),u.j41(54,"div")(55,"p",11),u.EFF(56,"-"),u.nrm(57,"span",12),u.EFF(58," Flyer"),u.k0s(),u.j41(59,"p",13),u.EFF(60,"-"),u.nrm(61,"span",14),u.EFF(62," Poster"),u.k0s(),u.j41(63,"p",13),u.EFF(64,"-"),u.nrm(65,"span",15),u.EFF(66," Vetrografica"),u.k0s(),u.j41(67,"p",13),u.EFF(68,"-Tipologia di logo : "),u.nrm(69,"span",16),u.k0s()()(),u.j41(70,"div",17),u.nrm(71,"img",18),u.j41(72,"div")(73,"p",4),u.EFF(74,"Ottimizzazione e vendite | "),u.nrm(75,"strong",19),u.k0s(),u.j41(76,"div",20)(77,"p",7),u.EFF(78,"-Consulenza aziendale"),u.k0s(),u.j41(79,"p",7),u.EFF(80,"-Analisi dei processi"),u.k0s(),u.j41(81,"p",7),u.EFF(82,"-Gestione del tempo"),u.k0s(),u.j41(83,"p",7),u.EFF(84,"-Ottimizzazione vendite"),u.k0s(),u.j41(85,"p",8),u.EFF(86,"-1 consulenza"),u.k0s(),u.j41(87,"p",8),u.EFF(88,"-1 processo ottimizzato"),u.k0s()(),u.j41(89,"div",21)(90,"p",7),u.EFF(91,"-Consulenza aziendale"),u.k0s(),u.j41(92,"p",7),u.EFF(93,"-Analisi dei processi"),u.k0s(),u.j41(94,"p",7),u.EFF(95,"-Gestione del tempo"),u.k0s(),u.j41(96,"p",7),u.EFF(97,"-Ottimizzazione vendite"),u.k0s(),u.j41(98,"p",8),u.EFF(99,"-5 consulenze"),u.k0s(),u.j41(100,"p",8),u.EFF(101,"-2 processi ottimizzati"),u.k0s()(),u.j41(102,"div",22)(103,"p",7),u.EFF(104,"-Consulenza aziendale"),u.k0s(),u.j41(105,"p",7),u.EFF(106,"-Analisi dei processi"),u.k0s(),u.j41(107,"p",7),u.EFF(108,"-Gestione del tempo"),u.k0s(),u.j41(109,"p",7),u.EFF(110,"-Ottimizzazione vendite"),u.k0s(),u.j41(111,"p",8),u.EFF(112,"-10 consulenze"),u.k0s(),u.j41(113,"p",8),u.EFF(114,"-3 processi ottimizzati"),u.k0s()()()(),u.j41(115,"div",23)(116,"div")(117,"p",24),u.EFF(118,"Digitalizzazione e automatismi"),u.k0s(),u.nrm(119,"img",25),u.k0s(),u.j41(120,"div")(121,"div",26)(122,"div",27)(123,"h3"),u.EFF(124,"Sito web | Basic"),u.k0s(),u.j41(125,"span")(126,"strong"),u.EFF(127,"\u20ac650"),u.k0s(),u.EFF(128," IVA Inclusa +"),u.k0s(),u.j41(129,"p",28)(130,"strong"),u.EFF(131,"\u20ac50/mese"),u.k0s(),u.EFF(132," IVA Inclusa"),u.k0s(),u.nrm(133,"hr",29),u.j41(134,"p",7),u.EFF(135,"-Sito vetrina"),u.k0s(),u.j41(136,"p",7),u.EFF(137,"-Men\xf9 negozio"),u.k0s(),u.j41(138,"p",7),u.EFF(139,"-Landing page"),u.k0s(),u.nrm(140,"hr",29),u.j41(141,"p",7),u.EFF(142,"-Pubblicazione"),u.k0s(),u.j41(143,"p",7),u.EFF(144,"-Modifica foto, testi e video"),u.k0s(),u.j41(145,"p",8),u.EFF(146,"-1 funzione nuova/mese"),u.k0s()(),u.j41(147,"div",30)(148,"h3"),u.EFF(149,"Sito Web | Standard"),u.k0s(),u.j41(150,"span")(151,"strong"),u.EFF(152,"\u20ac1000"),u.k0s(),u.EFF(153," IVA Inclusa +"),u.k0s(),u.j41(154,"p",28)(155,"strong"),u.EFF(156,"\u20ac60/mese"),u.k0s(),u.EFF(157," IVA Inclusa"),u.k0s(),u.nrm(158,"hr",29),u.j41(159,"p",7),u.EFF(160,"-Sito aziendale"),u.k0s(),u.j41(161,"p",7),u.EFF(162,"-Form (raccolta informazioni es: raccolta preventivo)"),u.k0s(),u.nrm(163,"hr",29),u.j41(164,"p",7),u.EFF(165,"-Pubblicazione"),u.k0s(),u.j41(166,"p",7),u.EFF(167,"-Modifica foto, testi e video"),u.k0s(),u.j41(168,"p",8),u.EFF(169,"-3 funzioni nuove/mese"),u.k0s()(),u.j41(170,"div",31)(171,"h3"),u.EFF(172,"Sito Web | Deluxe"),u.k0s(),u.j41(173,"span")(174,"strong"),u.EFF(175,"\u20ac2000"),u.k0s(),u.EFF(176," IVA Inclusa +"),u.k0s(),u.j41(177,"p",28)(178,"strong"),u.EFF(179,"\u20ac100/mese"),u.k0s(),u.EFF(180," IVA Inclusa"),u.k0s(),u.nrm(181,"hr",29),u.j41(182,"p",7),u.EFF(183,"-Sito aziendale professionale e scalabile"),u.k0s(),u.j41(184,"p",7),u.EFF(185,"-Interconnesso con web app"),u.k0s(),u.nrm(186,"hr",29),u.j41(187,"p",7),u.EFF(188,"-Pubblicazione"),u.k0s(),u.j41(189,"p",7),u.EFF(190,"-Modifica foto, testi e video"),u.k0s(),u.j41(191,"p",8),u.EFF(192,"-5 funzioni nuove/mese"),u.k0s()(),u.j41(193,"div",32)(194,"h3"),u.EFF(195,"Applicazione | Basic"),u.k0s(),u.j41(196,"span")(197,"strong"),u.EFF(198,"\u20ac2000"),u.k0s(),u.EFF(199," IVA Inclusa +"),u.k0s(),u.j41(200,"p",28)(201,"strong"),u.EFF(202,"\u20ac90/mese"),u.k0s(),u.EFF(203," IVA Inclusa"),u.k0s(),u.nrm(204,"hr",29),u.j41(205,"p",7),u.EFF(206,"-Solo web app"),u.k0s(),u.j41(207,"p",7),u.EFF(208,"-Pubblicazione online"),u.k0s(),u.j41(209,"p",7),u.EFF(210,"-Non connettibile all'IOT"),u.k0s(),u.nrm(211,"hr",29),u.j41(212,"p",7),u.EFF(213,"-Pubblicazione sugli store"),u.k0s(),u.j41(214,"p",7),u.EFF(215,"-Modifica foto, testi e video"),u.k0s(),u.j41(216,"p",8),u.EFF(217,"-1 funzioni nuove/mese"),u.k0s()(),u.j41(218,"div",33)(219,"h3"),u.EFF(220,"Applicazione | Standard"),u.k0s(),u.j41(221,"span")(222,"strong",34),u.EFF(223,"\u20ac3000"),u.k0s(),u.EFF(224," IVA Inclusa +"),u.k0s(),u.j41(225,"p",28)(226,"strong"),u.EFF(227,"\u20ac150/mese"),u.k0s(),u.EFF(228," IVA Inclusa"),u.k0s(),u.nrm(229,"hr",29),u.j41(230,"p",7),u.EFF(231,"-Web app o Nativa"),u.k0s(),u.j41(232,"p",7),u.EFF(233,"-Pubblicazione online"),u.k0s(),u.j41(234,"p",7),u.EFF(235,"-Connettibile all'IOT"),u.k0s(),u.nrm(236,"hr",29),u.j41(237,"p",7),u.EFF(238,"-Pubblicazione sugli store"),u.k0s(),u.j41(239,"p",7),u.EFF(240,"-Modifica foto, testi e video"),u.k0s(),u.j41(241,"p",8),u.EFF(242,"-2 funzioni nuove/mese"),u.k0s()(),u.j41(243,"div",35)(244,"h3"),u.EFF(245,"Applicazione | Deluxe"),u.k0s(),u.j41(246,"span")(247,"strong",36),u.EFF(248,"\u20ac6000"),u.k0s(),u.EFF(249," IVA Inclusa +"),u.k0s(),u.j41(250,"p",28)(251,"strong"),u.EFF(252,"\u20ac250/mese"),u.k0s(),u.EFF(253," IVA Inclusa"),u.k0s(),u.nrm(254,"hr",29),u.j41(255,"p",7),u.EFF(256,"-Web app o Nativa"),u.k0s(),u.j41(257,"p",7),u.EFF(258,"-Pubblicazione online"),u.k0s(),u.j41(259,"p",7),u.EFF(260,"-Connettibile all'IOT"),u.k0s(),u.nrm(261,"hr",29),u.j41(262,"p",7),u.EFF(263,"-Pubblicazione sugli store"),u.k0s(),u.j41(264,"p",7),u.EFF(265,"-Modifica foto, testi e video"),u.k0s(),u.j41(266,"p",8),u.EFF(267,"-5 funzioni nuove/mese"),u.k0s()(),u.j41(268,"div",37)(269,"h3"),u.EFF(270,"Iot | Automazione"),u.k0s(),u.j41(271,"span"),u.EFF(272,"a partire da "),u.j41(273,"strong"),u.EFF(274,"\u20ac2500"),u.k0s(),u.EFF(275," IVA Inclusa +"),u.k0s(),u.j41(276,"p",28),u.EFF(277,"a partire da "),u.j41(278,"strong"),u.EFF(279,"\u20ac100/mese"),u.k0s(),u.EFF(280," IVA Inclusa"),u.k0s(),u.nrm(281,"hr",29),u.j41(282,"p",7)(283,"span",38),u.EFF(284,"notifications"),u.k0s(),u.EFF(285,"Allarme"),u.k0s(),u.j41(286,"p",7)(287,"span",38),u.EFF(288,"counter_3"),u.k0s(),u.EFF(289,"Contatore pezzi lavorati"),u.k0s(),u.j41(290,"p",7)(291,"span",38),u.EFF(292,"weight"),u.k0s(),u.EFF(293,"Bilance smart"),u.k0s(),u.j41(294,"p",7)(295,"span",38),u.EFF(296,"share_location"),u.k0s(),u.EFF(297,"Tracciamento"),u.k0s(),u.j41(298,"p",7)(299,"span",38),u.EFF(300,"table_restaurant"),u.k0s(),u.EFF(301,"Avviso pietanze pronte"),u.k0s()()()()(),u.j41(302,"div",39)(303,"div",40)(304,"div",41)(305,"h1",42),u.EFF(306,"Quota:"),u.k0s(),u.j41(307,"p",43),u.EFF(308,"Una tantum: \u20ac"),u.nrm(309,"span",44),u.k0s(),u.j41(310,"p",45),u.EFF(311,"Mensile: \u20ac"),u.nrm(312,"span",46),u.k0s()(),u.j41(313,"div",47)(314,"button",48),u.bIt("click",function(){return s.showConfirmCancel()}),u.j41(315,"span",38),u.EFF(316,"close"),u.k0s(),u.EFF(317,"Rifiuta"),u.k0s(),u.j41(318,"button",48),u.bIt("click",function(){return s.addCustomer()}),u.EFF(319,"Firma"),u.j41(320,"span",49),u.EFF(321,"arrow_forward_ios"),u.k0s()()()(),u.j41(322,"div")(323,"p",50),u.bIt("click",function(){return s.showOrHideCostoModuliSingoli()}),u.EFF(324,"Moduli singoli"),u.j41(325,"span",38),u.EFF(326,"keyboard_arrow_down"),u.k0s()(),u.j41(327,"div",51)(328,"div")(329,"div",52),u.nrm(330,"p"),u.k0s(),u.j41(331,"h3",11),u.EFF(332,"Immagine e presenza social:"),u.k0s(),u.j41(333,"p",53),u.EFF(334,"Una tantum: \u20ac"),u.nrm(335,"span",54),u.k0s(),u.j41(336,"p",55),u.EFF(337,"Mensile: \u20ac"),u.nrm(338,"span",56),u.k0s()(),u.j41(339,"div")(340,"div",52),u.nrm(341,"p"),u.k0s(),u.j41(342,"h3",11),u.EFF(343,"Digitalizzazione e automatismi:"),u.k0s(),u.j41(344,"p",53),u.EFF(345,"Una tantum: \u20ac"),u.nrm(346,"span",57),u.k0s(),u.j41(347,"p",55),u.EFF(348,"Mensile: \u20ac"),u.nrm(349,"span",58),u.k0s()(),u.j41(350,"div")(351,"div",52),u.nrm(352,"p"),u.k0s(),u.j41(353,"h3",11),u.EFF(354,"Contabilit\xe0 e fiscalit\xe0:"),u.k0s(),u.j41(355,"p",53),u.EFF(356,"Una tantum: \u20ac"),u.nrm(357,"span",54),u.k0s(),u.j41(358,"p",55),u.EFF(359,"Mensile: \u20ac"),u.nrm(360,"span",56),u.k0s()(),u.j41(361,"div")(362,"div",52),u.nrm(363,"p"),u.k0s(),u.j41(364,"h3",11),u.EFF(365,"Ottimizzazione e vendite:"),u.k0s(),u.j41(366,"p",53),u.EFF(367,"Una tantum: \u20ac"),u.nrm(368,"span",59),u.k0s()()()()()())}}),e})(),nz=(()=>{var n;class e{constructor(r,s){this.alchemizzatoreService=r,this.generalService=s}ngOnInit(){}setManagementBasic(){this.generalService.unsavedChanges=!0,"Basic"==this.alchemizzatoreService.currentManagementSelectedPlan?(this.alchemizzatoreService.currentManagementSelectedPlan="",this.generalService.presentToast("Piano Basic deselezionato con successo nel modulo management"),document.getElementById("management-checkout-card").style.display="none"):(this.alchemizzatoreService.currentManagementSelectedPlan="Basic",document.getElementById("management-checkout-card").style.display="flex",this.generalService.presentToast("Piano Basic selezionato nel modulo management")),this.alchemizzatoreService.refreshShoppingCart()}setManagementStandard(){this.generalService.unsavedChanges=!0,"Standard"==this.alchemizzatoreService.currentManagementSelectedPlan?(this.alchemizzatoreService.currentManagementSelectedPlan="",this.generalService.presentToast("Piano Standard deselezionato con successo nel modulo management"),document.getElementById("management-checkout-card").style.display="none"):(this.alchemizzatoreService.currentManagementSelectedPlan="Standard",document.getElementById("management-checkout-card").style.display="flex",this.generalService.presentToast("Piano Standard selezionato nel modulo management")),this.alchemizzatoreService.refreshShoppingCart()}setManagementDeluxe(){this.generalService.unsavedChanges=!0,"Deluxe"==this.alchemizzatoreService.currentManagementSelectedPlan?(this.alchemizzatoreService.currentManagementSelectedPlan="",document.getElementById("management-checkout-card").style.display="none",this.generalService.presentToast("Piano Deluxe deselezionato con successo nel modulo management")):(this.alchemizzatoreService.currentManagementSelectedPlan="Deluxe",document.getElementById("management-checkout-card").style.display="flex",this.generalService.presentToast("Piano Deluxe selezionato nel modulo management")),this.alchemizzatoreService.refreshShoppingCart()}}return(n=e).\u0275fac=function(r){return new(r||n)(u.rXU(ky),u.rXU(ac))},n.\u0275cmp=u.VBU({type:n,selectors:[["app-management"]],decls:99,vars:0,consts:[[2,"width","100%","display","flex","flex-direction","column","gap","1rem","padding-bottom","6rem","padding-left","1rem","padding-right","1rem"],[2,"margin-top","1rem","margin-bottom","1rem","margin-right","1rem","font-size","1.8rem"],[2,"width","100%","display","flex","flex-wrap","wrap","gap","1rem"],["id","modules-input",1,"card",2,"flex","1 1 0","min-width","20rem","padding-left","1rem","cursor","pointer","display","flex","flex-direction","row","gap","1rem","flex-wrap","wrap","padding-top","1rem","align-items","center","padding-bottom","1rem"],[2,"flex","1 1 0","min-width","15rem"],["src","assets\\svg\\undraw_co_workers_re_1i6i (1).svg",2,"width","15rem","margin-top","1rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","5rem"],[2,"width","90%","background","#333","height","1px","margin-right","2rem"],[2,"margin-top","0rem","margin-bottom","0rem"],[2,"margin-top","0rem","margin-bottom","0rem","font-weight","bold"],[1,"btn",2,"margin-right","0.5rem","width","90%","text-align","center","margin-top","1rem",3,"click"]],template:function(r,s){1&r&&(u.j41(0,"div",0)(1,"h1",1),u.EFF(2,"Management"),u.k0s(),u.j41(3,"div",2)(4,"div",2)(5,"div",3)(6,"div",4),u.nrm(7,"img",5),u.j41(8,"div")(9,"h1"),u.EFF(10,"Management e vendite"),u.k0s(),u.j41(11,"p")(12,"strong"),u.EFF(13,"Analizza la tua azienda con l'aiuto dei dati"),u.k0s(),u.EFF(14," e "),u.j41(15,"strong"),u.EFF(16,"incrementa le vendite"),u.k0s()(),u.j41(17,"p")(18,"strong"),u.EFF(19,"Migliora i processi produttivi"),u.k0s(),u.EFF(20," e analizza la tua azienda "),u.j41(21,"strong"),u.EFF(22,"ottimizzando costi e tempo"),u.k0s()(),u.j41(23,"p")(24,"strong"),u.EFF(25,"Incrementa le vendite"),u.k0s(),u.EFF(26," analizzando l'intero branding e marketing"),u.k0s()()(),u.j41(27,"div",4)(28,"span",6),u.EFF(29,"deployed_code"),u.k0s(),u.j41(30,"h3"),u.EFF(31,"Basic"),u.k0s(),u.j41(32,"span")(33,"strong"),u.EFF(34,"\u20ac300"),u.k0s(),u.EFF(35," IVA Inclusa"),u.k0s(),u.nrm(36,"hr",7),u.j41(37,"p",8),u.EFF(38,"-Consulenza aziendale"),u.k0s(),u.j41(39,"p",8),u.EFF(40,"-Analisi dei processi"),u.k0s(),u.j41(41,"p",8),u.EFF(42,"-Gestione del tempo"),u.k0s(),u.j41(43,"p",8),u.EFF(44,"-Ottimizzazione vendite"),u.k0s(),u.j41(45,"p",9),u.EFF(46,"-1 consulenza"),u.k0s(),u.j41(47,"p",9),u.EFF(48,"-1 processo ottimizzato"),u.k0s(),u.j41(49,"button",10),u.bIt("click",function(){return s.setManagementBasic()}),u.EFF(50,"Seleziona"),u.k0s()(),u.j41(51,"div",4)(52,"span",6),u.EFF(53,"trending_up"),u.k0s(),u.j41(54,"h3"),u.EFF(55,"Standard"),u.k0s(),u.j41(56,"span")(57,"strong"),u.EFF(58,"\u20ac500"),u.k0s(),u.EFF(59," IVA Inclusa"),u.k0s(),u.nrm(60,"hr",7),u.j41(61,"p",8),u.EFF(62,"-Consulenza aziendale"),u.k0s(),u.j41(63,"p",8),u.EFF(64,"-Analisi dei processi"),u.k0s(),u.j41(65,"p",8),u.EFF(66,"-Gestione del tempo"),u.k0s(),u.j41(67,"p",8),u.EFF(68,"-Ottimizzazione vendite"),u.k0s(),u.j41(69,"p",9),u.EFF(70,"-5 consulenze"),u.k0s(),u.j41(71,"p",9),u.EFF(72,"-2 processi ottimizzati"),u.k0s(),u.j41(73,"button",10),u.bIt("click",function(){return s.setManagementStandard()}),u.EFF(74,"Seleziona"),u.k0s()(),u.j41(75,"div",4)(76,"span",6),u.EFF(77,"diamond"),u.k0s(),u.j41(78,"h3"),u.EFF(79,"Deluxe"),u.k0s(),u.j41(80,"span")(81,"strong"),u.EFF(82,"\u20ac1000"),u.k0s(),u.EFF(83," IVA Inclusa"),u.k0s(),u.nrm(84,"hr",7),u.j41(85,"p",8),u.EFF(86,"-Consulenza aziendale"),u.k0s(),u.j41(87,"p",8),u.EFF(88,"-Analisi dei processi"),u.k0s(),u.j41(89,"p",8),u.EFF(90,"-Gestione del tempo"),u.k0s(),u.j41(91,"p",8),u.EFF(92,"-Ottimizzazione vendite"),u.k0s(),u.j41(93,"p",9),u.EFF(94,"-10 consulenze"),u.k0s(),u.j41(95,"p",9),u.EFF(96,"-3 processi ottimizzati"),u.k0s(),u.j41(97,"button",10),u.bIt("click",function(){return s.setManagementDeluxe()}),u.EFF(98,"Seleziona"),u.k0s()()()()()())}}),e})(),rz=(()=>{var n;class e{constructor(){}ngOnInit(){}changeContabilita(){const r=document.getElementById("contabilita-gestione-selection");"In gestione"==r.value&&(document.getElementById("contabilita-in-gestione").style.display="flex"),"In revisione"==r.value&&(document.getElementById("contabilita-in-gestione").style.display="none")}changeTipoDiReddito(){const r=document.getElementById("tipi-di-reddito-input");"Persone Fisiche e Societ\xe0"==r.value&&(document.getElementById("numero-persone-container").style.display="flex"),"Societ\xe0"==r.value&&(document.getElementById("numero-persone-container").style.display="none")}changeIntrastat(){document.getElementById("intrastat-input").checked?document.getElementById("intrastat-input-container").style.display="flex":document.getElementById("intrastat-input-container").style.display="none"}changeRedditi(){document.getElementById("redditi-input").checked?document.getElementById("redditi-input-container").style.display="flex":document.getElementById("redditi-input-container").style.display="none"}changeF24(){document.getElementById("f24-input").checked?document.getElementById("f24-input-container").style.display="flex":document.getElementById("f24-input-container").style.display="none"}changeCreditiDaMonitorare(){document.getElementById("crediti-da-monitorare-input").checked?document.getElementById("crediti-da-monitorare-input-container").style.display="flex":document.getElementById("crediti-da-monitorare-input-container").style.display="none"}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=u.VBU({type:n,selectors:[["app-contabilita"]],decls:232,vars:0,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","overflow-y","auto","overflow-x","hidden"],[2,"margin-top","1rem","margin-bottom","0rem","margin-right","1rem","font-size","1.8rem"],[2,"width","100%","display","flex","flex-wrap","wrap","gap","1rem"],["id","modules-input",1,"card",2,"flex","1 1 0","min-width","20rem","padding-left","1rem","cursor","pointer","display","flex","flex-direction","row","gap","1rem","flex-wrap","wrap","padding-top","1rem","align-items","center","padding-bottom","1rem"],[2,"flex","1 1 0","min-width","15rem"],["src","assets\\svg\\undraw_data_trends_re_2cdy (1).svg",2,"width","15rem","margin-top","1rem"],[2,"display","flex","flex-direction","row","align-items","center","padding-top","0.5rem","gap","0.5rem"],["type","checkbox","checked","",2,"height","1.2rem","width","1.2rem"],[2,"margin-top","0rem","margin-bottom","0rem","font-size","1.5rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","5rem"],[2,"width","90%","background","#333","height","1px","margin-right","2rem"],[2,"margin-top","0rem","margin-bottom","0rem"],["target","_blank",1,"btn",2,"margin-right","0.5rem","width","90%","text-align","center","margin-top","2.4rem"],["target","_blank",1,"btn",2,"margin-right","0.5rem","width","90%","text-align","center","margin-top","1rem"],[1,"card",2,"flex","1 1 0","min-width","20rem","padding-left","1rem","cursor","pointer","display","flex","flex-direction","row","gap","1rem","flex-wrap","wrap","padding-bottom","1rem"],[2,"flex","1 1 0","min-width","15rem","padding-right","1rem"],["src","assets\\svg\\undraw_data_processing_yrrv.svg",2,"width","15rem","margin-top","1rem"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem"],[1,"inputGroup",2,"margin-bottom","0rem"],["id","contabilita-gestione-selection",1,"selector1",2,"width","100%","height","2rem",3,"change"],["value","In gestione"],["value","In revisione"],["id","contabilita-in-gestione",2,"flex-direction","column"],[1,"inputGroup"],["id","email-input","type","text",1,"input-field3"],["for","email-input"],["id","pec-input","type","text",1,"input-field3"],["for","pec-input"],[1,"card",2,"flex","1 1 0","min-width","20rem","overflow","hidden"],["src","assets\\svg\\undraw_growth_analytics_re_pyxf.svg",2,"height","10rem","margin-top","1rem"],[2,"width","100%","height","100%","padding-bottom","1rem","display","flex","flex-direction","column","padding-right","1rem","padding-left","1rem"],[2,"margin-bottom","0rem","font-size","1.5rem"],["type","checkbox",2,"height","1.2rem","width","1.2rem"],[2,"display","flex","flex-direction","column","flex","1 1 0","min-width","200px"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","activity-priority-input",1,"selector1",2,"width","100%"],["value","10"],["value","20"],["value","30"],[1,"card",2,"flex","1 1 0","min-width","20rem","overflow","hidden","display","flex","flex-direction","row","flex-wrap","wrap","padding-left","1rem","gap","1rem","margin-bottom","5rem","padding-bottom","2rem"],["src","assets\\svg\\undraw_statistic_chart_re_w0pk.svg",2,"width","15rem","margin-top","1rem"],[2,"flex","1 1 0","min-width","20rem","overflow","hidden","padding-top","1rem","padding-bottom","8rem"],[2,"margin-bottom","0rem","font-size","1.5rem","margin-top","0rem"],["id","intrastat-input","type","checkbox",2,"height","1.2rem","width","1.2rem",3,"change"],["for","intrastat-input",2,"margin-top","0rem","margin-bottom","0rem"],["id","intrastat-input-container",1,"inputGroup",2,"margin-right","1rem","display","none"],[1,"material-symbols-outlined","notranslate",2,"font-size","5rem","margin-top","1rem"],["id","redditi-input","type","checkbox",2,"height","1.2rem","width","1.2rem",3,"change"],["for","redditi-input",2,"margin-top","0rem","margin-bottom","0rem"],["id","redditi-input-container",1,"inputGroup",2,"margin-right","1rem","display","none","flex-direction","column"],[2,"display","flex","flex-direction","column"],[2,"z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","text-align","start","margin-top","1rem"],["id","tipi-di-reddito-input",1,"selector1",2,"width","100%",3,"change"],["value","Societ\xe0"],["value","Persone Fisiche e Societ\xe0"],["id","numero-persone-container",1,"inputGroup",2,"margin-right","1rem","display","none"],[2,"flex","1 1 0","min-width","20rem","overflow","hidden"],["id","f24-input","type","checkbox","checked","",2,"height","1.2rem","width","1.2rem",3,"change"],["for","f24-input",2,"margin-top","0rem","margin-bottom","0rem"],["id","f24-input-container",1,"inputGroup",2,"margin-right","1rem","width","8rem","height","3rem"],["type","text",1,"input-field3"],["id","crediti-da-monitorare-input","type","checkbox",2,"height","1.2rem","width","1.2rem",3,"change"],["for","crediti-da-monitorare-input",2,"margin-top","0rem","margin-bottom","0rem"],["id","crediti-da-monitorare-input-container",1,"inputGroup",2,"display","none","margin-right","1rem","width","18rem","height","3rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","5rem","margin-top","2rem"],[1,"inputGroup",2,"margin-right","1rem","height","2rem"]],template:function(r,s){1&r&&(u.j41(0,"div",0)(1,"h1",1),u.EFF(2,"Contabilit\xe0 e fiscalit\xe0"),u.k0s(),u.j41(3,"div",2)(4,"div",3)(5,"div",4),u.nrm(6,"img",5),u.j41(7,"div")(8,"div",6),u.nrm(9,"input",7),u.j41(10,"h2",8),u.EFF(11,"Bilancio"),u.k0s()(),u.j41(12,"p")(13,"strong"),u.EFF(14,"Redazione del bilancio di esercizio"),u.k0s()(),u.j41(15,"p"),u.EFF(16,"Insieme dei documenti contabili che un'impresa deve redigere periodicamente per esporre la propria situazione "),u.j41(17,"strong"),u.EFF(18,"patrimoniale, finanziaria ed economica"),u.k0s()()()(),u.j41(19,"div",4)(20,"span",9),u.EFF(21,"store"),u.k0s(),u.j41(22,"h3"),u.EFF(23,"Micro"),u.k0s(),u.nrm(24,"hr",10),u.j41(25,"p",11),u.EFF(26,"-Attivo Patrimoniale inferiore a \u20ac175.000"),u.k0s(),u.j41(27,"p",11),u.EFF(28,"-Ricavi annuali inferiori \u20ac350.000"),u.k0s(),u.j41(29,"p",11),u.EFF(30,"-Fino a 5 dipendenti"),u.k0s(),u.j41(31,"a",12),u.EFF(32,"Seleziona"),u.k0s()(),u.j41(33,"div",4)(34,"span",9),u.EFF(35,"apartment"),u.k0s(),u.j41(36,"h3"),u.EFF(37,"Abbreviato"),u.k0s(),u.nrm(38,"hr",10),u.j41(39,"p",11),u.EFF(40,"-Attivo Patrimoniale compreso tra \u20ac350.000 a \u20ac4,4 Milioni"),u.k0s(),u.j41(41,"p",11),u.EFF(42,"-Ricavi annuali compresi tra \u20ac175.000 a \u20ac8,8 Milioni"),u.k0s(),u.j41(43,"p",11),u.EFF(44,"-Pi\xf9 di 5 a 49 dipendenti"),u.k0s(),u.j41(45,"a",13),u.EFF(46,"Seleziona"),u.k0s()(),u.j41(47,"div",4)(48,"span",9),u.EFF(49,"domain_add"),u.k0s(),u.j41(50,"h3"),u.EFF(51,"Ordinario"),u.k0s(),u.nrm(52,"hr",10),u.j41(53,"p",11),u.EFF(54,"-Attivo Patrimoniale maggiore di \u20ac4,4 Milioni"),u.k0s(),u.j41(55,"p",11),u.EFF(56,"-Ricavi annuali maggiori di \u20ac8,8 Milioni"),u.k0s(),u.j41(57,"p",11),u.EFF(58,"-Pi\xf9 di 50 dipendenti"),u.k0s(),u.j41(59,"a",13),u.EFF(60,"Seleziona"),u.k0s()()()(),u.j41(61,"div",2)(62,"div",14)(63,"div",15),u.nrm(64,"img",16),u.j41(65,"div")(66,"div",17),u.nrm(67,"input",7),u.j41(68,"h2",8),u.EFF(69,"Contabilit\xe0"),u.k0s(),u.j41(70,"div",18)(71,"select",19),u.bIt("change",function(){return s.changeContabilita()}),u.j41(72,"option",20),u.EFF(73,"In gestione"),u.k0s(),u.j41(74,"option",21),u.EFF(75,"In revisione"),u.k0s()()()(),u.j41(76,"p"),u.EFF(77,"Insieme degli "),u.j41(78,"strong"),u.EFF(79,"spostamenti di capitale aziendale"),u.k0s(),u.EFF(80," raccolti e organizzati secondo un criterio che permetta un "),u.j41(81,"strong"),u.EFF(82,"rapido accesso e elaborazione dei dati"),u.k0s()()(),u.j41(83,"div",22)(84,"div",23),u.nrm(85,"input",24),u.j41(86,"label",25),u.EFF(87,"Numero fatture annuali"),u.k0s()(),u.j41(88,"div",23),u.nrm(89,"input",26),u.j41(90,"label",27),u.EFF(91,"N.Operazioni C/C mensili"),u.k0s()()()()(),u.j41(92,"div",28),u.nrm(93,"img",29),u.j41(94,"div",30)(95,"h2",31),u.EFF(96,"Accessori"),u.k0s(),u.j41(97,"div",6),u.nrm(98,"input",32),u.j41(99,"label",11),u.EFF(100,"IMU"),u.k0s()(),u.j41(101,"div",6),u.nrm(102,"input",32),u.j41(103,"label",11),u.EFF(104,"Contratti di locazione"),u.k0s()(),u.j41(105,"div",6),u.nrm(106,"input",32),u.j41(107,"label",11),u.EFF(108,"Tassa di concessione governativa"),u.k0s()(),u.j41(109,"div",6),u.nrm(110,"input",32),u.j41(111,"label",11),u.EFF(112,"Registrazione marchio"),u.k0s()(),u.j41(113,"h2",31),u.EFF(114,"Consulenza dedicata"),u.k0s(),u.j41(115,"div",33)(116,"label",34),u.EFF(117,"N.Richieste mensili"),u.k0s(),u.j41(118,"div",23)(119,"select",35)(120,"option",36),u.EFF(121,"10"),u.k0s(),u.j41(122,"option",37),u.EFF(123,"20"),u.k0s(),u.j41(124,"option",38),u.EFF(125,"30"),u.k0s()()()()()()(),u.j41(126,"div",2)(127,"div",39)(128,"div",4),u.nrm(129,"img",40),u.j41(130,"div")(131,"h2",8),u.EFF(132,"Fiscalit\xe0"),u.k0s(),u.j41(133,"p")(134,"strong"),u.EFF(135,"Redazione del bilancio di esercizio"),u.k0s()(),u.j41(136,"p"),u.EFF(137,"Insieme dei documenti contabili che un'impresa deve redigere periodicamente per esporre la propria situazione"),u.j41(138,"strong"),u.EFF(139," patrimoniale, finanziaria ed economica"),u.k0s()()()(),u.j41(140,"div",41)(141,"span",9),u.EFF(142,"currency_exchange"),u.k0s(),u.j41(143,"h2",42),u.EFF(144,"Iva"),u.k0s(),u.j41(145,"div",6),u.nrm(146,"input",7),u.j41(147,"label",11),u.EFF(148,"Liquidazione mensile"),u.k0s()(),u.j41(149,"div",6),u.nrm(150,"input",7),u.j41(151,"label",11),u.EFF(152,"LIPE"),u.k0s()(),u.j41(153,"div",6),u.nrm(154,"input",7),u.j41(155,"label",11),u.EFF(156,"Dichiarazione iva"),u.k0s()(),u.j41(157,"div",6),u.nrm(158,"input",7),u.j41(159,"label",11),u.EFF(160,"Visto di conformit\xe0"),u.k0s()(),u.j41(161,"div",6),u.nrm(162,"input",32),u.j41(163,"label",11),u.EFF(164,"Rimborsi iva trimestrale"),u.k0s()(),u.j41(165,"div",6)(166,"input",43),u.bIt("change",function(){return s.changeIntrastat()}),u.k0s(),u.j41(167,"label",44),u.EFF(168,"Intrastat"),u.k0s()(),u.j41(169,"div",45),u.nrm(170,"input",26),u.j41(171,"label",27),u.EFF(172,"N.Fatt.Intrastat mensili"),u.k0s()(),u.j41(173,"span",46),u.EFF(174,"credit_score"),u.k0s(),u.j41(175,"h2",42),u.EFF(176,"Redditi"),u.k0s(),u.j41(177,"div",6)(178,"input",47),u.bIt("change",function(){return s.changeRedditi()}),u.k0s(),u.j41(179,"label",48),u.EFF(180,"Gestione redditi"),u.k0s()(),u.j41(181,"div",49)(182,"div",50)(183,"label",51),u.EFF(184,"Tipi di reddito"),u.k0s(),u.j41(185,"div",23)(186,"select",52),u.bIt("change",function(){return s.changeTipoDiReddito()}),u.j41(187,"option",53),u.EFF(188,"Societ\xe0"),u.k0s(),u.j41(189,"option",54),u.EFF(190,"Persone Fisiche e Societ\xe0"),u.k0s()()()(),u.j41(191,"div",55),u.nrm(192,"input",26),u.j41(193,"label",27),u.EFF(194,"N.Persone fisiche"),u.k0s()()()(),u.j41(195,"div",56)(196,"span",46),u.EFF(197,"price_check"),u.k0s(),u.j41(198,"h2",42),u.EFF(199,"Pagamenti"),u.k0s(),u.j41(200,"div",6)(201,"input",57),u.bIt("change",function(){return s.changeF24()}),u.k0s(),u.j41(202,"label",58),u.EFF(203,"F24"),u.k0s()(),u.j41(204,"div",59),u.nrm(205,"input",60),u.j41(206,"label",27),u.EFF(207,"N.F24 annui"),u.k0s()(),u.j41(208,"div",6)(209,"input",61),u.bIt("change",function(){return s.changeCreditiDaMonitorare()}),u.k0s(),u.j41(210,"label",62),u.EFF(211,"Crediti da monitorare"),u.k0s()(),u.j41(212,"div",63),u.nrm(213,"input",60),u.j41(214,"label",27),u.EFF(215,"N.Crediti da monitorare annui"),u.k0s()(),u.j41(216,"span",64),u.EFF(217,"point_of_sale"),u.k0s(),u.j41(218,"h2",31),u.EFF(219,"CU/770"),u.k0s(),u.j41(220,"div",6),u.nrm(221,"input",7),u.j41(222,"label",11),u.EFF(223,"CU"),u.k0s()(),u.j41(224,"div",6),u.nrm(225,"input",7),u.j41(226,"label",11),u.EFF(227,"770"),u.k0s()(),u.j41(228,"div",65),u.nrm(229,"input",26),u.j41(230,"label",27),u.EFF(231,"N.Percipienti annui"),u.k0s()()()()()())}}),e})(),iz=(()=>{var n;class e{constructor(r,s,c){this.alchemizzatore=r,this.alchemizzatoreService=s,this.generalService=c}ngOnInit(){}on1(){document.getElementById("float").classList.add("miaClasse"),document.getElementById("float").classList.add("rimbalzo-class"),document.getElementById("float2").classList.add("miaClasse"),document.getElementById("float2").classList.add("rimbalzo-class2"),document.getElementById("text-importazione-sbarrato").classList.add("sbarrato"),document.getElementById("text-importazione-scontato").innerText=" \u20ac400",document.getElementById("text-creazione-sbarrato2").classList.add("sbarrato"),document.getElementById("text-creazione-scontato2").innerText=" \u20ac700"}basic(){this.generalService.unsavedChanges=!0,"Basic"==this.alchemizzatoreService.currentImageSelectedPlan?(this.alchemizzatoreService.currentImageSelectedPlan="",document.getElementById("image-checkout-card").style.display="none",this.generalService.presentToast("Piano Basic deselezionato con successo nel modulo immagine e social")):(this.alchemizzatoreService.currentImageSelectedPlan="Basic",document.getElementById("image-checkout-card").style.display="flex",this.generalService.presentToast("Piano Basic selezionato nel modulo immagine e social")),this.alchemizzatoreService.refreshShoppingCart()}standard(){this.generalService.unsavedChanges=!0,"Standard"==this.alchemizzatoreService.currentImageSelectedPlan?(this.alchemizzatoreService.currentImageSelectedPlan="",document.getElementById("image-checkout-card").style.display="none",this.generalService.presentToast("Piano standard deselezionato con successo nel modulo immagine e social")):(this.alchemizzatoreService.currentImageSelectedPlan="Standard",document.getElementById("image-checkout-card").style.display="flex",this.generalService.presentToast("Piano standard selezionato nel modulo immagine e social")),this.alchemizzatoreService.refreshShoppingCart()}deluxe(){this.generalService.unsavedChanges=!0,"Deluxe"==this.alchemizzatoreService.currentImageSelectedPlan?(this.alchemizzatoreService.currentImageSelectedPlan="",document.getElementById("image-checkout-card").style.display="none",this.generalService.presentToast("Piano Deluxe deselezionato con successo nel modulo immagine e social")):(this.alchemizzatoreService.currentImageSelectedPlan="Deluxe",document.getElementById("image-checkout-card").style.display="flex",this.generalService.presentToast("Piano Deluxe selezionato nel modulo immagine e social")),this.alchemizzatoreService.refreshShoppingCart()}addFlyer(){this.alchemizzatore.flyerCount=this.alchemizzatore.flyerCount+1,document.getElementById("flyer-counter").innerText=this.alchemizzatore.flyerCount+"",this.alchemizzatoreService.refreshShoppingCart(),document.getElementById("image-checkout-card").style.display="flex"}removeFlyer(){0!=this.alchemizzatore.flyerCount?(this.alchemizzatore.flyerCount=this.alchemizzatore.flyerCount-1,document.getElementById("flyer-counter").innerText=this.alchemizzatore.flyerCount+"",this.alchemizzatoreService.refreshShoppingCart(),document.getElementById("image-checkout-card").style.display="flex"):document.getElementById("image-checkout-card").style.display="none"}addPoster(){this.alchemizzatore.posterCount=this.alchemizzatore.posterCount+1,document.getElementById("poster-counter").innerText=this.alchemizzatore.posterCount+"",this.alchemizzatoreService.refreshShoppingCart(),document.getElementById("image-checkout-card").style.display="flex"}removePoster(){0!=this.alchemizzatore.posterCount?(this.alchemizzatore.posterCount=this.alchemizzatore.posterCount-1,document.getElementById("poster-counter").innerText=this.alchemizzatore.posterCount+"",this.alchemizzatoreService.refreshShoppingCart(),document.getElementById("image-checkout-card").style.display="flex"):document.getElementById("image-checkout-card").style.display="none"}addVetrografica(){this.alchemizzatore.vetrograficaCount=this.alchemizzatore.vetrograficaCount+1,document.getElementById("vetrografica-counter").innerText=this.alchemizzatore.vetrograficaCount+"",this.alchemizzatoreService.refreshShoppingCart(),document.getElementById("image-checkout-card").style.display="flex"}removeVetrografica(){0!=this.alchemizzatore.vetrograficaCount?(this.alchemizzatore.vetrograficaCount=this.alchemizzatore.vetrograficaCount-1,document.getElementById("vetrografica-counter").innerText=this.alchemizzatore.vetrograficaCount+"",this.alchemizzatoreService.refreshShoppingCart()):document.getElementById("image-checkout-card").style.display="none"}logoCreation(){this.alchemizzatoreService.currentImageLogoType="Creato da 0",this.alchemizzatoreService.refreshShoppingCart(),this.generalService.presentToast("Creazione da 0 memorizzata"),document.getElementById("image-checkout-card").style.display="flex"}uploadLogo(){const r=yr.storage(),c=document.getElementById("logo-input").files[0];if(c){const m=r.ref("alchemizzatore/immagine/loghi/"+c.name).put(c);m.on("state_changed",y=>{this.generalService.presentToast("Caricamento in corso: "+y.bytesTransferred/y.totalBytes*100+"%")},y=>{this.generalService.presentToast("Errore nel caricamento:"+y.message)},()=>{m.snapshot.ref.getDownloadURL().then(y=>{console.log("File disponibile a:",y),this.generalService.presentToast("Logo caricato con successo"),this.alchemizzatoreService.currentImageLogoType="Importato",this.alchemizzatoreService.refreshShoppingCart(),document.getElementById("image-checkout-card").style.display="flex"})})}else this.generalService.presentToast("Nessun file selezionato:")}}return(n=e).\u0275fac=function(r){return new(r||n)(u.rXU(ky),u.rXU(ky),u.rXU(ac))},n.\u0275cmp=u.VBU({type:n,selectors:[["app-immagine"]],decls:217,vars:0,consts:[[2,"width","100%","display","flex","flex-direction","column","gap","1rem","padding-bottom","6rem","padding-left","1rem","padding-right","1rem"],[2,"margin-top","1rem","margin-bottom","1rem","margin-right","1rem","font-size","1.8rem"],[2,"width","100%","display","flex","flex-wrap","wrap","gap","1rem"],["id","modules-input",1,"card",2,"flex","1 1 0","min-width","20rem","padding-left","1rem","cursor","pointer","display","flex","flex-direction","row","gap","1rem","flex-wrap","wrap","padding-top","1rem","align-items","center","padding-bottom","1rem"],[2,"flex","1 1 0","min-width","15rem"],["src","assets\\svg\\undraw_social_ideas_re_j5v4 (1).svg",2,"width","15rem","margin-top","1rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","5rem"],[2,"width","90%","background","#333","height","1px","margin-right","2rem"],[2,"margin-top","0rem","margin-bottom","0rem"],[2,"margin-top","0rem","margin-bottom","0rem","font-weight","bold"],[1,"btn",2,"margin-right","0.5rem","width","90%","text-align","center","margin-top","1rem",3,"click"],["id","float2",1,"card",2,"flex","1 1 0","min-width","20rem","max-width","40rem","padding-left","1rem","cursor","pointer","display","flex","flex-direction","column","gap","1rem","flex-wrap","wrap","padding-top","1rem","align-items","center"],["src","assets\\svg\\undraw_creative_woman_re_u5tk.svg",2,"width","15rem","margin-top","1rem"],[2,"width","100%","display","flex","flex-wrap","wrap","gap","1rem","padding-bottom","1rem"],[1,"btn",2,"margin-right","0.5rem","width","90%","text-align","center","margin-top","1rem","height","3rem"],[2,"width","100%","height","100%","display","flex","flex-direction","row","align-items","center","justify-content","center"],[2,"color","white","font-size","1.8rem",3,"click"],[2,"flex","1"],["id","flyer-counter",2,"color","white","font-size","1.5rem"],["id","poster-counter",2,"color","white","font-size","1.5rem"],[2,"flex","1 1 0","min-width","15rem","display","flex","flex-direction","column","align-items","center"],["id","vetrografica-counter",2,"color","white","font-size","1.5rem"],["id","float",1,"card",2,"flex","1 1 0","min-width","20rem","padding-left","1rem","cursor","pointer"],["src","assets\\svg\\undraw_learning_sketching_nd4f (1).svg",2,"height","14rem","margin-top","1rem"],["id","text-importazione-sbarrato"],["id","text-importazione-scontato"],["type","file","accept","image/*","id","logo-input",1,"btn",2,"margin-right","0.5rem","width","90%","text-align","center","margin-top","1rem"],["id","text-creazione-sbarrato2"],["id","text-creazione-scontato2"]],template:function(r,s){1&r&&(u.j41(0,"div",0)(1,"h1",1),u.EFF(2,"Immagine"),u.k0s(),u.j41(3,"div",2)(4,"div",2)(5,"div",3)(6,"div",4),u.nrm(7,"img",5),u.j41(8,"div")(9,"h1"),u.EFF(10,"Social"),u.k0s(),u.j41(11,"p")(12,"strong"),u.EFF(13,"Raggiungi un pubblico mondiale"),u.k0s(),u.EFF(14," e "),u.j41(15,"strong"),u.EFF(16,"aumenta le vendite"),u.k0s()(),u.j41(17,"p"),u.EFF(18,"Permetti ai tuoi clienti di avere "),u.j41(19,"strong"),u.EFF(20,"informazioni sulla tua attivit\xe0 in qualsiasi momento"),u.k0s(),u.EFF(21," grazie ai potenti algoritmi informatici alla base dei social media"),u.k0s()()(),u.j41(22,"div",4)(23,"span",6),u.EFF(24,"deployed_code"),u.k0s(),u.j41(25,"h3"),u.EFF(26,"Basic"),u.k0s(),u.j41(27,"span")(28,"strong"),u.EFF(29,"\u20ac330/mese"),u.k0s(),u.EFF(30," IVA Inclusa"),u.k0s(),u.nrm(31,"hr",7),u.j41(32,"p",8),u.EFF(33,"-Consulenza dedicata"),u.k0s(),u.j41(34,"p",8),u.EFF(35,"-Pubblicazione"),u.k0s(),u.j41(36,"p",8),u.EFF(37,"-Creazione contenuti sul posto"),u.k0s(),u.j41(38,"p",8),u.EFF(39,"-Creazione calendario editoriale"),u.k0s(),u.j41(40,"p",8),u.EFF(41,"-Rebranding profilo"),u.k0s(),u.j41(42,"p",9),u.EFF(43,"-2 post/mese"),u.k0s(),u.j41(44,"p",9),u.EFF(45,"-15 storie/mese"),u.k0s(),u.j41(46,"a",10),u.bIt("click",function(){return s.basic()}),u.EFF(47,"Seleziona"),u.k0s()(),u.j41(48,"div",4)(49,"span",6),u.EFF(50,"trending_up"),u.k0s(),u.j41(51,"h3"),u.EFF(52,"Standard"),u.k0s(),u.j41(53,"span")(54,"strong"),u.EFF(55,"\u20ac430/mese"),u.k0s(),u.EFF(56," IVA Inclusa"),u.k0s(),u.nrm(57,"hr",7),u.j41(58,"p",8),u.EFF(59,"-Consulenza dedicata"),u.k0s(),u.j41(60,"p",8),u.EFF(61,"-Pubblicazione"),u.k0s(),u.j41(62,"p",8),u.EFF(63,"-Creazione contenuti sul posto"),u.k0s(),u.j41(64,"p",8),u.EFF(65,"-Creazione calendario editoriale"),u.k0s(),u.j41(66,"p",8),u.EFF(67,"-Rebranding profilo"),u.k0s(),u.j41(68,"p",9),u.EFF(69,"-6 post/mese"),u.k0s(),u.j41(70,"p",9),u.EFF(71,"-40 storie/mese"),u.k0s(),u.j41(72,"button",10),u.bIt("click",function(){return s.on1(),s.standard()}),u.EFF(73,"Seleziona"),u.k0s()(),u.j41(74,"div",4)(75,"span",6),u.EFF(76,"diamond"),u.k0s(),u.j41(77,"h3"),u.EFF(78,"Deluxe"),u.k0s(),u.j41(79,"span")(80,"strong"),u.EFF(81,"\u20ac650/mese"),u.k0s(),u.EFF(82," IVA Inclusa"),u.k0s(),u.nrm(83,"hr",7),u.j41(84,"p",8),u.EFF(85,"-Consulenza dedicata"),u.k0s(),u.j41(86,"p",8),u.EFF(87,"-Pubblicazione"),u.k0s(),u.j41(88,"p",8),u.EFF(89,"-Creazione contenuti sul posto"),u.k0s(),u.j41(90,"p",8),u.EFF(91,"-Creazione calendario editoriale"),u.k0s(),u.j41(92,"p",8),u.EFF(93,"-Rebranding profilo"),u.k0s(),u.j41(94,"p",9),u.EFF(95,"-18 post/mese"),u.k0s(),u.j41(96,"p",9),u.EFF(97,"-60 storie/mese"),u.k0s(),u.j41(98,"button",10),u.bIt("click",function(){return s.on1(),s.deluxe()}),u.EFF(99,"Seleziona"),u.k0s()()()(),u.j41(100,"div",2)(101,"div",11)(102,"div",4),u.nrm(103,"img",12),u.j41(104,"div")(105,"h1"),u.EFF(106,"Grafica"),u.k0s(),u.j41(107,"p")(108,"strong"),u.EFF(109,"Aumenta la produttivit\xe0 e il fatturato della tua impresa "),u.k0s(),u.EFF(110,"grazie alle nostre "),u.j41(111,"strong"),u.EFF(112,"soluzioni informatiche personalizzate"),u.k0s()(),u.j41(113,"p"),u.EFF(114,"Permetti ai tuoi clienti di trovare e "),u.j41(115,"strong"),u.EFF(116,"ottenere informazioni sulla tua attivit\xe0 in qualsiasi momento"),u.k0s()()()(),u.j41(117,"div",13)(118,"div",4)(119,"span",6),u.EFF(120,"contact_mail"),u.k0s(),u.j41(121,"h3"),u.EFF(122,"Flyer"),u.k0s(),u.j41(123,"span")(124,"strong"),u.EFF(125,"\u20ac150"),u.k0s(),u.EFF(126," IVA Inclusa"),u.k0s(),u.nrm(127,"hr",7),u.j41(128,"div",14)(129,"div",15)(130,"p",16),u.bIt("click",function(){return s.removeFlyer()}),u.EFF(131,"-"),u.k0s(),u.nrm(132,"div",17),u.j41(133,"p",18),u.EFF(134,"0"),u.k0s(),u.nrm(135,"div",17),u.j41(136,"p",16),u.bIt("click",function(){return s.addFlyer()}),u.EFF(137,"+"),u.k0s()()()(),u.j41(138,"div",4)(139,"span",6),u.EFF(140,"vrpano"),u.k0s(),u.j41(141,"h3"),u.EFF(142,"Poster"),u.k0s(),u.j41(143,"span")(144,"strong"),u.EFF(145,"\u20ac250"),u.k0s(),u.EFF(146," IVA Inclusa"),u.k0s(),u.nrm(147,"hr",7),u.j41(148,"div",14)(149,"div",15)(150,"p",16),u.bIt("click",function(){return s.removePoster()}),u.EFF(151,"-"),u.k0s(),u.nrm(152,"div",17),u.j41(153,"p",19),u.EFF(154,"0"),u.k0s(),u.nrm(155,"div",17),u.j41(156,"p",16),u.bIt("click",function(){return s.addPoster()}),u.EFF(157,"+"),u.k0s()()()(),u.j41(158,"div",20)(159,"span",6),u.EFF(160,"view_compact_alt"),u.k0s(),u.j41(161,"h3"),u.EFF(162,"Vetrografica"),u.k0s(),u.j41(163,"span")(164,"strong"),u.EFF(165,"\u20ac350"),u.k0s(),u.EFF(166," IVA Inclusa"),u.k0s(),u.j41(167,"div",14)(168,"div",15)(169,"p",16),u.bIt("click",function(){return s.removeVetrografica()}),u.EFF(170,"-"),u.k0s(),u.nrm(171,"div",17),u.j41(172,"p",21),u.EFF(173,"0"),u.k0s(),u.nrm(174,"div",17),u.j41(175,"p",16),u.bIt("click",function(){return s.addVetrografica()}),u.EFF(176,"+"),u.k0s()()()()()(),u.j41(177,"div",22),u.nrm(178,"img",23),u.j41(179,"div")(180,"h1"),u.EFF(181,"Logo"),u.k0s(),u.j41(182,"p"),u.EFF(183,"Ottieni il supporto dedicato di un/a "),u.j41(184,"strong"),u.EFF(185,"commercialista dedicato"),u.k0s(),u.EFF(186," per la "),u.j41(187,"strong"),u.EFF(188,"gestione della contabilit\xe0 e fiscalit\xe0 aziendale"),u.k0s()()(),u.j41(189,"div",13)(190,"div",4)(191,"span",6),u.EFF(192,"upload"),u.k0s(),u.j41(193,"h3"),u.EFF(194,"Importazione"),u.k0s(),u.j41(195,"span")(196,"strong",24),u.EFF(197,"\u20ac500"),u.k0s(),u.nrm(198,"strong",25),u.EFF(199," IVA Inclusa"),u.k0s(),u.nrm(200,"hr",7)(201,"input",26),u.j41(202,"button",10),u.bIt("click",function(){return s.uploadLogo()}),u.EFF(203,"Carica"),u.k0s()(),u.j41(204,"div",4)(205,"span",6),u.EFF(206,"brush"),u.k0s(),u.j41(207,"h3"),u.EFF(208,"Creazione da 0"),u.k0s(),u.j41(209,"span")(210,"strong",27),u.EFF(211,"\u20ac1000"),u.k0s(),u.nrm(212,"strong",28),u.EFF(213," IVA Inclusa"),u.k0s(),u.nrm(214,"hr",7),u.j41(215,"button",10),u.bIt("click",function(){return s.logoCreation()}),u.EFF(216,"Seleziona"),u.k0s()()()()()()())},styles:[".miaClasse[_ngcontent-%COMP%]{transition:.2s box-shadow ease-in,.2s background ease-in;box-shadow:0 0 10px 5px #ff00f780;padding:1rem 0rem 1rem 1rem;border-radius:1rem;background:#b700ff1d;margin-right:1rem;animation:_ngcontent-%COMP%_rimbalzo 1.5s infinite}@keyframes _ngcontent-%COMP%_rimbalzo{0%{transform:translateY(0)}50%{transform:translateY(-10px)}to{transform:translateY(0)}}.rimbalzo-class[_ngcontent-%COMP%]{transition:.2s box-shadow ease-in,.2s background ease-in;box-shadow:0 0 10px 5px #ff00f780;padding:1rem 0rem 1rem 1rem;border-radius:1rem;background:#b700ff1d;margin-right:1rem;animation:_ngcontent-%COMP%_rimbalzo 1s infinite}.sbarrato[_ngcontent-%COMP%]{text-decoration:line-through}"]}),e})(),oz=(()=>{var n;class e{constructor(r,s){this.generalService=r,this.alchemizzatoreService=s}ngOnInit(){}on(){document.getElementById("mioElemento").classList.add("miaClasse"),document.getElementById("rimbalzo2").classList.add("rimbalzo-class"),document.getElementById("text-sbarrato").classList.add("sbarrato"),document.getElementById("text-sbarrato2").classList.add("sbarrato"),document.getElementById("text-prezzo scontato").innerText=" \u20ac2800",document.getElementById("text-prezzo scontato2").innerText=" \u20ac5000"}addBasicWebsite(){this.generalService.unsavedChanges=!0,"Basic"==this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan?(this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan="",this.generalService.presentToast("Sito web | Piano Basic deselezionato con successo nel modulo digitalizzazione"),this.alchemizzatoreService.refreshShoppingCart()):(this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan="Basic",document.getElementById("digitalizzazione-checkout-card").style.display="flex",this.generalService.presentToast("Sito web | Piano Basic selezionato nel modulo digitalizzazione")),this.alchemizzatoreService.refreshShoppingCart()}addStandardWebsite(){this.generalService.unsavedChanges=!0,"Standard"==this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan?(this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan="",this.generalService.presentToast("Sito web | Piano Standard deselezionato con successo nel modulo digitalizzazione"),this.alchemizzatoreService.refreshShoppingCart()):(this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan="Standard",document.getElementById("digitalizzazione-checkout-card").style.display="flex",this.generalService.presentToast("Sito web | Piano Standard selezionato nel modulo digitalizzazione")),this.alchemizzatoreService.refreshShoppingCart()}addDeluxeWebsite(){this.generalService.unsavedChanges=!0,"Deluxe"==this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan?(this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan="",this.generalService.presentToast("Sito web | Piano Deluxe deselezionato con successo nel modulo digitalizzazione"),this.alchemizzatoreService.refreshShoppingCart()):(this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan="Deluxe",document.getElementById("digitalizzazione-checkout-card").style.display="flex",this.generalService.presentToast("Sito web | Piano Deluxe selezionato nel modulo digitalizzazione")),this.alchemizzatoreService.refreshShoppingCart()}addBasicApp(){this.generalService.unsavedChanges=!0,"Basic"==this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan?(this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan="",this.generalService.presentToast("Applicazione | Piano Basic deselezionato con successo nel modulo digitalizzazione"),this.alchemizzatoreService.refreshShoppingCart()):(this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan="Basic",document.getElementById("digitalizzazione-checkout-card").style.display="flex",this.generalService.presentToast("Applicazione | Piano Basic selezionato nel modulo digitalizzazione")),this.alchemizzatoreService.refreshShoppingCart()}addStandardApp(){this.generalService.unsavedChanges=!0,"Standard"==this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan?(this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan="",this.generalService.presentToast("Applicazione | Piano Standard deselezionato con successo nel modulo digitalizzazione"),this.alchemizzatoreService.refreshShoppingCart()):(this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan="Standard",document.getElementById("digitalizzazione-checkout-card").style.display="flex",this.generalService.presentToast("Applicazione | Piano Standard selezionato nel modulo digitalizzazione")),this.alchemizzatoreService.refreshShoppingCart()}addDeluxeApp(){this.generalService.unsavedChanges=!0,"Deluxe"==this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan?(this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan="",this.generalService.presentToast("Applicazione | Piano Deluxe deselezionato con successo nel modulo digitalizzazione"),this.alchemizzatoreService.refreshShoppingCart()):(this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan="Deluxe",document.getElementById("digitalizzazione-checkout-card").style.display="flex",this.generalService.presentToast("Applicazione | Piano Deluxe selezionato nel modulo digitalizzazione")),this.alchemizzatoreService.refreshShoppingCart()}addIot(){this.generalService.unsavedChanges=!0,"Selected"==this.alchemizzatoreService.currentDigitalizzazioneSelectedIot?(this.alchemizzatoreService.currentDigitalizzazioneSelectedIot="",this.generalService.presentToast("Iot deselezionato con successo nel modulo digitalizzazione"),this.alchemizzatoreService.refreshShoppingCart()):(this.alchemizzatoreService.currentDigitalizzazioneSelectedIot="Selected",document.getElementById("digitalizzazione-checkout-card").style.display="flex",this.generalService.presentToast("Iot selezionato nel modulo digitalizzazione")),this.alchemizzatoreService.refreshShoppingCart()}}return(n=e).\u0275fac=function(r){return new(r||n)(u.rXU(ac),u.rXU(ky))},n.\u0275cmp=u.VBU({type:n,selectors:[["app-digitalizzazione"]],decls:260,vars:0,consts:[[2,"width","100%","display","flex","flex-direction","column","gap","1rem","padding-bottom","6rem","padding-left","1rem","padding-right","1rem"],[2,"margin-top","1rem","margin-bottom","1rem","margin-right","1rem","font-size","1.8rem"],[2,"width","100%","display","flex","flex-wrap","wrap","gap","1rem"],["id","modules-input",1,"card",2,"flex","1 1 0","min-width","20rem","padding-left","1rem","cursor","pointer","display","flex","flex-direction","row","gap","1rem","flex-wrap","wrap","padding-top","1rem","align-items","center","padding-bottom","1rem"],[2,"flex","1 1 0","min-width","15rem"],["src","assets\\svg\\undraw_programming_re_kg9v (1).svg",2,"width","15rem","margin-top","1rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","5rem"],[2,"margin-top","0.2rem","margin-bottom","0rem","font-size","1rem"],[2,"width","90%","background","#333","height","1px","margin-right","2rem"],[2,"margin-top","0rem","margin-bottom","0rem"],[2,"margin-top","0rem","margin-bottom","0rem","font-weight","bold"],[1,"btn",2,"margin-right","0.5rem","width","90%","text-align","center","margin-top","1rem",3,"click"],["src","assets\\svg\\undraw_dashboard_re_3b76.svg",2,"width","15rem","margin-top","1rem"],["id","mioElemento",2,"flex","1 1 0","min-width","15rem"],["id","text-sbarrato"],["id","text-prezzo scontato"],["id","rimbalzo2",2,"flex","1 1 0","min-width","15rem"],["id","text-sbarrato2"],["id","text-prezzo scontato2"],["src","assets\\svg\\undraw_firmware_re_fgdy.svg",2,"width","15rem","margin-top","1rem"],[1,"material-symbols-outlined","notranslate"]],template:function(r,s){1&r&&(u.j41(0,"div",0)(1,"h1",1),u.EFF(2,"Digitalizzazione e automatismi"),u.k0s(),u.j41(3,"div",2)(4,"div",2)(5,"div",3)(6,"div",4),u.nrm(7,"img",5),u.j41(8,"div")(9,"h1"),u.EFF(10,"Sito web"),u.k0s(),u.j41(11,"p")(12,"strong"),u.EFF(13,"Raggiungi un pubblico mondiale"),u.k0s(),u.EFF(14," e "),u.j41(15,"strong"),u.EFF(16,"aumenta le vendite"),u.k0s()(),u.j41(17,"p"),u.EFF(18,"Permetti ai tuoi clienti di avere "),u.j41(19,"strong"),u.EFF(20,"informazioni sulla tua attivit\xe0 in qualsiasi momento"),u.k0s(),u.EFF(21," grazie ai potenti algoritmi informatici alla base dei motori di ricerca"),u.k0s()()(),u.j41(22,"div",4)(23,"span",6),u.EFF(24,"deployed_code"),u.k0s(),u.j41(25,"h3"),u.EFF(26,"Basic"),u.k0s(),u.j41(27,"span")(28,"strong"),u.EFF(29,"\u20ac650"),u.k0s(),u.EFF(30," IVA Inclusa +"),u.k0s(),u.j41(31,"p",7)(32,"strong"),u.EFF(33,"\u20ac50/mese"),u.k0s(),u.EFF(34," IVA Inclusa"),u.k0s(),u.nrm(35,"hr",8),u.j41(36,"p",9),u.EFF(37,"-Sito vetrina"),u.k0s(),u.j41(38,"p",9),u.EFF(39,"-Men\xf9 negozio"),u.k0s(),u.j41(40,"p",9),u.EFF(41,"-Landing page"),u.k0s(),u.nrm(42,"hr",8),u.j41(43,"p",9),u.EFF(44,"-Pubblicazione"),u.k0s(),u.j41(45,"p",9),u.EFF(46,"-Modifica foto, testi e video"),u.k0s(),u.j41(47,"p",10),u.EFF(48,"-1 funzione nuova/mese"),u.k0s(),u.j41(49,"button",11),u.bIt("click",function(){return s.addBasicWebsite()}),u.EFF(50,"Seleziona"),u.k0s()(),u.j41(51,"div",4)(52,"span",6),u.EFF(53,"trending_up"),u.k0s(),u.j41(54,"h3"),u.EFF(55,"Standard"),u.k0s(),u.j41(56,"span")(57,"strong"),u.EFF(58,"\u20ac1000"),u.k0s(),u.EFF(59," IVA Inclusa +"),u.k0s(),u.j41(60,"p",7)(61,"strong"),u.EFF(62,"\u20ac60/mese"),u.k0s(),u.EFF(63," IVA Inclusa"),u.k0s(),u.nrm(64,"hr",8),u.j41(65,"p",9),u.EFF(66,"-Sito aziendale"),u.k0s(),u.j41(67,"p",9),u.EFF(68,"-Form (raccolta informazioni es: raccolta preventivo)"),u.k0s(),u.nrm(69,"hr",8),u.j41(70,"p",9),u.EFF(71,"-Pubblicazione"),u.k0s(),u.j41(72,"p",9),u.EFF(73,"-Modifica foto, testi e video"),u.k0s(),u.j41(74,"p",10),u.EFF(75,"-3 funzioni nuove/mese"),u.k0s(),u.j41(76,"button",11),u.bIt("click",function(){return s.on(),s.addStandardWebsite()}),u.EFF(77,"Seleziona"),u.k0s()(),u.j41(78,"div",4)(79,"span",6),u.EFF(80,"diamond"),u.k0s(),u.j41(81,"h3"),u.EFF(82,"Deluxe"),u.k0s(),u.j41(83,"span")(84,"strong"),u.EFF(85,"\u20ac2000"),u.k0s(),u.EFF(86," IVA Inclusa +"),u.k0s(),u.j41(87,"p",7)(88,"strong"),u.EFF(89,"\u20ac100/mese"),u.k0s(),u.EFF(90," IVA Inclusa"),u.k0s(),u.nrm(91,"hr",8),u.j41(92,"p",9),u.EFF(93,"-Sito aziendale professionale e scalabile"),u.k0s(),u.j41(94,"p",9),u.EFF(95,"-Interconnesso con web app"),u.k0s(),u.nrm(96,"hr",8),u.j41(97,"p",9),u.EFF(98,"-Pubblicazione"),u.k0s(),u.j41(99,"p",9),u.EFF(100,"-Modifica foto, testi e video"),u.k0s(),u.j41(101,"p",10),u.EFF(102,"-5 funzioni nuove/mese"),u.k0s(),u.j41(103,"button",11),u.bIt("click",function(){return s.on(),s.addDeluxeWebsite()}),u.EFF(104,"Seleziona"),u.k0s()()()(),u.j41(105,"div",2)(106,"div",3)(107,"div",4),u.nrm(108,"img",12),u.j41(109,"div")(110,"h1"),u.EFF(111,"Applicazioni"),u.k0s(),u.j41(112,"p")(113,"strong"),u.EFF(114,"Trasforma la tua idea in realt\xe0 grazie ai nostri supporti digitali dedicati"),u.k0s(),u.EFF(115,", ottieni un' "),u.j41(116,"strong"),u.EFF(117,"organizzazione migliore"),u.k0s(),u.EFF(118," e "),u.j41(119,"strong"),u.EFF(120,"aumenta la tua produttivit\xe0"),u.k0s()()()(),u.j41(121,"div",4)(122,"span",6),u.EFF(123,"deployed_code"),u.k0s(),u.j41(124,"h3"),u.EFF(125,"Basic"),u.k0s(),u.j41(126,"span")(127,"strong"),u.EFF(128,"\u20ac2000"),u.k0s(),u.EFF(129," IVA Inclusa +"),u.k0s(),u.j41(130,"p",7)(131,"strong"),u.EFF(132,"\u20ac90/mese"),u.k0s(),u.EFF(133," IVA Inclusa"),u.k0s(),u.nrm(134,"hr",8),u.j41(135,"p",9),u.EFF(136,"-Solo web app"),u.k0s(),u.j41(137,"p",9),u.EFF(138,"-Pubblicazione online"),u.k0s(),u.j41(139,"p",9),u.EFF(140,"-Non connettibile all'IOT"),u.k0s(),u.nrm(141,"hr",8),u.j41(142,"p",9),u.EFF(143,"-Pubblicazione sugli store"),u.k0s(),u.j41(144,"p",9),u.EFF(145,"-Modifica foto, testi e video"),u.k0s(),u.j41(146,"p",10),u.EFF(147,"-1 funzioni nuove/mese"),u.k0s(),u.j41(148,"button",11),u.bIt("click",function(){return s.addBasicApp()}),u.EFF(149,"Seleziona"),u.k0s()(),u.j41(150,"div",13)(151,"span",6),u.EFF(152,"trending_up"),u.k0s(),u.j41(153,"h3"),u.EFF(154,"Standard"),u.k0s(),u.j41(155,"span")(156,"strong",14),u.EFF(157,"\u20ac3000"),u.k0s(),u.nrm(158,"strong",15),u.EFF(159," IVA Inclusa +"),u.k0s(),u.j41(160,"p",7)(161,"strong"),u.EFF(162,"\u20ac150/mese"),u.k0s(),u.EFF(163," IVA Inclusa"),u.k0s(),u.nrm(164,"hr",8),u.j41(165,"p",9),u.EFF(166,"-Web app o Nativa"),u.k0s(),u.j41(167,"p",9),u.EFF(168,"-Pubblicazione online"),u.k0s(),u.j41(169,"p",9),u.EFF(170,"-Connettibile all'IOT"),u.k0s(),u.nrm(171,"hr",8),u.j41(172,"p",9),u.EFF(173,"-Pubblicazione sugli store"),u.k0s(),u.j41(174,"p",9),u.EFF(175,"-Modifica foto, testi e video"),u.k0s(),u.j41(176,"p",10),u.EFF(177,"-2 funzioni nuove/mese"),u.k0s(),u.j41(178,"button",11),u.bIt("click",function(){return s.addStandardApp()}),u.EFF(179,"Seleziona"),u.k0s()(),u.j41(180,"div",16)(181,"span",6),u.EFF(182,"diamond"),u.k0s(),u.j41(183,"h3"),u.EFF(184,"Deluxe"),u.k0s(),u.j41(185,"span")(186,"strong",17),u.EFF(187,"\u20ac6000"),u.k0s(),u.nrm(188,"strong",18),u.EFF(189," IVA Inclusa +"),u.k0s(),u.j41(190,"p",7)(191,"strong"),u.EFF(192,"\u20ac250/mese"),u.k0s(),u.EFF(193," IVA Inclusa"),u.k0s(),u.nrm(194,"hr",8),u.j41(195,"p",9),u.EFF(196,"-Web app o Nativa"),u.k0s(),u.j41(197,"p",9),u.EFF(198,"-Pubblicazione online"),u.k0s(),u.j41(199,"p",9),u.EFF(200,"-Connettibile all'IOT"),u.k0s(),u.nrm(201,"hr",8),u.j41(202,"p",9),u.EFF(203,"-Pubblicazione sugli store"),u.k0s(),u.j41(204,"p",9),u.EFF(205,"-Modifica foto, testi e video"),u.k0s(),u.j41(206,"p",10),u.EFF(207,"-5 funzioni nuove/mese"),u.k0s(),u.j41(208,"button",11),u.bIt("click",function(){return s.addDeluxeApp()}),u.EFF(209,"Seleziona"),u.k0s()()()()(),u.j41(210,"div",2)(211,"div",3)(212,"div",4),u.nrm(213,"img",19),u.j41(214,"div")(215,"h1"),u.EFF(216,"Iot | internet delle cose"),u.k0s(),u.j41(217,"p")(218,"strong"),u.EFF(219,"Monitora automaticamente i tuoi processi produttivi"),u.k0s(),u.EFF(220," grazie ad appositi "),u.j41(221,"strong"),u.EFF(222,"soluzioni hardware connesse alle nostre soluzioni software"),u.k0s()()()(),u.j41(223,"div",4)(224,"span",6),u.EFF(225,"precision_manufacturing"),u.k0s(),u.nrm(226,"h3"),u.j41(227,"span"),u.EFF(228,"a partire da "),u.j41(229,"strong"),u.EFF(230,"\u20ac2500"),u.k0s(),u.EFF(231," IVA Inclusa +"),u.k0s(),u.j41(232,"p",7),u.EFF(233,"a partire da "),u.j41(234,"strong"),u.EFF(235,"\u20ac100/mese"),u.k0s(),u.EFF(236," IVA Inclusa"),u.k0s(),u.nrm(237,"hr",8),u.j41(238,"p",9)(239,"span",20),u.EFF(240,"notifications"),u.k0s(),u.EFF(241,"Allarme"),u.k0s(),u.j41(242,"p",9)(243,"span",20),u.EFF(244,"counter_3"),u.k0s(),u.EFF(245,"Contatore pezzi lavorati"),u.k0s(),u.j41(246,"p",9)(247,"span",20),u.EFF(248,"weight"),u.k0s(),u.EFF(249,"Bilance smart"),u.k0s(),u.j41(250,"p",9)(251,"span",20),u.EFF(252,"share_location"),u.k0s(),u.EFF(253,"Tracciamento"),u.k0s(),u.j41(254,"p",9)(255,"span",20),u.EFF(256,"table_restaurant"),u.k0s(),u.EFF(257,"Avviso pietanze pronte"),u.k0s(),u.j41(258,"button",11),u.bIt("click",function(){return s.addIot()}),u.EFF(259,"Seleziona"),u.k0s()()()()())},styles:[".miaClasse[_ngcontent-%COMP%]{transition:.2s box-shadow ease-in,.2s background ease-in;box-shadow:0 0 10px 5px #ffd70080;padding:1rem 0rem 1rem 1rem;border-radius:1rem;background:#ffd9001d;margin-right:1rem;animation:_ngcontent-%COMP%_rimbalzo 1.5s infinite}@keyframes _ngcontent-%COMP%_rimbalzo{0%{transform:translateY(0)}50%{transform:translateY(-10px)}to{transform:translateY(0)}}.rimbalzo-class[_ngcontent-%COMP%]{transition:.2s box-shadow ease-in,.2s background ease-in;box-shadow:0 0 10px 5px #00a6ff80;padding:1rem 0rem 1rem 1rem;border-radius:1rem;background:#00bbff1d;margin-right:1rem;animation:_ngcontent-%COMP%_rimbalzo 1s infinite}.sbarrato[_ngcontent-%COMP%]{text-decoration:line-through}"]}),e})(),sz=(()=>{var n;class e{constructor(r){this.generalService=r}ngOnInit(){}unloadNotification(r){this.generalService.unsavedChanges&&(r.preventDefault(),r.returnValue="")}showAssistenzaCliente(){document.getElementById("assistenza-commerciale").style.display="flex",document.getElementById("first-message-assistenza-commerciale-text").innerText="Ti rispondo dall'ufficio, chiedi assistenza per il cliente "+document.getElementById("customer-info-ragione-sociale-input").value+" che stai configurando in questo momento?",setTimeout(()=>{document.getElementById("ti-stiamo-collegando-message").style.display="none",document.getElementById("first-message-assistenza-commerciale").style.display="flex"},5e3)}sendMessage(){document.getElementById("second-message-assistenza-commerciale-text").innerText=document.getElementById("assistenza-commerciale-message-input").value,document.getElementById("second-message-assistenza-commerciale").style.display="flex"}showCustomerInput(){document.getElementById("customer-input-container").style.display="flex",document.getElementById("modules-selection-container").style.display="none",document.getElementById("shopping-cart-container").style.display="none",document.getElementById("assistenza-commerciale-button").style.display="none",document.getElementById("immagine-container").style.display="none",document.getElementById("digitalizzazione-container").style.display="none",document.getElementById("management-container").style.display="none",document.getElementById("contabilit\xe0-container").style.display="none"}showModulesSelection(){document.getElementById("customer-input-container").style.display="none",document.getElementById("modules-selection-container").style.display="flex",document.getElementById("shopping-cart-container").style.display="none",document.getElementById("assistenza-commerciale-button").style.display="none",document.getElementById("immagine-container").style.display="none",document.getElementById("digitalizzazione-container").style.display="none",document.getElementById("management-container").style.display="none",document.getElementById("contabilit\xe0-container").style.display="none"}showShoppingCart(){document.getElementById("customer-input-container").style.display="none",document.getElementById("modules-selection-container").style.display="none",document.getElementById("shopping-cart-container").style.display="flex",document.getElementById("assistenza-commerciale-button").style.display="flex",document.getElementById("immagine-container").style.display="none",document.getElementById("digitalizzazione-container").style.display="none",document.getElementById("management-container").style.display="none",document.getElementById("contabilit\xe0-container").style.display="none"}}return(n=e).\u0275fac=function(r){return new(r||n)(u.rXU(ac))},n.\u0275cmp=u.VBU({type:n,selectors:[["app-alchemizzatore"]],hostBindings:function(r,s){1&r&&u.bIt("beforeunload",function(h){return s.unloadNotification(h)},!1,u.tSv)},decls:27,vars:0,consts:[[1,"card1","scrollbar-resp-width",2,"width","calc(100% - 2rem)","height","2.5rem","margin-top","1rem","pointer-events","all","position","absolute","z-index","999","margin-left","1rem","margin-right","1rem","overflow-y","hidden","overflow-x","auto"],[2,"width","100%","height","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem"],[1,"step-button",3,"click"],[1,"material-symbols-outlined","notranslate"],[1,"step-button","notranslate",3,"click"],[2,"flex","1"],["id","assistenza-commerciale-button",1,"step-button","notranslate",2,"margin-right","1rem","display","none",3,"click"],[2,"width","100%","height","100%","overflow-y","auto","overflow-x","hidden","padding-top","5rem"],["id","customer-input-container",2,"display","none"],["id","modules-selection-container",2,"display","none"],["id","shopping-cart-container",2,"display","flex","flex-direction","column"],["id","immagine-container",2,"display","none"],["id","digitalizzazione-container",2,"display","none"],["id","management-container",2,"display","none"],["id","contabilit\xe0-container",2,"display","none"]],template:function(r,s){1&r&&(u.j41(0,"div",0)(1,"div",1)(2,"button",2),u.bIt("click",function(){return s.showCustomerInput()}),u.j41(3,"span",3),u.EFF(4,"person"),u.k0s(),u.EFF(5,"Anagrafica"),u.k0s(),u.j41(6,"button",2),u.bIt("click",function(){return s.showModulesSelection()}),u.j41(7,"span",3),u.EFF(8,"design_services"),u.k0s(),u.EFF(9,"Moduli"),u.k0s(),u.j41(10,"button",4),u.bIt("click",function(){return s.showShoppingCart()}),u.j41(11,"span",3),u.EFF(12,"shopping_cart"),u.k0s(),u.EFF(13,"Checkout"),u.k0s(),u.nrm(14,"div",5),u.j41(15,"button",6),u.bIt("click",function(){return s.showAssistenzaCliente()}),u.j41(16,"span",3),u.EFF(17,"support_agent"),u.k0s(),u.EFF(18,"Assistenza Commerciale"),u.k0s()()(),u.j41(19,"div",7),u.nrm(20,"app-customer-info-input",8)(21,"app-modules",9)(22,"app-shopping-cart",10)(23,"app-immagine",11)(24,"app-digitalizzazione",12)(25,"app-management",13)(26,"app-contabilita",14),u.k0s())},dependencies:[Z4,ez,tz,nz,rz,iz,oz]}),e})();function az(n,e){if(1&n){const t=u.RV6();u.j41(0,"tbody")(1,"tr")(2,"td"),u.EFF(3),u.k0s(),u.j41(4,"td"),u.EFF(5),u.k0s(),u.j41(6,"td"),u.EFF(7),u.k0s(),u.j41(8,"td"),u.EFF(9),u.k0s(),u.j41(10,"td"),u.EFF(11),u.k0s(),u.j41(12,"td",10)(13,"span",11),u.EFF(14,"edit"),u.k0s(),u.j41(15,"span",12),u.bIt("click",function(){const s=u.eBV(t).$implicit,c=u.XpG();return u.Njj(c.deleteProspect(s))}),u.EFF(16,"delete"),u.k0s()()()()}if(2&n){const t=e.$implicit;u.R7$(3),u.JRh(t.ragione_sociale),u.R7$(2),u.JRh(t.referente),u.R7$(2),u.JRh(t.phone_number),u.R7$(2),u.JRh(t.active_services),u.R7$(2),u.JRh(t.ultimo_esito)}}const lz=[{path:"home",loadChildren:()=>ee.e(5075).then(ee.bind(ee,5075)).then(n=>n.HomePageModule)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"log",component:(()=>{var n;class e{constructor(){}ngOnInit(){document.getElementById("sidebar").style.display="none",document.getElementById("header").style.display="none",document.getElementById("mobile-footer").style.display="none",document.getElementById("responsive-container-1").style.height="100%",document.getElementById("responsive-container-1").style.width="100%"}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=u.VBU({type:n,selectors:[["app-log"]],decls:8,vars:0,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],[1,"card1",2,"display","flex","flex-direction","column","width","18rem","gap","1rem","padding","1rem"],["routerLink","/login",1,"btn"],["routerLink","/register",1,"btn"]],template:function(r,s){1&r&&(u.j41(0,"div",0)(1,"div",1)(2,"h3"),u.EFF(3,"Accesso"),u.k0s(),u.j41(4,"button",2),u.EFF(5,"Accedi"),u.k0s(),u.j41(6,"button",3),u.EFF(7,"Registati"),u.k0s()()())},dependencies:[M.N7,Qu.Wk]}),e})()},{path:"login",component:(()=>{var n;class e{constructor(r,s){this.generalService=r,this.router=s}ngOnInit(){document.getElementById("sidebar").style.display="none",document.getElementById("header").style.display="none",document.getElementById("mobile-footer").style.display="none",document.getElementById("responsive-container-1").style.height="100%",document.getElementById("responsive-container-1").style.width="100%"}login(){var r=document.getElementById("login-email-input").value,s=document.getElementById("login-password-input").value;yr.auth().signInWithEmailAndPassword(r,s).then(c=>{this.generalService.presentToast("Login effettuato con successo"),this.router.navigate(["/home"])}).catch(c=>{"auth/invalid-credential"==c.code&&this.generalService.presentToast("Email o password non validi")})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.rXU(ac),u.rXU(Qu.Ix))},n.\u0275cmp=u.VBU({type:n,selectors:[["app-login"]],decls:14,vars:0,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],[1,"card1",2,"display","flex","flex-direction","column","width","18rem","padding","1rem"],[1,"inputGroup",2,"flex","1 1 0","min-width","200px"],["id","login-email-input","type","text",1,"input-field3"],["for","login-email-input"],["id","login-password-input","type","text",1,"input-field3"],["for","login-password-input"],[1,"btn",3,"click"]],template:function(r,s){1&r&&(u.j41(0,"div",0)(1,"div",1)(2,"h3"),u.EFF(3,"Accesso"),u.k0s(),u.j41(4,"div",2),u.nrm(5,"input",3),u.j41(6,"label",4),u.EFF(7,"Email"),u.k0s()(),u.j41(8,"div",2),u.nrm(9,"input",5),u.j41(10,"label",6),u.EFF(11,"Password"),u.k0s()(),u.j41(12,"button",7),u.bIt("click",function(){return s.login()}),u.EFF(13,"Accedi"),u.k0s()()())}}),e})()},{path:"register",component:(()=>{var n;class e{constructor(r,s){this.generalService=r,this.router=s}ngOnInit(){document.getElementById("sidebar").style.display="none",document.getElementById("header").style.display="none",document.getElementById("mobile-footer").style.display="none",document.getElementById("responsive-container-1").style.height="100%",document.getElementById("responsive-container-1").style.width="100%"}register(){var r=document.getElementById("register-email-input").value,s=document.getElementById("register-password-input").value,c=document.getElementById("register-password-confirm-input").value,h=document.getElementById("register-name-input").value,m=document.getElementById("register-surname-input").value,y=document.getElementById("register-phone-number-input").value,T=document.getElementById("register-pro-selection-input").value;s==c?yr.auth().createUserWithEmailAndPassword(r,s).then(N=>{const B=N.user;yr.firestore().collection("users_data").doc(B.uid).set({name:h,surname:m,proModule:T,phone:y,email:r}).catch(ue=>{this.generalService.presentToast("Errore nel salvataggio dei dati dell'utente durante la registrazione: "+ue.message)}),this.generalService.presentToast("Registrazione completata con successo"),this.router.navigate(["/home"])}).catch(N=>{"auth/invalid-email"==N.code&&this.generalService.presentToast("Email non valida"),"auth/weak-password"==N.code&&this.generalService.presentToast("Password troppo debole")}):this.generalService.presentToast("Le password inserite non corrispondono")}}return(n=e).\u0275fac=function(r){return new(r||n)(u.rXU(ac),u.rXU(Qu.Ix))},n.\u0275cmp=u.VBU({type:n,selectors:[["app-register"]],decls:44,vars:0,consts:[[2,"width","100%","display","flex","flex-direction","column","align-items","center","overflow-x","hidden","overflow-y","auto","padding-top","2rem","padding-bottom","2rem"],[1,"card1",2,"display","flex","flex-direction","column","min-width","18rem","padding","1rem"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem"],[1,"inputGroup",2,"flex","1 1 0","min-width","200px"],["id","register-name-input","type","text",1,"input-field3"],["for","register-name-input"],["id","register-surname-input","type","text",1,"input-field3"],["for","register-surname-input"],["id","register-email-input","type","text",1,"input-field3"],["for","register-email-input"],["id","register-phone-number-input","type","text",1,"input-field3"],["for","register-phone-number-input"],["id","register-password-input","type","text",1,"input-field3"],["for","register-password-input"],["id","register-password-confirm-input","type","text",1,"input-field3"],["for","register-password-confirm-input"],[2,"display","flex","flex-direction","column","flex","1 1 0","min-width","200px"],["for","register-pro-selection-input",2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","12rem","text-align","center"],[1,"inputGroup"],["id","register-pro-selection-input",1,"selector1",2,"width","100%"],["value","Immagine e presenza social"],["value","Ottimizzazione e management"],["value","Contabilit\xe0 e fiscalit\xe0"],["value","Digitalizzazione e automazione"],[1,"btn",3,"click"]],template:function(r,s){1&r&&(u.j41(0,"div",0)(1,"div",1)(2,"h3"),u.EFF(3,"Registrazione"),u.k0s(),u.j41(4,"div",2)(5,"div",3),u.nrm(6,"input",4),u.j41(7,"label",5),u.EFF(8,"Nome"),u.k0s()(),u.j41(9,"div",3),u.nrm(10,"input",6),u.j41(11,"label",7),u.EFF(12,"Cognome"),u.k0s()()(),u.j41(13,"div",3),u.nrm(14,"input",8),u.j41(15,"label",9),u.EFF(16,"Email"),u.k0s()(),u.j41(17,"div",3),u.nrm(18,"input",10),u.j41(19,"label",11),u.EFF(20,"Numero di telefono"),u.k0s()(),u.j41(21,"div",3),u.nrm(22,"input",12),u.j41(23,"label",13),u.EFF(24,"Password"),u.k0s()(),u.j41(25,"div",3),u.nrm(26,"input",14),u.j41(27,"label",15),u.EFF(28,"Conferma Password"),u.k0s()(),u.j41(29,"div",16)(30,"label",17),u.EFF(31,"Modulo di competenza"),u.k0s(),u.j41(32,"div",18)(33,"select",19)(34,"option",20),u.EFF(35,"Immagine e presenza social"),u.k0s(),u.j41(36,"option",21),u.EFF(37,"Ottimizzazione e management"),u.k0s(),u.j41(38,"option",22),u.EFF(39,"Contabilit\xe0 e fiscalit\xe0"),u.k0s(),u.j41(40,"option",23),u.EFF(41,"Digitalizzazione e automazione"),u.k0s()()()(),u.j41(42,"button",24),u.bIt("click",function(){return s.register()}),u.EFF(43,"Registrati"),u.k0s()()())}}),e})()},{path:"customers",component:J4},{path:"alchemizzatore",component:sz},{path:"prospects",component:(()=>{var n;class e{constructor(r){this.generalService=r,this.documents=new jL.t([]),this.nextPageAvailable=!0}ngOnInit(){this.fetchProspects()}fetchProspects(){yr.firestore().collection("prospects").limit(3).onSnapshot(r=>{const s=[];r.forEach(c=>{s.push({id:c.id,...c.data()})}),this.documents.next(s)},r=>{this.generalService.presentToast("Errore nel recuperare i prospects: "+r)})}deleteProspect(r){confirm("Sei sicuro di voler eliminare questo prospect?")&&yr.firestore().collection("prospects").doc(r.id).delete().then(()=>{this.generalService.presentToast("Prospect eliminato con successo")}).catch(s=>{this.generalService.presentToast("Errore nell'eliminare il prospect: "+s)})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.rXU(ac))},n.\u0275cmp=u.VBU({type:n,selectors:[["app-prospects"]],decls:55,vars:3,consts:[[2,"height","100%","padding-top","1rem","padding-left","1rem","padding-right","1rem"],[2,"margin-top","0rem"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem"],[1,"card1",2,"padding-left","1rem","width","18rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","margin-top","1rem","gap","1rem"],[1,"btn"],[1,"table"],[4,"ngFor","ngForOf"],[2,"width","100%","display","flex","flex-direction","column","align-items","center"],[2,"width","95%","height","2.5rem","border-radius","0.5rem","margin-top","1rem","margin-bottom","1rem","flex-shrink","0"],[2,"display","flex","flex-direction","row","align-content","center","gap","1rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","1.5rem","cursor","pointer"],[1,"material-symbols-outlined","notranslate",2,"font-size","1.5rem","cursor","pointer",3,"click"]],template:function(r,s){1&r&&(u.j41(0,"div",0)(1,"h1",1),u.EFF(2,"Prospects | "),u.k0s(),u.j41(3,"div",2)(4,"div",3)(5,"div")(6,"h3"),u.EFF(7,"Da vedere"),u.k0s(),u.j41(8,"p"),u.EFF(9,"N. da contattare:"),u.k0s(),u.j41(10,"p"),u.EFF(11,"N. da richiamare:"),u.k0s(),u.j41(12,"p"),u.EFF(13,"N. nuovi:"),u.k0s(),u.j41(14,"p"),u.EFF(15,"Provincia di interesse:"),u.k0s()()(),u.j41(16,"div",3)(17,"div")(18,"h3"),u.EFF(19,"Visti"),u.k0s(),u.j41(20,"p"),u.EFF(21,"N. contattati:"),u.k0s(),u.j41(22,"p"),u.EFF(23,"N. servizi medi:"),u.k0s(),u.j41(24,"p"),u.EFF(25,"Tot. importo configurato:"),u.k0s(),u.j41(26,"p"),u.EFF(27,"Motivo principale di rifiuto:"),u.k0s()()()(),u.j41(28,"div",4)(29,"button",5),u.EFF(30,"Tutti"),u.k0s(),u.j41(31,"button",5),u.EFF(32,"Da contattare"),u.k0s(),u.j41(33,"button",5),u.EFF(34,"Contattati"),u.k0s()(),u.j41(35,"table",6)(36,"thead")(37,"tr")(38,"th"),u.EFF(39,"Ragione Sociale"),u.k0s(),u.j41(40,"th"),u.EFF(41,"Referente"),u.k0s(),u.j41(42,"th"),u.EFF(43,"Telefono"),u.k0s(),u.j41(44,"th"),u.EFF(45,"Servizi attivi"),u.k0s(),u.j41(46,"th"),u.EFF(47,"Ultimo esito"),u.k0s(),u.j41(48,"th"),u.EFF(49,"Azioni"),u.k0s()()(),u.DNE(50,az,17,5,"tbody",7),u.nI1(51,"async"),u.k0s()(),u.j41(52,"div",8)(53,"button",9),u.EFF(54,"Carica altri"),u.k0s()()),2&r&&(u.R7$(50),u.Y8G("ngForOf",u.bMT(51,1,s.documents)))},dependencies:[v.Sq,v.Jj]}),e})()}];let cz=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.$C({type:n}),n.\u0275inj=u.G2t({imports:[Qu.iI.forRoot(lz,{preloadingStrategy:Qu.Kp}),Qu.iI]}),e})(),uz=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.$C({type:n,bootstrap:[Q4]}),n.\u0275inj=u.G2t({providers:[{provide:v.hb,useClass:v.fw}],imports:[Q.Bb,M.bv.forRoot(),cz]}),e})();(0,u.SmG)(),Q.sG().bootstrapModule(uz).catch(n=>console.log(n))},4412:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{t:()=>Q});var x=ee(1413);class Q extends x.B{constructor(M){super(),this._value=M}get value(){return this.getValue()}_subscribe(M){const v=super._subscribe(M);return!v.closed&&M.next(this._value),v}getValue(){const{hasError:M,thrownError:v,_value:He}=this;if(M)throw v;return this._throwIfClosed(),He}next(M){super.next(this._value=M)}}},1985:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{c:()=>De});var x=ee(7707),Q=ee(8359),u=ee(3494),M=ee(1203),v=ee(1026),He=ee(8071),re=ee(9786);let De=(()=>{class ke{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const Ke=new ke;return Ke.source=this,Ke.operator=Te,Ke}subscribe(Te,Ke,it){const Xe=function ge(ke){return ke&&ke instanceof x.vU||function qe(ke){return ke&&(0,He.T)(ke.next)&&(0,He.T)(ke.error)&&(0,He.T)(ke.complete)}(ke)&&(0,Q.Uv)(ke)}(Te)?Te:new x.Ms(Te,Ke,it);return(0,re.Y)(()=>{const{operator:Qe,source:vt}=this;Xe.add(Qe?Qe.call(Xe,vt):vt?this._subscribe(Xe):this._trySubscribe(Xe))}),Xe}_trySubscribe(Te){try{return this._subscribe(Te)}catch(Ke){Te.error(Ke)}}forEach(Te,Ke){return new(Ke=Ge(Ke))((it,Xe)=>{const Qe=new x.Ms({next:vt=>{try{Te(vt)}catch(We){Xe(We),Qe.unsubscribe()}},error:Xe,complete:it});this.subscribe(Qe)})}_subscribe(Te){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(Te)}[u.s](){return this}pipe(...Te){return(0,M.m)(Te)(this)}toPromise(Te){return new(Te=Ge(Te))((Ke,it)=>{let Xe;this.subscribe(Qe=>Xe=Qe,Qe=>it(Qe),()=>Ke(Xe))})}}return ke.create=Re=>new ke(Re),ke})();function Ge(ke){var Re;return null!==(Re=null!=ke?ke:v.$.Promise)&&void 0!==Re?Re:Promise}},1413:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{B:()=>re});var x=ee(1985),Q=ee(8359);const M=(0,ee(1853).L)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var v=ee(7908),He=ee(9786);let re=(()=>{class Ge extends x.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const ke=new De(this,this);return ke.operator=ge,ke}_throwIfClosed(){if(this.closed)throw new M}next(ge){(0,He.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ke of this.currentObservers)ke.next(ge)}})}error(ge){(0,He.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:ke}=this;for(;ke.length;)ke.shift().error(ge)}})}complete(){(0,He.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:ke,isStopped:Re,observers:Te}=this;return ke||Re?Q.Kn:(this.currentObservers=null,Te.push(ge),new Q.yU(()=>{this.currentObservers=null,(0,v.o)(Te,ge)}))}_checkFinalizedStatuses(ge){const{hasError:ke,thrownError:Re,isStopped:Te}=this;ke?ge.error(Re):Te&&ge.complete()}asObservable(){const ge=new x.c;return ge.source=this,ge}}return Ge.create=(qe,ge)=>new De(qe,ge),Ge})();class De extends re{constructor(qe,ge){super(),this.destination=qe,this.source=ge}next(qe){var ge,ke;null===(ke=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===ke||ke.call(ge,qe)}error(qe){var ge,ke;null===(ke=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===ke||ke.call(ge,qe)}complete(){var qe,ge;null===(ge=null===(qe=this.destination)||void 0===qe?void 0:qe.complete)||void 0===ge||ge.call(qe)}_subscribe(qe){var ge,ke;return null!==(ke=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(qe))&&void 0!==ke?ke:Q.Kn}}},7707:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{Ms:()=>it,vU:()=>ke});var x=ee(8071),Q=ee(8359),u=ee(1026),M=ee(5334),v=ee(5343);const He=Ge("C",void 0,void 0);function Ge(at,pe,Ne){return{kind:at,value:pe,error:Ne}}var qe=ee(9270),ge=ee(9786);class ke extends Q.yU{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,Q.Uv)(pe)&&pe.add(this)):this.destination=We}static create(pe,Ne,ze){return new it(pe,Ne,ze)}next(pe){this.isStopped?vt(function De(at){return Ge("N",at,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?vt(function re(at){return Ge("E",void 0,at)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?vt(He,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function Te(at,pe){return Re.call(at,pe)}class Ke{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(pe)}catch(ze){Xe(ze)}}error(pe){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(pe)}catch(ze){Xe(ze)}else Xe(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(Ne){Xe(Ne)}}}class it extends ke{constructor(pe,Ne,ze){let tt;if(super(),(0,x.T)(pe)||!pe)tt={next:null!=pe?pe:void 0,error:null!=Ne?Ne:void 0,complete:null!=ze?ze:void 0};else{let nt;this&&u.$.useDeprecatedNextContext?(nt=Object.create(pe),nt.unsubscribe=()=>this.unsubscribe(),tt={next:pe.next&&Te(pe.next,nt),error:pe.error&&Te(pe.error,nt),complete:pe.complete&&Te(pe.complete,nt)}):tt=pe}this.destination=new Ke(tt)}}function Xe(at){u.$.useDeprecatedSynchronousErrorHandling?(0,ge.l)(at):(0,M.m)(at)}function vt(at,pe){const{onStoppedNotification:Ne}=u.$;Ne&&qe.f.setTimeout(()=>Ne(at,pe))}const We={closed:!0,next:v.l,error:function Qe(at){throw at},complete:v.l}},8359:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{Kn:()=>He,yU:()=>v,Uv:()=>re});var x=ee(8071);const u=(0,ee(1853).L)(Ge=>function(ge){Ge(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((ke,Re)=>`${Re+1}) ${ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var M=ee(7908);class v{constructor(qe){this.initialTeardown=qe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let qe;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const Te of ge)Te.remove(this);else ge.remove(this);const{initialTeardown:ke}=this;if((0,x.T)(ke))try{ke()}catch(Te){qe=Te instanceof u?Te.errors:[Te]}const{_finalizers:Re}=this;if(Re){this._finalizers=null;for(const Te of Re)try{De(Te)}catch(Ke){qe=null!=qe?qe:[],Ke instanceof u?qe=[...qe,...Ke.errors]:qe.push(Ke)}}if(qe)throw new u(qe)}}add(qe){var ge;if(qe&&qe!==this)if(this.closed)De(qe);else{if(qe instanceof v){if(qe.closed||qe._hasParent(this))return;qe._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(qe)}}_hasParent(qe){const{_parentage:ge}=this;return ge===qe||Array.isArray(ge)&&ge.includes(qe)}_addParent(qe){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(qe),ge):ge?[ge,qe]:qe}_removeParent(qe){const{_parentage:ge}=this;ge===qe?this._parentage=null:Array.isArray(ge)&&(0,M.o)(ge,qe)}remove(qe){const{_finalizers:ge}=this;ge&&(0,M.o)(ge,qe),qe instanceof v&&qe._removeParent(this)}}v.EMPTY=(()=>{const Ge=new v;return Ge.closed=!0,Ge})();const He=v.EMPTY;function re(Ge){return Ge instanceof v||Ge&&"closed"in Ge&&(0,x.T)(Ge.remove)&&(0,x.T)(Ge.add)&&(0,x.T)(Ge.unsubscribe)}function De(Ge){(0,x.T)(Ge)?Ge():Ge.unsubscribe()}},1026:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{$:()=>x});const x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{z:()=>qe});var x=ee(1985),Q=ee(3073),u=ee(6648),M=ee(3669),v=ee(6450),He=ee(3794),re=ee(8496),De=ee(4360),Ge=ee(5225);function qe(...Re){const Te=(0,He.lI)(Re),Ke=(0,He.ms)(Re),{args:it,keys:Xe}=(0,Q.D)(Re);if(0===it.length)return(0,u.H)([],Te);const Qe=new x.c(function ge(Re,Te,Ke=M.D){return it=>{ke(Te,()=>{const{length:Xe}=Re,Qe=new Array(Xe);let vt=Xe,We=Xe;for(let at=0;at<Xe;at++)ke(Te,()=>{const pe=(0,u.H)(Re[at],Te);let Ne=!1;pe.subscribe((0,De._)(it,ze=>{Qe[at]=ze,Ne||(Ne=!0,We--),We||it.next(Ke(Qe.slice()))},()=>{--vt||it.complete()}))},it)},it)}}(it,Te,Xe?vt=>(0,re.e)(Xe,vt):M.D));return Ke?Qe.pipe((0,v.I)(Ke)):Qe}function ke(Re,Te,Ke){Re?(0,Ge.N)(Ke,Re,Te):Te()}},6648:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{H:()=>ze});var x=ee(8750),Q=ee(5225),u=ee(9974),M=ee(4360);function v(tt,nt=0){return(0,u.N)((_t,Ye)=>{_t.subscribe((0,M._)(Ye,Pt=>(0,Q.N)(Ye,tt,()=>Ye.next(Pt),nt),()=>(0,Q.N)(Ye,tt,()=>Ye.complete(),nt),Pt=>(0,Q.N)(Ye,tt,()=>Ye.error(Pt),nt)))})}function He(tt,nt=0){return(0,u.N)((_t,Ye)=>{Ye.add(tt.schedule(()=>_t.subscribe(Ye),nt))})}var Ge=ee(1985),ge=ee(4761),ke=ee(8071);function Te(tt,nt){if(!tt)throw new Error("Iterable cannot be null");return new Ge.c(_t=>{(0,Q.N)(_t,nt,()=>{const Ye=tt[Symbol.asyncIterator]();(0,Q.N)(_t,nt,()=>{Ye.next().then(Pt=>{Pt.done?_t.complete():_t.next(Pt.value)})},0,!0)})})}var Ke=ee(5055),it=ee(9858),Xe=ee(7441),Qe=ee(5397),vt=ee(7953),We=ee(591),at=ee(5196);function ze(tt,nt){return nt?function Ne(tt,nt){if(null!=tt){if((0,Ke.l)(tt))return function re(tt,nt){return(0,x.Tg)(tt).pipe(He(nt),v(nt))}(tt,nt);if((0,Xe.X)(tt))return function qe(tt,nt){return new Ge.c(_t=>{let Ye=0;return nt.schedule(function(){Ye===tt.length?_t.complete():(_t.next(tt[Ye++]),_t.closed||this.schedule())})})}(tt,nt);if((0,it.y)(tt))return function De(tt,nt){return(0,x.Tg)(tt).pipe(He(nt),v(nt))}(tt,nt);if((0,vt.T)(tt))return Te(tt,nt);if((0,Qe.x)(tt))return function Re(tt,nt){return new Ge.c(_t=>{let Ye;return(0,Q.N)(_t,nt,()=>{Ye=tt[ge.l](),(0,Q.N)(_t,nt,()=>{let Pt,Ot;try{({value:Pt,done:Ot}=Ye.next())}catch(nn){return void _t.error(nn)}Ot?_t.complete():_t.next(Pt)},0,!0)}),()=>(0,ke.T)(null==Ye?void 0:Ye.return)&&Ye.return()})}(tt,nt);if((0,at.U)(tt))return function pe(tt,nt){return Te((0,at.C)(tt),nt)}(tt,nt)}throw(0,We.L)(tt)}(tt,nt):(0,x.Tg)(tt)}},8750:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{Tg:()=>Re});var x=ee(1635),Q=ee(7441),u=ee(9858),M=ee(1985),v=ee(5055),He=ee(7953),re=ee(591),De=ee(5397),Ge=ee(5196),qe=ee(8071),ge=ee(5334),ke=ee(3494);function Re(at){if(at instanceof M.c)return at;if(null!=at){if((0,v.l)(at))return function Te(at){return new M.c(pe=>{const Ne=at[ke.s]();if((0,qe.T)(Ne.subscribe))return Ne.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(at);if((0,Q.X)(at))return function Ke(at){return new M.c(pe=>{for(let Ne=0;Ne<at.length&&!pe.closed;Ne++)pe.next(at[Ne]);pe.complete()})}(at);if((0,u.y)(at))return function it(at){return new M.c(pe=>{at.then(Ne=>{pe.closed||(pe.next(Ne),pe.complete())},Ne=>pe.error(Ne)).then(null,ge.m)})}(at);if((0,He.T)(at))return Qe(at);if((0,De.x)(at))return function Xe(at){return new M.c(pe=>{for(const Ne of at)if(pe.next(Ne),pe.closed)return;pe.complete()})}(at);if((0,Ge.U)(at))return function vt(at){return Qe((0,Ge.C)(at))}(at)}throw(0,re.L)(at)}function Qe(at){return new M.c(pe=>{(function We(at,pe){var Ne,ze,tt,nt;return(0,x.sH)(this,void 0,void 0,function*(){try{for(Ne=(0,x.xN)(at);!(ze=yield Ne.next()).done;)if(pe.next(ze.value),pe.closed)return}catch(_t){tt={error:_t}}finally{try{ze&&!ze.done&&(nt=Ne.return)&&(yield nt.call(Ne))}finally{if(tt)throw tt.error}}pe.complete()})})(at,pe).catch(Ne=>pe.error(Ne))})}},7673:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{of:()=>u});var x=ee(3794),Q=ee(6648);function u(...M){const v=(0,x.lI)(M);return(0,Q.H)(M,v)}},4360:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{_:()=>Q});var x=ee(7707);function Q(M,v,He,re,De){return new u(M,v,He,re,De)}class u extends x.vU{constructor(v,He,re,De,Ge,qe){super(v),this.onFinalize=Ge,this.shouldUnsubscribe=qe,this._next=He?function(ge){try{He(ge)}catch(ke){v.error(ke)}}:super._next,this._error=De?function(ge){try{De(ge)}catch(ke){v.error(ke)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(ge){v.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var v;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:He}=this;super.unsubscribe(),!He&&(null===(v=this.onFinalize)||void 0===v||v.call(this))}}}},5964:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{p:()=>u});var x=ee(9974),Q=ee(4360);function u(M,v){return(0,x.N)((He,re)=>{let De=0;He.subscribe((0,Q._)(re,Ge=>M.call(v,Ge,De++)&&re.next(Ge)))})}},6354:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{T:()=>u});var x=ee(9974),Q=ee(4360);function u(M,v){return(0,x.N)((He,re)=>{let De=0;He.subscribe((0,Q._)(re,Ge=>{re.next(M.call(v,Ge,De++))}))})}},1397:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{Z:()=>De});var x=ee(6354),Q=ee(8750),u=ee(9974),M=ee(5225),v=ee(4360),re=ee(8071);function De(Ge,qe,ge=1/0){return(0,re.T)(qe)?De((ke,Re)=>(0,x.T)((Te,Ke)=>qe(ke,Te,Re,Ke))((0,Q.Tg)(Ge(ke,Re))),ge):("number"==typeof qe&&(ge=qe),(0,u.N)((ke,Re)=>function He(Ge,qe,ge,ke,Re,Te,Ke,it){const Xe=[];let Qe=0,vt=0,We=!1;const at=()=>{We&&!Xe.length&&!Qe&&qe.complete()},pe=ze=>Qe<ke?Ne(ze):Xe.push(ze),Ne=ze=>{Te&&qe.next(ze),Qe++;let tt=!1;(0,Q.Tg)(ge(ze,vt++)).subscribe((0,v._)(qe,nt=>{null==Re||Re(nt),Te?pe(nt):qe.next(nt)},()=>{tt=!0},void 0,()=>{if(tt)try{for(Qe--;Xe.length&&Qe<ke;){const nt=Xe.shift();Ke?(0,M.N)(qe,Ke,()=>Ne(nt)):Ne(nt)}at()}catch(nt){qe.error(nt)}}))};return Ge.subscribe((0,v._)(qe,pe,()=>{We=!0,at()})),()=>{null==it||it()}}(ke,Re,Ge,ge)))}},5558:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{n:()=>M});var x=ee(8750),Q=ee(9974),u=ee(4360);function M(v,He){return(0,Q.N)((re,De)=>{let Ge=null,qe=0,ge=!1;const ke=()=>ge&&!Ge&&De.complete();re.subscribe((0,u._)(De,Re=>{null==Ge||Ge.unsubscribe();let Te=0;const Ke=qe++;(0,x.Tg)(v(Re,Ke)).subscribe(Ge=(0,u._)(De,it=>De.next(He?He(Re,it,Ke,Te++):it),()=>{Ge=null,ke()}))},()=>{ge=!0,ke()}))})}},9270:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{f:()=>x});const x={setTimeout(Q,u,...M){const{delegate:v}=x;return null!=v&&v.setTimeout?v.setTimeout(Q,u,...M):setTimeout(Q,u,...M)},clearTimeout(Q){const{delegate:u}=x;return((null==u?void 0:u.clearTimeout)||clearTimeout)(Q)},delegate:void 0}},4761:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{l:()=>Q});const Q=function x(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{s:()=>x});const x="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{ms:()=>M,lI:()=>v});var x=ee(8071);function u(re){return re[re.length-1]}function M(re){return(0,x.T)(u(re))?re.pop():void 0}function v(re){return function Q(re){return re&&(0,x.T)(re.schedule)}(u(re))?re.pop():void 0}},3073:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{D:()=>v});const{isArray:x}=Array,{getPrototypeOf:Q,prototype:u,keys:M}=Object;function v(re){if(1===re.length){const De=re[0];if(x(De))return{args:De,keys:null};if(function He(re){return re&&"object"==typeof re&&Q(re)===u}(De)){const Ge=M(De);return{args:Ge.map(qe=>De[qe]),keys:Ge}}}return{args:re,keys:null}}},7908:(hn,Ct,ee)=>{"use strict";function x(Q,u){if(Q){const M=Q.indexOf(u);0<=M&&Q.splice(M,1)}}ee.d(Ct,{o:()=>x})},1853:(hn,Ct,ee)=>{"use strict";function x(Q){const M=Q(v=>{Error.call(v),v.stack=(new Error).stack});return M.prototype=Object.create(Error.prototype),M.prototype.constructor=M,M}ee.d(Ct,{L:()=>x})},8496:(hn,Ct,ee)=>{"use strict";function x(Q,u){return Q.reduce((M,v,He)=>(M[v]=u[He],M),{})}ee.d(Ct,{e:()=>x})},9786:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{Y:()=>u,l:()=>M});var x=ee(1026);let Q=null;function u(v){if(x.$.useDeprecatedSynchronousErrorHandling){const He=!Q;if(He&&(Q={errorThrown:!1,error:null}),v(),He){const{errorThrown:re,error:De}=Q;if(Q=null,re)throw De}}else v()}function M(v){x.$.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=v)}},5225:(hn,Ct,ee)=>{"use strict";function x(Q,u,M,v=0,He=!1){const re=u.schedule(function(){M(),He?Q.add(this.schedule(null,v)):this.unsubscribe()},v);if(Q.add(re),!He)return re}ee.d(Ct,{N:()=>x})},3669:(hn,Ct,ee)=>{"use strict";function x(Q){return Q}ee.d(Ct,{D:()=>x})},7441:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{X:()=>x});const x=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},7953:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{T:()=>Q});var x=ee(8071);function Q(u){return Symbol.asyncIterator&&(0,x.T)(null==u?void 0:u[Symbol.asyncIterator])}},8071:(hn,Ct,ee)=>{"use strict";function x(Q){return"function"==typeof Q}ee.d(Ct,{T:()=>x})},5055:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{l:()=>u});var x=ee(3494),Q=ee(8071);function u(M){return(0,Q.T)(M[x.s])}},5397:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{x:()=>u});var x=ee(4761),Q=ee(8071);function u(M){return(0,Q.T)(null==M?void 0:M[x.l])}},9858:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{y:()=>Q});var x=ee(8071);function Q(u){return(0,x.T)(null==u?void 0:u.then)}},5196:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{C:()=>u,U:()=>M});var x=ee(1635),Q=ee(8071);function u(v){return(0,x.AQ)(this,arguments,function*(){const re=v.getReader();try{for(;;){const{value:De,done:Ge}=yield(0,x.N3)(re.read());if(Ge)return yield(0,x.N3)(void 0);yield yield(0,x.N3)(De)}}finally{re.releaseLock()}})}function M(v){return(0,Q.T)(null==v?void 0:v.getReader)}},9974:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{N:()=>u,S:()=>Q});var x=ee(8071);function Q(M){return(0,x.T)(null==M?void 0:M.lift)}function u(M){return v=>{if(Q(v))return v.lift(function(He){try{return M(He,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{I:()=>M});var x=ee(6354);const{isArray:Q}=Array;function M(v){return(0,x.T)(He=>function u(v,He){return Q(He)?v(...He):v(He)}(v,He))}},5343:(hn,Ct,ee)=>{"use strict";function x(){}ee.d(Ct,{l:()=>x})},1203:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{F:()=>Q,m:()=>u});var x=ee(3669);function Q(...M){return u(M)}function u(M){return 0===M.length?x.D:1===M.length?M[0]:function(He){return M.reduce((re,De)=>De(re),He)}}},5334:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{m:()=>u});var x=ee(1026),Q=ee(9270);function u(M){Q.f.setTimeout(()=>{const{onUnhandledError:v}=x.$;if(!v)throw M;v(M)})}},591:(hn,Ct,ee)=>{"use strict";function x(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}ee.d(Ct,{L:()=>x})},8996:(hn,Ct,ee)=>{var x={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function Q(u){if(!ee.o(x,u))return Promise.resolve().then(()=>{var He=new Error("Cannot find module '"+u+"'");throw He.code="MODULE_NOT_FOUND",He});var M=x[u],v=M[0];return Promise.all(M.slice(1).map(ee.e)).then(()=>ee(v))}Q.keys=()=>Object.keys(x),Q.id=8996,hn.exports=Q},177:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{AJ:()=>ut,Jj:()=>Fn,MD:()=>Ie,N0:()=>Kr,QT:()=>u,Sm:()=>it,Sq:()=>es,T3:()=>or,VF:()=>v,Vy:()=>Yt,Xr:()=>vr,ZD:()=>M,_b:()=>lt,aZ:()=>Qe,bT:()=>zr,fw:()=>Xe,hb:()=>Te,hj:()=>Ge,qQ:()=>re});var x=ee(4438);let Q=null;function u(){return Q}function M(g){var p;null!==(p=Q)&&void 0!==p||(Q=g)}class v{}const re=new x.nKC("");let De=(()=>{var g;class p{historyGo(C){throw new Error("")}}return(g=p).\u0275fac=function(C){return new(C||g)},g.\u0275prov=x.jDH({token:g,factory:()=>(0,x.WQX)(qe),providedIn:"platform"}),p})();const Ge=new x.nKC("");let qe=(()=>{var g;class p extends De{constructor(){super(),this._doc=(0,x.WQX)(re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(C){const $=u().getGlobalEventTarget(this._doc,"window");return $.addEventListener("popstate",C,!1),()=>$.removeEventListener("popstate",C)}onHashChange(C){const $=u().getGlobalEventTarget(this._doc,"window");return $.addEventListener("hashchange",C,!1),()=>$.removeEventListener("hashchange",C)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(C){this._location.pathname=C}pushState(C,$,te){this._history.pushState(C,$,te)}replaceState(C,$,te){this._history.replaceState(C,$,te)}forward(){this._history.forward()}back(){this._history.back()}historyGo(C=0){this._history.go(C)}getState(){return this._history.state}}return(g=p).\u0275fac=function(C){return new(C||g)},g.\u0275prov=x.jDH({token:g,factory:()=>new g,providedIn:"platform"}),p})();function ge(g,p){if(0==g.length)return p;if(0==p.length)return g;let A=0;return g.endsWith("/")&&A++,p.startsWith("/")&&A++,2==A?g+p.substring(1):1==A?g+p:g+"/"+p}function ke(g){const p=g.match(/#|\?|$/),A=p&&p.index||g.length;return g.slice(0,A-("/"===g[A-1]?1:0))+g.slice(A)}function Re(g){return g&&"?"!==g[0]?"?"+g:g}let Te=(()=>{var g;class p{historyGo(C){throw new Error("")}}return(g=p).\u0275fac=function(C){return new(C||g)},g.\u0275prov=x.jDH({token:g,factory:()=>(0,x.WQX)(it),providedIn:"root"}),p})();const Ke=new x.nKC("");let it=(()=>{var g;class p extends Te{constructor(C,$){var te,ve,pt;super(),this._platformLocation=C,this._removeListenerFns=[],this._baseHref=null!==(te=null!==(ve=null!=$?$:this._platformLocation.getBaseHrefFromDOM())&&void 0!==ve?ve:null===(pt=(0,x.WQX)(re).location)||void 0===pt?void 0:pt.origin)&&void 0!==te?te:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}prepareExternalUrl(C){return ge(this._baseHref,C)}path(C=!1){const $=this._platformLocation.pathname+Re(this._platformLocation.search),te=this._platformLocation.hash;return te&&C?`${$}${te}`:$}pushState(C,$,te,ve){const pt=this.prepareExternalUrl(te+Re(ve));this._platformLocation.pushState(C,$,pt)}replaceState(C,$,te,ve){const pt=this.prepareExternalUrl(te+Re(ve));this._platformLocation.replaceState(C,$,pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){var $,te;null===($=(te=this._platformLocation).historyGo)||void 0===$||$.call(te,C)}}return(g=p).\u0275fac=function(C){return new(C||g)(x.KVO(De),x.KVO(Ke,8))},g.\u0275prov=x.jDH({token:g,factory:g.\u0275fac,providedIn:"root"}),p})(),Xe=(()=>{var g;class p extends Te{constructor(C,$){super(),this._platformLocation=C,this._baseHref="",this._removeListenerFns=[],null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}path(C=!1){var $;const te=null!==($=this._platformLocation.hash)&&void 0!==$?$:"#";return te.length>0?te.substring(1):te}prepareExternalUrl(C){const $=ge(this._baseHref,C);return $.length>0?"#"+$:$}pushState(C,$,te,ve){let pt=this.prepareExternalUrl(te+Re(ve));0==pt.length&&(pt=this._platformLocation.pathname),this._platformLocation.pushState(C,$,pt)}replaceState(C,$,te,ve){let pt=this.prepareExternalUrl(te+Re(ve));0==pt.length&&(pt=this._platformLocation.pathname),this._platformLocation.replaceState(C,$,pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){var $,te;null===($=(te=this._platformLocation).historyGo)||void 0===$||$.call(te,C)}}return(g=p).\u0275fac=function(C){return new(C||g)(x.KVO(De),x.KVO(Ke,8))},g.\u0275prov=x.jDH({token:g,factory:g.\u0275fac}),p})(),Qe=(()=>{var g;class p{constructor(C){this._subject=new x.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=C;const $=this._locationStrategy.getBaseHref();this._basePath=function pe(g){if(new RegExp("^(https?:)?//").test(g)){const[,A]=g.split(/\/\/[^\/]+/);return A}return g}(ke(at($))),this._locationStrategy.onPopState(te=>{this._subject.emit({url:this.path(!0),pop:!0,state:te.state,type:te.type})})}ngOnDestroy(){var C;null===(C=this._urlChangeSubscription)||void 0===C||C.unsubscribe(),this._urlChangeListeners=[]}path(C=!1){return this.normalize(this._locationStrategy.path(C))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(C,$=""){return this.path()==this.normalize(C+Re($))}normalize(C){return p.stripTrailingSlash(function We(g,p){if(!g||!p.startsWith(g))return p;const A=p.substring(g.length);return""===A||["/",";","?","#"].includes(A[0])?A:p}(this._basePath,at(C)))}prepareExternalUrl(C){return C&&"/"!==C[0]&&(C="/"+C),this._locationStrategy.prepareExternalUrl(C)}go(C,$="",te=null){this._locationStrategy.pushState(te,"",C,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+Re($)),te)}replaceState(C,$="",te=null){this._locationStrategy.replaceState(te,"",C,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+Re($)),te)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(C=0){var $,te;null===($=(te=this._locationStrategy).historyGo)||void 0===$||$.call(te,C)}onUrlChange(C){var $;return this._urlChangeListeners.push(C),null!==($=this._urlChangeSubscription)&&void 0!==$||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)})),()=>{const te=this._urlChangeListeners.indexOf(C);var ve;this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(null===(ve=this._urlChangeSubscription)||void 0===ve||ve.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(C="",$){this._urlChangeListeners.forEach(te=>te(C,$))}subscribe(C,$,te){return this._subject.subscribe({next:C,error:$,complete:te})}}return(g=p).normalizeQueryParams=Re,g.joinWithSlash=ge,g.stripTrailingSlash=ke,g.\u0275fac=function(C){return new(C||g)(x.KVO(Te))},g.\u0275prov=x.jDH({token:g,factory:()=>function vt(){return new Qe((0,x.KVO)(Te))}(),providedIn:"root"}),p})();function at(g){return g.replace(/\/index.html$/,"")}function lt(g,p){p=encodeURIComponent(p);for(const A of g.split(";")){const C=A.indexOf("="),[$,te]=-1==C?[A,""]:[A.slice(0,C),A.slice(C+1)];if($.trim()===p)return decodeURIComponent(te)}return null}class Xi{constructor(p,A,C,$){this.$implicit=p,this.ngForOf=A,this.index=C,this.count=$}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let es=(()=>{var g;class p{set ngForOf(C){this._ngForOf=C,this._ngForOfDirty=!0}set ngForTrackBy(C){this._trackByFn=C}get ngForTrackBy(){return this._trackByFn}constructor(C,$,te){this._viewContainer=C,this._template=$,this._differs=te,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(C){C&&(this._template=C)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const C=this._ngForOf;!this._differ&&C&&(this._differ=this._differs.find(C).create(this.ngForTrackBy))}if(this._differ){const C=this._differ.diff(this._ngForOf);C&&this._applyChanges(C)}}_applyChanges(C){const $=this._viewContainer;C.forEachOperation((te,ve,pt)=>{if(null==te.previousIndex)$.createEmbeddedView(this._template,new Xi(te.item,this._ngForOf,-1,-1),null===pt?void 0:pt);else if(null==pt)$.remove(null===ve?void 0:ve);else if(null!==ve){const an=$.get(ve);$.move(an,pt),Zs(an,te)}});for(let te=0,ve=$.length;te<ve;te++){const an=$.get(te).context;an.index=te,an.count=ve,an.ngForOf=this._ngForOf}C.forEachIdentityChange(te=>{Zs($.get(te.currentIndex),te)})}static ngTemplateContextGuard(C,$){return!0}}return(g=p).\u0275fac=function(C){return new(C||g)(x.rXU(x.c1b),x.rXU(x.C4Q),x.rXU(x._q3))},g.\u0275dir=x.FsC({type:g,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),p})();function Zs(g,p){g.context.$implicit=p.item}let zr=(()=>{var g;class p{constructor(C,$){this._viewContainer=C,this._context=new ea,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=$}set ngIf(C){this._context.$implicit=this._context.ngIf=C,this._updateView()}set ngIfThen(C){Ho("ngIfThen",C),this._thenTemplateRef=C,this._thenViewRef=null,this._updateView()}set ngIfElse(C){Ho("ngIfElse",C),this._elseTemplateRef=C,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(C,$){return!0}}return(g=p).\u0275fac=function(C){return new(C||g)(x.rXU(x.c1b),x.rXU(x.C4Q))},g.\u0275dir=x.FsC({type:g,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),p})();class ea{constructor(){this.$implicit=null,this.ngIf=null}}function Ho(g,p){if(p&&!p.createEmbeddedView)throw new Error(`${g} must be a TemplateRef, but received '${(0,x.Tbb)(p)}'.`)}let or=(()=>{var g;class p{constructor(C){this._viewContainerRef=C,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(C){if(this._shouldRecreateView(C)){var $;const te=this._viewContainerRef;if(this._viewRef&&te.remove(te.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ve=this._createContextForwardProxy();this._viewRef=te.createEmbeddedView(this.ngTemplateOutlet,ve,{injector:null!==($=this.ngTemplateOutletInjector)&&void 0!==$?$:void 0})}}_shouldRecreateView(C){return!!C.ngTemplateOutlet||!!C.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(C,$,te)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,$,te),get:(C,$,te)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,$,te)}})}}return(g=p).\u0275fac=function(C){return new(C||g)(x.rXU(x.c1b))},g.\u0275dir=x.FsC({type:g,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[x.OA$]}),p})();class ta{createSubscription(p,A){return(0,x.O8t)(()=>p.subscribe({next:A,error:C=>{throw C}}))}dispose(p){(0,x.O8t)(()=>p.unsubscribe())}}class Il{createSubscription(p,A){return p.then(A,C=>{throw C})}dispose(p){}}const na=new Il,Ss=new ta;let Fn=(()=>{var g;class p{constructor(C){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=C}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(C){if(!this._obj){if(C)try{this.markForCheckOnValueUpdate=!1,this._subscribe(C)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return C!==this._obj?(this._dispose(),this.transform(C)):this._latestValue}_subscribe(C){this._obj=C,this._strategy=this._selectStrategy(C),this._subscription=this._strategy.createSubscription(C,$=>this._updateLatestValue(C,$))}_selectStrategy(C){if((0,x.jNT)(C))return na;if((0,x.zjR)(C))return Ss;throw function ii(g,p){return new x.wOt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(C,$){var te;C===this._obj&&(this._latestValue=$,this.markForCheckOnValueUpdate)&&(null===(te=this._ref)||void 0===te||te.markForCheck())}}return(g=p).\u0275fac=function(C){return new(C||g)(x.rXU(x.gRc,16))},g.\u0275pipe=x.EJ8({name:"async",type:g,pure:!1,standalone:!0}),p})(),Ie=(()=>{var g;class p{}return(g=p).\u0275fac=function(C){return new(C||g)},g.\u0275mod=x.$C({type:g}),g.\u0275inj=x.G2t({}),p})();const ut="browser",Tt="server";function Yt(g){return g===Tt}let vr=(()=>{var g;class p{}return(g=p).\u0275prov=(0,x.jDH)({token:g,providedIn:"root",factory:()=>function $t(g){return g===ut}((0,x.WQX)(x.Agw))?new Xn((0,x.WQX)(re),window):new Cr}),p})();class Xn{constructor(p,A){this.document=p,this.window=A,this.offset=()=>[0,0]}setOffset(p){this.offset=Array.isArray(p)?()=>p:p}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(p){this.window.scrollTo(p[0],p[1])}scrollToAnchor(p){const A=function Ir(g,p){const A=g.getElementById(p)||g.getElementsByName(p)[0];if(A)return A;if("function"==typeof g.createTreeWalker&&g.body&&"function"==typeof g.body.attachShadow){const C=g.createTreeWalker(g.body,NodeFilter.SHOW_ELEMENT);let $=C.currentNode;for(;$;){const te=$.shadowRoot;if(te){const ve=te.getElementById(p)||te.querySelector(`[name="${p}"]`);if(ve)return ve}$=C.nextNode()}}return null}(this.document,p);A&&(this.scrollToElement(A),A.focus())}setHistoryScrollRestoration(p){this.window.history.scrollRestoration=p}scrollToElement(p){const A=p.getBoundingClientRect(),C=A.left+this.window.pageXOffset,$=A.top+this.window.pageYOffset,te=this.offset();this.window.scrollTo(C-te[0],$-te[1])}}class Cr{setOffset(p){}getScrollPosition(){return[0,0]}scrollToPosition(p){}scrollToAnchor(p){}setHistoryScrollRestoration(p){}}class Kr{}},4438:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{iLQ:()=>jC,sZ2:()=>Nh,hnV:()=>zC,Hbi:()=>eb,o8S:()=>Ca,BIS:()=>gP,gRc:()=>UD,Ql9:()=>Fk,Ocv:()=>MD,Z63:()=>Ps,aKT:()=>eu,uvJ:()=>qo,zcH:()=>pc,bkB:()=>jl,$GK:()=>Fn,nKC:()=>cn,zZn:()=>fa,_q3:()=>py,MKu:()=>ZC,xe9:()=>Oc,Co$:()=>ev,Vns:()=>Nd,SKi:()=>Lr,Xx1:()=>$t,Agw:()=>zp,PLl:()=>Ow,sFG:()=>j_,_9s:()=>z_,czy:()=>Xp,kdw:()=>qt,C4Q:()=>za,NYb:()=>rg,giA:()=>SD,RxE:()=>eg,c1b:()=>cf,gXe:()=>os,mal:()=>um,L39:()=>by,a0P:()=>D1,Ol2:()=>rv,w6W:()=>tv,oH4:()=>Wu,SmG:()=>KC,Rfq:()=>ui,WQX:()=>ae,QuC:()=>Yi,fpN:()=>JD,HJs:()=>R1,N4e:()=>Vs,O8t:()=>b1,H3F:()=>oy,H8p:()=>xl,KH2:()=>Ou,TgB:()=>ga,wOt:()=>Pe,WHO:()=>ng,e01:()=>AD,H5H:()=>WI,Zy3:()=>Ze,mq5:()=>iS,JZv:()=>Rn,LfX:()=>_i,plB:()=>qs,jNT:()=>BC,zjR:()=>ly,TL$:()=>b0,Tbb:()=>pn,Vt3:()=>YE,Mj6:()=>ho,GFd:()=>ym,OA$:()=>xe,Jv_:()=>YM,aNF:()=>yC,R7$:()=>tn,BMQ:()=>Cv,AVh:()=>Lm,wni:()=>Qm,VBU:()=>Ja,FsC:()=>Hc,jDH:()=>qn,G2t:()=>So,$C:()=>oa,EJ8:()=>uc,rXU:()=>au,nrm:()=>Fv,eu8:()=>zm,bVm:()=>Lv,qex:()=>Rf,k0s:()=>Df,j41:()=>Nv,RV6:()=>Zd,xGo:()=>qR,KVO:()=>U,kS0:()=>c0,QTQ:()=>lu,bIt:()=>aC,lsd:()=>Ym,XpG:()=>cC,nI1:()=>lk,bMT:()=>tD,SdG:()=>kc,NAR:()=>Vf,Y8G:()=>Fm,mGM:()=>OS,Njj:()=>qy,tSv:()=>p_,eBV:()=>sd,n$t:()=>aT,DNE:()=>Ld,EFF:()=>HS,JRh:()=>pC,GBs:()=>FS}),ee(467);let u=null,v=1;const He=Symbol("SIGNAL");function re(i){const o=u;return u=i,o}function Te(i){if((!ze(i)||i.dirty)&&(i.dirty||i.lastCleanEpoch!==v)){if(!i.producerMustRecompute(i)&&!We(i))return i.dirty=!1,void(i.lastCleanEpoch=v);i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=v}}function We(i){tt(i);for(let o=0;o<i.producerNode.length;o++){const a=i.producerNode[o],l=i.producerLastReadVersion[o];if(l!==a.version||(Te(a),l!==a.version))return!0}return!1}function Ne(i,o){if(function nt(i){var o,a;null!==(o=i.liveConsumerNode)&&void 0!==o||(i.liveConsumerNode=[]),null!==(a=i.liveConsumerIndexOfThis)&&void 0!==a||(i.liveConsumerIndexOfThis=[])}(i),tt(i),1===i.liveConsumerNode.length)for(let l=0;l<i.producerNode.length;l++)Ne(i.producerNode[l],i.producerIndexOfThis[l]);const a=i.liveConsumerNode.length-1;if(i.liveConsumerNode[o]=i.liveConsumerNode[a],i.liveConsumerIndexOfThis[o]=i.liveConsumerIndexOfThis[a],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,o<i.liveConsumerNode.length){const l=i.liveConsumerIndexOfThis[o],d=i.liveConsumerNode[o];tt(d),d.producerIndexOfThis[l]=o}}function ze(i){var o,a;return i.consumerIsAlwaysLive||(null!==(o=null==i||null===(a=i.liveConsumerNode)||void 0===a?void 0:a.length)&&void 0!==o?o:0)>0}function tt(i){var o,a,l;null!==(o=i.producerNode)&&void 0!==o||(i.producerNode=[]),null!==(a=i.producerIndexOfThis)&&void 0!==a||(i.producerIndexOfThis=[]),null!==(l=i.producerLastReadVersion)&&void 0!==l||(i.producerLastReadVersion=[])}let Kt=null;var xn=ee(1413),er=ee(8359),In=ee(4412),St=ee(6354);const Ht="https://g.co/ng/security#xss";class Pe extends Error{constructor(o,a){super(Ze(o,a)),this.code=o}}function Ze(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}function rn(i){return{toString:i}.toString()}const Ln="__parameters__";function Fr(i,o,a){return rn(()=>{const l=function qr(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...f){if(this instanceof d)return l.apply(this,f),this;const _=new d(...f);return w.annotation=_,w;function w(S,V,H){const W=S.hasOwnProperty(Ln)?S[Ln]:Object.defineProperty(S,Ln,{value:[]})[Ln];for(;W.length<=H;)W.push(null);return(W[H]=W[H]||[]).push(_),S}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}const Rn=globalThis;function jt(i){for(let o in i)if(i[o]===jt)return o;throw Error("Could not find renamed property on target object.")}function gr(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function pn(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(pn).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function tr(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const qi=jt({__forward_ref__:jt});function ui(i){return i.__forward_ref__=ui,i.toString=function(){return pn(this())},i}function Ae(i){return ye(i)?i():i}function ye(i){return"function"==typeof i&&i.hasOwnProperty(qi)&&i.__forward_ref__===ui}function qn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function So(i){return{providers:i.providers||[],imports:i.imports||[]}}function Ki(i){return Do(i,Ro)||Do(i,Qt)}function _i(i){return null!==Ki(i)}function Do(i,o){return i.hasOwnProperty(o)?i[o]:null}function jo(i){return i&&(i.hasOwnProperty(lt)||i.hasOwnProperty(On))?i[lt]:null}const Ro=jt({\u0275prov:jt}),lt=jt({\u0275inj:jt}),Qt=jt({ngInjectableDef:jt}),On=jt({ngInjectorDef:jt});class cn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=qn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function so(i){return i&&!!i.\u0275providers}const Di=jt({\u0275cmp:jt}),ao=jt({\u0275dir:jt}),Kn=jt({\u0275pipe:jt}),to=jt({\u0275mod:jt}),lo=jt({\u0275fac:jt}),ri=jt({__NG_ELEMENT_ID__:jt}),Er=jt({__NG_ENV_ID__:jt});function yn(i){return"string"==typeof i?i:null==i?"":String(i)}function Ss(i,o){throw new Pe(-201,!1)}var Fn=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(Fn||{});let jr;function Qa(){return jr}function gt(i){const o=jr;return jr=i,o}function Sa(i,o,a){const l=Ki(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Fn.Optional?null:void 0!==o?o:void Ss()}const Go={},ds="__NG_DI_FLAG__",co="ngTempTokenPath",Da=/\n/gm,Ds="__source";let Ui;function bn(i){const o=Ui;return Ui=i,o}function rs(i,o=Fn.Default){if(void 0===Ui)throw new Pe(-203,!1);return null===Ui?Sa(i,void 0,o):Ui.get(i,o&Fn.Optional?null:void 0,o)}function U(i,o=Fn.Default){return(Qa()||rs)(Ae(i),o)}function ae(i,o=Fn.Default){return U(i,he(o))}function he(i){return typeof i>"u"||"number"==typeof i?i:(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function we(i){const o=[];for(let a=0;a<i.length;a++){const l=Ae(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Pe(900,!1);let d,f=Fn.Default;for(let _=0;_<l.length;_++){const w=l[_],S=ut(w);"number"==typeof S?-1===S?d=w.token:f|=S:d=w}o.push(U(d,f))}else o.push(U(l))}return o}function Ie(i,o){return i[ds]=o,i.prototype[ds]=o,i}function ut(i){return i[ds]}const $t=Ie(Fr("Optional"),8),qt=Ie(Fr("SkipSelf"),4);function nr(i,o){return i.hasOwnProperty(lo)?i[lo]:null}function Ir(i,o){i.forEach(a=>Array.isArray(a)?Ir(a,o):o(a))}function Cr(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function Kr(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function br(i,o,a){let l=uo(i,o);return l>=0?i[1|l]=a:(l=~l,function Ya(i,o,a,l){let d=i.length;if(d==o)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=l}}(i,l,o,a)),l}function Ra(i,o){const a=uo(i,o);if(a>=0)return i[1|a]}function uo(i,o){return function lc(i,o,a){let l=0,d=i.length>>a;for(;d!==l;){const f=l+(d-l>>1),_=i[f<<a];if(o===_)return f<<a;_>o?d=f:l=f+1}return~(d<<a)}(i,o,1)}const Bi={},lr=[],Ps=new cn(""),wl=new cn("",-1),Pa=new cn("");class xs{get(o,a=Go){if(a===Go){const l=new Error(`NullInjectorError: No provider for ${pn(o)}!`);throw l.name="NullInjectorError",l}return a}}var zi=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(zi||{}),os=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(os||{}),ho=function(i){return i[i.None=0]="None",i[i.SignalBased=1]="SignalBased",i[i.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",i}(ho||{});function Yu(i,o,a){let l=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=o.length;if(d+f===l||i.charCodeAt(d+f)<=32)return d}a=d+1}}function Tl(i,o,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const f=a[l++],_=a[l++],w=a[l++];i.setAttribute(o,_,w,f)}else{const f=d,_=a[++l];Sl(f)?i.setProperty(o,f,_):i.setAttribute(o,f,_),l++}}return l}function Al(i){return 3===i||4===i||6===i}function Sl(i){return 64===i.charCodeAt(0)}function Ms(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Dl(i,a,d,null,-1===a||2===a?o[++l]:null)}}return i}function Dl(i,o,a,l,d){let f=0,_=i.length;if(-1===o)_=-1;else for(;f<i.length;){const w=i[f++];if("number"==typeof w){if(w===o){_=-1;break}if(w>o){_=f-1;break}}}for(;f<i.length;){const w=i[f];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==d&&(i[f+1]=d));if(l===i[f+1])return void(i[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==_&&(i.splice(_,0,o),f=_+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==d&&i.splice(f++,0,d)}const cc="ng-template";function ks(i,o,a,l){let d=0;if(l){for(;d<o.length&&"string"==typeof o[d];d+=2)if("class"===o[d]&&-1!==Yu(o[d+1].toLowerCase(),a,0))return!0}else if(ia(i))return!1;if(d=o.indexOf(1,d),d>-1){let f;for(;++d<o.length&&"string"==typeof(f=o[d]);)if(f.toLowerCase()===a)return!0}return!1}function ia(i){return 4===i.type&&i.value!==cc}function j(i,o,a){return o===(4!==i.type||a?i.value:cc)}function O(i,o,a){let l=4;const d=i.attrs,f=null!==d?function wn(i){for(let o=0;o<i.length;o++)if(Al(i[o]))return o;return i.length}(d):0;let _=!1;for(let w=0;w<o.length;w++){const S=o[w];if("number"!=typeof S){if(!_)if(4&l){if(l=2|1&l,""!==S&&!j(i,S,a)||""===S&&1===o.length){if(ne(l))return!1;_=!0}}else if(8&l){if(null===d||!ks(i,d,S,a)){if(ne(l))return!1;_=!0}}else{const V=o[++w],H=z(S,d,ia(i),a);if(-1===H){if(ne(l))return!1;_=!0;continue}if(""!==V){let W;if(W=H>f?"":d[H+1].toLowerCase(),2&l&&V!==W){if(ne(l))return!1;_=!0}}}}else{if(!_&&!ne(l)&&!ne(S))return!1;if(_&&ne(S))continue;_=!1,l=S|1&l}}return ne(l)||_}function ne(i){return!(1&i)}function z(i,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let f=!1;for(;d<o.length;){const _=o[d];if(_===i)return d;if(3===_||6===_)f=!0;else{if(1===_||2===_){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=f?1:2}return-1}return function Mn(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,i)}function le(i,o,a=!1){for(let l=0;l<o.length;l++)if(O(i,o[l],a))return!0;return!1}function yr(i,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(i.length===l.length){for(let d=0;d<i.length;d++)if(i[d]!==l[d])continue e;return!0}}return!1}function hs(i,o){return i?":not("+o.trim()+")":o}function ss(i){let o=i[0],a=1,l=2,d="",f=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const w=i[++a];d+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!ne(_)&&(o+=hs(f,d),d=""),l=_,f=f||!ne(l);a++}return""!==d&&(o+=hs(f,d)),o}function Ja(i){return rn(()=>{var o;const a=Ns(i),l={...a,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===zi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:null!==(o=i.signals)&&void 0!==o&&o,data:i.data||{},encapsulation:i.encapsulation||os.Emulated,styles:i.styles||lr,_:null,schemas:i.schemas||null,tView:null,id:""};$r(l);const d=i.dependencies;return l.directiveDefs=oi(d,!1),l.pipeDefs=oi(d,!0),l.id=function Pi(i){let o=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)o=Math.imul(31,o)+d.charCodeAt(0)|0;return o+=2147483648,"c"+o}(l),l})}function up(i){return sr(i)||pi(i)}function hh(i){return null!==i}function oa(i){return rn(()=>({type:i.type,bootstrap:i.bootstrap||lr,declarations:i.declarations||lr,imports:i.imports||lr,exports:i.exports||lr,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Ju(i,o){if(null==i)return Bi;const a={};for(const d in i)if(i.hasOwnProperty(d)){const f=i[d];let _,w,S=ho.None;var l;Array.isArray(f)?(S=f[0],_=f[1],w=null!==(l=f[2])&&void 0!==l?l:_):(_=f,w=f),o?(a[_]=S!==ho.None?[d,S]:d,o[_]=w):a[_]=d}return a}function Hc(i){return rn(()=>{const o=Ns(i);return $r(o),o})}function uc(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function sr(i){return i[Di]||null}function pi(i){return i[ao]||null}function vi(i){return i[Kn]||null}function Yi(i){const o=sr(i)||pi(i)||vi(i);return null!==o&&o.standalone}function Ri(i,o){const a=i[to]||null;if(!a&&!0===o)throw new Error(`Type ${pn(i)} does not have '\u0275mod' property.`);return a}function Ns(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||Bi,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||lr,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ju(i.inputs,o),outputs:Ju(i.outputs),debugInfo:null}}function $r(i){var o;null===(o=i.features)||void 0===o||o.forEach(a=>a(i))}function oi(i,o){if(!i)return null;const a=o?vi:up;return()=>("function"==typeof i?i():i).map(l=>a(l)).filter(hh)}function Ma(...i){return{\u0275providers:Bt(0,i),\u0275fromNgModule:!0}}function Bt(i,...o){const a=[],l=new Set;let d;const f=_=>{a.push(_)};return Ir(o,_=>{const w=_;xi(w,f,[],l)&&(d||(d=[]),d.push(w))}),void 0!==d&&fo(d,f),a}function fo(i,o){for(let a=0;a<i.length;a++){const{ngModule:l,providers:d}=i[a];Pl(d,f=>{o(f,l)})}}function xi(i,o,a,l){if(!(i=Ae(i)))return!1;let d=null,f=jo(i);const _=!f&&sr(i);if(f||_){if(_&&!_.standalone)return!1;d=i}else{const S=i.ngModule;if(f=jo(S),!f)return!1;d=S}const w=l.has(d);if(_){if(w)return!1;if(l.add(d),_.dependencies){const S="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const V of S)xi(V,o,a,l)}}else{if(!f)return!1;{if(null!=f.imports&&!w){let V;l.add(d);try{Ir(f.imports,H=>{xi(H,o,a,l)&&(V||(V=[]),V.push(H))})}finally{}void 0!==V&&fo(V,o)}if(!w){const V=nr(d)||(()=>new d);o({provide:d,useFactory:V,deps:lr},d),o({provide:Pa,useValue:d,multi:!0},d),o({provide:Ps,useValue:()=>U(d),multi:!0},d)}const S=f.providers;if(null!=S&&!w){const V=i;Pl(S,H=>{o(H,V)})}}}return d!==i&&void 0!==i.providers}function Pl(i,o){for(let a of i)so(a)&&(a=a.\u0275providers),Array.isArray(a)?Pl(a,o):o(a)}const Zu=jt({provide:String,useValue:jt});function dc(i){return null!==i&&"object"==typeof i&&Zu in i}function ps(i){return"function"==typeof i}const xl=new cn(""),hc={},Vr={};let Hr;function Za(){return void 0===Hr&&(Hr=new xs),Hr}class qo{}class sa extends qo{get destroyed(){return this._destroyed}constructor(o,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qc(o,_=>this.processProvider(_)),this.records.set(wl,el(void 0,this)),d.has("environment")&&this.records.set(qo,el(void 0,this));const f=this.records.get(xl);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Pa,lr,Fn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const o=re(null);try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of a)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(o)}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=bn(this),l=gt(void 0);try{return o()}finally{bn(a),gt(l)}}get(o,a=Go,l=Fn.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(Er))return o[Er](this);l=he(l);const f=bn(this),_=gt(void 0);try{if(!(l&Fn.SkipSelf)){let S=this.records.get(o);if(void 0===S){const V=function ph(i){return"function"==typeof i||"object"==typeof i&&i instanceof cn}(o)&&Ki(o);S=V&&this.injectableDefInScope(V)?el(Ls(o),hc):null,this.records.set(o,S)}if(null!=S)return this.hydrate(o,S)}return(l&Fn.Self?Za():this.parent).get(o,a=l&Fn.Optional&&a===Go?null:a)}catch(w){if("NullInjectorError"===w.name){if((w[co]=w[co]||[]).unshift(pn(o)),f)throw w;return function Tt(i,o,a,l){const d=i[co];throw o[Ds]&&d.unshift(o[Ds]),i.message=function It(i,o,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=pn(o);if(Array.isArray(o))d=o.map(pn).join(" -> ");else if("object"==typeof o){let f=[];for(let _ in o)if(o.hasOwnProperty(_)){let w=o[_];f.push(_+":"+("string"==typeof w?JSON.stringify(w):pn(w)))}d=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(Da,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[co]=null,i}(w,o,"R3InjectorError",this.source)}throw w}finally{gt(_),bn(f)}}resolveInjectorInitializers(){const o=re(null),a=bn(this),l=gt(void 0);try{const f=this.get(Ps,lr,Fn.Self);for(const _ of f)_()}finally{bn(a),gt(l),re(o)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(pn(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processProvider(o){let a=ps(o=Ae(o))?o:Ae(o&&o.provide);const l=function nd(i){return dc(i)?el(void 0,i.useValue):el(fh(i),hc)}(o);if(!ps(o)&&!0===o.multi){let d=this.records.get(a);d||(d=el(void 0,hc,!0),d.factory=()=>we(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,l)}hydrate(o,a){const l=re(null);try{return a.value===hc&&(a.value=Vr,a.value=a.factory()),"object"==typeof a.value&&a.value&&function rd(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}finally{re(l)}}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Ae(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Ls(i){const o=Ki(i),a=null!==o?o.factory:nr(i);if(null!==a)return a;if(i instanceof cn)throw new Pe(204,!1);if(i instanceof Function)return function td(i){if(i.length>0)throw new Pe(204,!1);const a=function zo(i){return i&&(i[Ro]||i[Qt])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Pe(204,!1)}function fh(i,o,a){let l;if(ps(i)){const d=Ae(i);return nr(d)||Ls(d)}if(dc(i))l=()=>Ae(i.useValue);else if(function Os(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...we(i.deps||[]));else if(function ed(i){return!(!i||!i.useExisting)}(i))l=()=>U(Ae(i.useExisting));else{const d=Ae(i&&(i.useClass||i.provide));if(!function tl(i){return!!i.deps}(i))return nr(d)||Ls(d);l=()=>new d(...we(i.deps))}return l}function el(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function qc(i,o){for(const a of i)Array.isArray(a)?qc(a,o):a&&so(a)?qc(a.\u0275providers,o):o(a)}function Vs(i,o){i instanceof sa&&i.assertNotDestroyed();const l=bn(i),d=gt(void 0);try{return o()}finally{bn(l),gt(d)}}function I(){return void 0!==Qa()||null!=function ns(){return Ui}()}const ur=0,Lt=1,dn=2,wr=3,Jr=4,Xr=5,ji=6,Us=7,si=8,Nr=9,aa=10,Vn=11,Ml=12,mh=13,la=14,Or=15,ms=16,Kc=17,Ci=18,Xc=19,kl=20,gs=21,ca=22,po=23,Jn=25,gh=1,ka=7,Nl=9,mi=10;var Fl=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i}(Fl||{});function xo(i){return Array.isArray(i)&&"object"==typeof i[gh]}function Ko(i){return Array.isArray(i)&&!0===i[gh]}function _h(i){return!!(4&i.flags)}function Ol(i){return i.componentOffset>-1}function dp(i){return!(1&~i.flags)}function ua(i){return!!i.template}function bg(i){return!!(512&i[dn])}class K{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function oe(i,o,a,l){null!==o?o.applyValueToInputSignal(o,l):i[a]=l}function xe(){return bt}function bt(i){return i.type.prototype.ngOnChanges&&(i.setInput=Jt),Ve}function Ve(){const i=ai(this),o=null==i?void 0:i.current;if(o){const a=i.previous;if(a===Bi)i.previous=o;else for(let l in o)a[l]=o[l];i.current=null,this.ngOnChanges(o)}}function Jt(i,o,a,l,d){const f=this.declaredInputs[l],_=ai(i)||function Dr(i,o){return i[Pn]=o}(i,{previous:Bi,current:null}),w=_.current||(_.current={}),S=_.previous,V=S[f];w[f]=new K(V&&V.currentValue,a,S===Bi),oe(i,o,d,a)}xe.ngInherit=!0;const Pn="__ngSimpleChanges__";function ai(i){return i[Pn]||null}const as=function(i,o,a){};let Vl=!1;function Gr(i){for(;Array.isArray(i);)i=i[ur];return i}function gp(i,o){return Gr(o[i])}function Xo(i,o){return Gr(o[i.index])}function od(i,o){return i.data[o]}function _s(i,o){const a=o[i];return xo(a)?a:a[ur]}function _p(i){return!(128&~i[dn])}function Na(i,o){return null==o?null:i[o]}function ow(i){i[Kc]=0}function $y(i){1024&i[dn]||(i[dn]|=1024,_p(i)&&yp(i))}function il(i){var o;return!!(9216&i[dn]||null!==(o=i[po])&&void 0!==o&&o.dirty)}function vp(i){var o;if(null===(o=i[aa].changeDetectionScheduler)||void 0===o||o.notify(1),il(i))yp(i);else if(64&i[dn])if(function jy(){return Vl}())i[dn]|=1024,yp(i);else{var a;null===(a=i[aa].changeDetectionScheduler)||void 0===a||a.notify()}}function yp(i){var o;null===(o=i[aa].changeDetectionScheduler)||void 0===o||o.notify();let a=fc(i);for(;null!==a&&!(8192&a[dn])&&(a[dn]|=8192,_p(a));)a=fc(a)}function da(i,o){if(!(256&~i[dn]))throw new Pe(911,!1);null===i[gs]&&(i[gs]=[]),i[gs].push(o)}function fc(i){const o=i[wr];return Ko(o)?o[wr]:o}const Zn={lFrame:wp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Sg(){return Zn.bindingsEnabled}function Fa(){return null!==Zn.skipHydrationRootTNode}function yt(){return Zn.lFrame.lView}function dr(){return Zn.lFrame.tView}function sd(i){return Zn.lFrame.contextLView=i,i[si]}function qy(i){return Zn.lFrame.contextLView=null,i}function Qr(){let i=Ky();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ky(){return Zn.lFrame.currentTNode}function vs(i,o){const a=Zn.lFrame;a.currentTNode=i,a.isParent=o}function Xy(){return Zn.lFrame.isParent}function Ih(){Zn.lFrame.isParent=!1}function ha(){return Zn.lFrame.bindingIndex++}function FR(i,o){const a=Zn.lFrame;a.bindingIndex=a.bindingRootIndex=i,Cp(o)}function Cp(i){Zn.lFrame.currentDirectiveIndex=i}function Ch(){return Zn.lFrame.currentQueryIndex}function bh(i){Zn.lFrame.currentQueryIndex=i}function cw(i){const o=i[Lt];return 2===o.type?o.declTNode:1===o.type?i[Xr]:null}function Rg(i,o,a){if(a&Fn.SkipSelf){let d=o,f=i;for(;!(d=d.parent,null!==d||a&Fn.Host||(d=cw(f),null===d||(f=f[la],10&d.type))););if(null===d)return!1;o=d,i=f}const l=Zn.lFrame=xg();return l.currentTNode=o,l.lView=i,!0}function Pg(i){const o=xg(),a=i[Lt];Zn.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function xg(){const i=Zn.lFrame,o=null===i?null:i.child;return null===o?wp(i):o}function wp(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Mg(){const i=Zn.lFrame;return Zn.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Jy=Mg;function Tp(){const i=Mg();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Mo(){return Zn.lFrame.selectedIndex}function ad(i){Zn.lFrame.selectedIndex=i}function li(){const i=Zn.lFrame;return od(i.tView,i.selectedIndex)}let Sp=!0;function ld(){return Sp}function La(i){Sp=i}function wh(i,o){for(let V=o.directiveStart,H=o.directiveEnd;V<H;V++){const ce=i.data[V].type.prototype,{ngAfterContentInit:_e,ngAfterContentChecked:Fe,ngAfterViewInit:ot,ngAfterViewChecked:kt,ngOnDestroy:Ut}=ce;var a,l,d,f,_,w,S;_e&&(null!==(a=i.contentHooks)&&void 0!==a?a:i.contentHooks=[]).push(-V,_e),Fe&&((null!==(l=i.contentHooks)&&void 0!==l?l:i.contentHooks=[]).push(V,Fe),(null!==(d=i.contentCheckHooks)&&void 0!==d?d:i.contentCheckHooks=[]).push(V,Fe)),ot&&(null!==(f=i.viewHooks)&&void 0!==f?f:i.viewHooks=[]).push(-V,ot),kt&&((null!==(_=i.viewHooks)&&void 0!==_?_:i.viewHooks=[]).push(V,kt),(null!==(w=i.viewCheckHooks)&&void 0!==w?w:i.viewCheckHooks=[]).push(V,kt)),null!=Ut&&(null!==(S=i.destroyHooks)&&void 0!==S?S:i.destroyHooks=[]).push(V,Ut)}}function Ng(i,o,a){Fg(i,o,3,a)}function Th(i,o,a,l){(3&i[dn])===a&&Fg(i,o,a,l)}function t0(i,o){let a=i[dn];(3&a)===o&&(a&=16383,a+=1,i[dn]=a)}function Fg(i,o,a,l){const f=null!=l?l:-1,_=o.length-1;let w=0;for(let S=void 0!==l?65535&i[Kc]:0;S<_;S++)if("number"==typeof o[S+1]){if(w=o[S],null!=l&&w>=l)break}else o[S]<0&&(i[Kc]+=65536),(w<f||-1==f)&&(r0(i,a,o,S),i[Kc]=(4294901760&i[Kc])+S+2),S++}function n0(i,o){as(4,i,o);const a=re(null);try{o.call(i)}finally{re(a),as(5,i,o)}}function r0(i,o,a,l){const d=a[l]<0,f=a[l+1],w=i[d?-a[l]:a[l]];d?i[dn]>>14<i[Kc]>>16&&(3&i[dn])===o&&(i[dn]+=16384,n0(w,f)):n0(w,f)}const Ah=-1;class cd{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Rp(i){return i!==Ah}function Pp(i){return 32767&i}function xp(i,o){let a=function s0(i){return i>>16}(i),l=o;for(;a>0;)l=l[la],a--;return l}let Mp=!0;function Og(i){const o=Mp;return Mp=i,o}const hw=255,Lg=5;let zR=0;const Va={};function Sh(i,o){const a=fw(i,o);if(-1!==a)return a;const l=o[Lt];l.firstCreatePass&&(i.injectorIndex=o.length,a0(l.data,i),a0(o,null),a0(l.blueprint,null));const d=kp(i,o),f=i.injectorIndex;if(Rp(d)){const _=Pp(d),w=xp(d,o),S=w[Lt].data;for(let V=0;V<8;V++)o[f+V]=w[_+V]|S[_+V]}return o[f+8]=d,f}function a0(i,o){i.push(0,0,0,0,0,0,0,0,o)}function fw(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function kp(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){if(l=KR(d),null===l)return Ah;if(a++,d=d[la],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return Ah}function Np(i,o,a){!function jR(i,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(ri)&&(l=a[ri]),null==l&&(l=a[ri]=zR++);const d=l&hw;o.data[i+(d>>Lg)]|=1<<d}(i,o,a)}function ud(i,o,a){if(a&Fn.Optional||void 0!==i)return i;Ss()}function l0(i,o,a,l){if(a&Fn.Optional&&void 0===l&&(l=null),!(a&(Fn.Self|Fn.Host))){const d=i[Nr],f=gt(void 0);try{return d?d.get(o,l,a&Fn.Optional):Sa(o,l,a&Fn.Optional)}finally{gt(f)}}return ud(l,0,a)}function pw(i,o,a,l=Fn.Default,d){if(null!==i){if(2048&o[dn]&&!(l&Fn.Self)){const _=function YF(i,o,a,l,d){let f=i,_=o;for(;null!==f&&null!==_&&2048&_[dn]&&!(512&_[dn]);){const w=mw(f,_,a,l|Fn.Self,Va);if(w!==Va)return w;let S=f.parent;if(!S){const V=_[kl];if(V){const H=V.get(a,Va,l);if(H!==Va)return H}S=KR(_),_=_[la]}f=S}return d}(i,o,a,l,Va);if(_!==Va)return _}const f=mw(i,o,a,l,Va);if(f!==Va)return f}return l0(o,a,l,d)}function mw(i,o,a,l,d){const f=function XF(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(ri)?i[ri]:void 0;return"number"==typeof o?o>=0?o&hw:QF:o}(a);if("function"==typeof f){if(!Rg(o,i,l))return l&Fn.Host?ud(d,0,l):l0(o,a,l,d);try{let _;if(_=f(l),null!=_||l&Fn.Optional)return _;Ss()}finally{Jy()}}else if("number"==typeof f){let _=null,w=fw(i,o),S=Ah,V=l&Fn.Host?o[Or][Xr]:null;for((-1===w||l&Fn.SkipSelf)&&(S=-1===w?kp(i,o):o[w+8],S!==Ah&&WR(l,!1)?(_=o[Lt],w=Pp(S),o=xp(S,o)):w=-1);-1!==w;){const H=o[Lt];if(GR(f,w,H.data)){const W=HR(w,o,a,_,l,V);if(W!==Va)return W}S=o[w+8],S!==Ah&&WR(l,o[Lt].data[w+8]===V)&&GR(f,w,o)?(_=H,w=Pp(S),o=xp(S,o)):w=-1}}return d}function HR(i,o,a,l,d,f){const _=o[Lt],w=_.data[i+8],H=Vg(w,_,a,null==l?Ol(w)&&Mp:l!=_&&!!(3&w.type),d&Fn.Host&&f===w);return null!==H?dd(o,_,H,w):Va}function Vg(i,o,a,l,d){const f=i.providerIndexes,_=o.data,w=1048575&f,S=i.directiveStart,H=f>>20,ce=d?w+H:i.directiveEnd;for(let _e=l?w:w+H;_e<ce;_e++){const Fe=_[_e];if(_e<S&&a===Fe||_e>=S&&Fe.type===a)return _e}if(d){const _e=_[S];if(_e&&ua(_e)&&_e.type===a)return S}return null}function dd(i,o,a,l){let d=i[a];const f=o.data;if(function VR(i){return i instanceof cd}(d)){const _=d;_.resolving&&function ta(i,o){throw o&&o.join(" > "),new Pe(-200,i)}(function or(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():yn(i)}(f[a]));const w=Og(_.canSeeViewProviders);_.resolving=!0;const V=_.injectImpl?gt(_.injectImpl):null;Rg(i,l,Fn.Default);try{d=i[a]=_.factory(void 0,f,i,l),o.firstCreatePass&&a>=l.directiveStart&&function LR(i,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(l){var _,w;const W=bt(o);(null!==(_=a.preOrderHooks)&&void 0!==_?_:a.preOrderHooks=[]).push(i,W),(null!==(w=a.preOrderCheckHooks)&&void 0!==w?w:a.preOrderCheckHooks=[]).push(i,W)}var S,V,H;d&&(null!==(S=a.preOrderHooks)&&void 0!==S?S:a.preOrderHooks=[]).push(0-i,d),f&&((null!==(V=a.preOrderHooks)&&void 0!==V?V:a.preOrderHooks=[]).push(i,f),(null!==(H=a.preOrderCheckHooks)&&void 0!==H?H:a.preOrderCheckHooks=[]).push(i,f))}(a,f[a],o)}finally{null!==V&&gt(V),Og(w),_.resolving=!1,Jy()}}return d}function GR(i,o,a){return!!(a[o+(i>>Lg)]&1<<i)}function WR(i,o){return!(i&Fn.Self||i&Fn.Host&&o)}class mo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return pw(this._tNode,this._lView,o,he(l),a)}}function QF(){return new mo(Qr(),yt())}function qR(i){return rn(()=>{const o=i.prototype.constructor,a=o[lo]||gw(o),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const f=d[lo]||gw(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function gw(i){return ye(i)?()=>{const o=gw(Ae(i));return o&&o()}:nr(i)}function KR(i){const o=i[Lt],a=o.type;return 2===a?o.declTNode:1===a?i[Xr]:null}function c0(i){return function $R(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const f=a[d];if(Al(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(f===o)return a[d+1];d+=2}}}return null}(Qr(),i)}function yw(i,o=null,a=null,l){const d=Ew(i,o,a,l);return d.resolveInjectorInitializers(),d}function Ew(i,o=null,a=null,l,d=new Set){const f=[a||lr,Ma(i)];return l=l||("object"==typeof i?void 0:pn(i)),new sa(f,o||Za(),l||null,d)}let fa=(()=>{var i;class o{static create(l,d){if(Array.isArray(l))return yw({name:""},d,l,"");{var f;const _=null!==(f=l.name)&&void 0!==f?f:"";return yw({name:_},l.parent,l.providers,_)}}}return(i=o).THROW_IF_NOT_FOUND=Go,i.NULL=new xs,i.\u0275prov=qn({token:i,providedIn:"any",factory:()=>U(wl)}),i.__NG_ELEMENT_ID__=-1,o})();function Bl(i){return i.ngOriginalError}class pc{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Bl(o);for(;a&&Bl(a);)a=Bl(a);return a||null}}const Iw=new cn("",{providedIn:"root",factory:()=>ae(pc).handleError.bind(void 0)});let zl=(()=>{var i;class o{}return(i=o).__NG_ELEMENT_ID__=ro,i.__NG_ENV_ID__=a=>a,o})();class ZR extends zl{constructor(o){super(),this._lView=o}onDestroy(o){return da(this._lView,o),()=>function Hy(i,o){if(null===i[gs])return;const a=i[gs].indexOf(o);-1!==a&&i[gs].splice(a,1)}(this._lView,o)}}function ro(){return new ZR(yt())}function Tw(){return Rh(Qr(),yt())}function Rh(i,o){return new eu(Xo(i,o))}let eu=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=Tw,o})();function h0(i){return i instanceof eu?i.nativeElement:i}function Ph(i){return o=>{setTimeout(i,void 0,o)}}const jl=class Lp extends xn.B{constructor(o=!1){var a;super(),this.destroyRef=void 0,this.__isAsync=o,I()&&(this.destroyRef=null!==(a=ae(zl,{optional:!0}))&&void 0!==a?a:void 0)}emit(o){const a=re(null);try{super.next(o)}finally{re(a)}}subscribe(o,a,l){let d=o,f=a||(()=>null),_=l;if(o&&"object"==typeof o){var w,S,V;const W=o;d=null===(w=W.next)||void 0===w?void 0:w.bind(W),f=null===(S=W.error)||void 0===S?void 0:S.bind(W),_=null===(V=W.complete)||void 0===V?void 0:V.bind(W)}this.__isAsync&&(f=Ph(f),d&&(d=Ph(d)),_&&(_=Ph(_)));const H=super.subscribe({next:d,error:f,complete:_});return o instanceof er.yU&&o.add(H),H}};function f0(){return this._results[Symbol.iterator]()}class jg{get changes(){var o;return null!==(o=this._changes)&&void 0!==o?o:this._changes=new jl}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const a=jg.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=f0)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){this.dirty=!1;const l=function Xn(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function vr(i,o,a){if(i.length!==o.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],f=o[l];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(this._results,l,a))&&(this._results=l,this.length=l.length,this.last=l[this.length-1],this.first=l[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(o){this._onDirty=o}setDirty(){var o;this.dirty=!0,null===(o=this._onDirty)||void 0===o||o.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Hg(i){return!(128&~i.flags)}const Aw=new Map;let xh=0;const g0="__ngContext__";function ko(i,o){xo(o)?(i[g0]=o[Xc],function nP(i){Aw.set(i[Xc],i)}(o)):i[g0]=o}function Mw(i){return Up(i[Ml])}function qg(i){return Up(i[Jr])}function Up(i){for(;null!==i&&!Ko(i);)i=i[Jr];return i}let Bp;function b0(i){Bp=i}const Nh=new cn("",{providedIn:"root",factory:()=>mP}),mP="ng",Ow=new cn(""),zp=new cn("",{providedIn:"platform",factory:()=>"unknown"}),gP=new cn("",{providedIn:"root",factory:()=>{var i;return(null===(i=function nu(){if(void 0!==Bp)return Bp;if(typeof document<"u")return document;throw new Pe(210,!1)}().body)||void 0===i||null===(i=i.querySelector("[ngCspNonce]"))||void 0===i?void 0:i.getAttribute("ngCspNonce"))||null}});let R0=()=>null;function $p(i,o,a=!1){return R0(i,o,a)}const Kw=new cn("",{providedIn:"root",factory:()=>!1});let n_;function Qw(i){var o;return(null===(o=function F0(){if(void 0===n_&&(n_=null,Rn.trustedTypes))try{n_=Rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return n_}())||void 0===o?void 0:o.createScriptURL(i))||i}class o_{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ht})`}}function md(i){return i instanceof o_?i.changingThisBreaksApplicationSecurity:i}function gd(i,o){const a=function Zw(i){return i instanceof o_&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${Ht})`)}return a===o}const xP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var zh=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(zh||{});function z0(i){const o=qp();return o?o.sanitize(zh.URL,i)||"":gd(i,"URL")?md(i):function nT(i){return(i=String(i)).match(xP)?i:"unsafe:"+i}(yn(i))}function sT(i){const o=qp();if(o)return Qw(o.sanitize(zh.RESOURCE_URL,i)||"");if(gd(i,"ResourceURL"))return Qw(md(i));throw new Pe(904,!1)}function aT(i,o,a){return function Wp(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?sT:z0}(o,a)(i)}function qp(){const i=yt();return i&&i[aa].sanitizer}const WP=/^>|^->|<!--|-->|--!>|<!-$/g,qP=/(<|>)/g,lT="\u200b$1\u200b";function p_(i){return i.ownerDocument.defaultView}function Yo(i){return i instanceof Function?i():i}var Xp=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Xp||{});let gc;function m_(i,o){return gc(i,o)}function zs(i,o,a,l,d){if(null!=l){let f,_=!1;Ko(l)?f=l:xo(l)&&(_=!0,l=l[ur]);const w=Gr(l);0===i&&null!==a?null==d?un(o,a,w):_c(o,a,w,d||null,!0):1===i&&null!==a?_c(o,a,w,d||null,!0):2===i?function E_(i,o,a){const l=ht(i,o);l&&function ex(i,o,a,l){i.removeChild(o,a,l)}(i,l,o,a)}(o,w,_):3===i&&o.destroyNode(w),null!=f&&function bi(i,o,a,l,d){const f=a[ka];f!==Gr(a)&&zs(o,i,l,f,d);for(let w=mi;w<a.length;w++){const S=a[w];Hn(S[Lt],S,i,o,l,f)}}(o,i,f,a,d)}}function yd(i,o){return i.createComment(function d_(i){return i.replace(WP,o=>o.replace(qP,lT))}(o))}function Qp(i,o,a){return i.createElement(o,a)}function Y0(i,o){var a;null===(a=o[aa].changeDetectionScheduler)||void 0===a||a.notify(1),Hn(i,o,o[Vn],2,null,null)}function go(i,o){const a=i[Nl],l=a.indexOf(o);a.splice(l,1)}function $l(i,o){if(i.length<=mi)return;const a=mi+o,l=i[a];if(l){const d=l[ms];null!==d&&d!==i&&go(d,l),o>0&&(i[a-1][Jr]=l[Jr]);const f=Kr(i,mi+o);!function v_(i,o){Y0(i,o),o[ur]=null,o[Xr]=null}(l[Lt],l);const _=f[Ci];null!==_&&_.detachView(f[Lt]),l[wr]=null,l[Jr]=null,l[dn]&=-129}return l}function sl(i,o){if(!(256&o[dn])){const a=o[Vn];a.destroyNode&&Hn(i,o,a,3,null,null),function mT(i){let o=i[Ml];if(!o)return su(i[Lt],i);for(;o;){let a=null;if(xo(o))a=o[Ml];else{const l=o[mi];l&&(a=l)}if(!a){for(;o&&!o[Jr]&&o!==i;)xo(o)&&su(o[Lt],o),o=o[wr];null===o&&(o=i),xo(o)&&su(o[Lt],o),a=o&&o[Jr]}o=a}}(o)}}function su(i,o){if(256&o[dn])return;const a=re(null);try{o[dn]&=-129,o[dn]|=256,o[po]&&function at(i){if(tt(i),ze(i))for(let o=0;o<i.producerNode.length;o++)Ne(i.producerNode[o],i.producerIndexOfThis[o]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}(o[po]),function Vt(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof cd)){const f=a[l+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const w=d[f[_]],S=f[_+1];as(4,w,S);try{S.call(w)}finally{as(5,w,S)}}else{as(4,d,f);try{f.call(d)}finally{as(5,d,f)}}}}}(i,o),function ZP(i,o){const a=i.cleanup,l=o[Us];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+3];_>=0?l[_]():l[-_].unsubscribe(),f+=2}else a[f].call(l[a[f+1]]);null!==l&&(o[Us]=null);const d=o[gs];if(null!==d){o[gs]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(i,o),1===o[Lt].type&&o[Vn].destroy();const l=o[ms];if(null!==l&&Ko(o[wr])){l!==o[wr]&&go(l,o);const d=o[Ci];null!==d&&d.detachView(i)}!function rP(i){Aw.delete(i[Xc])}(o)}finally{re(a)}}function Mi(i,o,a){return function Es(i,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[ur];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:f}=i.data[l.directiveStart+d];if(f===os.None||f===os.Emulated)return null}return Xo(l,a)}}(i,o.parent,a)}function _c(i,o,a,l,d){i.insertBefore(o,a,l,d)}function un(i,o,a){i.appendChild(o,a)}function Cn(i,o,a,l,d){null!==l?_c(i,o,a,l,d):un(i,o,a)}function ht(i,o){return i.parentNode(o)}function io(i,o,a){return vT(i,o,a)}let Z0,vT=function J0(i,o,a){return 40&i.type?Xo(i,a):null};function y_(i,o,a,l){const d=Mi(i,l,o),f=o[Vn],w=io(l.parent||o[Xr],l,o);if(null!=d)if(Array.isArray(a))for(let S=0;S<a.length;S++)Cn(f,d,a[S],w,!1);else Cn(f,d,a,w,!1);void 0!==Z0&&Z0(f,l,o,a,d)}function Yp(i,o){if(null!==o){const a=o.type;if(3&a)return Xo(o,i);if(4&a)return tE(-1,i[o.index]);if(8&a){const l=o.child;if(null!==l)return Yp(i,l);{const d=i[o.index];return Ko(d)?tE(-1,d):Gr(d)}}if(32&a)return m_(o,i)()||Gr(i[o.index]);{const l=eE(i,o);return null!==l?Array.isArray(l)?l[0]:Yp(fc(i[Or]),l):Yp(i,o.next)}}return null}function eE(i,o){return null!==o?i[Or][Xr].projection[o.projection]:null}function tE(i,o){const a=mi+i+1;if(a<o.length){const l=o[a],d=l[Lt].firstChild;if(null!==d)return Yp(l,d)}return o[ka]}function I_(i,o,a,l,d,f,_){for(;null!=a;){const w=l[a.index],S=a.type;if(_&&0===o&&(w&&ko(Gr(w),l),a.flags|=2),32&~a.flags)if(8&S)I_(i,o,a.child,l,d,f,!1),zs(o,i,d,w,f);else if(32&S){const V=m_(a,l);let H;for(;H=V();)zs(o,i,d,H,f);zs(o,i,d,w,f)}else 16&S?nE(i,o,l,a,d,f):zs(o,i,d,w,f);a=_?a.projectionNext:a.next}}function Hn(i,o,a,l,d,f){I_(a,l,i.firstChild,o,d,f,!1)}function nE(i,o,a,l,d,f){const _=a[Or],S=_[Xr].projection[l.projection];if(Array.isArray(S))for(let V=0;V<S.length;V++)zs(o,i,d,S[V],f);else{let V=S;const H=_[wr];Hg(l)&&(V.flags|=128),I_(i,o,V,H,d,f,!0)}}function Tr(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function IT(i,o,a){const{mergedAttrs:l,classes:d,styles:f}=a;null!==l&&Tl(i,o,l),null!==d&&Tr(i,o,d),null!==f&&function Jp(i,o,a){i.setAttribute(o,"style",a)}(i,o,f)}const fn={};function tn(i=1){Ed(dr(),yt(),Mo()+i,!1)}function Ed(i,o,a,l){if(!l)if(3&~o[dn]){const f=i.preOrderHooks;null!==f&&Th(o,f,0,a)}else{const f=i.preOrderCheckHooks;null!==f&&Ng(o,f,a)}ad(a)}function au(i,o=Fn.Default){const a=yt();return null===a?U(i,o):pw(Qr(),a,Ae(i),o)}function lu(){throw new Error("invalid")}function CT(i,o,a,l,d,f){const _=re(null);try{let w=null;d&ho.SignalBased&&(w=o[l][He]),null!==w&&void 0!==w.transformFn&&(f=w.transformFn(f)),d&ho.HasDecoratorInputTransform&&(f=i.inputTransforms[l].call(o,f)),null!==i.setInput?i.setInput(o,w,f,a,l):oe(o,w,l,f)}finally{re(_)}}function C_(i,o,a,l,d,f,_,w,S,V,H){const W=o.blueprint.slice();return W[ur]=d,W[dn]=204|l,(null!==V||i&&2048&i[dn])&&(W[dn]|=2048),ow(W),W[wr]=W[la]=i,W[si]=a,W[aa]=_||i&&i[aa],W[Vn]=w||i&&i[Vn],W[Nr]=S||i&&i[Nr]||null,W[Xr]=f,W[Xc]=function tP(){return xh++}(),W[ji]=H,W[kl]=V,W[Or]=2==o.type?i[Or]:W,W}function al(i,o,a,l,d){let f=i.data[o];if(null===f)f=function b_(i,o,a,l,d){const f=Ky(),_=Xy(),S=i.data[o]=function nx(i,o,a,l,d,f){let _=o?o.injectorIndex:-1,w=0;return Fa()&&(w|=128),{type:a,index:l,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,o,l,d);return null===i.firstChild&&(i.firstChild=S),null!==f&&(_?null==f.child&&null!==S.parent&&(f.child=S):null===f.next&&(f.next=S,S.prev=f)),S}(i,o,a,l,d),function lw(){return Zn.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=l,f.attrs=d;const _=function Ip(){const i=Zn.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return vs(f,!0),f}function $h(i,o,a,l){if(0===a)return-1;const d=o.length;for(let f=0;f<a;f++)o.push(l),i.blueprint.push(l),i.data.push(null);return d}function js(i,o,a,l,d){const f=Mo(),_=2&l;try{ad(-1),_&&o.length>Jn&&Ed(i,o,Jn,!1),as(_?2:0,d),a(l,d)}finally{ad(f),as(_?3:1,d)}}function Zp(i,o,a){if(_h(o)){const l=re(null);try{const f=o.directiveEnd;for(let _=o.directiveStart;_<f;_++){const w=i.data[_];w.contentQueries&&w.contentQueries(1,a[_],_)}}finally{re(l)}}}function w_(i,o,a){Sg()&&(function Gl(i,o,a,l){const d=a.directiveStart,f=a.directiveEnd;Ol(a)&&function cx(i,o,a){const l=Xo(o,i),d=vc(a);let _=16;a.signals?_=4096:a.onPush&&(_=64);const w=P_(i,C_(i,d,null,_,l,o,null,i[aa].rendererFactory.createRenderer(l,a),null,null,null));i[o.index]=w}(o,a,i.data[d+a.componentOffset]),i.firstCreatePass||Sh(a,o),ko(l,o);const _=a.initialInputs;for(let w=d;w<f;w++){const S=i.data[w],V=dd(o,i,w,a);ko(V,o),null!==_&&ux(0,w-d,V,S,0,_),ua(S)&&(_s(a.index,o)[si]=dd(o,i,w,a))}}(i,o,a,Xo(a,o)),!(64&~a.flags)&&sE(i,o,a))}function T_(i,o,a=Xo){const l=o.localNames;if(null!==l){let d=o.index+1;for(let f=0;f<l.length;f+=2){const _=l[f+1],w=-1===_?a(o,i):i[_];i[d++]=w}}}function vc(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=em(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function em(i,o,a,l,d,f,_,w,S,V,H){const W=Jn+l,ce=W+d,_e=function $e(i,o){const a=[];for(let l=0;l<o;l++)a.push(l<i?null:fn);return a}(W,ce),Fe="function"==typeof V?V():V;return _e[Lt]={type:i,blueprint:_e,template:a,queries:null,viewQuery:w,declTNode:o,data:_e.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:S,consts:Fe,incompleteFirstPass:!1,ssrId:H}}let rE=()=>null;function uu(i,o,a,l,d){for(let _ in o){var f;if(!o.hasOwnProperty(_))continue;const w=o[_];if(void 0===w)continue;null!==(f=l)&&void 0!==f||(l={});let S,V=ho.None;Array.isArray(w)?(S=w[0],V=w[1]):S=w;let H=_;if(null!==d){if(!d.hasOwnProperty(_))continue;H=d[_]}0===i?iE(l,a,H,S,V):iE(l,a,H,S)}return l}function iE(i,o,a,l,d){let f;i.hasOwnProperty(a)?(f=i[a]).push(o,l):f=i[a]=[o,l],void 0!==d&&f.push(d)}function D_(i,o,a,l){if(Sg()){const d=null===l?null:{"":-1},f=function wT(i,o){const a=i.directiveRegistry;let l=null,d=null;if(a)for(let _=0;_<a.length;_++){const w=a[_];if(le(o,w.selectors,!1))if(l||(l=[]),ua(w))if(null!==w.findHostDirectiveDefs){const S=[];d=d||new Map,w.findHostDirectiveDefs(w,S,d),l.unshift(...S,w),aE(i,o,S.length)}else l.unshift(w),aE(i,o,0);else{var f;d=d||new Map,null===(f=w.findHostDirectiveDefs)||void 0===f||f.call(w,w,l,d),l.push(w)}}return null===l?null:[l,d]}(i,a);let _,w;null===f?_=w=null:[_,w]=f,null!==_&&Jo(i,o,a,_,d,w),d&&function ox(i,o,a){if(o){const l=i.localNames=[];for(let d=0;d<o.length;d+=2){const f=a[o[d+1]];if(null==f)throw new Pe(-301,!1);l.push(o[d],f)}}}(a,l,d)}a.mergedAttrs=Ms(a.mergedAttrs,a.attrs)}function Jo(i,o,a,l,d,f){for(let W=0;W<l.length;W++)Np(Sh(a,o),i,l[W].type);!function ax(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,l.length);for(let W=0;W<l.length;W++){const ce=l[W];ce.providersResolver&&ce.providersResolver(ce)}let _=!1,w=!1,S=$h(i,o,l.length,null);for(let W=0;W<l.length;W++){const ce=l[W];a.mergedAttrs=Ms(a.mergedAttrs,ce.hostAttrs),lx(i,a,o,S,ce),sx(S,ce,d),null!==ce.contentQueries&&(a.flags|=4),(null!==ce.hostBindings||null!==ce.hostAttrs||0!==ce.hostVars)&&(a.flags|=64);const _e=ce.type.prototype;var V,H;!_&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((null!==(V=i.preOrderHooks)&&void 0!==V?V:i.preOrderHooks=[]).push(a.index),_=!0),w||!_e.ngOnChanges&&!_e.ngDoCheck||((null!==(H=i.preOrderCheckHooks)&&void 0!==H?H:i.preOrderCheckHooks=[]).push(a.index),w=!0),S++}!function oE(i,o,a){const d=o.directiveEnd,f=i.data,_=o.attrs,w=[];let S=null,V=null;for(let H=o.directiveStart;H<d;H++){const W=f[H],ce=a?a.get(W):null,Fe=ce?ce.outputs:null;S=uu(0,W.inputs,H,S,ce?ce.inputs:null),V=uu(1,W.outputs,H,V,Fe);const ot=null===S||null===_||ia(o)?null:dx(S,H,_);w.push(ot)}null!==S&&(S.hasOwnProperty("class")&&(o.flags|=8),S.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=w,o.inputs=S,o.outputs=V}(i,a,f)}function sE(i,o,a){const l=a.directiveStart,d=a.directiveEnd,f=a.index,_=function Yy(){return Zn.lFrame.currentDirectiveIndex}();try{ad(f);for(let w=l;w<d;w++){const S=i.data[w],V=o[w];Cp(w),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&R_(S,V)}}finally{ad(-1),Cp(_)}}function R_(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function aE(i,o,a){var l;o.componentOffset=a,(null!==(l=i.components)&&void 0!==l?l:i.components=[]).push(o.index)}function sx(i,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=i;ua(o)&&(a[""]=i)}}function lx(i,o,a,l,d){i.data[l]=d;const f=d.factory||(d.factory=nr(d.type)),_=new cd(f,ua(d),au);i.blueprint[l]=_,a[l]=_,function ix(i,o,a,l,d){const f=d.hostBindings;if(f){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const w=~o.index;(function bT(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(_)!=w&&_.push(w),_.push(a,l,f)}}(i,o,l,$h(i,a,d.hostVars,fn),d)}function Wl(i,o,a,l,d,f){const _=Xo(i,o);!function lE(i,o,a,l,d,f,_){if(null==f)i.removeAttribute(o,d,a);else{const w=null==_?yn(f):_(f,l||"",d);i.setAttribute(o,d,w,a)}}(o[Vn],_,f,i.value,a,l,d)}function ux(i,o,a,l,d,f){const _=f[o];if(null!==_)for(let w=0;w<_.length;)CT(l,a,_[w++],_[w++],_[w++],_[w++])}function dx(i,o,a){let l=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===l&&(l=[]);const _=i[f];for(let w=0;w<_.length;w+=3)if(_[w]===o){l.push(f,_[w+1],_[w+2],a[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function TT(i,o,a,l){return[i,!0,0,o,null,l,null,a,null,null]}function AT(i,o){const a=i.contentQueries;if(null!==a){const l=re(null);try{for(let d=0;d<a.length;d+=2){const _=a[d+1];if(-1!==_){const w=i.data[_];bh(a[d]),w.contentQueries(2,o[_],_)}}}finally{re(l)}}}function P_(i,o){return i[Ml]?i[mh][Jr]=o:i[Ml]=o,i[mh]=o,o}function cE(i,o,a){bh(0);const l=re(null);try{o(i,a)}finally{re(l)}}function uE(i){return i[Us]||(i[Us]=[])}function ST(i){return i.cleanup||(i.cleanup=[])}function rm(i,o){const a=i[Nr],l=a?a.get(pc,null):null;l&&l.handleError(o)}function x_(i,o,a,l,d){for(let f=0;f<a.length;){const _=a[f++],w=a[f++],S=a[f++];CT(i.data[_],o[_],l,w,S,d)}}function hE(i,o){const a=_s(o,i),l=a[Lt];!function No(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])}(l,a);const d=a[ur];null!==d&&null===a[ji]&&(a[ji]=$p(d,a[Nr])),M_(l,a,a[si])}function M_(i,o,a){Pg(o);try{var l;const d=i.viewQuery;null!==d&&cE(1,d,a);const f=i.template;null!==f&&js(i,o,f,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),null===(l=o[Ci])||void 0===l||l.finishViewCreation(i),i.staticContentQueries&&AT(i,o),i.staticViewQueries&&cE(2,i.viewQuery,a);const _=i.components;null!==_&&function du(i,o){for(let a=0;a<o.length;a++)hE(i,o[a])}(o,_)}catch(d){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),d}finally{o[dn]&=-5,Tp()}}function Wr(i,o){return!o||null===o.firstChild||Hg(i)}function hu(i,o,a,l=!0){const d=o[Lt];if(function gT(i,o,a,l){const d=mi+l,f=a.length;l>0&&(a[d-1][Jr]=o),l<f-mi?(o[Jr]=a[d],Cr(a,mi+l,o)):(a.push(o),o[Jr]=null),o[wr]=a;const _=o[ms];null!==_&&a!==_&&function _T(i,o){const a=i[Nl];o[Or]!==o[wr][wr][Or]&&(i[dn]|=Fl.HasTransplantedViews),null===a?i[Nl]=[o]:a.push(o)}(_,o);const w=o[Ci];null!==w&&w.insertView(i),vp(o),o[dn]|=128}(d,o,i,a),l){const _=tE(a,i),w=o[Vn],S=ht(w,i[ka]);null!==S&&function Q0(i,o,a,l,d,f){l[ur]=d,l[Xr]=o,Hn(i,l,a,1,d,f)}(d,i[Xr],w,o,S,_)}const f=o[ji];null!==f&&null!==f.firstChild&&(f.firstChild=null)}function Ur(i,o,a,l,d=!1){for(;null!==a;){const f=o[a.index];null!==f&&l.push(Gr(f)),Ko(f)&&pE(f,l);const _=a.type;if(8&_)Ur(i,o,a.child,l);else if(32&_){const w=m_(a,o);let S;for(;S=w();)l.push(S)}else if(16&_){const w=eE(o,a);if(Array.isArray(w))l.push(...w);else{const S=fc(o[Or]);Ur(S[Lt],S,w,l,!0)}}a=d?a.projectionNext:a.next}return l}function pE(i,o){for(let a=mi;a<i.length;a++){const l=i[a],d=l[Lt].firstChild;null!==d&&Ur(l[Lt],l,d,o)}i[ka]!==i[ur]&&o.push(i[ka])}let Cd=[];const vo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{yp(i.lView)},consumerOnSignalRead(){this.lView[po]=this}},RT=100;function Ba(i,o=!0,a=0){const l=i[aa],d=l.rendererFactory;var _;null===(_=d.begin)||void 0===_||_.call(d);try{!function $i(i,o){Wh(i,o);let a=0;for(;il(i);){if(a===RT)throw new Pe(103,!1);a++,Wh(i,1)}}(i,a)}catch(V){throw o&&rm(i,V),V}finally{var w,S;null===(w=d.end)||void 0===w||w.call(d),null===(S=l.inlineEffectRunner)||void 0===S||S.flush()}}function k_(i,o,a,l){var d;const f=o[dn];if(!(256&~f))return;null===(d=o[aa].inlineEffectRunner)||void 0===d||d.flush(),Pg(o);let w=null,S=null;(function N_(i){return 2!==i.type})(i)&&(S=function Hs(i){var o;return null!==(o=i[po])&&void 0!==o?o:function DT(i){var o;const a=null!==(o=Cd.pop())&&void 0!==o?o:Object.create(vo);return a.lView=i,a}(i)}(o),w=function Qe(i){return i&&(i.nextProducerIndex=0),re(i)}(S));try{ow(o),function aw(i){return Zn.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&js(i,o,a,2,l);const V=!(3&~f);if(V){const ce=i.preOrderCheckHooks;null!==ce&&Ng(o,ce,null)}else{const ce=i.preOrderHooks;null!==ce&&Th(o,ce,0,null),t0(o,0)}if(function fx(i){for(let o=Mw(i);null!==o;o=qg(o)){if(!(o[dn]&Fl.HasTransplantedViews))continue;const a=o[Nl];for(let l=0;l<a.length;l++){$y(a[l])}}}(o),Gh(o,0),null!==i.contentQueries&&AT(i,o),V){const ce=i.contentCheckHooks;null!==ce&&Ng(o,ce)}else{const ce=i.contentHooks;null!==ce&&Th(o,ce,1),t0(o,1)}!function Id(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)ad(~d);else{const f=d,_=a[++l],w=a[++l];FR(_,f),w(2,o[f])}}}finally{ad(-1)}}(i,o);const H=i.components;null!==H&&Ic(o,H,0);const W=i.viewQuery;if(null!==W&&cE(2,W,l),V){const ce=i.viewCheckHooks;null!==ce&&Ng(o,ce)}else{const ce=i.viewHooks;null!==ce&&Th(o,ce,2),t0(o,2)}if(!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[ca]){for(const ce of o[ca])ce();o[ca]=null}o[dn]&=-73}catch(V){throw yp(o),V}finally{null!==S&&(function vt(i,o){if(re(o),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(ze(i))for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)Ne(i.producerNode[a],i.producerIndexOfThis[a]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}(S,w),function hx(i){i.lView[po]!==i&&(i.lView=null,Cd.push(i))}(S)),Tp()}}function Gh(i,o){for(let a=Mw(i);null!==a;a=qg(a))for(let l=mi;l<a.length;l++)Ec(a[l],o)}function pu(i,o,a){Ec(_s(o,i),a)}function Ec(i,o){_p(i)&&Wh(i,o)}function Wh(i,o){const l=i[Lt],d=i[dn],f=i[po];let _=!!(0===o&&16&d);if(_||(_=!!(64&d&&0===o)),_||(_=!!(1024&d)),_||(_=!(null==f||!f.dirty||!We(f))),f&&(f.dirty=!1),i[dn]&=-9217,_)k_(l,i,l.template,i[si]);else if(8192&d){Gh(i,1);const w=l.components;null!==w&&Ic(i,w,1)}}function Ic(i,o,a){for(let l=0;l<o.length;l++)pu(i,o[l],a)}function Gs(i){var o;for(null===(o=i[aa].changeDetectionScheduler)||void 0===o||o.notify();i;){i[dn]|=64;const a=fc(i);if(bg(i)&&!a)return i;i=a}return null}class Cc{get rootNodes(){const o=this._lView,a=o[Lt];return Ur(a,o,a.firstChild,[])}constructor(o,a,l=!0){this._lView=o,this._cdRefInjectingView=a,this.notifyErrorHandler=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[si]}set context(o){this._lView[si]=o}get destroyed(){return!(256&~this._lView[dn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[wr];if(Ko(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&($l(o,l),Kr(a,l))}this._attachedToViewContainer=!1}sl(this._lView[Lt],this._lView)}onDestroy(o){da(this._lView,o)}markForCheck(){Gs(this._cdRefInjectingView||this._lView)}detach(){this._lView[dn]&=-129}reattach(){vp(this._lView),this._lView[dn]|=128}detectChanges(){this._lView[dn]|=1024,Ba(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Y0(this._lView[Lt],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Pe(902,!1);this._appRef=o,vp(this._lView)}}let za=(()=>{class o{}return o.__NG_ELEMENT_ID__=mE,o})();const PT=za,qh=class extends PT{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}get ssrId(){var o;return(null===(o=this._declarationTContainer.tView)||void 0===o?void 0:o.ssrId)||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a)}createEmbeddedViewImpl(o,a,l){const d=function Hh(i,o,a,l){const d=re(null);try{var f,_,w;const S=o.tView,W=C_(i,S,a,4096&i[dn]?4096:16,null,o,null,null,null!==(f=null==l?void 0:l.injector)&&void 0!==f?f:null,null!==(_=null==l?void 0:l.embeddedViewInjector)&&void 0!==_?_:null,null!==(w=null==l?void 0:l.dehydratedView)&&void 0!==w?w:null);W[ms]=i[o.index];const _e=i[Ci];return null!==_e&&(W[Ci]=_e.createEmbeddedView(S)),M_(S,W,a),W}finally{re(d)}}(this._declarationLView,this._declarationTContainer,o,{embeddedViewInjector:a,dehydratedView:l});return new Cc(d)}};function mE(){return bd(Qr(),yt())}function bd(i,o){return 4&i.type?new qh(o,i,Rh(i,o)):null}class B_{}class Zh{}class bE{}class zT{resolveComponentFactory(o){throw function wE(i){const o=Error(`No component factory found for ${pn(i)}.`);return o.ngComponent=i,o}(o)}}let lm=(()=>{class o{}return o.NULL=new zT,o})();class z_{}let j_=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function cm(){const i=yt(),a=_s(Qr().index,i);return(xo(a)?a:i)[Vn]}(),o})(),jT=(()=>{var i;class o{}return(i=o).\u0275prov=qn({token:i,providedIn:"root",factory:()=>null}),o})();const gu={},TE=new Set;function cl(i){var o,a;TE.has(i)||(TE.add(i),null===(o=performance)||void 0===o||null===(a=o.mark)||void 0===a||a.call(o,"mark_feature_usage",{detail:{feature:i}}))}function $T(...i){}class Lr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jl(!1),this.onMicrotaskEmpty=new jl(!1),this.onStable=new jl(!1),this.onError=new jl(!1),typeof Zone>"u")throw new Pe(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function wc(){const i="function"==typeof Rn.requestAnimationFrame;let o=Rn[i?"requestAnimationFrame":"setTimeout"],a=Rn[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function ql(i){const o=()=>{!function GT(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Rn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,H_(i),i.isCheckStableRunning=!0,Ad(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),H_(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,f,_,w)=>{if(function hr(i){var o;return!(!Array.isArray(i)||1!==i.length)&&!0===(null===(o=i[0].data)||void 0===o?void 0:o.__ignore_ng_zone__)}(w))return a.invokeTask(d,f,_,w);try{return ef(i),a.invokeTask(d,f,_,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&o(),WT(i)}},onInvoke:(a,l,d,f,_,w,S)=>{try{return ef(i),a.invoke(d,f,_,w,S)}finally{i.shouldCoalesceRunChangeDetection&&o(),WT(i)}},onHasTask:(a,l,d,f)=>{a.hasTask(d,f),l===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,H_(i),Ad(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lr.isInAngularZone())throw new Pe(909,!1)}static assertNotInAngularZone(){if(Lr.isInAngularZone())throw new Pe(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+d,o,HT,$T,$T);try{return f.runTask(_,a,l)}finally{f.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const HT={};function Ad(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function H_(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function ef(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function WT(i){i._nesting--,Ad(i)}class qT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jl,this.onMicrotaskEmpty=new jl,this.onStable=new jl,this.onError=new jl}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}var Tc=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(Tc||{});const AE={destroy(){}};function um(i,o){var a,l,d;!o&&function P(i){if(!I())throw new Pe(-203,!1)}();const f=null!==(a=null==o?void 0:o.injector)&&void 0!==a?a:ae(fa);if(!function Ua(i){return"browser"===(null!=i?i:ae(fa)).get(zp)}(f))return AE;cl("NgAfterNextRender");const _=f.get(tf),w=null!==(l=_.handler)&&void 0!==l?l:_.handler=new QT,S=null!==(d=null==o?void 0:o.phase)&&void 0!==d?d:Tc.MixedReadWrite,V=()=>{w.unregister(W),H()},H=f.get(zl).onDestroy(V),W=Vs(f,()=>new XT(S,()=>{V(),i()}));return w.register(W),{destroy:V}}class XT{constructor(o,a){var l;this.phase=o,this.callbackFn=a,this.zone=ae(Lr),this.errorHandler=ae(pc,{optional:!0}),null===(l=ae(B_,{optional:!0}))||void 0===l||l.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(a){var o;null===(o=this.errorHandler)||void 0===o||o.handleError(a)}}}class QT{constructor(){this.executingCallbacks=!1,this.buckets={[Tc.EarlyRead]:new Set,[Tc.Write]:new Set,[Tc.MixedReadWrite]:new Set,[Tc.Read]:new Set},this.deferredCallbacks=new Set}register(o){(this.executingCallbacks?this.deferredCallbacks:this.buckets[o.phase]).add(o)}unregister(o){this.buckets[o.phase].delete(o),this.deferredCallbacks.delete(o)}execute(){this.executingCallbacks=!0;for(const o of Object.values(this.buckets))for(const a of o)a.invoke();this.executingCallbacks=!1;for(const o of this.deferredCallbacks)this.buckets[o.phase].add(o);this.deferredCallbacks.clear()}destroy(){for(const o of Object.values(this.buckets))o.clear();this.deferredCallbacks.clear()}}let tf=(()=>{var i;class o{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var l;this.executeInternalCallbacks(),null===(l=this.handler)||void 0===l||l.execute()}executeInternalCallbacks(){const l=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const d of l)d()}ngOnDestroy(){var l;null===(l=this.handler)||void 0===l||l.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(i=o).\u0275prov=qn({token:i,providedIn:"root",factory:()=>new i}),o})();function qs(i){return!!Ri(i)}function Sd(i,o,a){let l=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==o)for(let _=0;_<o.length;_++){const w=o[_];"number"==typeof w?f=w:1==f?d=tr(d,w):2==f&&(l=tr(l,w+": "+o[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}class fm extends lm{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=sr(o);return new pm(a,this.ngModule)}}function SE(i){const o=[];for(const a in i){if(!i.hasOwnProperty(a))continue;const l=i[a];void 0!==l&&o.push({propName:Array.isArray(l)?l[0]:l,templateName:a})}return o}class Eu{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=he(l);const d=this.injector.get(o,gu,l);return d!==gu||a===gu?d:this.parentInjector.get(o,a,l)}}class pm extends bE{get inputs(){const o=this.componentDef,a=o.inputTransforms,l=SE(o.inputs);if(null!==a)for(const d of l)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return l}get outputs(){return SE(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function fs(i){return i.map(ss).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,d){const f=re(null);try{var w;let S=(d=d||this.ngModule)instanceof qo?d:null===(w=d)||void 0===w?void 0:w.injector;S&&null!==this.componentDef.getStandaloneInjector&&(S=this.componentDef.getStandaloneInjector(S)||S);const V=S?new Eu(o,S):o,H=V.get(z_,null);if(null===H)throw new Pe(407,!1);const W=V.get(jT,null),Fe={rendererFactory:H,sanitizer:W,inlineEffectRunner:null,afterRenderEventManager:V.get(tf,null),changeDetectionScheduler:V.get(B_,null)},ot=H.createRenderer(null,this.componentDef),kt=this.componentDef.selectors[0][0]||"div",Ut=l?function A_(i,o,a,l){const f=l.get(Kw,!1)||a===os.ShadowDom,_=i.selectRootElement(o,f);return function Hl(i){rE(i)}(_),_}(ot,l,this.componentDef.encapsulation,V):Qp(ot,kt,function Cx(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(kt));let wt=512;this.componentDef.signals?wt|=4096:this.componentDef.onPush||(wt|=16);let Un=null;null!==Ut&&(Un=$p(Ut,V,!0));const Gn=em(0,null,null,1,0,null,null,null,null,null,null),Sr=C_(null,Gn,null,wt,null,null,Fe,ot,V,null,Un);let Zi,Ga;Pg(Sr);try{const Wa=this.componentDef;let ah,hb=null;Wa.findHostDirectiveDefs?(ah=[],hb=new Map,Wa.findHostDirectiveDefs(Wa,ah,hb),ah.push(Wa)):ah=[Wa];const wN=function af(i,o){const a=i[Lt],l=Jn;return i[l]=o,al(a,l,2,"#host",null)}(Sr,Ut),P1=function Ac(i,o,a,l,d,f,_){const w=d[Lt];!function ZT(i,o,a,l){for(const d of i)o.mergedAttrs=Ms(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(Sd(o,o.mergedAttrs,!0),null!==a&&IT(l,a,o))}(l,i,o,_);let S=null;null!==o&&(S=$p(o,d[Nr]));const V=f.rendererFactory.createRenderer(o,a);let H=16;a.signals?H=4096:a.onPush&&(H=64);const W=C_(d,vc(a),null,H,d[i.index],i,f,V,null,null,S);return w.firstCreatePass&&aE(w,i,l.length-1),P_(d,W),d[i.index]=W}(wN,Ut,Wa,ah,Sr,Fe,ot);Ga=od(Gn,Jn),Ut&&function tA(i,o,a,l){if(l)Tl(i,a,["ng-version","17.3.10"]);else{const{attrs:d,classes:f}=function xa(i){const o=[],a=[];let l=1,d=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===d?""!==f&&o.push(f,i[++l]):8===d&&a.push(f);else{if(!ne(d))break;d=f}l++}return{attrs:o,classes:a}}(o.selectors[0]);d&&Tl(i,a,d),f&&f.length>0&&Tr(i,a,f.join(" "))}}(ot,Wa,Ut,l),void 0!==a&&function lf(i,o,a){const l=i.projection=[];for(let d=0;d<o.length;d++){const f=a[d];l.push(null!=f?Array.from(f):null)}}(Ga,this.ngContentSelectors,a),Zi=function eA(i,o,a,l,d,f){const _=Qr(),w=d[Lt],S=Xo(_,d);Jo(w,d,_,a,null,l);for(let H=0;H<a.length;H++)ko(dd(d,w,_.directiveStart+H,_),d);sE(w,d,_),S&&ko(S,d);const V=dd(d,w,_.directiveStart+_.componentOffset,_);if(i[si]=d[si]=V,null!==f)for(const H of f)H(V,o);return Zp(w,_,d),V}(P1,Wa,ah,hb,Sr,[DE]),M_(Gn,Sr,null)}finally{Tp()}return new JT(this.componentType,Zi,Rh(Ga,Sr),Sr,Ga)}finally{re(f)}}}class JT extends Zh{constructor(o,a,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Cc(d,void 0,!1),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){var f;if(null!==(f=this.previousInputValues)&&void 0!==f||(this.previousInputValues=new Map),this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const _=this._rootLView;x_(_[Lt],_,d,o,a),this.previousInputValues.set(o,a),Gs(_s(this._tNode.index,_))}}get injector(){return new mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function DE(){const i=Qr();wh(yt()[Lt],i)}let cf=(()=>{class o{}return o.__NG_ELEMENT_ID__=RE,o})();function RE(){return Mr(Qr(),yt())}const PE=cf,xE=class extends PE{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Rh(this._hostTNode,this._hostLView)}get injector(){return new mo(this._hostTNode,this._hostLView)}get parentInjector(){const o=kp(this._hostTNode,this._hostLView);if(Rp(o)){const a=xp(o,this._hostLView),l=Pp(o);return new mo(a[Lt].data[l+8],a)}return new mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=nA(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-mi}createEmbeddedView(o,a,l){let d,f;"number"==typeof l?d=l:null!=l&&(d=l.index,f=l.injector);const w=o.createEmbeddedViewImpl(a||{},f,null);return this.insertImpl(w,d,Wr(this._hostTNode,null)),w}createComponent(o,a,l,d,f){var _,S;const V=o&&!function ve(i){return"function"==typeof i}(o);let H;if(V)H=a;else{const Ut=a||{};H=Ut.index,l=Ut.injector,d=Ut.projectableNodes,f=Ut.environmentInjector||Ut.ngModuleRef}const W=V?o:new pm(sr(o)),ce=l||this.parentInjector;if(!f&&null==W.ngModule){const wt=(V?ce:this.parentInjector).get(qo,null);wt&&(f=wt)}const _e=sr(null!==(_=W.componentType)&&void 0!==_?_:{}),Fe=(null==_e?void 0:_e.id,null),ot=null!==(S=null==Fe?void 0:Fe.firstChild)&&void 0!==S?S:null,kt=W.create(ce,d,ot,f);return this.insertImpl(kt.hostView,H,Wr(this._hostTNode,Fe)),kt}insert(o,a){return this.insertImpl(o,a,!0)}insertImpl(o,a,l){const d=o._lView;if(function RR(i){return Ko(i[wr])}(d)){const w=this.indexOf(o);if(-1!==w)this.detach(w);else{const S=d[wr],V=new xE(S,S[Xr],S[wr]);V.detach(V.indexOf(o))}}const f=this._adjustIndex(a),_=this._lContainer;return hu(_,d,f,l),o.attachToViewContainerRef(),Cr(Hi(_),f,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=nA(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=$l(this._lContainer,a);l&&(Kr(Hi(this._lContainer),a),sl(l[Lt],l))}detach(o){const a=this._adjustIndex(o,-1),l=$l(this._lContainer,a);return l&&null!=Kr(Hi(this._lContainer),a)?new Cc(l):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function nA(i){return i[8]}function Hi(i){return i[8]||(i[8]=[])}function Mr(i,o){let a;const l=o[i.index];return Ko(l)?a=l:(a=TT(l,o,null,i),o[i.index]=a,P_(o,a)),ME(a,o,i,l),new xE(a,i,o)}let ME=function iA(i,o,a,l){if(i[ka])return;let d;d=8&a.type?Gr(l):function rA(i,o){const a=i[Vn],l=a.createComment(""),d=Xo(o,i);return _c(a,ht(a,d),l,function Nt(i,o){return i.nextSibling(o)}(a,d),!1),l}(o,a),i[ka]=d},uf=()=>!1;class Dd{constructor(o){this.queryList=o,this.matches=null}clone(){return new Dd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rd{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let f=0;f<l;f++){const _=a.getByIndex(f);d.push(this.queries[_.indexInDeclarationView].clone())}return new Rd(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}finishViewCreation(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Ni(o,a).matches&&this.queries[a].setDirty()}}class df{constructor(o,a,l=null){this.flags=a,this.read=l,this.predicate="string"==typeof o?function ff(i){return i.split(",").map(o=>o.trim())}(o):o}}class hf{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(o,d);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new hf(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class q_{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new q_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1&~this.metadata.flags){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(o,a,aA(a,f)),this.matchTNodeWithReadOption(o,a,Vg(a,o,f,!1,!1))}else l===za?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Vg(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===eu||d===cf||d===za&&4&a.type)this.addMatch(a.index,-2);else{const f=Vg(a,o,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function aA(i,o){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function bx(i,o,a,l){return-1===a?function lA(i,o){return 11&i.type?Rh(i,o):4&i.type?bd(i,o):null}(o,i):-2===a?function cA(i,o,a){return a===eu?Rh(o,i):a===za?bd(o,i):a===cf?Mr(o,i):void 0}(i,o,l):dd(i,i[Lt],a,o)}function FE(i,o,a,l){const d=o[Ci].queries[l];if(null===d.matches){const f=i.data,_=a.matches,w=[];for(let S=0;null!==_&&S<_.length;S+=2){const V=_[S];w.push(V<0?null:bx(o,f[V],_[S+1],a.metadata.read))}d.matches=w}return d.matches}function OE(i,o,a,l){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const _=FE(i,o,d,a);for(let w=0;w<f.length;w+=2){const S=f[w];if(S>0)l.push(_[w/2]);else{const V=f[w+1],H=o[-S];for(let W=mi;W<H.length;W++){const ce=H[W];ce[ms]===ce[wr]&&OE(ce[Lt],ce,V,l)}if(null!==H[Nl]){const W=H[Nl];for(let ce=0;ce<W.length;ce++){const _e=W[ce];OE(_e[Lt],_e,V,l)}}}}}return l}function uA(i,o,a){var l;const d=new jg(!(4&~a));return function cu(i,o,a,l){const d=uE(o);d.push(a),i.firstCreatePass&&ST(i).push(l,d.length-1)}(i,o,d,d.destroy),(null!==(l=o[Ci])&&void 0!==l?l:o[Ci]=new Rd).queries.push(new Dd(d))-1}function VE(i,o,a){null===i.queries&&(i.queries=new hf),i.queries.track(new q_(o,a))}function Ni(i,o){return i.queries.getByIndex(o)}function X_(i,o){const a=i[Lt],l=Ni(a,o);return l.crossesNgTemplate?OE(a,i,o,[]):FE(a,i,l,o)}function YE(i){let o=function QE(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;o;){let d;if(ua(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Pe(903,!1);d=o.\u0275dir}if(d){if(a){l.push(d);const _=i;_.inputs=wu(i.inputs),_.inputTransforms=wu(i.inputTransforms),_.declaredInputs=wu(i.declaredInputs),_.outputs=wu(i.outputs);const w=d.hostBindings;w&&vA(i,w);const S=d.viewQuery,V=d.contentQueries;if(S&&kd(i,S),V&&Tu(i,V),Ox(i,d),gr(i.outputs,d.outputs),ua(d)&&d.data.animation){const H=i.data;H.animation=(H.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let _=0;_<f.length;_++){const w=f[_];w&&w.ngInherit&&w(i),w===YE&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Lx(i){let o=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Ms(d.hostAttrs,a=Ms(a,d.hostAttrs))}}(l)}function Ox(i,o){for(const l in o.inputs){if(!o.inputs.hasOwnProperty(l)||i.inputs.hasOwnProperty(l))continue;const d=o.inputs[l];if(void 0!==d&&(i.inputs[l]=d,i.declaredInputs[l]=o.declaredInputs[l],null!==o.inputTransforms)){var a;const f=Array.isArray(d)?d[0]:d;if(!o.inputTransforms.hasOwnProperty(f))continue;null!==(a=i.inputTransforms)&&void 0!==a||(i.inputTransforms={}),i.inputTransforms[f]=o.inputTransforms[f]}}}function wu(i){return i===Bi?{}:i===lr?[]:i}function kd(i,o){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function Tu(i,o){const a=i.contentQueries;i.contentQueries=a?(l,d,f)=>{o(l,d,f),a(l,d,f)}:o}function vA(i,o){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}function ym(i){const o=i.inputConfig,a={};for(const l in o)if(o.hasOwnProperty(l)){const d=o[l];Array.isArray(d)&&d[3]&&(a[l]=d[3])}i.inputTransforms=a}class Nd{}class ev{}function tv(i,o){return new nv(i,null!=o?o:null,[])}class nv extends Nd{constructor(o,a,l){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fm(this);const d=Ri(o);this._bootstrapComponents=Yo(d.bootstrap),this._r3Injector=Ew(o,a,[{provide:Nd,useValue:this},{provide:lm,useValue:this.componentFactoryResolver},...l],pn(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Au extends ev{constructor(o){super(),this.moduleType=o}create(o){return new nv(this.moduleType,o,[])}}class Fd extends Nd{constructor(o){super(),this.componentFactoryResolver=new fm(this),this.instance=null;const a=new sa([...o.providers,{provide:Nd,useValue:this},{provide:lm,useValue:this.componentFactoryResolver}],o.parent||Za(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function rv(i,o,a=null){return new Fd({providers:i,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let ga=(()=>{var i;class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new In.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(i=o).\u0275fac=function(l){return new(l||i)},i.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function Cm(i){return!!Su(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Su(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ji(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function Ld(i,o,a,l,d,f,_,w){const S=yt(),V=dr(),H=i+Jn,W=V.firstCreatePass?function sv(i,o,a,l,d,f,_,w,S){const V=o.consts,H=al(o,i,4,_||null,Na(V,w));D_(o,a,H,Na(V,S)),wh(o,H);const W=H.tView=em(2,H,l,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,V,null);return null!==o.queries&&(o.queries.template(o,H),W.queries=o.queries.embeddedTView(H)),H}(H,V,S,o,a,l,d,f,_):V.data[H];vs(W,!1);const ce=wA(V,S,W,i);ld()&&y_(V,S,ce,W),ko(ce,S);const _e=TT(ce,S,ce,W);return S[H]=_e,P_(S,_e),function kE(i,o,a){return uf(i,o,a)}(_e,W,S),dp(W)&&w_(V,S,W),null!=_&&T_(S,W,w),Ld}let wA=function rI(i,o,a,l){return La(!0),o[Vn].createComment("")};function Cv(i,o,a,l){const d=yt();return Ji(d,ha(),o)&&(dr(),Wl(li(),d,i,o,a,l)),Cv}function Sv(i,o){return i<<17|o<<2}function Dc(i){return i>>17&32767}function Mm(i){return 2|i}function Kd(i){return(131068&i)>>2}function km(i,o){return-131069&i|o<<2}function Nm(i){return 1|i}function Dv(i,o,a,l){const d=i[a+1],f=null===o;let _=l?Dc(d):Kd(d),w=!1;for(;0!==_&&(!1===w||f);){const V=i[_+1];EI(i[_],o)&&(w=!0,i[_+1]=l?Nm(V):Mm(V)),_=l?Dc(V):Kd(V)}w&&(i[a+1]=l?Mm(d):Nm(d))}function EI(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&uo(i,o)>=0}function Fm(i,o,a){const l=yt();return Ji(l,ha(),o)&&function $s(i,o,a,l,d,f,_,w){const S=Xo(o,a);let H,V=o.inputs;!w&&null!=V&&(H=V[l])?(x_(i,a,H,l,d),Ol(o)&&function ma(i,o){const a=_s(o,i);16&a[dn]||(a[dn]|=64)}(a,o.index)):3&o.type&&(l=function rx(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=_?_(d,o.value||"",l):d,f.setProperty(S,l,d))}(dr(),li(),l,i,o,l[Vn],a,!1),Fm}function Om(i,o,a,l,d){const _=d?"class":"style";x_(i,a,o.inputs[_],_,l)}function Lm(i,o){return function ja(i,o,a,l){const d=yt(),f=dr(),_=function Oa(i){const o=Zn.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);f.firstUpdatePass&&function XA(i,o,a,l){const d=i.data;if(null===d[a+1]){const f=d[Mo()],_=function AI(i,o){return o>=i.expandoStartIndex}(i,a);(function JA(i,o){return!!(i.flags&(o?8:16))})(f,l)&&null===o&&!_&&(o=!1),o=function nM(i,o,a,l){const d=function bp(i){const o=Zn.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let f=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=Yd(a=DI(null,i,o,a,l),o.attrs,l),f=null);else{const _=o.directiveStylingLast;if(-1===_||i[_]!==d)if(a=DI(d,i,o,a,l),null===f){let S=function rM(i,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==Kd(l))return i[Dc(l)]}(i,o,l);void 0!==S&&Array.isArray(S)&&(S=DI(null,i,o,S[1],l),S=Yd(S,o.attrs,l),function iM(i,o,a,l){i[Dc(a?o.classBindings:o.styleBindings)]=l}(i,o,l,S))}else f=function SI(i,o,a){let l;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)l=Yd(l,i[f].hostAttrs,a);return Yd(l,o.attrs,a)}(i,o,l)}return void 0!==f&&(l?o.residualClasses=f:o.residualStyles=f),a}(d,f,o,l),function HA(i,o,a,l,d,f){let _=f?o.classBindings:o.styleBindings,w=Dc(_),S=Kd(_);i[l]=a;let H,V=!1;if(Array.isArray(a)?(H=a[1],(null===H||uo(a,H)>0)&&(V=!0)):H=a,d)if(0!==S){const ce=Dc(i[w+1]);i[l+1]=Sv(ce,w),0!==ce&&(i[ce+1]=km(i[ce+1],l)),i[w+1]=function Zx(i,o){return 131071&i|o<<17}(i[w+1],l)}else i[l+1]=Sv(w,0),0!==w&&(i[w+1]=km(i[w+1],l)),w=l;else i[l+1]=Sv(S,0),0===w?w=l:i[S+1]=km(i[S+1],l),S=l;V&&(i[l+1]=Mm(i[l+1])),Dv(i,H,l,!0),Dv(i,H,l,!1),function yI(i,o,a,l,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof o&&uo(f,o)>=0&&(a[l+1]=Nm(a[l+1]))}(o,H,i,l,f),_=Sv(w,S),f?o.classBindings=_:o.styleBindings=_}(d,f,o,a,_,l)}}(f,i,_,l),o!==fn&&Ji(d,_,o)&&function YA(i,o,a,l,d,f,_,w){if(!(3&o.type))return;const S=i.data,V=S[w+1],H=function eM(i){return!(1&~i)}(V)?xv(S,o,a,d,Kd(V),_):void 0;Mv(H)||(Mv(f)||function jA(i){return!(2&~i)}(V)&&(f=xv(S,null,a,d,w,_)),function Dn(i,o,a,l,d){if(o)d?i.addClass(a,l):i.removeClass(a,l);else{let f=-1===l.indexOf("-")?void 0:Xp.DashCase;null==d?i.removeStyle(a,l,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=Xp.Important),i.setStyle(a,l,d,f))}}(l,_,gp(Mo(),a),d,f))}(f,f.data[Mo()],d,d[Vn],i,d[_+1]=function xI(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=pn(md(i)))),i}(o,a),l,_)}(i,o,null,!0),Lm}function DI(i,o,a,l,d){let f=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(f=o[w],l=Yd(l,f.hostAttrs,d),f!==i);)w++;return null!==i&&(a.directiveStylingLast=w),l}function Yd(i,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const _=o[f];"number"==typeof _?d=_:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),br(i,_,!!a||o[++f]))}return void 0===i?null:i}function xv(i,o,a,l,d,f){const _=null===o;let w;for(;d>0;){const S=i[d],V=Array.isArray(S),H=V?S[1]:S,W=null===H;let ce=a[d+1];ce===fn&&(ce=W?lr:void 0);let _e=W?Ra(ce,l):H===l?ce:void 0;if(V&&!Mv(_e)&&(_e=Ra(S,l)),Mv(_e)&&(w=_e,_))return w;const Fe=i[d+1];d=_?Dc(Fe):Kd(Fe)}if(null!==o){let S=f?o.residualClasses:o.residualStyles;null!=S&&(w=Ra(S,l))}return w}function Mv(i){return void 0!==i}function Nv(i,o,a,l){const d=yt(),f=dr(),_=Jn+i,w=d[Vn],S=f.firstCreatePass?function HI(i,o,a,l,d,f){const _=o.consts,S=al(o,i,2,l,Na(_,d));return D_(o,a,S,Na(_,f)),null!==S.attrs&&Sd(S,S.attrs,!1),null!==S.mergedAttrs&&Sd(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(_,f,d,o,a,l):f.data[_],V=Ov(f,d,S,w,o,i);d[_]=V;const H=dp(S);return vs(S,!0),IT(w,V,S),!function bm(i){return!(32&~i.flags)}(S)&&ld()&&y_(f,d,V,S),0===function Gy(){return Zn.lFrame.elementDepthCount}()&&ko(V,d),function PR(){Zn.lFrame.elementDepthCount++}(),H&&(w_(f,d,S),Zp(f,S,d)),null!==l&&T_(d,S),Nv}function Df(){let i=Qr();Xy()?Ih():(i=i.parent,vs(i,!1));const o=i;(function MR(i){return Zn.skipHydrationRootTNode===i})(o)&&function Wy(){Zn.skipHydrationRootTNode=null}(),function xR(){Zn.lFrame.elementDepthCount--}();const a=dr();return a.firstCreatePass&&(wh(a,i),_h(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function BR(i){return!!(8&i.flags)}(o)&&Om(a,o,yt(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function o0(i){return!!(16&i.flags)}(o)&&Om(a,o,yt(),o.stylesWithoutHost,!1),Df}function Fv(i,o,a,l){return Nv(i,o,a,l),Df(),Fv}let Ov=(i,o,a,l,d,f)=>(La(!0),Qp(l,d,function kg(){return Zn.lFrame.currentNamespace}()));function Rf(i,o,a){const l=yt(),d=dr(),f=i+Jn,_=d.firstCreatePass?function mM(i,o,a,l,d){const f=o.consts,_=Na(f,l),w=al(o,i,8,"ng-container",_);return null!==_&&Sd(w,_,!0),D_(o,a,w,Na(f,d)),null!==o.queries&&o.queries.elementStart(o,w),w}(f,d,l,o,a):d.data[f];vs(_,!0);const w=jm(d,l,_,i);return l[f]=w,ld()&&y_(d,l,w,_),ko(w,l),dp(_)&&(w_(d,l,_),Zp(d,_,l)),null!=a&&T_(l,_),Rf}function Lv(){let i=Qr();const o=dr();return Xy()?Ih():(i=i.parent,vs(i,!1)),o.firstCreatePass&&(wh(o,i),_h(i)&&o.queries.elementEnd(i)),Lv}function zm(i,o,a){return Rf(i,o,a),Lv(),zm}let jm=(i,o,a,l)=>(La(!0),yd(o[Vn],""));function Zd(){return yt()}const Fu=void 0;var rS=["en",[["a","p"],["AM","PM"],Fu],[["AM","PM"],Fu,Fu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fu,"{1} 'at' {0}",Fu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Pf(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let xc={};function WI(i){const o=function qI(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=$m(o);if(a)return a;const l=o.split("-")[0];if(a=$m(l),a)return a;if("en"===l)return rS;throw new Pe(701,!1)}function iS(i){return WI(i)[Ou.PluralCase]}function $m(i){return i in xc||(xc[i]=Rn.ng&&Rn.ng.common&&Rn.ng.common.locales&&Rn.ng.common.locales[i]),xc[i]}var Ou=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Ou||{});const Lu="en-US";let XI=Lu;function aC(i,o,a,l){const d=yt(),f=dr(),_=Qr();return function Qv(i,o,a,l,d,f,_){const w=dp(l),V=i.firstCreatePass&&ST(i),H=o[si],W=uE(o);let ce=!0;if(3&l.type||_){const ot=Xo(l,o),kt=_?_(ot):ot,Ut=W.length,wt=_?Gn=>_(Gr(Gn[l.index])):l.index;let Un=null;if(!_&&w&&(Un=function Xv(i,o,a,l){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const _=d[f];if(_===a&&d[f+1]===l){const w=o[Us],S=d[f+2];return w.length>S?w[S]:null}"string"==typeof _&&(f+=2)}return null}(i,o,d,l.index)),null!==Un)(Un.__ngLastListenerFn__||Un).__ngNextListenerFn__=f,Un.__ngLastListenerFn__=f,ce=!1;else{f=xS(l,o,H,f,!1);const Gn=a.listen(kt,d,f);W.push(f,Gn),V&&V.push(d,wt,Ut,Ut+1)}}else f=xS(l,o,H,f,!1);const _e=l.outputs;let Fe;if(ce&&null!==_e&&(Fe=_e[d])){const ot=Fe.length;if(ot)for(let kt=0;kt<ot;kt+=2){const Sr=o[Fe[kt]][Fe[kt+1]].subscribe(f),Zi=W.length;W.push(f,Sr),V&&V.push(d,l.index,Zi,-(Zi+1))}}}(f,d,d[Vn],_,i,o,l),aC}function Lf(i,o,a,l){const d=re(null);try{return as(6,o,a),!1!==a(l)}catch(f){return rm(i,f),!1}finally{as(7,o,a),re(d)}}function xS(i,o,a,l,d){return function f(_){if(_===Function)return l;Gs(i.componentOffset>-1?_s(i.index,o):o);let S=Lf(o,a,l,_),V=f.__ngNextListenerFn__;for(;V;)S=Lf(o,a,V,_)&&S,V=V.__ngNextListenerFn__;return d&&!1===S&&_.preventDefault(),S}}function cC(i=1){return function uw(i){return(Zn.lFrame.contextLView=function Eh(i,o){for(;i>0;)o=o[la],i--;return o}(i,Zn.lFrame.contextLView))[si]}(i)}function uC(i,o){let a=null;const l=function Ft(i){const o=i.attrs;if(null!=o){const a=o.indexOf(5);if(!(1&a))return o[a+1]}return null}(i);for(let d=0;d<o.length;d++){const f=o[d];if("*"!==f){if(null===l?le(i,f,!0):yr(l,f))return d}else a=d}return a}function Vf(i){const o=yt()[Or][Xr];if(!o.projection){const l=o.projection=function Qi(i,o){const a=[];for(let l=0;l<i;l++)a.push(o);return a}(i?i.length:1,null),d=l.slice();let f=o.child;for(;null!==f;){const _=i?uC(f,i):0;null!==_&&(d[_]?d[_].projectionNext=f:l[_]=f,d[_]=f),f=f.next}}}function kc(i,o=0,a){const l=yt(),d=dr(),f=al(d,Jn+i,16,null,a||null);null===f.projection&&(f.projection=o),Ih(),(!l[ji]||Fa())&&32&~f.flags&&function jh(i,o,a){nE(o[Vn],0,o,a,Mi(i,a,o),io(a.parent||o[Xr],a,o))}(d,l,f)}function Qm(i,o,a,l){!function K_(i,o,a,l){const d=dr();if(d.firstCreatePass){const f=Qr();VE(d,new df(o,a,l),f.index),function wx(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),!(2&~a)&&(d.staticContentQueries=!0)}return uA(d,yt(),a)}(i,o,a,l)}function FS(i,o,a){!function dA(i,o,a){const l=dr();return l.firstCreatePass&&(VE(l,new df(i,o,a),-1),!(2&~o)&&(l.staticViewQueries=!0)),uA(l,yt(),o)}(i,o,a)}function OS(i){const o=yt(),a=dr(),l=Ch();bh(l+1);const d=Ni(a,l);if(i.dirty&&function DR(i){return!(4&~i[dn])}(o)===!(2&~d.metadata.flags)){if(null===d.matches)i.reset([]);else{const f=X_(o,l);i.reset(f,h0),i.notifyOnChanges()}return!0}return!1}function Ym(){return function LE(i,o){return i[Ci].queries[o].queryList}(yt(),Ch())}function HS(i,o=""){const a=yt(),l=dr(),d=i+Jn,f=l.firstCreatePass?al(l,d,1,o,null):l.data[d],_=GS(l,a,f,o,i);a[d]=_,ld()&&y_(l,a,_,f),vs(f,!1)}let GS=(i,o,a,l,d)=>(La(!0),function __(i,o){return i.createText(o)}(o[Vn],l));function pC(i){return Zv("",i,""),pC}function Zv(i,o,a){const l=yt(),d=function Mu(i,o,a,l){return Ji(i,ha(),a)?o+yn(a)+l:fn}(l,i,o,a);return d!==fn&&function yc(i,o,a){const l=gp(o,i);!function X0(i,o,a){i.setValue(o,a)}(i[Vn],l,a)}(l,Mo(),d),Zv}function _C(i,o,a,l,d){if(i=Ae(i),Array.isArray(i))for(let f=0;f<i.length;f++)_C(i[f],o,a,l,d);else{const f=dr(),_=yt(),w=Qr();let S=ps(i)?i:Ae(i.provide);const V=fh(i),H=1048575&w.providerIndexes,W=w.directiveStart,ce=w.providerIndexes>>20;if(ps(i)||!i.multi){const _e=new cd(V,d,au),Fe=JS(S,o,d?H:H+ce,W);-1===Fe?(Np(Sh(w,_),f,S),YS(f,i,o.length),o.push(S),w.directiveStart++,w.directiveEnd++,d&&(w.providerIndexes+=1048576),a.push(_e),_.push(_e)):(a[Fe]=_e,_[Fe]=_e)}else{const _e=JS(S,o,H+ce,W),Fe=JS(S,o,H,H+ce),kt=Fe>=0&&a[Fe];if(d&&!kt||!d&&!(_e>=0&&a[_e])){Np(Sh(w,_),f,S);const Ut=function QM(i,o,a,l,d){const f=new cd(i,a,au);return f.multi=[],f.index=o,f.componentProviders=0,KM(f,d,l&&!a),f}(d?XM:OO,a.length,d,l,V);!d&&kt&&(a[Fe].providerFactory=Ut),YS(f,i,o.length,0),o.push(S),w.directiveStart++,w.directiveEnd++,d&&(w.providerIndexes+=1048576),a.push(Ut),_.push(Ut)}else YS(f,i,_e>-1?_e:Fe,KM(a[d?Fe:_e],V,!d&&l));!d&&l&&kt&&a[Fe].componentProviders++}}}function YS(i,o,a,l){const d=ps(o),f=function Wc(i){return!!i.useClass}(o);if(d||f){const S=(f?Ae(o.useClass):o).prototype.ngOnDestroy;if(S){const V=i.destroyHooks||(i.destroyHooks=[]);if(!d&&o.multi){const H=V.indexOf(a);-1===H?V.push(a,[l,S]):V[H+1].push(l,S)}else V.push(a,S)}}}function KM(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function JS(i,o,a,l){for(let d=a;d<l;d++)if(o[d]===i)return d;return-1}function OO(i,o,a,l){return vC(this.multi,[])}function XM(i,o,a,l){const d=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=dd(a,a[Lt],this.providerFactory.index,l);f=w.slice(0,_),vC(d,f);for(let S=_;S<w.length;S++)f.push(w[S])}else f=[],vC(d,f);return f}function vC(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function YM(i,o=[]){return a=>{a.providersResolver=(l,d)=>function qM(i,o,a){const l=dr();if(l.firstCreatePass){const d=ua(i);_C(a,l.data,l.blueprint,d,!0),_C(o,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,o)}}let JM=(()=>{var i;class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const d=Bt(0,l.type),f=d.length>0?rv([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,f)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return(i=o).\u0275prov=qn({token:i,providedIn:"environment",factory:()=>new i(U(qo))}),o})();function yC(i){cl("NgStandalone"),i.getStandaloneInjector=o=>o.get(JM).getOrCreateStandaloneInjector(i)}function ok(i,o,a,l,d,f){const _=o+a;return Ji(i,_,d)?function Zo(i,o,a){return i[o]=a}(i,_+1,f?l.call(f,d):l(d)):function ny(i,o){const a=i[o];return a===fn?void 0:a}(i,_+1)}function lk(i,o){const a=dr();let l;const d=i+Jn;var f;a.firstCreatePass?(l=function CC(i,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(i===l.name)return l}}(o,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(null!==(f=a.destroyHooks)&&void 0!==f?f:a.destroyHooks=[]).push(d,l.onDestroy)):l=a.data[d];const _=l.factory||(l.factory=nr(l.type)),S=gt(au);try{const V=Og(!1),H=_();return Og(V),function VS(i,o,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=l}(a,yt(),d,H),H}finally{gt(S)}}function tD(i,o,a){const l=i+Jn,d=yt(),f=function yh(i,o){return i[o]}(d,l);return function sh(i,o){return i[Lt].data[o].pure}(d,l)?ok(d,function gi(){const i=Zn.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}(),o,f.transform,a,f):f.transform(a)}class eg{constructor(o){this.full=o;const a=o.split(".");this.major=a[0],this.minor=a[1],this.patch=a.slice(2).join(".")}}let oy=(()=>{var i;class o{log(l){console.log(l)}warn(l){console.warn(l)}}return(i=o).\u0275fac=function(l){return new(l||i)},i.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})();const ng=new cn(""),AD=new cn("");let ay,rg=(()=>{var i;class o{constructor(l,d,f){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ay||(function xk(i){ay=i}(f),f.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb()}});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),l()},d)),this._callbacks.push({doneCb:l,timeoutId:_,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,f){return[]}}return(i=o).\u0275fac=function(l){return new(l||i)(U(Lr),U(SD),U(AD))},i.\u0275prov=qn({token:i,factory:i.\u0275fac}),o})(),SD=(()=>{var i;class o{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){var f,_;return null!==(f=null===(_=ay)||void 0===_?void 0:_.findTestabilityInTree(this,l,d))&&void 0!==f?f:null}}return(i=o).\u0275fac=function(l){return new(l||i)},i.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})();function BC(i){return!!i&&"function"==typeof i.then}function ly(i){return!!i&&"function"==typeof i.subscribe}const zC=new cn("");let cy=(()=>{var i;class o{constructor(){var l;this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f}),this.appInits=null!==(l=ae(zC,{optional:!0}))&&void 0!==l?l:[]}runInitializers(){if(this.initialized)return;const l=[];for(const f of this.appInits){const _=f();if(BC(_))l.push(_);else if(ly(_)){const w=new Promise((S,V)=>{_.subscribe({complete:S,error:V})});l.push(w)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return(i=o).\u0275fac=function(l){return new(l||i)},i.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();const jC=new cn("");function RD(i,o){return Array.isArray(o)?o.reduce(RD,i):{...i,...o}}let Ca=(()=>{var i;class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ae(Iw),this.afterRenderEffectManager=ae(tf),this.externalTestViews=new Set,this.beforeRender=new xn.B,this.afterTick=new xn.B,this.componentTypes=[],this.components=[],this.isStable=ae(ga).hasPendingTasks.pipe((0,St.T)(l=>!l)),this._injector=ae(qo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const f=l instanceof bE;if(!this._injector.get(cy).done)throw!f&&Yi(l),new Pe(405,!1);let w;w=f?l:this._injector.get(lm).resolveComponentFactory(l),this.componentTypes.push(w.componentType);const S=function tc(i){return i.isBoundToModule}(w)?void 0:this._injector.get(Nd),H=w.create(fa.NULL,[],d||w.selector,S),W=H.location.nativeElement,ce=H.injector.get(ng,null);return null==ce||ce.registerApplication(W),H.onDestroy(()=>{this.detachView(H.hostView),Hu(this.components,H),null==ce||ce.unregisterApplication(W)}),this._loadComponent(H),H}tick(){this._tick(!0)}_tick(l){if(this._runningTick)throw new Pe(101,!1);const d=re(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(l)}catch(f){this.internalErrorHandler(f)}finally{this.afterTick.next(),this._runningTick=!1,re(d)}}detectChangesInAttachedViews(l){let d=0;const f=this.afterRenderEffectManager;for(;;){if(d===RT)throw new Pe(103,!1);if(l){const _=0===d;this.beforeRender.next(_);for(let{_lView:w,notifyErrorHandler:S}of this._views)PD(w,_,S)}if(d++,f.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:_})=>HC(_))&&(f.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:_})=>HC(_))))break}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Hu(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(jC,[]);[...this._bootstrapListeners,...d].forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Hu(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Pe(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=o).\u0275fac=function(l){return new(l||i)},i.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function Hu(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}function PD(i,o,a){!o&&!HC(i)||function kk(i,o,a){let l;a?(l=0,i[dn]|=1024):l=64&i[dn]?0:1,Ba(i,o,l)}(i,a,o)}function HC(i){return il(i)}class Nk{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Fk=(()=>{var i;class o{compileModuleSync(l){return new Au(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),_=Yo(Ri(l).declarations).reduce((w,S)=>{const V=sr(S);return V&&w.push(new pm(V)),w},[]);return new Nk(d,_)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return(i=o).\u0275fac=function(l){return new(l||i)},i.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"root"}),o})(),Lk=(()=>{var i;class o{constructor(){this.zone=ae(Lr),this.applicationRef=ae(Ca)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var l;null===(l=this._onMicrotaskEmptySubscription)||void 0===l||l.unsubscribe()}}return(i=o).\u0275fac=function(l){return new(l||i)},i.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function Vk(){const i=ae(Lr),o=ae(pc);return a=>i.runOutsideAngular(()=>o.handleError(a))}let WC=(()=>{var i;class o{constructor(){this.subscription=new er.yU,this.initialized=!1,this.zone=ae(Lr),this.pendingTasks=ae(ga)}initialize(){if(this.initialized)return;this.initialized=!0;let l=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(l=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Lr.assertNotInAngularZone(),queueMicrotask(()=>{null!==l&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(l),l=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var d;Lr.assertInAngularZone(),null!==(d=l)&&void 0!==d||(l=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(i=o).\u0275fac=function(l){return new(l||i)},i.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();const Oc=new cn("",{providedIn:"root",factory:()=>ae(Oc,Fn.Optional|Fn.SkipSelf)||function Bk(){return typeof $localize<"u"&&$localize.locale||Lu}()}),MD=new cn("",{providedIn:"root",factory:()=>"USD"}),qC=new cn("");let kD=(()=>{var i;class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const f=function Ix(i="zone.js",o){return"noop"===i?new qT:"zone.js"===i?new Lr(o):i}(null==d?void 0:d.ngZone,function cs(i){var o,a;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(o=null==i?void 0:i.eventCoalescing)&&void 0!==o&&o,shouldCoalesceRunChangeDetection:null!==(a=null==i?void 0:i.runCoalescing)&&void 0!==a&&a}}({eventCoalescing:null==d?void 0:d.ngZoneEventCoalescing,runCoalescing:null==d?void 0:d.ngZoneRunCoalescing}));return f.run(()=>{const _=function Em(i,o,a){return new nv(i,o,a)}(l.moduleType,this.injector,function GC(i){return[{provide:Lr,useFactory:i},{provide:Ps,multi:!0,useFactory:()=>{const o=ae(Lk,{optional:!0});return()=>o.initialize()}},{provide:Ps,multi:!0,useFactory:()=>{const o=ae(WC);return()=>{o.initialize()}}},{provide:Iw,useFactory:Vk}]}(()=>f)),w=_.injector.get(pc,null);return f.runOutsideAngular(()=>{const S=f.onError.subscribe({next:V=>{w.handleError(V)}});_.onDestroy(()=>{Hu(this._modules,_),S.unsubscribe()})}),function DD(i,o,a){try{const l=a();return BC(l)?l.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>i.handleError(l)),l}}(w,f,()=>{const S=_.injector.get(cy);return S.runInitializers(),S.donePromise.then(()=>(function Bv(i){"string"==typeof i&&(XI=i.toLowerCase().replace(/_/g,"-"))}(_.injector.get(Oc,Lu)||Lu),this._moduleDoBootstrap(_),_))})})}bootstrapModule(l,d=[]){const f=RD({},d);return function uy(i,o,a){const l=new Au(a);return Promise.resolve(l)}(0,0,l).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(l){const d=l.injector.get(Ca);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Pe(-403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(qC,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=o).\u0275fac=function(l){return new(l||i)(U(fa))},i.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})(),Gu=null;const ND=new cn("");function Wu(i,o,a=[]){const l=`Platform: ${o}`,d=new cn(l);return(f=[])=>{let _=hy();if(!_||_.injector.get(ND,!1)){const w=[...a,...f,{provide:d,useValue:!0}];i?i(w):function FD(i){if(Gu&&!Gu.get(ND,!1))throw new Pe(400,!1);(function pl(){!function fe(i){Kt=i}(()=>{throw new Pe(600,!1)})})(),Gu=i;const o=i.get(kD);(function LD(i){const o=i.get(Ow,null);null==o||o.forEach(a=>a())})(i)}(function OD(i=[],o){return fa.create({name:o,providers:[{provide:xl,useValue:"platform"},{provide:qC,useValue:new Set([()=>Gu=null])},...i]})}(w,l))}return function zk(i){const o=hy();if(!o)throw new Pe(401,!1);return o}()}}function hy(){var i,o;return null!==(i=null===(o=Gu)||void 0===o?void 0:o.get(kD))&&void 0!==i?i:null}function KC(){}let UD=(()=>{class o{}return o.__NG_ELEMENT_ID__=Gk,o})();function Gk(i){return function BD(i,o,a){if(Ol(i)&&!a){const l=_s(i.index,o);return new Cc(l,l)}return 47&i.type?new Cc(o[Or],o):null}(Qr(),yt(),!(16&~i))}class GD{constructor(){}supports(o){return Cm(o)}create(o){return new WD(o)}}const a2=(i,o)=>o;class WD{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||a2}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,f=null;for(;a||l;){const _=!l||a&&a.currentIndex<KD(l,d,f)?a:l,w=KD(_,d,f),S=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{f||(f=[]);const V=w-d,H=S-d;if(V!=H){for(let ce=0;ce<V;ce++){const _e=ce<f.length?f[ce]:f[ce]=0,Fe=_e+ce;H<=Fe&&Fe<V&&(f[ce]=_e+1)}f[_.previousIndex]=H-V}}w!==S&&o(_,w,S)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Cm(o))throw new Pe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)f=o[w],_=this._trackByFn(w,f),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,f,_,w)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,w),l=!0),a=a._next}else d=0,function zx(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,w=>{_=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,w,_,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,f,d)):o=this._addAfter(new l2(a,l),f,d),o}_verifyReinsertion(o,a,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new qD),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qD),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class l2{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class c2{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class qD{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new c2,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function KD(i,o,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class ig{constructor(){}supports(o){return o instanceof Map||Su(o)}create(){return new XD}}class XD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Su(o)))throw new Pe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const f=d._prev,_=d._next;return f&&(f._next=_),_&&(_._prev=f),d._next=null,d._prev=null,d}const l=new QD(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class QD{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nc(){return new py([new GD])}let py=(()=>{var i;class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||nc()),deps:[[o,new qt,new $t]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new Pe(901,!1)}}return(i=o).\u0275prov=qn({token:i,providedIn:"root",factory:nc}),o})();function YD(){return new ZC([new ig])}let ZC=(()=>{var i;class o{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||YD()),deps:[[o,new qt,new $t]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(d)return d;throw new Pe(901,!1)}}return(i=o).\u0275prov=qn({token:i,providedIn:"root",factory:YD}),o})();const JD=Wu(null,"core",[]);let eb=(()=>{var i;class o{constructor(l){}}return(i=o).\u0275fac=function(l){return new(l||i)(U(Ca))},i.\u0275mod=oa({type:i}),i.\u0275inj=So({}),o})();function by(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function b1(i){const o=re(null);try{return i()}finally{re(o)}}function D1(i,o){const a=sr(i),l=o.elementInjector||Za();return new pm(a).create(l,o.projectableNodes,o.hostElement,o.environmentInjector)}function R1(i){const o=sr(i);if(!o)return null;const a=new pm(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},4341:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{YN:()=>ks,zX:()=>Kr,VZ:()=>is,cz:()=>ze,kq:()=>Ke,vO:()=>et});var x=ee(4438),u=(ee(177),ee(6648)),M=ee(1985),v=ee(3073),He=ee(8750),re=ee(3794),De=ee(4360),Ge=ee(6450),qe=ee(8496),ke=ee(6354);const Ke=new x.nKC("");function pe(j){return null==j||("string"==typeof j||Array.isArray(j))&&0===j.length}const ze=new x.nKC("");function Y(j){return null}function J(j){return null!=j}function ie(j){return(0,x.jNT)(j)?(0,u.H)(j):j}function de(j){let O={};return j.forEach(ne=>{O=null!=ne?{...O,...ne}:O}),0===Object.keys(O).length?null:O}function Ue(j,O){return O.map(ne=>ne(j))}function mt(j){return j.map(O=>function Le(j){return!j.validate}(O)?O:ne=>O.validate(ne))}function Sn(j){return null!=j?function xt(j){if(!j)return null;const O=j.filter(J);return 0==O.length?null:function(ne){return de(Ue(ne,O))}}(mt(j)):null}function mn(j){return null!=j?function zt(j){if(!j)return null;const O=j.filter(J);return 0==O.length?null:function(ne){return function ge(...j){const O=(0,re.ms)(j),{args:ne,keys:z}=(0,v.D)(j),le=new M.c(Ft=>{const{length:wn}=ne;if(!wn)return void Ft.complete();const Mn=new Array(wn);let yr=wn,hs=wn;for(let ss=0;ss<wn;ss++){let fs=!1;(0,He.Tg)(ne[ss]).subscribe((0,De._)(Ft,xa=>{fs||(fs=!0,hs--),Mn[ss]=xa},()=>yr--,void 0,()=>{(!yr||!fs)&&(hs||Ft.next(z?(0,qe.e)(z,Mn):Mn),Ft.complete())}))}});return O?le.pipe((0,Ge.I)(O)):le}(Ue(ne,O).map(ie)).pipe((0,ke.T)(de))}}(mt(j)):null}class Pe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=Sn(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=mn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O=void 0){this.control&&this.control.reset(O)}hasError(O,ne){return!!this.control&&this.control.hasError(O,ne)}getError(O,ne){return this.control?this.control.getError(O,ne):null}}class et extends Pe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const Li=new x.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Vi}),Vi="always";function Xn(j){return"number"==typeof j?j:parseFloat(j)}Promise.resolve(),Promise.resolve();let Ir=(()=>{var j;class O{constructor(){this._validator=Y}ngOnChanges(z){if(this.inputName in z){const le=this.normalizeInput(z[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):Y,this._onChange&&this._onChange()}}validate(z){return this._validator(z)}registerOnValidatorChange(z){this._onChange=z}enabled(z){return null!=z}}return(j=O).\u0275fac=function(z){return new(z||j)},j.\u0275dir=x.FsC({type:j,features:[x.OA$]}),O})();const Cr={provide:ze,useExisting:(0,x.Rfq)(()=>Kr),multi:!0};let Kr=(()=>{var j;class O extends Ir{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=z=>Xn(z),this.createValidator=z=>function Pt(j){return O=>{if(pe(O.value)||pe(j))return null;const ne=parseFloat(O.value);return!isNaN(ne)&&ne>j?{max:{max:j,actual:O.value}}:null}}(z)}}return(j=O).\u0275fac=(()=>{let ne;return function(le){return(ne||(ne=x.xGo(j)))(le||j)}})(),j.\u0275dir=x.FsC({type:j,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(z,le){2&z&&x.BMQ("max",le._enabled?le.max:null)},inputs:{max:"max"},features:[x.Jv_([Cr]),x.Vt3]}),O})();const Qi={provide:ze,useExisting:(0,x.Rfq)(()=>is),multi:!0};let is=(()=>{var j;class O extends Ir{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=z=>Xn(z),this.createValidator=z=>function Ye(j){return O=>{if(pe(O.value)||pe(j))return null;const ne=parseFloat(O.value);return!isNaN(ne)&&ne<j?{min:{min:j,actual:O.value}}:null}}(z)}}return(j=O).\u0275fac=(()=>{let ne;return function(le){return(ne||(ne=x.xGo(j)))(le||j)}})(),j.\u0275dir=x.FsC({type:j,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(z,le){2&z&&x.BMQ("min",le._enabled?le.min:null)},inputs:{min:"min"},features:[x.Jv_([Qi]),x.Vt3]}),O})(),os=(()=>{var j;class O{}return(j=O).\u0275fac=function(z){return new(z||j)},j.\u0275mod=x.$C({type:j}),j.\u0275inj=x.G2t({}),O})(),ks=(()=>{var j;class O{static withConfig(z){var le;return{ngModule:O,providers:[{provide:Li,useValue:null!==(le=z.callSetDisabledState)&&void 0!==le?le:Vi}]}}}return(j=O).\u0275fac=function(z){return new(z||j)},j.\u0275mod=x.$C({type:j}),j.\u0275inj=x.G2t({imports:[os]}),O})()},345:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{Bb:()=>In,hE:()=>Ht,sG:()=>mn});var x=ee(4438),Q=ee(177);class u extends Q.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class M extends u{static makeCurrent(){(0,Q.ZD)(new M)}onAndCancel(ye,Je,be){return ye.addEventListener(Je,be),()=>{ye.removeEventListener(Je,be)}}dispatchEvent(ye,Je){ye.dispatchEvent(Je)}remove(ye){ye.parentNode&&ye.parentNode.removeChild(ye)}createElement(ye,Je){return(Je=Je||this.getDefaultDocument()).createElement(ye)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ye){return ye.nodeType===Node.ELEMENT_NODE}isShadowRoot(ye){return ye instanceof DocumentFragment}getGlobalEventTarget(ye,Je){return"window"===Je?window:"document"===Je?ye:"body"===Je?ye.body:null}getBaseHref(ye){const Je=function He(){return v=v||document.querySelector("base"),v?v.getAttribute("href"):null}();return null==Je?null:function re(Ae){return new URL(Ae,document.baseURI).pathname}(Je)}resetBaseElement(){v=null}getUserAgent(){return window.navigator.userAgent}getCookie(ye){return(0,Q._b)(document.cookie,ye)}}let v=null,Ge=(()=>{var Ae;class ye{build(){return new XMLHttpRequest}}return(Ae=ye).\u0275fac=function(be){return new(be||Ae)},Ae.\u0275prov=x.jDH({token:Ae,factory:Ae.\u0275fac}),ye})();const qe=new x.nKC("");let ge=(()=>{var Ae;class ye{constructor(be,rt){this._zone=rt,this._eventNameToPlugin=new Map,be.forEach(Dt=>{Dt.manager=this}),this._plugins=be.slice().reverse()}addEventListener(be,rt,Dt){return this._findPluginFor(rt).addEventListener(be,rt,Dt)}getZone(){return this._zone}_findPluginFor(be){let rt=this._eventNameToPlugin.get(be);if(rt)return rt;if(rt=this._plugins.find(Wt=>Wt.supports(be)),!rt)throw new x.wOt(5101,!1);return this._eventNameToPlugin.set(be,rt),rt}}return(Ae=ye).\u0275fac=function(be){return new(be||Ae)(x.KVO(qe),x.KVO(x.SKi))},Ae.\u0275prov=x.jDH({token:Ae,factory:Ae.\u0275fac}),ye})();class ke{constructor(ye){this._doc=ye}}const Re="ng-app-id";let Te=(()=>{var Ae;class ye{constructor(be,rt,Dt,Wt={}){this.doc=be,this.appId=rt,this.nonce=Dt,this.platformId=Wt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,Q.Vy)(Wt),this.resetHostNodes()}addStyles(be){for(const rt of be)1===this.changeUsageCount(rt,1)&&this.onStyleAdded(rt)}removeStyles(be){for(const rt of be)this.changeUsageCount(rt,-1)<=0&&this.onStyleRemoved(rt)}ngOnDestroy(){const be=this.styleNodesInDOM;be&&(be.forEach(rt=>rt.remove()),be.clear());for(const rt of this.getAllStyles())this.onStyleRemoved(rt);this.resetHostNodes()}addHost(be){this.hostNodes.add(be);for(const rt of this.getAllStyles())this.addStyleToHost(be,rt)}removeHost(be){this.hostNodes.delete(be)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(be){for(const rt of this.hostNodes)this.addStyleToHost(rt,be)}onStyleRemoved(be){var rt;const Dt=this.styleRef;null===(rt=Dt.get(be))||void 0===rt||null===(rt=rt.elements)||void 0===rt||rt.forEach(Wt=>Wt.remove()),Dt.delete(be)}collectServerRenderedStyles(){var be;const rt=null===(be=this.doc.head)||void 0===be?void 0:be.querySelectorAll(`style[${Re}="${this.appId}"]`);if(null!=rt&&rt.length){const Dt=new Map;return rt.forEach(Wt=>{null!=Wt.textContent&&Dt.set(Wt.textContent,Wt)}),Dt}return null}changeUsageCount(be,rt){const Dt=this.styleRef;if(Dt.has(be)){const Wt=Dt.get(be);return Wt.usage+=rt,Wt.usage}return Dt.set(be,{usage:rt,elements:[]}),rt}getStyleElement(be,rt){const Dt=this.styleNodesInDOM,Wt=null==Dt?void 0:Dt.get(rt);if((null==Wt?void 0:Wt.parentNode)===be)return Dt.delete(rt),Wt.removeAttribute(Re),Wt;{const Nn=this.doc.createElement("style");return this.nonce&&Nn.setAttribute("nonce",this.nonce),Nn.textContent=rt,this.platformIsServer&&Nn.setAttribute(Re,this.appId),be.appendChild(Nn),Nn}}addStyleToHost(be,rt){var Dt;const Wt=this.getStyleElement(be,rt),Nn=this.styleRef,Mt=null===(Dt=Nn.get(rt))||void 0===Dt?void 0:Dt.elements;Mt?Mt.push(Wt):Nn.set(rt,{elements:[Wt],usage:1})}resetHostNodes(){const be=this.hostNodes;be.clear(),be.add(this.doc.head)}}return(Ae=ye).\u0275fac=function(be){return new(be||Ae)(x.KVO(Q.qQ),x.KVO(x.sZ2),x.KVO(x.BIS,8),x.KVO(x.Agw))},Ae.\u0275prov=x.jDH({token:Ae,factory:Ae.\u0275fac}),ye})();const Ke={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},it=/%COMP%/g,at=new x.nKC("",{providedIn:"root",factory:()=>!0});function ze(Ae,ye){return ye.map(Je=>Je.replace(it,Ae))}let tt=(()=>{var Ae;class ye{constructor(be,rt,Dt,Wt,Nn,Mt,X,ar=null){this.eventManager=be,this.sharedStylesHost=rt,this.appId=Dt,this.removeStylesOnCompDestroy=Wt,this.doc=Nn,this.platformId=Mt,this.ngZone=X,this.nonce=ar,this.rendererByCompId=new Map,this.platformIsServer=(0,Q.Vy)(Mt),this.defaultRenderer=new nt(be,Nn,X,this.platformIsServer)}createRenderer(be,rt){if(!be||!rt)return this.defaultRenderer;this.platformIsServer&&rt.encapsulation===x.gXe.ShadowDom&&(rt={...rt,encapsulation:x.gXe.Emulated});const Dt=this.getOrCreateRenderer(be,rt);return Dt instanceof At?Dt.applyToHost(be):Dt instanceof nn&&Dt.applyStyles(),Dt}getOrCreateRenderer(be,rt){const Dt=this.rendererByCompId;let Wt=Dt.get(rt.id);if(!Wt){const Nn=this.doc,Mt=this.ngZone,X=this.eventManager,ar=this.sharedStylesHost,Pr=this.removeStylesOnCompDestroy,ni=this.platformIsServer;switch(rt.encapsulation){case x.gXe.Emulated:Wt=new At(X,ar,rt,this.appId,Pr,Nn,Mt,ni);break;case x.gXe.ShadowDom:return new Ot(X,ar,be,rt,Nn,Mt,this.nonce,ni);default:Wt=new nn(X,ar,rt,Pr,Nn,Mt,ni)}Dt.set(rt.id,Wt)}return Wt}ngOnDestroy(){this.rendererByCompId.clear()}}return(Ae=ye).\u0275fac=function(be){return new(be||Ae)(x.KVO(ge),x.KVO(Te),x.KVO(x.sZ2),x.KVO(at),x.KVO(Q.qQ),x.KVO(x.Agw),x.KVO(x.SKi),x.KVO(x.BIS))},Ae.\u0275prov=x.jDH({token:Ae,factory:Ae.\u0275fac}),ye})();class nt{constructor(ye,Je,be,rt){this.eventManager=ye,this.doc=Je,this.ngZone=be,this.platformIsServer=rt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(ye,Je){return Je?this.doc.createElementNS(Ke[Je]||Je,ye):this.doc.createElement(ye)}createComment(ye){return this.doc.createComment(ye)}createText(ye){return this.doc.createTextNode(ye)}appendChild(ye,Je){(Pt(ye)?ye.content:ye).appendChild(Je)}insertBefore(ye,Je,be){ye&&(Pt(ye)?ye.content:ye).insertBefore(Je,be)}removeChild(ye,Je){ye&&ye.removeChild(Je)}selectRootElement(ye,Je){let be="string"==typeof ye?this.doc.querySelector(ye):ye;if(!be)throw new x.wOt(-5104,!1);return Je||(be.textContent=""),be}parentNode(ye){return ye.parentNode}nextSibling(ye){return ye.nextSibling}setAttribute(ye,Je,be,rt){if(rt){Je=rt+":"+Je;const Dt=Ke[rt];Dt?ye.setAttributeNS(Dt,Je,be):ye.setAttribute(Je,be)}else ye.setAttribute(Je,be)}removeAttribute(ye,Je,be){if(be){const rt=Ke[be];rt?ye.removeAttributeNS(rt,Je):ye.removeAttribute(`${be}:${Je}`)}else ye.removeAttribute(Je)}addClass(ye,Je){ye.classList.add(Je)}removeClass(ye,Je){ye.classList.remove(Je)}setStyle(ye,Je,be,rt){rt&(x.czy.DashCase|x.czy.Important)?ye.style.setProperty(Je,be,rt&x.czy.Important?"important":""):ye.style[Je]=be}removeStyle(ye,Je,be){be&x.czy.DashCase?ye.style.removeProperty(Je):ye.style[Je]=""}setProperty(ye,Je,be){null!=ye&&(ye[Je]=be)}setValue(ye,Je){ye.nodeValue=Je}listen(ye,Je,be){if("string"==typeof ye&&!(ye=(0,Q.QT)().getGlobalEventTarget(this.doc,ye)))throw new Error(`Unsupported event target ${ye} for event ${Je}`);return this.eventManager.addEventListener(ye,Je,this.decoratePreventDefault(be))}decoratePreventDefault(ye){return Je=>{if("__ngUnwrap__"===Je)return ye;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ye(Je)):ye(Je))&&Je.preventDefault()}}}function Pt(Ae){return"TEMPLATE"===Ae.tagName&&void 0!==Ae.content}class Ot extends nt{constructor(ye,Je,be,rt,Dt,Wt,Nn,Mt){super(ye,Dt,Wt,Mt),this.sharedStylesHost=Je,this.hostEl=be,this.shadowRoot=be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const X=ze(rt.id,rt.styles);for(const ar of X){const Pr=document.createElement("style");Nn&&Pr.setAttribute("nonce",Nn),Pr.textContent=ar,this.shadowRoot.appendChild(Pr)}}nodeOrShadowRoot(ye){return ye===this.hostEl?this.shadowRoot:ye}appendChild(ye,Je){return super.appendChild(this.nodeOrShadowRoot(ye),Je)}insertBefore(ye,Je,be){return super.insertBefore(this.nodeOrShadowRoot(ye),Je,be)}removeChild(ye,Je){return super.removeChild(this.nodeOrShadowRoot(ye),Je)}parentNode(ye){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ye)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class nn extends nt{constructor(ye,Je,be,rt,Dt,Wt,Nn,Mt){super(ye,Dt,Wt,Nn),this.sharedStylesHost=Je,this.removeStylesOnCompDestroy=rt,this.styles=Mt?ze(Mt,be.styles):be.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class At extends nn{constructor(ye,Je,be,rt,Dt,Wt,Nn,Mt){const X=rt+"-"+be.id;super(ye,Je,be,Dt,Wt,Nn,Mt,X),this.contentAttr=function pe(Ae){return"_ngcontent-%COMP%".replace(it,Ae)}(X),this.hostAttr=function Ne(Ae){return"_nghost-%COMP%".replace(it,Ae)}(X)}applyToHost(ye){this.applyStyles(),this.setAttribute(ye,this.hostAttr,"")}createElement(ye,Je){const be=super.createElement(ye,Je);return super.setAttribute(be,this.contentAttr,""),be}}let Kt=(()=>{var Ae;class ye extends ke{constructor(be){super(be)}supports(be){return!0}addEventListener(be,rt,Dt){return be.addEventListener(rt,Dt,!1),()=>this.removeEventListener(be,rt,Dt)}removeEventListener(be,rt,Dt){return be.removeEventListener(rt,Dt)}}return(Ae=ye).\u0275fac=function(be){return new(be||Ae)(x.KVO(Q.qQ))},Ae.\u0275prov=x.jDH({token:Ae,factory:Ae.\u0275fac}),ye})();const ct=["alt","control","meta","shift"],fe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Y={alt:Ae=>Ae.altKey,control:Ae=>Ae.ctrlKey,meta:Ae=>Ae.metaKey,shift:Ae=>Ae.shiftKey};let J=(()=>{var Ae;class ye extends ke{constructor(be){super(be)}supports(be){return null!=ye.parseEventName(be)}addEventListener(be,rt,Dt){const Wt=ye.parseEventName(rt),Nn=ye.eventCallback(Wt.fullKey,Dt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,Q.QT)().onAndCancel(be,Wt.domEventName,Nn))}static parseEventName(be){const rt=be.toLowerCase().split("."),Dt=rt.shift();if(0===rt.length||"keydown"!==Dt&&"keyup"!==Dt)return null;const Wt=ye._normalizeKey(rt.pop());let Nn="",Mt=rt.indexOf("code");if(Mt>-1&&(rt.splice(Mt,1),Nn="code."),ct.forEach(ar=>{const Pr=rt.indexOf(ar);Pr>-1&&(rt.splice(Pr,1),Nn+=ar+".")}),Nn+=Wt,0!=rt.length||0===Wt.length)return null;const X={};return X.domEventName=Dt,X.fullKey=Nn,X}static matchEventFullKeyCode(be,rt){let Dt=fe[be.key]||be.key,Wt="";return rt.indexOf("code.")>-1&&(Dt=be.code,Wt="code."),!(null==Dt||!Dt)&&(Dt=Dt.toLowerCase()," "===Dt?Dt="space":"."===Dt&&(Dt="dot"),ct.forEach(Nn=>{Nn!==Dt&&(0,Y[Nn])(be)&&(Wt+=Nn+".")}),Wt+=Dt,Wt===rt)}static eventCallback(be,rt,Dt){return Wt=>{ye.matchEventFullKeyCode(Wt,be)&&Dt.runGuarded(()=>rt(Wt))}}static _normalizeKey(be){return"esc"===be?"escape":be}}return(Ae=ye).\u0275fac=function(be){return new(be||Ae)(x.KVO(Q.qQ))},Ae.\u0275prov=x.jDH({token:Ae,factory:Ae.\u0275fac}),ye})();const mn=(0,x.oH4)(x.fpN,"browser",[{provide:x.Agw,useValue:Q.AJ},{provide:x.PLl,useValue:function mt(){M.makeCurrent()},multi:!0},{provide:Q.qQ,useFactory:function Sn(){return(0,x.TL$)(document),document},deps:[]}]),En=new x.nKC(""),xn=[{provide:x.e01,useClass:class De{addToWindow(ye){x.JZv.getAngularTestability=(be,rt=!0)=>{const Dt=ye.findTestabilityInTree(be,rt);if(null==Dt)throw new x.wOt(5103,!1);return Dt},x.JZv.getAllAngularTestabilities=()=>ye.getAllTestabilities(),x.JZv.getAllAngularRootElements=()=>ye.getAllRootElements(),x.JZv.frameworkStabilizers||(x.JZv.frameworkStabilizers=[]),x.JZv.frameworkStabilizers.push(be=>{const rt=x.JZv.getAllAngularTestabilities();let Dt=rt.length;const Wt=function(){Dt--,0==Dt&&be()};rt.forEach(Nn=>{Nn.whenStable(Wt)})})}findTestabilityInTree(ye,Je,be){if(null==Je)return null;const rt=ye.getTestability(Je);return null!=rt?rt:be?(0,Q.QT)().isShadowRoot(Je)?this.findTestabilityInTree(ye,Je.host,!0):this.findTestabilityInTree(ye,Je.parentElement,!0):null}},deps:[]},{provide:x.WHO,useClass:x.NYb,deps:[x.SKi,x.giA,x.e01]},{provide:x.NYb,useClass:x.NYb,deps:[x.SKi,x.giA,x.e01]}],er=[{provide:x.H8p,useValue:"root"},{provide:x.zcH,useFactory:function xt(){return new x.zcH},deps:[]},{provide:qe,useClass:Kt,multi:!0,deps:[Q.qQ,x.SKi,x.Agw]},{provide:qe,useClass:J,multi:!0,deps:[Q.qQ]},tt,Te,ge,{provide:x._9s,useExisting:tt},{provide:Q.N0,useClass:Ge,deps:[]},[]];let In=(()=>{var Ae;class ye{constructor(be){}static withServerTransition(be){return{ngModule:ye,providers:[{provide:x.sZ2,useValue:be.appId}]}}}return(Ae=ye).\u0275fac=function(be){return new(be||Ae)(x.KVO(En,12))},Ae.\u0275mod=x.$C({type:Ae}),Ae.\u0275inj=x.G2t({providers:[...er,...xn],imports:[Q.MD,x.Hbi]}),ye})(),Ht=(()=>{var Ae;class ye{constructor(be){this._doc=be}getTitle(){return this._doc.title}setTitle(be){this._doc.title=be||""}}return(Ae=ye).\u0275fac=function(be){return new(be||Ae)(x.KVO(Q.qQ))},Ae.\u0275prov=x.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),ye})()},70:(hn,Ct,ee)=>{"use strict";ee.d(Ct,{nX:()=>he,Zp:()=>Po,Z:()=>lo,Xk:()=>Ht,Kp:()=>ms,Ix:()=>Nr,Wk:()=>Ml,iI:()=>Zr,Sd:()=>Ae});var x=ee(467),Q=ee(4438),u=ee(1985),M=ee(8071),He=ee(6648),re=ee(7673),De=ee(4412),Ge=ee(4572);const ge=(0,ee(1853).L)(b=>function(){b(this),this.name="EmptyError",this.message="no elements in sequence"});var ke=ee(1397),Re=ee(3669);function Te(b=1/0){return(0,ke.Z)(Re.D,b)}var it=ee(3794);function Xe(...b){return function Ke(){return Te(1)}()((0,He.H)(b,(0,it.lI)(b)))}var Qe=ee(8750);function vt(b){return new u.c(R=>{(0,Qe.Tg)(b()).subscribe(R)})}var We=ee(1203);function at(b,R){const k=(0,M.T)(b)?b:()=>b,D=F=>F.error(k());return new u.c(R?F=>R.schedule(D,0,F):D)}const pe=new u.c(b=>b.complete());var tt=ee(8359),nt=ee(9974),_t=ee(4360);function Ye(){return(0,nt.N)((b,R)=>{let k=null;b._refCount++;const D=(0,_t._)(R,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(k=null);const F=b._connection,K=k;k=null,F&&(!K||F===K)&&F.unsubscribe(),R.unsubscribe()});b.subscribe(D),D.closed||(k=b.connect())})}class Pt extends u.c{constructor(R,k){super(),this.source=R,this.subjectFactory=k,this._subject=null,this._refCount=0,this._connection=null,(0,nt.S)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,null==R||R.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new tt.yU;const k=this.getSubject();R.add(this.source.subscribe((0,_t._)(k,void 0,()=>{this._teardown(),k.complete()},D=>{this._teardown(),k.error(D)},()=>this._teardown()))),R.closed&&(this._connection=null,R=tt.yU.EMPTY)}return R}refCount(){return Ye()(this)}}var Ot=ee(1413),nn=ee(177),At=ee(6354),Kt=ee(5558);function ct(b){return b<=0?()=>pe:(0,nt.N)((R,k)=>{let D=0;R.subscribe((0,_t._)(k,F=>{++D<=b&&(k.next(F),b<=D&&k.complete())}))})}var Y=ee(5964);function J(b){return(0,nt.N)((R,k)=>{let D=!1;R.subscribe((0,_t._)(k,F=>{D=!0,k.next(F)},()=>{D||k.next(b),k.complete()}))})}function ie(b=de){return(0,nt.N)((R,k)=>{let D=!1;R.subscribe((0,_t._)(k,F=>{D=!0,k.next(F)},()=>D?k.complete():k.error(b())))})}function de(){return new ge}function Ue(b,R){const k=arguments.length>=2;return D=>D.pipe(b?(0,Y.p)((F,K)=>b(F,K,D)):Re.D,ct(1),k?J(R):ie(()=>new ge))}function Le(b,R){return(0,M.T)(R)?(0,ke.Z)(b,R,1):(0,ke.Z)(b,1)}function mt(b,R,k){const D=(0,M.T)(b)||R||k?{next:b,error:R,complete:k}:b;return D?(0,nt.N)((F,K)=>{var oe;null===(oe=D.subscribe)||void 0===oe||oe.call(D);let xe=!0;F.subscribe((0,_t._)(K,bt=>{var Ve;null===(Ve=D.next)||void 0===Ve||Ve.call(D,bt),K.next(bt)},()=>{var bt;xe=!1,null===(bt=D.complete)||void 0===bt||bt.call(D),K.complete()},bt=>{var Ve;xe=!1,null===(Ve=D.error)||void 0===Ve||Ve.call(D,bt),K.error(bt)},()=>{var bt,Ve;xe&&(null===(bt=D.unsubscribe)||void 0===bt||bt.call(D)),null===(Ve=D.finalize)||void 0===Ve||Ve.call(D)}))}):Re.D}function xt(b){return(0,nt.N)((R,k)=>{let K,D=null,F=!1;D=R.subscribe((0,_t._)(k,void 0,void 0,oe=>{K=(0,Qe.Tg)(b(oe,xt(b)(R))),D?(D.unsubscribe(),D=null,K.subscribe(k)):F=!0})),F&&(D.unsubscribe(),D=null,K.subscribe(k))})}function mn(b){return b<=0?()=>pe:(0,nt.N)((R,k)=>{let D=[];R.subscribe((0,_t._)(k,F=>{D.push(F),b<D.length&&D.shift()},()=>{for(const F of D)k.next(F);k.complete()},void 0,()=>{D=null}))})}function er(b){return(0,nt.N)((R,k)=>{try{R.subscribe(k)}finally{k.add(b)}})}var In=ee(5343),rr=ee(345);const Ht="primary",Pe=Symbol("RouteTitle");class Ze{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const k=this.params[R];return Array.isArray(k)?k[0]:k}return null}getAll(R){if(this.has(R)){const k=this.params[R];return Array.isArray(k)?k:[k]}return[]}get keys(){return Object.keys(this.params)}}function et(b){return new Ze(b)}function Gt(b,R,k){const D=k.path.split("/");if(D.length>b.length||"full"===k.pathMatch&&(R.hasChildren()||D.length<b.length))return null;const F={};for(let K=0;K<D.length;K++){const oe=D[K],xe=b[K];if(oe.startsWith(":"))F[oe.substring(1)]=xe;else if(oe!==xe.path)return null}return{consumed:b.slice(0,D.length),posParams:F}}function ir(b,R){const k=b?zn(b):void 0,D=R?zn(R):void 0;if(!k||!D||k.length!=D.length)return!1;let F;for(let K=0;K<k.length;K++)if(F=k[K],!rn(b[F],R[F]))return!1;return!0}function zn(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}function rn(b,R){if(Array.isArray(b)&&Array.isArray(R)){if(b.length!==R.length)return!1;const k=[...b].sort(),D=[...R].sort();return k.every((F,K)=>D[K]===F)}return b===R}function sn(b){return b.length>0?b[b.length-1]:null}function Ln(b){return function v(b){return!!b&&(b instanceof u.c||(0,M.T)(b.lift)&&(0,M.T)(b.subscribe))}(b)?b:(0,Q.jNT)(b)?(0,He.H)(Promise.resolve(b)):(0,re.of)(b)}const pr={exact:function ti(b,R,k){if(!qi(b.segments,R.segments)||!jt(b.segments,R.segments,k)||b.numberOfChildren!==R.numberOfChildren)return!1;for(const D in R.children)if(!b.children[D]||!ti(b.children[D],R.children[D],k))return!1;return!0},subset:Wi},cr={exact:function Fr(b,R){return ir(b,R)},subset:function Rn(b,R){return Object.keys(R).length<=Object.keys(b).length&&Object.keys(R).every(k=>rn(b[k],R[k]))},ignored:()=>!0};function qr(b,R,k){return pr[k.paths](b.root,R.root,k.matrixParams)&&cr[k.queryParams](b.queryParams,R.queryParams)&&!("exact"===k.fragment&&b.fragment!==R.fragment)}function Wi(b,R,k){return jn(b,R,R.segments,k)}function jn(b,R,k,D){if(b.segments.length>k.length){const F=b.segments.slice(0,k.length);return!(!qi(F,k)||R.hasChildren()||!jt(F,k,D))}if(b.segments.length===k.length){if(!qi(b.segments,k)||!jt(b.segments,k,D))return!1;for(const F in R.children)if(!b.children[F]||!Wi(b.children[F],R.children[F],D))return!1;return!0}{const F=k.slice(0,b.segments.length),K=k.slice(b.segments.length);return!!(qi(b.segments,F)&&jt(b.segments,F,D)&&b.children[Ht])&&jn(b.children[Ht],R,K,D)}}function jt(b,R,k){return R.every((D,F)=>cr[k](b[F].parameters,D.parameters))}class gr{constructor(R=new pn([],{}),k={},D=null){this.root=R,this.queryParams=k,this.fragment=D}get queryParamMap(){var R;return null!==(R=this._queryParamMap)&&void 0!==R||(this._queryParamMap=et(this.queryParams)),this._queryParamMap}toString(){return Je.serialize(this)}}class pn{constructor(R,k){this.segments=R,this.children=k,this.parent=null,Object.values(k).forEach(D=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return be(this)}}class tr{constructor(R,k){this.path=R,this.parameters=k}get parameterMap(){var R;return null!==(R=this._parameterMap)&&void 0!==R||(this._parameterMap=et(this.parameters)),this._parameterMap}toString(){return Pr(this)}}function qi(b,R){return b.length===R.length&&b.every((k,D)=>k.path===R[D].path)}let Ae=(()=>{var b;class R{}return(b=R).\u0275fac=function(D){return new(D||b)},b.\u0275prov=Q.jDH({token:b,factory:()=>new ye,providedIn:"root"}),R})();class ye{parse(R){const k=new qn(R);return new gr(k.parseRootSegment(),k.parseQueryParams(),k.parseFragment())}serialize(R){const k=`/${rt(R.root,!0)}`,D=function Aa(b){const R=Object.entries(b).map(([k,D])=>Array.isArray(D)?D.map(F=>`${Wt(k)}=${Wt(F)}`).join("&"):`${Wt(k)}=${Wt(D)}`).filter(k=>k);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${k}${D}${"string"==typeof R.fragment?`#${function Nn(b){return encodeURI(b)}(R.fragment)}`:""}`}}const Je=new ye;function be(b){return b.segments.map(R=>Pr(R)).join("/")}function rt(b,R){if(!b.hasChildren())return be(b);if(R){const k=b.children[Ht]?rt(b.children[Ht],!1):"",D=[];return Object.entries(b.children).forEach(([F,K])=>{F!==Ht&&D.push(`${F}:${rt(K,!1)}`)}),D.length>0?`${k}(${D.join("//")})`:k}{const k=function ui(b,R){let k=[];return Object.entries(b.children).forEach(([D,F])=>{D===Ht&&(k=k.concat(R(F,D)))}),Object.entries(b.children).forEach(([D,F])=>{D!==Ht&&(k=k.concat(R(F,D)))}),k}(b,(D,F)=>F===Ht?[rt(b.children[Ht],!1)]:[`${F}:${rt(D,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[Ht]?`${be(b)}/${k[0]}`:`${be(b)}/(${k.join("//")})`}}function Dt(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wt(b){return Dt(b).replace(/%3B/gi,";")}function Mt(b){return Dt(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function X(b){return decodeURIComponent(b)}function ar(b){return X(b.replace(/\+/g,"%20"))}function Pr(b){return`${Mt(b.path)}${function ni(b){return Object.entries(b).map(([R,k])=>`;${Mt(R)}=${Mt(k)}`).join("")}(b.parameters)}`}const Js=/^[^\/()?;#]+/;function kr(b){const R=b.match(Js);return R?R[0]:""}const gn=/^[^\/()?;=#]+/,Li=/^[^=?&#]+/,Uo=/^[^&#]+/;class qn{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pn([],{}):new pn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let k={};this.peekStartsWith("/(")&&(this.capture("/"),k=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(R.length>0||Object.keys(k).length>0)&&(D[Ht]=new pn(R,k)),D}parseSegment(){const R=kr(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new Q.wOt(4009,!1);return this.capture(R),new tr(X(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const k=function Tn(b){const R=b.match(gn);return R?R[0]:""}(this.remaining);if(!k)return;this.capture(k);let D="";if(this.consumeOptional("=")){const F=kr(this.remaining);F&&(D=F,this.capture(D))}R[X(k)]=X(D)}parseQueryParam(R){const k=function Vi(b){const R=b.match(Li);return R?R[0]:""}(this.remaining);if(!k)return;this.capture(k);let D="";if(this.consumeOptional("=")){const oe=function Ao(b){const R=b.match(Uo);return R?R[0]:""}(this.remaining);oe&&(D=oe,this.capture(D))}const F=ar(k),K=ar(D);if(R.hasOwnProperty(F)){let oe=R[F];Array.isArray(oe)||(oe=[oe],R[F]=oe),oe.push(K)}else R[F]=K}parseParens(R){const k={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=kr(this.remaining),F=this.remaining[D.length];if("/"!==F&&")"!==F&&";"!==F)throw new Q.wOt(4010,!1);let K;D.indexOf(":")>-1?(K=D.slice(0,D.indexOf(":")),this.capture(K),this.capture(":")):R&&(K=Ht);const oe=this.parseChildren();k[K]=1===Object.keys(oe).length?oe[Ht]:new pn([],oe),this.consumeOptional("//")}return k}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new Q.wOt(4011,!1)}}function Bo(b){return b.segments.length>0?new pn([],{[Ht]:b}):b}function So(b){const R={};for(const[D,F]of Object.entries(b.children)){const K=So(F);if(D===Ht&&0===K.segments.length&&K.hasChildren())for(const[oe,xe]of Object.entries(K.children))R[oe]=xe;else(K.segments.length>0||K.hasChildren())&&(R[D]=K)}return function Ki(b){if(1===b.numberOfChildren&&b.children[Ht]){const R=b.children[Ht];return new pn(b.segments.concat(R.segments),R.children)}return b}(new pn(b.segments,R))}function _i(b){return b instanceof gr}function zo(b){var R;let k;const K=Bo(function D(oe){const xe={};for(const Ve of oe.children){const Jt=D(Ve);xe[Ve.outlet]=Jt}const bt=new pn(oe.url,xe);return oe===b&&(k=bt),bt}(b.root));return null!==(R=k)&&void 0!==R?R:K}function jo(b,R,k,D){let F=b;for(;F.parent;)F=F.parent;if(0===R.length)return Qt(F,F,F,k,D);const K=function Br(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new cn(!0,0,b);let R=0,k=!1;const D=b.reduce((F,K,oe)=>{if("object"==typeof K&&null!=K){if(K.outlets){const xe={};return Object.entries(K.outlets).forEach(([bt,Ve])=>{xe[bt]="string"==typeof Ve?Ve.split("/"):Ve}),[...F,{outlets:xe}]}if(K.segmentPath)return[...F,K.segmentPath]}return"string"!=typeof K?[...F,K]:0===oe?(K.split("/").forEach((xe,bt)=>{0==bt&&"."===xe||(0==bt&&""===xe?k=!0:".."===xe?R++:""!=xe&&F.push(xe))}),F):[...F,K]},[]);return new cn(k,R,D)}(R);if(K.toRoot())return Qt(F,F,new pn([],{}),k,D);const oe=function Xi(b,R,k){if(b.isAbsolute)return new di(R,!0,0);if(!k)return new di(R,!1,NaN);if(null===k.parent)return new di(k,!0,0);const D=Ro(b.commands[0])?0:1;return function es(b,R,k){let D=b,F=R,K=k;for(;K>F;){if(K-=F,D=D.parent,!D)throw new Q.wOt(4005,!1);F=D.segments.length}return new di(D,!1,F-K)}(k,k.segments.length-1+D,b.numberOfDoubleDots)}(K,F,b),xe=oe.processChildren?zr(oe.segmentGroup,oe.index,K.commands):$o(oe.segmentGroup,oe.index,K.commands);return Qt(F,oe.segmentGroup,xe,k,D)}function Ro(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function lt(b){return"object"==typeof b&&null!=b&&b.outlets}function Qt(b,R,k,D,F){let oe,K={};D&&Object.entries(D).forEach(([bt,Ve])=>{K[bt]=Array.isArray(Ve)?Ve.map(Jt=>`${Jt}`):`${Ve}`}),oe=b===R?k:On(b,R,k);const xe=Bo(So(oe));return new gr(xe,K,F)}function On(b,R,k){const D={};return Object.entries(b.children).forEach(([F,K])=>{D[F]=K===R?k:On(K,R,k)}),new pn(b.segments,D)}class cn{constructor(R,k,D){if(this.isAbsolute=R,this.numberOfDoubleDots=k,this.commands=D,R&&D.length>0&&Ro(D[0]))throw new Q.wOt(4003,!1);const F=D.find(lt);if(F&&F!==sn(D))throw new Q.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class di{constructor(R,k,D){this.segmentGroup=R,this.processChildren=k,this.index=D}}function $o(b,R,k){var D;if(null!==(D=b)&&void 0!==D||(b=new pn([],{})),0===b.segments.length&&b.hasChildren())return zr(b,R,k);const F=function ea(b,R,k){let D=0,F=R;const K={match:!1,pathIndex:0,commandIndex:0};for(;F<b.segments.length;){if(D>=k.length)return K;const oe=b.segments[F],xe=k[D];if(lt(xe))break;const bt=`${xe}`,Ve=D<k.length-1?k[D+1]:null;if(F>0&&void 0===bt)break;if(bt&&Ve&&"object"==typeof Ve&&void 0===Ve.outlets){if(!Di(bt,Ve,oe))return K;D+=2}else{if(!Di(bt,{},oe))return K;D++}F++}return{match:!0,pathIndex:F,commandIndex:D}}(b,R,k),K=k.slice(F.commandIndex);if(F.match&&F.pathIndex<b.segments.length){const oe=new pn(b.segments.slice(0,F.pathIndex),{});return oe.children[Ht]=new pn(b.segments.slice(F.pathIndex),b.children),zr(oe,0,K)}return F.match&&0===K.length?new pn(b.segments,{}):F.match&&!b.hasChildren()?Ho(b,R,k):F.match?zr(b,0,K):Ho(b,R,k)}function zr(b,R,k){if(0===k.length)return new pn(b.segments,{});{const D=function Zs(b){return lt(b[0])?b[0].outlets:{[Ht]:b}}(k),F={};if(Object.keys(D).some(K=>K!==Ht)&&b.children[Ht]&&1===b.numberOfChildren&&0===b.children[Ht].segments.length){const K=zr(b.children[Ht],R,k);return new pn(b.segments,K.children)}return Object.entries(D).forEach(([K,oe])=>{"string"==typeof oe&&(oe=[oe]),null!==oe&&(F[K]=$o(b.children[K],R,oe))}),Object.entries(b.children).forEach(([K,oe])=>{void 0===D[K]&&(F[K]=oe)}),new pn(b.segments,F)}}function Ho(b,R,k){const D=b.segments.slice(0,R);let F=0;for(;F<k.length;){const K=k[F];if(lt(K)){const bt=Xa(K.outlets);return new pn(D,bt)}if(0===F&&Ro(k[0])){D.push(new tr(b.segments[R].path,so(k[0]))),F++;continue}const oe=lt(K)?K.outlets[Ht]:`${K}`,xe=F<k.length-1?k[F+1]:null;oe&&xe&&Ro(xe)?(D.push(new tr(oe,so(xe))),F+=2):(D.push(new tr(oe,{})),F++)}return new pn(D,{})}function Xa(b){const R={};return Object.entries(b).forEach(([k,D])=>{"string"==typeof D&&(D=[D]),null!==D&&(R[k]=Ho(new pn([],{}),0,D))}),R}function so(b){const R={};return Object.entries(b).forEach(([k,D])=>R[k]=`${D}`),R}function Di(b,R,k){return b==k.path&&ir(R,k.parameters)}const ao="imperative";var Kn=function(b){return b[b.NavigationStart=0]="NavigationStart",b[b.NavigationEnd=1]="NavigationEnd",b[b.NavigationCancel=2]="NavigationCancel",b[b.NavigationError=3]="NavigationError",b[b.RoutesRecognized=4]="RoutesRecognized",b[b.ResolveStart=5]="ResolveStart",b[b.ResolveEnd=6]="ResolveEnd",b[b.GuardsCheckStart=7]="GuardsCheckStart",b[b.GuardsCheckEnd=8]="GuardsCheckEnd",b[b.RouteConfigLoadStart=9]="RouteConfigLoadStart",b[b.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",b[b.ChildActivationStart=11]="ChildActivationStart",b[b.ChildActivationEnd=12]="ChildActivationEnd",b[b.ActivationStart=13]="ActivationStart",b[b.ActivationEnd=14]="ActivationEnd",b[b.Scroll=15]="Scroll",b[b.NavigationSkipped=16]="NavigationSkipped",b}(Kn||{});class to{constructor(R,k){this.id=R,this.url=k}}class lo extends to{constructor(R,k,D="imperative",F=null){super(R,k),this.type=Kn.NavigationStart,this.navigationTrigger=D,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ri extends to{constructor(R,k,D){super(R,k),this.urlAfterRedirects=D,this.type=Kn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Er=function(b){return b[b.Redirect=0]="Redirect",b[b.SupersededByNewNavigation=1]="SupersededByNewNavigation",b[b.NoDataFromResolver=2]="NoDataFromResolver",b[b.GuardRejected=3]="GuardRejected",b}(Er||{}),yn=function(b){return b[b.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",b[b.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",b}(yn||{});class or extends to{constructor(R,k,D,F){super(R,k),this.reason=D,this.code=F,this.type=Kn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ts extends to{constructor(R,k,D,F){super(R,k),this.reason=D,this.code=F,this.type=Kn.NavigationSkipped}}class ii extends to{constructor(R,k,D,F){super(R,k),this.error=D,this.target=F,this.type=Kn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ta extends to{constructor(R,k,D,F){super(R,k),this.urlAfterRedirects=D,this.state=F,this.type=Kn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Il extends to{constructor(R,k,D,F){super(R,k),this.urlAfterRedirects=D,this.state=F,this.type=Kn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class na extends to{constructor(R,k,D,F,K){super(R,k),this.urlAfterRedirects=D,this.state=F,this.shouldActivate=K,this.type=Kn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ss extends to{constructor(R,k,D,F){super(R,k),this.urlAfterRedirects=D,this.state=F,this.type=Kn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fn extends to{constructor(R,k,D,F){super(R,k),this.urlAfterRedirects=D,this.state=F,this.type=Kn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jr{constructor(R){this.route=R,this.type=Kn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qa{constructor(R){this.route=R,this.type=Kn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gt{constructor(R){this.snapshot=R,this.type=Kn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sa{constructor(R){this.snapshot=R,this.type=Kn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cl{constructor(R){this.snapshot=R,this.type=Kn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bl{constructor(R){this.snapshot=R,this.type=Kn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Go{constructor(R,k,D){this.routerEvent=R,this.position=k,this.anchor=D,this.type=Kn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ds{}class co{constructor(R){this.url=R}}class Da{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Po,this.attachRef=null}}let Po=(()=>{var b;class R{constructor(){this.contexts=new Map}onChildOutletCreated(D,F){const K=this.getOrCreateContext(D);K.outlet=F,this.contexts.set(D,K)}onChildOutletDestroyed(D){const F=this.getContext(D);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let F=this.getContext(D);return F||(F=new Da,this.contexts.set(D,F)),F}getContext(D){return this.contexts.get(D)||null}}return(b=R).\u0275fac=function(D){return new(D||b)},b.\u0275prov=Q.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),R})();class Ds{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const k=this.pathFromRoot(R);return k.length>1?k[k.length-2]:null}children(R){const k=Ui(R,this._root);return k?k.children.map(D=>D.value):[]}firstChild(R){const k=Ui(R,this._root);return k&&k.children.length>0?k.children[0].value:null}siblings(R){const k=ns(R,this._root);return k.length<2?[]:k[k.length-2].children.map(F=>F.value).filter(F=>F!==R)}pathFromRoot(R){return ns(R,this._root).map(k=>k.value)}}function Ui(b,R){if(b===R.value)return R;for(const k of R.children){const D=Ui(b,k);if(D)return D}return null}function ns(b,R){if(b===R.value)return[R];for(const k of R.children){const D=ns(b,k);if(D.length)return D.unshift(R),D}return[]}class bn{constructor(R,k){this.value=R,this.children=k}toString(){return`TreeNode(${this.value})`}}function rs(b){const R={};return b&&b.children.forEach(k=>R[k.value.outlet]=k),R}class U extends Ds{constructor(R,k){super(R),this.snapshot=k,Tt(this,R)}toString(){return this.snapshot.toString()}}function Z(b){const R=function ae(b){const K=new Ie([],{},{},"",{},Ht,b,null,{});return new ut("",new bn(K,[]))}(b),k=new De.t([new tr("",{})]),D=new De.t({}),F=new De.t({}),K=new De.t({}),oe=new De.t(""),xe=new he(k,D,K,oe,F,Ht,b,R.root);return xe.snapshot=R.root,new U(new bn(xe,[]),R)}class he{constructor(R,k,D,F,K,oe,xe,bt){var Ve,Jt;this.urlSubject=R,this.paramsSubject=k,this.queryParamsSubject=D,this.fragmentSubject=F,this.dataSubject=K,this.outlet=oe,this.component=xe,this._futureSnapshot=bt,this.title=null!==(Ve=null===(Jt=this.dataSubject)||void 0===Jt?void 0:Jt.pipe((0,At.T)(Pn=>Pn[Pe])))&&void 0!==Ve?Ve:(0,re.of)(void 0),this.url=R,this.params=k,this.queryParams=D,this.fragment=F,this.data=K}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var R;return null!==(R=this._paramMap)&&void 0!==R||(this._paramMap=this.params.pipe((0,At.T)(k=>et(k)))),this._paramMap}get queryParamMap(){var R;return null!==(R=this._queryParamMap)&&void 0!==R||(this._queryParamMap=this.queryParams.pipe((0,At.T)(k=>et(k)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function we(b,R,k="emptyOnly"){var D;let F;const{routeConfig:K}=b;var oe;return F=null===R||"always"!==k&&""!==(null==K?void 0:K.path)&&(R.component||null!==(D=R.routeConfig)&&void 0!==D&&D.loadComponent)?{params:{...b.params},data:{...b.data},resolve:{...b.data,...null!==(oe=b._resolvedData)&&void 0!==oe?oe:{}}}:{params:{...R.params,...b.params},data:{...R.data,...b.data},resolve:{...b.data,...R.data,...null==K?void 0:K.data,...b._resolvedData}},K&&Yt(K)&&(F.resolve[Pe]=K.title),F}class Ie{get title(){var R;return null===(R=this.data)||void 0===R?void 0:R[Pe]}constructor(R,k,D,F,K,oe,xe,bt,Ve){this.url=R,this.params=k,this.queryParams=D,this.fragment=F,this.data=K,this.outlet=oe,this.component=xe,this.routeConfig=bt,this._resolve=Ve}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var R;return null!==(R=this._paramMap)&&void 0!==R||(this._paramMap=et(this.params)),this._paramMap}get queryParamMap(){var R;return null!==(R=this._queryParamMap)&&void 0!==R||(this._queryParamMap=et(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ut extends Ds{constructor(R,k){super(k),this.url=R,Tt(this,k)}toString(){return It(this._root)}}function Tt(b,R){R.value._routerState=b,R.children.forEach(k=>Tt(b,k))}function It(b){const R=b.children.length>0?` { ${b.children.map(It).join(", ")} } `:"";return`${b.value}${R}`}function Rt(b){if(b.snapshot){const R=b.snapshot,k=b._futureSnapshot;b.snapshot=k,ir(R.queryParams,k.queryParams)||b.queryParamsSubject.next(k.queryParams),R.fragment!==k.fragment&&b.fragmentSubject.next(k.fragment),ir(R.params,k.params)||b.paramsSubject.next(k.params),function Bn(b,R){if(b.length!==R.length)return!1;for(let k=0;k<b.length;++k)if(!ir(b[k],R[k]))return!1;return!0}(R.url,k.url)||b.urlSubject.next(k.url),ir(R.data,k.data)||b.dataSubject.next(k.data)}else b.snapshot=b._futureSnapshot,b.dataSubject.next(b._futureSnapshot.data)}function $t(b,R){const k=ir(b.params,R.params)&&function Vo(b,R){return qi(b,R)&&b.every((k,D)=>ir(k.parameters,R[D].parameters))}(b.url,R.url);return k&&!(!b.parent!=!R.parent)&&(!b.parent||$t(b.parent,R.parent))}function Yt(b){return"string"==typeof b.title||null===b.title}let qt=(()=>{var b;class R{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ht,this.activateEvents=new Q.bkB,this.deactivateEvents=new Q.bkB,this.attachEvents=new Q.bkB,this.detachEvents=new Q.bkB,this.parentContexts=(0,Q.WQX)(Po),this.location=(0,Q.WQX)(Q.c1b),this.changeDetector=(0,Q.WQX)(Q.gRc),this.environmentInjector=(0,Q.WQX)(Q.uvJ),this.inputBinder=(0,Q.WQX)(nr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:F,previousValue:K}=D.name;if(F)return;this.isTrackedInParentContexts(K)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(K)),this.initializeOutletWithName()}}ngOnDestroy(){var D;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(D=this.inputBinder)||void 0===D||D.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){var F;return(null===(F=this.parentContexts.getContext(D))||void 0===F?void 0:F.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);null!=D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q.wOt(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,F){var K;this.activated=D,this._activatedRoute=F,this.location.insert(D.hostView),null===(K=this.inputBinder)||void 0===K||K.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,F){var K;if(this.isActivated)throw new Q.wOt(4013,!1);this._activatedRoute=D;const oe=this.location,bt=D.snapshot.component,Ve=this.parentContexts.getOrCreateContext(this.name).children,Jt=new _n(D,Ve,oe.injector);this.activated=oe.createComponent(bt,{index:oe.length,injector:Jt,environmentInjector:null!=F?F:this.environmentInjector}),this.changeDetector.markForCheck(),null===(K=this.inputBinder)||void 0===K||K.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(b=R).\u0275fac=function(D){return new(D||b)},b.\u0275dir=Q.FsC({type:b,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Q.OA$]}),R})();class _n{__ngOutletInjector(R){return new _n(this.route,this.childContexts,R)}constructor(R,k,D){this.route=R,this.childContexts=k,this.parent=D}get(R,k){return R===he?this.route:R===Po?this.childContexts:this.parent.get(R,k)}}const nr=new Q.nKC("");let vr=(()=>{var b;class R{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){var F;null===(F=this.outletDataSubscriptions.get(D))||void 0===F||F.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:F}=D,K=(0,Ge.z)([F.queryParams,F.params,F.data]).pipe((0,Kt.n)(([oe,xe,bt],Ve)=>(bt={...oe,...xe,...bt},0===Ve?(0,re.of)(bt):Promise.resolve(bt)))).subscribe(oe=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(D);const xe=(0,Q.HJs)(F.component);if(xe)for(const{templateName:bt}of xe.inputs)D.activatedComponentRef.setInput(bt,oe[bt]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,K)}}return(b=R).\u0275fac=function(D){return new(D||b)},b.\u0275prov=Q.jDH({token:b,factory:b.\u0275fac}),R})();function Ir(b,R,k){if(k&&b.shouldReuseRoute(R.value,k.value.snapshot)){const D=k.value;D._futureSnapshot=R.value;const F=function Cr(b,R,k){return R.children.map(D=>{for(const F of k.children)if(b.shouldReuseRoute(D.value,F.value.snapshot))return Ir(b,D,F);return Ir(b,D)})}(b,R,k);return new bn(D,F)}{if(b.shouldAttach(R.value)){const K=b.retrieve(R.value);if(null!==K){const oe=K.route;return oe.value._futureSnapshot=R.value,oe.children=R.children.map(xe=>Ir(b,xe)),oe}}const D=function Kr(b){return new he(new De.t(b.url),new De.t(b.params),new De.t(b.queryParams),new De.t(b.fragment),new De.t(b.data),b.outlet,b.component,b)}(R.value),F=R.children.map(K=>Ir(b,K));return new bn(D,F)}}const Qi="ngNavigationCancelingError";function is(b,R){const{redirectTo:k,navigationBehaviorOptions:D}=_i(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,F=Wo(!1,Er.Redirect);return F.url=k,F.navigationBehaviorOptions=D,F}function Wo(b,R){const k=new Error(`NavigationCancelingError: ${b||""}`);return k[Qi]=!0,k.cancellationCode=R,k}function Rs(b){return!!b&&b[Qi]}let br=(()=>{var b;class R{}return(b=R).\u0275fac=function(D){return new(D||b)},b.\u0275cmp=Q.VBU({type:b,selectors:[["ng-component"]],standalone:!0,features:[Q.aNF],decls:1,vars:0,template:function(D,F){1&D&&Q.nrm(0,"router-outlet")},dependencies:[qt],encapsulation:2}),R})();function xs(b){const R=b.children&&b.children.map(xs),k=R?{...b,children:R}:{...b};return!k.component&&!k.loadComponent&&(R||k.loadChildren)&&k.outlet&&k.outlet!==Ht&&(k.component=br),k}function zi(b){return b.outlet||Ht}function ho(b){var R;if(!b)return null;if(null!==(R=b.routeConfig)&&void 0!==R&&R._injector)return b.routeConfig._injector;for(let k=b.parent;k;k=k.parent){const D=k.routeConfig;if(null!=D&&D._loadedInjector)return D._loadedInjector;if(null!=D&&D._injector)return D._injector}return null}class Al{constructor(R,k,D,F,K){this.routeReuseStrategy=R,this.futureState=k,this.currState=D,this.forwardEvent=F,this.inputBindingEnabled=K}activate(R){const k=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(k,D,R),Rt(this.futureState.root),this.activateChildRoutes(k,D,R)}deactivateChildRoutes(R,k,D){const F=rs(k);R.children.forEach(K=>{const oe=K.value.outlet;this.deactivateRoutes(K,F[oe],D),delete F[oe]}),Object.values(F).forEach(K=>{this.deactivateRouteAndItsChildren(K,D)})}deactivateRoutes(R,k,D){const F=R.value,K=k?k.value:null;if(F===K)if(F.component){const oe=D.getContext(F.outlet);oe&&this.deactivateChildRoutes(R,k,oe.children)}else this.deactivateChildRoutes(R,k,D);else K&&this.deactivateRouteAndItsChildren(k,D)}deactivateRouteAndItsChildren(R,k){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,k):this.deactivateRouteAndOutlet(R,k)}detachAndStoreRouteSubtree(R,k){const D=k.getContext(R.value.outlet),F=D&&R.value.component?D.children:k,K=rs(R);for(const oe of Object.values(K))this.deactivateRouteAndItsChildren(oe,F);if(D&&D.outlet){const oe=D.outlet.detach(),xe=D.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:oe,route:R,contexts:xe})}}deactivateRouteAndOutlet(R,k){const D=k.getContext(R.value.outlet),F=D&&R.value.component?D.children:k,K=rs(R);for(const oe of Object.values(K))this.deactivateRouteAndItsChildren(oe,F);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.route=null)}activateChildRoutes(R,k,D){const F=rs(k);R.children.forEach(K=>{this.activateRoutes(K,F[K.value.outlet],D),this.forwardEvent(new bl(K.value.snapshot))}),R.children.length&&this.forwardEvent(new Sa(R.value.snapshot))}activateRoutes(R,k,D){const F=R.value,K=k?k.value:null;if(Rt(F),F===K)if(F.component){const oe=D.getOrCreateContext(F.outlet);this.activateChildRoutes(R,k,oe.children)}else this.activateChildRoutes(R,k,D);else if(F.component){const oe=D.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const xe=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),oe.children.onOutletReAttached(xe.contexts),oe.attachRef=xe.componentRef,oe.route=xe.route.value,oe.outlet&&oe.outlet.attach(xe.componentRef,xe.route.value),Rt(xe.route.value),this.activateChildRoutes(R,null,oe.children)}else{const xe=ho(F.snapshot);oe.attachRef=null,oe.route=F,oe.injector=xe,oe.outlet&&oe.outlet.activateWith(F,oe.injector),this.activateChildRoutes(R,null,oe.children)}}else this.activateChildRoutes(R,null,D)}}class Sl{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class Ms{constructor(R,k){this.component=R,this.route=k}}function Dl(b,R,k){const D=b._root;return ia(D,R?R._root:null,k,[D.value])}function ks(b,R){const k=Symbol(),D=R.get(b,k);return D===k?"function"!=typeof b||(0,Q.LfX)(b)?R.get(b):b:D}function ia(b,R,k,D,F={canDeactivateChecks:[],canActivateChecks:[]}){const K=rs(R);return b.children.forEach(oe=>{(function j(b,R,k,D,F={canDeactivateChecks:[],canActivateChecks:[]}){const K=b.value,oe=R?R.value:null,xe=k?k.getContext(b.value.outlet):null;if(oe&&K.routeConfig===oe.routeConfig){const bt=function O(b,R,k){if("function"==typeof k)return k(b,R);switch(k){case"pathParamsChange":return!qi(b.url,R.url);case"pathParamsOrQueryParamsChange":return!qi(b.url,R.url)||!ir(b.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$t(b,R)||!ir(b.queryParams,R.queryParams);default:return!$t(b,R)}}(oe,K,K.routeConfig.runGuardsAndResolvers);bt?F.canActivateChecks.push(new Sl(D)):(K.data=oe.data,K._resolvedData=oe._resolvedData),ia(b,R,K.component?xe?xe.children:null:k,D,F),bt&&xe&&xe.outlet&&xe.outlet.isActivated&&F.canDeactivateChecks.push(new Ms(xe.outlet.component,oe))}else oe&&ne(R,xe,F),F.canActivateChecks.push(new Sl(D)),ia(b,null,K.component?xe?xe.children:null:k,D,F)})(oe,K[oe.value.outlet],k,D.concat([oe.value]),F),delete K[oe.value.outlet]}),Object.entries(K).forEach(([oe,xe])=>ne(xe,k.getContext(oe),F)),F}function ne(b,R,k){const D=rs(b),F=b.value;Object.entries(D).forEach(([K,oe])=>{ne(oe,F.component?R?R.children.getContext(K):null:R,k)}),k.canDeactivateChecks.push(new Ms(F.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,F))}function z(b){return"function"==typeof b}function ss(b){return b instanceof ge||"EmptyError"===(null==b?void 0:b.name)}const fs=Symbol("INITIAL_VALUE");function xa(){return(0,Kt.n)(b=>(0,Ge.z)(b.map(R=>R.pipe(ct(1),function fe(...b){const R=(0,it.lI)(b);return(0,nt.N)((k,D)=>{(R?Xe(b,k,R):Xe(b,k)).subscribe(D)})}(fs)))).pipe((0,At.T)(R=>{for(const k of R)if(!0!==k){if(k===fs)return fs;if(!1===k||k instanceof gr)return k}return!0}),(0,Y.p)(R=>R!==fs),ct(1)))}function vi(b){return(0,We.F)(mt(R=>{if(_i(R))throw is(0,R)}),(0,At.T)(R=>!0===R))}class Ri{constructor(R){this.segmentGroup=R||null}}class Ns extends Error{constructor(R){super(),this.urlTree=R}}function $r(b){return at(new Ri(b))}class Fs{constructor(R,k){this.urlSerializer=R,this.urlTree=k}lineralizeSegments(R,k){let D=[],F=k.root;for(;;){if(D=D.concat(F.segments),0===F.numberOfChildren)return(0,re.of)(D);if(F.numberOfChildren>1||!F.children[Ht])return at(new Q.wOt(4e3,!1));F=F.children[Ht]}}applyRedirectCommands(R,k,D){const F=this.applyRedirectCreateUrlTree(k,this.urlSerializer.parse(k),R,D);if(k.startsWith("/"))throw new Ns(F);return F}applyRedirectCreateUrlTree(R,k,D,F){const K=this.createSegmentGroup(R,k.root,D,F);return new gr(K,this.createQueryParams(k.queryParams,this.urlTree.queryParams),k.fragment)}createQueryParams(R,k){const D={};return Object.entries(R).forEach(([F,K])=>{if("string"==typeof K&&K.startsWith(":")){const xe=K.substring(1);D[F]=k[xe]}else D[F]=K}),D}createSegmentGroup(R,k,D,F){const K=this.createSegments(R,k.segments,D,F);let oe={};return Object.entries(k.children).forEach(([xe,bt])=>{oe[xe]=this.createSegmentGroup(R,bt,D,F)}),new pn(K,oe)}createSegments(R,k,D,F){return k.map(K=>K.path.startsWith(":")?this.findPosParam(R,K,F):this.findOrReturn(K,D))}findPosParam(R,k,D){const F=D[k.path.substring(1)];if(!F)throw new Q.wOt(4001,!1);return F}findOrReturn(R,k){let D=0;for(const F of k){if(F.path===R.path)return k.splice(D),F;D++}return R}}const Ma={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bt(b,R,k,D,F){const K=fo(b,R,k);return K.matched?(D=function Ra(b,R){var k;return b.providers&&!b._injector&&(b._injector=(0,Q.Ol2)(b.providers,R,`Route: ${b.path}`)),null!==(k=b._injector)&&void 0!==k?k:R}(R,D),function Yi(b,R,k,D){const F=R.canMatch;if(!F||0===F.length)return(0,re.of)(!0);const K=F.map(oe=>{const xe=ks(oe,b);return Ln(function hs(b){return b&&z(b.canMatch)}(xe)?xe.canMatch(R,k):(0,Q.N4e)(b,()=>xe(R,k)))});return(0,re.of)(K).pipe(xa(),vi())}(D,R,k).pipe((0,At.T)(oe=>!0===oe?K:{...Ma}))):(0,re.of)(K)}function fo(b,R,k){var D,F;if("**"===R.path)return function xi(b){return{matched:!0,parameters:b.length>0?sn(b).parameters:{},consumedSegments:b,remainingSegments:[],positionalParamSegments:{}}}(k);if(""===R.path)return"full"===R.pathMatch&&(b.hasChildren()||k.length>0)?{...Ma}:{matched:!0,consumedSegments:[],remainingSegments:k,parameters:{},positionalParamSegments:{}};const oe=(R.matcher||Gt)(k,b,R);if(!oe)return{...Ma};const xe={};Object.entries(null!==(D=oe.posParams)&&void 0!==D?D:{}).forEach(([Ve,Jt])=>{xe[Ve]=Jt.path});const bt=oe.consumed.length>0?{...xe,...oe.consumed[oe.consumed.length-1].parameters}:xe;return{matched:!0,consumedSegments:oe.consumed,remainingSegments:k.slice(oe.consumed.length),parameters:bt,positionalParamSegments:null!==(F=oe.posParams)&&void 0!==F?F:{}}}function Rl(b,R,k,D){return k.length>0&&function dc(b,R,k){return k.some(D=>Os(b,R,D)&&zi(D)!==Ht)}(b,k,D)?{segmentGroup:new pn(R,Zu(D,new pn(k,b.children))),slicedSegments:[]}:0===k.length&&function ed(b,R,k){return k.some(D=>Os(b,R,D))}(b,k,D)?{segmentGroup:new pn(b.segments,Pl(b,k,D,b.children)),slicedSegments:k}:{segmentGroup:new pn(b.segments,b.children),slicedSegments:k}}function Pl(b,R,k,D){const F={};for(const K of k)if(Os(b,R,K)&&!D[zi(K)]){const oe=new pn([],{});F[zi(K)]=oe}return{...D,...F}}function Zu(b,R){const k={};k[Ht]=R;for(const D of b)if(""===D.path&&zi(D)!==Ht){const F=new pn([],{});k[zi(D)]=F}return k}function Os(b,R,k){return(!(b.hasChildren()||R.length>0)||"full"!==k.pathMatch)&&""===k.path}class xl{}class Hr{constructor(R,k,D,F,K,oe,xe){this.injector=R,this.configLoader=k,this.rootComponentType=D,this.config=F,this.urlTree=K,this.paramsInheritanceStrategy=oe,this.urlSerializer=xe,this.applyRedirects=new Fs(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(R){return new Q.wOt(4002,`'${R.segmentGroup}'`)}recognize(){const R=Rl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(R).pipe((0,At.T)(k=>{const D=new Ie([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,{}),F=new bn(D,k),K=new ut("",F),oe=function Do(b,R,k=null,D=null){return jo(zo(b),R,k,D)}(D,[],this.urlTree.queryParams,this.urlTree.fragment);return oe.queryParams=this.urlTree.queryParams,K.url=this.urlSerializer.serialize(oe),this.inheritParamsAndData(K._root,null),{state:K,tree:oe}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R,Ht).pipe(xt(D=>{if(D instanceof Ns)return this.urlTree=D.urlTree,this.match(D.urlTree.root);throw D instanceof Ri?this.noMatchError(D):D}))}inheritParamsAndData(R,k){const D=R.value,F=we(D,k,this.paramsInheritanceStrategy);D.params=Object.freeze(F.params),D.data=Object.freeze(F.data),R.children.forEach(K=>this.inheritParamsAndData(K,D))}processSegmentGroup(R,k,D,F){return 0===D.segments.length&&D.hasChildren()?this.processChildren(R,k,D):this.processSegment(R,k,D,D.segments,F,!0).pipe((0,At.T)(K=>K instanceof bn?[K]:[]))}processChildren(R,k,D){const F=[];for(const K of Object.keys(D.children))"primary"===K?F.unshift(K):F.push(K);return(0,He.H)(F).pipe(Le(K=>{const oe=D.children[K],xe=function os(b,R){const k=b.filter(D=>zi(D)===R);return k.push(...b.filter(D=>zi(D)!==R)),k}(k,K);return this.processSegmentGroup(R,xe,oe,K)}),function zt(b,R){return(0,nt.N)(function Sn(b,R,k,D,F){return(K,oe)=>{let xe=k,bt=R,Ve=0;K.subscribe((0,_t._)(oe,Jt=>{const Pn=Ve++;bt=xe?b(bt,Jt,Pn):(xe=!0,Jt),D&&oe.next(bt)},F&&(()=>{xe&&oe.next(bt),oe.complete()})))}}(b,R,arguments.length>=2,!0))}((K,oe)=>(K.push(...oe),K)),J(null),function En(b,R){const k=arguments.length>=2;return D=>D.pipe(b?(0,Y.p)((F,K)=>b(F,K,D)):Re.D,mn(1),k?J(R):ie(()=>new ge))}(),(0,ke.Z)(K=>{if(null===K)return $r(D);const oe=sa(K);return function Za(b){b.sort((R,k)=>R.value.outlet===Ht?-1:k.value.outlet===Ht?1:R.value.outlet.localeCompare(k.value.outlet))}(oe),(0,re.of)(oe)}))}processSegment(R,k,D,F,K,oe){return(0,He.H)(k).pipe(Le(xe=>{var bt;return this.processSegmentAgainstRoute(null!==(bt=xe._injector)&&void 0!==bt?bt:R,k,xe,D,F,K,oe).pipe(xt(Ve=>{if(Ve instanceof Ri)return(0,re.of)(null);throw Ve}))}),Ue(xe=>!!xe),xt(xe=>{if(ss(xe))return function Wc(b,R,k){return 0===R.length&&!b.children[k]}(D,F,K)?(0,re.of)(new xl):$r(D);throw xe}))}processSegmentAgainstRoute(R,k,D,F,K,oe,xe){return function ps(b,R,k,D){return!!(zi(b)===D||D!==Ht&&Os(R,k,b))&&fo(R,b,k).matched}(D,F,K,oe)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(R,F,D,K,oe):this.allowRedirects&&xe?this.expandSegmentAgainstRouteUsingRedirect(R,F,k,D,K,oe):$r(F):$r(F)}expandSegmentAgainstRouteUsingRedirect(R,k,D,F,K,oe){const{matched:xe,consumedSegments:bt,positionalParamSegments:Ve,remainingSegments:Jt}=fo(k,F,K);if(!xe)return $r(k);F.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Pn=this.applyRedirects.applyRedirectCommands(bt,F.redirectTo,Ve);return this.applyRedirects.lineralizeSegments(F,Pn).pipe((0,ke.Z)(ai=>this.processSegment(R,D,k,ai.concat(Jt),oe,!1)))}matchSegmentAgainstRoute(R,k,D,F,K){const oe=Bt(k,D,F,R);return"**"===D.path&&(k.children={}),oe.pipe((0,Kt.n)(xe=>{var bt;return xe.matched?(R=null!==(bt=D._injector)&&void 0!==bt?bt:R,this.getChildConfig(R,D,F).pipe((0,Kt.n)(({routes:Ve})=>{var Jt,Pn,ai;const Dr=null!==(Jt=D._loadedInjector)&&void 0!==Jt?Jt:R,{consumedSegments:no,remainingSegments:rl,parameters:as}=xe,Ll=new Ie(no,as,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function td(b){return b.data||{}}(D),zi(D),null!==(Pn=null!==(ai=D.component)&&void 0!==ai?ai:D._loadedComponent)&&void 0!==Pn?Pn:null,D,function nd(b){return b.resolve||{}}(D)),{segmentGroup:Qc,slicedSegments:Vl}=Rl(k,no,rl,Ve);if(0===Vl.length&&Qc.hasChildren())return this.processChildren(Dr,Ve,Qc).pipe((0,At.T)(Yc=>null===Yc?null:new bn(Ll,Yc)));if(0===Ve.length&&0===Vl.length)return(0,re.of)(new bn(Ll,[]));const jy=zi(D)===K;return this.processSegment(Dr,Ve,Qc,Vl,jy?Ht:K,!0).pipe((0,At.T)(Yc=>new bn(Ll,Yc instanceof bn?[Yc]:[])))}))):$r(k)}))}getChildConfig(R,k,D){return k.children?(0,re.of)({routes:k.children,injector:R}):k.loadChildren?void 0!==k._loadedRoutes?(0,re.of)({routes:k._loadedRoutes,injector:k._loadedInjector}):function pi(b,R,k,D){const F=R.canLoad;if(void 0===F||0===F.length)return(0,re.of)(!0);const K=F.map(oe=>{const xe=ks(oe,b);return Ln(function Ft(b){return b&&z(b.canLoad)}(xe)?xe.canLoad(R,k):(0,Q.N4e)(b,()=>xe(R,k)))});return(0,re.of)(K).pipe(xa(),vi())}(R,k,D).pipe((0,ke.Z)(F=>F?this.configLoader.loadChildren(R,k).pipe(mt(K=>{k._loadedRoutes=K.routes,k._loadedInjector=K.injector})):function Pi(b){return at(Wo(!1,Er.GuardRejected))}())):(0,re.of)({routes:[],injector:R})}}function qo(b){const R=b.value.routeConfig;return R&&""===R.path}function sa(b){const R=[],k=new Set;for(const D of b){if(!qo(D)){R.push(D);continue}const F=R.find(K=>D.value.routeConfig===K.value.routeConfig);void 0!==F?(F.children.push(...D.children),k.add(F)):R.push(D)}for(const D of k){const F=sa(D.children);R.push(new bn(D.value,F))}return R.filter(D=>!k.has(D))}function tl(b){const R=b.children.map(k=>tl(k)).flat();return[b,...R]}function Vs(b){return(0,Kt.n)(R=>{const k=b(R);return k?(0,He.H)(k).pipe((0,At.T)(()=>R)):(0,re.of)(R)})}let I=(()=>{var b;class R{buildTitle(D){let F,K=D.root;for(;void 0!==K;){var oe;F=null!==(oe=this.getResolvedTitleForRoute(K))&&void 0!==oe?oe:F,K=K.children.find(xe=>xe.outlet===Ht)}return F}getResolvedTitleForRoute(D){return D.data[Pe]}}return(b=R).\u0275fac=function(D){return new(D||b)},b.\u0275prov=Q.jDH({token:b,factory:()=>(0,Q.WQX)(P),providedIn:"root"}),R})(),P=(()=>{var b;class R extends I{constructor(D){super(),this.title=D}updateTitle(D){const F=this.buildTitle(D);void 0!==F&&this.title.setTitle(F)}}return(b=R).\u0275fac=function(D){return new(D||b)(Q.KVO(rr.hE))},b.\u0275prov=Q.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),R})();const g=new Q.nKC("",{providedIn:"root",factory:()=>({})}),p=new Q.nKC("");let A=(()=>{var b;class R{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,Q.WQX)(Q.Ql9)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,re.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const F=Ln(D.loadComponent()).pipe((0,At.T)(te),mt(oe=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=oe}),er(()=>{this.componentLoaders.delete(D)})),K=new Pt(F,()=>new Ot.B).pipe(Ye());return this.componentLoaders.set(D,K),K}loadChildren(D,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,re.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const oe=function C(b,R,k,D){return Ln(b.loadChildren()).pipe((0,At.T)(te),(0,ke.Z)(F=>F instanceof Q.Co$||Array.isArray(F)?(0,re.of)(F):(0,He.H)(R.compileModuleAsync(F))),(0,At.T)(F=>{D&&D(b);let K,oe,xe=!1;return Array.isArray(F)?(oe=F,!0):(K=F.create(k).injector,oe=K.get(p,[],{optional:!0,self:!0}).flat()),{routes:oe.map(xs),injector:K}}))}(F,this.compiler,D,this.onLoadEndListener).pipe(er(()=>{this.childrenLoaders.delete(F)})),xe=new Pt(oe,()=>new Ot.B).pipe(Ye());return this.childrenLoaders.set(F,xe),xe}}return(b=R).\u0275fac=function(D){return new(D||b)},b.\u0275prov=Q.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),R})();function te(b){return function $(b){return b&&"object"==typeof b&&"default"in b}(b)?b.default:b}let ve=(()=>{var b;class R{}return(b=R).\u0275fac=function(D){return new(D||b)},b.\u0275prov=Q.jDH({token:b,factory:()=>(0,Q.WQX)(pt),providedIn:"root"}),R})(),pt=(()=>{var b;class R{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,F){return D}}return(b=R).\u0275fac=function(D){return new(D||b)},b.\u0275prov=Q.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),R})();const an=new Q.nKC(""),kn=new Q.nKC("");function Qn(b,R,k){const D=b.get(kn),F=b.get(nn.qQ);return b.get(Q.SKi).runOutsideAngular(()=>{if(!F.startViewTransition||D.skipNextTransition)return D.skipNextTransition=!1,new Promise(Ve=>setTimeout(Ve));let K;const oe=new Promise(Ve=>{K=Ve}),xe=F.startViewTransition(()=>(K(),function An(b){return new Promise(R=>{(0,Q.mal)(R,{injector:b})})}(b))),{onViewTransitionCreated:bt}=D;return bt&&(0,Q.N4e)(b,()=>bt({transition:xe,from:R,to:k})),oe})}let Yn=(()=>{var b;class R{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ot.B,this.transitionAbortSubject=new Ot.B,this.configLoader=(0,Q.WQX)(A),this.environmentInjector=(0,Q.WQX)(Q.uvJ),this.urlSerializer=(0,Q.WQX)(Ae),this.rootContexts=(0,Q.WQX)(Po),this.location=(0,Q.WQX)(nn.aZ),this.inputBindingEnabled=null!==(0,Q.WQX)(nr,{optional:!0}),this.titleStrategy=(0,Q.WQX)(I),this.options=(0,Q.WQX)(g,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,Q.WQX)(ve),this.createViewTransition=(0,Q.WQX)(an,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,re.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=K=>this.events.next(new Qa(K)),this.configLoader.onLoadStartListener=K=>this.events.next(new jr(K))}complete(){var D;null===(D=this.transitions)||void 0===D||D.complete()}handleNavigationRequest(D){var F;const K=++this.navigationId;null===(F=this.transitions)||void 0===F||F.next({...this.transitions.value,...D,id:K})}setupNavigations(D,F,K){return this.transitions=new De.t({id:0,currentUrlTree:F,currentRawUrl:F,extractedUrl:this.urlHandlingStrategy.extract(F),urlAfterRedirects:this.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ao,restoredState:null,currentSnapshot:K.snapshot,targetSnapshot:null,currentRouterState:K,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Y.p)(oe=>0!==oe.id),(0,At.T)(oe=>({...oe,extractedUrl:this.urlHandlingStrategy.extract(oe.rawUrl)})),(0,Kt.n)(oe=>{let xe=!1,bt=!1;return(0,re.of)(oe).pipe((0,Kt.n)(Ve=>{var Jt;if(this.navigationId>oe.id)return this.cancelNavigationTransition(oe,"",Er.SupersededByNewNavigation),pe;this.currentTransition=oe,this.currentNavigation={id:Ve.id,initialUrl:Ve.rawUrl,extractedUrl:Ve.extractedUrl,trigger:Ve.source,extras:Ve.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Pn=!D.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),ai=null!==(Jt=Ve.extras.onSameUrlNavigation)&&void 0!==Jt?Jt:D.onSameUrlNavigation;if(!Pn&&"reload"!==ai){const Dr="";return this.events.next(new ts(Ve.id,this.urlSerializer.serialize(Ve.rawUrl),Dr,yn.IgnoredSameUrlNavigation)),Ve.resolve(null),pe}if(this.urlHandlingStrategy.shouldProcessUrl(Ve.rawUrl))return(0,re.of)(Ve).pipe((0,Kt.n)(Dr=>{var no,rl;const as=null===(no=this.transitions)||void 0===no?void 0:no.getValue();return this.events.next(new lo(Dr.id,this.urlSerializer.serialize(Dr.extractedUrl),Dr.source,Dr.restoredState)),as!==(null===(rl=this.transitions)||void 0===rl?void 0:rl.getValue())?pe:Promise.resolve(Dr)}),function fh(b,R,k,D,F,K){return(0,ke.Z)(oe=>function hc(b,R,k,D,F,K,oe="emptyOnly"){return new Hr(b,R,k,D,F,oe,K).recognize()}(b,R,k,D,oe.extractedUrl,F,K).pipe((0,At.T)(({state:xe,tree:bt})=>({...oe,targetSnapshot:xe,urlAfterRedirects:bt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,this.paramsInheritanceStrategy),mt(Dr=>{oe.targetSnapshot=Dr.targetSnapshot,oe.urlAfterRedirects=Dr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Dr.urlAfterRedirects};const no=new ta(Dr.id,this.urlSerializer.serialize(Dr.extractedUrl),this.urlSerializer.serialize(Dr.urlAfterRedirects),Dr.targetSnapshot);this.events.next(no)}));if(Pn&&this.urlHandlingStrategy.shouldProcessUrl(Ve.currentRawUrl)){const{id:Dr,extractedUrl:no,source:rl,restoredState:as,extras:Ll}=Ve,Qc=new lo(Dr,this.urlSerializer.serialize(no),rl,as);this.events.next(Qc);const Vl=Z(this.rootComponentType).snapshot;return this.currentTransition=oe={...Ve,targetSnapshot:Vl,urlAfterRedirects:no,extras:{...Ll,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=no,(0,re.of)(oe)}{const Dr="";return this.events.next(new ts(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),Dr,yn.IgnoredByUrlHandlingStrategy)),Ve.resolve(null),pe}}),mt(Ve=>{const Jt=new Il(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects),Ve.targetSnapshot);this.events.next(Jt)}),(0,At.T)(Ve=>(this.currentTransition=oe={...Ve,guards:Dl(Ve.targetSnapshot,Ve.currentSnapshot,this.rootContexts)},oe)),function Ja(b,R){return(0,ke.Z)(k=>{const{targetSnapshot:D,currentSnapshot:F,guards:{canActivateChecks:K,canDeactivateChecks:oe}}=k;return 0===oe.length&&0===K.length?(0,re.of)({...k,guardsResult:!0}):function up(b,R,k,D){return(0,He.H)(b).pipe((0,ke.Z)(F=>function sr(b,R,k,D,F){const K=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!K||0===K.length)return(0,re.of)(!0);const oe=K.map(xe=>{var bt;const Ve=null!==(bt=ho(R))&&void 0!==bt?bt:F,Jt=ks(xe,Ve);return Ln(function yr(b){return b&&z(b.canDeactivate)}(Jt)?Jt.canDeactivate(b,R,k,D):(0,Q.N4e)(Ve,()=>Jt(b,R,k,D))).pipe(Ue())});return(0,re.of)(oe).pipe(xa())}(F.component,F.route,k,R,D)),Ue(F=>!0!==F,!0))}(oe,D,F,b).pipe((0,ke.Z)(xe=>xe&&function le(b){return"boolean"==typeof b}(xe)?function hh(b,R,k,D){return(0,He.H)(R).pipe(Le(F=>Xe(function Ju(b,R){return null!==b&&R&&R(new gt(b)),(0,re.of)(!0)}(F.route.parent,D),function oa(b,R){return null!==b&&R&&R(new Cl(b)),(0,re.of)(!0)}(F.route,D),function uc(b,R,k){const D=R[R.length-1],K=R.slice(0,R.length-1).reverse().map(oe=>function cc(b){const R=b.routeConfig?b.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:b,guards:R}:null}(oe)).filter(oe=>null!==oe).map(oe=>vt(()=>{const xe=oe.guards.map(bt=>{var Ve;const Jt=null!==(Ve=ho(oe.node))&&void 0!==Ve?Ve:k,Pn=ks(bt,Jt);return Ln(function Mn(b){return b&&z(b.canActivateChild)}(Pn)?Pn.canActivateChild(D,b):(0,Q.N4e)(Jt,()=>Pn(D,b))).pipe(Ue())});return(0,re.of)(xe).pipe(xa())}));return(0,re.of)(K).pipe(xa())}(b,F.path,k),function Hc(b,R,k){const D=R.routeConfig?R.routeConfig.canActivate:null;if(!D||0===D.length)return(0,re.of)(!0);const F=D.map(K=>vt(()=>{var oe;const xe=null!==(oe=ho(R))&&void 0!==oe?oe:k,bt=ks(K,xe);return Ln(function wn(b){return b&&z(b.canActivate)}(bt)?bt.canActivate(R,b):(0,Q.N4e)(xe,()=>bt(R,b))).pipe(Ue())}));return(0,re.of)(F).pipe(xa())}(b,F.route,k))),Ue(F=>!0!==F,!0))}(D,K,b,R):(0,re.of)(xe)),(0,At.T)(xe=>({...k,guardsResult:xe})))})}(this.environmentInjector,Ve=>this.events.next(Ve)),mt(Ve=>{if(oe.guardsResult=Ve.guardsResult,_i(Ve.guardsResult))throw is(0,Ve.guardsResult);const Jt=new na(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects),Ve.targetSnapshot,!!Ve.guardsResult);this.events.next(Jt)}),(0,Y.p)(Ve=>!!Ve.guardsResult||(this.cancelNavigationTransition(Ve,"",Er.GuardRejected),!1)),Vs(Ve=>{if(Ve.guards.canActivateChecks.length)return(0,re.of)(Ve).pipe(mt(Jt=>{const Pn=new Ss(Jt.id,this.urlSerializer.serialize(Jt.extractedUrl),this.urlSerializer.serialize(Jt.urlAfterRedirects),Jt.targetSnapshot);this.events.next(Pn)}),(0,Kt.n)(Jt=>{let Pn=!1;return(0,re.of)(Jt).pipe(function el(b,R){return(0,ke.Z)(k=>{const{targetSnapshot:D,guards:{canActivateChecks:F}}=k;if(!F.length)return(0,re.of)(k);const K=new Set(F.map(bt=>bt.route)),oe=new Set;for(const bt of K)if(!oe.has(bt))for(const Ve of tl(bt))oe.add(Ve);let xe=0;return(0,He.H)(oe).pipe(Le(bt=>K.has(bt)?function rd(b,R,k,D){const F=b.routeConfig,K=b._resolve;return void 0!==(null==F?void 0:F.title)&&!Yt(F)&&(K[Pe]=F.title),function ph(b,R,k,D){const F=zn(b);if(0===F.length)return(0,re.of)({});const K={};return(0,He.H)(F).pipe((0,ke.Z)(oe=>function qc(b,R,k,D){var F;const K=null!==(F=ho(R))&&void 0!==F?F:D,oe=ks(b,K);return Ln(oe.resolve?oe.resolve(R,k):(0,Q.N4e)(K,()=>oe(R,k)))}(b[oe],R,k,D).pipe(Ue(),mt(xe=>{K[oe]=xe}))),mn(1),function xn(b){return(0,At.T)(()=>b)}(K),xt(oe=>ss(oe)?pe:at(oe)))}(K,b,R,D).pipe((0,At.T)(oe=>(b._resolvedData=oe,b.data=we(b,b.parent,k).resolve,null)))}(bt,D,b,R):(bt.data=we(bt,bt.parent,b).resolve,(0,re.of)(void 0))),mt(()=>xe++),mn(1),(0,ke.Z)(bt=>xe===oe.size?(0,re.of)(k):pe))})}(this.paramsInheritanceStrategy,this.environmentInjector),mt({next:()=>Pn=!0,complete:()=>{Pn||this.cancelNavigationTransition(Jt,"",Er.NoDataFromResolver)}}))}),mt(Jt=>{const Pn=new Fn(Jt.id,this.urlSerializer.serialize(Jt.extractedUrl),this.urlSerializer.serialize(Jt.urlAfterRedirects),Jt.targetSnapshot);this.events.next(Pn)}))}),Vs(Ve=>{const Jt=Pn=>{var ai;const Dr=[];null!==(ai=Pn.routeConfig)&&void 0!==ai&&ai.loadComponent&&!Pn.routeConfig._loadedComponent&&Dr.push(this.configLoader.loadComponent(Pn.routeConfig).pipe(mt(no=>{Pn.component=no}),(0,At.T)(()=>{})));for(const no of Pn.children)Dr.push(...Jt(no));return Dr};return(0,Ge.z)(Jt(Ve.targetSnapshot.root)).pipe(J(null),ct(1))}),Vs(()=>this.afterPreactivation()),(0,Kt.n)(()=>{var Ve;const{currentSnapshot:Jt,targetSnapshot:Pn}=oe,ai=null===(Ve=this.createViewTransition)||void 0===Ve?void 0:Ve.call(this,this.environmentInjector,Jt.root,Pn.root);return ai?(0,He.H)(ai).pipe((0,At.T)(()=>oe)):(0,re.of)(oe)}),(0,At.T)(Ve=>{const Jt=function Xn(b,R,k){const D=Ir(b,R._root,k?k._root:void 0);return new U(D,R)}(D.routeReuseStrategy,Ve.targetSnapshot,Ve.currentRouterState);return this.currentTransition=oe={...Ve,targetRouterState:Jt},this.currentNavigation.targetRouterState=Jt,oe}),mt(()=>{this.events.next(new ds)}),((b,R,k,D)=>(0,At.T)(F=>(new Al(R,F.targetRouterState,F.currentRouterState,k,D).activate(b),F)))(this.rootContexts,D.routeReuseStrategy,Ve=>this.events.next(Ve),this.inputBindingEnabled),ct(1),mt({next:Ve=>{var Jt;xe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ri(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects))),null===(Jt=this.titleStrategy)||void 0===Jt||Jt.updateTitle(Ve.targetRouterState.snapshot),Ve.resolve(!0)},complete:()=>{xe=!0}}),function St(b){return(0,nt.N)((R,k)=>{(0,Qe.Tg)(b).subscribe((0,_t._)(k,()=>k.complete(),In.l)),!k.closed&&R.subscribe(k)})}(this.transitionAbortSubject.pipe(mt(Ve=>{throw Ve}))),er(()=>{var Ve;!xe&&!bt&&this.cancelNavigationTransition(oe,"",Er.SupersededByNewNavigation),(null===(Ve=this.currentTransition)||void 0===Ve?void 0:Ve.id)===oe.id&&(this.currentNavigation=null,this.currentTransition=null)}),xt(Ve=>{if(bt=!0,Rs(Ve))this.events.next(new or(oe.id,this.urlSerializer.serialize(oe.extractedUrl),Ve.message,Ve.cancellationCode)),function Ya(b){return Rs(b)&&_i(b.url)}(Ve)?this.events.next(new co(Ve.url)):oe.resolve(!1);else{var Jt;this.events.next(new ii(oe.id,this.urlSerializer.serialize(oe.extractedUrl),Ve,null!==(Jt=oe.targetSnapshot)&&void 0!==Jt?Jt:void 0));try{oe.resolve(D.errorHandler(Ve))}catch(Pn){this.options.resolveNavigationPromiseOnError?oe.resolve(!1):oe.reject(Pn)}}return pe}))}))}cancelNavigationTransition(D,F,K){const oe=new or(D.id,this.urlSerializer.serialize(D.extractedUrl),F,K);this.events.next(oe),D.resolve(!1)}isUpdatingInternalState(){var D,F;return(null===(D=this.currentTransition)||void 0===D?void 0:D.extractedUrl.toString())!==(null===(F=this.currentTransition)||void 0===F?void 0:F.currentUrlTree.toString())}isUpdatedBrowserUrl(){var D,F;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(D=this.currentTransition)||void 0===D?void 0:D.extractedUrl.toString())&&!(null!==(F=this.currentTransition)&&void 0!==F&&F.extras.skipLocationChange)}}return(b=R).\u0275fac=function(D){return new(D||b)},b.\u0275prov=Q.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),R})();function $n(b){return b!==ao}let xr=(()=>{var b;class R{}return(b=R).\u0275fac=function(D){return new(D||b)},b.\u0275prov=Q.jDH({token:b,factory:()=>(0,Q.WQX)(Lt),providedIn:"root"}),R})();class ur{shouldDetach(R){return!1}store(R,k){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,k){return R.routeConfig===k.routeConfig}}let Lt=(()=>{var b;class R extends ur{}return(b=R).\u0275fac=(()=>{let k;return function(F){return(k||(k=Q.xGo(b)))(F||b)}})(),b.\u0275prov=Q.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),R})(),dn=(()=>{var b;class R{}return(b=R).\u0275fac=function(D){return new(D||b)},b.\u0275prov=Q.jDH({token:b,factory:()=>(0,Q.WQX)(wr),providedIn:"root"}),R})(),wr=(()=>{var b;class R extends dn{constructor(){super(...arguments),this.location=(0,Q.WQX)(nn.aZ),this.urlSerializer=(0,Q.WQX)(Ae),this.options=(0,Q.WQX)(g,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,Q.WQX)(ve),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Z(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var D,F;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(D=null===(F=this.restoredState())||void 0===F?void 0:F.\u0275routerPageId)&&void 0!==D?D:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(D){return this.location.subscribe(F=>{"popstate"===F.type&&D(F.url,F.state)})}handleRouterEvent(D,F){if(D instanceof lo)this.stateMemento=this.createStateMemento();else if(D instanceof ts)this.rawUrlTree=F.initialUrl;else if(D instanceof ta){if("eager"===this.urlUpdateStrategy&&!F.extras.skipLocationChange){const K=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl);this.setBrowserUrl(K,F)}}else D instanceof ds?(this.currentUrlTree=F.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F))):D instanceof or&&(D.code===Er.GuardRejected||D.code===Er.NoDataFromResolver)?this.restoreHistory(F):D instanceof ii?this.restoreHistory(F,!0):D instanceof ri&&(this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId)}setBrowserUrl(D,F){const K=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(K)||F.extras.replaceUrl){const xe={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(K,"",xe)}else{const oe={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(K,"",oe)}}restoreHistory(D,F=!1){if("computed"===this.canceledNavigationResolution){const oe=this.currentPageId-this.browserPageId;0!==oe?this.location.historyGo(oe):this.currentUrlTree===D.finalUrl&&0===oe&&(this.resetState(D),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){var F;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(F=D.finalUrl)&&void 0!==F?F:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,F){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:F}:{navigationId:D}}}return(b=R).\u0275fac=(()=>{let k;return function(F){return(k||(k=Q.xGo(b)))(F||b)}})(),b.\u0275prov=Q.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),R})();var Jr=function(b){return b[b.COMPLETE=0]="COMPLETE",b[b.FAILED=1]="FAILED",b[b.REDIRECTING=2]="REDIRECTING",b}(Jr||{});function Xr(b,R){b.events.pipe((0,Y.p)(k=>k instanceof ri||k instanceof or||k instanceof ii||k instanceof ts),(0,At.T)(k=>k instanceof ri||k instanceof ts?Jr.COMPLETE:k instanceof or&&(k.code===Er.Redirect||k.code===Er.SupersededByNewNavigation)?Jr.REDIRECTING:Jr.FAILED),(0,Y.p)(k=>k!==Jr.REDIRECTING),ct(1)).subscribe(()=>{R()})}function ji(b){throw b}const Us={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},si={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nr=(()=>{var b;class R{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var D,F;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,Q.WQX)(Q.H3F),this.stateManager=(0,Q.WQX)(dn),this.options=(0,Q.WQX)(g,{optional:!0})||{},this.pendingTasks=(0,Q.WQX)(Q.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,Q.WQX)(Yn),this.urlSerializer=(0,Q.WQX)(Ae),this.location=(0,Q.WQX)(nn.aZ),this.urlHandlingStrategy=(0,Q.WQX)(ve),this._events=new Ot.B,this.errorHandler=this.options.errorHandler||ji,this.navigated=!1,this.routeReuseStrategy=(0,Q.WQX)(xr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(D=null===(F=(0,Q.WQX)(p,{optional:!0}))||void 0===F?void 0:F.flat())&&void 0!==D?D:[],this.componentInputBindingEnabled=!!(0,Q.WQX)(nr,{optional:!0}),this.eventsSubscription=new tt.yU,this.isNgZoneEnabled=(0,Q.WQX)(Q.SKi)instanceof Q.SKi&&Q.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:K=>{this.console.warn(K)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(F=>{try{const K=this.navigationTransitions.currentTransition,oe=this.navigationTransitions.currentNavigation;if(null!==K&&null!==oe)if(this.stateManager.handleRouterEvent(F,oe),F instanceof or&&F.code!==Er.Redirect&&F.code!==Er.SupersededByNewNavigation)this.navigated=!0;else if(F instanceof ri)this.navigated=!0;else if(F instanceof co){const xe=this.urlHandlingStrategy.merge(F.url,K.currentRawUrl),bt={info:K.extras.info,skipLocationChange:K.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$n(K.source)};this.scheduleNavigation(xe,ao,null,bt,{resolve:K.resolve,reject:K.reject,promise:K.promise})}(function Vn(b){return!(b instanceof ds||b instanceof co)})(F)&&this._events.next(F)}catch(K){this.navigationTransitions.transitionAbortSubject.next(K)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ao,this.stateManager.restoredState())}setUpLocationChangeListener(){var D;null!==(D=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==D||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((F,K)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(F,"popstate",K)},0)}))}navigateToSyncWithBrowser(D,F,K){const oe={replaceUrl:!0},xe=null!=K&&K.navigationId?K:null;if(K){const Ve={...K};delete Ve.navigationId,delete Ve.\u0275routerPageId,0!==Object.keys(Ve).length&&(oe.state=Ve)}const bt=this.parseUrl(D);this.scheduleNavigation(bt,F,xe,oe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(xs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,F={}){const{relativeTo:K,queryParams:oe,fragment:xe,queryParamsHandling:bt,preserveFragment:Ve}=F,Jt=Ve?this.currentUrlTree.fragment:xe;let ai,Pn=null;switch(bt){case"merge":Pn={...this.currentUrlTree.queryParams,...oe};break;case"preserve":Pn=this.currentUrlTree.queryParams;break;default:Pn=oe||null}null!==Pn&&(Pn=this.removeEmptyProps(Pn));try{ai=zo(K?K.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),ai=this.currentUrlTree.root}return jo(ai,D,Pn,null!=Jt?Jt:null)}navigateByUrl(D,F={skipLocationChange:!1}){const K=_i(D)?D:this.parseUrl(D),oe=this.urlHandlingStrategy.merge(K,this.rawUrlTree);return this.scheduleNavigation(oe,ao,null,F)}navigate(D,F={skipLocationChange:!1}){return function aa(b){for(let R=0;R<b.length;R++)if(null==b[R])throw new Q.wOt(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,F),F)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){try{return this.urlSerializer.parse(D)}catch{return this.urlSerializer.parse("/")}}isActive(D,F){let K;if(K=!0===F?{...Us}:!1===F?{...si}:F,_i(D))return qr(this.currentUrlTree,D,K);const oe=this.parseUrl(D);return qr(this.currentUrlTree,oe,K)}removeEmptyProps(D){return Object.entries(D).reduce((F,[K,oe])=>(null!=oe&&(F[K]=oe),F),{})}scheduleNavigation(D,F,K,oe,xe){if(this.disposed)return Promise.resolve(!1);let bt,Ve,Jt;xe?(bt=xe.resolve,Ve=xe.reject,Jt=xe.promise):Jt=new Promise((ai,Dr)=>{bt=ai,Ve=Dr});const Pn=this.pendingTasks.add();return Xr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Pn))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:K,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:D,extras:oe,resolve:bt,reject:Ve,promise:Jt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Jt.catch(ai=>Promise.reject(ai))}}return(b=R).\u0275fac=function(D){return new(D||b)},b.\u0275prov=Q.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),R})(),Ml=(()=>{var b;class R{constructor(D,F,K,oe,xe,bt){var Ve;this.router=D,this.route=F,this.tabIndexAttribute=K,this.renderer=oe,this.el=xe,this.locationStrategy=bt,this.href=null,this.commands=null,this.onChanges=new Ot.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Jt=null===(Ve=xe.nativeElement.tagName)||void 0===Ve?void 0:Ve.toLowerCase();this.isAnchorElement="a"===Jt||"area"===Jt,this.isAnchorElement?this.subscription=D.events.subscribe(Pn=>{Pn instanceof ri&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,F,K,oe,xe){const bt=this.urlTree;return!!(null===bt||this.isAnchorElement&&(0!==D||F||K||oe||xe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(bt,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var D;null===(D=this.subscription)||void 0===D||D.unsubscribe()}updateHref(){var D;const F=this.urlTree;this.href=null!==F&&this.locationStrategy?null===(D=this.locationStrategy)||void 0===D?void 0:D.prepareExternalUrl(this.router.serializeUrl(F)):null;const K=null===this.href?null:(0,Q.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",K)}applyAttributeValue(D,F){const K=this.renderer,oe=this.el.nativeElement;null!==F?K.setAttribute(oe,D,F):K.removeAttribute(oe,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(b=R).\u0275fac=function(D){return new(D||b)(Q.rXU(Nr),Q.rXU(he),Q.kS0("tabindex"),Q.rXU(Q.sFG),Q.rXU(Q.aKT),Q.rXU(nn.hb))},b.\u0275dir=Q.FsC({type:b,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,F){1&D&&Q.bIt("click",function(oe){return F.onClick(oe.button,oe.ctrlKey,oe.shiftKey,oe.altKey,oe.metaKey)}),2&D&&Q.BMQ("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Q.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Q.L39],skipLocationChange:[Q.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Q.L39],replaceUrl:[Q.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Q.L39],routerLink:"routerLink"},standalone:!0,features:[Q.GFd,Q.OA$]}),R})();class Or{}let ms=(()=>{var b;class R{preload(D,F){return F().pipe(xt(()=>(0,re.of)(null)))}}return(b=R).\u0275fac=function(D){return new(D||b)},b.\u0275prov=Q.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),R})(),Ci=(()=>{var b;class R{constructor(D,F,K,oe,xe){this.router=D,this.injector=K,this.preloadingStrategy=oe,this.loader=xe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Y.p)(D=>D instanceof ri),Le(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,F){const K=[];for(const Ve of F){var oe,xe;Ve.providers&&!Ve._injector&&(Ve._injector=(0,Q.Ol2)(Ve.providers,D,`Route: ${Ve.path}`));const Jt=null!==(oe=Ve._injector)&&void 0!==oe?oe:D,Pn=null!==(xe=Ve._loadedInjector)&&void 0!==xe?xe:Jt;var bt;(Ve.loadChildren&&!Ve._loadedRoutes&&void 0===Ve.canLoad||Ve.loadComponent&&!Ve._loadedComponent)&&K.push(this.preloadConfig(Jt,Ve)),(Ve.children||Ve._loadedRoutes)&&K.push(this.processRoutes(Pn,null!==(bt=Ve.children)&&void 0!==bt?bt:Ve._loadedRoutes))}return(0,He.H)(K).pipe(Te())}preloadConfig(D,F){return this.preloadingStrategy.preload(F,()=>{let K;K=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(D,F):(0,re.of)(null);const oe=K.pipe((0,ke.Z)(xe=>{var bt;return null===xe?(0,re.of)(void 0):(F._loadedRoutes=xe.routes,F._loadedInjector=xe.injector,this.processRoutes(null!==(bt=xe.injector)&&void 0!==bt?bt:D,xe.routes))}));if(F.loadComponent&&!F._loadedComponent){const xe=this.loader.loadComponent(F);return(0,He.H)([oe,xe]).pipe(Te())}return oe})}}return(b=R).\u0275fac=function(D){return new(D||b)(Q.KVO(Nr),Q.KVO(Q.Ql9),Q.KVO(Q.uvJ),Q.KVO(Or),Q.KVO(A))},b.\u0275prov=Q.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),R})();const Xc=new Q.nKC("");let kl=(()=>{var b;class R{constructor(D,F,K,oe,xe={}){this.urlSerializer=D,this.transitions=F,this.viewportScroller=K,this.zone=oe,this.options=xe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,Q.WQX)(Q.uvJ),xe.scrollPositionRestoration||(xe.scrollPositionRestoration="disabled"),xe.anchorScrolling||(xe.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof lo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof ri?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof ts&&D.code===yn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Go&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,F){var K=this;this.zone.runOutsideAngular((0,x.A)(function*(){yield new Promise(oe=>{setTimeout(()=>{oe()}),(0,Q.mal)(()=>{oe()},{injector:K.environmentInjector})}),K.zone.run(()=>{K.transitions.events.next(new Go(D,"popstate"===K.lastSource?K.store[K.restoredId]:null,F))})}))}ngOnDestroy(){var D,F;null===(D=this.routerEventsSubscription)||void 0===D||D.unsubscribe(),null===(F=this.scrollEventsSubscription)||void 0===F||F.unsubscribe()}}return(b=R).\u0275fac=function(D){Q.QTQ()},b.\u0275prov=Q.jDH({token:b,factory:b.\u0275fac}),R})();function po(b,R){return{\u0275kind:b,\u0275providers:R}}function nl(){const b=(0,Q.WQX)(Q.zZn);return R=>{var k,D;const F=b.get(Q.o8S);if(R!==F.components[0])return;const K=b.get(Nr),oe=b.get(Nl);1===b.get(mi)&&K.initialNavigation(),null===(k=b.get(_h,null,Q.$GK.Optional))||void 0===k||k.setUpPreloading(),null===(D=b.get(Xc,null,Q.$GK.Optional))||void 0===D||D.init(),K.resetRootComponentType(F.componentTypes[0]),oe.closed||(oe.next(),oe.complete(),oe.unsubscribe())}}const Nl=new Q.nKC("",{factory:()=>new Ot.B}),mi=new Q.nKC("",{providedIn:"root",factory:()=>1}),_h=new Q.nKC("");function Ol(b){return po(0,[{provide:_h,useExisting:Ci},{provide:Or,useExisting:b}])}function hp(b){return po(9,[{provide:an,useValue:Qn},{provide:kn,useValue:{skipNextTransition:!(null==b||!b.skipInitialTransition),...b}}])}const fp=new Q.nKC("ROUTER_FORROOT_GUARD"),Uy=[nn.aZ,{provide:Ae,useClass:ye},Nr,Po,{provide:he,useFactory:function ca(b){return b.routerState.root},deps:[Nr]},A,[]];let Zr=(()=>{var b;class R{constructor(D){}static forRoot(D,F){return{ngModule:R,providers:[Uy,[],{provide:p,multi:!0,useValue:D},{provide:fp,useFactory:Tg,deps:[[Nr,new Q.Xx1,new Q.kdw]]},{provide:g,useValue:F||{}},null!=F&&F.useHash?{provide:nn.hb,useClass:nn.fw}:{provide:nn.hb,useClass:nn.Sm},{provide:Xc,useFactory:()=>{const b=(0,Q.WQX)(nn.Xr),R=(0,Q.WQX)(Q.SKi),k=(0,Q.WQX)(g),D=(0,Q.WQX)(Yn),F=(0,Q.WQX)(Ae);return k.scrollOffset&&b.setOffset(k.scrollOffset),new kl(F,D,b,R,k)}},null!=F&&F.preloadingStrategy?Ol(F.preloadingStrategy).\u0275providers:[],null!=F&&F.initialNavigation?ew(F):[],null!=F&&F.bindToComponentInputs?po(8,[vr,{provide:nr,useExisting:vr}]).\u0275providers:[],null!=F&&F.enableViewTransitions?hp().\u0275providers:[],[{provide:zy,useFactory:nl},{provide:Q.iLQ,multi:!0,useExisting:zy}]]}}static forChild(D){return{ngModule:R,providers:[{provide:p,multi:!0,useValue:D}]}}}return(b=R).\u0275fac=function(D){return new(D||b)(Q.KVO(fp,8))},b.\u0275mod=Q.$C({type:b}),b.\u0275inj=Q.G2t({}),R})();function Tg(b){return"guarded"}function ew(b){return["disabled"===b.initialNavigation?po(3,[{provide:Q.hnV,multi:!0,useFactory:()=>{const R=(0,Q.WQX)(Nr);return()=>{R.setUpLocationChangeListener()}}},{provide:mi,useValue:2}]).\u0275providers:[],"enabledBlocking"===b.initialNavigation?po(2,[{provide:mi,useValue:0},{provide:Q.hnV,multi:!0,deps:[Q.zZn],useFactory:R=>{const k=R.get(nn.hj,Promise.resolve());return()=>k.then(()=>new Promise(D=>{const F=R.get(Nr),K=R.get(Nl);Xr(F,()=>{D(!0)}),R.get(Yn).afterPreactivation=()=>(D(!0),K.closed?(0,re.of)(void 0):K),F.initialNavigation()}))}}]).\u0275providers:[]]}const zy=new Q.nKC("")},9246:(hn,Ct,ee)=>{"use strict";function x(I){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(I)}function M(I,P,g){return(P=function u(I){var P=function Q(I,P){if("object"!=x(I)||!I)return I;var g=I[Symbol.toPrimitive];if(void 0!==g){var p=g.call(I,P||"default");if("object"!=x(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===P?String:Number)(I)}(I,"string");return"symbol"==x(P)?P:String(P)}(P))in I?Object.defineProperty(I,P,{value:g,enumerable:!0,configurable:!0,writable:!0}):I[P]=g,I}ee.d(Ct,{U1:()=>Ie,iq:()=>Bi,he:()=>Sl,Rg:()=>xi,bv:()=>Vs,N7:()=>dc,K_:()=>tl});var v=ee(4438),He=ee(4341),re=ee(467),De=ee(70),Ge=ee(177),qe=ee(5531),ge=ee(4442);var Kt=ee(1413);ee(8750),ee(1985),ee(1397),ee(7441),ee(8071),ee(6450);var xn=ee(4412),er=ee(4572),In=ee(7673),St=ee(1635),rr=ee(5964),Ht=ee(5558),Pe=ee(3669),Ze=ee(9974),et=ee(4360);function Bn(I,P){return I===P}let Ln=(()=>{var I;class P{constructor(p,A){M(this,"doc",void 0),M(this,"_readyPromise",void 0),M(this,"win",void 0),M(this,"backButton",new Kt.B),M(this,"keyboardDidShow",new Kt.B),M(this,"keyboardDidHide",new Kt.B),M(this,"pause",new Kt.B),M(this,"resume",new Kt.B),M(this,"resize",new Kt.B),this.doc=p,A.run(()=>{var C;let $;this.win=p.defaultView,this.backButton.subscribeWithPriority=function(te,ve){return this.subscribe(pt=>pt.register(te,an=>A.run(()=>ve(an))))},cr(this.pause,p,"pause",A),cr(this.resume,p,"resume",A),cr(this.backButton,p,"ionBackButton",A),cr(this.resize,this.win,"resize",A),cr(this.keyboardDidShow,this.win,"ionKeyboardDidShow",A),cr(this.keyboardDidHide,this.win,"ionKeyboardDidHide",A),this._readyPromise=new Promise(te=>{$=te}),null!==(C=this.win)&&void 0!==C&&C.cordova?p.addEventListener("deviceready",()=>{$("cordova")},{once:!0}):$("dom")})}is(p){return(0,qe.a)(this.win,p)}platforms(){return(0,qe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(p){return pr(this.win.location.href,p)}isLandscape(){return!this.isPortrait()}isPortrait(){var p,A;return null===(p=(A=this.win).matchMedia)||void 0===p?void 0:p.call(A,"(orientation: portrait)").matches}testUserAgent(p){const A=this.win.navigator;return!!(null!=A&&A.userAgent&&A.userAgent.indexOf(p)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return I=P,M(P,"\u0275fac",function(p){return new(p||I)(v.KVO(Ge.qQ),v.KVO(v.SKi))}),M(P,"\u0275prov",v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})),P})();const pr=(I,P)=>{P=P.replace(/[[\]\\]/g,"\\$&");const p=new RegExp("[\\?&]"+P+"=([^&#]*)").exec(I);return p?decodeURIComponent(p[1].replace(/\+/g," ")):null},cr=(I,P,g,p)=>{P&&P.addEventListener(g,A=>{p.run(()=>{I.next(null!=A?A.detail:void 0)})})};let qr=(()=>{var I;class P{constructor(p,A,C,$){M(this,"location",void 0),M(this,"serializer",void 0),M(this,"router",void 0),M(this,"topOutlet",void 0),M(this,"direction",ti),M(this,"animated",Rn),M(this,"animationBuilder",void 0),M(this,"guessDirection","forward"),M(this,"guessAnimation",void 0),M(this,"lastNavId",-1),this.location=A,this.serializer=C,this.router=$,$&&$.events.subscribe(te=>{if(te instanceof De.Z){const ve=te.restoredState?te.restoredState.navigationId:te.id;this.guessDirection=this.guessAnimation=ve<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?te.id:ve}}),p.backButton.subscribeWithPriority(0,te=>{this.pop(),te()})}navigateForward(p,A={}){return this.setDirection("forward",A.animated,A.animationDirection,A.animation),this.navigate(p,A)}navigateBack(p,A={}){return this.setDirection("back",A.animated,A.animationDirection,A.animation),this.navigate(p,A)}navigateRoot(p,A={}){return this.setDirection("root",A.animated,A.animationDirection,A.animation),this.navigate(p,A)}back(p={animated:!0,animationDirection:"back"}){return this.setDirection("back",p.animated,p.animationDirection,p.animation),this.location.back()}pop(){var p=this;return(0,re.A)(function*(){let A=p.topOutlet;for(;A;){if(yield A.pop())return!0;A=A.parentOutlet}return!1})()}setDirection(p,A,C,$){this.direction=p,this.animated=Fr(p,A,C),this.animationBuilder=$}setTopOutlet(p){this.topOutlet=p}consumeTransition(){let A,p="root";const C=this.animationBuilder;return"auto"===this.direction?(p=this.guessDirection,A=this.guessAnimation):(A=this.animated,p=this.direction),this.direction=ti,this.animated=Rn,this.animationBuilder=void 0,{direction:p,animation:A,animationBuilder:C}}navigate(p,A){if(Array.isArray(p))return this.router.navigate(p,A);{const C=this.serializer.parse(p.toString());return void 0!==A.queryParams&&(C.queryParams={...A.queryParams}),void 0!==A.fragment&&(C.fragment=A.fragment),this.router.navigateByUrl(C,A)}}}return I=P,M(P,"\u0275fac",function(p){return new(p||I)(v.KVO(Ln),v.KVO(Ge.aZ),v.KVO(De.Sd),v.KVO(De.Ix,8))}),M(P,"\u0275prov",v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})),P})();const Fr=(I,P,g)=>{if(!1!==P){if(void 0!==g)return g;if("forward"===I||"back"===I)return I;if("root"===I&&!0===P)return"forward"}},ti="auto",Rn=void 0;let Wi=(()=>{var I;class P{get(p,A){const C=jt();return C?C.get(p,A):null}getBoolean(p,A){const C=jt();return!!C&&C.getBoolean(p,A)}getNumber(p,A){const C=jt();return C?C.getNumber(p,A):0}}return I=P,M(P,"\u0275fac",function(p){return new(p||I)}),M(P,"\u0275prov",v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})),P})();const jn=new v.nKC("USERCONFIG"),jt=()=>{if(typeof window<"u"){const I=window.Ionic;if(null!=I&&I.config)return I.config}return null};class gr{constructor(P={}){M(this,"data",void 0),this.data=P,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(P){return this.data[P]}}let pn=(()=>{var I;class P{constructor(){M(this,"zone",(0,v.WQX)(v.SKi)),M(this,"applicationRef",(0,v.WQX)(v.o8S)),M(this,"config",(0,v.WQX)(jn))}create(p,A,C){var $;return new tr(p,A,this.applicationRef,this.zone,C,null!==($=this.config.useSetInputAPI)&&void 0!==$&&$)}}return I=P,M(P,"\u0275fac",function(p){return new(p||I)}),M(P,"\u0275prov",v.jDH({token:I,factory:I.\u0275fac})),P})();class tr{constructor(P,g,p,A,C,$){M(this,"environmentInjector",void 0),M(this,"injector",void 0),M(this,"applicationRef",void 0),M(this,"zone",void 0),M(this,"elementReferenceKey",void 0),M(this,"enableSignalsSupport",void 0),M(this,"elRefMap",new WeakMap),M(this,"elEventsMap",new WeakMap),this.environmentInjector=P,this.injector=g,this.applicationRef=p,this.zone=A,this.elementReferenceKey=C,this.enableSignalsSupport=$}attachViewToDom(P,g,p,A){return this.zone.run(()=>new Promise(C=>{const $={...p};void 0!==this.elementReferenceKey&&($[this.elementReferenceKey]=P),C(Vo(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,P,g,$,A,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(P,g){return this.zone.run(()=>new Promise(p=>{const A=this.elRefMap.get(g);if(A){A.destroy(),this.elRefMap.delete(g);const C=this.elEventsMap.get(g);C&&(C(),this.elEventsMap.delete(g))}p()}))}}const Vo=(I,P,g,p,A,C,$,te,ve,pt,an,kn)=>{const Qn=v.zZn.create({providers:ye(ve),parent:g}),An=(0,v.a0P)(te,{environmentInjector:P,elementInjector:Qn}),Yn=An.instance,$n=An.location.nativeElement;if(ve)if(an&&void 0!==Yn[an]&&console.error(`[Ionic Error]: ${an} is a reserved property when using ${$.tagName.toLowerCase()}. Rename or remove the "${an}" property from ${te.name}.`),!0===kn&&void 0!==An.setInput){const{modal:ur,popover:Lt,...dn}=ve;for(const wr in dn)An.setInput(wr,dn[wr]);void 0!==ur&&Object.assign(Yn,{modal:ur}),void 0!==Lt&&Object.assign(Yn,{popover:Lt})}else Object.assign(Yn,ve);if(pt)for(const ur of pt)$n.classList.add(ur);const xr=ui(I,Yn,$n);return $.appendChild($n),p.attachView(An.hostView),A.set($n,An),C.set($n,xr),$n},qi=[ge.L,ge.a,ge.b,ge.c,ge.d],ui=(I,P,g)=>I.run(()=>{const p=qi.filter(A=>"function"==typeof P[A]).map(A=>{const C=$=>P[A]($.detail);return g.addEventListener(A,C),()=>g.removeEventListener(A,C)});return()=>p.forEach(A=>A())}),Ae=new v.nKC("NavParamsToken"),ye=I=>[{provide:Ae,useValue:I},{provide:gr,useFactory:Je,deps:[Ae]}],Je=I=>new gr(I),Js=(I,P)=>((I=I.filter(g=>g.stackId!==P.stackId)).push(P),I),Tn=(I,P)=>{const g=I.createUrlTree(["."],{relativeTo:P});return I.serializeUrl(g)},Li=(I,P)=>!P||I.stackId!==P.stackId,Vi=(I,P)=>{if(!I)return;const g=Uo(P);for(let p=0;p<g.length;p++){if(p>=I.length)return g[p];if(g[p]!==I[p])return}},Uo=I=>I.split("/").map(P=>P.trim()).filter(P=>""!==P),Ao=I=>{I&&(I.ref.destroy(),I.unlistenEvents())};class qn{constructor(P,g,p,A,C,$){M(this,"containerEl",void 0),M(this,"router",void 0),M(this,"navCtrl",void 0),M(this,"zone",void 0),M(this,"location",void 0),M(this,"views",[]),M(this,"runningTask",void 0),M(this,"skipTransition",!1),M(this,"tabsPrefix",void 0),M(this,"activeView",void 0),M(this,"nextId",0),this.containerEl=g,this.router=p,this.navCtrl=A,this.zone=C,this.location=$,this.tabsPrefix=void 0!==P?Uo(P):void 0}createView(P,g){var p;const A=Tn(this.router,g),C=null==P||null===(p=P.location)||void 0===p?void 0:p.nativeElement,$=ui(this.zone,P.instance,C);return{id:this.nextId++,stackId:Vi(this.tabsPrefix,A),unlistenEvents:$,element:C,ref:P,url:A}}getExistingView(P){const g=Tn(this.router,P),p=this.views.find(A=>A.url===g);return p&&p.ref.changeDetectorRef.reattach(),p}setActive(P){var g,p;const A=this.navCtrl.consumeTransition();let{direction:C,animation:$,animationBuilder:te}=A;const ve=this.activeView,pt=Li(P,ve);pt&&(C="back",$=void 0);const an=this.views.slice();let kn;const Qn=this.router;Qn.getCurrentNavigation?kn=Qn.getCurrentNavigation():null!==(g=Qn.navigations)&&void 0!==g&&g.value&&(kn=Qn.navigations.value),null!==(p=kn)&&void 0!==p&&null!==(p=p.extras)&&void 0!==p&&p.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const An=this.views.includes(P),Yn=this.insertView(P,C);An||P.ref.changeDetectorRef.detectChanges();const $n=P.animationBuilder;return void 0===te&&"back"===C&&!pt&&void 0!==$n&&(te=$n),ve&&(ve.animationBuilder=te),this.zone.runOutsideAngular(()=>this.wait(()=>(ve&&ve.ref.changeDetectorRef.detach(),P.ref.changeDetectorRef.reattach(),this.transition(P,ve,$,this.canGoBack(1),!1,te).then(()=>Bo(P,Yn,an,this.location,this.zone)).then(()=>({enteringView:P,direction:C,animation:$,tabSwitch:pt})))))}canGoBack(P,g=this.getActiveStackId()){return this.getStack(g).length>P}pop(P,g=this.getActiveStackId()){return this.zone.run(()=>{const p=this.getStack(g);if(p.length<=P)return Promise.resolve(!1);const A=p[p.length-P-1];let C=A.url;const $=A.savedData;if($){var te;const pt=$.get("primary");null!=pt&&null!==(te=pt.route)&&void 0!==te&&null!==(te=te._routerState)&&void 0!==te&&te.snapshot.url&&(C=pt.route._routerState.snapshot.url)}const{animationBuilder:ve}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(C,{...A.savedExtras,animation:ve}).then(()=>!0)})}startBackTransition(){const P=this.activeView;if(P){const g=this.getStack(P.stackId),p=g[g.length-2],A=p.animationBuilder;return this.wait(()=>this.transition(p,P,"back",this.canGoBack(2),!0,A))}return Promise.resolve()}endBackTransition(P){P?(this.skipTransition=!0,this.pop(1)):this.activeView&&So(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(P){const g=this.getStack(P);return g.length>0?g[g.length-1]:void 0}getRootUrl(P){const g=this.getStack(P);return g.length>0?g[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ao),this.activeView=void 0,this.views=[]}getStack(P){return this.views.filter(g=>g.stackId===P)}insertView(P,g){return this.activeView=P,this.views=((I,P,g)=>"root"===g?Js(I,P):"forward"===g?((I,P)=>(I.indexOf(P)>=0?I=I.filter(p=>p.stackId!==P.stackId||p.id<=P.id):I.push(P),I))(I,P):((I,P)=>I.indexOf(P)>=0?I.filter(p=>p.stackId!==P.stackId||p.id<=P.id):Js(I,P))(I,P))(this.views,P,g),this.views.slice()}transition(P,g,p,A,C,$){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(g===P)return Promise.resolve(!1);const te=P?P.element:void 0,ve=g?g.element:void 0,pt=this.containerEl;return te&&te!==ve&&(te.classList.add("ion-page"),te.classList.add("ion-page-invisible"),pt.commit)?pt.commit(te,ve,{duration:void 0===p?0:void 0,direction:p,showGoBack:A,progressAnimation:C,animationBuilder:$}):Promise.resolve(!1)}wait(P){var g=this;return(0,re.A)(function*(){void 0!==g.runningTask&&(yield g.runningTask,g.runningTask=void 0);const p=g.runningTask=P();return p.finally(()=>g.runningTask=void 0),p})()}}const Bo=(I,P,g,p,A)=>"function"==typeof requestAnimationFrame?new Promise(C=>{requestAnimationFrame(()=>{So(I,P,g,p,A),C()})}):Promise.resolve(),So=(I,P,g,p,A)=>{A.run(()=>g.filter(C=>!P.includes(C)).forEach(Ao)),P.forEach(C=>{const te=p.path().split("?")[0].split("#")[0];if(C!==I&&C.url!==te){const ve=C.element;ve.setAttribute("aria-hidden","true"),ve.classList.add("ion-page-hidden"),C.ref.changeDetectorRef.detach()}})};let Ki=(()=>{var I;class P{get activatedComponentRef(){return this.activated}set animation(p){this.nativeEl.animation=p}set animated(p){this.nativeEl.animated=p}set swipeGesture(p){this._swipeGesture=p,this.nativeEl.swipeHandler=p?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:A=>this.stackCtrl.endBackTransition(A)}:void 0}constructor(p,A,C,$,te,ve,pt,an){M(this,"parentOutlet",void 0),M(this,"nativeEl",void 0),M(this,"activatedView",null),M(this,"tabsPrefix",void 0),M(this,"_swipeGesture",void 0),M(this,"stackCtrl",void 0),M(this,"proxyMap",new WeakMap),M(this,"currentActivatedRoute$",new xn.t(null)),M(this,"activated",null),M(this,"_activatedRoute",null),M(this,"name",De.Xk),M(this,"stackWillChange",new v.bkB),M(this,"stackDidChange",new v.bkB),M(this,"activateEvents",new v.bkB),M(this,"deactivateEvents",new v.bkB),M(this,"parentContexts",(0,v.WQX)(De.Zp)),M(this,"location",(0,v.WQX)(v.c1b)),M(this,"environmentInjector",(0,v.WQX)(v.uvJ)),M(this,"inputBinder",(0,v.WQX)(Do,{optional:!0})),M(this,"supportsBindingToComponentInputs",!0),M(this,"config",(0,v.WQX)(Wi)),M(this,"navCtrl",(0,v.WQX)(qr)),this.parentOutlet=an,this.nativeEl=$.nativeElement,this.name=p||De.Xk,this.tabsPrefix="true"===A?Tn(te,pt):void 0,this.stackCtrl=new qn(this.tabsPrefix,this.nativeEl,te,this.navCtrl,ve,C),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var p;this.stackCtrl.destroy(),null===(p=this.inputBinder)||void 0===p||p.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const p=this.getContext();null!=p&&p.route&&this.activateWith(p.route,p.injector)}new Promise(p=>((I,P)=>{I.componentOnReady?I.componentOnReady().then(g=>P(g)):(I=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(I):"function"==typeof requestAnimationFrame?requestAnimationFrame(I):setTimeout(I)})(()=>P(I))})(this.nativeEl,p)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(p,A){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const A=this.getContext();this.activatedView.savedData=new Map(A.children.contexts);const C=this.activatedView.savedData.get("primary");if(C&&A.route&&(C.route={...A.route}),this.activatedView.savedExtras={},A.route){const $=A.route.snapshot;this.activatedView.savedExtras.queryParams=$.queryParams,this.activatedView.savedExtras.fragment=$.fragment}}const p=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(p)}}activateWith(p,A){var C;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=p;let $,te=this.stackCtrl.getExistingView(p);if(te){$=this.activated=te.ref;const an=te.savedData;an&&(this.getContext().children.contexts=an),this.updateActivatedRouteProxy($.instance,p)}else{var ve;const an=p._futureSnapshot,kn=this.parentContexts.getOrCreateContext(this.name).children,Qn=new xn.t(null),An=this.createActivatedRouteProxy(Qn,p),Yn=new _i(An,kn,this.location.injector),$n=null!==(ve=an.routeConfig.component)&&void 0!==ve?ve:an.component;$=this.activated=this.outletContent.createComponent($n,{index:this.outletContent.length,injector:Yn,environmentInjector:null!=A?A:this.environmentInjector}),Qn.next($.instance),te=this.stackCtrl.createView(this.activated,p),this.proxyMap.set($.instance,An),this.currentActivatedRoute$.next({component:$.instance,activatedRoute:p})}null===(C=this.inputBinder)||void 0===C||C.bindActivatedRouteToOutletComponent(this),this.activatedView=te,this.navCtrl.setTopOutlet(this);const pt=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:te,tabSwitch:Li(te,pt)}),this.stackCtrl.setActive(te).then(an=>{this.activateEvents.emit($.instance),this.stackDidChange.emit(an)})}canGoBack(p=1,A){return this.stackCtrl.canGoBack(p,A)}pop(p=1,A){return this.stackCtrl.pop(p,A)}getLastUrl(p){const A=this.stackCtrl.getLastUrl(p);return A?A.url:void 0}getLastRouteView(p){return this.stackCtrl.getLastUrl(p)}getRootView(p){return this.stackCtrl.getRootUrl(p)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(p,A){const C=new De.nX;return C._futureSnapshot=A._futureSnapshot,C._routerState=A._routerState,C.snapshot=A.snapshot,C.outlet=A.outlet,C.component=A.component,C._paramMap=this.proxyObservable(p,"paramMap"),C._queryParamMap=this.proxyObservable(p,"queryParamMap"),C.url=this.proxyObservable(p,"url"),C.params=this.proxyObservable(p,"params"),C.queryParams=this.proxyObservable(p,"queryParams"),C.fragment=this.proxyObservable(p,"fragment"),C.data=this.proxyObservable(p,"data"),C}proxyObservable(p,A){return p.pipe((0,rr.p)(C=>!!C),(0,Ht.n)(C=>this.currentActivatedRoute$.pipe((0,rr.p)($=>null!==$&&$.component===C),(0,Ht.n)($=>$&&$.activatedRoute[A]),function Gt(I,P=Pe.D){return I=null!=I?I:Bn,(0,Ze.N)((g,p)=>{let A,C=!0;g.subscribe((0,et._)(p,$=>{const te=P($);(C||!I(A,te))&&(C=!1,A=te,p.next($))}))})}())))}updateActivatedRouteProxy(p,A){const C=this.proxyMap.get(p);if(!C)throw new Error("Could not find activated route proxy for view");C._futureSnapshot=A._futureSnapshot,C._routerState=A._routerState,C.snapshot=A.snapshot,C.outlet=A.outlet,C.component=A.component,this.currentActivatedRoute$.next({component:p,activatedRoute:A})}}return I=P,M(P,"\u0275fac",function(p){return new(p||I)(v.kS0("name"),v.kS0("tabs"),v.rXU(Ge.aZ),v.rXU(v.aKT),v.rXU(De.Ix),v.rXU(v.SKi),v.rXU(De.nX),v.rXU(I,12))}),M(P,"\u0275dir",v.FsC({type:I,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),P})();class _i{constructor(P,g,p){M(this,"route",void 0),M(this,"childContexts",void 0),M(this,"parent",void 0),this.route=P,this.childContexts=g,this.parent=p}get(P,g){return P===De.nX?this.route:P===De.Zp?this.childContexts:this.parent.get(P,g)}}const Do=new v.nKC("");let zo=(()=>{var I;class P{constructor(){M(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(p){this.unsubscribeFromRouteData(p),this.subscribeToRouteData(p)}unsubscribeFromRouteData(p){var A;null===(A=this.outletDataSubscriptions.get(p))||void 0===A||A.unsubscribe(),this.outletDataSubscriptions.delete(p)}subscribeToRouteData(p){const{activatedRoute:A}=p,C=(0,er.z)([A.queryParams,A.params,A.data]).pipe((0,Ht.n)(([$,te,ve],pt)=>(ve={...$,...te,...ve},0===pt?(0,In.of)(ve):Promise.resolve(ve)))).subscribe($=>{if(!p.isActivated||!p.activatedComponentRef||p.activatedRoute!==A||null===A.component)return void this.unsubscribeFromRouteData(p);const te=(0,v.HJs)(A.component);if(te)for(const{templateName:ve}of te.inputs)p.activatedComponentRef.setInput(ve,$[ve]);else this.unsubscribeFromRouteData(p)});this.outletDataSubscriptions.set(p,C)}}return I=P,M(P,"\u0275fac",function(p){return new(p||I)}),M(P,"\u0275prov",v.jDH({token:I,factory:I.\u0275fac})),P})();function Ro(I){return null!=I&&I.componentInputBindingEnabled?new zo:null}let On=(()=>{var I;class P{constructor(p,A,C,$,te){M(this,"locationStrategy",void 0),M(this,"navCtrl",void 0),M(this,"elementRef",void 0),M(this,"router",void 0),M(this,"routerLink",void 0),M(this,"routerDirection","forward"),M(this,"routerAnimation",void 0),this.locationStrategy=p,this.navCtrl=A,this.elementRef=C,this.router=$,this.routerLink=te}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var p;if(null!==(p=this.routerLink)&&void 0!==p&&p.urlTree){const A=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=A}}onClick(p){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),p.preventDefault()}}return I=P,M(P,"\u0275fac",function(p){return new(p||I)(v.rXU(Ge.hb),v.rXU(qr),v.rXU(v.aKT),v.rXU(De.Ix),v.rXU(De.Wk,8))}),M(P,"\u0275dir",v.FsC({type:I,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(p,A){1&p&&v.bIt("click",function($){return A.onClick($)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[v.OA$]})),P})();const Zs=I=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(I):"function"==typeof requestAnimationFrame?requestAnimationFrame(I):setTimeout(I);class Di{constructor(P){M(this,"ctrl",void 0),this.ctrl=P}create(P){return this.ctrl.create(P||{})}dismiss(P,g,p){return this.ctrl.dismiss(P,g,p)}getTop(){return this.ctrl.getTop()}}ee(9986),ee(2725),ee(8454),ee(3314),ee(8607);var Er=ee(3664),yn=ee(464),ts=(ee(5465),ee(6002)),ta=(ee(8476),ee(9672));ee(1970),ee(6411);const jr=Er.i,Qa=function(){var I=(0,re.A)(function*(P,g){if(!(typeof window>"u"))return yield jr(),(0,ta.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),g)});return function(g,p){return I.apply(this,arguments)}}(),gt=["*"],Sa=["outletContent"],Ui=(I,P)=>{const g=I.prototype;P.forEach(p=>{Object.defineProperty(g,p,{get(){return this.el[p]},set(A){this.z.runOutsideAngular(()=>this.el[p]=A)},configurable:!0})})},ns=(I,P)=>{const g=I.prototype;P.forEach(p=>{g[p]=function(){const A=arguments;return this.z.runOutsideAngular(()=>this.el[p].apply(this.el,A))}})};function U(I){return function(g){const{defineCustomElementFn:p,inputs:A,methods:C}=I;return void 0!==p&&p(),A&&Ui(g,A),C&&ns(g,C),g}}let Ie=(()=>{var I;let P=(I=class{constructor(p,A,C){M(this,"z",void 0),M(this,"el",void 0),this.z=C,p.detach(),this.el=A.nativeElement}},M(I,"\u0275fac",function(p){return new(p||I)(v.rXU(v.gRc),v.rXU(v.aKT),v.rXU(v.SKi))}),M(I,"\u0275cmp",v.VBU({type:I,selectors:[["ion-app"]],ngContentSelectors:gt,decls:1,vars:0,template:function(p,A){1&p&&(v.NAR(),v.SdG(0))},encapsulation:2,changeDetection:0})),I);return P=(0,St.Cg)([U({})],P),P})(),Bi=(()=>{var I;let P=(I=class{constructor(p,A,C){M(this,"z",void 0),M(this,"el",void 0),this.z=C,p.detach(),this.el=A.nativeElement}},M(I,"\u0275fac",function(p){return new(p||I)(v.rXU(v.gRc),v.rXU(v.aKT),v.rXU(v.SKi))}),M(I,"\u0275cmp",v.VBU({type:I,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:gt,decls:1,vars:0,template:function(p,A){1&p&&(v.NAR(),v.SdG(0))},encapsulation:2,changeDetection:0})),I);return P=(0,St.Cg)([U({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],P),P})(),Sl=(()=>{var I;let P=(I=class{constructor(p,A,C){M(this,"z",void 0),M(this,"el",void 0),this.z=C,p.detach(),this.el=A.nativeElement}},M(I,"\u0275fac",function(p){return new(p||I)(v.rXU(v.gRc),v.rXU(v.aKT),v.rXU(v.SKi))}),M(I,"\u0275cmp",v.VBU({type:I,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:gt,decls:1,vars:0,template:function(p,A){1&p&&(v.NAR(),v.SdG(0))},encapsulation:2,changeDetection:0})),I);return P=(0,St.Cg)([U({inputs:["color","mode","position"]})],P),P})(),xi=(()=>{var I;class P extends Ki{constructor(p,A,C,$,te,ve,pt,an){super(p,A,C,$,te,ve,pt,an),M(this,"parentOutlet",void 0),M(this,"outletContent",void 0),this.parentOutlet=an}}return I=P,M(P,"\u0275fac",function(p){return new(p||I)(v.kS0("name"),v.kS0("tabs"),v.rXU(Ge.aZ),v.rXU(v.aKT),v.rXU(De.Ix),v.rXU(v.SKi),v.rXU(De.nX),v.rXU(I,12))}),M(P,"\u0275cmp",v.VBU({type:I,selectors:[["ion-router-outlet"]],viewQuery:function(p,A){if(1&p&&v.GBs(Sa,7,v.c1b),2&p){let C;v.mGM(C=v.lsd())&&(A.outletContent=C.first)}},features:[v.Vt3],ngContentSelectors:gt,decls:3,vars:0,consts:[["outletContent",""]],template:function(p,A){1&p&&(v.NAR(),v.qex(0,null,0),v.SdG(2),v.bVm())},encapsulation:2})),P})(),dc=(()=>{var I;class P extends On{}return I=P,M(P,"\u0275fac",(()=>{let g;return function(A){return(g||(g=v.xGo(I)))(A||I)}})()),M(P,"\u0275dir",v.FsC({type:I,selectors:[["","routerLink","",5,"a",5,"area"]],features:[v.Vt3]})),P})();const Wc={provide:He.cz,useExisting:(0,v.Rfq)(()=>xl),multi:!0};let xl=(()=>{var I;class P extends He.zX{}return I=P,M(P,"\u0275fac",(()=>{let g;return function(A){return(g||(g=v.xGo(I)))(A||I)}})()),M(P,"\u0275dir",v.FsC({type:I,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(p,A){2&p&&v.BMQ("max",A._enabled?A.max:null)},features:[v.Jv_([Wc]),v.Vt3]})),P})();const hc={provide:He.cz,useExisting:(0,v.Rfq)(()=>Vr),multi:!0};let Vr=(()=>{var I;class P extends He.VZ{}return I=P,M(P,"\u0275fac",(()=>{let g;return function(A){return(g||(g=v.xGo(I)))(A||I)}})()),M(P,"\u0275dir",v.FsC({type:I,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(p,A){2&p&&v.BMQ("min",A._enabled?A.min:null)},features:[v.Jv_([hc]),v.Vt3]})),P})(),nd=(()=>{var I;class P extends Di{constructor(){super(ts.m),M(this,"angularDelegate",(0,v.WQX)(pn)),M(this,"injector",(0,v.WQX)(v.zZn)),M(this,"environmentInjector",(0,v.WQX)(v.uvJ))}create(p){return super.create({...p,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return I=P,M(P,"\u0275fac",function(p){return new(p||I)}),M(P,"\u0275prov",v.jDH({token:I,factory:I.\u0275fac})),P})();class el extends Di{constructor(){super(ts.c),M(this,"angularDelegate",(0,v.WQX)(pn)),M(this,"injector",(0,v.WQX)(v.zZn)),M(this,"environmentInjector",(0,v.WQX)(v.uvJ))}create(P){return super.create({...P,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let tl=(()=>{var I;class P extends Di{constructor(){super(ts.t)}}return I=P,M(P,"\u0275fac",function(p){return new(p||I)}),M(P,"\u0275prov",v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})),P})();const rd=(I,P,g)=>()=>{const p=P.defaultView;if(p&&typeof window<"u"){(0,yn.s)({...I,_zoneGate:C=>g.run(C)});const A="__zone_symbol__addEventListener"in P.body?"__zone_symbol__addEventListener":"addEventListener";return function Fn(){var I=[];if(typeof window<"u"){var P=window;(!P.customElements||P.Element&&(!P.Element.prototype.closest||!P.Element.prototype.matches||!P.Element.prototype.remove||!P.Element.prototype.getRootNode))&&I.push(ee.e(7278).then(ee.t.bind(ee,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||P.NodeList&&!P.NodeList.prototype.forEach||!P.fetch||!function(){try{var p=new URL("b","http://a");return p.pathname="c%20d","http://a/c%20d"===p.href&&p.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&I.push(ee.e(9329).then(ee.t.bind(ee,7783,23)))}return Promise.all(I)}().then(()=>Qa(p,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Zs,jmp:C=>g.runOutsideAngular(C),ael(C,$,te,ve){C[A]($,te,ve)},rel(C,$,te,ve){C.removeEventListener($,te,ve)}}))}};let Vs=(()=>{var I;class P{static forRoot(p={}){return{ngModule:P,providers:[{provide:jn,useValue:p},{provide:v.hnV,useFactory:rd,multi:!0,deps:[jn,Ge.qQ,v.SKi]},pn,{provide:Do,useFactory:Ro,deps:[De.Ix]}]}}}return I=P,M(P,"\u0275fac",function(p){return new(p||I)}),M(P,"\u0275mod",v.$C({type:I})),M(P,"\u0275inj",v.G2t({providers:[nd,el],imports:[Ge.MD]})),P})()},467:(hn,Ct,ee)=>{"use strict";function x(u,M,v,He,re,De,Ge){try{var qe=u[De](Ge),ge=qe.value}catch(ke){return void v(ke)}qe.done?M(ge):Promise.resolve(ge).then(He,re)}function Q(u){return function(){var M=this,v=arguments;return new Promise(function(He,re){var De=u.apply(M,v);function Ge(ge){x(De,He,re,Ge,qe,"next",ge)}function qe(ge){x(De,He,re,Ge,qe,"throw",ge)}Ge(void 0)})}}ee.d(Ct,{A:()=>Q})},1635:(hn,Ct,ee)=>{"use strict";function M(Y,J){var ie={};for(var de in Y)Object.prototype.hasOwnProperty.call(Y,de)&&J.indexOf(de)<0&&(ie[de]=Y[de]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(de=Object.getOwnPropertySymbols(Y);Ue<de.length;Ue++)J.indexOf(de[Ue])<0&&Object.prototype.propertyIsEnumerable.call(Y,de[Ue])&&(ie[de[Ue]]=Y[de[Ue]])}return ie}function v(Y,J,ie,de){var mt,Ue=arguments.length,Le=Ue<3?J:null===de?de=Object.getOwnPropertyDescriptor(J,ie):de;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Le=Reflect.decorate(Y,J,ie,de);else for(var xt=Y.length-1;xt>=0;xt--)(mt=Y[xt])&&(Le=(Ue<3?mt(Le):Ue>3?mt(J,ie,Le):mt(J,ie))||Le);return Ue>3&&Le&&Object.defineProperty(J,ie,Le),Le}function ke(Y,J,ie,de){return new(ie||(ie=Promise))(function(Le,mt){function xt(mn){try{zt(de.next(mn))}catch(En){mt(En)}}function Sn(mn){try{zt(de.throw(mn))}catch(En){mt(En)}}function zt(mn){mn.done?Le(mn.value):function Ue(Le){return Le instanceof ie?Le:new ie(function(mt){mt(Le)})}(mn.value).then(xt,Sn)}zt((de=de.apply(Y,J||[])).next())})}function at(Y){return this instanceof at?(this.v=Y,this):new at(Y)}function pe(Y,J,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,de=ie.apply(Y,J||[]),Le=[];return Ue={},mt("next"),mt("throw"),mt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function mt(xn){de[xn]&&(Ue[xn]=function(er){return new Promise(function(In,St){Le.push([xn,er,In,St])>1||xt(xn,er)})})}function xt(xn,er){try{!function Sn(xn){xn.value instanceof at?Promise.resolve(xn.value.v).then(zt,mn):En(Le[0][2],xn)}(de[xn](er))}catch(In){En(Le[0][3],In)}}function zt(xn){xt("next",xn)}function mn(xn){xt("throw",xn)}function En(xn,er){xn(er),Le.shift(),Le.length&&xt(Le[0][0],Le[0][1])}}function ze(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,J=Y[Symbol.asyncIterator];return J?J.call(Y):(Y=function it(Y){var J="function"==typeof Symbol&&Symbol.iterator,ie=J&&Y[J],de=0;if(ie)return ie.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&de>=Y.length&&(Y=void 0),{value:Y&&Y[de++],done:!Y}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ie={},de("next"),de("throw"),de("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function de(Le){ie[Le]=Y[Le]&&function(mt){return new Promise(function(xt,Sn){!function Ue(Le,mt,xt,Sn){Promise.resolve(Sn).then(function(zt){Le({value:zt,done:xt})},mt)}(xt,Sn,(mt=Y[Le](mt)).done,mt.value)})}}}ee.d(Ct,{AQ:()=>pe,Cg:()=>v,N3:()=>at,Tt:()=>M,sH:()=>ke,xN:()=>ze}),"function"==typeof SuppressedError&&SuppressedError}},hn=>{hn(hn.s=9960)}]);