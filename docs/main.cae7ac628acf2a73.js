(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1076:(Kr,dn,Be)=>{"use strict";Be.d(dn,{$L:()=>bi,$g:()=>kn,A4:()=>et,Am:()=>si,As:()=>Sr,Bd:()=>nt,Cv:()=>Yi,FA:()=>sn,Fy:()=>wn,HN:()=>xi,Hk:()=>wt,I9:()=>lr,Im:()=>fr,K3:()=>tt,KA:()=>Nt,Ku:()=>Wt,Ll:()=>Dn,OE:()=>Wo,T9:()=>Tn,Uj:()=>Ut,XA:()=>bt,ZQ:()=>Yt,bD:()=>Pn,cY:()=>Vt,dI:()=>Mo,eX:()=>Fe,g:()=>bn,gR:()=>Di,gz:()=>Hr,hp:()=>di,jZ:()=>Cn,kH:()=>Pt,kj:()=>Qi,lT:()=>Kt,lV:()=>yr,nr:()=>st,oD:()=>ko,od:()=>Ro,qc:()=>kr,sr:()=>zn,tD:()=>Er,u:()=>Ct,vA:()=>e,yw:()=>Wi,zW:()=>we,zw:()=>vt});const w={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},e=function(Ye,rt){if(!Ye)throw wt(rt)},wt=function(Ye){return new Error("Firebase Database ("+w.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Ye)},ot=function(Ye){const rt=[];let St=0;for(let Fn=0;Fn<Ye.length;Fn++){let zt=Ye.charCodeAt(Fn);zt<128?rt[St++]=zt:zt<2048?(rt[St++]=zt>>6|192,rt[St++]=63&zt|128):55296==(64512&zt)&&Fn+1<Ye.length&&56320==(64512&Ye.charCodeAt(Fn+1))?(zt=65536+((1023&zt)<<10)+(1023&Ye.charCodeAt(++Fn)),rt[St++]=zt>>18|240,rt[St++]=zt>>12&63|128,rt[St++]=zt>>6&63|128,rt[St++]=63&zt|128):(rt[St++]=zt>>12|224,rt[St++]=zt>>6&63|128,rt[St++]=63&zt|128)}return rt},tt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ye,rt){if(!Array.isArray(Ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const St=rt?this.byteToCharMapWebSafe_:this.byteToCharMap_,Fn=[];for(let zt=0;zt<Ye.length;zt+=3){const gr=Ye[zt],Nr=zt+1<Ye.length,qr=Nr?Ye[zt+1]:0,ji=zt+2<Ye.length,$o=ji?Ye[zt+2]:0;let Fr=(15&qr)<<2|$o>>6,gs=63&$o;ji||(gs=64,Nr||(Fr=64)),Fn.push(St[gr>>2],St[(3&gr)<<4|qr>>4],St[Fr],St[gs])}return Fn.join("")},encodeString(Ye,rt){return this.HAS_NATIVE_SUPPORT&&!rt?btoa(Ye):this.encodeByteArray(ot(Ye),rt)},decodeString(Ye,rt){return this.HAS_NATIVE_SUPPORT&&!rt?atob(Ye):function(Ye){const rt=[];let St=0,Fn=0;for(;St<Ye.length;){const zt=Ye[St++];if(zt<128)rt[Fn++]=String.fromCharCode(zt);else if(zt>191&&zt<224){const gr=Ye[St++];rt[Fn++]=String.fromCharCode((31&zt)<<6|63&gr)}else if(zt>239&&zt<365){const ji=((7&zt)<<18|(63&Ye[St++])<<12|(63&Ye[St++])<<6|63&Ye[St++])-65536;rt[Fn++]=String.fromCharCode(55296+(ji>>10)),rt[Fn++]=String.fromCharCode(56320+(1023&ji))}else{const gr=Ye[St++],Nr=Ye[St++];rt[Fn++]=String.fromCharCode((15&zt)<<12|(63&gr)<<6|63&Nr)}}return rt.join("")}(this.decodeStringToByteArray(Ye,rt))},decodeStringToByteArray(Ye,rt){this.init_();const St=rt?this.charToByteMapWebSafe_:this.charToByteMap_,Fn=[];for(let zt=0;zt<Ye.length;){const gr=St[Ye.charAt(zt++)],qr=zt<Ye.length?St[Ye.charAt(zt)]:0;++zt;const $o=zt<Ye.length?St[Ye.charAt(zt)]:64;++zt;const ai=zt<Ye.length?St[Ye.charAt(zt)]:64;if(++zt,null==gr||null==qr||null==$o||null==ai)throw new Ze;Fn.push(gr<<2|qr>>4),64!==$o&&(Fn.push(qr<<4&240|$o>>2),64!==ai&&Fn.push($o<<6&192|ai))}return Fn},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ye=0;Ye<this.ENCODED_VALS.length;Ye++)this.byteToCharMap_[Ye]=this.ENCODED_VALS.charAt(Ye),this.charToByteMap_[this.byteToCharMap_[Ye]]=Ye,this.byteToCharMapWebSafe_[Ye]=this.ENCODED_VALS_WEBSAFE.charAt(Ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ye]]=Ye,Ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ye)]=Ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ye)]=Ye)}}};class Ze extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nt=function(Ye){const rt=ot(Ye);return tt.encodeByteArray(rt,!0)},Ut=function(Ye){return Nt(Ye).replace(/\./g,"")},Ct=function(Ye){try{return tt.decodeString(Ye,!0)}catch(rt){console.error("base64Decode failed: ",rt)}return null};function et(Ye){return vt(void 0,Ye)}function vt(Ye,rt){if(!(rt instanceof Object))return rt;switch(rt.constructor){case Date:return new Date(rt.getTime());case Object:void 0===Ye&&(Ye={});break;case Array:Ye=[];break;default:return rt}for(const St in rt)!rt.hasOwnProperty(St)||!Mt(St)||(Ye[St]=vt(Ye[St],rt[St]));return Ye}function Mt(Ye){return"__proto__"!==Ye}const tn=()=>{try{return function Ft(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ye=process.env.__FIREBASE_DEFAULTS__;return Ye?JSON.parse(Ye):void 0})()||(()=>{if(typeof document>"u")return;let Ye;try{Ye=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const rt=Ye&&Ct(Ye[1]);return rt&&JSON.parse(rt)})()}catch(Ye){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ye}`)}},Tn=()=>{var Ye;return null===(Ye=tn())||void 0===Ye?void 0:Ye.config},bt=Ye=>{var rt;return null===(rt=tn())||void 0===rt?void 0:rt[`_${Ye}`]};class Vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((rt,St)=>{this.resolve=rt,this.reject=St})}wrapCallback(rt){return(St,Fn)=>{St?this.reject(St):this.resolve(Fn),"function"==typeof rt&&(this.promise.catch(()=>{}),1===rt.length?rt(St):rt(St,Fn))}}}function wn(Ye,rt){if(Ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Fn=rt||"demo-project",zt=Ye.iat||0,gr=Ye.sub||Ye.user_id;if(!gr)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Nr=Object.assign({iss:`https://securetoken.google.com/${Fn}`,aud:Fn,iat:zt,exp:zt+3600,auth_time:zt,sub:gr,user_id:gr,firebase:{sign_in_provider:"custom",identities:{}}},Ye);return[Ut(JSON.stringify({alg:"none",type:"JWT"})),Ut(JSON.stringify(Nr)),""].join(".")}function Yt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Cn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function Dn(){var Ye;const rt=null===(Ye=tn())||void 0===Ye?void 0:Ye.forceEnvironment;if("node"===rt)return!0;if("browser"===rt)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function nt(){return"object"==typeof self&&self.self===self}function zn(){const Ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ye&&void 0!==Ye.id}function yr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Kt(){const Ye=Yt();return Ye.indexOf("MSIE ")>=0||Ye.indexOf("Trident/")>=0}function kn(){return!0===w.NODE_CLIENT||!0===w.NODE_ADMIN}function st(){return!Dn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function we(){try{return"object"==typeof indexedDB}catch{return!1}}function Fe(){return new Promise((Ye,rt)=>{try{let St=!0;const Fn="validate-browser-context-for-indexeddb-analytics-module",zt=self.indexedDB.open(Fn);zt.onsuccess=()=>{zt.result.close(),St||self.indexedDB.deleteDatabase(Fn),Ye(!0)},zt.onupgradeneeded=()=>{St=!1},zt.onerror=()=>{var gr;rt((null===(gr=zt.error)||void 0===gr?void 0:gr.message)||"")}}catch(St){rt(St)}})}class bn extends Error{constructor(rt,St,Fn){super(St),this.code=rt,this.customData=Fn,this.name="FirebaseError",Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sn.prototype.create)}}class sn{constructor(rt,St,Fn){this.service=rt,this.serviceName=St,this.errors=Fn}create(rt,...St){const Fn=St[0]||{},zt=`${this.service}/${rt}`,gr=this.errors[rt],Nr=gr?function Rn(Ye,rt){return Ye.replace(dr,(St,Fn)=>{const zt=rt[Fn];return null!=zt?String(zt):`<${Fn}?>`})}(gr,Fn):"Error";return new bn(zt,`${this.serviceName}: ${Nr} (${zt}).`,Fn)}}const dr=/\{\$([^}]+)}/g;function bi(Ye){return JSON.parse(Ye)}function Sr(Ye){return JSON.stringify(Ye)}const ui=function(Ye){let rt={},St={},Fn={},zt="";try{const gr=Ye.split(".");rt=bi(Ct(gr[0])||""),St=bi(Ct(gr[1])||""),zt=gr[2],Fn=St.d||{},delete St.d}catch{}return{header:rt,claims:St,data:Fn,signature:zt}},Yi=function(Ye){const St=ui(Ye).claims;return!!St&&"object"==typeof St&&St.hasOwnProperty("iat")},kr=function(Ye){const rt=ui(Ye).claims;return"object"==typeof rt&&!0===rt.admin};function Di(Ye,rt){return Object.prototype.hasOwnProperty.call(Ye,rt)}function Wi(Ye,rt){if(Object.prototype.hasOwnProperty.call(Ye,rt))return Ye[rt]}function fr(Ye){for(const rt in Ye)if(Object.prototype.hasOwnProperty.call(Ye,rt))return!1;return!0}function Pt(Ye,rt,St){const Fn={};for(const zt in Ye)Object.prototype.hasOwnProperty.call(Ye,zt)&&(Fn[zt]=rt.call(St,Ye[zt],zt,Ye));return Fn}function Pn(Ye,rt){if(Ye===rt)return!0;const St=Object.keys(Ye),Fn=Object.keys(rt);for(const zt of St){if(!Fn.includes(zt))return!1;const gr=Ye[zt],Nr=rt[zt];if(vn(gr)&&vn(Nr)){if(!Pn(gr,Nr))return!1}else if(gr!==Nr)return!1}for(const zt of Fn)if(!St.includes(zt))return!1;return!0}function vn(Ye){return null!==Ye&&"object"==typeof Ye}function si(Ye){const rt=[];for(const[St,Fn]of Object.entries(Ye))Array.isArray(Fn)?Fn.forEach(zt=>{rt.push(encodeURIComponent(St)+"="+encodeURIComponent(zt))}):rt.push(encodeURIComponent(St)+"="+encodeURIComponent(Fn));return rt.length?"&"+rt.join("&"):""}function lr(Ye){const rt={};return Ye.replace(/^\?/,"").split("&").forEach(Fn=>{if(Fn){const[zt,gr]=Fn.split("=");rt[decodeURIComponent(zt)]=decodeURIComponent(gr)}}),rt}function di(Ye){const rt=Ye.indexOf("?");if(!rt)return"";const St=Ye.indexOf("#",rt);return Ye.substring(rt,St>0?St:void 0)}class Hr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let rt=1;rt<this.blockSize;++rt)this.pad_[rt]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(rt,St){St||(St=0);const Fn=this.W_;if("string"==typeof rt)for(let ai=0;ai<16;ai++)Fn[ai]=rt.charCodeAt(St)<<24|rt.charCodeAt(St+1)<<16|rt.charCodeAt(St+2)<<8|rt.charCodeAt(St+3),St+=4;else for(let ai=0;ai<16;ai++)Fn[ai]=rt[St]<<24|rt[St+1]<<16|rt[St+2]<<8|rt[St+3],St+=4;for(let ai=16;ai<80;ai++){const Fr=Fn[ai-3]^Fn[ai-8]^Fn[ai-14]^Fn[ai-16];Fn[ai]=4294967295&(Fr<<1|Fr>>>31)}let $o,ks,zt=this.chain_[0],gr=this.chain_[1],Nr=this.chain_[2],qr=this.chain_[3],ji=this.chain_[4];for(let ai=0;ai<80;ai++){ai<40?ai<20?($o=qr^gr&(Nr^qr),ks=1518500249):($o=gr^Nr^qr,ks=1859775393):ai<60?($o=gr&Nr|qr&(gr|Nr),ks=2400959708):($o=gr^Nr^qr,ks=3395469782);const Fr=(zt<<5|zt>>>27)+$o+ji+ks+Fn[ai]&4294967295;ji=qr,qr=Nr,Nr=4294967295&(gr<<30|gr>>>2),gr=zt,zt=Fr}this.chain_[0]=this.chain_[0]+zt&4294967295,this.chain_[1]=this.chain_[1]+gr&4294967295,this.chain_[2]=this.chain_[2]+Nr&4294967295,this.chain_[3]=this.chain_[3]+qr&4294967295,this.chain_[4]=this.chain_[4]+ji&4294967295}update(rt,St){if(null==rt)return;void 0===St&&(St=rt.length);const Fn=St-this.blockSize;let zt=0;const gr=this.buf_;let Nr=this.inbuf_;for(;zt<St;){if(0===Nr)for(;zt<=Fn;)this.compress_(rt,zt),zt+=this.blockSize;if("string"==typeof rt){for(;zt<St;)if(gr[Nr]=rt.charCodeAt(zt),++Nr,++zt,Nr===this.blockSize){this.compress_(gr),Nr=0;break}}else for(;zt<St;)if(gr[Nr]=rt[zt],++Nr,++zt,Nr===this.blockSize){this.compress_(gr),Nr=0;break}}this.inbuf_=Nr,this.total_+=St}digest(){const rt=[];let St=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let zt=this.blockSize-1;zt>=56;zt--)this.buf_[zt]=255&St,St/=256;this.compress_(this.buf_);let Fn=0;for(let zt=0;zt<5;zt++)for(let gr=24;gr>=0;gr-=8)rt[Fn]=this.chain_[zt]>>gr&255,++Fn;return rt}}function Er(Ye,rt){const St=new ri(Ye,rt);return St.subscribe.bind(St)}class ri{constructor(rt,St){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=St,this.task.then(()=>{rt(this)}).catch(Fn=>{this.error(Fn)})}next(rt){this.forEachObserver(St=>{St.next(rt)})}error(rt){this.forEachObserver(St=>{St.error(rt)}),this.close(rt)}complete(){this.forEachObserver(rt=>{rt.complete()}),this.close()}subscribe(rt,St,Fn){let zt;if(void 0===rt&&void 0===St&&void 0===Fn)throw new Error("Missing Observer.");zt=function uo(Ye,rt){if("object"!=typeof Ye||null===Ye)return!1;for(const St of rt)if(St in Ye&&"function"==typeof Ye[St])return!0;return!1}(rt,["next","error","complete"])?rt:{next:rt,error:St,complete:Fn},void 0===zt.next&&(zt.next=_o),void 0===zt.error&&(zt.error=_o),void 0===zt.complete&&(zt.complete=_o);const gr=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?zt.error(this.finalError):zt.complete()}catch{}}),this.observers.push(zt),gr}unsubscribeOne(rt){void 0===this.observers||void 0===this.observers[rt]||(delete this.observers[rt],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(rt){if(!this.finalized)for(let St=0;St<this.observers.length;St++)this.sendOne(St,rt)}sendOne(rt,St){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[rt])try{St(this.observers[rt])}catch(Fn){typeof console<"u"&&console.error&&console.error(Fn)}})}close(rt){this.finalized||(this.finalized=!0,void 0!==rt&&(this.finalError=rt),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _o(){}const Ro=function(Ye,rt,St,Fn){let zt;if(Fn<rt?zt="at least "+rt:Fn>St&&(zt=0===St?"none":"no more than "+St),zt)throw new Error(Ye+" failed: Was called with "+Fn+(1===Fn?" argument.":" arguments.")+" Expects "+zt+".")};function Mo(Ye,rt){return`${Ye} failed: ${rt} argument `}function ko(Ye,rt,St,Fn){if((!Fn||St)&&"function"!=typeof St)throw new Error(Mo(Ye,rt)+"must be a valid function.")}function xi(Ye,rt,St,Fn){if((!Fn||St)&&("object"!=typeof St||null===St))throw new Error(Mo(Ye,rt)+"must be a valid context object.")}const Qi=function(Ye){const rt=[];let St=0;for(let Fn=0;Fn<Ye.length;Fn++){let zt=Ye.charCodeAt(Fn);if(zt>=55296&&zt<=56319){const gr=zt-55296;Fn++,e(Fn<Ye.length,"Surrogate pair missing trail surrogate."),zt=65536+(gr<<10)+(Ye.charCodeAt(Fn)-56320)}zt<128?rt[St++]=zt:zt<2048?(rt[St++]=zt>>6|192,rt[St++]=63&zt|128):zt<65536?(rt[St++]=zt>>12|224,rt[St++]=zt>>6&63|128,rt[St++]=63&zt|128):(rt[St++]=zt>>18|240,rt[St++]=zt>>12&63|128,rt[St++]=zt>>6&63|128,rt[St++]=63&zt|128)}return rt},Wo=function(Ye){let rt=0;for(let St=0;St<Ye.length;St++){const Fn=Ye.charCodeAt(St);Fn<128?rt++:Fn<2048?rt+=2:Fn>=55296&&Fn<=56319?(rt+=4,St++):rt+=3}return rt};function Wt(Ye){return Ye&&Ye._delegate?Ye._delegate:Ye}},4442:(Kr,dn,Be)=>{"use strict";Be.d(dn,{L:()=>Z,a:()=>tt,b:()=>Ze,c:()=>Nt,d:()=>Ut,g:()=>kn}),Be(5531);const Z="ionViewWillEnter",tt="ionViewDidEnter",Ze="ionViewWillLeave",Nt="ionViewDidLeave",Ut="ionViewWillUnload",kn=st=>st.classList.contains("ion-page")?st:st.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||st},5531:(Kr,dn,Be)=>{"use strict";Be.d(dn,{a:()=>Ct,c:()=>e,g:()=>Ut});class w{constructor(){this.m=new Map}reset(st){this.m=new Map(Object.entries(st))}get(st,we){const Fe=this.m.get(st);return void 0!==Fe?Fe:we}getBoolean(st,we=!1){const Fe=this.m.get(st);return void 0===Fe?we:"string"==typeof Fe?"true"===Fe:!!Fe}getNumber(st,we){const Fe=parseFloat(this.m.get(st));return isNaN(Fe)?void 0!==we?we:NaN:Fe}set(st,we){this.m.set(st,we)}}const e=new w,Ut=kn=>et(kn),Ct=(kn,st)=>("string"==typeof kn&&(st=kn,kn=void 0),Ut(kn).includes(st)),et=(kn=window)=>{if(typeof kn>"u")return[];kn.Ionic=kn.Ionic||{};let st=kn.Ionic.platforms;return null==st&&(st=kn.Ionic.platforms=vt(kn),st.forEach(we=>kn.document.documentElement.classList.add(`plt-${we}`))),st},vt=kn=>{const st=e.get("platform");return Object.keys(yr).filter(we=>{const Fe=null==st?void 0:st[we];return"function"==typeof Fe?Fe(kn):yr[we](kn)})},Ft=kn=>!!(nt(kn,/iPad/i)||nt(kn,/Macintosh/i)&&Tn(kn)),qt=kn=>nt(kn,/android|sink/i),Tn=kn=>zn(kn,"(any-pointer:coarse)"),Vt=kn=>wn(kn)||Yt(kn),wn=kn=>!!(kn.cordova||kn.phonegap||kn.PhoneGap),Yt=kn=>{const st=kn.Capacitor;return!(null==st||!st.isNative)},nt=(kn,st)=>st.test(kn.navigator.userAgent),zn=(kn,st)=>{var we;return null===(we=kn.matchMedia)||void 0===we?void 0:we.call(kn,st).matches},yr={ipad:Ft,iphone:kn=>nt(kn,/iPhone/i),ios:kn=>nt(kn,/iPhone|iPod/i)||Ft(kn),android:qt,phablet:kn=>{const st=kn.innerWidth,we=kn.innerHeight,Fe=Math.min(st,we),Le=Math.max(st,we);return Fe>390&&Fe<520&&Le>620&&Le<800},tablet:kn=>{const st=kn.innerWidth,we=kn.innerHeight,Fe=Math.min(st,we),Le=Math.max(st,we);return Ft(kn)||(kn=>qt(kn)&&!nt(kn,/mobile/i))(kn)||Fe>460&&Fe<820&&Le>780&&Le<1400},cordova:wn,capacitor:Yt,electron:kn=>nt(kn,/electron/i),pwa:kn=>{var st;return!!(null!==(st=kn.matchMedia)&&void 0!==st&&st.call(kn,"(display-mode: standalone)").matches||kn.navigator.standalone)},mobile:Tn,mobileweb:kn=>Tn(kn)&&!Vt(kn),desktop:kn=>!Tn(kn),hybrid:Vt}},9986:(Kr,dn,Be)=>{"use strict";Be.d(dn,{c:()=>tt});var w=Be(8476);let e;const ot=(Ze,Nt,Ut)=>{const Ct=Nt.startsWith("animation")?(Ze=>(void 0===e&&(e=void 0===Ze.style.animationName&&void 0!==Ze.style.webkitAnimationName?"-webkit-":""),e))(Ze):"";Ze.style.setProperty(Ct+Nt,Ut)},Z=(Ze=[],Nt)=>{if(void 0!==Nt){const Ut=Array.isArray(Nt)?Nt:[Nt];return[...Ze,...Ut]}return Ze},tt=Ze=>{let Nt,Ut,Ct,et,vt,Mt,tn,Cn,Dn,nt,Kt,Ft=[],An=[],mn=[],qt=!1,Un={},gn=[],Tn=[],bt={},Vt=0,wn=!1,Yt=!1,zn=!0,yr=!1,xr=!0,Vn=!1;const kn=Ze,st=[],we=[],Fe=[],Le=[],Rt=[],bn=[],sn=[],Rn=[],dr=[],bi=[],Sr=[],ui="function"==typeof AnimationEffect||void 0!==w.w&&"function"==typeof w.w.AnimationEffect,Ai="function"==typeof Element&&"function"==typeof Element.prototype.animate&&ui,Yn=()=>Sr,fr=(pn,pr)=>{const Xr=pr.findIndex(Dr=>Dr.c===pn);Xr>-1&&pr.splice(Xr,1)},Pn=(pn,pr)=>((null!=pr&&pr.oneTimeCallback?we:st).push({c:pn,o:pr}),Kt),$r=()=>{Ai&&(Sr.forEach(pn=>{pn.cancel()}),Sr.length=0)},si=()=>{bn.forEach(pn=>{null!=pn&&pn.parentNode&&pn.parentNode.removeChild(pn)}),bn.length=0},xi=()=>void 0!==vt?vt:tn?tn.getFill():"both",Qi=()=>void 0!==Cn?Cn:void 0!==Mt?Mt:tn?tn.getDirection():"normal",Wo=()=>wn?"linear":void 0!==Ct?Ct:tn?tn.getEasing():"linear",Wr=()=>Yt?0:void 0!==Dn?Dn:void 0!==Ut?Ut:tn?tn.getDuration():0,cn=()=>void 0!==et?et:tn?tn.getIterations():1,Co=()=>void 0!==nt?nt:void 0!==Nt?Nt:tn?tn.getDelay():0,ji=()=>{0!==Vt&&(Vt--,0===Vt&&((()=>{dr.forEach(ho=>ho()),bi.forEach(ho=>ho());const pn=zn?1:0,pr=gn,Xr=Tn,Dr=bt;Le.forEach(ho=>{const Yo=ho.classList;pr.forEach(va=>Yo.add(va)),Xr.forEach(va=>Yo.remove(va));for(const va in Dr)Dr.hasOwnProperty(va)&&ot(ho,va,Dr[va])}),Dn=void 0,Cn=void 0,nt=void 0,st.forEach(ho=>ho.c(pn,Kt)),we.forEach(ho=>ho.c(pn,Kt)),we.length=0,xr=!0,zn&&(yr=!0),zn=!0})(),tn&&tn.animationFinish()))},ks=()=>{(()=>{sn.forEach(Dr=>Dr()),Rn.forEach(Dr=>Dr());const pn=An,pr=mn,Xr=Un;Le.forEach(Dr=>{const ho=Dr.classList;pn.forEach(Yo=>ho.add(Yo)),pr.forEach(Yo=>ho.remove(Yo));for(const Yo in Xr)Xr.hasOwnProperty(Yo)&&ot(Dr,Yo,Xr[Yo])})})(),Ft.length>0&&Ai&&(Le.forEach(pn=>{const pr=pn.animate(Ft,{id:kn,delay:Co(),duration:Wr(),easing:Wo(),iterations:cn(),fill:xi(),direction:Qi()});pr.pause(),Sr.push(pr)}),Sr.length>0&&(Sr[0].onfinish=()=>{ji()})),qt=!0},ai=pn=>{pn=Math.min(Math.max(pn,0),.9999),Ai&&Sr.forEach(pr=>{pr.currentTime=pr.effect.getComputedTiming().delay+Wr()*pn,pr.pause()})},Fr=pn=>{Sr.forEach(pr=>{pr.effect.updateTiming({delay:Co(),duration:Wr(),easing:Wo(),iterations:cn(),fill:xi(),direction:Qi()})}),void 0!==pn&&ai(pn)},gs=(pn=!1,pr=!0,Xr)=>(pn&&Rt.forEach(Dr=>{Dr.update(pn,pr,Xr)}),Ai&&Fr(Xr),Kt),nl=()=>{qt&&(Ai?Sr.forEach(pn=>{pn.pause()}):Le.forEach(pn=>{ot(pn,"animation-play-state","paused")}),Vn=!0)},Nn=pn=>new Promise(pr=>{null!=pn&&pn.sync&&(Yt=!0,Pn(()=>Yt=!1,{oneTimeCallback:!0})),qt||ks(),yr&&(Ai&&(ai(0),Fr()),yr=!1),xr&&(Vt=Rt.length+1,xr=!1);const Xr=()=>{fr(Dr,we),pr()},Dr=()=>{fr(Xr,Fe),pr()};Pn(Dr,{oneTimeCallback:!0}),((pn,pr)=>{Fe.push({c:pn,o:{oneTimeCallback:!0}})})(Xr),Rt.forEach(ho=>{ho.play()}),Ai?(Sr.forEach(pn=>{pn.play()}),(0===Ft.length||0===Le.length)&&ji()):ji(),Vn=!1}),tr=(pn,pr)=>{const Xr=Ft[0];return void 0===Xr||void 0!==Xr.offset&&0!==Xr.offset?Ft=[{offset:0,[pn]:pr},...Ft]:Xr[pn]=pr,Kt};return Kt={parentAnimation:tn,elements:Le,childAnimations:Rt,id:kn,animationFinish:ji,from:tr,to:(pn,pr)=>{const Xr=Ft[Ft.length-1];return void 0===Xr||void 0!==Xr.offset&&1!==Xr.offset?Ft=[...Ft,{offset:1,[pn]:pr}]:Xr[pn]=pr,Kt},fromTo:(pn,pr,Xr)=>tr(pn,pr).to(pn,Xr),parent:pn=>(tn=pn,Kt),play:Nn,pause:()=>(Rt.forEach(pn=>{pn.pause()}),nl(),Kt),stop:()=>{Rt.forEach(pn=>{pn.stop()}),qt&&($r(),qt=!1),wn=!1,Yt=!1,xr=!0,Cn=void 0,Dn=void 0,nt=void 0,Vt=0,yr=!1,zn=!0,Vn=!1,Fe.forEach(pn=>pn.c(0,Kt)),Fe.length=0},destroy:pn=>(Rt.forEach(pr=>{pr.destroy(pn)}),(pn=>{$r(),pn&&si()})(pn),Le.length=0,Rt.length=0,Ft.length=0,st.length=0,we.length=0,qt=!1,xr=!0,Kt),keyframes:pn=>{const pr=Ft!==pn;return Ft=pn,pr&&(pn=>{Ai&&Yn().forEach(pr=>{const Xr=pr.effect;if(Xr.setKeyframes)Xr.setKeyframes(pn);else{const Dr=new KeyframeEffect(Xr.target,pn,Xr.getTiming());pr.effect=Dr}})})(Ft),Kt},addAnimation:pn=>{if(null!=pn)if(Array.isArray(pn))for(const pr of pn)pr.parent(Kt),Rt.push(pr);else pn.parent(Kt),Rt.push(pn);return Kt},addElement:pn=>{if(null!=pn)if(1===pn.nodeType)Le.push(pn);else if(pn.length>=0)for(let pr=0;pr<pn.length;pr++)Le.push(pn[pr]);else console.error("Invalid addElement value");return Kt},update:gs,fill:pn=>(vt=pn,gs(!0),Kt),direction:pn=>(Mt=pn,gs(!0),Kt),iterations:pn=>(et=pn,gs(!0),Kt),duration:pn=>(!Ai&&0===pn&&(pn=1),Ut=pn,gs(!0),Kt),easing:pn=>(Ct=pn,gs(!0),Kt),delay:pn=>(Nt=pn,gs(!0),Kt),getWebAnimations:Yn,getKeyframes:()=>Ft,getFill:xi,getDirection:Qi,getDelay:Co,getIterations:cn,getEasing:Wo,getDuration:Wr,afterAddRead:pn=>(dr.push(pn),Kt),afterAddWrite:pn=>(bi.push(pn),Kt),afterClearStyles:(pn=[])=>{for(const pr of pn)bt[pr]="";return Kt},afterStyles:(pn={})=>(bt=pn,Kt),afterRemoveClass:pn=>(Tn=Z(Tn,pn),Kt),afterAddClass:pn=>(gn=Z(gn,pn),Kt),beforeAddRead:pn=>(sn.push(pn),Kt),beforeAddWrite:pn=>(Rn.push(pn),Kt),beforeClearStyles:(pn=[])=>{for(const pr of pn)Un[pr]="";return Kt},beforeStyles:(pn={})=>(Un=pn,Kt),beforeRemoveClass:pn=>(mn=Z(mn,pn),Kt),beforeAddClass:pn=>(An=Z(An,pn),Kt),onFinish:Pn,isRunning:()=>0!==Vt&&!Vn,progressStart:(pn=!1,pr)=>(Rt.forEach(Xr=>{Xr.progressStart(pn,pr)}),nl(),wn=pn,qt||ks(),gs(!1,!0,pr),Kt),progressStep:pn=>(Rt.forEach(pr=>{pr.progressStep(pn)}),ai(pn),Kt),progressEnd:(pn,pr,Xr)=>(wn=!1,Rt.forEach(Dr=>{Dr.progressEnd(pn,pr,Xr)}),void 0!==Xr&&(Dn=Xr),yr=!1,zn=!0,0===pn?(Cn="reverse"===Qi()?"normal":"reverse","reverse"===Cn&&(zn=!1),Ai?(gs(),ai(1-pr)):(nt=(1-pr)*Wr()*-1,gs(!1,!1))):1===pn&&(Ai?(gs(),ai(pr)):(nt=pr*Wr()*-1,gs(!1,!1))),void 0!==pn&&!tn&&Nn(),Kt)}}},464:(Kr,dn,Be)=>{"use strict";Be.d(dn,{E:()=>Ct,a:()=>w,s:()=>Nt});const w=et=>{try{if(et instanceof Ze)return et.value;if(!ot()||"string"!=typeof et||""===et)return et;if(et.includes("onload="))return"";const vt=document.createDocumentFragment(),Mt=document.createElement("div");vt.appendChild(Mt),Mt.innerHTML=et,tt.forEach(qt=>{const tn=vt.querySelectorAll(qt);for(let Un=tn.length-1;Un>=0;Un--){const gn=tn[Un];gn.parentNode?gn.parentNode.removeChild(gn):vt.removeChild(gn);const Tn=wt(gn);for(let bt=0;bt<Tn.length;bt++)e(Tn[bt])}});const Ft=wt(vt);for(let qt=0;qt<Ft.length;qt++)e(Ft[qt]);const An=document.createElement("div");An.appendChild(vt);const mn=An.querySelector("div");return null!==mn?mn.innerHTML:An.innerHTML}catch(vt){return console.error(vt),""}},e=et=>{if(et.nodeType&&1!==et.nodeType)return;if(typeof NamedNodeMap<"u"&&!(et.attributes instanceof NamedNodeMap))return void et.remove();for(let Mt=et.attributes.length-1;Mt>=0;Mt--){const Ft=et.attributes.item(Mt),An=Ft.name;if(!Z.includes(An.toLowerCase())){et.removeAttribute(An);continue}const mn=Ft.value,qt=et[An];(null!=mn&&mn.toLowerCase().includes("javascript:")||null!=qt&&qt.toLowerCase().includes("javascript:"))&&et.removeAttribute(An)}const vt=wt(et);for(let Mt=0;Mt<vt.length;Mt++)e(vt[Mt])},wt=et=>null!=et.children?et.children:et.childNodes,ot=()=>{var et;const vt=window,Mt=null===(et=null==vt?void 0:vt.Ionic)||void 0===et?void 0:et.config;return!Mt||(Mt.get?Mt.get("sanitizerEnabled",!0):!0===Mt.sanitizerEnabled||void 0===Mt.sanitizerEnabled)},Z=["class","id","href","src","name","slot"],tt=["script","style","iframe","meta","link","object","embed"];class Ze{constructor(vt){this.value=vt}}const Nt=et=>{const vt=window,Mt=vt.Ionic;if(!Mt||!Mt.config||"Object"===Mt.config.constructor.name)return vt.Ionic=vt.Ionic||{},vt.Ionic.config=Object.assign(Object.assign({},vt.Ionic.config),et),vt.Ionic.config},Ct=!1},8621:(Kr,dn,Be)=>{"use strict";Be.d(dn,{C:()=>Z,a:()=>wt,d:()=>ot});var w=Be(467),e=Be(4920);const wt=function(){var tt=(0,w.A)(function*(Ze,Nt,Ut,Ct,et,vt){var Mt;if(Ze)return Ze.attachViewToDom(Nt,Ut,et,Ct);if(!(vt||"string"==typeof Ut||Ut instanceof HTMLElement))throw new Error("framework delegate is missing");const Ft="string"==typeof Ut?null===(Mt=Nt.ownerDocument)||void 0===Mt?void 0:Mt.createElement(Ut):Ut;return Ct&&Ct.forEach(An=>Ft.classList.add(An)),et&&Object.assign(Ft,et),Nt.appendChild(Ft),yield new Promise(An=>(0,e.c)(Ft,An)),Ft});return function(Nt,Ut,Ct,et,vt,Mt){return tt.apply(this,arguments)}}(),ot=(tt,Ze)=>{if(Ze){if(tt)return tt.removeViewFromDom(Ze.parentElement,Ze);Ze.remove()}return Promise.resolve()},Z=()=>{let tt,Ze;return{attachViewToDom:function(){var Ct=(0,w.A)(function*(et,vt,Mt={},Ft=[]){var An,mn;let qt;if(tt=et,vt){const Un="string"==typeof vt?null===(An=tt.ownerDocument)||void 0===An?void 0:An.createElement(vt):vt;Ft.forEach(gn=>Un.classList.add(gn)),Object.assign(Un,Mt),tt.appendChild(Un),qt=Un,yield new Promise(gn=>(0,e.c)(Un,gn))}else if(tt.children.length>0&&("ION-MODAL"===tt.tagName||"ION-POPOVER"===tt.tagName)&&!(qt=tt.children[0]).classList.contains("ion-delegate-host")){const gn=null===(mn=tt.ownerDocument)||void 0===mn?void 0:mn.createElement("div");gn.classList.add("ion-delegate-host"),Ft.forEach(Tn=>gn.classList.add(Tn)),gn.append(...tt.children),tt.appendChild(gn),qt=gn}const tn=document.querySelector("ion-app")||document.body;return Ze=document.createComment("ionic teleport"),tt.parentNode.insertBefore(Ze,tt),tn.appendChild(tt),null!=qt?qt:tt});return function(vt,Mt){return Ct.apply(this,arguments)}}(),removeViewFromDom:()=>(tt&&Ze&&(Ze.parentNode.insertBefore(tt,Ze),Ze.remove()),Promise.resolve())}}},1970:(Kr,dn,Be)=>{"use strict";Be.d(dn,{B:()=>ot,G:()=>Z});class e{constructor(Ze,Nt,Ut,Ct,et){this.id=Nt,this.name=Ut,this.disableScroll=et,this.priority=1e6*Ct+Nt,this.ctrl=Ze}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Ze=this.ctrl.capture(this.name,this.id,this.priority);return Ze&&this.disableScroll&&this.ctrl.disableScroll(this.id),Ze}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class wt{constructor(Ze,Nt,Ut,Ct){this.id=Nt,this.disable=Ut,this.disableScroll=Ct,this.ctrl=Ze}block(){if(this.ctrl){if(this.disable)for(const Ze of this.disable)this.ctrl.disableGesture(Ze,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Ze of this.disable)this.ctrl.enableGesture(Ze,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ot="backdrop-no-scroll",Z=new class w{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Ze){var Nt;return new e(this,this.newID(),Ze.name,null!==(Nt=Ze.priority)&&void 0!==Nt?Nt:0,!!Ze.disableScroll)}createBlocker(Ze={}){return new wt(this,this.newID(),Ze.disable,!!Ze.disableScroll)}start(Ze,Nt,Ut){return this.canStart(Ze)?(this.requestedStart.set(Nt,Ut),!0):(this.requestedStart.delete(Nt),!1)}capture(Ze,Nt,Ut){if(!this.start(Ze,Nt,Ut))return!1;const Ct=this.requestedStart;let et=-1e4;if(Ct.forEach(vt=>{et=Math.max(et,vt)}),et===Ut){this.capturedId=Nt,Ct.clear();const vt=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Ze}});return document.dispatchEvent(vt),!0}return Ct.delete(Nt),!1}release(Ze){this.requestedStart.delete(Ze),this.capturedId===Ze&&(this.capturedId=void 0)}disableGesture(Ze,Nt){let Ut=this.disabledGestures.get(Ze);void 0===Ut&&(Ut=new Set,this.disabledGestures.set(Ze,Ut)),Ut.add(Nt)}enableGesture(Ze,Nt){const Ut=this.disabledGestures.get(Ze);void 0!==Ut&&Ut.delete(Nt)}disableScroll(Ze){this.disabledScroll.add(Ze),1===this.disabledScroll.size&&document.body.classList.add(ot)}enableScroll(Ze){this.disabledScroll.delete(Ze),0===this.disabledScroll.size&&document.body.classList.remove(ot)}canStart(Ze){return!(void 0!==this.capturedId||this.isDisabled(Ze))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Ze){const Nt=this.disabledGestures.get(Ze);return!!(Nt&&Nt.size>0)}newID(){return this.gestureId++,this.gestureId}}},6411:(Kr,dn,Be)=>{"use strict";Be.r(dn),Be.d(dn,{MENU_BACK_BUTTON_PRIORITY:()=>Ut,OVERLAY_BACK_BUTTON_PRIORITY:()=>Nt,blockHardwareBackButton:()=>tt,shouldUseCloseWatcher:()=>Z,startHardwareBackButton:()=>Ze});var w=Be(467),e=Be(8476),wt=Be(3664);Be(9672);const Z=()=>wt.c.get("experimentalCloseWatcher",!1)&&void 0!==e.w&&"CloseWatcher"in e.w,tt=()=>{document.addEventListener("backbutton",()=>{})},Ze=()=>{const Ct=document;let et=!1;const vt=()=>{if(et)return;let Mt=0,Ft=[];const An=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(tn,Un){Ft.push({priority:tn,handler:Un,id:Mt++})}}});Ct.dispatchEvent(An);const mn=function(){var tn=(0,w.A)(function*(Un){try{if(null!=Un&&Un.handler){const gn=Un.handler(qt);null!=gn&&(yield gn)}}catch(gn){console.error(gn)}});return function(gn){return tn.apply(this,arguments)}}(),qt=()=>{if(Ft.length>0){let tn={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ft.forEach(Un=>{Un.priority>=tn.priority&&(tn=Un)}),et=!0,Ft=Ft.filter(Un=>Un.id!==tn.id),mn(tn).then(()=>et=!1)}};qt()};if(Z()){let Mt;const Ft=()=>{null==Mt||Mt.destroy(),Mt=new e.w.CloseWatcher,Mt.onclose=()=>{vt(),Ft()}};Ft()}else Ct.addEventListener("backbutton",vt)},Nt=100,Ut=99},4920:(Kr,dn,Be)=>{"use strict";Be.d(dn,{a:()=>Nt,b:()=>Ut,c:()=>wt,d:()=>Ft,e:()=>Un,f:()=>Mt,g:()=>Ct,h:()=>Z,i:()=>Ze,j:()=>An,k:()=>ot,l:()=>vt,m:()=>mn,n:()=>tn,o:()=>gn,p:()=>qt,r:()=>et,s:()=>Tn,t:()=>w});const w=(bt,Vt=0)=>new Promise(wn=>{e(bt,Vt,wn)}),e=(bt,Vt=0,wn)=>{let Yt,Cn;const Dn={passive:!0},zn=()=>{Yt&&Yt()},yr=xr=>{(void 0===xr||bt===xr.target)&&(zn(),wn(xr))};return bt&&(bt.addEventListener("webkitTransitionEnd",yr,Dn),bt.addEventListener("transitionend",yr,Dn),Cn=setTimeout(yr,Vt+500),Yt=()=>{void 0!==Cn&&(clearTimeout(Cn),Cn=void 0),bt.removeEventListener("webkitTransitionEnd",yr,Dn),bt.removeEventListener("transitionend",yr,Dn)}),zn},wt=(bt,Vt)=>{bt.componentOnReady?bt.componentOnReady().then(wn=>Vt(wn)):et(()=>Vt(bt))},ot=bt=>void 0!==bt.componentOnReady,Z=(bt,Vt=[])=>{const wn={};return Vt.forEach(Yt=>{bt.hasAttribute(Yt)&&(null!==bt.getAttribute(Yt)&&(wn[Yt]=bt.getAttribute(Yt)),bt.removeAttribute(Yt))}),wn},tt=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Ze=(bt,Vt)=>{let wn=tt;return Vt&&Vt.length>0&&(wn=wn.filter(Yt=>!Vt.includes(Yt))),Z(bt,wn)},Nt=(bt,Vt,wn,Yt)=>{var Cn;if(typeof window<"u"){const Dn=window,nt=null===(Cn=null==Dn?void 0:Dn.Ionic)||void 0===Cn?void 0:Cn.config;if(nt){const zn=nt.get("_ael");if(zn)return zn(bt,Vt,wn,Yt);if(nt._ael)return nt._ael(bt,Vt,wn,Yt)}}return bt.addEventListener(Vt,wn,Yt)},Ut=(bt,Vt,wn,Yt)=>{var Cn;if(typeof window<"u"){const Dn=window,nt=null===(Cn=null==Dn?void 0:Dn.Ionic)||void 0===Cn?void 0:Cn.config;if(nt){const zn=nt.get("_rel");if(zn)return zn(bt,Vt,wn,Yt);if(nt._rel)return nt._rel(bt,Vt,wn,Yt)}}return bt.removeEventListener(Vt,wn,Yt)},Ct=(bt,Vt=bt)=>bt.shadowRoot||Vt,et=bt=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(bt):"function"==typeof requestAnimationFrame?requestAnimationFrame(bt):setTimeout(bt),vt=bt=>!!bt.shadowRoot&&!!bt.attachShadow,Mt=bt=>{if(bt.focus(),bt.classList.contains("ion-focusable")){const Vt=bt.closest("ion-app");Vt&&Vt.setFocus([bt])}},Ft=(bt,Vt,wn,Yt,Cn)=>{if(bt||vt(Vt)){let Dn=Vt.querySelector("input.aux-input");Dn||(Dn=Vt.ownerDocument.createElement("input"),Dn.type="hidden",Dn.classList.add("aux-input"),Vt.appendChild(Dn)),Dn.disabled=Cn,Dn.name=wn,Dn.value=Yt||""}},An=(bt,Vt,wn)=>Math.max(bt,Math.min(Vt,wn)),mn=(bt,Vt)=>{if(!bt){const wn="ASSERT: "+Vt;throw console.error(wn),new Error(wn)}},qt=bt=>{if(bt){const Vt=bt.changedTouches;if(Vt&&Vt.length>0){const wn=Vt[0];return{x:wn.clientX,y:wn.clientY}}if(void 0!==bt.pageX)return{x:bt.pageX,y:bt.pageY}}return{x:0,y:0}},tn=bt=>{const Vt="rtl"===document.dir;switch(bt){case"start":return Vt;case"end":return!Vt;default:throw new Error(`"${bt}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Un=(bt,Vt)=>{const wn=bt._original||bt;return{_original:bt,emit:gn(wn.emit.bind(wn),Vt)}},gn=(bt,Vt=0)=>{let wn;return(...Yt)=>{clearTimeout(wn),wn=setTimeout(bt,Vt,...Yt)}},Tn=(bt,Vt)=>{if(null!=bt||(bt={}),null!=Vt||(Vt={}),bt===Vt)return!0;const wn=Object.keys(bt);if(wn.length!==Object.keys(Vt).length)return!1;for(const Yt of wn)if(!(Yt in Vt)||bt[Yt]!==Vt[Yt])return!1;return!0}},5465:(Kr,dn,Be)=>{"use strict";Be.d(dn,{m:()=>Mt});var w=Be(467),e=Be(8476),wt=Be(6411),ot=Be(4929),Z=Be(4920),tt=Be(3664),Ze=Be(9986);const Nt=Ft=>(0,Ze.c)().duration(Ft?400:300),Ut=Ft=>{let An,mn;const qt=Ft.width+8,tn=(0,Ze.c)(),Un=(0,Ze.c)();Ft.isEndSide?(An=qt+"px",mn="0px"):(An=-qt+"px",mn="0px"),tn.addElement(Ft.menuInnerEl).fromTo("transform",`translateX(${An})`,`translateX(${mn})`);const Tn="ios"===(0,tt.b)(Ft),bt=Tn?.2:.25;return Un.addElement(Ft.backdropEl).fromTo("opacity",.01,bt),Nt(Tn).addAnimation([tn,Un])},Ct=Ft=>{let An,mn;const qt=(0,tt.b)(Ft),tn=Ft.width;Ft.isEndSide?(An=-tn+"px",mn=tn+"px"):(An=tn+"px",mn=-tn+"px");const Un=(0,Ze.c)().addElement(Ft.menuInnerEl).fromTo("transform",`translateX(${mn})`,"translateX(0px)"),gn=(0,Ze.c)().addElement(Ft.contentEl).fromTo("transform","translateX(0px)",`translateX(${An})`),Tn=(0,Ze.c)().addElement(Ft.backdropEl).fromTo("opacity",.01,.32);return Nt("ios"===qt).addAnimation([Un,gn,Tn])},et=Ft=>{const An=(0,tt.b)(Ft),mn=Ft.width*(Ft.isEndSide?-1:1)+"px",qt=(0,Ze.c)().addElement(Ft.contentEl).fromTo("transform","translateX(0px)",`translateX(${mn})`);return Nt("ios"===An).addAnimation(qt)},Mt=(()=>{const Ft=new Map,An=[],mn=function(){var Fe=(0,w.A)(function*(Le){const Rt=yield Vt(Le,!0);return!!Rt&&Rt.open()});return function(Rt){return Fe.apply(this,arguments)}}(),qt=function(){var Fe=(0,w.A)(function*(Le){const Rt=yield void 0!==Le?Vt(Le,!0):wn();return void 0!==Rt&&Rt.close()});return function(Rt){return Fe.apply(this,arguments)}}(),tn=function(){var Fe=(0,w.A)(function*(Le){const Rt=yield Vt(Le,!0);return!!Rt&&Rt.toggle()});return function(Rt){return Fe.apply(this,arguments)}}(),Un=function(){var Fe=(0,w.A)(function*(Le,Rt){const bn=yield Vt(Rt);return bn&&(bn.disabled=!Le),bn});return function(Rt,bn){return Fe.apply(this,arguments)}}(),gn=function(){var Fe=(0,w.A)(function*(Le,Rt){const bn=yield Vt(Rt);return bn&&(bn.swipeGesture=Le),bn});return function(Rt,bn){return Fe.apply(this,arguments)}}(),Tn=function(){var Fe=(0,w.A)(function*(Le){if(null!=Le){const Rt=yield Vt(Le);return void 0!==Rt&&Rt.isOpen()}return void 0!==(yield wn())});return function(Rt){return Fe.apply(this,arguments)}}(),bt=function(){var Fe=(0,w.A)(function*(Le){const Rt=yield Vt(Le);return!!Rt&&!Rt.disabled});return function(Rt){return Fe.apply(this,arguments)}}(),Vt=function(){var Fe=(0,w.A)(function*(Le,Rt=!1){if(yield we(),"start"===Le||"end"===Le){const sn=An.filter(dr=>dr.side===Le&&!dr.disabled);if(sn.length>=1)return sn.length>1&&Rt&&(0,ot.p)(`menuController queried for a menu on the "${Le}" side, but ${sn.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,sn.map(dr=>dr.el)),sn[0].el;const Rn=An.filter(dr=>dr.side===Le);if(Rn.length>=1)return Rn.length>1&&Rt&&(0,ot.p)(`menuController queried for a menu on the "${Le}" side, but ${Rn.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Rn.map(dr=>dr.el)),Rn[0].el}else if(null!=Le)return st(sn=>sn.menuId===Le);return st(sn=>!sn.disabled)||(An.length>0?An[0].el:void 0)});return function(Rt){return Fe.apply(this,arguments)}}(),wn=function(){var Fe=(0,w.A)(function*(){return yield we(),Kt()});return function(){return Fe.apply(this,arguments)}}(),Yt=function(){var Fe=(0,w.A)(function*(){return yield we(),Vn()});return function(){return Fe.apply(this,arguments)}}(),Cn=function(){var Fe=(0,w.A)(function*(){return yield we(),kn()});return function(){return Fe.apply(this,arguments)}}(),Dn=(Fe,Le)=>{Ft.set(Fe,Le)},yr=function(){var Fe=(0,w.A)(function*(Le,Rt,bn){if(kn())return!1;if(Rt){const sn=yield wn();sn&&Le.el!==sn&&(yield sn.setOpen(!1,!1))}return Le._setOpen(Rt,bn)});return function(Rt,bn,sn){return Fe.apply(this,arguments)}}(),Kt=()=>st(Fe=>Fe._isOpen),Vn=()=>An.map(Fe=>Fe.el),kn=()=>An.some(Fe=>Fe.isAnimating),st=Fe=>{const Le=An.find(Fe);if(void 0!==Le)return Le.el},we=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Fe=>new Promise(Le=>(0,Z.c)(Fe,Le))));return Dn("reveal",et),Dn("push",Ct),Dn("overlay",Ut),null==e.d||e.d.addEventListener("ionBackButton",Fe=>{const Le=Kt();Le&&Fe.detail.register(wt.MENU_BACK_BUTTON_PRIORITY,()=>Le.close())}),{registerAnimation:Dn,get:Vt,getMenus:Yt,getOpen:wn,isEnabled:bt,swipeGesture:gn,isAnimating:Cn,isOpen:Tn,enable:Un,toggle:tn,close:qt,open:mn,_getOpenSync:Kt,_createAnimation:(Fe,Le)=>{const Rt=Ft.get(Fe);if(!Rt)throw new Error("animation not registered");return Rt(Le)},_register:Fe=>{An.indexOf(Fe)<0&&An.push(Fe)},_unregister:Fe=>{const Le=An.indexOf(Fe);Le>-1&&An.splice(Le,1)},_setOpen:yr}})()},8607:(Kr,dn,Be)=>{"use strict";Be.r(dn),Be.d(dn,{GESTURE_CONTROLLER:()=>w.G,createGesture:()=>Ut});var w=Be(1970);const e=(Mt,Ft,An,mn)=>{const qt=wt(Mt)?{capture:!!mn.capture,passive:!!mn.passive}:!!mn.capture;let tn,Un;return Mt.__zone_symbol__addEventListener?(tn="__zone_symbol__addEventListener",Un="__zone_symbol__removeEventListener"):(tn="addEventListener",Un="removeEventListener"),Mt[tn](Ft,An,qt),()=>{Mt[Un](Ft,An,qt)}},wt=Mt=>{if(void 0===ot)try{const Ft=Object.defineProperty({},"passive",{get:()=>{ot=!0}});Mt.addEventListener("optsTest",()=>{},Ft)}catch{ot=!1}return!!ot};let ot;const Ze=Mt=>Mt instanceof Document?Mt:Mt.ownerDocument,Ut=Mt=>{let Ft=!1,An=!1,mn=!0,qt=!1;const tn=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Mt),Un=tn.canStart,gn=tn.onWillStart,Tn=tn.onStart,bt=tn.onEnd,Vt=tn.notCaptured,wn=tn.onMove,Yt=tn.threshold,Cn=tn.passive,Dn=tn.blurOnStart,nt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},zn=((Mt,Ft,An)=>{const mn=An*(Math.PI/180),qt="x"===Mt,tn=Math.cos(mn),Un=Ft*Ft;let gn=0,Tn=0,bt=!1,Vt=0;return{start(wn,Yt){gn=wn,Tn=Yt,Vt=0,bt=!0},detect(wn,Yt){if(!bt)return!1;const Cn=wn-gn,Dn=Yt-Tn,nt=Cn*Cn+Dn*Dn;if(nt<Un)return!1;const zn=Math.sqrt(nt),yr=(qt?Cn:Dn)/zn;return Vt=yr>tn?1:yr<-tn?-1:0,bt=!1,!0},isGesture:()=>0!==Vt,getDirection:()=>Vt}})(tn.direction,tn.threshold,tn.maxAngle),yr=w.G.createGesture({name:Mt.gestureName,priority:Mt.gesturePriority,disableScroll:Mt.disableScroll}),Vn=()=>{Ft&&(qt=!1,wn&&wn(nt))},kn=()=>!!yr.capture()&&(Ft=!0,mn=!1,nt.startX=nt.currentX,nt.startY=nt.currentY,nt.startTime=nt.currentTime,gn?gn(nt).then(we):we(),!0),we=()=>{Dn&&(()=>{if(typeof document<"u"){const sn=document.activeElement;null!=sn&&sn.blur&&sn.blur()}})(),Tn&&Tn(nt),mn=!0},Fe=()=>{Ft=!1,An=!1,qt=!1,mn=!0,yr.release()},Le=sn=>{const Rn=Ft,dr=mn;if(Fe(),dr){if(Ct(nt,sn),Rn)return void(bt&&bt(nt));Vt&&Vt(nt)}},Rt=((Mt,Ft,An,mn,qt)=>{let tn,Un,gn,Tn,bt,Vt,wn,Yt=0;const Cn=st=>{Yt=Date.now()+2e3,Ft(st)&&(!Un&&An&&(Un=e(Mt,"touchmove",An,qt)),gn||(gn=e(st.target,"touchend",nt,qt)),Tn||(Tn=e(st.target,"touchcancel",nt,qt)))},Dn=st=>{Yt>Date.now()||Ft(st)&&(!Vt&&An&&(Vt=e(Ze(Mt),"mousemove",An,qt)),wn||(wn=e(Ze(Mt),"mouseup",zn,qt)))},nt=st=>{yr(),mn&&mn(st)},zn=st=>{xr(),mn&&mn(st)},yr=()=>{Un&&Un(),gn&&gn(),Tn&&Tn(),Un=gn=Tn=void 0},xr=()=>{Vt&&Vt(),wn&&wn(),Vt=wn=void 0},Kt=()=>{yr(),xr()},Vn=(st=!0)=>{st?(tn||(tn=e(Mt,"touchstart",Cn,qt)),bt||(bt=e(Mt,"mousedown",Dn,qt))):(tn&&tn(),bt&&bt(),tn=bt=void 0,Kt())};return{enable:Vn,stop:Kt,destroy:()=>{Vn(!1),mn=An=Ft=void 0}}})(tn.el,sn=>{const Rn=vt(sn);return!(An||!mn||(et(sn,nt),nt.startX=nt.currentX,nt.startY=nt.currentY,nt.startTime=nt.currentTime=Rn,nt.velocityX=nt.velocityY=nt.deltaX=nt.deltaY=0,nt.event=sn,Un&&!1===Un(nt))||(yr.release(),!yr.start()))&&(An=!0,0===Yt?kn():(zn.start(nt.startX,nt.startY),!0))},sn=>{Ft?!qt&&mn&&(qt=!0,Ct(nt,sn),requestAnimationFrame(Vn)):(Ct(nt,sn),zn.detect(nt.currentX,nt.currentY)&&(!zn.isGesture()||!kn())&&bn())},Le,{capture:!1,passive:Cn}),bn=()=>{Fe(),Rt.stop(),Vt&&Vt(nt)};return{enable(sn=!0){sn||(Ft&&Le(void 0),Fe()),Rt.enable(sn)},destroy(){yr.destroy(),Rt.destroy()}}},Ct=(Mt,Ft)=>{if(!Ft)return;const An=Mt.currentX,mn=Mt.currentY,qt=Mt.currentTime;et(Ft,Mt);const tn=Mt.currentX,Un=Mt.currentY,Tn=(Mt.currentTime=vt(Ft))-qt;if(Tn>0&&Tn<100){const Vt=(Un-mn)/Tn;Mt.velocityX=(tn-An)/Tn*.7+.3*Mt.velocityX,Mt.velocityY=.7*Vt+.3*Mt.velocityY}Mt.deltaX=tn-Mt.startX,Mt.deltaY=Un-Mt.startY,Mt.event=Ft},et=(Mt,Ft)=>{let An=0,mn=0;if(Mt){const qt=Mt.changedTouches;if(qt&&qt.length>0){const tn=qt[0];An=tn.clientX,mn=tn.clientY}else void 0!==Mt.pageX&&(An=Mt.pageX,mn=Mt.pageY)}Ft.currentX=An,Ft.currentY=mn},vt=Mt=>Mt.timeStamp||Date.now()},9672:(Kr,dn,Be)=>{"use strict";Be.d(dn,{B:()=>tt,a:()=>Oi,b:()=>Aa,c:()=>dr,d:()=>Ai,e:()=>ts,f:()=>kn,g:()=>bi,h:()=>Kt,i:()=>ui,j:()=>gs,k:()=>Ze,r:()=>mi,w:()=>ka});var w=Be(467);var ot=Object.defineProperty,tt={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ze=Te=>{const Je=new URL(Te,zi.$resourcesUrl$);return Je.origin!==Jn.location.origin?Je.href:Je.pathname},Nt={},vt=Te=>"object"==(Te=typeof Te)||"function"===Te;function Mt(Te){var Je,At,Tt;return null!=(Tt=null==(At=null==(Je=Te.head)?void 0:Je.querySelector('meta[name="csp-nonce"]'))?void 0:At.getAttribute("content"))?Tt:void 0}((Te,Je)=>{for(var At in Je)ot(Te,At,{get:Je[At],enumerable:!0})})({},{err:()=>mn,map:()=>qt,ok:()=>An,unwrap:()=>tn,unwrapErr:()=>Un});var An=Te=>({isOk:!0,isErr:!1,value:Te}),mn=Te=>({isOk:!1,isErr:!0,value:Te});function qt(Te,Je){if(Te.isOk){const At=Je(Te.value);return At instanceof Promise?At.then(Tt=>An(Tt)):An(At)}if(Te.isErr)return mn(Te.value);throw"should never get here"}var tn=Te=>{if(Te.isOk)return Te.value;throw Te.value},Un=Te=>{if(Te.isErr)return Te.value;throw Te.value},Cn="s-id",Dn="sty-id",yr="slot-fb{display:contents}slot-fb[hidden]{display:none}",xr="http://www.w3.org/1999/xlink",Kt=(Te,Je,...At)=>{let Tt=null,rn=null,Zt=null,Xn=!1,$n=!1;const or=[],er=_r=>{for(let pi=0;pi<_r.length;pi++)Tt=_r[pi],Array.isArray(Tt)?er(Tt):null!=Tt&&"boolean"!=typeof Tt&&((Xn="function"!=typeof Te&&!vt(Tt))&&(Tt=String(Tt)),Xn&&$n?or[or.length-1].$text$+=Tt:or.push(Xn?Vn(null,Tt):Tt),$n=Xn)};if(er(At),Je){Je.key&&(rn=Je.key),Je.name&&(Zt=Je.name);{const _r=Je.className||Je.class;_r&&(Je.class="object"!=typeof _r?_r:Object.keys(_r).filter(pi=>_r[pi]).join(" "))}}if("function"==typeof Te)return Te(null===Je?{}:Je,or,we);const ir=Vn(Te,null);return ir.$attrs$=Je,or.length>0&&(ir.$children$=or),ir.$key$=rn,ir.$name$=Zt,ir},Vn=(Te,Je)=>({$flags$:0,$tag$:Te,$text$:Je,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),kn={},we={forEach:(Te,Je)=>Te.map(Fe).forEach(Je),map:(Te,Je)=>Te.map(Fe).map(Je).map(Le)},Fe=Te=>({vattrs:Te.$attrs$,vchildren:Te.$children$,vkey:Te.$key$,vname:Te.$name$,vtag:Te.$tag$,vtext:Te.$text$}),Le=Te=>{if("function"==typeof Te.vtag){const At={...Te.vattrs};return Te.vkey&&(At.key=Te.vkey),Te.vname&&(At.name=Te.vname),Kt(Te.vtag,At,...Te.vchildren||[])}const Je=Vn(Te.vtag,Te.vtext);return Je.$attrs$=Te.vattrs,Je.$children$=Te.vchildren,Je.$key$=Te.vkey,Je.$name$=Te.vname,Je},bn=(Te,Je,At,Tt,rn,Zt,Xn)=>{let $n,or,er,ir;if(1===Zt.nodeType){for($n=Zt.getAttribute("c-id"),$n&&(or=$n.split("."),(or[0]===Xn||"0"===or[0])&&(er={$flags$:0,$hostId$:or[0],$nodeId$:or[1],$depth$:or[2],$index$:or[3],$tag$:Zt.tagName.toLowerCase(),$elm$:Zt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Je.push(er),Zt.removeAttribute("c-id"),Te.$children$||(Te.$children$=[]),Te.$children$[er.$index$]=er,Te=er,Tt&&"0"===er.$depth$&&(Tt[er.$index$]=er.$elm$))),ir=Zt.childNodes.length-1;ir>=0;ir--)bn(Te,Je,At,Tt,rn,Zt.childNodes[ir],Xn);if(Zt.shadowRoot)for(ir=Zt.shadowRoot.childNodes.length-1;ir>=0;ir--)bn(Te,Je,At,Tt,rn,Zt.shadowRoot.childNodes[ir],Xn)}else if(8===Zt.nodeType)or=Zt.nodeValue.split("."),(or[1]===Xn||"0"===or[1])&&($n=or[0],er={$flags$:0,$hostId$:or[1],$nodeId$:or[2],$depth$:or[3],$index$:or[4],$elm$:Zt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===$n?(er.$elm$=Zt.nextSibling,er.$elm$&&3===er.$elm$.nodeType&&(er.$text$=er.$elm$.textContent,Je.push(er),Zt.remove(),Te.$children$||(Te.$children$=[]),Te.$children$[er.$index$]=er,Tt&&"0"===er.$depth$&&(Tt[er.$index$]=er.$elm$))):er.$hostId$===Xn&&("s"===$n?(er.$tag$="slot",Zt["s-sn"]=or[5]?er.$name$=or[5]:"",Zt["s-sr"]=!0,Tt&&(er.$elm$=Ds.createElement(er.$tag$),er.$name$&&er.$elm$.setAttribute("name",er.$name$),Zt.parentNode.insertBefore(er.$elm$,Zt),Zt.remove(),"0"===er.$depth$&&(Tt[er.$index$]=er.$elm$)),At.push(er),Te.$children$||(Te.$children$=[]),Te.$children$[er.$index$]=er):"r"===$n&&(Tt?Zt.remove():(rn["s-cr"]=Zt,Zt["s-cn"]=!0))));else if(Te&&"style"===Te.$tag$){const _r=Vn(null,Zt.textContent);_r.$elm$=Zt,_r.$index$="0",Te.$children$=[_r]}},sn=(Te,Je)=>{if(1===Te.nodeType){let At=0;for(;At<Te.childNodes.length;At++)sn(Te.childNodes[At],Je);if(Te.shadowRoot)for(At=0;At<Te.shadowRoot.childNodes.length;At++)sn(Te.shadowRoot.childNodes[At],Je)}else if(8===Te.nodeType){const At=Te.nodeValue.split(".");"o"===At[0]&&(Je.set(At[1]+"."+At[2],Te),Te.nodeValue="",Te["s-en"]=At[3])}},dr=Te=>ra.push(Te),bi=Te=>Hi(Te).$modeName$,ui=Te=>Hi(Te).$hostElement$,Ai=(Te,Je,At)=>{const Tt=ui(Te);return{emit:rn=>Yn(Tt,Je,{bubbles:!!(4&At),composed:!!(2&At),cancelable:!!(1&At),detail:rn})}},Yn=(Te,Je,At)=>{const Tt=zi.ce(Je,At);return Te.dispatchEvent(Tt),Tt},Yi=new WeakMap,kr=(Te,Je,At)=>{let Tt=Bo.get(Te);ms&&At?(Tt=Tt||new CSSStyleSheet,"string"==typeof Tt?Tt=Je:Tt.replaceSync(Je)):Tt=Je,Bo.set(Te,Tt)},Di=(Te,Je,At)=>{var Tt;const rn=fr(Je,At),Zt=Bo.get(rn);if(Te=11===Te.nodeType?Te:Ds,Zt)if("string"==typeof Zt){let $n,Xn=Yi.get(Te=Te.head||Te);if(Xn||Yi.set(Te,Xn=new Set),!Xn.has(rn)){if(Te.host&&($n=Te.querySelector(`[${Dn}="${rn}"]`)))$n.innerHTML=Zt;else{$n=Ds.createElement("style"),$n.innerHTML=Zt;const or=null!=(Tt=zi.$nonce$)?Tt:Mt(Ds);null!=or&&$n.setAttribute("nonce",or),Te.insertBefore($n,Te.querySelector("link"))}4&Je.$flags$&&($n.innerHTML+=yr),Xn&&Xn.add(rn)}}else Te.adoptedStyleSheets.includes(Zt)||(Te.adoptedStyleSheets=[...Te.adoptedStyleSheets,Zt]);return rn},fr=(Te,Je)=>"sc-"+(Je&&32&Te.$flags$?Te.$tagName$+"-"+Je:Te.$tagName$),Pt=Te=>Te.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Pn=(Te,Je,At,Tt,rn,Zt)=>{if(At!==Tt){let Xn=$l(Te,Je),$n=Je.toLowerCase();if("class"===Je){const or=Te.classList,er=$r(At),ir=$r(Tt);or.remove(...er.filter(_r=>_r&&!ir.includes(_r))),or.add(...ir.filter(_r=>_r&&!er.includes(_r)))}else if("style"===Je){for(const or in At)(!Tt||null==Tt[or])&&(or.includes("-")?Te.style.removeProperty(or):Te.style[or]="");for(const or in Tt)(!At||Tt[or]!==At[or])&&(or.includes("-")?Te.style.setProperty(or,Tt[or]):Te.style[or]=Tt[or])}else if("key"!==Je)if("ref"===Je)Tt&&Tt(Te);else if(Xn||"o"!==Je[0]||"n"!==Je[1]){const or=vt(Tt);if((Xn||or&&null!==Tt)&&!rn)try{if(Te.tagName.includes("-"))Te[Je]=Tt;else{const ir=null==Tt?"":Tt;"list"===Je?Xn=!1:(null==At||Te[Je]!=ir)&&(Te[Je]=ir)}}catch{}let er=!1;$n!==($n=$n.replace(/^xlink\:?/,""))&&(Je=$n,er=!0),null==Tt||!1===Tt?(!1!==Tt||""===Te.getAttribute(Je))&&(er?Te.removeAttributeNS(xr,Je):Te.removeAttribute(Je)):(!Xn||4&Zt||rn)&&!or&&(Tt=!0===Tt?"":Tt,er?Te.setAttributeNS(xr,Je,Tt):Te.setAttribute(Je,Tt))}else if(Je="-"===Je[2]?Je.slice(3):$l(Jn,$n)?$n.slice(2):$n[2]+Je.slice(3),At||Tt){const or=Je.endsWith(si);Je=Je.replace(lr,""),At&&zi.rel(Te,Je,At,or),Tt&&zi.ael(Te,Je,Tt,or)}}},vn=/\s/,$r=Te=>Te?Te.split(vn):[],si="Capture",lr=new RegExp(si+"$"),di=(Te,Je,At)=>{const Tt=11===Je.$elm$.nodeType&&Je.$elm$.host?Je.$elm$.host:Je.$elm$,rn=Te&&Te.$attrs$||Nt,Zt=Je.$attrs$||Nt;for(const Xn of Hr(Object.keys(rn)))Xn in Zt||Pn(Tt,Xn,rn[Xn],void 0,At,Je.$flags$);for(const Xn of Hr(Object.keys(Zt)))Pn(Tt,Xn,rn[Xn],Zt[Xn],At,Je.$flags$)};function Hr(Te){return Te.includes("ref")?[...Te.filter(Je=>"ref"!==Je),"ref"]:Te}var Er,ri,eo,uo=!1,_o=!1,Ro=!1,Mo=!1,Zr=(Te,Je,At,Tt)=>{var rn;const Zt=Je.$children$[At];let $n,or,er,Xn=0;if(uo||(Ro=!0,"slot"===Zt.$tag$&&(Er&&Tt.classList.add(Er+"-s"),Zt.$flags$|=Zt.$children$?2:1)),null!==Zt.$text$)$n=Zt.$elm$=Ds.createTextNode(Zt.$text$);else if(1&Zt.$flags$)$n=Zt.$elm$=Ds.createTextNode("");else{if(Mo||(Mo="svg"===Zt.$tag$),$n=Zt.$elm$=Ds.createElementNS(Mo?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Zt.$flags$?"slot-fb":Zt.$tag$),Mo&&"foreignObject"===Zt.$tag$&&(Mo=!1),di(null,Zt,Mo),(Te=>null!=Te)(Er)&&$n["s-si"]!==Er&&$n.classList.add($n["s-si"]=Er),Zt.$children$)for(Xn=0;Xn<Zt.$children$.length;++Xn)or=Zr(Te,Zt,Xn,$n),or&&$n.appendChild(or);"svg"===Zt.$tag$?Mo=!1:"foreignObject"===$n.tagName&&(Mo=!0)}return $n["s-hn"]=eo,3&Zt.$flags$&&($n["s-sr"]=!0,$n["s-cr"]=ri,$n["s-sn"]=Zt.$name$||"",$n["s-rf"]=null==(rn=Zt.$attrs$)?void 0:rn.ref,er=Te&&Te.$children$&&Te.$children$[At],er&&er.$tag$===Zt.$tag$&&Te.$elm$&&ko(Te.$elm$)),$n},ko=Te=>{zi.$flags$|=1;const Je=Te.closest(eo.toLowerCase());if(null!=Je){const At=Array.from(Je.childNodes).find(rn=>rn["s-cr"]),Tt=Array.from(Te.childNodes);for(const rn of At?Tt.reverse():Tt)null!=rn["s-sh"]&&(rt(Je,rn,null!=At?At:null),rn["s-sh"]=void 0,Ro=!0)}zi.$flags$&=-2},xi=(Te,Je)=>{zi.$flags$|=1;const At=Array.from(Te.childNodes);if(Te["s-sr"]){let Tt=Te;for(;Tt=Tt.nextSibling;)Tt&&Tt["s-sn"]===Te["s-sn"]&&Tt["s-sh"]===eo&&At.push(Tt)}for(let Tt=At.length-1;Tt>=0;Tt--){const rn=At[Tt];rn["s-hn"]!==eo&&rn["s-ol"]&&(rt(Vo(rn),rn,Co(rn)),rn["s-ol"].remove(),rn["s-ol"]=void 0,rn["s-sh"]=void 0,Ro=!0),Je&&xi(rn,Je)}zi.$flags$&=-2},Qi=(Te,Je,At,Tt,rn,Zt)=>{let $n,Xn=Te["s-cr"]&&Te["s-cr"].parentNode||Te;for(Xn.shadowRoot&&Xn.tagName===eo&&(Xn=Xn.shadowRoot);rn<=Zt;++rn)Tt[rn]&&($n=Zr(null,At,rn,Te),$n&&(Tt[rn].$elm$=$n,rt(Xn,$n,Co(Je))))},Wo=(Te,Je,At)=>{for(let Tt=Je;Tt<=At;++Tt){const rn=Te[Tt];if(rn){const Zt=rn.$elm$;Ye(rn),Zt&&(_o=!0,Zt["s-ol"]?Zt["s-ol"].remove():xi(Zt,!0),Zt.remove())}}},cn=(Te,Je,At=!1)=>Te.$tag$===Je.$tag$&&("slot"===Te.$tag$?Te.$name$===Je.$name$:!!At||Te.$key$===Je.$key$),Co=Te=>Te&&Te["s-ol"]||Te,Vo=Te=>(Te["s-ol"]?Te["s-ol"]:Te).parentNode,ps=(Te,Je,At=!1)=>{const Tt=Je.$elm$=Te.$elm$,rn=Te.$children$,Zt=Je.$children$,Xn=Je.$tag$,$n=Je.$text$;let or;null===$n?(Mo="svg"===Xn||"foreignObject"!==Xn&&Mo,"slot"!==Xn||uo?di(Te,Je,Mo):Te.$name$!==Je.$name$&&(Je.$elm$["s-sn"]=Je.$name$||"",ko(Je.$elm$.parentElement)),null!==rn&&null!==Zt?((Te,Je,At,Tt,rn=!1)=>{let Ko,Xi,Zt=0,Xn=0,$n=0,or=0,er=Je.length-1,ir=Je[0],_r=Je[er],pi=Tt.length-1,Or=Tt[0],qi=Tt[pi];for(;Zt<=er&&Xn<=pi;)if(null==ir)ir=Je[++Zt];else if(null==_r)_r=Je[--er];else if(null==Or)Or=Tt[++Xn];else if(null==qi)qi=Tt[--pi];else if(cn(ir,Or,rn))ps(ir,Or,rn),ir=Je[++Zt],Or=Tt[++Xn];else if(cn(_r,qi,rn))ps(_r,qi,rn),_r=Je[--er],qi=Tt[--pi];else if(cn(ir,qi,rn))("slot"===ir.$tag$||"slot"===qi.$tag$)&&xi(ir.$elm$.parentNode,!1),ps(ir,qi,rn),rt(Te,ir.$elm$,_r.$elm$.nextSibling),ir=Je[++Zt],qi=Tt[--pi];else if(cn(_r,Or,rn))("slot"===ir.$tag$||"slot"===qi.$tag$)&&xi(_r.$elm$.parentNode,!1),ps(_r,Or,rn),rt(Te,_r.$elm$,ir.$elm$),_r=Je[--er],Or=Tt[++Xn];else{for($n=-1,or=Zt;or<=er;++or)if(Je[or]&&null!==Je[or].$key$&&Je[or].$key$===Or.$key$){$n=or;break}$n>=0?(Xi=Je[$n],Xi.$tag$!==Or.$tag$?Ko=Zr(Je&&Je[Xn],At,$n,Te):(ps(Xi,Or,rn),Je[$n]=void 0,Ko=Xi.$elm$),Or=Tt[++Xn]):(Ko=Zr(Je&&Je[Xn],At,Xn,Te),Or=Tt[++Xn]),Ko&&rt(Vo(ir.$elm$),Ko,Co(ir.$elm$))}Zt>er?Qi(Te,null==Tt[pi+1]?null:Tt[pi+1].$elm$,At,Tt,Xn,pi):Xn>pi&&Wo(Je,Zt,er)})(Tt,rn,Je,Zt,At):null!==Zt?(null!==Te.$text$&&(Tt.textContent=""),Qi(Tt,null,Je,Zt,0,Zt.length-1)):null!==rn&&Wo(rn,0,rn.length-1),Mo&&"svg"===Xn&&(Mo=!1)):(or=Tt["s-cr"])?or.parentNode.textContent=$n:Te.$text$!==$n&&(Tt.data=$n)},Jt=Te=>{const Je=Te.childNodes;for(const At of Je)if(1===At.nodeType){if(At["s-sr"]){const Tt=At["s-sn"];At.hidden=!1;for(const rn of Je)if(rn!==At)if(rn["s-hn"]!==At["s-hn"]||""!==Tt){if(1===rn.nodeType&&(Tt===rn.getAttribute("slot")||Tt===rn["s-sn"])||3===rn.nodeType&&Tt===rn["s-sn"]){At.hidden=!0;break}}else if(1===rn.nodeType||3===rn.nodeType&&""!==rn.textContent.trim()){At.hidden=!0;break}}Jt(At)}},jt=[],Bn=Te=>{let Je,At,Tt;for(const rn of Te.childNodes){if(rn["s-sr"]&&(Je=rn["s-cr"])&&Je.parentNode){At=Je.parentNode.childNodes;const Zt=rn["s-sn"];for(Tt=At.length-1;Tt>=0;Tt--)if(Je=At[Tt],!(Je["s-cn"]||Je["s-nr"]||Je["s-hn"]===rn["s-hn"]||Je["s-sh"]&&Je["s-sh"]===rn["s-hn"]))if(Wt(Je,Zt)){let Xn=jt.find($n=>$n.$nodeToRelocate$===Je);_o=!0,Je["s-sn"]=Je["s-sn"]||Zt,Xn?(Xn.$nodeToRelocate$["s-sh"]=rn["s-hn"],Xn.$slotRefNode$=rn):(Je["s-sh"]=rn["s-hn"],jt.push({$slotRefNode$:rn,$nodeToRelocate$:Je})),Je["s-sr"]&&jt.map($n=>{Wt($n.$nodeToRelocate$,Je["s-sn"])&&(Xn=jt.find(or=>or.$nodeToRelocate$===Je),Xn&&!$n.$slotRefNode$&&($n.$slotRefNode$=Xn.$slotRefNode$))})}else jt.some(Xn=>Xn.$nodeToRelocate$===Je)||jt.push({$nodeToRelocate$:Je})}1===rn.nodeType&&Bn(rn)}},Wt=(Te,Je)=>1===Te.nodeType?null===Te.getAttribute("slot")&&""===Je||Te.getAttribute("slot")===Je:Te["s-sn"]===Je||""===Je,Ye=Te=>{Te.$attrs$&&Te.$attrs$.ref&&Te.$attrs$.ref(null),Te.$children$&&Te.$children$.map(Ye)},rt=(Te,Je,At)=>{const Tt=null==Te?void 0:Te.insertBefore(Je,At);return Fn(Je,Te),Tt},St=Te=>Te?Te["s-rsc"]||Te["s-si"]||Te["s-sc"]||St(Te.parentElement):void 0,Fn=(Te,Je)=>{var At,Tt,rn;if(Te&&Je){const Zt=Te["s-rsc"],Xn=St(Je);Zt&&null!=(At=Te.classList)&&At.contains(Zt)&&Te.classList.remove(Zt),Xn&&(Te["s-rsc"]=Xn,(null==(Tt=Te.classList)||!Tt.contains(Xn))&&(null==(rn=Te.classList)||rn.add(Xn)))}},gr=(Te,Je)=>{Je&&!Te.$onRenderResolve$&&Je["s-p"]&&Je["s-p"].push(new Promise(At=>Te.$onRenderResolve$=At))},Nr=(Te,Je)=>{if(Te.$flags$|=16,!(4&Te.$flags$))return gr(Te,Te.$ancestorComponent$),ka(()=>qr(Te,Je));Te.$flags$|=512},qr=(Te,Je)=>{const Tt=Te.$lazyInstance$;let rn;return Je&&(Te.$flags$|=256,Te.$queuedListeners$&&(Te.$queuedListeners$.map(([Zt,Xn])=>Xs(Tt,Zt,Xn)),Te.$queuedListeners$=void 0),rn=Xs(Tt,"componentWillLoad")),rn=ji(rn,()=>Xs(Tt,"componentWillRender")),ji(rn,()=>ks(Te,Tt,Je))},ji=(Te,Je)=>$o(Te)?Te.then(Je):Je(),$o=Te=>Te instanceof Promise||Te&&Te.then&&"function"==typeof Te.then,ks=function(){var Te=(0,w.A)(function*(Je,At,Tt){var rn;const Zt=Je.$hostElement$,$n=Zt["s-rc"];Tt&&(Te=>{const Je=Te.$cmpMeta$,At=Te.$hostElement$,Tt=Je.$flags$,Zt=Di(At.shadowRoot?At.shadowRoot:At.getRootNode(),Je,Te.$modeName$);10&Tt&&(At["s-sc"]=Zt,At.classList.add(Zt+"-h"),2&Tt&&At.classList.add(Zt+"-s"))})(Je);ai(Je,At,Zt,Tt),$n&&($n.map(er=>er()),Zt["s-rc"]=void 0);{const er=null!=(rn=Zt["s-p"])?rn:[],ir=()=>Fr(Je);0===er.length?ir():(Promise.all(er).then(ir),Je.$flags$|=4,er.length=0)}});return function(At,Tt,rn){return Te.apply(this,arguments)}}(),ai=(Te,Je,At,Tt)=>{try{Je=Je.render&&Je.render(),Te.$flags$&=-17,Te.$flags$|=2,((Te,Je,At=!1)=>{var Tt,rn,Zt,Xn,$n;const or=Te.$hostElement$,er=Te.$cmpMeta$,ir=Te.$vnode$||Vn(null,null),_r=(Te=>Te&&Te.$tag$===kn)(Je)?Je:Kt(null,null,Je);if(eo=or.tagName,er.$attrsToReflect$&&(_r.$attrs$=_r.$attrs$||{},er.$attrsToReflect$.map(([pi,Or])=>_r.$attrs$[Or]=or[pi])),At&&_r.$attrs$)for(const pi of Object.keys(_r.$attrs$))or.hasAttribute(pi)&&!["key","ref","style","class"].includes(pi)&&(_r.$attrs$[pi]=or[pi]);if(_r.$tag$=null,_r.$flags$|=4,Te.$vnode$=_r,_r.$elm$=ir.$elm$=or.shadowRoot||or,Er=or["s-sc"],uo=!!(1&er.$flags$),ri=or["s-cr"],_o=!1,ps(ir,_r,At),zi.$flags$|=1,Ro){Bn(_r.$elm$);for(const pi of jt){const Or=pi.$nodeToRelocate$;if(!Or["s-ol"]){const qi=Ds.createTextNode("");qi["s-nr"]=Or,rt(Or.parentNode,Or["s-ol"]=qi,Or)}}for(const pi of jt){const Or=pi.$nodeToRelocate$,qi=pi.$slotRefNode$;if(qi){const Ko=qi.parentNode;let Xi=qi.nextSibling;if(Xi&&1===Xi.nodeType){let Qo=null==(Tt=Or["s-ol"])?void 0:Tt.previousSibling;for(;Qo;){let br=null!=(rn=Qo["s-nr"])?rn:null;if(br&&br["s-sn"]===Or["s-sn"]&&Ko===br.parentNode){for(br=br.nextSibling;br===Or||null!=br&&br["s-sr"];)br=null==br?void 0:br.nextSibling;if(!br||!br["s-nr"]){Xi=br;break}}Qo=Qo.previousSibling}}(!Xi&&Ko!==Or.parentNode||Or.nextSibling!==Xi)&&Or!==Xi&&(rt(Ko,Or,Xi),1===Or.nodeType&&(Or.hidden=null!=(Zt=Or["s-ih"])&&Zt)),Or&&"function"==typeof qi["s-rf"]&&qi["s-rf"](Or)}else 1===Or.nodeType&&(At&&(Or["s-ih"]=null!=(Xn=Or.hidden)&&Xn),Or.hidden=!0)}}if(_o&&Jt(_r.$elm$),zi.$flags$&=-2,jt.length=0,2&er.$flags$)for(const pi of _r.$elm$.childNodes)pi["s-hn"]!==eo&&!pi["s-sh"]&&(At&&null==pi["s-ih"]&&(pi["s-ih"]=null!=($n=pi.hidden)&&$n),pi.hidden=!0);ri=void 0})(Te,Je,Tt)}catch(rn){Io(rn,Te.$hostElement$)}return null},Fr=Te=>{const At=Te.$hostElement$,rn=Te.$lazyInstance$,Zt=Te.$ancestorComponent$;Xs(rn,"componentDidRender"),64&Te.$flags$?Xs(rn,"componentDidUpdate"):(Te.$flags$|=64,ml(At),Xs(rn,"componentDidLoad"),Te.$onReadyResolve$(At),Zt||na()),Te.$onInstanceResolve$(At),Te.$onRenderResolve$&&(Te.$onRenderResolve$(),Te.$onRenderResolve$=void 0),512&Te.$flags$&&Tr(()=>Nr(Te,!1)),Te.$flags$&=-517},gs=Te=>{{const Je=Hi(Te),At=Je.$hostElement$.isConnected;return At&&2==(18&Je.$flags$)&&Nr(Je,!1),At}},na=Te=>{ml(Ds.documentElement),Tr(()=>Yn(Jn,"appload",{detail:{namespace:"ionic"}}))},Xs=(Te,Je,At)=>{if(Te&&Te[Je])try{return Te[Je](At)}catch(Tt){Io(Tt)}},ml=Te=>Te.classList.add("hydrated"),vl=(Te,Je,At)=>{var Tt;const rn=Te.prototype;if(Je.$members$){Te.watchers&&(Je.$watchers$=Te.watchers);const Zt=Object.entries(Je.$members$);if(Zt.map(([Xn,[$n]])=>{31&$n||2&At&&32&$n?Object.defineProperty(rn,Xn,{get(){return((Te,Je)=>Hi(this).$instanceValues$.get(Je))(0,Xn)},set(or){((Te,Je,At,Tt)=>{const rn=Hi(Te);if(!rn)throw new Error(`Couldn't find host element for "${Tt.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const Zt=rn.$hostElement$,Xn=rn.$instanceValues$.get(Je),$n=rn.$flags$,or=rn.$lazyInstance$;At=((Te,Je)=>null==Te||vt(Te)?Te:4&Je?"false"!==Te&&(""===Te||!!Te):2&Je?parseFloat(Te):1&Je?String(Te):Te)(At,Tt.$members$[Je][0]);const er=Number.isNaN(Xn)&&Number.isNaN(At);if((!(8&$n)||void 0===Xn)&&At!==Xn&&!er&&(rn.$instanceValues$.set(Je,At),or)){if(Tt.$watchers$&&128&$n){const _r=Tt.$watchers$[Je];_r&&_r.map(pi=>{try{or[pi](At,Xn,Je)}catch(Or){Io(Or,Zt)}})}2==(18&$n)&&Nr(rn,!1)}})(this,Xn,or,Je)},configurable:!0,enumerable:!0}):1&At&&64&$n&&Object.defineProperty(rn,Xn,{value(...or){var er;const ir=Hi(this);return null==(er=null==ir?void 0:ir.$onInstancePromise$)?void 0:er.then(()=>{var _r;return null==(_r=ir.$lazyInstance$)?void 0:_r[Xn](...or)})}})}),1&At){const Xn=new Map;rn.attributeChangedCallback=function($n,or,er){zi.jmp(()=>{var ir;const _r=Xn.get($n);if(this.hasOwnProperty(_r))er=this[_r],delete this[_r];else{if(rn.hasOwnProperty(_r)&&"number"==typeof this[_r]&&this[_r]==er)return;if(null==_r){const pi=Hi(this),Or=null==pi?void 0:pi.$flags$;if(Or&&!(8&Or)&&128&Or&&er!==or){const qi=pi.$lazyInstance$,Ko=null==(ir=Je.$watchers$)?void 0:ir[$n];null==Ko||Ko.forEach(Xi=>{null!=qi[Xi]&&qi[Xi].call(qi,er,or,$n)})}return}}this[_r]=(null!==er||"boolean"!=typeof this[_r])&&er})},Te.observedAttributes=Array.from(new Set([...Object.keys(null!=(Tt=Je.$watchers$)?Tt:{}),...Zt.filter(([$n,or])=>15&or[0]).map(([$n,or])=>{var er;const ir=or[1]||$n;return Xn.set(ir,$n),512&or[0]&&(null==(er=Je.$attrsToReflect$)||er.push([$n,ir])),ir})]))}}return Te},$a=function(){var Te=(0,w.A)(function*(Je,At,Tt,rn){let Zt;if(!(32&At.$flags$)){if(At.$flags$|=32,Tt.$lazyBundleId$){if(Zt=Oa(Tt),Zt.then){const ir=()=>{};Zt=yield Zt,ir()}Zt.isProxied||(Tt.$watchers$=Zt.watchers,vl(Zt,Tt,2),Zt.isProxied=!0);const er=()=>{};At.$flags$|=8;try{new Zt(At)}catch(ir){Io(ir)}At.$flags$&=-9,At.$flags$|=128,er(),ua(At.$lazyInstance$)}else Zt=Je.constructor,customElements.whenDefined(Tt.$tagName$).then(()=>At.$flags$|=128);if(Zt.style){let er=Zt.style;"string"!=typeof er&&(er=er[At.$modeName$=(Te=>ra.map(Je=>Je(Te)).find(Je=>!!Je))(Je)]);const ir=fr(Tt,At.$modeName$);if(!Bo.has(ir)){const _r=()=>{};kr(ir,er,!!(1&Tt.$flags$)),_r()}}}const Xn=At.$ancestorComponent$,$n=()=>Nr(At,!0);Xn&&Xn["s-rc"]?Xn["s-rc"].push($n):$n()});return function(At,Tt,rn,Zt){return Te.apply(this,arguments)}}(),ua=Te=>{Xs(Te,"connectedCallback")},_n=Te=>{const Je=Te["s-cr"]=Ds.createComment("");Je["s-cn"]=!0,rt(Te,Je,Te.firstChild)},tr=Te=>{Xs(Te,"disconnectedCallback")},Mr=function(){var Te=(0,w.A)(function*(Je){if(!(1&zi.$flags$)){const At=Hi(Je);At.$rmListeners$&&(At.$rmListeners$.map(Tt=>Tt()),At.$rmListeners$=void 0),null!=At&&At.$lazyInstance$?tr(At.$lazyInstance$):null!=At&&At.$onReadyPromise$&&At.$onReadyPromise$.then(()=>tr(At.$lazyInstance$))}});return function(At){return Te.apply(this,arguments)}}(),pn=Te=>{const Je=Te.cloneNode;Te.cloneNode=function(At){const Tt=this,rn=Tt.shadowRoot&&Ga,Zt=Je.call(Tt,!!rn&&At);if(!rn&&At){let $n,or,Xn=0;const er=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-rsc"];for(;Xn<Tt.childNodes.length;Xn++)$n=Tt.childNodes[Xn]["s-nr"],or=er.every(ir=>!Tt.childNodes[Xn][ir]),$n&&(Zt.__appendChild?Zt.__appendChild($n.cloneNode(!0)):Zt.appendChild($n.cloneNode(!0))),or&&Zt.appendChild(Tt.childNodes[Xn].cloneNode(!0))}return Zt}},pr=Te=>{Te.__appendChild=Te.appendChild,Te.appendChild=function(Je){const At=Je["s-sn"]=Ji(Je),Tt=Ps(this.childNodes,At,this.tagName);if(Tt){const rn=Il(Tt,At),Zt=rn[rn.length-1],Xn=rt(Zt.parentNode,Je,Zt.nextSibling);return Jt(this),Xn}return this.__appendChild(Je)}},Xr=Te=>{Te.__removeChild=Te.removeChild,Te.removeChild=function(Je){if(Je&&typeof Je["s-sn"]<"u"){const At=Ps(this.childNodes,Je["s-sn"],this.tagName);if(At){const rn=Il(At,Je["s-sn"]).find(Zt=>Zt===Je);if(rn)return rn.remove(),void Jt(this)}}return this.__removeChild(Je)}},Dr=Te=>{const Je=Te.prepend;Te.prepend=function(...At){At.forEach(Tt=>{"string"==typeof Tt&&(Tt=this.ownerDocument.createTextNode(Tt));const rn=Tt["s-sn"]=Ji(Tt),Zt=Ps(this.childNodes,rn,this.tagName);if(Zt){const Xn=document.createTextNode("");Xn["s-nr"]=Tt,Zt["s-cr"].parentNode.__appendChild(Xn),Tt["s-ol"]=Xn;const or=Il(Zt,rn)[0];return rt(or.parentNode,Tt,or.nextSibling)}return 1===Tt.nodeType&&Tt.getAttribute("slot")&&(Tt.hidden=!0),Je.call(this,Tt)})}},ho=Te=>{Te.append=function(...Je){Je.forEach(At=>{"string"==typeof At&&(At=this.ownerDocument.createTextNode(At)),this.appendChild(At)})}},Yo=Te=>{const Je=Te.insertAdjacentHTML;Te.insertAdjacentHTML=function(At,Tt){if("afterbegin"!==At&&"beforeend"!==At)return Je.call(this,At,Tt);const rn=this.ownerDocument.createElement("_");let Zt;if(rn.innerHTML=Tt,"afterbegin"===At)for(;Zt=rn.firstChild;)this.prepend(Zt);else if("beforeend"===At)for(;Zt=rn.firstChild;)this.append(Zt)}},va=Te=>{Te.insertAdjacentText=function(Je,At){this.insertAdjacentHTML(Je,At)}},ei=Te=>{const Je=Te.insertAdjacentElement;Te.insertAdjacentElement=function(At,Tt){return"afterbegin"!==At&&"beforeend"!==At?Je.call(this,At,Tt):"afterbegin"===At?(this.prepend(Tt),Tt):("beforeend"===At&&this.append(Tt),Tt)}},no=Te=>{const Je=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(Te,"__textContent",Je),Object.defineProperty(Te,"textContent",{get(){return" "+Fs(this.childNodes).map(rn=>{var Zt,Xn;const $n=[];let or=rn.nextSibling;for(;or&&or["s-sn"]===rn["s-sn"];)(3===or.nodeType||1===or.nodeType)&&$n.push(null!=(Xn=null==(Zt=or.textContent)?void 0:Zt.trim())?Xn:""),or=or.nextSibling;return $n.filter(er=>""!==er).join(" ")}).filter(rn=>""!==rn).join(" ")+" "},set(At){Fs(this.childNodes).forEach(rn=>{let Zt=rn.nextSibling;for(;Zt&&Zt["s-sn"]===rn["s-sn"];){const Xn=Zt;Zt=Zt.nextSibling,Xn.remove()}if(""===rn["s-sn"]){const Xn=this.ownerDocument.createTextNode(At);Xn["s-sn"]="",rt(rn.parentElement,Xn,rn.nextSibling)}else rn.remove()})}})},hi=(Te,Je)=>{class At extends Array{item(rn){return this[rn]}}if(8&Je.$flags$){const Tt=Te.__lookupGetter__("childNodes");Object.defineProperty(Te,"children",{get(){return this.childNodes.map(rn=>1===rn.nodeType)}}),Object.defineProperty(Te,"childElementCount",{get:()=>Te.children.length}),Object.defineProperty(Te,"childNodes",{get(){const rn=Tt.call(this);if(!(1&zi.$flags$)&&2&Hi(this).$flags$){const Zt=new At;for(let Xn=0;Xn<rn.length;Xn++){const $n=rn[Xn]["s-nr"];$n&&Zt.push($n)}return Zt}return At.from(rn)}})}},Fs=Te=>{const Je=[];for(const At of Array.from(Te))At["s-sr"]&&Je.push(At),Je.push(...Fs(At.childNodes));return Je},Ji=Te=>Te["s-sn"]||1===Te.nodeType&&Te.getAttribute("slot")||"",Ps=(Te,Je,At)=>{let rn,Tt=0;for(;Tt<Te.length;Tt++)if(rn=Te[Tt],rn["s-sr"]&&rn["s-sn"]===Je&&rn["s-hn"]===At||(rn=Ps(rn.childNodes,Je,At),rn))return rn;return null},Il=(Te,Je)=>{const At=[Te];for(;(Te=Te.nextSibling)&&Te["s-sn"]===Je;)At.push(Te);return At},Aa=(Te,Je={})=>{var At;const rn=[],Zt=Je.exclude||[],Xn=Jn.customElements,$n=Ds.head,or=$n.querySelector("meta[charset]"),er=Ds.createElement("style"),ir=[],_r=Ds.querySelectorAll(`[${Dn}]`);let pi,Or=!0,qi=0;for(Object.assign(zi,Je),zi.$resourcesUrl$=new URL(Je.resourcesUrl||"./",Ds.baseURI).href,zi.$flags$|=2;qi<_r.length;qi++)kr(_r[qi].getAttribute(Dn),Pt(_r[qi].innerHTML),!0);let Ko=!1;if(Te.map(Xi=>{Xi[1].map(Qo=>{var br;const Gi={$flags$:Qo[0],$tagName$:Qo[1],$members$:Qo[2],$listeners$:Qo[3]};4&Gi.$flags$&&(Ko=!0),Gi.$members$=Qo[2],Gi.$listeners$=Qo[3],Gi.$attrsToReflect$=[],Gi.$watchers$=null!=(br=Qo[4])?br:{};const Ys=Gi.$tagName$,Ne=class extends HTMLElement{constructor(be){super(be),yo(be=this,Gi),1&Gi.$flags$&&be.attachShadow({mode:"open",delegatesFocus:!!(16&Gi.$flags$)})}connectedCallback(){pi&&(clearTimeout(pi),pi=null),Or?ir.push(this):zi.jmp(()=>(Te=>{if(!(1&zi.$flags$)){const Je=Hi(Te),At=Je.$cmpMeta$,Tt=()=>{};if(1&Je.$flags$)Ms(Te,Je,At.$listeners$),null!=Je&&Je.$lazyInstance$?ua(Je.$lazyInstance$):null!=Je&&Je.$onReadyPromise$&&Je.$onReadyPromise$.then(()=>ua(Je.$lazyInstance$));else{let rn;if(Je.$flags$|=1,rn=Te.getAttribute(Cn),rn){if(1&At.$flags$){const Zt=Di(Te.shadowRoot,At,Te.getAttribute("s-mode"));Te.classList.remove(Zt+"-h",Zt+"-s")}((Te,Je,At,Tt)=>{const Zt=Te.shadowRoot,Xn=[],or=Zt?[]:null,er=Tt.$vnode$=Vn(Je,null);zi.$orgLocNodes$||sn(Ds.body,zi.$orgLocNodes$=new Map),Te[Cn]=At,Te.removeAttribute(Cn),bn(er,Xn,[],or,Te,Te,At),Xn.map(ir=>{const _r=ir.$hostId$+"."+ir.$nodeId$,pi=zi.$orgLocNodes$.get(_r),Or=ir.$elm$;pi&&Ga&&""===pi["s-en"]&&pi.parentNode.insertBefore(Or,pi.nextSibling),Zt||(Or["s-hn"]=Je,pi&&(Or["s-ol"]=pi,Or["s-ol"]["s-nr"]=Or)),zi.$orgLocNodes$.delete(_r)}),Zt&&or.map(ir=>{ir&&Zt.appendChild(ir)})})(Te,At.$tagName$,rn,Je)}rn||12&At.$flags$&&_n(Te);{let Zt=Te;for(;Zt=Zt.parentNode||Zt.host;)if(1===Zt.nodeType&&Zt.hasAttribute("s-id")&&Zt["s-p"]||Zt["s-p"]){gr(Je,Je.$ancestorComponent$=Zt);break}}At.$members$&&Object.entries(At.$members$).map(([Zt,[Xn]])=>{if(31&Xn&&Te.hasOwnProperty(Zt)){const $n=Te[Zt];delete Te[Zt],Te[Zt]=$n}}),$a(Te,Je,At)}Tt()}})(this))}disconnectedCallback(){zi.jmp(()=>Mr(this))}componentOnReady(){return Hi(this).$onReadyPromise$}};2&Gi.$flags$&&((Te,Je)=>{pn(Te),pr(Te),ho(Te),Dr(Te),ei(Te),Yo(Te),va(Te),no(Te),hi(Te,Je),Xr(Te)})(Ne.prototype,Gi),Gi.$lazyBundleId$=Xi[0],!Zt.includes(Ys)&&!Xn.get(Ys)&&(rn.push(Ys),Xn.define(Ys,vl(Ne,Gi,1)))})}),rn.length>0&&(Ko&&(er.textContent+=yr),er.textContent+=rn+"{visibility:hidden}.hydrated{visibility:inherit}",er.innerHTML.length)){er.setAttribute("data-styles","");const Xi=null!=(At=zi.$nonce$)?At:Mt(Ds);null!=Xi&&er.setAttribute("nonce",Xi),$n.insertBefore(er,or?or.nextSibling:$n.firstChild)}Or=!1,ir.length?ir.map(Xi=>Xi.connectedCallback()):zi.jmp(()=>pi=setTimeout(na,30))},Ms=(Te,Je,At,Tt)=>{At&&At.map(([rn,Zt,Xn])=>{const $n=Qr(Te,rn),or=Ri(Je,Xn),er=ro(rn);zi.ael($n,Zt,or,er),(Je.$rmListeners$=Je.$rmListeners$||[]).push(()=>zi.rel($n,Zt,or,er))})},Ri=(Te,Je)=>At=>{try{256&Te.$flags$?Te.$lazyInstance$[Je](At):(Te.$queuedListeners$=Te.$queuedListeners$||[]).push([Je,At])}catch(Tt){Io(Tt)}},Qr=(Te,Je)=>4&Je?Ds:8&Je?Jn:16&Je?Ds.body:Te,ro=Te=>io?{passive:!!(1&Te),capture:!!(2&Te)}:!!(2&Te),Os=new WeakMap,Hi=Te=>Os.get(Te),mi=(Te,Je)=>Os.set(Je.$lazyInstance$=Te,Je),yo=(Te,Je)=>{const At={$flags$:0,$hostElement$:Te,$cmpMeta$:Je,$instanceValues$:new Map};return At.$onInstancePromise$=new Promise(Tt=>At.$onInstanceResolve$=Tt),At.$onReadyPromise$=new Promise(Tt=>At.$onReadyResolve$=Tt),Te["s-p"]=[],Te["s-rc"]=[],Ms(Te,At,Je.$listeners$),Os.set(Te,At)},$l=(Te,Je)=>Je in Te,Io=(Te,Je)=>(0,console.error)(Te,Je),bl=new Map,Oa=(Te,Je,At)=>{const Tt=Te.$tagName$.replace(/-/g,"_"),rn=Te.$lazyBundleId$,Zt=bl.get(rn);return Zt?Zt[Tt]:Be(8996)(`./${rn}.entry.js`).then(Xn=>(bl.set(rn,Xn),Xn[Tt]),Io)},Bo=new Map,ra=[],Jn=typeof window<"u"?window:{},Ds=Jn.document||{head:{}},zi={$flags$:0,$resourcesUrl$:"",jmp:Te=>Te(),raf:Te=>requestAnimationFrame(Te),ael:(Te,Je,At,Tt)=>Te.addEventListener(Je,At,Tt),rel:(Te,Je,At,Tt)=>Te.removeEventListener(Je,At,Tt),ce:(Te,Je)=>new CustomEvent(Te,Je)},Oi=Te=>{Object.assign(zi,Te)},Ga=!0,io=(()=>{let Te=!1;try{Ds.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Te=!0}}))}catch{}return Te})(),ms=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),qo=!1,Gs=[],kl=[],as=(Te,Je)=>At=>{Te.push(At),qo||(qo=!0,Je&&4&zi.$flags$?Tr(Jo):zi.raf(Jo))},ao=Te=>{for(let Je=0;Je<Te.length;Je++)try{Te[Je](performance.now())}catch(At){Io(At)}Te.length=0},Jo=()=>{ao(Gs),ao(kl),(qo=Gs.length>0)&&zi.raf(Jo)},Tr=Te=>Promise.resolve(void 0).then(Te),ts=as(Gs,!1),ka=as(kl,!0)},2725:(Kr,dn,Be)=>{"use strict";Be.d(dn,{b:()=>Nt,c:()=>Ut,d:()=>Ct,e:()=>Kt,g:()=>st,l:()=>yr,s:()=>Vn,t:()=>tn,w:()=>xr});var w=Be(467),e=Be(3664),wt=Be(9672),ot=Be(4929),Z=Be(4920);const Nt="ionViewWillLeave",Ut="ionViewDidLeave",Ct="ionViewWillUnload",et=we=>{we.tabIndex=-1,we.focus()},vt=we=>null!==we.offsetParent,Ft="ion-last-focus",qt_saveViewFocus=Le=>{if(e.c.get("focusManagerPriority",!1)){const bn=document.activeElement;null!==bn&&null!=Le&&Le.contains(bn)&&bn.setAttribute(Ft,"true")}},qt_setViewFocus=Le=>{const Rt=e.c.get("focusManagerPriority",!1);if(Array.isArray(Rt)&&!Le.contains(document.activeElement)){const bn=Le.querySelector(`[${Ft}]`);if(bn&&vt(bn))return void et(bn);for(const sn of Rt)switch(sn){case"content":const Rn=Le.querySelector('main, [role="main"]');if(Rn&&vt(Rn))return void et(Rn);break;case"heading":const dr=Le.querySelector('h1, [role="heading"][aria-level="1"]');if(dr&&vt(dr))return void et(dr);break;case"banner":const bi=Le.querySelector('header, [role="banner"]');if(bi&&vt(bi))return void et(bi);break;default:(0,ot.p)(`Unrecognized focus manager priority value ${sn}`)}et(Le)}},tn=we=>new Promise((Fe,Le)=>{(0,wt.w)(()=>{Un(we),gn(we).then(Rt=>{Rt.animation&&Rt.animation.destroy(),Tn(we),Fe(Rt)},Rt=>{Tn(we),Le(Rt)})})}),Un=we=>{const Fe=we.enteringEl,Le=we.leavingEl;qt_saveViewFocus(Le),kn(Fe,Le,we.direction),we.showGoBack?Fe.classList.add("can-go-back"):Fe.classList.remove("can-go-back"),Vn(Fe,!1),Fe.style.setProperty("pointer-events","none"),Le&&(Vn(Le,!1),Le.style.setProperty("pointer-events","none"))},gn=function(){var we=(0,w.A)(function*(Fe){const Le=yield bt(Fe);return Le&&wt.B.isBrowser?Vt(Le,Fe):wn(Fe)});return function(Le){return we.apply(this,arguments)}}(),Tn=we=>{const Fe=we.enteringEl,Le=we.leavingEl;Fe.classList.remove("ion-page-invisible"),Fe.style.removeProperty("pointer-events"),void 0!==Le&&(Le.classList.remove("ion-page-invisible"),Le.style.removeProperty("pointer-events")),qt_setViewFocus(Fe)},bt=function(){var we=(0,w.A)(function*(Fe){return Fe.leavingEl&&Fe.animated&&0!==Fe.duration?Fe.animationBuilder?Fe.animationBuilder:"ios"===Fe.mode?(yield Promise.resolve().then(Be.bind(Be,8454))).iosTransitionAnimation:(yield Promise.resolve().then(Be.bind(Be,3314))).mdTransitionAnimation:void 0});return function(Le){return we.apply(this,arguments)}}(),Vt=function(){var we=(0,w.A)(function*(Fe,Le){yield Yt(Le,!0);const Rt=Fe(Le.baseEl,Le);nt(Le.enteringEl,Le.leavingEl);const bn=yield Dn(Rt,Le);return Le.progressCallback&&Le.progressCallback(void 0),bn&&zn(Le.enteringEl,Le.leavingEl),{hasCompleted:bn,animation:Rt}});return function(Le,Rt){return we.apply(this,arguments)}}(),wn=function(){var we=(0,w.A)(function*(Fe){const Le=Fe.enteringEl,Rt=Fe.leavingEl,bn=e.c.get("focusManagerPriority",!1);return yield Yt(Fe,bn),nt(Le,Rt),zn(Le,Rt),{hasCompleted:!0}});return function(Le){return we.apply(this,arguments)}}(),Yt=function(){var we=(0,w.A)(function*(Fe,Le){(void 0!==Fe.deepWait?Fe.deepWait:Le)&&(yield Promise.all([Kt(Fe.enteringEl),Kt(Fe.leavingEl)])),yield Cn(Fe.viewIsReady,Fe.enteringEl)});return function(Le,Rt){return we.apply(this,arguments)}}(),Cn=function(){var we=(0,w.A)(function*(Fe,Le){Fe&&(yield Fe(Le))});return function(Le,Rt){return we.apply(this,arguments)}}(),Dn=(we,Fe)=>{const Le=Fe.progressCallback,Rt=new Promise(bn=>{we.onFinish(sn=>bn(1===sn))});return Le?(we.progressStart(!0),Le(we)):we.play(),Rt},nt=(we,Fe)=>{yr(Fe,Nt),yr(we,"ionViewWillEnter")},zn=(we,Fe)=>{yr(we,"ionViewDidEnter"),yr(Fe,Ut)},yr=(we,Fe)=>{if(we){const Le=new CustomEvent(Fe,{bubbles:!1,cancelable:!1});we.dispatchEvent(Le)}},xr=()=>new Promise(we=>(0,Z.r)(()=>(0,Z.r)(()=>we()))),Kt=function(){var we=(0,w.A)(function*(Fe){const Le=Fe;if(Le){if(null!=Le.componentOnReady){if(null!=(yield Le.componentOnReady()))return}else if(null!=Le.__registerHost)return void(yield new Promise(bn=>(0,Z.r)(bn)));yield Promise.all(Array.from(Le.children).map(Kt))}});return function(Le){return we.apply(this,arguments)}}(),Vn=(we,Fe)=>{Fe?(we.setAttribute("aria-hidden","true"),we.classList.add("ion-page-hidden")):(we.hidden=!1,we.removeAttribute("aria-hidden"),we.classList.remove("ion-page-hidden"))},kn=(we,Fe,Le)=>{void 0!==we&&(we.style.zIndex="back"===Le?"99":"101"),void 0!==Fe&&(Fe.style.zIndex="100")},st=we=>we.classList.contains("ion-page")?we:we.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||we},4929:(Kr,dn,Be)=>{"use strict";Be.d(dn,{a:()=>e,b:()=>wt,p:()=>w});const w=(ot,...Z)=>console.warn(`[Ionic Warning]: ${ot}`,...Z),e=(ot,...Z)=>console.error(`[Ionic Error]: ${ot}`,...Z),wt=(ot,...Z)=>console.error(`<${ot.tagName.toLowerCase()}> must be used inside ${Z.join(" or ")}.`)},8476:(Kr,dn,Be)=>{"use strict";Be.d(dn,{d:()=>e,w:()=>w});const w=typeof window<"u"?window:void 0,e=typeof document<"u"?document:void 0},3664:(Kr,dn,Be)=>{"use strict";Be.d(dn,{a:()=>et,b:()=>Vn,c:()=>wt,i:()=>kn});var w=Be(9672);class e{constructor(){this.m=new Map}reset(we){this.m=new Map(Object.entries(we))}get(we,Fe){const Le=this.m.get(we);return void 0!==Le?Le:Fe}getBoolean(we,Fe=!1){const Le=this.m.get(we);return void 0===Le?Fe:"string"==typeof Le?"true"===Le:!!Le}getNumber(we,Fe){const Le=parseFloat(this.m.get(we));return isNaN(Le)?void 0!==Fe?Fe:NaN:Le}set(we,Fe){this.m.set(we,Fe)}}const wt=new e,Ut="ionic-persist-config",et=(st,we)=>("string"==typeof st&&(we=st,st=void 0),(st=>vt(st))(st).includes(we)),vt=(st=window)=>{if(typeof st>"u")return[];st.Ionic=st.Ionic||{};let we=st.Ionic.platforms;return null==we&&(we=st.Ionic.platforms=Mt(st),we.forEach(Fe=>st.document.documentElement.classList.add(`plt-${Fe}`))),we},Mt=st=>{const we=wt.get("platform");return Object.keys(xr).filter(Fe=>{const Le=null==we?void 0:we[Fe];return"function"==typeof Le?Le(st):xr[Fe](st)})},An=st=>!!(zn(st,/iPad/i)||zn(st,/Macintosh/i)&&bt(st)),tn=st=>zn(st,/android|sink/i),bt=st=>yr(st,"(any-pointer:coarse)"),wn=st=>Yt(st)||Cn(st),Yt=st=>!!(st.cordova||st.phonegap||st.PhoneGap),Cn=st=>{const we=st.Capacitor;return!(null==we||!we.isNative)},zn=(st,we)=>we.test(st.navigator.userAgent),yr=(st,we)=>{var Fe;return null===(Fe=st.matchMedia)||void 0===Fe?void 0:Fe.call(st,we).matches},xr={ipad:An,iphone:st=>zn(st,/iPhone/i),ios:st=>zn(st,/iPhone|iPod/i)||An(st),android:tn,phablet:st=>{const we=st.innerWidth,Fe=st.innerHeight,Le=Math.min(we,Fe),Rt=Math.max(we,Fe);return Le>390&&Le<520&&Rt>620&&Rt<800},tablet:st=>{const we=st.innerWidth,Fe=st.innerHeight,Le=Math.min(we,Fe),Rt=Math.max(we,Fe);return An(st)||(st=>tn(st)&&!zn(st,/mobile/i))(st)||Le>460&&Le<820&&Rt>780&&Rt<1400},cordova:Yt,capacitor:Cn,electron:st=>zn(st,/electron/i),pwa:st=>{var we;return!!(null!==(we=st.matchMedia)&&void 0!==we&&we.call(st,"(display-mode: standalone)").matches||st.navigator.standalone)},mobile:bt,mobileweb:st=>bt(st)&&!wn(st),desktop:st=>!bt(st),hybrid:wn};let Kt;const Vn=st=>st&&(0,w.g)(st)||Kt,kn=(st={})=>{if(typeof window>"u")return;const we=window.document,Fe=window,Le=Fe.Ionic=Fe.Ionic||{},Rt={};st._ael&&(Rt.ael=st._ael),st._rel&&(Rt.rel=st._rel),st._ce&&(Rt.ce=st._ce),(0,w.a)(Rt);const bn=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(st=>{try{const we=st.sessionStorage.getItem(Ut);return null!==we?JSON.parse(we):{}}catch{return{}}})(Fe)),{persistConfig:!1}),Le.config),(st=>{const we={};return st.location.search.slice(1).split("&").map(Fe=>Fe.split("=")).map(([Fe,Le])=>{try{return[decodeURIComponent(Fe),decodeURIComponent(Le)]}catch{return["",""]}}).filter(([Fe])=>((st,we)=>st.substr(0,we.length)===we)(Fe,"ionic:")).map(([Fe,Le])=>[Fe.slice(6),Le]).forEach(([Fe,Le])=>{we[Fe]=Le}),we})(Fe)),st);wt.reset(bn),wt.getBoolean("persistConfig")&&((st,we)=>{try{st.sessionStorage.setItem(Ut,JSON.stringify(we))}catch{return}})(Fe,bn),vt(Fe),Le.config=wt,Le.mode=Kt=wt.get("mode",we.documentElement.getAttribute("mode")||(et(Fe,"ios")?"ios":"md")),wt.set("mode",Kt),we.documentElement.setAttribute("mode",Kt),we.documentElement.classList.add(Kt),wt.getBoolean("_testing")&&wt.set("animated",!1);const sn=dr=>{var bi;return null===(bi=dr.tagName)||void 0===bi?void 0:bi.startsWith("ION-")},Rn=dr=>["ios","md"].includes(dr);(0,w.c)(dr=>{for(;dr;){const bi=dr.mode||dr.getAttribute("mode");if(bi){if(Rn(bi))return bi;sn(dr)&&console.warn('Invalid ionic mode: "'+bi+'", expected: "ios" or "md"')}dr=dr.parentElement}return Kt})}},8454:(Kr,dn,Be)=>{"use strict";Be.r(dn),Be.d(dn,{iosTransitionAnimation:()=>Ft,shadow:()=>Nt});var w=Be(9986),e=Be(2725);Be(8476),Be(3664),Be(9672);const Ze=mn=>document.querySelector(`${mn}.ion-cloned-element`),Nt=mn=>mn.shadowRoot||mn,Ut=mn=>{const qt="ION-TABS"===mn.tagName?mn:mn.querySelector("ion-tabs"),tn="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=qt){const Un=qt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Un?Un.querySelector(tn):null}return mn.querySelector(tn)},Ct=(mn,qt)=>{const tn="ION-TABS"===mn.tagName?mn:mn.querySelector("ion-tabs");let Un=[];if(null!=tn){const gn=tn.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=gn&&(Un=gn.querySelectorAll("ion-buttons"))}else Un=mn.querySelectorAll("ion-buttons");for(const gn of Un){const Tn=gn.closest("ion-header"),bt=Tn&&!Tn.classList.contains("header-collapse-condense-inactive"),Vt=gn.querySelector("ion-back-button"),wn=gn.classList.contains("buttons-collapse");if(null!==Vt&&("start"===gn.slot||""===gn.slot)&&(wn&&bt&&qt||!wn))return Vt}return null},vt=(mn,qt,tn,Un,gn,Tn,bt,Vt,wn)=>{var Yt,Cn;const Dn=qt?`calc(100% - ${gn.right+4}px)`:gn.left-4+"px",nt=qt?"right":"left",zn=qt?"left":"right",yr=qt?"right":"left";let xr=1,Kt=1,Vn=`scale(${Kt})`;const kn="scale(1)";if(Tn&&bt){const vn=(null===(Yt=Tn.textContent)||void 0===Yt?void 0:Yt.trim())===(null===(Cn=Vt.textContent)||void 0===Cn?void 0:Cn.trim());xr=wn.width/bt.width,Kt=(wn.height-An)/bt.height,Vn=vn?`scale(${xr}, ${Kt})`:`scale(${Kt})`}const we=Nt(Un).querySelector("ion-icon").getBoundingClientRect(),Fe=qt?we.width/2-(we.right-gn.right)+"px":gn.left-we.width/2+"px",Le=qt?`-${window.innerWidth-gn.right}px`:`${gn.left}px`,Rt=`${wn.top}px`,bn=`${gn.top}px`,dr=tn?[{offset:0,transform:`translate3d(${Le}, ${bn}, 0)`},{offset:1,transform:`translate3d(${Fe}, ${Rt}, 0)`}]:[{offset:0,transform:`translate3d(${Fe}, ${Rt}, 0)`},{offset:1,transform:`translate3d(${Le}, ${bn}, 0)`}],ui=tn?[{offset:0,opacity:1,transform:kn},{offset:1,opacity:0,transform:Vn}]:[{offset:0,opacity:0,transform:Vn},{offset:1,opacity:1,transform:kn}],Yi=tn?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],kr=(0,w.c)(),Di=(0,w.c)(),Wi=(0,w.c)(),fr=Ze("ion-back-button"),Pt=Nt(fr).querySelector(".button-text"),Pn=Nt(fr).querySelector("ion-icon");fr.text=Un.text,fr.mode=Un.mode,fr.icon=Un.icon,fr.color=Un.color,fr.disabled=Un.disabled,fr.style.setProperty("display","block"),fr.style.setProperty("position","fixed"),Di.addElement(Pn),kr.addElement(Pt),Wi.addElement(fr),Wi.beforeStyles({position:"absolute",top:"0px",[yr]:"0px"}).beforeAddWrite(()=>{Un.style.setProperty("display","none"),fr.style.setProperty(nt,Dn)}).afterAddWrite(()=>{Un.style.setProperty("display",""),fr.style.setProperty("display","none"),fr.style.removeProperty(nt)}).keyframes(dr),kr.beforeStyles({"transform-origin":`${nt} top`}).keyframes(ui),Di.beforeStyles({"transform-origin":`${zn} center`}).keyframes(Yi),mn.addAnimation([kr,Di,Wi])},Mt=(mn,qt,tn,Un,gn,Tn,bt,Vt,wn)=>{var Yt,Cn;const Dn=qt?"right":"left",nt=qt?`calc(100% - ${gn.right}px)`:`${gn.left}px`,yr=`${gn.top}px`;let Kt=qt?`-${window.innerWidth-bt.right-8}px`:`${bt.x+8}px`,Vn=.5;const kn="scale(1)";let st=`scale(${Vn})`;if(Vt&&wn){Kt=qt?`-${window.innerWidth-wn.right-8}px`:wn.x-8+"px";const bi=(null===(Yt=Vt.textContent)||void 0===Yt?void 0:Yt.trim())===(null===(Cn=Un.textContent)||void 0===Cn?void 0:Cn.trim());Vn=wn.height/(Tn.height-An),st=bi?`scale(${wn.width/Tn.width}, ${Vn})`:`scale(${Vn})`}const Le=bt.top+bt.height/2-gn.height*Vn/2+"px",sn=tn?[{offset:0,opacity:0,transform:`translate3d(${Kt}, ${Le}, 0) ${st}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${yr}, 0) ${kn}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${yr}, 0) ${kn}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Kt}, ${Le}, 0) ${st}`}],Rn=Ze("ion-title"),dr=(0,w.c)();Rn.innerText=Un.innerText,Rn.size=Un.size,Rn.color=Un.color,dr.addElement(Rn),dr.beforeStyles({"transform-origin":`${Dn} top`,height:`${gn.height}px`,display:"",position:"relative",[Dn]:nt}).beforeAddWrite(()=>{Un.style.setProperty("opacity","0")}).afterAddWrite(()=>{Un.style.setProperty("opacity",""),Rn.style.setProperty("display","none")}).keyframes(sn),mn.addAnimation(dr)},Ft=(mn,qt)=>{var tn;try{const Un="cubic-bezier(0.32,0.72,0,1)",gn="opacity",Tn="transform",bt="0%",wn="rtl"===mn.ownerDocument.dir,Yt=wn?"-99.5%":"99.5%",Cn=wn?"33%":"-33%",Dn=qt.enteringEl,nt=qt.leavingEl,zn="back"===qt.direction,yr=Dn.querySelector(":scope > ion-content"),xr=Dn.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Kt=Dn.querySelectorAll(":scope > ion-header > ion-toolbar"),Vn=(0,w.c)(),kn=(0,w.c)();if(Vn.addElement(Dn).duration((null!==(tn=qt.duration)&&void 0!==tn?tn:0)||540).easing(qt.easing||Un).fill("both").beforeRemoveClass("ion-page-invisible"),nt&&null!=mn){const Le=(0,w.c)();Le.addElement(mn),Vn.addAnimation(Le)}if(yr||0!==Kt.length||0!==xr.length?(kn.addElement(yr),kn.addElement(xr)):kn.addElement(Dn.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Vn.addAnimation(kn),zn?kn.beforeClearStyles([gn]).fromTo("transform",`translateX(${Cn})`,`translateX(${bt})`).fromTo(gn,.8,1):kn.beforeClearStyles([gn]).fromTo("transform",`translateX(${Yt})`,`translateX(${bt})`),yr){const Le=Nt(yr).querySelector(".transition-effect");if(Le){const Rt=Le.querySelector(".transition-cover"),bn=Le.querySelector(".transition-shadow"),sn=(0,w.c)(),Rn=(0,w.c)(),dr=(0,w.c)();sn.addElement(Le).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Rn.addElement(Rt).beforeClearStyles([gn]).fromTo(gn,0,.1),dr.addElement(bn).beforeClearStyles([gn]).fromTo(gn,.03,.7),sn.addAnimation([Rn,dr]),kn.addAnimation([sn])}}const st=Dn.querySelector("ion-header.header-collapse-condense"),{forward:we,backward:Fe}=((mn,qt,tn,Un,gn)=>{const Tn=Ct(Un,tn),bt=Ut(gn),Vt=Ut(Un),wn=Ct(gn,tn),Yt=null!==Tn&&null!==bt&&!tn,Cn=null!==Vt&&null!==wn&&tn;if(Yt){const Dn=bt.getBoundingClientRect(),nt=Tn.getBoundingClientRect(),zn=Nt(Tn).querySelector(".button-text"),yr=null==zn?void 0:zn.getBoundingClientRect(),Kt=Nt(bt).querySelector(".toolbar-title").getBoundingClientRect();Mt(mn,qt,tn,bt,Dn,Kt,nt,zn,yr),vt(mn,qt,tn,Tn,nt,zn,yr,bt,Kt)}else if(Cn){const Dn=Vt.getBoundingClientRect(),nt=wn.getBoundingClientRect(),zn=Nt(wn).querySelector(".button-text"),yr=null==zn?void 0:zn.getBoundingClientRect(),Kt=Nt(Vt).querySelector(".toolbar-title").getBoundingClientRect();Mt(mn,qt,tn,Vt,Dn,Kt,nt,zn,yr),vt(mn,qt,tn,wn,nt,zn,yr,Vt,Kt)}return{forward:Yt,backward:Cn}})(Vn,wn,zn,Dn,nt);if(Kt.forEach(Le=>{const Rt=(0,w.c)();Rt.addElement(Le),Vn.addAnimation(Rt);const bn=(0,w.c)();bn.addElement(Le.querySelector("ion-title"));const sn=(0,w.c)(),Rn=Array.from(Le.querySelectorAll("ion-buttons,[menuToggle]")),dr=Le.closest("ion-header"),bi=null==dr?void 0:dr.classList.contains("header-collapse-condense-inactive");let Sr;Sr=Rn.filter(zn?kr=>{const Di=kr.classList.contains("buttons-collapse");return Di&&!bi||!Di}:kr=>!kr.classList.contains("buttons-collapse")),sn.addElement(Sr);const ui=(0,w.c)();ui.addElement(Le.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ai=(0,w.c)();Ai.addElement(Nt(Le).querySelector(".toolbar-background"));const Yn=(0,w.c)(),Yi=Le.querySelector("ion-back-button");if(Yi&&Yn.addElement(Yi),Rt.addAnimation([bn,sn,ui,Ai,Yn]),sn.fromTo(gn,.01,1),ui.fromTo(gn,.01,1),zn)bi||bn.fromTo("transform",`translateX(${Cn})`,`translateX(${bt})`).fromTo(gn,.01,1),ui.fromTo("transform",`translateX(${Cn})`,`translateX(${bt})`),Yn.fromTo(gn,.01,1);else if(st||bn.fromTo("transform",`translateX(${Yt})`,`translateX(${bt})`).fromTo(gn,.01,1),ui.fromTo("transform",`translateX(${Yt})`,`translateX(${bt})`),Ai.beforeClearStyles([gn,"transform"]),(null==dr?void 0:dr.translucent)?Ai.fromTo("transform",wn?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ai.fromTo(gn,.01,"var(--opacity)"),we||Yn.fromTo(gn,.01,1),Yi&&!we){const Di=(0,w.c)();Di.addElement(Nt(Yi).querySelector(".button-text")).fromTo("transform",wn?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Rt.addAnimation(Di)}}),nt){const Le=(0,w.c)(),Rt=nt.querySelector(":scope > ion-content"),bn=nt.querySelectorAll(":scope > ion-header > ion-toolbar"),sn=nt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Rt||0!==bn.length||0!==sn.length?(Le.addElement(Rt),Le.addElement(sn)):Le.addElement(nt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Vn.addAnimation(Le),zn){Le.beforeClearStyles([gn]).fromTo("transform",`translateX(${bt})`,wn?"translateX(-100%)":"translateX(100%)");const Rn=(0,e.g)(nt);Vn.afterAddWrite(()=>{"normal"===Vn.getDirection()&&Rn.style.setProperty("display","none")})}else Le.fromTo("transform",`translateX(${bt})`,`translateX(${Cn})`).fromTo(gn,1,.8);if(Rt){const Rn=Nt(Rt).querySelector(".transition-effect");if(Rn){const dr=Rn.querySelector(".transition-cover"),bi=Rn.querySelector(".transition-shadow"),Sr=(0,w.c)(),ui=(0,w.c)(),Ai=(0,w.c)();Sr.addElement(Rn).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ui.addElement(dr).beforeClearStyles([gn]).fromTo(gn,.1,0),Ai.addElement(bi).beforeClearStyles([gn]).fromTo(gn,.7,.03),Sr.addAnimation([ui,Ai]),Le.addAnimation([Sr])}}bn.forEach(Rn=>{const dr=(0,w.c)();dr.addElement(Rn);const bi=(0,w.c)();bi.addElement(Rn.querySelector("ion-title"));const Sr=(0,w.c)(),ui=Rn.querySelectorAll("ion-buttons,[menuToggle]"),Ai=Rn.closest("ion-header"),Yn=null==Ai?void 0:Ai.classList.contains("header-collapse-condense-inactive"),Yi=Array.from(ui).filter(Pn=>{const vn=Pn.classList.contains("buttons-collapse");return vn&&!Yn||!vn});Sr.addElement(Yi);const kr=(0,w.c)(),Di=Rn.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Di.length>0&&kr.addElement(Di);const Wi=(0,w.c)();Wi.addElement(Nt(Rn).querySelector(".toolbar-background"));const fr=(0,w.c)(),Pt=Rn.querySelector("ion-back-button");if(Pt&&fr.addElement(Pt),dr.addAnimation([bi,Sr,kr,fr,Wi]),Vn.addAnimation(dr),fr.fromTo(gn,.99,0),Sr.fromTo(gn,.99,0),kr.fromTo(gn,.99,0),zn){if(Yn||bi.fromTo("transform",`translateX(${bt})`,wn?"translateX(-100%)":"translateX(100%)").fromTo(gn,.99,0),kr.fromTo("transform",`translateX(${bt})`,wn?"translateX(-100%)":"translateX(100%)"),Wi.beforeClearStyles([gn,"transform"]),(null==Ai?void 0:Ai.translucent)?Wi.fromTo("transform","translateX(0px)",wn?"translateX(-100%)":"translateX(100%)"):Wi.fromTo(gn,"var(--opacity)",0),Pt&&!Fe){const vn=(0,w.c)();vn.addElement(Nt(Pt).querySelector(".button-text")).fromTo("transform",`translateX(${bt})`,`translateX(${(wn?-124:124)+"px"})`),dr.addAnimation(vn)}}else Yn||bi.fromTo("transform",`translateX(${bt})`,`translateX(${Cn})`).fromTo(gn,.99,0).afterClearStyles([Tn,gn]),kr.fromTo("transform",`translateX(${bt})`,`translateX(${Cn})`).afterClearStyles([Tn,gn]),fr.afterClearStyles([gn]),bi.afterClearStyles([gn]),Sr.afterClearStyles([gn])})}return Vn}catch(Un){throw Un}},An=10},3314:(Kr,dn,Be)=>{"use strict";Be.r(dn),Be.d(dn,{mdTransitionAnimation:()=>tt});var w=Be(9986),e=Be(2725);Be(8476),Be(3664),Be(9672);const tt=(Ze,Nt)=>{var Ut,Ct,et;const Ft="back"===Nt.direction,mn=Nt.leavingEl,qt=(0,e.g)(Nt.enteringEl),tn=qt.querySelector("ion-toolbar"),Un=(0,w.c)();if(Un.addElement(qt).fill("both").beforeRemoveClass("ion-page-invisible"),Ft?Un.duration((null!==(Ut=Nt.duration)&&void 0!==Ut?Ut:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Un.duration((null!==(Ct=Nt.duration)&&void 0!==Ct?Ct:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),tn){const gn=(0,w.c)();gn.addElement(tn),Un.addAnimation(gn)}if(mn&&Ft){Un.duration((null!==(et=Nt.duration)&&void 0!==et?et:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const gn=(0,w.c)();gn.addElement((0,e.g)(mn)).onFinish(Tn=>{1===Tn&&gn.elements.length>0&&gn.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Un.addAnimation(gn)}return Un}},6002:(Kr,dn,Be)=>{"use strict";Be.d(dn,{B:()=>ui,F:()=>fr,G:()=>Ai,O:()=>Yn,a:()=>qt,b:()=>tn,c:()=>bt,d:()=>Yi,e:()=>kr,f:()=>we,g:()=>Le,h:()=>sn,i:()=>dr,j:()=>wn,k:()=>Yt,m:()=>gn,n:()=>Ct,o:()=>kn,q:()=>et,s:()=>Sr,t:()=>Vt});var w=Be(467),e=Be(8476),wt=Be(4920),ot=Be(6411),Z=Be(3664),tt=Be(8621),Ze=Be(1970),Nt=Be(4929);const Ut='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ct=(Pt,Pn)=>{const vn=Pt.querySelector(Ut);vt(vn,null!=Pn?Pn:Pt)},et=(Pt,Pn)=>{const vn=Array.from(Pt.querySelectorAll(Ut));vt(vn.length>0?vn[vn.length-1]:null,null!=Pn?Pn:Pt)},vt=(Pt,Pn)=>{let vn=Pt;const $r=null==Pt?void 0:Pt.shadowRoot;$r&&(vn=$r.querySelector(Ut)||Pt),vn?(0,wt.f)(vn):Pn.focus()};let Mt=0,Ft=0;const An=new WeakMap,mn=Pt=>({create:Pn=>Cn(Pt,Pn),dismiss:(Pn,vn,$r)=>xr(document,Pn,vn,Pt,$r),getTop:()=>(0,w.A)(function*(){return kn(document,Pt)})()}),qt=mn("ion-alert"),tn=mn("ion-action-sheet"),gn=mn("ion-modal"),bt=mn("ion-popover"),Vt=mn("ion-toast"),wn=Pt=>{typeof document<"u"&&yr(document);const Pn=Mt++;Pt.overlayIndex=Pn},Yt=Pt=>(Pt.hasAttribute("id")||(Pt.id="ion-overlay-"+ ++Ft),Pt.id),Cn=(Pt,Pn)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Pt).then(()=>{const vn=document.createElement(Pt);return vn.classList.add("overlay-hidden"),Object.assign(vn,Object.assign(Object.assign({},Pn),{hasController:!0})),Rt(document).appendChild(vn),new Promise($r=>(0,wt.c)(vn,$r))}):Promise.resolve(),nt=(Pt,Pn)=>{let vn=Pt;const $r=null==Pt?void 0:Pt.shadowRoot;$r&&(vn=$r.querySelector(Ut)||Pt),vn?(0,wt.f)(vn):Pn.focus()},yr=Pt=>{0===Mt&&(Mt=1,Pt.addEventListener("focus",Pn=>{((Pt,Pn)=>{const vn=kn(Pn,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),$r=Pt.target;vn&&$r&&!vn.classList.contains(fr)&&(vn.shadowRoot?(()=>{if(vn.contains($r))vn.lastFocus=$r;else if("ION-TOAST"===$r.tagName)nt(vn.lastFocus,vn);else{const di=vn.lastFocus;Ct(vn),di===Pn.activeElement&&et(vn),vn.lastFocus=Pn.activeElement}})():(()=>{if(vn===$r)vn.lastFocus=void 0;else if("ION-TOAST"===$r.tagName)nt(vn.lastFocus,vn);else{const di=(0,wt.g)(vn);if(!di.contains($r))return;const Hr=di.querySelector(".ion-overlay-wrapper");if(!Hr)return;if(Hr.contains($r)||$r===di.querySelector("ion-backdrop"))vn.lastFocus=$r;else{const Er=vn.lastFocus;Ct(Hr,vn),Er===Pn.activeElement&&et(Hr,vn),vn.lastFocus=Pn.activeElement}}})())})(Pn,Pt)},!0),Pt.addEventListener("ionBackButton",Pn=>{const vn=kn(Pt);null!=vn&&vn.backdropDismiss&&Pn.detail.register(ot.OVERLAY_BACK_BUTTON_PRIORITY,()=>{vn.dismiss(void 0,ui)})}),(0,ot.shouldUseCloseWatcher)()||Pt.addEventListener("keydown",Pn=>{if("Escape"===Pn.key){const vn=kn(Pt);null!=vn&&vn.backdropDismiss&&vn.dismiss(void 0,ui)}}))},xr=(Pt,Pn,vn,$r,si)=>{const lr=kn(Pt,$r,si);return lr?lr.dismiss(Pn,vn):Promise.reject("overlay does not exist")},Vn=(Pt,Pn)=>((Pt,Pn)=>(void 0===Pn&&(Pn="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Pt.querySelectorAll(Pn)).filter(vn=>vn.overlayIndex>0)))(Pt,Pn).filter(vn=>!(Pt=>Pt.classList.contains("overlay-hidden"))(vn)),kn=(Pt,Pn,vn)=>{const $r=Vn(Pt,Pn);return void 0===vn?$r[$r.length-1]:$r.find(si=>si.id===vn)},st=(Pt=!1)=>{const vn=Rt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");vn&&(Pt?vn.setAttribute("aria-hidden","true"):vn.removeAttribute("aria-hidden"))},we=function(){var Pt=(0,w.A)(function*(Pn,vn,$r,si,lr){var di,Hr;if(Pn.presented)return;st(!0),document.body.classList.add(Ze.B),Di(Pn.el),Pn.presented=!0,Pn.willPresent.emit(),null===(di=Pn.willPresentShorthand)||void 0===di||di.emit();const Er=(0,Z.b)(Pn),ri=Pn.enterAnimation?Pn.enterAnimation:Z.c.get(vn,"ios"===Er?$r:si);(yield bn(Pn,ri,Pn.el,lr))&&(Pn.didPresent.emit(),null===(Hr=Pn.didPresentShorthand)||void 0===Hr||Hr.emit()),"ION-TOAST"!==Pn.el.tagName&&Fe(Pn.el),Pn.keyboardClose&&(null===document.activeElement||!Pn.el.contains(document.activeElement))&&Pn.el.focus(),Pn.el.removeAttribute("aria-hidden")});return function(vn,$r,si,lr,di){return Pt.apply(this,arguments)}}(),Fe=function(){var Pt=(0,w.A)(function*(Pn){let vn=document.activeElement;if(!vn)return;const $r=null==vn?void 0:vn.shadowRoot;$r&&(vn=$r.querySelector(Ut)||vn),yield Pn.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&vn.focus()});return function(vn){return Pt.apply(this,arguments)}}(),Le=function(){var Pt=(0,w.A)(function*(Pn,vn,$r,si,lr,di,Hr){var Er,ri;if(!Pn.presented)return!1;void 0!==e.d&&1===Vn(e.d).length&&(st(!1),document.body.classList.remove(Ze.B)),Pn.presented=!1;try{Pn.el.style.setProperty("pointer-events","none"),Pn.willDismiss.emit({data:vn,role:$r}),null===(Er=Pn.willDismissShorthand)||void 0===Er||Er.emit({data:vn,role:$r});const uo=(0,Z.b)(Pn),_o=Pn.leaveAnimation?Pn.leaveAnimation:Z.c.get(si,"ios"===uo?lr:di);$r!==Ai&&(yield bn(Pn,_o,Pn.el,Hr)),Pn.didDismiss.emit({data:vn,role:$r}),null===(ri=Pn.didDismissShorthand)||void 0===ri||ri.emit({data:vn,role:$r}),(An.get(Pn)||[]).forEach(Mo=>Mo.destroy()),An.delete(Pn),Pn.el.classList.add("overlay-hidden"),Pn.el.style.removeProperty("pointer-events"),void 0!==Pn.el.lastFocus&&(Pn.el.lastFocus=void 0)}catch(uo){console.error(uo)}return Pn.el.remove(),Wi(),!0});return function(vn,$r,si,lr,di,Hr,Er){return Pt.apply(this,arguments)}}(),Rt=Pt=>Pt.querySelector("ion-app")||Pt.body,bn=function(){var Pt=(0,w.A)(function*(Pn,vn,$r,si){$r.classList.remove("overlay-hidden");const di=vn(Pn.el,si);(!Pn.animated||!Z.c.getBoolean("animated",!0))&&di.duration(0),Pn.keyboardClose&&di.beforeAddWrite(()=>{const Er=$r.ownerDocument.activeElement;null!=Er&&Er.matches("input,ion-input, ion-textarea")&&Er.blur()});const Hr=An.get(Pn)||[];return An.set(Pn,[...Hr,di]),yield di.play(),!0});return function(vn,$r,si,lr){return Pt.apply(this,arguments)}}(),sn=(Pt,Pn)=>{let vn;const $r=new Promise(si=>vn=si);return Rn(Pt,Pn,si=>{vn(si.detail)}),$r},Rn=(Pt,Pn,vn)=>{const $r=si=>{(0,wt.b)(Pt,Pn,$r),vn(si)};(0,wt.a)(Pt,Pn,$r)},dr=Pt=>"cancel"===Pt||Pt===ui,bi=Pt=>Pt(),Sr=(Pt,Pn)=>{if("function"==typeof Pt)return Z.c.get("_zoneGate",bi)(()=>{try{return Pt(Pn)}catch($r){throw $r}})},ui="backdrop",Ai="gesture",Yn=39,Yi=Pt=>{let vn,Pn=!1;const $r=(0,tt.C)(),si=(Hr=!1)=>{if(vn&&!Hr)return{delegate:vn,inline:Pn};const{el:Er,hasController:ri,delegate:eo}=Pt;return Pn=null!==Er.parentNode&&!ri,vn=Pn?eo||$r:eo,{inline:Pn,delegate:vn}};return{attachViewToDom:function(){var Hr=(0,w.A)(function*(Er){const{delegate:ri}=si(!0);if(ri)return yield ri.attachViewToDom(Pt.el,Er);const{hasController:eo}=Pt;if(eo&&void 0!==Er)throw new Error("framework delegate is missing");return null});return function(ri){return Hr.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Hr}=si();Hr&&void 0!==Pt.el&&Hr.removeViewFromDom(Pt.el.parentElement,Pt.el)}}},kr=()=>{let Pt;const Pn=()=>{Pt&&(Pt(),Pt=void 0)};return{addClickListener:($r,si)=>{Pn();const lr=void 0!==si?document.getElementById(si):null;lr?Pt=((Hr,Er)=>{const ri=()=>{Er.present()};return Hr.addEventListener("click",ri),()=>{Hr.removeEventListener("click",ri)}})(lr,$r):(0,Nt.p)(`A trigger element with the ID "${si}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,$r)},removeClickListener:Pn}},Di=Pt=>{var Pn;if(void 0===e.d)return;const vn=Vn(e.d);for(let $r=vn.length-1;$r>=0;$r--){const si=vn[$r],lr=null!==(Pn=vn[$r+1])&&void 0!==Pn?Pn:Pt;(lr.hasAttribute("aria-hidden")||"ION-TOAST"!==lr.tagName)&&si.setAttribute("aria-hidden","true")}},Wi=()=>{if(void 0===e.d)return;const Pt=Vn(e.d);for(let Pn=Pt.length-1;Pn>=0;Pn--){const vn=Pt[Pn];if(vn.removeAttribute("aria-hidden"),"ION-TOAST"!==vn.tagName)break}},fr="ion-disable-focus-trap"},3426:(Kr,dn,Be)=>{"use strict";Be.d(dn,{O:()=>Ct});var w=Be(467),e=Be(7935),Ze=(Be(4635),Be(4666),Be(5562),Be(2508),Be(4438)),Nt=Be(3077),Ut=Be(70);let Ct=(()=>{var et;class vt{constructor(Ft,An){this.toastController=Ft,this.router=An,this.currentCustomerAddTask="",this.unsavedChanges=!1}presentToast(Ft){var An=this;return(0,w.A)(function*(){(yield An.toastController.create({message:Ft,duration:3e3})).present()})()}showOrHideSidebarGlobal(){const Ft=document.getElementById("sidebar");Ft.style.display="flex"==Ft.style.display?"none":"flex"}logOut(){confirm("Sei sicuro di volerti disconnettere?")&&e.A.auth().signOut().then(()=>{this.router.navigate(["log"]),this.presentToast("Disconnesso con successo")}).catch(An=>{this.presentToast("Errore durante la disconnessione: "+An.message)})}initNormalScreen(){document.getElementById("sidebar").style.display="flex",document.getElementById("header").style.display="flex"}hideOrShowSidebar(){const Ft=document.getElementById("sidebar"),An=document.getElementById("header-open-close-sidebar-button");"flex"==Ft.style.display?(Ft.style.display="none",An.style.display="flex"):(Ft.style.display="flex",An.style.display="none")}}return(et=vt).\u0275fac=function(Ft){return new(Ft||et)(Ze.KVO(Nt.K_),Ze.KVO(Ut.Ix))},et.\u0275prov=Ze.jDH({token:et,factory:et.\u0275fac,providedIn:"root"}),vt})()},5217:(Kr,dn,Be)=>{"use strict";var w=Be(345),e=Be(4438),wt=Be(3077),ot=Be(177),Z=Be(467),tt=Be(7935);Be(4635),Be(4666),Be(5562),Be(2508);class vt extends Error{constructor(d,c="FunctionsError",u){super(d),this.name=c,this.context=u}}class Mt extends vt{constructor(d){super("Failed to send a request to the Edge Function","FunctionsFetchError",d)}}class Ft extends vt{constructor(d){super("Relay Error invoking the Edge Function","FunctionsRelayError",d)}}class An extends vt{constructor(d){super("Edge Function returned a non-2xx status code","FunctionsHttpError",d)}}var mn=function(g){return g.Any="any",g.ApNortheast1="ap-northeast-1",g.ApNortheast2="ap-northeast-2",g.ApSouth1="ap-south-1",g.ApSoutheast1="ap-southeast-1",g.ApSoutheast2="ap-southeast-2",g.CaCentral1="ca-central-1",g.EuCentral1="eu-central-1",g.EuWest1="eu-west-1",g.EuWest2="eu-west-2",g.EuWest3="eu-west-3",g.SaEast1="sa-east-1",g.UsEast1="us-east-1",g.UsWest1="us-west-1",g.UsWest2="us-west-2",g}(mn||{});class tn{constructor(d,{headers:c={},customFetch:u,region:_=mn.Any}={}){this.url=d,this.headers=c,this.region=_,this.fetch=(g=>{let d;return d=g||(typeof fetch>"u"?(...c)=>Promise.resolve().then(Be.bind(Be,5286)).then(({default:u})=>u(...c)):fetch),(...c)=>d(...c)})(u)}setAuth(d){this.headers.Authorization=`Bearer ${d}`}invoke(d,c={}){var u;return function(g,d,c,u){return new(c||(c=Promise))(function(I,P){function U(oe){try{te(u.next(oe))}catch(ve){P(ve)}}function $(oe){try{te(u.throw(oe))}catch(ve){P(ve)}}function te(oe){oe.done?I(oe.value):function _(I){return I instanceof c?I:new c(function(P){P(I)})}(oe.value).then(U,$)}te((u=u.apply(g,d||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:_,method:I,body:P}=c;let te,U={},{region:$}=c;$||($=this.region),$&&"any"!==$&&(U["x-region"]=$),P&&(_&&!Object.prototype.hasOwnProperty.call(_,"Content-Type")||!_)&&(typeof Blob<"u"&&P instanceof Blob||P instanceof ArrayBuffer?(U["Content-Type"]="application/octet-stream",te=P):"string"==typeof P?(U["Content-Type"]="text/plain",te=P):typeof FormData<"u"&&P instanceof FormData?te=P:(U["Content-Type"]="application/json",te=JSON.stringify(P)));const oe=yield this.fetch(`${this.url}/${d}`,{method:I||"POST",headers:Object.assign(Object.assign(Object.assign({},U),this.headers),_),body:te}).catch(ct=>{throw new Mt(ct)}),ve=oe.headers.get("x-relay-error");if(ve&&"true"===ve)throw new Ft(oe);if(!oe.ok)throw new An(oe);let he,Oe=(null!==(u=oe.headers.get("Content-Type"))&&void 0!==u?u:"text/plain").split(";")[0].trim();return he="application/json"===Oe?yield oe.json():"application/octet-stream"===Oe?yield oe.blob():"text/event-stream"===Oe?oe:"multipart/form-data"===Oe?yield oe.formData():yield oe.text(),{data:he,error:null}}catch(_){return{data:null,error:_}}})}}var Un=Be(4060);const{PostgrestClient:gn}=Un,Dn={"X-Client-Info":"realtime-js/2.10.7"};var xr=function(g){return g[g.connecting=0]="connecting",g[g.open=1]="open",g[g.closing=2]="closing",g[g.closed=3]="closed",g}(xr||{}),Kt=function(g){return g.closed="closed",g.errored="errored",g.joined="joined",g.joining="joining",g.leaving="leaving",g}(Kt||{}),Vn=function(g){return g.close="phx_close",g.error="phx_error",g.join="phx_join",g.reply="phx_reply",g.leave="phx_leave",g.access_token="access_token",g}(Vn||{}),kn=function(g){return g.websocket="websocket",g}(kn||{}),st=function(g){return g.Connecting="connecting",g.Open="open",g.Closing="closing",g.Closed="closed",g}(st||{});class we{constructor(){this.HEADER_LENGTH=1}decode(d,c){return d.constructor===ArrayBuffer?c(this._binaryDecode(d)):c("string"==typeof d?JSON.parse(d):{})}_binaryDecode(d){const c=new DataView(d),u=new TextDecoder;return this._decodeBroadcast(d,c,u)}_decodeBroadcast(d,c,u){const _=c.getUint8(1),I=c.getUint8(2);let P=this.HEADER_LENGTH+2;const U=u.decode(d.slice(P,P+_));P+=_;const $=u.decode(d.slice(P,P+I));return P+=I,{ref:null,topic:U,event:$,payload:JSON.parse(u.decode(d.slice(P,d.byteLength)))}}}class Fe{constructor(d,c){this.callback=d,this.timerCalc=c,this.timer=void 0,this.tries=0,this.callback=d,this.timerCalc=c}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le=function(g){return g.abstime="abstime",g.bool="bool",g.date="date",g.daterange="daterange",g.float4="float4",g.float8="float8",g.int2="int2",g.int4="int4",g.int4range="int4range",g.int8="int8",g.int8range="int8range",g.json="json",g.jsonb="jsonb",g.money="money",g.numeric="numeric",g.oid="oid",g.reltime="reltime",g.text="text",g.time="time",g.timestamp="timestamp",g.timestamptz="timestamptz",g.timetz="timetz",g.tsrange="tsrange",g.tstzrange="tstzrange",g}(Le||{});const Rt=(g,d,c={})=>{var u;const _=null!==(u=c.skipTypes)&&void 0!==u?u:[];return Object.keys(d).reduce((I,P)=>(I[P]=bn(P,g,d,_),I),{})},bn=(g,d,c,u)=>{const _=d.find(U=>U.name===g),I=null==_?void 0:_.type,P=c[g];return I&&!u.includes(I)?sn(I,P):Rn(P)},sn=(g,d)=>{if("_"===g.charAt(0)){const c=g.slice(1,g.length);return ui(d,c)}switch(g){case Le.bool:return dr(d);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return bi(d);case Le.json:case Le.jsonb:return Sr(d);case Le.timestamp:return Ai(d);default:return Rn(d)}},Rn=g=>g,dr=g=>{switch(g){case"t":return!0;case"f":return!1;default:return g}},bi=g=>{if("string"==typeof g){const d=parseFloat(g);if(!Number.isNaN(d))return d}return g},Sr=g=>{if("string"==typeof g)try{return JSON.parse(g)}catch(d){return console.log(`JSON parse error: ${d}`),g}return g},ui=(g,d)=>{if("string"!=typeof g)return g;const c=g.length-1;if("{"===g[0]&&"}"===g[c]){let I;const P=g.slice(1,c);try{I=JSON.parse("["+P+"]")}catch{I=P?P.split(","):[]}return I.map(U=>sn(d,U))}return g},Ai=g=>"string"==typeof g?g.replace(" ","T"):g,Yn=g=>{let d=g;return d=d.replace(/^ws/i,"http"),d=d.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),d.replace(/\/+$/,"")};class Yi{constructor(d,c,u={},_=1e4){this.channel=d,this.event=c,this.payload=u,this.timeout=_,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(d){this.timeout=d,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(d){this.payload=Object.assign(Object.assign({},this.payload),d)}receive(d,c){var u;return this._hasReceived(d)&&c(null===(u=this.receivedResp)||void 0===u?void 0:u.response),this.recHooks.push({status:d,callback:c}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},c=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=c,this._matchReceive(c)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(d,c){this.refEvent&&this.channel._trigger(this.refEvent,{status:d,response:c})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:d,response:c}){this.recHooks.filter(u=>u.status===d).forEach(u=>u.callback(c))}_hasReceived(d){return this.receivedResp&&this.receivedResp.status===d}}class Di{constructor(d,c){this.channel=d,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const u=(null==c?void 0:c.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(u.state,{},_=>{const{onJoin:I,onLeave:P,onSync:U}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Di.syncState(this.state,_,I,P),this.pendingDiffs.forEach($=>{this.state=Di.syncDiff(this.state,$,I,P)}),this.pendingDiffs=[],U()}),this.channel._on(u.diff,{},_=>{const{onJoin:I,onLeave:P,onSync:U}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(_):(this.state=Di.syncDiff(this.state,_,I,P),U())}),this.onJoin((_,I,P)=>{this.channel._trigger("presence",{event:"join",key:_,currentPresences:I,newPresences:P})}),this.onLeave((_,I,P)=>{this.channel._trigger("presence",{event:"leave",key:_,currentPresences:I,leftPresences:P})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(d,c,u,_){const I=this.cloneDeep(d),P=this.transformState(c),U={},$={};return this.map(I,(te,oe)=>{P[te]||($[te]=oe)}),this.map(P,(te,oe)=>{const ve=I[te];if(ve){const Oe=oe.map(ht=>ht.presence_ref),he=ve.map(ht=>ht.presence_ref),ct=oe.filter(ht=>he.indexOf(ht.presence_ref)<0),at=ve.filter(ht=>Oe.indexOf(ht.presence_ref)<0);ct.length>0&&(U[te]=ct),at.length>0&&($[te]=at)}else U[te]=oe}),this.syncDiff(I,{joins:U,leaves:$},u,_)}static syncDiff(d,c,u,_){const{joins:I,leaves:P}={joins:this.transformState(c.joins),leaves:this.transformState(c.leaves)};return u||(u=()=>{}),_||(_=()=>{}),this.map(I,(U,$)=>{var te;const oe=null!==(te=d[U])&&void 0!==te?te:[];if(d[U]=this.cloneDeep($),oe.length>0){const ve=d[U].map(he=>he.presence_ref),Oe=oe.filter(he=>ve.indexOf(he.presence_ref)<0);d[U].unshift(...Oe)}u(U,oe,$)}),this.map(P,(U,$)=>{let te=d[U];if(!te)return;const oe=$.map(ve=>ve.presence_ref);te=te.filter(ve=>oe.indexOf(ve.presence_ref)<0),d[U]=te,_(U,te,$),0===te.length&&delete d[U]}),d}static map(d,c){return Object.getOwnPropertyNames(d).map(u=>c(u,d[u]))}static transformState(d){return d=this.cloneDeep(d),Object.getOwnPropertyNames(d).reduce((c,u)=>{const _=d[u];return c[u]="metas"in _?_.metas.map(I=>(I.presence_ref=I.phx_ref,delete I.phx_ref,delete I.phx_ref_prev,I)):_,c},{})}static cloneDeep(d){return JSON.parse(JSON.stringify(d))}onJoin(d){this.caller.onJoin=d}onLeave(d){this.caller.onLeave=d}onSync(d){this.caller.onSync=d}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}class vn{constructor(d,c={config:{}},u){this.topic=d,this.params=c,this.socket=u,this.bindings={},this.state=Kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=d.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},c.config),this.timeout=this.socket.timeout,this.joinPush=new Yi(this,Vn.join,this.params,this.timeout),this.rejoinTimer=new Fe(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(_=>_.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kt.closed,this.socket._remove(this)}),this._onError(_=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,_),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vn.reply,{},(_,I)=>{this._trigger(this._replyEventName(I),_)}),this.presence=new Di(this),this.broadcastEndpointURL=Yn(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(d,c=this.timeout){var u,_;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:I,presence:P,private:U}}=this.params;this._onError(oe=>d&&d("CHANNEL_ERROR",oe)),this._onClose(()=>d&&d("CLOSED"));const $={},te={broadcast:I,presence:P,postgres_changes:null!==(_=null===(u=this.bindings.postgres_changes)||void 0===u?void 0:u.map(oe=>oe.filter))&&void 0!==_?_:[],private:U};this.socket.accessToken&&($.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:te},$)),this.joinedOnce=!0,this._rejoin(c),this.joinPush.receive("ok",({postgres_changes:oe})=>{var ve;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==oe){const Oe=this.bindings.postgres_changes,he=null!==(ve=null==Oe?void 0:Oe.length)&&void 0!==ve?ve:0,ct=[];for(let at=0;at<he;at++){const ht=Oe[at],{filter:{event:m,schema:A,table:p,filter:b}}=ht,Q=oe&&oe[at];if(!Q||Q.event!==m||Q.schema!==A||Q.table!==p||Q.filter!==b)return this.unsubscribe(),void(d&&d("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));ct.push(Object.assign(Object.assign({},ht),{id:Q.id}))}return this.bindings.postgres_changes=ct,void(d&&d("SUBSCRIBED"))}d&&d("SUBSCRIBED")}).receive("error",oe=>{d&&d("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(oe).join(", ")||"error")))}).receive("timeout",()=>{d&&d("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(d,c={}){var u=this;return(0,Z.A)(function*(){return yield u.send({type:"presence",event:"track",payload:d},c.timeout||u.timeout)})()}untrack(d={}){var c=this;return(0,Z.A)(function*(){return yield c.send({type:"presence",event:"untrack"},d)})()}on(d,c,u){return this._on(d,c,u)}send(d,c={}){var u=this;return(0,Z.A)(function*(){var _,I;if(u._canPush()||"broadcast"!==d.type)return new Promise(P=>{var U,$,te;const oe=u._push(d.type,d,c.timeout||u.timeout);"broadcast"===d.type&&!(null!==(te=null===($=null===(U=u.params)||void 0===U?void 0:U.config)||void 0===$?void 0:$.broadcast)&&void 0!==te&&te.ack)&&P("ok"),oe.receive("ok",()=>P("ok")),oe.receive("error",()=>P("error")),oe.receive("timeout",()=>P("timed out"))});{const{event:P,payload:U}=d,$={method:"POST",headers:{Authorization:u.socket.accessToken?`Bearer ${u.socket.accessToken}`:"",apikey:u.socket.apiKey?u.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:u.subTopic,event:P,payload:U,private:u.private}]})};try{const te=yield u._fetchWithTimeout(u.broadcastEndpointURL,$,null!==(_=c.timeout)&&void 0!==_?_:u.timeout);return yield null===(I=te.body)||void 0===I?void 0:I.cancel(),te.ok?"ok":"error"}catch(te){return"AbortError"===te.name?"timed out":"error"}}})()}updateJoinPayload(d){this.joinPush.updatePayload(d)}unsubscribe(d=this.timeout){this.state=Kt.leaving;const c=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(u=>{const _=new Yi(this,Vn.leave,{},d);_.receive("ok",()=>{c(),u("ok")}).receive("timeout",()=>{c(),u("timed out")}).receive("error",()=>{u("error")}),_.send(),this._canPush()||_.trigger("ok",{})})}_fetchWithTimeout(d,c,u){var _=this;return(0,Z.A)(function*(){const I=new AbortController,P=setTimeout(()=>I.abort(),u),U=yield _.socket.fetch(d,Object.assign(Object.assign({},c),{signal:I.signal}));return clearTimeout(P),U})()}_push(d,c,u=this.timeout){if(!this.joinedOnce)throw`tried to push '${d}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let _=new Yi(this,d,c,u);return this._canPush()?_.send():(_.startTimeout(),this.pushBuffer.push(_)),_}_onMessage(d,c,u){return c}_isMember(d){return this.topic===d}_joinRef(){return this.joinPush.ref}_trigger(d,c,u){var _,I;const P=d.toLocaleLowerCase(),{close:U,error:$,leave:te,join:oe}=Vn;if(u&&[U,$,te,oe].indexOf(P)>=0&&u!==this._joinRef())return;let Oe=this._onMessage(P,c,u);if(c&&!Oe)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(P)?null===(_=this.bindings.postgres_changes)||void 0===_||_.filter(he=>{var ct,at,ht;return"*"===(null===(ct=he.filter)||void 0===ct?void 0:ct.event)||(null===(ht=null===(at=he.filter)||void 0===at?void 0:at.event)||void 0===ht?void 0:ht.toLocaleLowerCase())===P}).map(he=>he.callback(Oe,u)):null===(I=this.bindings[P])||void 0===I||I.filter(he=>{var ct,at,ht,m,A,p;if(["broadcast","presence","postgres_changes"].includes(P)){if("id"in he){const b=he.id,Q=null===(ct=he.filter)||void 0===ct?void 0:ct.event;return b&&(null===(at=c.ids)||void 0===at?void 0:at.includes(b))&&("*"===Q||(null==Q?void 0:Q.toLocaleLowerCase())===(null===(ht=c.data)||void 0===ht?void 0:ht.type.toLocaleLowerCase()))}{const b=null===(A=null===(m=null==he?void 0:he.filter)||void 0===m?void 0:m.event)||void 0===A?void 0:A.toLocaleLowerCase();return"*"===b||b===(null===(p=null==c?void 0:c.event)||void 0===p?void 0:p.toLocaleLowerCase())}}return he.type.toLocaleLowerCase()===P}).map(he=>{if("object"==typeof Oe&&"ids"in Oe){const ct=Oe.data,{schema:at,table:ht,commit_timestamp:m,type:A,errors:p}=ct;Oe=Object.assign(Object.assign({},{schema:at,table:ht,commit_timestamp:m,eventType:A,new:{},old:{},errors:p}),this._getPayloadRecords(ct))}he.callback(Oe,u)})}_isClosed(){return this.state===Kt.closed}_isJoined(){return this.state===Kt.joined}_isJoining(){return this.state===Kt.joining}_isLeaving(){return this.state===Kt.leaving}_replyEventName(d){return`chan_reply_${d}`}_on(d,c,u){const _=d.toLocaleLowerCase(),I={type:_,filter:c,callback:u};return this.bindings[_]?this.bindings[_].push(I):this.bindings[_]=[I],this}_off(d,c){const u=d.toLocaleLowerCase();return this.bindings[u]=this.bindings[u].filter(_=>{var I;return!((null===(I=_.type)||void 0===I?void 0:I.toLocaleLowerCase())===u&&vn.isEqual(_.filter,c))}),this}static isEqual(d,c){if(Object.keys(d).length!==Object.keys(c).length)return!1;for(const u in d)if(d[u]!==c[u])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(d){this._on(Vn.close,{},d)}_onError(d){this._on(Vn.error,{},c=>d(c))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(d=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kt.joining,this.joinPush.resend(d))}_getPayloadRecords(d){const c={new:{},old:{}};return("INSERT"===d.type||"UPDATE"===d.type)&&(c.new=Rt(d.columns,d.record)),("UPDATE"===d.type||"DELETE"===d.type)&&(c.old=Rt(d.columns,d.old_record)),c}}const $r=()=>{},si=typeof WebSocket<"u";class di{constructor(d,c){var _,u=this;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Dn,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=$r,this.conn=null,this.sendBuffer=[],this.serializer=new we,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=P=>{let U;return U=P||(typeof fetch>"u"?(...$)=>Promise.resolve().then(Be.bind(Be,5286)).then(({default:te})=>te(...$)):fetch),(...$)=>U(...$)},this.endPoint=`${d}/${kn.websocket}`,this.httpEndpoint=Yn(d),this.transport=null!=c&&c.transport?c.transport:null,null!=c&&c.params&&(this.params=c.params),null!=c&&c.headers&&(this.headers=Object.assign(Object.assign({},this.headers),c.headers)),null!=c&&c.timeout&&(this.timeout=c.timeout),null!=c&&c.logger&&(this.logger=c.logger),null!=c&&c.heartbeatIntervalMs&&(this.heartbeatIntervalMs=c.heartbeatIntervalMs);const I=null===(_=null==c?void 0:c.params)||void 0===_?void 0:_.apikey;if(I&&(this.accessToken=I,this.apiKey=I),this.reconnectAfterMs=null!=c&&c.reconnectAfterMs?c.reconnectAfterMs:P=>[1e3,2e3,5e3,1e4][P-1]||1e4,this.encode=null!=c&&c.encode?c.encode:(P,U)=>U(JSON.stringify(P)),this.decode=null!=c&&c.decode?c.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Fe((0,Z.A)(function*(){u.disconnect(),u.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==c?void 0:c.fetch),null!=c&&c.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==c?void 0:c.worker)||!1,this.workerUrl=null==c?void 0:c.workerUrl}}connect(){if(!this.conn){if(this.transport)return void(this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers}));if(si)return this.conn=new WebSocket(this._endPointURL()),void this.setupConnection();this.conn=new Hr(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Be.e(8).then(Be.t.bind(Be,8,23)).then(({default:d})=>{this.conn=new d(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(d,c){this.conn&&(this.conn.onclose=function(){},d?this.conn.close(d,null!=c?c:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(d){var c=this;return(0,Z.A)(function*(){const u=yield d.unsubscribe();return 0===c.channels.length&&c.disconnect(),u})()}removeAllChannels(){var d=this;return(0,Z.A)(function*(){const c=yield Promise.all(d.channels.map(u=>u.unsubscribe()));return d.disconnect(),c})()}log(d,c,u){this.logger(d,c,u)}connectionState(){switch(this.conn&&this.conn.readyState){case xr.connecting:return st.Connecting;case xr.open:return st.Open;case xr.closing:return st.Closing;default:return st.Closed}}isConnected(){return this.connectionState()===st.Open}channel(d,c={config:{}}){const u=new vn(`realtime:${d}`,c,this);return this.channels.push(u),u}push(d){const{topic:c,event:u,payload:_,ref:I}=d,P=()=>{this.encode(d,U=>{var $;null===($=this.conn)||void 0===$||$.send(U)})};this.log("push",`${c} ${u} (${I})`,_),this.isConnected()?P():this.sendBuffer.push(P)}setAuth(d){this.accessToken=d,this.channels.forEach(c=>{d&&c.updateJoinPayload({access_token:d}),c.joinedOnce&&c._isJoined()&&c._push(Vn.access_token,{access_token:d})})}_makeRef(){let d=this.ref+1;return this.ref=d===this.ref?0:d,this.ref.toString()}_leaveOpenTopic(d){let c=this.channels.find(u=>u.topic===d&&(u._isJoined()||u._isJoining()));c&&(this.log("transport",`leaving duplicate topic "${d}"`),c.unsubscribe())}_remove(d){this.channels=this.channels.filter(c=>c._joinRef()!==d._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=d=>this._onConnError(d),this.conn.onmessage=d=>this._onConnMessage(d),this.conn.onclose=d=>this._onConnClose(d))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(d){this.decode(d.data,c=>{let{topic:u,event:_,payload:I,ref:P}=c;(P&&P===this.pendingHeartbeatRef||_===(null==I?void 0:I.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${I.status||""} ${u} ${_} ${P&&"("+P+")"||""}`,I),this.channels.filter(U=>U._isMember(u)).forEach(U=>U._trigger(_,I,P)),this.stateChangeCallbacks.message.forEach(U=>U(c))})}_onConnOpen(){var d=this;return(0,Z.A)(function*(){if(d.log("transport",`connected to ${d._endPointURL()}`),d._flushSendBuffer(),d.reconnectTimer.reset(),d.worker){d.log("worker",d.workerUrl?`starting worker for from ${d.workerUrl}`:"starting default worker");const c=d._workerObjectUrl(d.workerUrl);d.workerRef=new Worker(c),d.workerRef.onerror=u=>{d.log("worker","worker error",u.message),d.workerRef.terminate()},d.workerRef.onmessage=u=>{"keepAlive"===u.data.event&&d._sendHeartbeat()},d.workerRef.postMessage({event:"start",interval:d.heartbeatIntervalMs})}else d.heartbeatTimer&&clearInterval(d.heartbeatTimer),d.heartbeatTimer=setInterval(()=>d._sendHeartbeat(),d.heartbeatIntervalMs);d.stateChangeCallbacks.open.forEach(c=>c())})()}_onConnClose(d){this.log("transport","close",d),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(c=>c(d))}_onConnError(d){this.log("transport",d.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(c=>c(d))}_triggerChanError(){this.channels.forEach(d=>d._trigger(Vn.error))}_appendParams(d,c){if(0===Object.keys(c).length)return d;const u=d.match(/\?/)?"&":"?";return`${d}${u}${new URLSearchParams(c)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(d=>d()),this.sendBuffer=[])}_sendHeartbeat(){var d;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(d=this.conn)||void 0===d||d.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(d){let c;if(d)c=d;else{const u=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});c=URL.createObjectURL(u)}return c}}class Hr{constructor(d,c,u){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=xr.connecting,this.send=()=>{},this.url=null,this.url=d,this.close=u.close}}class Er extends Error{constructor(d){super(d),this.__isStorageError=!0,this.name="StorageError"}}function ri(g){return"object"==typeof g&&null!==g&&"__isStorageError"in g}class eo extends Er{constructor(d,c){super(d),this.name="StorageApiError",this.status=c}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class uo extends Er{constructor(d,c){super(d),this.name="StorageUnknownError",this.originalError=c}}const Ro=g=>{let d;return d=g||(typeof fetch>"u"?(...c)=>Promise.resolve().then(Be.bind(Be,5286)).then(({default:u})=>u(...c)):fetch),(...c)=>d(...c)},Zr=g=>{if(Array.isArray(g))return g.map(c=>Zr(c));if("function"==typeof g||g!==Object(g))return g;const d={};return Object.entries(g).forEach(([c,u])=>{const _=c.replace(/([-_][a-z])/gi,I=>I.toUpperCase().replace(/[-_]/g,""));d[_]=Zr(u)}),d};var ko=function(g,d,c,u){return new(c||(c=Promise))(function(I,P){function U(oe){try{te(u.next(oe))}catch(ve){P(ve)}}function $(oe){try{te(u.throw(oe))}catch(ve){P(ve)}}function te(oe){oe.done?I(oe.value):function _(I){return I instanceof c?I:new c(function(P){P(I)})}(oe.value).then(U,$)}te((u=u.apply(g,d||[])).next())})};const xi=g=>g.msg||g.message||g.error_description||g.error||JSON.stringify(g),Qi=(g,d,c)=>ko(void 0,void 0,void 0,function*(){const u=yield function(g,d,c,u){return new(c||(c=Promise))(function(I,P){function U(oe){try{te(u.next(oe))}catch(ve){P(ve)}}function $(oe){try{te(u.throw(oe))}catch(ve){P(ve)}}function te(oe){oe.done?I(oe.value):function _(I){return I instanceof c?I:new c(function(P){P(I)})}(oe.value).then(U,$)}te((u=u.apply(g,d||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(Be.bind(Be,5286))).Response:Response});g instanceof u&&(null==c||!c.noResolveJson)?g.json().then(_=>{d(new eo(xi(_),g.status||500))}).catch(_=>{d(new uo(xi(_),_))}):d(new uo(xi(g),g))}),Wo=(g,d,c,u)=>{const _={method:g,headers:(null==d?void 0:d.headers)||{}};return"GET"===g?_:(_.headers=Object.assign({"Content-Type":"application/json"},null==d?void 0:d.headers),u&&(_.body=JSON.stringify(u)),Object.assign(Object.assign({},_),c))};function Wr(g,d,c,u,_,I){return ko(this,void 0,void 0,function*(){return new Promise((P,U)=>{g(c,Wo(d,u,_,I)).then($=>{if(!$.ok)throw $;return null!=u&&u.noResolveJson?$:$.json()}).then($=>P($)).catch($=>Qi($,U,u))})})}function cn(g,d,c,u){return ko(this,void 0,void 0,function*(){return Wr(g,"GET",d,c,u)})}function Co(g,d,c,u,_){return ko(this,void 0,void 0,function*(){return Wr(g,"POST",d,u,_,c)})}function Vo(g,d,c,u,_){return ko(this,void 0,void 0,function*(){return Wr(g,"PUT",d,u,_,c)})}function Jt(g,d,c,u,_){return ko(this,void 0,void 0,function*(){return Wr(g,"DELETE",d,u,_,c)})}var jt=function(g,d,c,u){return new(c||(c=Promise))(function(I,P){function U(oe){try{te(u.next(oe))}catch(ve){P(ve)}}function $(oe){try{te(u.throw(oe))}catch(ve){P(ve)}}function te(oe){oe.done?I(oe.value):function _(I){return I instanceof c?I:new c(function(P){P(I)})}(oe.value).then(U,$)}te((u=u.apply(g,d||[])).next())})};const Bn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wt={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ye{constructor(d,c={},u,_){this.url=d,this.headers=c,this.bucketId=u,this.fetch=Ro(_)}uploadOrUpdate(d,c,u,_){return jt(this,void 0,void 0,function*(){try{let I;const P=Object.assign(Object.assign({},Wt),_);let U=Object.assign(Object.assign({},this.headers),"POST"===d&&{"x-upsert":String(P.upsert)});const $=P.metadata;typeof Blob<"u"&&u instanceof Blob?(I=new FormData,I.append("cacheControl",P.cacheControl),$&&I.append("metadata",this.encodeMetadata($)),I.append("",u)):typeof FormData<"u"&&u instanceof FormData?(I=u,I.append("cacheControl",P.cacheControl),$&&I.append("metadata",this.encodeMetadata($))):(I=u,U["cache-control"]=`max-age=${P.cacheControl}`,U["content-type"]=P.contentType,$&&(U["x-metadata"]=this.toBase64(this.encodeMetadata($)))),null!=_&&_.headers&&(U=Object.assign(Object.assign({},U),_.headers));const te=this._removeEmptyFolders(c),oe=this._getFinalPath(te),ve=yield this.fetch(`${this.url}/object/${oe}`,Object.assign({method:d,body:I,headers:U},null!=P&&P.duplex?{duplex:P.duplex}:{})),Oe=yield ve.json();return ve.ok?{data:{path:te,id:Oe.Id,fullPath:Oe.Key},error:null}:{data:null,error:Oe}}catch(I){if(ri(I))return{data:null,error:I};throw I}})}upload(d,c,u){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",d,c,u)})}uploadToSignedUrl(d,c,u,_){return jt(this,void 0,void 0,function*(){const I=this._removeEmptyFolders(d),P=this._getFinalPath(I),U=new URL(this.url+`/object/upload/sign/${P}`);U.searchParams.set("token",c);try{let $;const te=Object.assign({upsert:Wt.upsert},_),oe=Object.assign(Object.assign({},this.headers),{"x-upsert":String(te.upsert)});typeof Blob<"u"&&u instanceof Blob?($=new FormData,$.append("cacheControl",te.cacheControl),$.append("",u)):typeof FormData<"u"&&u instanceof FormData?($=u,$.append("cacheControl",te.cacheControl)):($=u,oe["cache-control"]=`max-age=${te.cacheControl}`,oe["content-type"]=te.contentType);const ve=yield this.fetch(U.toString(),{method:"PUT",body:$,headers:oe}),Oe=yield ve.json();return ve.ok?{data:{path:I,fullPath:Oe.Key},error:null}:{data:null,error:Oe}}catch($){if(ri($))return{data:null,error:$};throw $}})}createSignedUploadUrl(d,c){return jt(this,void 0,void 0,function*(){try{let u=this._getFinalPath(d);const _=Object.assign({},this.headers);null!=c&&c.upsert&&(_["x-upsert"]="true");const I=yield Co(this.fetch,`${this.url}/object/upload/sign/${u}`,{},{headers:_}),P=new URL(this.url+I.url),U=P.searchParams.get("token");if(!U)throw new Er("No token returned by API");return{data:{signedUrl:P.toString(),path:d,token:U},error:null}}catch(u){if(ri(u))return{data:null,error:u};throw u}})}update(d,c,u){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",d,c,u)})}move(d,c,u){return jt(this,void 0,void 0,function*(){try{return{data:yield Co(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:d,destinationKey:c,destinationBucket:null==u?void 0:u.destinationBucket},{headers:this.headers}),error:null}}catch(_){if(ri(_))return{data:null,error:_};throw _}})}copy(d,c,u){return jt(this,void 0,void 0,function*(){try{return{data:{path:(yield Co(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:d,destinationKey:c,destinationBucket:null==u?void 0:u.destinationBucket},{headers:this.headers})).Key},error:null}}catch(_){if(ri(_))return{data:null,error:_};throw _}})}createSignedUrl(d,c,u){return jt(this,void 0,void 0,function*(){try{let _=this._getFinalPath(d),I=yield Co(this.fetch,`${this.url}/object/sign/${_}`,Object.assign({expiresIn:c},null!=u&&u.transform?{transform:u.transform}:{}),{headers:this.headers});const P=null!=u&&u.download?`&download=${!0===u.download?"":u.download}`:"";return I={signedUrl:encodeURI(`${this.url}${I.signedURL}${P}`)},{data:I,error:null}}catch(_){if(ri(_))return{data:null,error:_};throw _}})}createSignedUrls(d,c,u){return jt(this,void 0,void 0,function*(){try{const _=yield Co(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:c,paths:d},{headers:this.headers}),I=null!=u&&u.download?`&download=${!0===u.download?"":u.download}`:"";return{data:_.map(P=>Object.assign(Object.assign({},P),{signedUrl:P.signedURL?encodeURI(`${this.url}${P.signedURL}${I}`):null})),error:null}}catch(_){if(ri(_))return{data:null,error:_};throw _}})}download(d,c){return jt(this,void 0,void 0,function*(){const _=typeof(null==c?void 0:c.transform)<"u"?"render/image/authenticated":"object",I=this.transformOptsToQueryString((null==c?void 0:c.transform)||{}),P=I?`?${I}`:"";try{const U=this._getFinalPath(d);return{data:yield(yield cn(this.fetch,`${this.url}/${_}/${U}${P}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(U){if(ri(U))return{data:null,error:U};throw U}})}info(d){return jt(this,void 0,void 0,function*(){const c=this._getFinalPath(d);try{const u=yield cn(this.fetch,`${this.url}/object/info/${c}`,{headers:this.headers});return{data:Zr(u),error:null}}catch(u){if(ri(u))return{data:null,error:u};throw u}})}exists(d){return jt(this,void 0,void 0,function*(){const c=this._getFinalPath(d);try{return yield function ps(g,d,c,u){return ko(this,void 0,void 0,function*(){return Wr(g,"HEAD",d,Object.assign(Object.assign({},c),{noResolveJson:!0}),u)})}(this.fetch,`${this.url}/object/${c}`,{headers:this.headers}),{data:!0,error:null}}catch(u){if(ri(u)&&u instanceof uo){const _=u.originalError;if([400,404].includes(null==_?void 0:_.status))return{data:!1,error:u}}throw u}})}getPublicUrl(d,c){const u=this._getFinalPath(d),_=[],I=null!=c&&c.download?`download=${!0===c.download?"":c.download}`:"";""!==I&&_.push(I);const U=typeof(null==c?void 0:c.transform)<"u"?"render/image":"object",$=this.transformOptsToQueryString((null==c?void 0:c.transform)||{});""!==$&&_.push($);let te=_.join("&");return""!==te&&(te=`?${te}`),{data:{publicUrl:encodeURI(`${this.url}/${U}/public/${u}${te}`)}}}remove(d){return jt(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:d},{headers:this.headers}),error:null}}catch(c){if(ri(c))return{data:null,error:c};throw c}})}list(d,c,u){return jt(this,void 0,void 0,function*(){try{const _=Object.assign(Object.assign(Object.assign({},Bn),c),{prefix:d||""});return{data:yield Co(this.fetch,`${this.url}/object/list/${this.bucketId}`,_,{headers:this.headers},u),error:null}}catch(_){if(ri(_))return{data:null,error:_};throw _}})}encodeMetadata(d){return JSON.stringify(d)}toBase64(d){return typeof Buffer<"u"?Buffer.from(d).toString("base64"):btoa(d)}_getFinalPath(d){return`${this.bucketId}/${d}`}_removeEmptyFolders(d){return d.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(d){const c=[];return d.width&&c.push(`width=${d.width}`),d.height&&c.push(`height=${d.height}`),d.resize&&c.push(`resize=${d.resize}`),d.format&&c.push(`format=${d.format}`),d.quality&&c.push(`quality=${d.quality}`),c.join("&")}}const St={"X-Client-Info":"storage-js/2.7.1"};var Fn=function(g,d,c,u){return new(c||(c=Promise))(function(I,P){function U(oe){try{te(u.next(oe))}catch(ve){P(ve)}}function $(oe){try{te(u.throw(oe))}catch(ve){P(ve)}}function te(oe){oe.done?I(oe.value):function _(I){return I instanceof c?I:new c(function(P){P(I)})}(oe.value).then(U,$)}te((u=u.apply(g,d||[])).next())})};class zt{constructor(d,c={},u){this.url=d,this.headers=Object.assign(Object.assign({},St),c),this.fetch=Ro(u)}listBuckets(){return Fn(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(d){if(ri(d))return{data:null,error:d};throw d}})}getBucket(d){return Fn(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket/${d}`,{headers:this.headers}),error:null}}catch(c){if(ri(c))return{data:null,error:c};throw c}})}createBucket(d,c={public:!1}){return Fn(this,void 0,void 0,function*(){try{return{data:yield Co(this.fetch,`${this.url}/bucket`,{id:d,name:d,public:c.public,file_size_limit:c.fileSizeLimit,allowed_mime_types:c.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(ri(u))return{data:null,error:u};throw u}})}updateBucket(d,c){return Fn(this,void 0,void 0,function*(){try{return{data:yield Vo(this.fetch,`${this.url}/bucket/${d}`,{id:d,name:d,public:c.public,file_size_limit:c.fileSizeLimit,allowed_mime_types:c.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(ri(u))return{data:null,error:u};throw u}})}emptyBucket(d){return Fn(this,void 0,void 0,function*(){try{return{data:yield Co(this.fetch,`${this.url}/bucket/${d}/empty`,{},{headers:this.headers}),error:null}}catch(c){if(ri(c))return{data:null,error:c};throw c}})}deleteBucket(d){return Fn(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket/${d}`,{},{headers:this.headers}),error:null}}catch(c){if(ri(c))return{data:null,error:c};throw c}})}}class gr extends zt{constructor(d,c={},u){super(d,c,u)}from(d){return new Ye(this.url,this.headers,d,this.fetch)}}let qr="";qr=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const $o={headers:{"X-Client-Info":`supabase-js-${qr}/2.45.6`}},ks={schema:"public"},ai={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fr={};var gs=Be(5286);const nl=(g,d,c)=>{const u=(g=>{let d;return d=g||(typeof fetch>"u"?gs.default:fetch),(...c)=>d(...c)})(c),_=typeof Headers>"u"?gs.Headers:Headers;return(I,P)=>function(g,d,c,u){return new(c||(c=Promise))(function(I,P){function U(oe){try{te(u.next(oe))}catch(ve){P(ve)}}function $(oe){try{te(u.throw(oe))}catch(ve){P(ve)}}function te(oe){oe.done?I(oe.value):function _(I){return I instanceof c?I:new c(function(P){P(I)})}(oe.value).then(U,$)}te((u=u.apply(g,d||[])).next())})}(void 0,void 0,void 0,function*(){var U;const $=null!==(U=yield d())&&void 0!==U?U:g;let te=new _(null==P?void 0:P.headers);return te.has("apikey")||te.set("apikey",g),te.has("Authorization")||te.set("Authorization",`Bearer ${$}`),u(I,Object.assign(Object.assign({},P),{headers:te}))})};const Dr="X-Supabase-Api-Version",ho={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ei=()=>typeof document<"u",no={tested:!1,writable:!1},hi=()=>{if(!ei())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(no.tested)return no.writable;const g=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(g,g),globalThis.localStorage.removeItem(g),no.tested=!0,no.writable=!0}catch{no.tested=!0,no.writable=!1}return no.writable};function Fs(g){const d={},c=new URL(g);if(c.hash&&"#"===c.hash[0])try{new URLSearchParams(c.hash.substring(1)).forEach((_,I)=>{d[I]=_})}catch{}return c.searchParams.forEach((u,_)=>{d[_]=u}),d}const Ji=g=>{let d;return d=g||(typeof fetch>"u"?(...c)=>Promise.resolve().then(Be.bind(Be,5286)).then(({default:u})=>u(...c)):fetch),(...c)=>d(...c)},Ps=g=>"object"==typeof g&&null!==g&&"status"in g&&"ok"in g&&"json"in g&&"function"==typeof g.json,Il=function(){var g=(0,Z.A)(function*(d,c,u){yield d.setItem(c,JSON.stringify(u))});return function(c,u,_){return g.apply(this,arguments)}}(),Aa=function(){var g=(0,Z.A)(function*(d,c){const u=yield d.getItem(c);if(!u)return null;try{return JSON.parse(u)}catch{return u}});return function(c,u){return g.apply(this,arguments)}}(),Ms=function(){var g=(0,Z.A)(function*(d,c){yield d.removeItem(c)});return function(c,u){return g.apply(this,arguments)}}();class Qr{constructor(){this.promise=new Qr.promiseConstructor((d,c)=>{this.resolve=d,this.reject=c})}}function ro(g){const c=g.split(".");if(3!==c.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(c[1]))throw new Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function Ri(g){const d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let u,_,I,P,U,$,te,c="",oe=0;for(g=g.replace("-","+").replace("_","/");oe<g.length;)P=d.indexOf(g.charAt(oe++)),U=d.indexOf(g.charAt(oe++)),$=d.indexOf(g.charAt(oe++)),te=d.indexOf(g.charAt(oe++)),u=P<<2|U>>4,_=(15&U)<<4|$>>2,I=(3&$)<<6|te,c+=String.fromCharCode(u),64!=$&&0!=_&&(c+=String.fromCharCode(_)),64!=te&&0!=I&&(c+=String.fromCharCode(I));return c}(c[1]))}function Os(){return(Os=(0,Z.A)(function*(g){return yield new Promise(d=>{setTimeout(()=>d(null),g)})})).apply(this,arguments)}function mi(g){return("0"+g.toString(16)).substr(-2)}function Io(){return(Io=(0,Z.A)(function*(g){const c=(new TextEncoder).encode(g),u=yield crypto.subtle.digest("SHA-256",c),_=new Uint8Array(u);return Array.from(_).map(I=>String.fromCharCode(I)).join("")})).apply(this,arguments)}function Bo(){return Bo=(0,Z.A)(function*(g){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),g;const c=yield function $l(g){return Io.apply(this,arguments)}(g);return function bl(g){return btoa(g).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(c)}),Bo.apply(this,arguments)}function ra(g,d){return Jn.apply(this,arguments)}function Jn(){return Jn=(0,Z.A)(function*(g,d,c=!1){const u=function yo(){const d=new Uint32Array(56);if(typeof crypto>"u"){const c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",u=c.length;let _="";for(let I=0;I<56;I++)_+=c.charAt(Math.floor(Math.random()*u));return _}return crypto.getRandomValues(d),Array.from(d,mi).join("")}();let _=u;c&&(_+="/PASSWORD_RECOVERY"),yield Il(g,`${d}-code-verifier`,_);const I=yield function Oa(g){return Bo.apply(this,arguments)}(u);return[I,u===I?"plain":"s256"]}),Jn.apply(this,arguments)}Qr.promiseConstructor=Promise;const Ds=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class zi extends Error{constructor(d,c,u){super(d),this.__isAuthError=!0,this.name="AuthError",this.status=c,this.code=u}}function Oi(g){return"object"==typeof g&&null!==g&&"__isAuthError"in g}class Ga extends zi{constructor(d,c,u){super(d,c,u),this.name="AuthApiError",this.status=c,this.code=u}}class ia extends zi{constructor(d,c){super(d),this.name="AuthUnknownError",this.originalError=c}}class ms extends zi{constructor(d,c,u,_){super(d,u,_),this.name=c,this.status=u}}class qo extends ms{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class kl extends ms{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class as extends ms{constructor(d){super(d,"AuthInvalidCredentialsError",400,void 0)}}class ao extends ms{constructor(d,c=null){super(d,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=c}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jo extends ms{constructor(d,c=null){super(d,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=c}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tr extends ms{constructor(d,c){super(d,"AuthRetryableFetchError",c,void 0)}}function ts(g){return Oi(g)&&"AuthRetryableFetchError"===g.name}class ka extends ms{constructor(d,c,u){super(d,"AuthWeakPasswordError",c,"weak_password"),this.reasons=u}}const At=g=>g.msg||g.message||g.error_description||g.error||JSON.stringify(g),Tt=[502,503,504];function rn(g){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,Z.A)(function*(g){var d;if(!Ps(g))throw new Tr(At(g),0);if(Tt.includes(g.status))throw new Tr(At(g),g.status);let c,u;try{c=yield g.json()}catch(I){throw new ia(At(I),I)}const _=function Ra(g){const d=g.headers.get(Dr);if(!d||!d.match(Ds))return null;try{return new Date(`${d}T00:00:00.0Z`)}catch{return null}}(g);if(_&&_.getTime()>=ho["2024-01-01"].timestamp&&"object"==typeof c&&c&&"string"==typeof c.code?u=c.code:"object"==typeof c&&c&&"string"==typeof c.error_code&&(u=c.error_code),u){if("weak_password"===u)throw new ka(At(c),g.status,(null===(d=c.weak_password)||void 0===d?void 0:d.reasons)||[]);if("session_not_found"===u)throw new qo}else if("object"==typeof c&&c&&"object"==typeof c.weak_password&&c.weak_password&&Array.isArray(c.weak_password.reasons)&&c.weak_password.reasons.length&&c.weak_password.reasons.reduce((I,P)=>I&&"string"==typeof P,!0))throw new ka(At(c),g.status,c.weak_password.reasons);throw new Ga(At(c),g.status||500,u)})).apply(this,arguments)}const Xn=(g,d,c,u)=>{const _={method:g,headers:(null==d?void 0:d.headers)||{}};return"GET"===g?_:(_.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==d?void 0:d.headers),_.body=JSON.stringify(u),Object.assign(Object.assign({},_),c))};function $n(g,d,c,u){return or.apply(this,arguments)}function or(){return or=(0,Z.A)(function*(g,d,c,u){var _;const I=Object.assign({},null==u?void 0:u.headers);I[Dr]||(I[Dr]=ho["2024-01-01"].name),null!=u&&u.jwt&&(I.Authorization=`Bearer ${u.jwt}`);const P=null!==(_=null==u?void 0:u.query)&&void 0!==_?_:{};null!=u&&u.redirectTo&&(P.redirect_to=u.redirectTo);const U=Object.keys(P).length?"?"+new URLSearchParams(P).toString():"",$=yield function er(g,d,c,u,_,I){return ir.apply(this,arguments)}(g,d,c+U,{headers:I,noResolveJson:null==u?void 0:u.noResolveJson},{},null==u?void 0:u.body);return null!=u&&u.xform?null==u?void 0:u.xform($):{data:Object.assign({},$),error:null}}),or.apply(this,arguments)}function ir(){return(ir=(0,Z.A)(function*(g,d,c,u,_,I){const P=Xn(d,u,_,I);let U;try{U=yield g(c,Object.assign({},P))}catch($){throw console.error($),new Tr(At($),0)}if(U.ok||(yield rn(U)),null!=u&&u.noResolveJson)return U;try{return yield U.json()}catch($){yield rn($)}})).apply(this,arguments)}function _r(g){var d;let c=null;return function Qo(g){return g.access_token&&g.refresh_token&&g.expires_in}(g)&&(c=Object.assign({},g),g.expires_at||(c.expires_at=function Yo(g){return Math.round(Date.now()/1e3)+g}(g.expires_in))),{data:{session:c,user:null!==(d=g.user)&&void 0!==d?d:g},error:null}}function pi(g){const d=_r(g);return!d.error&&g.weak_password&&"object"==typeof g.weak_password&&Array.isArray(g.weak_password.reasons)&&g.weak_password.reasons.length&&g.weak_password.message&&"string"==typeof g.weak_password.message&&g.weak_password.reasons.reduce((c,u)=>c&&"string"==typeof u,!0)&&(d.data.weak_password=g.weak_password),d}function Or(g){var d;return{data:{user:null!==(d=g.user)&&void 0!==d?d:g},error:null}}function qi(g){return{data:g,error:null}}function Ko(g){const{action_link:d,email_otp:c,hashed_token:u,redirect_to:_,verification_type:I}=g,P=function(g,d){var c={};for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&d.indexOf(u)<0&&(c[u]=g[u]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var _=0;for(u=Object.getOwnPropertySymbols(g);_<u.length;_++)d.indexOf(u[_])<0&&Object.prototype.propertyIsEnumerable.call(g,u[_])&&(c[u[_]]=g[u[_]])}return c}(g,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:d,email_otp:c,hashed_token:u,redirect_to:_,verification_type:I},user:Object.assign({},P)},error:null}}function Xi(g){return g}class Gi{constructor({url:d="",headers:c={},fetch:u}){this.url=d,this.headers=c,this.fetch=Ji(u),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(d,c="global"){var u=this;return(0,Z.A)(function*(){try{return yield $n(u.fetch,"POST",`${u.url}/logout?scope=${c}`,{headers:u.headers,jwt:d,noResolveJson:!0}),{data:null,error:null}}catch(_){if(Oi(_))return{data:null,error:_};throw _}})()}inviteUserByEmail(d,c={}){var u=this;return(0,Z.A)(function*(){try{return yield $n(u.fetch,"POST",`${u.url}/invite`,{body:{email:d,data:c.data},headers:u.headers,redirectTo:c.redirectTo,xform:Or})}catch(_){if(Oi(_))return{data:{user:null},error:_};throw _}})()}generateLink(d){var c=this;return(0,Z.A)(function*(){try{const{options:u}=d,_=function(g,d){var c={};for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&d.indexOf(u)<0&&(c[u]=g[u]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var _=0;for(u=Object.getOwnPropertySymbols(g);_<u.length;_++)d.indexOf(u[_])<0&&Object.prototype.propertyIsEnumerable.call(g,u[_])&&(c[u[_]]=g[u[_]])}return c}(d,["options"]),I=Object.assign(Object.assign({},_),u);return"newEmail"in _&&(I.new_email=null==_?void 0:_.newEmail,delete I.newEmail),yield $n(c.fetch,"POST",`${c.url}/admin/generate_link`,{body:I,headers:c.headers,xform:Ko,redirectTo:null==u?void 0:u.redirectTo})}catch(u){if(Oi(u))return{data:{properties:null,user:null},error:u};throw u}})()}createUser(d){var c=this;return(0,Z.A)(function*(){try{return yield $n(c.fetch,"POST",`${c.url}/admin/users`,{body:d,headers:c.headers,xform:Or})}catch(u){if(Oi(u))return{data:{user:null},error:u};throw u}})()}listUsers(d){var c=this;return(0,Z.A)(function*(){var u,_,I,P,U,$,te;try{const oe={nextPage:null,lastPage:0,total:0},ve=yield $n(c.fetch,"GET",`${c.url}/admin/users`,{headers:c.headers,noResolveJson:!0,query:{page:null!==(_=null===(u=null==d?void 0:d.page)||void 0===u?void 0:u.toString())&&void 0!==_?_:"",per_page:null!==(P=null===(I=null==d?void 0:d.perPage)||void 0===I?void 0:I.toString())&&void 0!==P?P:""},xform:Xi});if(ve.error)throw ve.error;const Oe=yield ve.json(),he=null!==(U=ve.headers.get("x-total-count"))&&void 0!==U?U:0,ct=null!==(te=null===($=ve.headers.get("link"))||void 0===$?void 0:$.split(","))&&void 0!==te?te:[];return ct.length>0&&(ct.forEach(at=>{const ht=parseInt(at.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(at.split(";")[1].split("=")[1]);oe[`${m}Page`]=ht}),oe.total=parseInt(he)),{data:Object.assign(Object.assign({},Oe),oe),error:null}}catch(oe){if(Oi(oe))return{data:{users:[]},error:oe};throw oe}})()}getUserById(d){var c=this;return(0,Z.A)(function*(){try{return yield $n(c.fetch,"GET",`${c.url}/admin/users/${d}`,{headers:c.headers,xform:Or})}catch(u){if(Oi(u))return{data:{user:null},error:u};throw u}})()}updateUserById(d,c){var u=this;return(0,Z.A)(function*(){try{return yield $n(u.fetch,"PUT",`${u.url}/admin/users/${d}`,{body:c,headers:u.headers,xform:Or})}catch(_){if(Oi(_))return{data:{user:null},error:_};throw _}})()}deleteUser(d,c=!1){var u=this;return(0,Z.A)(function*(){try{return yield $n(u.fetch,"DELETE",`${u.url}/admin/users/${d}`,{headers:u.headers,body:{should_soft_delete:c},xform:Or})}catch(_){if(Oi(_))return{data:{user:null},error:_};throw _}})()}_listFactors(d){var c=this;return(0,Z.A)(function*(){try{const{data:u,error:_}=yield $n(c.fetch,"GET",`${c.url}/admin/users/${d.userId}/factors`,{headers:c.headers,xform:I=>({data:{factors:I},error:null})});return{data:u,error:_}}catch(u){if(Oi(u))return{data:null,error:u};throw u}})()}_deleteFactor(d){var c=this;return(0,Z.A)(function*(){try{return{data:yield $n(c.fetch,"DELETE",`${c.url}/admin/users/${d.userId}/factors/${d.id}`,{headers:c.headers}),error:null}}catch(u){if(Oi(u))return{data:null,error:u};throw u}})()}}const Ys={getItem:g=>hi()?globalThis.localStorage.getItem(g):null,setItem:(g,d)=>{hi()&&globalThis.localStorage.setItem(g,d)},removeItem:g=>{hi()&&globalThis.localStorage.removeItem(g)}};function Ne(g={}){return{getItem:d=>g[d]||null,setItem:(d,c)=>{g[d]=c},removeItem:d=>{delete g[d]}}}const _t={debug:!!(globalThis&&hi()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class Qt extends Error{constructor(d){super(d),this.isAcquireTimeout=!0}}class an extends Qt{}function Wn(g,d,c){return wr.apply(this,arguments)}function wr(){return wr=(0,Z.A)(function*(g,d,c){_t.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",g,d);const u=new globalThis.AbortController;return d>0&&setTimeout(()=>{u.abort(),_t.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",g)},d),yield globalThis.navigator.locks.request(g,0===d?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:u.signal},function(){var _=(0,Z.A)(function*(I){if(!I){if(0===d)throw _t.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",g),new an(`Acquiring an exclusive Navigator LockManager lock "${g}" immediately failed`);if(_t.debug)try{const P=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(P,null,"  "))}catch(P){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",P)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield c()}_t.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",g,I.name);try{return yield c()}finally{_t.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",g,I.name)}});return function(I){return _.apply(this,arguments)}}())}),wr.apply(this,arguments)}!function be(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const _i={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.65.1"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Yr=3e4;function ii(g,d,c){return ns.apply(this,arguments)}function ns(){return(ns=(0,Z.A)(function*(g,d,c){return yield c()})).apply(this,arguments)}let Js=(()=>{class g{constructor(c){var _,I,u=this;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=g.nextInstanceID,g.nextInstanceID+=1,this.instanceID>0&&ei()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const P=Object.assign(Object.assign({},_i),c);if(this.logDebugMessages=!!P.debug,"function"==typeof P.debug&&(this.logger=P.debug),this.persistSession=P.persistSession,this.storageKey=P.storageKey,this.autoRefreshToken=P.autoRefreshToken,this.admin=new Gi({url:P.url,headers:P.headers,fetch:P.fetch}),this.url=P.url,this.headers=P.headers,this.fetch=Ji(P.fetch),this.lock=P.lock||ii,this.detectSessionInUrl=P.detectSessionInUrl,this.flowType=P.flowType,this.hasCustomAuthorizationHeader=P.hasCustomAuthorizationHeader,this.lock=P.lock?P.lock:ei()&&null!==(_=null==globalThis?void 0:globalThis.navigator)&&void 0!==_&&_.locks?Wn:ii,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?P.storage?this.storage=P.storage:hi()?this.storage=Ys:(this.memoryStorage={},this.storage=Ne(this.memoryStorage)):(this.memoryStorage={},this.storage=Ne(this.memoryStorage)),ei()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(U){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",U)}null===(I=this.broadcastChannel)||void 0===I||I.addEventListener("message",function(){var U=(0,Z.A)(function*($){u._debug("received broadcast notification from other tab or client",$),yield u._notifyAllSubscribers($.data.event,$.data.session,!1)});return function($){return U.apply(this,arguments)}}())}this.initialize()}_debug(...c){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.65.1) ${(new Date).toISOString()}`,...c),this}initialize(){var c=this;return(0,Z.A)(function*(){return c.initializePromise||(c.initializePromise=(0,Z.A)(function*(){return yield c._acquireLock(-1,(0,Z.A)(function*(){return yield c._initialize()}))})()),yield c.initializePromise})()}_initialize(){var c=this;return(0,Z.A)(function*(){try{const u=!!ei()&&(yield c._isPKCEFlow());if(c._debug("#_initialize()","begin","is PKCE flow",u),u||c.detectSessionInUrl&&c._isImplicitGrantFlow()){const{data:_,error:I}=yield c._getSessionFromURL(u);if(I)return c._debug("#_initialize()","error detecting session from URL",I),"identity_already_exists"===(null==I?void 0:I.code)||(yield c._removeSession()),{error:I};const{session:P,redirectType:U}=_;return c._debug("#_initialize()","detected session in URL",P,"redirect type",U),yield c._saveSession(P),setTimeout((0,Z.A)(function*(){"recovery"===U?yield c._notifyAllSubscribers("PASSWORD_RECOVERY",P):yield c._notifyAllSubscribers("SIGNED_IN",P)}),0),{error:null}}return yield c._recoverAndRefresh(),{error:null}}catch(u){return Oi(u)?{error:u}:{error:new ia("Unexpected error during initialization",u)}}finally{yield c._handleVisibilityChange(),c._debug("#_initialize()","end")}})()}signInAnonymously(c){var u=this;return(0,Z.A)(function*(){var _,I,P;try{const U=yield $n(u.fetch,"POST",`${u.url}/signup`,{headers:u.headers,body:{data:null!==(I=null===(_=null==c?void 0:c.options)||void 0===_?void 0:_.data)&&void 0!==I?I:{},gotrue_meta_security:{captcha_token:null===(P=null==c?void 0:c.options)||void 0===P?void 0:P.captchaToken}},xform:_r}),{data:$,error:te}=U;if(te||!$)return{data:{user:null,session:null},error:te};const oe=$.session,ve=$.user;return $.session&&(yield u._saveSession($.session),yield u._notifyAllSubscribers("SIGNED_IN",oe)),{data:{user:ve,session:oe},error:null}}catch(U){if(Oi(U))return{data:{user:null,session:null},error:U};throw U}})()}signUp(c){var u=this;return(0,Z.A)(function*(){var _,I,P;try{let U;if("email"in c){const{email:Oe,password:he,options:ct}=c;let at=null,ht=null;"pkce"===u.flowType&&([at,ht]=yield ra(u.storage,u.storageKey)),U=yield $n(u.fetch,"POST",`${u.url}/signup`,{headers:u.headers,redirectTo:null==ct?void 0:ct.emailRedirectTo,body:{email:Oe,password:he,data:null!==(_=null==ct?void 0:ct.data)&&void 0!==_?_:{},gotrue_meta_security:{captcha_token:null==ct?void 0:ct.captchaToken},code_challenge:at,code_challenge_method:ht},xform:_r})}else{if(!("phone"in c))throw new as("You must provide either an email or phone number and a password");{const{phone:Oe,password:he,options:ct}=c;U=yield $n(u.fetch,"POST",`${u.url}/signup`,{headers:u.headers,body:{phone:Oe,password:he,data:null!==(I=null==ct?void 0:ct.data)&&void 0!==I?I:{},channel:null!==(P=null==ct?void 0:ct.channel)&&void 0!==P?P:"sms",gotrue_meta_security:{captcha_token:null==ct?void 0:ct.captchaToken}},xform:_r})}}const{data:$,error:te}=U;if(te||!$)return{data:{user:null,session:null},error:te};const oe=$.session,ve=$.user;return $.session&&(yield u._saveSession($.session),yield u._notifyAllSubscribers("SIGNED_IN",oe)),{data:{user:ve,session:oe},error:null}}catch(U){if(Oi(U))return{data:{user:null,session:null},error:U};throw U}})()}signInWithPassword(c){var u=this;return(0,Z.A)(function*(){try{let _;if("email"in c){const{email:U,password:$,options:te}=c;_=yield $n(u.fetch,"POST",`${u.url}/token?grant_type=password`,{headers:u.headers,body:{email:U,password:$,gotrue_meta_security:{captcha_token:null==te?void 0:te.captchaToken}},xform:pi})}else{if(!("phone"in c))throw new as("You must provide either an email or phone number and a password");{const{phone:U,password:$,options:te}=c;_=yield $n(u.fetch,"POST",`${u.url}/token?grant_type=password`,{headers:u.headers,body:{phone:U,password:$,gotrue_meta_security:{captcha_token:null==te?void 0:te.captchaToken}},xform:pi})}}const{data:I,error:P}=_;return P?{data:{user:null,session:null},error:P}:I&&I.session&&I.user?(I.session&&(yield u._saveSession(I.session),yield u._notifyAllSubscribers("SIGNED_IN",I.session)),{data:Object.assign({user:I.user,session:I.session},I.weak_password?{weakPassword:I.weak_password}:null),error:P}):{data:{user:null,session:null},error:new kl}}catch(_){if(Oi(_))return{data:{user:null,session:null},error:_};throw _}})()}signInWithOAuth(c){var u=this;return(0,Z.A)(function*(){var _,I,P,U;return yield u._handleProviderSignIn(c.provider,{redirectTo:null===(_=c.options)||void 0===_?void 0:_.redirectTo,scopes:null===(I=c.options)||void 0===I?void 0:I.scopes,queryParams:null===(P=c.options)||void 0===P?void 0:P.queryParams,skipBrowserRedirect:null===(U=c.options)||void 0===U?void 0:U.skipBrowserRedirect})})()}exchangeCodeForSession(c){var u=this;return(0,Z.A)(function*(){return yield u.initializePromise,u._acquireLock(-1,(0,Z.A)(function*(){return u._exchangeCodeForSession(c)}))})()}_exchangeCodeForSession(c){var u=this;return(0,Z.A)(function*(){const _=yield Aa(u.storage,`${u.storageKey}-code-verifier`),[I,P]=(null!=_?_:"").split("/");try{const{data:U,error:$}=yield $n(u.fetch,"POST",`${u.url}/token?grant_type=pkce`,{headers:u.headers,body:{auth_code:c,code_verifier:I},xform:_r});if(yield Ms(u.storage,`${u.storageKey}-code-verifier`),$)throw $;return U&&U.session&&U.user?(U.session&&(yield u._saveSession(U.session),yield u._notifyAllSubscribers("SIGNED_IN",U.session)),{data:Object.assign(Object.assign({},U),{redirectType:null!=P?P:null}),error:$}):{data:{user:null,session:null,redirectType:null},error:new kl}}catch(U){if(Oi(U))return{data:{user:null,session:null,redirectType:null},error:U};throw U}})()}signInWithIdToken(c){var u=this;return(0,Z.A)(function*(){try{const{options:_,provider:I,token:P,access_token:U,nonce:$}=c,te=yield $n(u.fetch,"POST",`${u.url}/token?grant_type=id_token`,{headers:u.headers,body:{provider:I,id_token:P,access_token:U,nonce:$,gotrue_meta_security:{captcha_token:null==_?void 0:_.captchaToken}},xform:_r}),{data:oe,error:ve}=te;return ve?{data:{user:null,session:null},error:ve}:oe&&oe.session&&oe.user?(oe.session&&(yield u._saveSession(oe.session),yield u._notifyAllSubscribers("SIGNED_IN",oe.session)),{data:oe,error:ve}):{data:{user:null,session:null},error:new kl}}catch(_){if(Oi(_))return{data:{user:null,session:null},error:_};throw _}})()}signInWithOtp(c){var u=this;return(0,Z.A)(function*(){var _,I,P,U,$;try{if("email"in c){const{email:te,options:oe}=c;let ve=null,Oe=null;"pkce"===u.flowType&&([ve,Oe]=yield ra(u.storage,u.storageKey));const{error:he}=yield $n(u.fetch,"POST",`${u.url}/otp`,{headers:u.headers,body:{email:te,data:null!==(_=null==oe?void 0:oe.data)&&void 0!==_?_:{},create_user:null===(I=null==oe?void 0:oe.shouldCreateUser)||void 0===I||I,gotrue_meta_security:{captcha_token:null==oe?void 0:oe.captchaToken},code_challenge:ve,code_challenge_method:Oe},redirectTo:null==oe?void 0:oe.emailRedirectTo});return{data:{user:null,session:null},error:he}}if("phone"in c){const{phone:te,options:oe}=c,{data:ve,error:Oe}=yield $n(u.fetch,"POST",`${u.url}/otp`,{headers:u.headers,body:{phone:te,data:null!==(P=null==oe?void 0:oe.data)&&void 0!==P?P:{},create_user:null===(U=null==oe?void 0:oe.shouldCreateUser)||void 0===U||U,gotrue_meta_security:{captcha_token:null==oe?void 0:oe.captchaToken},channel:null!==($=null==oe?void 0:oe.channel)&&void 0!==$?$:"sms"}});return{data:{user:null,session:null,messageId:null==ve?void 0:ve.message_id},error:Oe}}throw new as("You must provide either an email or phone number.")}catch(te){if(Oi(te))return{data:{user:null,session:null},error:te};throw te}})()}verifyOtp(c){var u=this;return(0,Z.A)(function*(){var _,I;try{let P,U;"options"in c&&(P=null===(_=c.options)||void 0===_?void 0:_.redirectTo,U=null===(I=c.options)||void 0===I?void 0:I.captchaToken);const{data:$,error:te}=yield $n(u.fetch,"POST",`${u.url}/verify`,{headers:u.headers,body:Object.assign(Object.assign({},c),{gotrue_meta_security:{captcha_token:U}}),redirectTo:P,xform:_r});if(te)throw te;if(!$)throw new Error("An error occurred on token verification.");const oe=$.session,ve=$.user;return null!=oe&&oe.access_token&&(yield u._saveSession(oe),yield u._notifyAllSubscribers("recovery"==c.type?"PASSWORD_RECOVERY":"SIGNED_IN",oe)),{data:{user:ve,session:oe},error:null}}catch(P){if(Oi(P))return{data:{user:null,session:null},error:P};throw P}})()}signInWithSSO(c){var u=this;return(0,Z.A)(function*(){var _,I,P;try{let U=null,$=null;return"pkce"===u.flowType&&([U,$]=yield ra(u.storage,u.storageKey)),yield $n(u.fetch,"POST",`${u.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in c?{provider_id:c.providerId}:null),"domain"in c?{domain:c.domain}:null),{redirect_to:null!==(I=null===(_=c.options)||void 0===_?void 0:_.redirectTo)&&void 0!==I?I:void 0}),null!==(P=null==c?void 0:c.options)&&void 0!==P&&P.captchaToken?{gotrue_meta_security:{captcha_token:c.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:U,code_challenge_method:$}),headers:u.headers,xform:qi})}catch(U){if(Oi(U))return{data:null,error:U};throw U}})()}reauthenticate(){var c=this;return(0,Z.A)(function*(){return yield c.initializePromise,yield c._acquireLock(-1,(0,Z.A)(function*(){return yield c._reauthenticate()}))})()}_reauthenticate(){var c=this;return(0,Z.A)(function*(){try{return yield c._useSession(function(){var u=(0,Z.A)(function*(_){const{data:{session:I},error:P}=_;if(P)throw P;if(!I)throw new qo;const{error:U}=yield $n(c.fetch,"GET",`${c.url}/reauthenticate`,{headers:c.headers,jwt:I.access_token});return{data:{user:null,session:null},error:U}});return function(_){return u.apply(this,arguments)}}())}catch(u){if(Oi(u))return{data:{user:null,session:null},error:u};throw u}})()}resend(c){var u=this;return(0,Z.A)(function*(){try{const _=`${u.url}/resend`;if("email"in c){const{email:I,type:P,options:U}=c,{error:$}=yield $n(u.fetch,"POST",_,{headers:u.headers,body:{email:I,type:P,gotrue_meta_security:{captcha_token:null==U?void 0:U.captchaToken}},redirectTo:null==U?void 0:U.emailRedirectTo});return{data:{user:null,session:null},error:$}}if("phone"in c){const{phone:I,type:P,options:U}=c,{data:$,error:te}=yield $n(u.fetch,"POST",_,{headers:u.headers,body:{phone:I,type:P,gotrue_meta_security:{captcha_token:null==U?void 0:U.captchaToken}}});return{data:{user:null,session:null,messageId:null==$?void 0:$.message_id},error:te}}throw new as("You must provide either an email or phone number and a type")}catch(_){if(Oi(_))return{data:{user:null,session:null},error:_};throw _}})()}getSession(){var c=this;return(0,Z.A)(function*(){return yield c.initializePromise,yield c._acquireLock(-1,(0,Z.A)(function*(){return c._useSession(function(){var _=(0,Z.A)(function*(I){return I});return function(I){return _.apply(this,arguments)}}())}))})()}_acquireLock(c,u){var _=this;return(0,Z.A)(function*(){_._debug("#_acquireLock","begin",c);try{if(_.lockAcquired){const I=_.pendingInLock.length?_.pendingInLock[_.pendingInLock.length-1]:Promise.resolve(),P=(0,Z.A)(function*(){return yield I,yield u()})();return _.pendingInLock.push((0,Z.A)(function*(){try{yield P}catch{}})()),P}return yield _.lock(`lock:${_.storageKey}`,c,(0,Z.A)(function*(){_._debug("#_acquireLock","lock acquired for storage key",_.storageKey);try{_.lockAcquired=!0;const I=u();for(_.pendingInLock.push((0,Z.A)(function*(){try{yield I}catch{}})()),yield I;_.pendingInLock.length;){const P=[..._.pendingInLock];yield Promise.all(P),_.pendingInLock.splice(0,P.length)}return yield I}finally{_._debug("#_acquireLock","lock released for storage key",_.storageKey),_.lockAcquired=!1}}))}finally{_._debug("#_acquireLock","end")}})()}_useSession(c){var u=this;return(0,Z.A)(function*(){u._debug("#_useSession","begin");try{const _=yield u.__loadSession();return yield c(_)}finally{u._debug("#_useSession","end")}})()}__loadSession(){var c=this;return(0,Z.A)(function*(){c._debug("#__loadSession()","begin"),c.lockAcquired||c._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let u=null;const _=yield Aa(c.storage,c.storageKey);if(c._debug("#getSession()","session from storage",_),null!==_&&(c._isValidSession(_)?u=_:(c._debug("#getSession()","session from storage is not valid"),yield c._removeSession())),!u)return{data:{session:null},error:null};const I=!!u.expires_at&&u.expires_at<=Date.now()/1e3;if(c._debug("#__loadSession()",`session has${I?"":" not"} expired`,"expires_at",u.expires_at),!I){if(c.storage.isServer){let $=c.suppressGetSessionWarning;u=new Proxy(u,{get:(oe,ve,Oe)=>(!$&&"user"===ve&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),$=!0,c.suppressGetSessionWarning=!0),Reflect.get(oe,ve,Oe))})}return{data:{session:u},error:null}}const{session:P,error:U}=yield c._callRefreshToken(u.refresh_token);return U?{data:{session:null},error:U}:{data:{session:P},error:null}}finally{c._debug("#__loadSession()","end")}})()}getUser(c){var u=this;return(0,Z.A)(function*(){return c?yield u._getUser(c):(yield u.initializePromise,yield u._acquireLock(-1,(0,Z.A)(function*(){return yield u._getUser()})))})()}_getUser(c){var u=this;return(0,Z.A)(function*(){try{return c?yield $n(u.fetch,"GET",`${u.url}/user`,{headers:u.headers,jwt:c,xform:Or}):yield u._useSession(function(){var _=(0,Z.A)(function*(I){var P,U,$;const{data:te,error:oe}=I;if(oe)throw oe;return null!==(P=te.session)&&void 0!==P&&P.access_token||u.hasCustomAuthorizationHeader?yield $n(u.fetch,"GET",`${u.url}/user`,{headers:u.headers,jwt:null!==($=null===(U=te.session)||void 0===U?void 0:U.access_token)&&void 0!==$?$:void 0,xform:Or}):{data:{user:null},error:new qo}});return function(I){return _.apply(this,arguments)}}())}catch(_){if(Oi(_))return function Gs(g){return Oi(g)&&"AuthSessionMissingError"===g.name}(_)&&(yield u._removeSession(),yield Ms(u.storage,`${u.storageKey}-code-verifier`)),{data:{user:null},error:_};throw _}})()}updateUser(c,u={}){var _=this;return(0,Z.A)(function*(){return yield _.initializePromise,yield _._acquireLock(-1,(0,Z.A)(function*(){return yield _._updateUser(c,u)}))})()}_updateUser(c,u={}){var _=this;return(0,Z.A)(function*(){try{return yield _._useSession(function(){var I=(0,Z.A)(function*(P){const{data:U,error:$}=P;if($)throw $;if(!U.session)throw new qo;const te=U.session;let oe=null,ve=null;"pkce"===_.flowType&&null!=c.email&&([oe,ve]=yield ra(_.storage,_.storageKey));const{data:Oe,error:he}=yield $n(_.fetch,"PUT",`${_.url}/user`,{headers:_.headers,redirectTo:null==u?void 0:u.emailRedirectTo,body:Object.assign(Object.assign({},c),{code_challenge:oe,code_challenge_method:ve}),jwt:te.access_token,xform:Or});if(he)throw he;return te.user=Oe.user,yield _._saveSession(te),yield _._notifyAllSubscribers("USER_UPDATED",te),{data:{user:te.user},error:null}});return function(P){return I.apply(this,arguments)}}())}catch(I){if(Oi(I))return{data:{user:null},error:I};throw I}})()}_decodeJWT(c){return ro(c)}setSession(c){var u=this;return(0,Z.A)(function*(){return yield u.initializePromise,yield u._acquireLock(-1,(0,Z.A)(function*(){return yield u._setSession(c)}))})()}_setSession(c){var u=this;return(0,Z.A)(function*(){try{if(!c.access_token||!c.refresh_token)throw new qo;const _=Date.now()/1e3;let I=_,P=!0,U=null;const $=ro(c.access_token);if($.exp&&(I=$.exp,P=I<=_),P){const{session:te,error:oe}=yield u._callRefreshToken(c.refresh_token);if(oe)return{data:{user:null,session:null},error:oe};if(!te)return{data:{user:null,session:null},error:null};U=te}else{const{data:te,error:oe}=yield u._getUser(c.access_token);if(oe)throw oe;U={access_token:c.access_token,refresh_token:c.refresh_token,user:te.user,token_type:"bearer",expires_in:I-_,expires_at:I},yield u._saveSession(U),yield u._notifyAllSubscribers("SIGNED_IN",U)}return{data:{user:U.user,session:U},error:null}}catch(_){if(Oi(_))return{data:{session:null,user:null},error:_};throw _}})()}refreshSession(c){var u=this;return(0,Z.A)(function*(){return yield u.initializePromise,yield u._acquireLock(-1,(0,Z.A)(function*(){return yield u._refreshSession(c)}))})()}_refreshSession(c){var u=this;return(0,Z.A)(function*(){try{return yield u._useSession(function(){var _=(0,Z.A)(function*(I){var P;if(!c){const{data:te,error:oe}=I;if(oe)throw oe;c=null!==(P=te.session)&&void 0!==P?P:void 0}if(null==c||!c.refresh_token)throw new qo;const{session:U,error:$}=yield u._callRefreshToken(c.refresh_token);return $?{data:{user:null,session:null},error:$}:U?{data:{user:U.user,session:U},error:null}:{data:{user:null,session:null},error:null}});return function(I){return _.apply(this,arguments)}}())}catch(_){if(Oi(_))return{data:{user:null,session:null},error:_};throw _}})()}_getSessionFromURL(c){var u=this;return(0,Z.A)(function*(){try{if(!ei())throw new ao("No browser detected.");if("implicit"===u.flowType&&!u._isImplicitGrantFlow())throw new ao("Not a valid implicit grant flow url.");if("pkce"==u.flowType&&!c)throw new Jo("Not a valid PKCE flow url.");const _=Fs(window.location.href);if(c){if(!_.code)throw new Jo("No code detected.");const{data:b,error:Q}=yield u._exchangeCodeForSession(_.code);if(Q)throw Q;const ee=new URL(window.location.href);return ee.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ee.toString()),{data:{session:b.session,redirectType:null},error:null}}if(_.error||_.error_description||_.error_code)throw new ao(_.error_description||"Error in URL with unspecified error_description",{error:_.error||"unspecified_error",code:_.error_code||"unspecified_code"});const{provider_token:I,provider_refresh_token:P,access_token:U,refresh_token:$,expires_in:te,expires_at:oe,token_type:ve}=_;if(!(U&&te&&$&&ve))throw new ao("No session defined in URL");const Oe=Math.round(Date.now()/1e3),he=parseInt(te);let ct=Oe+he;oe&&(ct=parseInt(oe));const at=ct-Oe;1e3*at<=Yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${at}s, should have been closer to ${he}s`);const ht=ct-he;Oe-ht>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",ht,ct,Oe):Oe-ht<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",ht,ct,Oe);const{data:m,error:A}=yield u._getUser(U);if(A)throw A;const p={provider_token:I,provider_refresh_token:P,access_token:U,expires_in:he,expires_at:ct,refresh_token:$,token_type:ve,user:m.user};return window.location.hash="",u._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:_.type},error:null}}catch(_){if(Oi(_))return{data:{session:null,redirectType:null},error:_};throw _}})()}_isImplicitGrantFlow(){const c=Fs(window.location.href);return!(!ei()||!c.access_token&&!c.error_description)}_isPKCEFlow(){var c=this;return(0,Z.A)(function*(){const u=Fs(window.location.href),_=yield Aa(c.storage,`${c.storageKey}-code-verifier`);return!(!u.code||!_)})()}signOut(c={scope:"global"}){var u=this;return(0,Z.A)(function*(){return yield u.initializePromise,yield u._acquireLock(-1,(0,Z.A)(function*(){return yield u._signOut(c)}))})()}_signOut({scope:c}={scope:"global"}){var u=this;return(0,Z.A)(function*(){return yield u._useSession(function(){var _=(0,Z.A)(function*(I){var P;const{data:U,error:$}=I;if($)return{error:$};const te=null===(P=U.session)||void 0===P?void 0:P.access_token;if(te){const{error:oe}=yield u.admin.signOut(te,c);if(oe&&(!function io(g){return Oi(g)&&"AuthApiError"===g.name}(oe)||404!==oe.status&&401!==oe.status&&403!==oe.status))return{error:oe}}return"others"!==c&&(yield u._removeSession(),yield Ms(u.storage,`${u.storageKey}-code-verifier`)),{error:null}});return function(I){return _.apply(this,arguments)}}())})()}onAuthStateChange(c){var u=this;const _=function va(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(g){const d=16*Math.random()|0;return("x"==g?d:3&d|8).toString(16)})}(),I={id:_,callback:c,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",_),this.stateChangeEmitters.delete(_)}};return this._debug("#onAuthStateChange()","registered callback with id",_),this.stateChangeEmitters.set(_,I),(0,Z.A)(function*(){yield u.initializePromise,yield u._acquireLock(-1,(0,Z.A)(function*(){u._emitInitialSession(_)}))})(),{data:{subscription:I}}}_emitInitialSession(c){var u=this;return(0,Z.A)(function*(){return yield u._useSession(function(){var _=(0,Z.A)(function*(I){var P,U;try{const{data:{session:$},error:te}=I;if(te)throw te;yield null===(P=u.stateChangeEmitters.get(c))||void 0===P?void 0:P.callback("INITIAL_SESSION",$),u._debug("INITIAL_SESSION","callback id",c,"session",$)}catch($){yield null===(U=u.stateChangeEmitters.get(c))||void 0===U?void 0:U.callback("INITIAL_SESSION",null),u._debug("INITIAL_SESSION","callback id",c,"error",$),console.error($)}});return function(I){return _.apply(this,arguments)}}())})()}resetPasswordForEmail(c,u={}){var _=this;return(0,Z.A)(function*(){let I=null,P=null;"pkce"===_.flowType&&([I,P]=yield ra(_.storage,_.storageKey,!0));try{return yield $n(_.fetch,"POST",`${_.url}/recover`,{body:{email:c,code_challenge:I,code_challenge_method:P,gotrue_meta_security:{captcha_token:u.captchaToken}},headers:_.headers,redirectTo:u.redirectTo})}catch(U){if(Oi(U))return{data:null,error:U};throw U}})()}getUserIdentities(){var c=this;return(0,Z.A)(function*(){var u;try{const{data:_,error:I}=yield c.getUser();if(I)throw I;return{data:{identities:null!==(u=_.user.identities)&&void 0!==u?u:[]},error:null}}catch(_){if(Oi(_))return{data:null,error:_};throw _}})()}linkIdentity(c){var u=this;return(0,Z.A)(function*(){var _;try{const{data:I,error:P}=yield u._useSession(function(){var U=(0,Z.A)(function*($){var te,oe,ve,Oe,he;const{data:ct,error:at}=$;if(at)throw at;const ht=yield u._getUrlForProvider(`${u.url}/user/identities/authorize`,c.provider,{redirectTo:null===(te=c.options)||void 0===te?void 0:te.redirectTo,scopes:null===(oe=c.options)||void 0===oe?void 0:oe.scopes,queryParams:null===(ve=c.options)||void 0===ve?void 0:ve.queryParams,skipBrowserRedirect:!0});return yield $n(u.fetch,"GET",ht,{headers:u.headers,jwt:null!==(he=null===(Oe=ct.session)||void 0===Oe?void 0:Oe.access_token)&&void 0!==he?he:void 0})});return function($){return U.apply(this,arguments)}}());if(P)throw P;return ei()&&!(null!==(_=c.options)&&void 0!==_&&_.skipBrowserRedirect)&&window.location.assign(null==I?void 0:I.url),{data:{provider:c.provider,url:null==I?void 0:I.url},error:null}}catch(I){if(Oi(I))return{data:{provider:c.provider,url:null},error:I};throw I}})()}unlinkIdentity(c){var u=this;return(0,Z.A)(function*(){try{return yield u._useSession(function(){var _=(0,Z.A)(function*(I){var P,U;const{data:$,error:te}=I;if(te)throw te;return yield $n(u.fetch,"DELETE",`${u.url}/user/identities/${c.identity_id}`,{headers:u.headers,jwt:null!==(U=null===(P=$.session)||void 0===P?void 0:P.access_token)&&void 0!==U?U:void 0})});return function(I){return _.apply(this,arguments)}}())}catch(_){if(Oi(_))return{data:null,error:_};throw _}})()}_refreshAccessToken(c){var u=this;return(0,Z.A)(function*(){const _=`#_refreshAccessToken(${c.substring(0,5)}...)`;u._debug(_,"begin");try{const I=Date.now();return yield function Hi(g,d){return new Promise((u,_)=>{(0,Z.A)(function*(){for(let I=0;I<1/0;I++)try{const P=yield g(I);if(!d(I,null,P))return void u(P)}catch(P){if(!d(I,P))return void _(P)}})()})}(function(){var P=(0,Z.A)(function*(U){return U>0&&(yield function To(g){return Os.apply(this,arguments)}(200*Math.pow(2,U-1))),u._debug(_,"refreshing attempt",U),yield $n(u.fetch,"POST",`${u.url}/token?grant_type=refresh_token`,{body:{refresh_token:c},headers:u.headers,xform:_r})});return function(U){return P.apply(this,arguments)}}(),(P,U)=>{const $=200*Math.pow(2,P);return U&&ts(U)&&Date.now()+$-I<Yr})}catch(I){if(u._debug(_,"error",I),Oi(I))return{data:{session:null,user:null},error:I};throw I}finally{u._debug(_,"end")}})()}_isValidSession(c){return"object"==typeof c&&null!==c&&"access_token"in c&&"refresh_token"in c&&"expires_at"in c}_handleProviderSignIn(c,u){var _=this;return(0,Z.A)(function*(){const I=yield _._getUrlForProvider(`${_.url}/authorize`,c,{redirectTo:u.redirectTo,scopes:u.scopes,queryParams:u.queryParams});return _._debug("#_handleProviderSignIn()","provider",c,"options",u,"url",I),ei()&&!u.skipBrowserRedirect&&window.location.assign(I),{data:{provider:c,url:I},error:null}})()}_recoverAndRefresh(){var c=this;return(0,Z.A)(function*(){var u;const _="#_recoverAndRefresh()";c._debug(_,"begin");try{const I=yield Aa(c.storage,c.storageKey);if(c._debug(_,"session from storage",I),!c._isValidSession(I))return c._debug(_,"session is not valid"),void(null!==I&&(yield c._removeSession()));const P=Math.round(Date.now()/1e3),U=(null!==(u=I.expires_at)&&void 0!==u?u:1/0)<P+10;if(c._debug(_,`session has${U?"":" not"} expired with margin of 10s`),U){if(c.autoRefreshToken&&I.refresh_token){const{error:$}=yield c._callRefreshToken(I.refresh_token);$&&(console.error($),ts($)||(c._debug(_,"refresh failed with a non-retryable error, removing the session",$),yield c._removeSession()))}}else yield c._notifyAllSubscribers("SIGNED_IN",I)}catch(I){return c._debug(_,"error",I),void console.error(I)}finally{c._debug(_,"end")}})()}_callRefreshToken(c){var u=this;return(0,Z.A)(function*(){var _,I;if(!c)throw new qo;if(u.refreshingDeferred)return u.refreshingDeferred.promise;const P=`#_callRefreshToken(${c.substring(0,5)}...)`;u._debug(P,"begin");try{u.refreshingDeferred=new Qr;const{data:U,error:$}=yield u._refreshAccessToken(c);if($)throw $;if(!U.session)throw new qo;yield u._saveSession(U.session),yield u._notifyAllSubscribers("TOKEN_REFRESHED",U.session);const te={session:U.session,error:null};return u.refreshingDeferred.resolve(te),te}catch(U){if(u._debug(P,"error",U),Oi(U)){const $={session:null,error:U};return ts(U)||(yield u._removeSession()),null===(_=u.refreshingDeferred)||void 0===_||_.resolve($),$}throw null===(I=u.refreshingDeferred)||void 0===I||I.reject(U),U}finally{u.refreshingDeferred=null,u._debug(P,"end")}})()}_notifyAllSubscribers(c,u,_=!0){var I=this;return(0,Z.A)(function*(){const P=`#_notifyAllSubscribers(${c})`;I._debug(P,"begin",u,`broadcast = ${_}`);try{I.broadcastChannel&&_&&I.broadcastChannel.postMessage({event:c,session:u});const U=[],$=Array.from(I.stateChangeEmitters.values()).map(function(){var te=(0,Z.A)(function*(oe){try{yield oe.callback(c,u)}catch(ve){U.push(ve)}});return function(oe){return te.apply(this,arguments)}}());if(yield Promise.all($),U.length>0){for(let te=0;te<U.length;te+=1)console.error(U[te]);throw U[0]}}finally{I._debug(P,"end")}})()}_saveSession(c){var u=this;return(0,Z.A)(function*(){u._debug("#_saveSession()",c),u.suppressGetSessionWarning=!0,yield Il(u.storage,u.storageKey,c)})()}_removeSession(){var c=this;return(0,Z.A)(function*(){c._debug("#_removeSession()"),yield Ms(c.storage,c.storageKey),yield c._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const c=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{c&&ei()&&null!=window&&window.removeEventListener&&window.removeEventListener("visibilitychange",c)}catch(u){console.error("removing visibilitychange callback failed",u)}}_startAutoRefresh(){var c=this;return(0,Z.A)(function*(){yield c._stopAutoRefresh(),c._debug("#_startAutoRefresh()");const u=setInterval(()=>c._autoRefreshTokenTick(),Yr);c.autoRefreshTicker=u,u&&"object"==typeof u&&"function"==typeof u.unref?u.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(u),setTimeout((0,Z.A)(function*(){yield c.initializePromise,yield c._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var c=this;return(0,Z.A)(function*(){c._debug("#_stopAutoRefresh()");const u=c.autoRefreshTicker;c.autoRefreshTicker=null,u&&clearInterval(u)})()}startAutoRefresh(){var c=this;return(0,Z.A)(function*(){c._removeVisibilityChangedCallback(),yield c._startAutoRefresh()})()}stopAutoRefresh(){var c=this;return(0,Z.A)(function*(){c._removeVisibilityChangedCallback(),yield c._stopAutoRefresh()})()}_autoRefreshTokenTick(){var c=this;return(0,Z.A)(function*(){c._debug("#_autoRefreshTokenTick()","begin");try{yield c._acquireLock(0,(0,Z.A)(function*(){try{const u=Date.now();try{return yield c._useSession(function(){var _=(0,Z.A)(function*(I){const{data:{session:P}}=I;if(!P||!P.refresh_token||!P.expires_at)return void c._debug("#_autoRefreshTokenTick()","no session");const U=Math.floor((1e3*P.expires_at-u)/Yr);c._debug("#_autoRefreshTokenTick()",`access token expires in ${U} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),U<=3&&(yield c._callRefreshToken(P.refresh_token))});return function(I){return _.apply(this,arguments)}}())}catch(_){console.error("Auto refresh tick failed with error. This is likely a transient error.",_)}}finally{c._debug("#_autoRefreshTokenTick()","end")}}))}catch(u){if(!(u.isAcquireTimeout||u instanceof Qt))throw u;c._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var c=this;return(0,Z.A)(function*(){if(c._debug("#_handleVisibilityChange()"),!ei()||null==window||!window.addEventListener)return c.autoRefreshToken&&c.startAutoRefresh(),!1;try{c.visibilityChangedCallback=(0,Z.A)(function*(){return yield c._onVisibilityChanged(!1)}),null==window||window.addEventListener("visibilitychange",c.visibilityChangedCallback),yield c._onVisibilityChanged(!0)}catch(u){console.error("_handleVisibilityChange",u)}})()}_onVisibilityChanged(c){var u=this;return(0,Z.A)(function*(){const _=`#_onVisibilityChanged(${c})`;u._debug(_,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(u.autoRefreshToken&&u._startAutoRefresh(),c||(yield u.initializePromise,yield u._acquireLock(-1,(0,Z.A)(function*(){"visible"===document.visibilityState?yield u._recoverAndRefresh():u._debug(_,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&u.autoRefreshToken&&u._stopAutoRefresh()})()}_getUrlForProvider(c,u,_){var I=this;return(0,Z.A)(function*(){const P=[`provider=${encodeURIComponent(u)}`];if(null!=_&&_.redirectTo&&P.push(`redirect_to=${encodeURIComponent(_.redirectTo)}`),null!=_&&_.scopes&&P.push(`scopes=${encodeURIComponent(_.scopes)}`),"pkce"===I.flowType){const[U,$]=yield ra(I.storage,I.storageKey),te=new URLSearchParams({code_challenge:`${encodeURIComponent(U)}`,code_challenge_method:`${encodeURIComponent($)}`});P.push(te.toString())}if(null!=_&&_.queryParams){const U=new URLSearchParams(_.queryParams);P.push(U.toString())}return null!=_&&_.skipBrowserRedirect&&P.push(`skip_http_redirect=${_.skipBrowserRedirect}`),`${c}?${P.join("&")}`})()}_unenroll(c){var u=this;return(0,Z.A)(function*(){try{return yield u._useSession(function(){var _=(0,Z.A)(function*(I){var P;const{data:U,error:$}=I;return $?{data:null,error:$}:yield $n(u.fetch,"DELETE",`${u.url}/factors/${c.factorId}`,{headers:u.headers,jwt:null===(P=null==U?void 0:U.session)||void 0===P?void 0:P.access_token})});return function(I){return _.apply(this,arguments)}}())}catch(_){if(Oi(_))return{data:null,error:_};throw _}})()}_enroll(c){var u=this;return(0,Z.A)(function*(){try{return yield u._useSession(function(){var _=(0,Z.A)(function*(I){var P,U;const{data:$,error:te}=I;if(te)return{data:null,error:te};const oe=Object.assign({friendly_name:c.friendlyName,factor_type:c.factorType},"phone"===c.factorType?{phone:c.phone}:{issuer:c.issuer}),{data:ve,error:Oe}=yield $n(u.fetch,"POST",`${u.url}/factors`,{body:oe,headers:u.headers,jwt:null===(P=null==$?void 0:$.session)||void 0===P?void 0:P.access_token});return Oe?{data:null,error:Oe}:("totp"===c.factorType&&!(null===(U=null==ve?void 0:ve.totp)||void 0===U)&&U.qr_code&&(ve.totp.qr_code=`data:image/svg+xml;utf-8,${ve.totp.qr_code}`),{data:ve,error:null})});return function(I){return _.apply(this,arguments)}}())}catch(_){if(Oi(_))return{data:null,error:_};throw _}})()}_verify(c){var u=this;return(0,Z.A)(function*(){return u._acquireLock(-1,(0,Z.A)(function*(){try{return yield u._useSession(function(){var _=(0,Z.A)(function*(I){var P;const{data:U,error:$}=I;if($)return{data:null,error:$};const{data:te,error:oe}=yield $n(u.fetch,"POST",`${u.url}/factors/${c.factorId}/verify`,{body:{code:c.code,challenge_id:c.challengeId},headers:u.headers,jwt:null===(P=null==U?void 0:U.session)||void 0===P?void 0:P.access_token});return oe?{data:null,error:oe}:(yield u._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+te.expires_in},te)),yield u._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",te),{data:te,error:oe})});return function(I){return _.apply(this,arguments)}}())}catch(_){if(Oi(_))return{data:null,error:_};throw _}}))})()}_challenge(c){var u=this;return(0,Z.A)(function*(){return u._acquireLock(-1,(0,Z.A)(function*(){try{return yield u._useSession(function(){var _=(0,Z.A)(function*(I){var P;const{data:U,error:$}=I;return $?{data:null,error:$}:yield $n(u.fetch,"POST",`${u.url}/factors/${c.factorId}/challenge`,{body:{channel:c.channel},headers:u.headers,jwt:null===(P=null==U?void 0:U.session)||void 0===P?void 0:P.access_token})});return function(I){return _.apply(this,arguments)}}())}catch(_){if(Oi(_))return{data:null,error:_};throw _}}))})()}_challengeAndVerify(c){var u=this;return(0,Z.A)(function*(){const{data:_,error:I}=yield u._challenge({factorId:c.factorId});return I?{data:null,error:I}:yield u._verify({factorId:c.factorId,challengeId:_.id,code:c.code})})()}_listFactors(){var c=this;return(0,Z.A)(function*(){const{data:{user:u},error:_}=yield c.getUser();if(_)return{data:null,error:_};const I=(null==u?void 0:u.factors)||[],P=I.filter($=>"totp"===$.factor_type&&"verified"===$.status),U=I.filter($=>"phone"===$.factor_type&&"verified"===$.status);return{data:{all:I,totp:P,phone:U},error:null}})()}_getAuthenticatorAssuranceLevel(){var c=this;return(0,Z.A)(function*(){return c._acquireLock(-1,(0,Z.A)(function*(){return yield c._useSession(function(){var u=(0,Z.A)(function*(_){var I,P;const{data:{session:U},error:$}=_;if($)return{data:null,error:$};if(!U)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const te=c._decodeJWT(U.access_token);let oe=null;te.aal&&(oe=te.aal);let ve=oe;return(null!==(P=null===(I=U.user.factors)||void 0===I?void 0:I.filter(ct=>"verified"===ct.status))&&void 0!==P?P:[]).length>0&&(ve="aal2"),{data:{currentLevel:oe,nextLevel:ve,currentAuthenticationMethods:te.amr||[]},error:null}});return function(_){return u.apply(this,arguments)}}())}))})()}}return g.nextInstanceID=0,g})();const vs=Js;class Zo extends vs{constructor(d){super(d)}}class Ls{constructor(d,c,u){var _,I,P;if(this.supabaseUrl=d,this.supabaseKey=c,!d)throw new Error("supabaseUrl is required.");if(!c)throw new Error("supabaseKey is required.");const U=function $a(g){return g.replace(/\/$/,"")}(d);this.realtimeUrl=`${U}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${U}/auth/v1`,this.storageUrl=`${U}/storage/v1`,this.functionsUrl=`${U}/functions/v1`;const $=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,oe=function Nn(g,d){const{db:c,auth:u,realtime:_,global:I}=g,{db:P,auth:U,realtime:$,global:te}=d,oe={db:Object.assign(Object.assign({},P),c),auth:Object.assign(Object.assign({},U),u),realtime:Object.assign(Object.assign({},$),_),global:Object.assign(Object.assign({},te),I),accessToken:()=>function(g,d,c,u){return new(c||(c=Promise))(function(I,P){function U(oe){try{te(u.next(oe))}catch(ve){P(ve)}}function $(oe){try{te(u.throw(oe))}catch(ve){P(ve)}}function te(oe){oe.done?I(oe.value):function _(I){return I instanceof c?I:new c(function(P){P(I)})}(oe.value).then(U,$)}te((u=u.apply(g,d||[])).next())})}(this,void 0,void 0,function*(){return""})};return g.accessToken?oe.accessToken=g.accessToken:delete oe.accessToken,oe}(null!=u?u:{},{db:ks,realtime:Fr,auth:Object.assign(Object.assign({},ai),{storageKey:$}),global:$o});this.storageKey=null!==(_=oe.auth.storageKey)&&void 0!==_?_:"",this.headers=null!==(I=oe.global.headers)&&void 0!==I?I:{},oe.accessToken?(this.accessToken=oe.accessToken,this.auth=new Proxy({},{get:(ve,Oe)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(Oe)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(P=oe.auth)&&void 0!==P?P:{},this.headers,oe.global.fetch),this.fetch=nl(c,this._getAccessToken.bind(this),oe.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},oe.realtime)),this.rest=new gn(`${U}/rest/v1`,{headers:this.headers,schema:oe.db.schema,fetch:this.fetch}),oe.accessToken||this._listenForAuthEvents()}get functions(){return new tn(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gr(this.storageUrl,this.headers,this.fetch)}from(d){return this.rest.from(d)}schema(d){return this.rest.schema(d)}rpc(d,c={},u={}){return this.rest.rpc(d,c,u)}channel(d,c={config:{}}){return this.realtime.channel(d,c)}getChannels(){return this.realtime.getChannels()}removeChannel(d){return this.realtime.removeChannel(d)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var d,c;return function(g,d,c,u){return new(c||(c=Promise))(function(I,P){function U(oe){try{te(u.next(oe))}catch(ve){P(ve)}}function $(oe){try{te(u.throw(oe))}catch(ve){P(ve)}}function te(oe){oe.done?I(oe.value):function _(I){return I instanceof c?I:new c(function(P){P(I)})}(oe.value).then(U,$)}te((u=u.apply(g,d||[])).next())})}(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:u}=yield this.auth.getSession();return null!==(c=null===(d=u.session)||void 0===d?void 0:d.access_token)&&void 0!==c?c:null})}_initSupabaseAuthClient({autoRefreshToken:d,persistSession:c,detectSessionInUrl:u,storage:_,storageKey:I,flowType:P,lock:U,debug:$},te,oe){var ve;return new Zo({url:this.authUrl,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),te),storageKey:I,autoRefreshToken:d,persistSession:c,detectSessionInUrl:u,storage:_,flowType:P,lock:U,debug:$,fetch:oe,hasCustomAuthorizationHeader:null!==(ve="Authorization"in this.headers)&&void 0!==ve&&ve})}_initRealtimeClient(d){return new di(this.realtimeUrl,Object.assign(Object.assign({},d),{params:Object.assign({apikey:this.supabaseKey},null==d?void 0:d.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((c,u)=>{this._handleTokenChanged(c,"CLIENT",null==u?void 0:u.access_token)})}_handleTokenChanged(d,c,u){"TOKEN_REFRESHED"!==d&&"SIGNED_IN"!==d||this.changedAccessToken===u?"SIGNED_OUT"===d&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==c&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(null!=u?u:null),this.changedAccessToken=u)}}var fo=Be(3426);let Zi=(()=>{var g;class d{constructor(){}}return(g=d).\u0275fac=function(u){return new(u||g)},g.\u0275prov=e.jDH({token:g,factory:g.\u0275fac,providedIn:"root"}),d})(),Pa=(()=>{var g;class d{constructor(u){this.generalService=u,this.currentImageSelectedPlan="",this.arrayImmagine=[0],this.flyerCount=0,this.posterCount=0,this.vetrograficaCount=0,this.currentImageLogoType="",this.imagePlanCost=0,this.logoCost=0,this.imageCostUnaTantum=0,this.googleManagementSelected=!1,this.currentLogoAssetUrl="",this.imageCostMonthly=0,this.currentManagementSelectedPlan="",this.managementCost=0,this.currentDigitalizzazioneSelectedPlan="",this.currentDigitalizzazioneAppSelectedPlan="",this.currentDigitalizzazioneSelectedIot="",this.digitalizzazioneWebisteCostUnaTantum=0,this.digitalizzazioneAppCostUnaTantum=0,this.digitalizzazioneIotCostUnaTantum=0,this.digitalizzazioneWebsiteCostMonthly=0,this.digitalizzazioneAppCostMonthly=0,this.digitalizzazioneIotCostMonthly=0,this.digitalizzazioneUnaTantumCost=0,this.digitalizzazioneMonthlyCost=0,this.contabilit\u00e0Selected=!1,this.totalCostUnaTantum=0,this.totalCostMonthly=0,this.digitalizzazioneWebisteCostUnaTantum=0,this.digitalizzazioneWebsiteCostMonthly=0,this.digitalizzazioneAppCostUnaTantum=0,this.digitalizzazioneAppCostMonthly=0,this.digitalizzazioneIotCostUnaTantum=0,this.digitalizzazioneIotCostMonthly=0}refreshShoppingCart(){document.getElementById("image-selected-plan-shopping-cart-display").innerText=this.currentImageSelectedPlan,"Basic"==this.currentImageSelectedPlan?(document.getElementById("image-basic").style.display="flex",this.imagePlanCost=330):document.getElementById("image-basic").style.display="none","Standard"==this.currentImageSelectedPlan?(document.getElementById("image-standard").style.display="flex",this.imagePlanCost=430):document.getElementById("image-standard").style.display="none","Deluxe"==this.currentImageSelectedPlan?(document.getElementById("image-deluxe").style.display="flex",this.imagePlanCost=650):document.getElementById("image-deluxe").style.display="none";const u=document.getElementById("alchemizzatore-immagine-google-checkbox-input");if(u&&u.checked&&(this.googleManagementSelected=!0,this.imagePlanCost=this.imagePlanCost+120),document.getElementById("shopping-cart-flyer-count").innerText=this.flyerCount+"",document.getElementById("shopping-cart-poster-count").innerText=this.posterCount+"",document.getElementById("shopping-cart-vetrografica-count").innerText=this.vetrograficaCount+"",document.getElementById("shopping-cart-image-logo-type").innerText=this.currentImageLogoType+"","Importato"==this.currentImageLogoType&&(this.logoCost=500),"Creato da 0"==this.currentImageLogoType&&(this.logoCost=1e3),this.imageCostUnaTantum=150*this.flyerCount+250*this.posterCount+350*this.vetrograficaCount+this.logoCost,document.getElementById("shopping-cart-image-cost-una-tantum-display").innerText=this.imageCostUnaTantum,document.getElementById("shopping-cart-image-cost-monthly-display").innerText=this.imagePlanCost,document.getElementById("management-selected-plan-shopping-cart-display").innerText=this.currentManagementSelectedPlan,"Basic"==this.currentManagementSelectedPlan&&(document.getElementById("management-basic").style.display="flex",this.managementCost=300),"Standard"==this.currentManagementSelectedPlan&&(document.getElementById("management-standard").style.display="flex",this.managementCost=500),"Deluxe"==this.currentManagementSelectedPlan&&(document.getElementById("management-deluxe").style.display="flex",this.managementCost=1e3),document.getElementById("shopping-cart-management-cost-una-tantum-display").innerText=this.managementCost,"Basic"==this.currentDigitalizzazioneSelectedPlan?(document.getElementById("digitalizzazione-website-basic").style.display="flex",this.digitalizzazioneWebisteCostUnaTantum=650,this.digitalizzazioneWebsiteCostMonthly=50):document.getElementById("digitalizzazione-website-basic").style.display="none","Standard"==this.currentDigitalizzazioneSelectedPlan?(document.getElementById("digitalizzazione-website-standard").style.display="flex",this.digitalizzazioneWebisteCostUnaTantum=1e3,this.digitalizzazioneWebsiteCostMonthly=60):document.getElementById("digitalizzazione-website-standard").style.display="none","Deluxe"==this.currentDigitalizzazioneSelectedPlan?(document.getElementById("digitalizzazione-website-deluxe").style.display="flex",this.digitalizzazioneWebisteCostUnaTantum=2e3,this.digitalizzazioneWebsiteCostMonthly=100):document.getElementById("digitalizzazione-website-deluxe").style.display="none","Basic"==this.currentDigitalizzazioneAppSelectedPlan?(document.getElementById("digitalizzazione-app-basic").style.display="flex",this.digitalizzazioneAppCostUnaTantum=2e3,this.digitalizzazioneAppCostMonthly=90):document.getElementById("digitalizzazione-app-basic").style.display="none","Standard"==this.currentDigitalizzazioneAppSelectedPlan?(document.getElementById("digitalizzazione-app-standard").style.display="flex",this.digitalizzazioneAppCostUnaTantum=3e3,this.digitalizzazioneAppCostMonthly=150):document.getElementById("digitalizzazione-app-standard").style.display="none","Deluxe"==this.currentDigitalizzazioneAppSelectedPlan?(document.getElementById("digitalizzazione-app-deluxe").style.display="flex",this.digitalizzazioneAppCostUnaTantum=6e3,this.digitalizzazioneAppCostMonthly=250):document.getElementById("digitalizzazione-app-deluxe").style.display="none","Selected"==this.currentDigitalizzazioneSelectedIot?(document.getElementById("digitalizzazione-iot").style.display="flex",this.digitalizzazioneIotCostUnaTantum=2500,this.digitalizzazioneIotCostMonthly=100):document.getElementById("digitalizzazione-iot").style.display="none",this.digitalizzazioneUnaTantumCost=this.digitalizzazioneWebisteCostUnaTantum+this.digitalizzazioneAppCostUnaTantum+this.digitalizzazioneIotCostUnaTantum,this.digitalizzazioneMonthlyCost=this.digitalizzazioneWebsiteCostMonthly+this.digitalizzazioneAppCostMonthly+this.digitalizzazioneIotCostMonthly,document.getElementById("shopping-cart-digitalizzazione-cost-una-tantum-display").innerText=this.digitalizzazioneUnaTantumCost,document.getElementById("shopping-cart-digitalizzazione-cost-monthly-display").innerText=this.digitalizzazioneMonthlyCost,1==this.contabilit\u00e0Selected){"Ditt\xe0 individuale forfettaria"==document.getElementById("customer-info-forma-giuridica-input").value&&(this.contabilit\u00e0MonthlyCost=50),this.totalCostUnaTantum=this.digitalizzazioneUnaTantumCost+this.imageCostUnaTantum+this.managementCost,this.totalCostMonthly=this.digitalizzazioneMonthlyCost+this.imagePlanCost,document.getElementById("shopping-cart-total-cost-una-tantum-display").innerText=this.totalCostUnaTantum,document.getElementById("shopping-cart-total-cost-monthly-display").innerText=this.totalCostMonthly}}}return(g=d).\u0275fac=function(u){return new(u||g)(e.KVO(fo.O))},g.\u0275prov=e.jDH({token:g,factory:g.\u0275fac,providedIn:"root"}),d})();var _s=Be(70);let Na=(()=>{var g;class d{constructor(u){this.generalService=u}ngOnInit(){}logOut(){this.generalService.logOut()}openCloseSidebar(){const u=document.getElementById("sidebar"),_=document.getElementById("header-open-close-sidebar-button");"flex"==u.style.display?(u.style.display="none",_.style.display="flex"):(u.style.display="flex",_.style.display="none")}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(fo.O))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-sidebar"]],decls:57,vars:0,consts:[[2,"width","18rem","height","100%","display","flex","pointer-events","all","z-index","999"],[2,"border-right","1px solid rgba(0, 0, 0, 0.156)","width","100%","height","100%","display","flex","flex-direction","column","align-items","center","padding-top","1rem","overflow-y","auto","overflow-x","hidden","box-shadow","10px 0 15px -5px rgba(0, 0, 0, 0.1)"],["src","assets\\icon\\transparent-logo.png",2,"filter","invert(1)","width","80%","margin-bottom","2rem"],["routerLink","/home",1,"sidebar-button",2,"width","90%"],["name","home-outline",2,"font-size","1.7rem","color","#757575","padding-right","1rem","padding-left","0.2rem"],["routerLink","/customers",1,"sidebar-button",2,"width","90%"],["name","people-outline",2,"font-size","1.7rem","color","#757575","padding-right","1rem","padding-left","0.2rem"],["routerLink","/prospects",1,"sidebar-button",2,"width","90%"],[1,"material-symbols-outlined","notranslate",2,"font-size","1.7rem","color","#757575","padding-right","1rem","padding-left","0.2rem"],["routerLink","/tasks",1,"sidebar-button",2,"width","90%"],[1,"details",2,"width","90%"],[1,"summary"],[2,"padding-left","1.5rem","width","100%"],["routerLink","/immagine",1,"sidebar-button",2,"width","90%"],["routerLink","/digitalizzazione",1,"sidebar-button",2,"width","90%"],["routerLink","/management",1,"sidebar-button",2,"width","90%"],["routerLink","/contabilit\xe0",1,"sidebar-button",2,"width","90%"],["routerLink","/alchemizzatore",1,"sidebar-button",2,"width","90%"],[2,"flex","1"],[2,"width","100%","height","5rem","flex-shrink","0","display","flex","flex-direction","row","align-items","center","justify-content","center","gap","0.5rem","border-top","1px solid rgba(0, 0, 0, 0.156)","border-radius","0.7rem"],["id","sidebar-pro-module-display",1,"material-symbols-outlined","notranslate",2,"font-size","2.3rem","color","#333"],[2,"display","flex","flex-direction","column"],["id","sidebar-name-surname-display",2,"margin-bottom","0rem","margin-top","0rem","color","#333","font-size","0.9rem"],["id","sidebar-email-display",2,"margin-top","0rem","margin-bottom","0rem","color","#333","font-size","0.8rem"],["name","log-out-outline",2,"font-size","1.7rem","color","#757575","padding-right","1rem","padding-left","0.2rem","cursor","pointer",3,"click"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"img",2),e.j41(3,"button",3),e.nrm(4,"ion-icon",4),e.j41(5,"ion-label"),e.EFF(6,"Home"),e.k0s()(),e.j41(7,"button",5),e.nrm(8,"ion-icon",6),e.j41(9,"ion-label"),e.EFF(10,"Clienti"),e.k0s()(),e.j41(11,"button",7)(12,"span",8),e.EFF(13,"group_add"),e.k0s(),e.j41(14,"ion-label"),e.EFF(15,"Prospect"),e.k0s()(),e.j41(16,"button",9)(17,"span",8),e.EFF(18,"task_alt"),e.k0s(),e.j41(19,"ion-label"),e.EFF(20,"Tasks"),e.k0s()(),e.j41(21,"details",10)(22,"summary",11),e.EFF(23,"Moduli"),e.k0s(),e.j41(24,"div",12)(25,"button",13)(26,"span",8),e.EFF(27,"smartphone_camera"),e.k0s(),e.j41(28,"ion-label"),e.EFF(29,"Immagine"),e.k0s()(),e.j41(30,"button",14)(31,"span",8),e.EFF(32,"devices"),e.k0s(),e.j41(33,"ion-label"),e.EFF(34,"Digitalizzazione"),e.k0s()(),e.j41(35,"button",15)(36,"span",8),e.EFF(37,"analytics"),e.k0s(),e.j41(38,"ion-label"),e.EFF(39,"Management"),e.k0s()(),e.j41(40,"button",16)(41,"span",8),e.EFF(42,"calculate"),e.k0s(),e.j41(43,"ion-label"),e.EFF(44,"Contabilit\xe0"),e.k0s()()()(),e.j41(45,"button",17)(46,"span",8),e.EFF(47,"science"),e.k0s(),e.j41(48,"ion-label"),e.EFF(49,"Alchemizzatore"),e.k0s()(),e.nrm(50,"div",18),e.j41(51,"div",19),e.nrm(52,"span",20),e.j41(53,"div",21),e.nrm(54,"h3",22)(55,"p",23),e.k0s(),e.j41(56,"ion-icon",24),e.bIt("click",function(){return _.logOut()}),e.k0s()()()())},dependencies:[wt.iq,wt.he,wt.N7,_s.Wk]}),d})(),ul=(()=>{var g;class d{constructor(u){this.generalService=u}ngOnInit(){}showOrHideSidebar(){this.generalService.showOrHideSidebarGlobal()}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(fo.O))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-header"]],decls:3,vars:0,consts:[[2,"height","4rem","width","100%","display","flex","flex-direction","row","align-items","center","border-bottom","1px solid rgba(0, 0, 0, 0.156)","padding-left","0.5rem","padding-right","1rem","box-shadow","0 10px 15px -5px rgba(0, 0, 0, 0.095)"],[1,"material-symbols-outlined","notranslate",2,"font-size","2rem","color","#333","cursor","pointer","margin-left","0.5rem",3,"click"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"span",1),e.bIt("click",function(){return _.showOrHideSidebar()}),e.EFF(2,"menu"),e.k0s()())}}),d})(),Ie=(()=>{var g;class d{constructor(u,_,I,P){this.generalService=u,this.supabaseService=_,this.alchemizzatoreService=I,this.router=P}ngOnInit(){this.initSupabase(),this.verifySession(),tt.A.auth().onAuthStateChanged(u=>{u?tt.A.firestore().collection("users_data").doc(u.uid).get().then(_=>{_.exists?(this.generalService.currentUser=_.data(),"Immagine e presenza social"==_.data().proModule&&(document.getElementById("sidebar-pro-module-display").innerText="smartphone_camera"),"Ottimizzazione e management"==_.data().proModule&&(document.getElementById("sidebar-pro-module-display").innerText="analytics"),"Contabilit\xe0 e fiscalit\xe0"==_.data().proModule&&(document.getElementById("sidebar-pro-module-display").innerText="calculate"),"Digitalizzazione e automazione"==_.data().proModule&&(document.getElementById("sidebar-pro-module-display").innerText="devices"),document.getElementById("sidebar-name-surname-display").innerText=_.data().name+" "+_.data().surname,document.getElementById("sidebar-email-display").innerText=_.data().email):this.router.navigate(["log"])}).catch(_=>{this.router.navigate(["log"]),this.generalService.presentToast("Errore nel recuperare i dati del tuo account: "+_.message)}):this.router.navigate(["log"])})}sendMessage(){document.getElementById("second-message-assistenza-commerciale-text").innerText=document.getElementById("assistenza-commerciale-message-input").value,document.getElementById("second-message-assistenza-commerciale").style.display="flex",document.getElementById("assistenza-commerciale-message-input").value="",setTimeout(()=>{document.getElementById("response-message-assistenza-commerciale").style.display="flex"},5e3),setTimeout(()=>{document.getElementById("response2-message-assistenza-commerciale").style.display="flex"},3e4)}initFirebase(){tt.A.initializeApp({apiKey:"AIzaSyDhmuB3V1kjKMcDyUYEjHhKlF1IWyrNQC0",authDomain:"crm-db-d1c98.firebaseapp.com",projectId:"crm-db-d1c98",storageBucket:"crm-db-d1c98.appspot.com",messagingSenderId:"482658736148",appId:"1:482658736148:web:8a344f05677bc7d8402f01",measurementId:"G-FE068M0GFS"})}initSupabase(){this.supabaseService.supabase=new Ls("https://eswoxdlfrwrkzvsgcdfq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVzd294ZGxmcndya3p2c2djZGZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjk1Mzg4NTksImV4cCI6MjA0NTExNDg1OX0.ZjRcU_fqSlcNsczmRnWMRcVmqrH3zomqFR9UC2-UVR8",void 0)}verifySession(){var u=this;return(0,Z.A)(function*(){const{data:_}=yield u.supabaseService.supabase.auth.getUser();_.user?(document.getElementById("sidebar-name-surname-display").innerText=_.user.user_metadata.name+" "+_.user.user_metadata.surname,document.getElementById("sidebar-email-display").innerText=_.user.email,"Immagine e presenza social"==_.user.user_metadata.pro_module&&(document.getElementById("sidebar-pro-module-display").innerText="smartphone_camera"),"Ottimizzazione e management"==_.user.user_metadata.pro_module&&(document.getElementById("sidebar-pro-module-display").innerText="analytics"),"Contabilit\xe0 e fiscalit\xe0"==_.user.user_metadata.pro_module&&(document.getElementById("sidebar-pro-module-display").innerText="calculate"),"Digitalizzazione e automazione"==_.user.user_metadata.pro_module&&(document.getElementById("sidebar-pro-module-display").innerText="devices"),u.generalService.currentUser=_):u.router.navigate(["/log"])})()}showConfirmCancel(){document.getElementById("prospect-dialog").style.display="flex"}hideConfirmCancel(){document.getElementById("prospect-dialog").style.display="none"}addProspect(){var u=this;return(0,Z.A)(function*(){const _=document.getElementById("customer-info-ragione-sociale-input").value,I=document.getElementById("customer-info-partita-iva-input").value,P=document.getElementById("customer-info-referente-input").value,U=document.getElementById("customer-info-sdi-code-input").value,$=document.getElementById("customer-info-codice-fiscale-input").value,te=document.getElementById("customer-info-sito-web-input").value,oe=document.getElementById("customer-info-instagram-input").value,ve=document.getElementById("customer-info-indirizzo-input").value,Oe=document.getElementById("customer-info-telefono-input").value,he=document.getElementById("customer-info-email-input").value,ct=document.getElementById("customer-info-pec-input").value,at=document.getElementById("customer-info-settore-merceologico-input").value,ht=document.getElementById("customer-info-forma-giuridica-input").value,m=document.getElementById("prospect-dialog-motivazione-input").value,{error:p}=yield u.supabaseService.supabase.from("anagrafiche").insert([{type:"prospect",ragione_sociale:_,partita_iva:I,referente:P,website:te,instagram:oe,address:ve,phone_number:Oe,sdi_code:U,codice_fiscale:$,email:he,pec:ct,settore_merceologico:at,forma_giuridica:ht,motivazione:m,purchase:{digitalizzazione:{website_selected_plan:u.alchemizzatoreService.currentDigitalizzazioneSelectedPlan,website_selected_plan_cost_una_tantum:u.alchemizzatoreService.digitalizzazioneWebisteCostUnaTantum,website_selected_plan_cost_montly:u.alchemizzatoreService.digitalizzazioneWebsiteCostMonthly,app_selected_plan:u.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan,app_selected_plan_cost_una_tantum:u.alchemizzatoreService.digitalizzazioneAppCostUnaTantum,app_selected_plan_cost_montly:u.alchemizzatoreService.digitalizzazioneAppCostMonthly,iot_selected_plan:u.alchemizzatoreService.currentDigitalizzazioneSelectedIot,iot_selected_plan_cost_una_tantum:u.alchemizzatoreService.digitalizzazioneIotCostUnaTantum,iot_selected_plan_cost_montly:u.alchemizzatoreService.digitalizzazioneIotCostMonthly},management:{selected_plan:u.alchemizzatoreService.currentManagementSelectedPlan},contabilit\u00e0:{},immagine:{social_selected_plan:u.alchemizzatoreService.currentImageSelectedPlan,google_management:u.alchemizzatoreService.googleManagementSelected,grafica:{flyer_count:u.alchemizzatoreService.flyerCount,poster_count:u.alchemizzatoreService.posterCount,vetrografica_count:u.alchemizzatoreService.vetrograficaCount,logo_type:u.alchemizzatoreService.currentImageLogoType,logo_cost:u.alchemizzatoreService.logoCost,logo_asset:u.alchemizzatoreService.currentLogoAssetUrl}},total:{total_cost_una_tantum:u.alchemizzatoreService.totalCostUnaTantum,total_cost_montly:u.alchemizzatoreService.totalCostMonthly}}}]);p?(u.generalService.presentToast("Errore durante il salvataggio del prospect: "+p.message),console.error("Errore durante l'inserimento del prospect: ",p)):u.generalService.presentToast("Prospect aggiunto con successo")})()}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(fo.O),e.rXU(Zi),e.rXU(Pa),e.rXU(_s.Ix))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-root"]],decls:60,vars:0,consts:[["id","assistenza-commerciale",2,"width","100%","height","100%","background","rgba(0, 0, 0, 0.169)","position","absolute","z-index","9999","display","none","flex-direction","column","align-items","center","justify-content","center"],[1,"card1",2,"padding-left","1rem","padding-right","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","space-between"],["onclick","document.getElementById('assistenza-commerciale').style.display = 'none'; ",1,"material-symbols-outlined","notranslate",2,"color","black","font-size","1.8rem","cursor","pointer"],["id","ti-stiamo-collegando-message",2,"font-size","1.2rem"],["id","first-message-assistenza-commerciale",1,"card1",2,"width","15rem","display","none"],["id","first-message-assistenza-commerciale-text",2,"padding-left","1rem"],["id","second-message-assistenza-commerciale",2,"width","100%","display","none","justify-content","end","margin-top","1rem","margin-bottom","1rem"],[1,"card1",2,"width","15rem"],["id","second-message-assistenza-commerciale-text",2,"padding-left","1rem"],["id","response-message-assistenza-commerciale",1,"card1",2,"width","15rem","display","none"],[2,"padding-left","1rem","margin-right","1rem"],["id","response2-message-assistenza-commerciale",1,"card1",2,"width","15rem","display","none","margin-top","1rem"],["id","response3-message-assistenza-commerciale",2,"padding-left","1rem","margin-right","1rem","display","none","margin-top","1rem","margin-bottom","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem"],[1,"inputGroup",2,"flex","1 1 0","min-width","200px"],["id","assistenza-commerciale-message-input","type","text",1,"input-field3"],["for","assistenza-commerciale-message-input"],[1,"card1",2,"height","3rem","width","3rem","border-radius","50%",3,"click"],[1,"material-symbols-outlined","notranslate",2,"font-size","1.8rem"],["id","prospect-dialog",2,"width","100%","height","100%","background","rgba(0, 0, 0, 0.256)","z-index","999","position","absolute","display","none","align-items","center","justify-content","center"],[1,"card1",2,"width","20rem","padding-left","1rem","padding-right","1rem","padding-bottom","1rem"],[2,"display","flex","flex-direction","column","flex","1 1 0","min-width","200px"],["for","prospect-dialog-motivazione-input",2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],[1,"inputGroup"],["id","prospect-dialog-motivazione-input",1,"selector1",2,"width","100%"],["value","Prezzo"],["value","Fiducia"],["value","Indeciso"],["value","Non interessato"],["value","Crea prospect"],[1,"btn",2,"height","2.5rem",3,"click"],["id","app-container",2,"width","100%","height","100%","display","flex","flex-direction","column"],["id","header"],[2,"width","100%","height","calc(100% - 4rem)","display","flex","flex-direction","row"],["id","sidebar",2,"width","18rem","height","100%","z-index","2","pointer-events","all"],[1,"scrollbar-resp-width",2,"height","100%","position","relative","flex","1"]],template:function(u,_){1&u&&(e.j41(0,"ion-app")(1,"div",0)(2,"div",1)(3,"h1",2),e.EFF(4," Assistenza commerciale"),e.j41(5,"span",3),e.EFF(6,"close"),e.k0s()(),e.j41(7,"p",4),e.EFF(8,"Ti stiamo collegando con l'ufficio..."),e.k0s(),e.j41(9,"div",5),e.nrm(10,"p",6),e.k0s(),e.j41(11,"div",7)(12,"div",8),e.nrm(13,"p",9),e.k0s()(),e.j41(14,"div",10)(15,"p",11),e.EFF(16,"Dammi giusto 1 minuto per chiedere la deroga dello sconto"),e.k0s()(),e.j41(17,"div",12)(18,"p",11),e.EFF(19,"Deroga concessa, te la applico direttamente"),e.k0s()(),e.j41(20,"strong",13),e.EFF(21,"Sessione terminata"),e.k0s(),e.j41(22,"div",14)(23,"div",15),e.nrm(24,"input",16),e.j41(25,"label",17),e.EFF(26,"Il tuo messaggio"),e.k0s()(),e.j41(27,"button",18),e.bIt("click",function(){return _.sendMessage()}),e.j41(28,"span",19),e.EFF(29,"send"),e.k0s()()()()(),e.j41(30,"div",20)(31,"div",21)(32,"h3"),e.EFF(33,"Rifiuta"),e.k0s(),e.j41(34,"div",22)(35,"label",23),e.EFF(36,"Motivazione"),e.k0s(),e.j41(37,"div",24)(38,"select",25)(39,"option",26),e.EFF(40,"Prezzo"),e.k0s(),e.j41(41,"option",27),e.EFF(42,"Fiducia"),e.k0s(),e.j41(43,"option",28),e.EFF(44,"Indeciso"),e.k0s(),e.j41(45,"option",29),e.EFF(46,"Non interessato"),e.k0s(),e.j41(47,"option",30),e.EFF(48,"Crea prospect"),e.k0s()()()(),e.j41(49,"div",2)(50,"button",31),e.bIt("click",function(){return _.hideConfirmCancel()}),e.EFF(51,"Annulla"),e.k0s(),e.j41(52,"button",31),e.bIt("click",function(){return _.addProspect()}),e.EFF(53,"Conferma"),e.k0s()()()(),e.j41(54,"div",32),e.nrm(55,"app-header",33),e.j41(56,"div",34),e.nrm(57,"app-sidebar",35),e.j41(58,"div",36),e.nrm(59,"ion-router-outlet"),e.k0s()()()())},dependencies:[wt.U1,wt.Rg,Na,ul]}),d})(),Ae=(()=>{var g;class d{constructor(){}ngOnInit(){document.getElementById("sidebar").style.display="none",document.getElementById("header").style.display="none",document.getElementById("responsive-container-1").style.height="100%",document.getElementById("responsive-container-1").style.width="100%"}}return(g=d).\u0275fac=function(u){return new(u||g)},g.\u0275cmp=e.VBU({type:g,selectors:[["app-log"]],decls:12,vars:0,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column"],[2,"height","4rem","width","100%","border-bottom","1px solid rgba(0, 0, 0, 0.1)"],["src","assets\\svg\\LOGO PROMETHEA SRL .svg",2,"width","10rem","height","3.8rem","object-fit","cover","margin-top","-0.2rem"],[2,"width","100%","height","calc(100% - 4rem)","display","flex","flex-direction","row","flex-wrap","wrap","align-items","center","justify-content","center","gap","2rem","overflow-y","auto","overflow-x","hidden"],["src","assets\\svg\\undraw_pie_graph_re_fvol.svg",2,"height","13rem"],[2,"display","flex","flex-direction","column","width","100%","max-width","25rem","gap","1rem","padding","1rem"],[2,"background","linear-gradient(90deg, #333333, #777777, #bbbbbb)","-webkit-background-clip","text","-webkit-text-fill-color","transparent"],["routerLink","/login",1,"btn"],["routerLink","/register",1,"btn"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"img",2),e.k0s(),e.j41(3,"div",3),e.nrm(4,"img",4),e.j41(5,"div",5)(6,"h3",6),e.EFF(7,"Seleziona un'opzione per continuare"),e.k0s(),e.j41(8,"button",7),e.EFF(9,"Accedi"),e.k0s(),e.j41(10,"button",8),e.EFF(11,"Registati"),e.k0s()()()())},dependencies:[wt.N7,_s.Wk]}),d})(),qe=(()=>{var g;class d{constructor(u,_,I){this.generalService=u,this.router=_,this.supabaseService=I}ngOnInit(){document.getElementById("sidebar").style.display="none",document.getElementById("header").style.display="none",document.getElementById("responsive-container-1").style.height="100%",document.getElementById("responsive-container-1").style.width="100%"}login(){var u=this;return(0,Z.A)(function*(){const _=document.getElementById("login-email-input"),I=document.getElementById("login-password-input"),{error:U}=yield u.supabaseService.supabase.auth.signInWithPassword({email:_.value,password:I.value});U?u.generalService.presentToast("Login fallito: "+U.message):(u.generalService.initNormalScreen(),u.generalService.presentToast("Login effettuato con successo"),u.router.navigate(["/home"]))})()}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(fo.O),e.rXU(_s.Ix),e.rXU(Zi))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-login"]],decls:18,vars:0,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column"],[2,"height","4rem","width","100%","border-bottom","1px solid rgba(0, 0, 0, 0.1)"],["src","assets\\svg\\LOGO PROMETHEA SRL .svg",2,"width","10rem","height","3.8rem","object-fit","cover","margin-top","-0.2rem"],[2,"width","100%","height","calc(100% - 4rem)","display","flex","flex-direction","row","flex-wrap","wrap","align-items","center","justify-content","center","gap","2rem","overflow-y","auto","overflow-x","hidden"],["src","assets\\svg\\undraw_data_reports_706v.svg",2,"height","13rem"],[2,"display","flex","flex-direction","column","width","100%","max-width","25rem","padding","1rem"],[2,"background","linear-gradient(90deg, #333333, #777777, #bbbbbb)","-webkit-background-clip","text","-webkit-text-fill-color","transparent"],[1,"inputGroup",2,"flex","1 1 0","min-width","200px"],["id","login-email-input","type","text",1,"input-field3"],["for","login-email-input"],["id","login-password-input","type","password",1,"input-field3"],["for","login-password-input"],[1,"btn",3,"click"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"img",2),e.k0s(),e.j41(3,"div",3),e.nrm(4,"img",4),e.j41(5,"div",5)(6,"h3",6),e.EFF(7,"Bentornato, accedi per continuare"),e.k0s(),e.j41(8,"div",7),e.nrm(9,"input",8),e.j41(10,"label",9),e.EFF(11,"Email"),e.k0s()(),e.j41(12,"div",7),e.nrm(13,"input",10),e.j41(14,"label",11),e.EFF(15,"Password"),e.k0s()(),e.j41(16,"button",12),e.bIt("click",function(){return _.login()}),e.EFF(17,"Accedi"),e.k0s()()()())}}),d})(),Ee=(()=>{var g;class d{constructor(u,_,I){this.generalService=u,this.router=_,this.supabaseService=I}ngOnInit(){document.getElementById("sidebar").style.display="none",document.getElementById("header").style.display="none",document.getElementById("responsive-container-1").style.height="100%",document.getElementById("responsive-container-1").style.width="100%"}register(){var u=this;return(0,Z.A)(function*(){var _=document.getElementById("register-email-input").value,I=document.getElementById("register-password-input").value,P=document.getElementById("register-password-confirm-input").value,U=document.getElementById("register-name-input").value,$=document.getElementById("register-surname-input").value,te=document.getElementById("register-phone-number-input").value,oe=document.getElementById("register-pro-selection-input").value;if(I==P){const{error:Oe}=yield u.supabaseService.supabase.auth.signUp({email:_,password:I,options:{data:{name:U,surname:$,phone_number:te,pro_module:oe}}});Oe?u.generalService.presentToast("Errore durante la registrazione: "+Oe.message):(u.generalService.initNormalScreen(),u.generalService.presentToast("Registrazione completata con successo"),u.router.navigate(["/home"]))}else u.generalService.presentToast("Le password inserite non corrispondono")})()}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(fo.O),e.rXU(_s.Ix),e.rXU(Zi))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-register"]],decls:48,vars:0,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column"],[2,"height","4rem","width","100%","border-bottom","1px solid rgba(0, 0, 0, 0.1)"],["src","assets\\svg\\LOGO PROMETHEA SRL .svg",2,"width","10rem","height","3.8rem","object-fit","cover","margin-top","-0.2rem"],[2,"width","100%","height","calc(100% - 4rem)","display","flex","flex-direction","row","flex-wrap","wrap","align-items","center","justify-content","center","gap","2rem","overflow-y","auto","overflow-x","hidden"],["src","assets\\svg\\undraw_mobile_content_xvgr.svg",2,"height","13rem"],[2,"display","flex","flex-direction","column","width","100%","max-width","40rem","padding","1rem"],[2,"background","linear-gradient(90deg, #333333, #777777, #bbbbbb)","-webkit-background-clip","text","-webkit-text-fill-color","transparent"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem"],[1,"inputGroup",2,"flex","1 1 0","min-width","200px"],["id","register-name-input","type","text",1,"input-field3"],["for","register-name-input"],["id","register-surname-input","type","text",1,"input-field3"],["for","register-surname-input"],["id","register-email-input","type","text",1,"input-field3"],["for","register-email-input"],["id","register-phone-number-input","type","text",1,"input-field3"],["for","register-phone-number-input"],["id","register-password-input","type","password",1,"input-field3"],["for","register-password-input"],["id","register-password-confirm-input","type","password",1,"input-field3"],["for","register-password-confirm-input"],[2,"display","flex","flex-direction","column","flex","1 1 0","min-width","200px"],["for","register-pro-selection-input",2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","12rem","text-align","center"],[1,"inputGroup"],["id","register-pro-selection-input",1,"selector1",2,"width","100%"],["value","Immagine e presenza social"],["value","Ottimizzazione e management"],["value","Contabilit\xe0 e fiscalit\xe0"],["value","Digitalizzazione e automazione"],[1,"btn",3,"click"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"img",2),e.k0s(),e.j41(3,"div",3),e.nrm(4,"img",4),e.j41(5,"div",5)(6,"h3",6),e.EFF(7,"Benvenuto, registrati per continuare"),e.k0s(),e.j41(8,"div",7)(9,"div",8),e.nrm(10,"input",9),e.j41(11,"label",10),e.EFF(12,"Nome"),e.k0s()(),e.j41(13,"div",8),e.nrm(14,"input",11),e.j41(15,"label",12),e.EFF(16,"Cognome"),e.k0s()()(),e.j41(17,"div",8),e.nrm(18,"input",13),e.j41(19,"label",14),e.EFF(20,"Email"),e.k0s()(),e.j41(21,"div",8),e.nrm(22,"input",15),e.j41(23,"label",16),e.EFF(24,"Numero di telefono"),e.k0s()(),e.j41(25,"div",8),e.nrm(26,"input",17),e.j41(27,"label",18),e.EFF(28,"Password"),e.k0s()(),e.j41(29,"div",8),e.nrm(30,"input",19),e.j41(31,"label",20),e.EFF(32,"Conferma Password"),e.k0s()(),e.j41(33,"div",21)(34,"label",22),e.EFF(35,"Modulo di competenza"),e.k0s(),e.j41(36,"div",23)(37,"select",24)(38,"option",25),e.EFF(39,"Immagine e presenza social"),e.k0s(),e.j41(40,"option",26),e.EFF(41,"Ottimizzazione e management"),e.k0s(),e.j41(42,"option",27),e.EFF(43,"Contabilit\xe0 e fiscalit\xe0"),e.k0s(),e.j41(44,"option",28),e.EFF(45,"Digitalizzazione e automazione"),e.k0s()()()(),e.j41(46,"button",29),e.bIt("click",function(){return _.register()}),e.EFF(47,"Registrati"),e.k0s()()()())}}),d})();var pt=Be(4412);function cr(g,d){if(1&g){const c=e.RV6();e.j41(0,"tbody")(1,"tr")(2,"td"),e.EFF(3),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td")(13,"div",7)(14,"span",8),e.bIt("click",function(){const _=e.eBV(c).$implicit,I=e.XpG();return e.Njj(I.openChangeCustomer(_))}),e.EFF(15,"edit"),e.k0s(),e.j41(16,"span",8),e.bIt("click",function(){const _=e.eBV(c).$implicit,I=e.XpG();return e.Njj(I.deleteCustomer(_))}),e.EFF(17,"delete"),e.k0s()()()()()}if(2&g){const c=d.$implicit;e.R7$(3),e.JRh(c.ragione_sociale),e.R7$(2),e.JRh(c.referente),e.R7$(2),e.JRh(c.phone_number),e.R7$(2),e.SpI("\u20ac",c.purchase.total.total_cost_montly,""),e.R7$(2),e.SpI("\u20ac",c.purchase.total.total_cost_una_tantum,"")}}let Bi=(()=>{var g;class d{constructor(u,_,I){this.generalService=u,this.supabaseService=_,this.router=I,this.documents=new pt.t([]),this.nextPageAvailable=!0,this.customersCount=0}ngOnInit(){this.fetchCustomers(),this.countCustomers()}countCustomers(){var u=this;return(0,Z.A)(function*(){const{count:_,error:I}=yield u.supabaseService.supabase.from("anagrafiche").select("*",{count:"exact"}).ilike("type","%customer%");I?console.error("Errore nel contare i documenti:",I):u.customersCount=_})()}fetchCustomers(){var u=this;return(0,Z.A)(function*(){const{data:_,error:I}=yield u.supabaseService.supabase.from("anagrafiche").select("*").ilike("type","%customer%");I?(u.generalService.presentToast("Errore durante il recupero dei clienti: "+I.message),console.error("Errore durante il recupero dei clienti: ",I)):u.documents.next(_)})()}openChangeCustomer(u){this.generalService.currentCustomer=u,this.generalService.registryType="customer",this.router.navigate(["change-registry"])}deleteCustomer(u){confirm("Sei sicuro di voler eliminare questo cliente?")&&tt.A.firestore().collection("customers").doc(u.id).delete().then(()=>{this.generalService.presentToast("Cliente eliminato con successo")}).catch(_=>{this.generalService.presentToast("Errore nell'eliminare il cliente: "+_)})}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(fo.O),e.rXU(Zi),e.rXU(_s.Ix))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-customers"]],decls:38,vars:4,consts:[[2,"height","100%","padding-top","1rem","overflow-x","hidden","overflow-y","auto"],[2,"margin-top","0rem","margin-left","1rem"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","margin-bottom","1rem","margin-left","1rem","margin-right","1rem"],[1,"card1",2,"padding-left","1rem","width","18rem"],[1,"table-container"],[1,"table"],[4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","row","align-content","center","gap","1rem"],[1,"table-button","material-symbols-outlined","notranslate",2,"font-size","1.5rem","cursor","pointer",3,"click"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Clienti"),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"div")(6,"p"),e.EFF(7),e.k0s(),e.j41(8,"p"),e.EFF(9,"Totale servizi:"),e.k0s(),e.j41(10,"p"),e.EFF(11,"Media servizi:"),e.k0s()()(),e.j41(12,"div",3)(13,"div")(14,"p"),e.EFF(15,"Da saldare:"),e.k0s(),e.j41(16,"p"),e.EFF(17,"Tot. Incasso:"),e.k0s(),e.j41(18,"p"),e.EFF(19,"Disdette incorso:"),e.k0s()()()(),e.j41(20,"div",4)(21,"table",5)(22,"thead")(23,"tr")(24,"th"),e.EFF(25,"Ragione Sociale"),e.k0s(),e.j41(26,"th"),e.EFF(27,"Referente"),e.k0s(),e.j41(28,"th"),e.EFF(29,"Numero di telefono"),e.k0s(),e.j41(30,"th"),e.EFF(31,"Quota Mensile"),e.k0s(),e.j41(32,"th"),e.EFF(33,"Quota una tantum"),e.k0s(),e.j41(34,"th"),e.EFF(35,"Azioni"),e.k0s()()(),e.DNE(36,cr,18,5,"tbody",6),e.nI1(37,"async"),e.k0s()()()),2&u&&(e.R7$(7),e.SpI("Totale clienti: ",_.customersCount,""),e.R7$(29),e.Y8G("ngForOf",e.bMT(37,2,_.documents)))},dependencies:[ot.Sq,ot.Jj]}),d})(),ki=(()=>{var g;class d{constructor(u){this.generalService=u}ngOnInit(){}saveCustomerInfo(){const u=tt.A.firestore(),_=document.getElementById("customer-info-ragione-sociale-input").value,I=document.getElementById("customer-info-partita-iva-input").value,P=document.getElementById("customer-info-referente-input").value,U=document.getElementById("customer-info-sdi-code-input").value,$=document.getElementById("customer-info-codice-fiscale-input").value,te=document.getElementById("customer-info-sito-web-input").value,oe=document.getElementById("customer-info-instagram-input").value,ve=document.getElementById("customer-info-indirizzo-input").value,Oe=document.getElementById("customer-info-telefono-input").value,he=document.getElementById("customer-info-email-input").value,ct=document.getElementById("customer-info-pec-input").value,at=document.getElementById("customer-info-settore-merceologico-input").value,ht=document.getElementById("customer-info-forma-giuridica-input").value;u.collection("prospects").doc().set({ragione_sociale:_,partita_iva:I,referente:P,website:te,instagram:oe,address:ve,phone_number:Oe,email:he,pec:ct,sdi_code:U,codice_fiscale:$,settore_merceologico:at,forma_giuridica:ht}).then(()=>{this.showModulesSelection(),this.generalService.presentToast("Dati salvati con successo")}).catch(m=>{this.generalService.presentToast("Errore durante il salvataggio dei dati: "+m.message)})}showModulesSelection(){document.getElementById("customer-input-container").style.display="none",document.getElementById("modules-selection-container").style.display="flex",document.getElementById("shopping-cart-container").style.display="none",document.getElementById("assistenza-commerciale-button").style.display="none",document.getElementById("immagine-container").style.display="none",document.getElementById("digitalizzazione-container").style.display="none",document.getElementById("management-container").style.display="none",document.getElementById("contabilit\xe0-container").style.display="none"}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(fo.O))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-customer-info-input"]],decls:134,vars:0,consts:[[2,"width","100%","height","100%","padding-left","1rem","padding-bottom","1rem","padding-right","1rem","display","flex","flex-direction","column"],[2,"margin-top","1rem","margin-bottom","1rem","font-size","1.8rem"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","width","100%"],["src","assets\\svg\\undraw_interview_re_e5jn (3).svg",2,"width","18rem"],[1,"resp-div1",2,"display","flex","flex-direction","column","flex-wrap","wrap","width","calc(100% - 20rem)"],[1,"inputGroup"],["id","customer-info-ragione-sociale-input","type","text",1,"input-field3"],["for","customer-info-ragione-sociale-input"],["id","customer-info-partita-iva-input","type","text",1,"input-field3"],["for","customer-info-partita-iva-input"],["id","customer-info-referente-input","type","text",1,"input-field3"],["for","customer-info-referente-input"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","flex-wrap","wrap"],[1,"inputGroup",2,"flex","1 1 0","min-width","200px"],["id","customer-info-sdi-code-input","type","text",1,"input-field3"],["for","customer-info-sdi-code-input"],["id","customer-info-codice-fiscale-input","type","text",1,"input-field3"],["for","customer-info-codice-fiscale-input"],["id","customer-info-sito-web-input","type","text",1,"input-field3"],["for","customer-info-sito-web-input"],["id","customer-info-instagram-input","type","text",1,"input-field3"],["for","customer-info-instagram-input"],[2,"width","100%","display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem"],["id","customer-info-indirizzo-input","type","text",1,"input-field3"],["for","customer-info-indirizzo-input"],["id","customer-info-telefono-input","type","text",1,"input-field3"],["for","customer-info-telefono-input"],["id","customer-info-email-input","type","text",1,"input-field3"],["for","customer-info-email-input"],["id","customer-info-pec-input","type","text",1,"input-field3"],["for","customer-info-pec-input"],[2,"display","flex","flex-direction","column","flex","1 1 0","min-width","200px"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","customer-info-settore-merceologico-input",1,"selector1",2,"width","100%"],["value","AGRICOLTURA - CACCIA FORESTE - PESCA"],["value","ALBERGHI - PUBBLICI ESERCIZI"],["value","COMMERCIO"],["value","CONSULENZA D'IMPRESA"],["value","COSTRUZIONE - INSTALLAZIONE IMPIANTI - SERVIZI EDILIZIA"],["value","CREDITO - ASSICURAZIONI"],["value","ENERGIA - GAS - ACQUA"],["value","INDUSTRIE ESTRATTIVE TRASFORMAZIONI MINERALI"],["value","INDUSTRIE MANIFATTURIERE ALIMENTARI"],["value","INDUSTRIE MANIFATTURIERE LAVORAZIONE CARTA/CARTONE STAMPA - EDITORIA"],["value","INDUSTRIE CHIMICHE FARMACEUTICHE - COSMETICHE"],["value","INDUSTRIE MANIFATTURIERE LAVORAZIONE LEGNO"],["value","INDUSTRIE MANIFATTURIERE LAVORAZIONE METALLI MECCANICA DI PRECISIONE"],["value","INDUSTRIE MANIFATTURIERE TESSILE, ABBIGLIAMENTO, AFFINI"],["value","INDUSTRIE MANIFATTURIERE PRODUZIONE MATERIALI, APPARECCHIATURE/MACCHINE ELETTRICHE/ELETTRONICHE"],["value","NOLEGGIO/RIPARAZIONE BENI DI CONSUMO E BENI DUREVOLI"],["value","PUBBLICA AMMINISTRAZIONE"],["value","SERVIZI PRIVATI"],["value","TRASPORTI - COMUNICAZIONI"],["value","DOCENTI UNIVERSITARI"],["value","SOCI NON IN SERVIZIO ATTIVO"],["value","STUDENTI"],["id","customer-info-forma-giuridica-input",1,"selector1",2,"width","100%"],["value","Ditt\xe0 individuale forfettaria"],["value","Ditt\xe0 individuale"],["value","Impresa familiare"],["value","Societ\xe0 cooperativa"],["value","Impresa artigiana/agricola"],["value","Associazione"],["value","Societ\xe0 semplice"],["value","Societ\xe0 in nome collettivo"],["value","Societ\xe0 in accomandita semplice"],["value","Societ\xe0 a responsabilit\xe0 limitata semplificata"],["value","Societ\xe0 a responsabilit\xe0 limitata"],["value","Societ\xe0 per azioni"],["value","Societ\xe0 in accomandita per azioni"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Parlaci di te"),e.k0s(),e.j41(3,"div",2),e.nrm(4,"img",3),e.j41(5,"div",4)(6,"div",5),e.nrm(7,"input",6),e.j41(8,"label",7),e.EFF(9,"Ragione sociale"),e.k0s()(),e.j41(10,"div",5),e.nrm(11,"input",8),e.j41(12,"label",9),e.EFF(13,"Partita iva"),e.k0s()(),e.j41(14,"div",5),e.nrm(15,"input",10),e.j41(16,"label",11),e.EFF(17,"Referente"),e.k0s()()()(),e.j41(18,"div",12)(19,"div",13),e.nrm(20,"input",14),e.j41(21,"label",15),e.EFF(22,"Codice Sdi"),e.k0s()(),e.j41(23,"div",13),e.nrm(24,"input",16),e.j41(25,"label",17),e.EFF(26,"Codice Fiscale"),e.k0s()()(),e.j41(27,"div",2)(28,"div",13),e.nrm(29,"input",18),e.j41(30,"label",19),e.EFF(31,"Sito Web"),e.k0s()(),e.j41(32,"div",13),e.nrm(33,"input",20),e.j41(34,"label",21),e.EFF(35,"Instagram"),e.k0s()()(),e.j41(36,"div",22)(37,"div",13),e.nrm(38,"input",23),e.j41(39,"label",24),e.EFF(40,"Indirizzo"),e.k0s()(),e.j41(41,"div",13),e.nrm(42,"input",25),e.j41(43,"label",26),e.EFF(44,"Recapito telefonico"),e.k0s()(),e.j41(45,"div",13),e.nrm(46,"input",27),e.j41(47,"label",28),e.EFF(48,"E-Mail"),e.k0s()(),e.j41(49,"div",13),e.nrm(50,"input",29),e.j41(51,"label",30),e.EFF(52,"Pec"),e.k0s()()(),e.j41(53,"div",22)(54,"div",31)(55,"label",32),e.EFF(56,"Settore merceologico"),e.k0s(),e.j41(57,"div",5)(58,"select",33)(59,"option",34),e.EFF(60,"AGRICOLTURA - CACCIA FORESTE - PESCA"),e.k0s(),e.j41(61,"option",35),e.EFF(62,"ALBERGHI - PUBBLICI ESERCIZI"),e.k0s(),e.j41(63,"option",36),e.EFF(64,"COMMERCIO"),e.k0s(),e.j41(65,"option",37),e.EFF(66,"CONSULENZA D'IMPRESA"),e.k0s(),e.j41(67,"option",38),e.EFF(68,"COSTRUZIONE - INSTALLAZIONE IMPIANTI - SERVIZI EDILIZIA"),e.k0s(),e.j41(69,"option",39),e.EFF(70,"CREDITO - ASSICURAZIONI"),e.k0s(),e.j41(71,"option",40),e.EFF(72,"ENERGIA - GAS - ACQUA"),e.k0s(),e.j41(73,"option",41),e.EFF(74,"INDUSTRIE ESTRATTIVE TRASFORMAZIONI MINERALI "),e.k0s(),e.j41(75,"option",42),e.EFF(76,"INDUSTRIE MANIFATTURIERE ALIMENTARI"),e.k0s(),e.j41(77,"option",43),e.EFF(78,"INDUSTRIE MANIFATTURIERE LAVORAZIONE CARTA/CARTONE STAMPA - EDITORIA"),e.k0s(),e.j41(79,"option",44),e.EFF(80,"INDUSTRIE CHIMICHE FARMACEUTICHE - COSMETICHE"),e.k0s(),e.j41(81,"option",45),e.EFF(82,"INDUSTRIE MANIFATTURIERE LAVORAZIONE LEGNO "),e.k0s(),e.j41(83,"option",46),e.EFF(84,"INDUSTRIE MANIFATTURIERE LAVORAZIONE METALLI MECCANICA DI PRECISIONE"),e.k0s(),e.j41(85,"option",47),e.EFF(86,"INDUSTRIE MANIFATTURIERE TESSILE, ABBIGLIAMENTO, AFFINI"),e.k0s(),e.j41(87,"option",48),e.EFF(88," INDUSTRIE MANIFATTURIERE PRODUZIONE MATERIALI, APPARECCHIATURE/MACCHINE ELETTRICHE/ELETTRONICHE"),e.k0s(),e.j41(89,"option",49),e.EFF(90,"NOLEGGIO/RIPARAZIONE BENI DI CONSUMO E BENI DUREVOLI"),e.k0s(),e.j41(91,"option",50),e.EFF(92,"PUBBLICA AMMINISTRAZIONE"),e.k0s(),e.j41(93,"option",51),e.EFF(94,"SERVIZI PRIVATI"),e.k0s(),e.j41(95,"option",52),e.EFF(96,"TRASPORTI - COMUNICAZIONI"),e.k0s(),e.j41(97,"option",53),e.EFF(98,"DOCENTI UNIVERSITARI"),e.k0s(),e.j41(99,"option",54),e.EFF(100,"SOCI NON IN SERVIZIO ATTIVO"),e.k0s(),e.j41(101,"option",55),e.EFF(102,"STUDENTI"),e.k0s()()()(),e.j41(103,"div",31)(104,"label",32),e.EFF(105,"Forma giuridica"),e.k0s(),e.j41(106,"div",5)(107,"select",56)(108,"option",57),e.EFF(109,"Ditt\xe0 individuale forfettaria"),e.k0s(),e.j41(110,"option",58),e.EFF(111,"Ditt\xe0 individuale"),e.k0s(),e.j41(112,"option",59),e.EFF(113,"Impresa familiare"),e.k0s(),e.j41(114,"option",60),e.EFF(115,"Societ\xe0 cooperativa"),e.k0s(),e.j41(116,"option",61),e.EFF(117,"Impresa artigiana/agricola"),e.k0s(),e.j41(118,"option",62),e.EFF(119,"Associazione"),e.k0s(),e.j41(120,"option",63),e.EFF(121,"Societ\xe0 semplice"),e.k0s(),e.j41(122,"option",64),e.EFF(123,"Societ\xe0 in nome collettivo"),e.k0s(),e.j41(124,"option",65),e.EFF(125,"Societ\xe0 in accomandita semplice"),e.k0s(),e.j41(126,"option",66),e.EFF(127,"Societ\xe0 a responsabilit\xe0 limitata semplificata"),e.k0s(),e.j41(128,"option",67),e.EFF(129,"Societ\xe0 a responsabilit\xe0 limitata"),e.k0s(),e.j41(130,"option",68),e.EFF(131,"Societ\xe0 per azioni"),e.k0s(),e.j41(132,"option",69),e.EFF(133,"Societ\xe0 in accomandita per azioni"),e.k0s()()()()()())}}),d})(),La=(()=>{var g;class d{constructor(){}ngOnInit(){}showImmagine(){document.getElementById("customer-input-container").style.display="none",document.getElementById("modules-selection-container").style.display="none",document.getElementById("shopping-cart-container").style.display="none",document.getElementById("assistenza-commerciale-button").style.display="none",document.getElementById("immagine-container").style.display="flex",document.getElementById("digitalizzazione-container").style.display="none",document.getElementById("management-container").style.display="none",document.getElementById("contabilit\xe0-container").style.display="none"}showManagement(){document.getElementById("customer-input-container").style.display="none",document.getElementById("modules-selection-container").style.display="none",document.getElementById("shopping-cart-container").style.display="none",document.getElementById("assistenza-commerciale-button").style.display="none",document.getElementById("immagine-container").style.display="none",document.getElementById("digitalizzazione-container").style.display="none",document.getElementById("management-container").style.display="flex",document.getElementById("contabilit\xe0-container").style.display="none"}showContabilita(){document.getElementById("customer-input-container").style.display="none",document.getElementById("modules-selection-container").style.display="none",document.getElementById("shopping-cart-container").style.display="none",document.getElementById("assistenza-commerciale-button").style.display="none",document.getElementById("immagine-container").style.display="none",document.getElementById("digitalizzazione-container").style.display="none",document.getElementById("management-container").style.display="none",document.getElementById("contabilit\xe0-container").style.display="flex"}showDigitalizzazione(){document.getElementById("customer-input-container").style.display="none",document.getElementById("modules-selection-container").style.display="none",document.getElementById("shopping-cart-container").style.display="none",document.getElementById("assistenza-commerciale-button").style.display="none",document.getElementById("immagine-container").style.display="none",document.getElementById("digitalizzazione-container").style.display="flex",document.getElementById("management-container").style.display="none",document.getElementById("contabilit\xe0-container").style.display="none"}}return(g=d).\u0275fac=function(u){return new(u||g)},g.\u0275cmp=e.VBU({type:g,selectors:[["app-modules"]],decls:57,vars:0,consts:[[2,"width","100%","display","flex","flex-direction","column","gap","1rem","padding-bottom","6rem","padding-left","1rem","padding-right","1rem"],[2,"margin-top","1rem","margin-bottom","1rem","margin-right","1rem","font-size","1.8rem"],[2,"width","100%","display","flex","flex-wrap","wrap","gap","1rem"],["id","modules-input",1,"card",2,"flex","1 1 0","min-width","20rem","padding-left","1rem","cursor","pointer",3,"click"],["src","assets\\svg\\undraw_social_ideas_re_j5v4 (1).svg",2,"width","15rem","margin-top","1rem"],["src","assets\\svg\\undraw_success_factors_re_ce93 (1).svg",2,"width","15rem","margin-top","1rem"],["src","assets\\svg\\undraw_studying_re_deca.svg",2,"width","15rem","margin-top","1rem"],["src","assets\\svg\\undraw_product_iteration_kjok (2).svg",2,"width","15rem","margin-top","1rem"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Seleziona le soluzioni pi\xf9 adatte a te"),e.k0s(),e.j41(3,"div",2)(4,"div",3),e.bIt("click",function(){return _.showImmagine()}),e.nrm(5,"img",4),e.j41(6,"div")(7,"h1"),e.EFF(8,"Immagine e presenza social "),e.k0s(),e.j41(9,"p")(10,"strong"),e.EFF(11,"Raggiungi un pubblico mondiale"),e.k0s(),e.EFF(12," e "),e.j41(13,"strong"),e.EFF(14,"aumenta le vendite"),e.k0s()(),e.j41(15,"p"),e.EFF(16,"Permetti ai tuoi clienti di avere "),e.j41(17,"strong"),e.EFF(18,"informazioni sulla tua attivit\xe0 in qualsiasi momento"),e.k0s(),e.EFF(19," grazie ai potenti algoritmi informatici alla base dei social media"),e.k0s()()(),e.j41(20,"div",3),e.bIt("click",function(){return _.showDigitalizzazione()}),e.nrm(21,"img",5),e.j41(22,"div")(23,"h1"),e.EFF(24,"Digitalizzazione e automatismi"),e.k0s(),e.j41(25,"p")(26,"strong"),e.EFF(27,"Aumenta la produttivit\xe0 e il fatturato della tua impresa "),e.k0s(),e.EFF(28,"grazie alle nostre "),e.j41(29,"strong"),e.EFF(30,"soluzioni informatiche personalizzate"),e.k0s()(),e.j41(31,"p"),e.EFF(32,"Permetti ai tuoi clienti di trovare e "),e.j41(33,"strong"),e.EFF(34,"ottenere informazioni sulla tua attivit\xe0 in qualsiasi momento"),e.k0s()()()()(),e.j41(35,"div",2)(36,"div",3),e.bIt("click",function(){return _.showContabilita()}),e.nrm(37,"img",6),e.j41(38,"div")(39,"h1"),e.EFF(40,"Contabilit\xe0 e fiscalit\xe0"),e.k0s(),e.j41(41,"p"),e.EFF(42,"Ottieni il supporto dedicato di un/a "),e.j41(43,"strong"),e.EFF(44,"commercialista dedicato"),e.k0s(),e.EFF(45," per la "),e.j41(46,"strong"),e.EFF(47,"gestione della contabilit\xe0 e fiscalit\xe0 aziendale"),e.k0s()()()(),e.j41(48,"div",3),e.bIt("click",function(){return _.showManagement()}),e.nrm(49,"img",7),e.j41(50,"div")(51,"h1"),e.EFF(52,"Ottimizzazione e vendite"),e.k0s(),e.j41(53,"p"),e.EFF(54,"Avvantaggiati di un commerciale dedicato, "),e.j41(55,"strong"),e.EFF(56,"identifica e risolvi i problemi aziendali per aumentare la tua produttivit\xe0"),e.k0s()()()()()())}}),d})(),lo=(()=>{var g;class d{constructor(u,_,I){this.generalService=u,this.alchemizzatoreService=_,this.supabaseService=I}ngOnInit(){}applyDiscount(){}showOrHideCostoModuliSingoli(){const u=document.getElementById("costo-moduli-singoli-shopping-cart");u.style.display="flex"==u.style.display?"none":"flex"}addCustomer(){var u=this;return(0,Z.A)(function*(){const _=document.getElementById("customer-info-ragione-sociale-input").value,I=document.getElementById("customer-info-partita-iva-input").value,P=document.getElementById("customer-info-referente-input").value,U=document.getElementById("customer-info-sito-web-input").value,$=document.getElementById("customer-info-instagram-input").value,te=document.getElementById("customer-info-indirizzo-input").value,oe=document.getElementById("customer-info-telefono-input").value,ve=document.getElementById("customer-info-email-input").value,Oe=document.getElementById("customer-info-pec-input").value,he=document.getElementById("customer-info-sdi-code-input").value,ct=document.getElementById("customer-info-codice-fiscale-input").value,at=document.getElementById("customer-info-settore-merceologico-input").value,ht=document.getElementById("customer-info-forma-giuridica-input").value,{error:A}=yield u.supabaseService.supabase.from("anagrafiche").insert([{type:"customer",ragione_sociale:_,partita_iva:I,referente:P,website:U,instagram:$,address:te,phone_number:oe,email:ve,pec:Oe,sdi_code:he,codice_fiscale:ct,settore_merceologico:at,forma_giuridica:ht,purchase:{digitalizzazione:{website_selected_plan:u.alchemizzatoreService.currentDigitalizzazioneSelectedPlan,website_selected_plan_cost_una_tantum:u.alchemizzatoreService.digitalizzazioneWebisteCostUnaTantum,website_selected_plan_cost_montly:u.alchemizzatoreService.digitalizzazioneWebsiteCostMonthly,app_selected_plan:u.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan,app_selected_plan_cost_una_tantum:u.alchemizzatoreService.digitalizzazioneAppCostUnaTantum,app_selected_plan_cost_montly:u.alchemizzatoreService.digitalizzazioneAppCostMonthly,iot_selected_plan:u.alchemizzatoreService.currentDigitalizzazioneSelectedIot,iot_selected_plan_cost_una_tantum:u.alchemizzatoreService.digitalizzazioneIotCostUnaTantum,iot_selected_plan_cost_montly:u.alchemizzatoreService.digitalizzazioneIotCostMonthly},management:{selected_plan:u.alchemizzatoreService.currentManagementSelectedPlan},contabilit\u00e0:{},immagine:{social_selected_plan:u.alchemizzatoreService.currentImageSelectedPlan,google_management:u.alchemizzatoreService.googleManagementSelected,grafica:{flyer_count:u.alchemizzatoreService.flyerCount,poster_count:u.alchemizzatoreService.posterCount,vetrografica_count:u.alchemizzatoreService.vetrograficaCount,logo_type:u.alchemizzatoreService.currentImageLogoType,logo_cost:u.alchemizzatoreService.logoCost,logo_asset:u.alchemizzatoreService.currentLogoAssetUrl}},total:{total_cost_una_tantum:u.alchemizzatoreService.totalCostUnaTantum,total_cost_montly:u.alchemizzatoreService.totalCostMonthly}}}]);A?(u.generalService.presentToast("Errore durante il salvataggio del cliente: "+A.message),console.error("Errore durante l'inserimento del cliente: ",A)):u.generalService.presentToast("Cliente aggiunto con successo")})()}showConfirmCancel(){document.getElementById("prospect-dialog").style.display="flex"}hideConfirmCancel(){document.getElementById("prospect-dialog").style.display="none"}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(fo.O),e.rXU(Pa),e.rXU(Zi))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-shopping-cart"]],decls:369,vars:0,consts:[[2,"width","100%","display","flex","flex-direction","column","gap","1rem","padding-bottom","6rem","padding-left","1rem","padding-right","1rem"],[2,"margin-top","0rem","font-size","2rem"],["id","image-checkout-card",1,"card",2,"display","none","flex-direction","row","padding","1rem","flex-wrap","wrap","gap","1rem"],["src","assets\\svg\\undraw_social_ideas_re_j5v4 (1).svg",2,"width","18rem"],[2,"font-size","1.2rem","margin-top","0rem","margin-bottom","0rem","font-weight","bold"],["id","image-selected-plan-shopping-cart-display"],["id","image-basic",2,"display","none","flex-direction","column"],[2,"margin-top","0rem","margin-bottom","0rem"],[2,"margin-top","0rem","margin-bottom","0rem","font-weight","bold"],["id","image-standard",2,"display","none","flex-direction","column"],["id","image-deluxe",2,"display","none","flex-direction","column"],[2,"margin-bottom","0rem"],["id","shopping-cart-flyer-count"],[2,"margin-bottom","0rem","margin-top","0.5rem"],["id","shopping-cart-poster-count"],["id","shopping-cart-vetrografica-count"],["id","shopping-cart-image-logo-type"],["id","management-checkout-card",1,"card",2,"display","none","flex-direction","row","flex-wrap","wrap","padding","1rem","width","100%","gap","1rem"],["src","assets\\svg\\undraw_product_iteration_kjok (2).svg",2,"width","18rem"],["id","management-selected-plan-shopping-cart-display"],["id","management-basic",2,"display","none","flex-direction","column","width","15rem"],["id","management-standard",2,"display","none","flex-direction","column"],["id","management-deluxe",2,"display","none","flex-direction","column"],["id","digitalizzazione-checkout-card",1,"card",2,"display","none","flex-direction","row","flex-wrap","wrap","padding","1rem","width","100%","gap","1rem"],[2,"font-size","1.2rem","margin-top","0rem","margin-bottom","1rem","font-weight","bold"],["src","assets\\svg\\undraw_success_factors_re_ce93 (1).svg",2,"width","18rem"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem"],["id","digitalizzazione-website-basic",2,"display","none","flex-direction","column","width","15rem"],[2,"margin-top","0.2rem","margin-bottom","0rem","font-size","1rem"],[2,"width","90%","background","#333","height","1px","margin-right","2rem"],["id","digitalizzazione-website-standard",2,"display","none","flex-direction","column"],["id","digitalizzazione-website-deluxe",2,"display","none","flex-direction","column"],["id","digitalizzazione-app-basic",2,"display","none","flex-direction","column","width","15rem"],["id","digitalizzazione-app-standard",2,"display","none","flex-direction","column"],["id","text-sbarrato"],["id","digitalizzazione-app-deluxe",2,"display","none","flex-direction","column"],["id","text-sbarrato2"],["id","digitalizzazione-iot",2,"display","none","flex-direction","column"],[1,"material-symbols-outlined","notranslate"],[1,"card1",2,"display","flex","flex-direction","column","gap","1rem","padding","0.5rem","margin-top","2rem","padding-left","1rem","padding-top","1rem","padding-bottom","1rem"],[2,"width","100%","height","100%","display","flex","flex-direction","row","flex-wrap","wrap","align-items","center","justify-content","space-between"],[2,"height","100%"],[2,"margin-top","0rem","font-size","2rem","margin-bottom","0.2rem"],[2,"margin-top","0.5rem","margin-bottom","0rem","font-size","1.2rem"],["id","shopping-cart-total-cost-una-tantum-display"],[2,"margin-top","0.5rem","font-size","1.2rem"],["id","shopping-cart-total-cost-monthly-display"],[2,"height","100%","display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","padding-right","1rem"],[1,"btn",2,"height","2.5rem","min-width","10rem","flex","1","display","flex","flex-direction","row","align-items","center","gap","0.5rem",3,"click"],[1,"material-symbols-outlined","notranslate",2,"font-size","1.2rem"],[2,"font-size","1.2rem","margin-top","0rem","margin-bottom","0rem","display","flex","flex-direction","row","align-items","center","cursor","pointer","gap","1rem",3,"click"],["id","costo-moduli-singoli-shopping-cart",2,"display","none","flex-direction","row","width","auto","flex-wrap","wrap","gap","1.5rem"],[2,"width","100%","height","1px","background","#00000021"],[2,"margin-top","0.5rem","margin-bottom","0rem"],["id","shopping-cart-image-cost-una-tantum-display"],[2,"margin-top","0.5rem"],["id","shopping-cart-image-cost-monthly-display"],["id","shopping-cart-digitalizzazione-cost-una-tantum-display"],["id","shopping-cart-digitalizzazione-cost-monthly-display"],["id","shopping-cart-management-cost-una-tantum-display"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Prodotti e servizi selezionati:"),e.k0s(),e.j41(3,"div",2),e.nrm(4,"img",3),e.j41(5,"div")(6,"p",4),e.EFF(7,"Immagine e presenza social | "),e.nrm(8,"strong",5),e.k0s(),e.j41(9,"div",6)(10,"p",7),e.EFF(11,"-Consulenza dedicata"),e.k0s(),e.j41(12,"p",7),e.EFF(13,"-Pubblicazione"),e.k0s(),e.j41(14,"p",7),e.EFF(15,"-Creazione contenuti sul posto"),e.k0s(),e.j41(16,"p",7),e.EFF(17,"-Creazione calendario editoriale"),e.k0s(),e.j41(18,"p",7),e.EFF(19,"-Rebranding profilo"),e.k0s(),e.j41(20,"p",8),e.EFF(21,"-2 post/mese"),e.k0s(),e.j41(22,"p",8),e.EFF(23,"-15 storie/mese"),e.k0s()(),e.j41(24,"div",9)(25,"p",7),e.EFF(26,"-Consulenza dedicata"),e.k0s(),e.j41(27,"p",7),e.EFF(28,"-Pubblicazione"),e.k0s(),e.j41(29,"p",7),e.EFF(30,"-Creazione contenuti sul posto"),e.k0s(),e.j41(31,"p",7),e.EFF(32,"-Creazione calendario editoriale"),e.k0s(),e.j41(33,"p",7),e.EFF(34,"-Rebranding profilo"),e.k0s(),e.j41(35,"p",8),e.EFF(36,"-6 post/mese"),e.k0s(),e.j41(37,"p",8),e.EFF(38,"-40 storie/mese"),e.k0s()(),e.j41(39,"div",10)(40,"p",7),e.EFF(41,"-Consulenza dedicata"),e.k0s(),e.j41(42,"p",7),e.EFF(43,"-Pubblicazione"),e.k0s(),e.j41(44,"p",7),e.EFF(45,"-Creazione contenuti sul posto"),e.k0s(),e.j41(46,"p",7),e.EFF(47,"-Creazione calendario editoriale"),e.k0s(),e.j41(48,"p",7),e.EFF(49,"-Rebranding profilo"),e.k0s(),e.j41(50,"p",8),e.EFF(51,"-18 post/mese"),e.k0s(),e.j41(52,"p",8),e.EFF(53,"-60 storie/mese"),e.k0s()()(),e.j41(54,"div")(55,"p",11),e.EFF(56,"-"),e.nrm(57,"span",12),e.EFF(58," Flyer"),e.k0s(),e.j41(59,"p",13),e.EFF(60,"-"),e.nrm(61,"span",14),e.EFF(62," Poster"),e.k0s(),e.j41(63,"p",13),e.EFF(64,"-"),e.nrm(65,"span",15),e.EFF(66," Vetrografica"),e.k0s(),e.j41(67,"p",13),e.EFF(68,"-Tipologia di logo : "),e.nrm(69,"span",16),e.k0s()()(),e.j41(70,"div",17),e.nrm(71,"img",18),e.j41(72,"div")(73,"p",4),e.EFF(74,"Ottimizzazione e vendite | "),e.nrm(75,"strong",19),e.k0s(),e.j41(76,"div",20)(77,"p",7),e.EFF(78,"-Consulenza aziendale"),e.k0s(),e.j41(79,"p",7),e.EFF(80,"-Analisi dei processi"),e.k0s(),e.j41(81,"p",7),e.EFF(82,"-Gestione del tempo"),e.k0s(),e.j41(83,"p",7),e.EFF(84,"-Ottimizzazione vendite"),e.k0s(),e.j41(85,"p",8),e.EFF(86,"-1 consulenza"),e.k0s(),e.j41(87,"p",8),e.EFF(88,"-1 processo ottimizzato"),e.k0s()(),e.j41(89,"div",21)(90,"p",7),e.EFF(91,"-Consulenza aziendale"),e.k0s(),e.j41(92,"p",7),e.EFF(93,"-Analisi dei processi"),e.k0s(),e.j41(94,"p",7),e.EFF(95,"-Gestione del tempo"),e.k0s(),e.j41(96,"p",7),e.EFF(97,"-Ottimizzazione vendite"),e.k0s(),e.j41(98,"p",8),e.EFF(99,"-5 consulenze"),e.k0s(),e.j41(100,"p",8),e.EFF(101,"-2 processi ottimizzati"),e.k0s()(),e.j41(102,"div",22)(103,"p",7),e.EFF(104,"-Consulenza aziendale"),e.k0s(),e.j41(105,"p",7),e.EFF(106,"-Analisi dei processi"),e.k0s(),e.j41(107,"p",7),e.EFF(108,"-Gestione del tempo"),e.k0s(),e.j41(109,"p",7),e.EFF(110,"-Ottimizzazione vendite"),e.k0s(),e.j41(111,"p",8),e.EFF(112,"-10 consulenze"),e.k0s(),e.j41(113,"p",8),e.EFF(114,"-3 processi ottimizzati"),e.k0s()()()(),e.j41(115,"div",23)(116,"div")(117,"p",24),e.EFF(118,"Digitalizzazione e automatismi"),e.k0s(),e.nrm(119,"img",25),e.k0s(),e.j41(120,"div")(121,"div",26)(122,"div",27)(123,"h3"),e.EFF(124,"Sito web | Basic"),e.k0s(),e.j41(125,"span")(126,"strong"),e.EFF(127,"\u20ac650"),e.k0s(),e.EFF(128," IVA Inclusa +"),e.k0s(),e.j41(129,"p",28)(130,"strong"),e.EFF(131,"\u20ac50/mese"),e.k0s(),e.EFF(132," IVA Inclusa"),e.k0s(),e.nrm(133,"hr",29),e.j41(134,"p",7),e.EFF(135,"-Sito vetrina"),e.k0s(),e.j41(136,"p",7),e.EFF(137,"-Men\xf9 negozio"),e.k0s(),e.j41(138,"p",7),e.EFF(139,"-Landing page"),e.k0s(),e.nrm(140,"hr",29),e.j41(141,"p",7),e.EFF(142,"-Pubblicazione"),e.k0s(),e.j41(143,"p",7),e.EFF(144,"-Modifica foto, testi e video"),e.k0s(),e.j41(145,"p",8),e.EFF(146,"-1 funzione nuova/mese"),e.k0s()(),e.j41(147,"div",30)(148,"h3"),e.EFF(149,"Sito Web | Standard"),e.k0s(),e.j41(150,"span")(151,"strong"),e.EFF(152,"\u20ac1000"),e.k0s(),e.EFF(153," IVA Inclusa +"),e.k0s(),e.j41(154,"p",28)(155,"strong"),e.EFF(156,"\u20ac60/mese"),e.k0s(),e.EFF(157," IVA Inclusa"),e.k0s(),e.nrm(158,"hr",29),e.j41(159,"p",7),e.EFF(160,"-Sito aziendale"),e.k0s(),e.j41(161,"p",7),e.EFF(162,"-Form (raccolta informazioni es: raccolta preventivo)"),e.k0s(),e.nrm(163,"hr",29),e.j41(164,"p",7),e.EFF(165,"-Pubblicazione"),e.k0s(),e.j41(166,"p",7),e.EFF(167,"-Modifica foto, testi e video"),e.k0s(),e.j41(168,"p",8),e.EFF(169,"-3 funzioni nuove/mese"),e.k0s()(),e.j41(170,"div",31)(171,"h3"),e.EFF(172,"Sito Web | Deluxe"),e.k0s(),e.j41(173,"span")(174,"strong"),e.EFF(175,"\u20ac2000"),e.k0s(),e.EFF(176," IVA Inclusa +"),e.k0s(),e.j41(177,"p",28)(178,"strong"),e.EFF(179,"\u20ac100/mese"),e.k0s(),e.EFF(180," IVA Inclusa"),e.k0s(),e.nrm(181,"hr",29),e.j41(182,"p",7),e.EFF(183,"-Sito aziendale professionale e scalabile"),e.k0s(),e.j41(184,"p",7),e.EFF(185,"-Interconnesso con web app"),e.k0s(),e.nrm(186,"hr",29),e.j41(187,"p",7),e.EFF(188,"-Pubblicazione"),e.k0s(),e.j41(189,"p",7),e.EFF(190,"-Modifica foto, testi e video"),e.k0s(),e.j41(191,"p",8),e.EFF(192,"-5 funzioni nuove/mese"),e.k0s()(),e.j41(193,"div",32)(194,"h3"),e.EFF(195,"Applicazione | Basic"),e.k0s(),e.j41(196,"span")(197,"strong"),e.EFF(198,"\u20ac2000"),e.k0s(),e.EFF(199," IVA Inclusa +"),e.k0s(),e.j41(200,"p",28)(201,"strong"),e.EFF(202,"\u20ac90/mese"),e.k0s(),e.EFF(203," IVA Inclusa"),e.k0s(),e.nrm(204,"hr",29),e.j41(205,"p",7),e.EFF(206,"-Solo web app"),e.k0s(),e.j41(207,"p",7),e.EFF(208,"-Pubblicazione online"),e.k0s(),e.j41(209,"p",7),e.EFF(210,"-Non connettibile all'IOT"),e.k0s(),e.nrm(211,"hr",29),e.j41(212,"p",7),e.EFF(213,"-Pubblicazione sugli store"),e.k0s(),e.j41(214,"p",7),e.EFF(215,"-Modifica foto, testi e video"),e.k0s(),e.j41(216,"p",8),e.EFF(217,"-1 funzioni nuove/mese"),e.k0s()(),e.j41(218,"div",33)(219,"h3"),e.EFF(220,"Applicazione | Standard"),e.k0s(),e.j41(221,"span")(222,"strong",34),e.EFF(223,"\u20ac3000"),e.k0s(),e.EFF(224," IVA Inclusa +"),e.k0s(),e.j41(225,"p",28)(226,"strong"),e.EFF(227,"\u20ac150/mese"),e.k0s(),e.EFF(228," IVA Inclusa"),e.k0s(),e.nrm(229,"hr",29),e.j41(230,"p",7),e.EFF(231,"-Web app o Nativa"),e.k0s(),e.j41(232,"p",7),e.EFF(233,"-Pubblicazione online"),e.k0s(),e.j41(234,"p",7),e.EFF(235,"-Connettibile all'IOT"),e.k0s(),e.nrm(236,"hr",29),e.j41(237,"p",7),e.EFF(238,"-Pubblicazione sugli store"),e.k0s(),e.j41(239,"p",7),e.EFF(240,"-Modifica foto, testi e video"),e.k0s(),e.j41(241,"p",8),e.EFF(242,"-2 funzioni nuove/mese"),e.k0s()(),e.j41(243,"div",35)(244,"h3"),e.EFF(245,"Applicazione | Deluxe"),e.k0s(),e.j41(246,"span")(247,"strong",36),e.EFF(248,"\u20ac6000"),e.k0s(),e.EFF(249," IVA Inclusa +"),e.k0s(),e.j41(250,"p",28)(251,"strong"),e.EFF(252,"\u20ac250/mese"),e.k0s(),e.EFF(253," IVA Inclusa"),e.k0s(),e.nrm(254,"hr",29),e.j41(255,"p",7),e.EFF(256,"-Web app o Nativa"),e.k0s(),e.j41(257,"p",7),e.EFF(258,"-Pubblicazione online"),e.k0s(),e.j41(259,"p",7),e.EFF(260,"-Connettibile all'IOT"),e.k0s(),e.nrm(261,"hr",29),e.j41(262,"p",7),e.EFF(263,"-Pubblicazione sugli store"),e.k0s(),e.j41(264,"p",7),e.EFF(265,"-Modifica foto, testi e video"),e.k0s(),e.j41(266,"p",8),e.EFF(267,"-5 funzioni nuove/mese"),e.k0s()(),e.j41(268,"div",37)(269,"h3"),e.EFF(270,"Iot | Automazione"),e.k0s(),e.j41(271,"span"),e.EFF(272,"a partire da "),e.j41(273,"strong"),e.EFF(274,"\u20ac2500"),e.k0s(),e.EFF(275," IVA Inclusa +"),e.k0s(),e.j41(276,"p",28),e.EFF(277,"a partire da "),e.j41(278,"strong"),e.EFF(279,"\u20ac100/mese"),e.k0s(),e.EFF(280," IVA Inclusa"),e.k0s(),e.nrm(281,"hr",29),e.j41(282,"p",7)(283,"span",38),e.EFF(284,"notifications"),e.k0s(),e.EFF(285,"Allarme"),e.k0s(),e.j41(286,"p",7)(287,"span",38),e.EFF(288,"counter_3"),e.k0s(),e.EFF(289,"Contatore pezzi lavorati"),e.k0s(),e.j41(290,"p",7)(291,"span",38),e.EFF(292,"weight"),e.k0s(),e.EFF(293,"Bilance smart"),e.k0s(),e.j41(294,"p",7)(295,"span",38),e.EFF(296,"share_location"),e.k0s(),e.EFF(297,"Tracciamento"),e.k0s(),e.j41(298,"p",7)(299,"span",38),e.EFF(300,"table_restaurant"),e.k0s(),e.EFF(301,"Avviso pietanze pronte"),e.k0s()()()()(),e.j41(302,"div",39)(303,"div",40)(304,"div",41)(305,"h1",42),e.EFF(306,"Quota:"),e.k0s(),e.j41(307,"p",43),e.EFF(308,"Una tantum: \u20ac"),e.nrm(309,"span",44),e.k0s(),e.j41(310,"p",45),e.EFF(311,"Mensile: \u20ac"),e.nrm(312,"span",46),e.k0s()(),e.j41(313,"div",47)(314,"button",48),e.bIt("click",function(){return _.showConfirmCancel()}),e.EFF(315,"Rifiuta"),e.j41(316,"span",38),e.EFF(317,"close"),e.k0s()(),e.j41(318,"button",48),e.bIt("click",function(){return _.addCustomer()}),e.EFF(319,"Firma"),e.j41(320,"span",49),e.EFF(321,"arrow_forward_ios"),e.k0s()()()(),e.j41(322,"div")(323,"p",50),e.bIt("click",function(){return _.showOrHideCostoModuliSingoli()}),e.EFF(324,"Moduli singoli"),e.j41(325,"span",38),e.EFF(326,"keyboard_arrow_down"),e.k0s()(),e.j41(327,"div",51)(328,"div")(329,"div",52),e.nrm(330,"p"),e.k0s(),e.j41(331,"h3",11),e.EFF(332,"Immagine e presenza social:"),e.k0s(),e.j41(333,"p",53),e.EFF(334,"Una tantum: \u20ac"),e.nrm(335,"span",54),e.k0s(),e.j41(336,"p",55),e.EFF(337,"Mensile: \u20ac"),e.nrm(338,"span",56),e.k0s()(),e.j41(339,"div")(340,"div",52),e.nrm(341,"p"),e.k0s(),e.j41(342,"h3",11),e.EFF(343,"Digitalizzazione e automatismi:"),e.k0s(),e.j41(344,"p",53),e.EFF(345,"Una tantum: \u20ac"),e.nrm(346,"span",57),e.k0s(),e.j41(347,"p",55),e.EFF(348,"Mensile: \u20ac"),e.nrm(349,"span",58),e.k0s()(),e.j41(350,"div")(351,"div",52),e.nrm(352,"p"),e.k0s(),e.j41(353,"h3",11),e.EFF(354,"Contabilit\xe0 e fiscalit\xe0:"),e.k0s(),e.j41(355,"p",53),e.EFF(356,"Una tantum: \u20ac"),e.nrm(357,"span",54),e.k0s(),e.j41(358,"p",55),e.EFF(359,"Mensile: \u20ac"),e.nrm(360,"span",56),e.k0s()(),e.j41(361,"div")(362,"div",52),e.nrm(363,"p"),e.k0s(),e.j41(364,"h3",11),e.EFF(365,"Ottimizzazione e vendite:"),e.k0s(),e.j41(366,"p",53),e.EFF(367,"Una tantum: \u20ac"),e.nrm(368,"span",59),e.k0s()()()()()())}}),d})(),Ka=(()=>{var g;class d{constructor(u,_){this.alchemizzatoreService=u,this.generalService=_}ngOnInit(){}setManagementBasic(){this.generalService.unsavedChanges=!0,"Basic"==this.alchemizzatoreService.currentManagementSelectedPlan?(this.alchemizzatoreService.managementCost=0,this.alchemizzatoreService.currentManagementSelectedPlan="",this.generalService.presentToast("Piano Basic deselezionato con successo nel modulo management"),document.getElementById("management-checkout-card").style.display="none"):(this.alchemizzatoreService.currentManagementSelectedPlan="Basic",document.getElementById("management-checkout-card").style.display="flex",this.generalService.presentToast("Piano Basic selezionato nel modulo management")),this.alchemizzatoreService.refreshShoppingCart()}setManagementStandard(){this.generalService.unsavedChanges=!0,"Standard"==this.alchemizzatoreService.currentManagementSelectedPlan?(this.alchemizzatoreService.managementCost=0,this.alchemizzatoreService.currentManagementSelectedPlan="",this.generalService.presentToast("Piano Standard deselezionato con successo nel modulo management"),document.getElementById("management-checkout-card").style.display="none"):(this.alchemizzatoreService.currentManagementSelectedPlan="Standard",document.getElementById("management-checkout-card").style.display="flex",this.generalService.presentToast("Piano Standard selezionato nel modulo management")),this.alchemizzatoreService.refreshShoppingCart()}setManagementDeluxe(){this.generalService.unsavedChanges=!0,"Deluxe"==this.alchemizzatoreService.currentManagementSelectedPlan?(this.alchemizzatoreService.managementCost=0,this.alchemizzatoreService.currentManagementSelectedPlan="",document.getElementById("management-checkout-card").style.display="none",this.generalService.presentToast("Piano Deluxe deselezionato con successo nel modulo management")):(this.alchemizzatoreService.currentManagementSelectedPlan="Deluxe",document.getElementById("management-checkout-card").style.display="flex",this.generalService.presentToast("Piano Deluxe selezionato nel modulo management")),this.alchemizzatoreService.refreshShoppingCart()}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(Pa),e.rXU(fo.O))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-management"]],decls:99,vars:0,consts:[[2,"width","100%","display","flex","flex-direction","column","gap","1rem","padding-bottom","6rem","padding-left","1rem","padding-right","1rem"],[2,"margin-top","1rem","margin-bottom","1rem","margin-right","1rem","font-size","1.8rem"],[2,"width","100%","display","flex","flex-wrap","wrap","gap","1rem"],["id","modules-input",1,"card",2,"flex","1 1 0","min-width","20rem","padding-left","1rem","cursor","pointer","display","flex","flex-direction","row","gap","1rem","flex-wrap","wrap","padding-top","1rem","align-items","center","padding-bottom","1rem"],[2,"flex","1 1 0","min-width","15rem"],["src","assets\\svg\\undraw_co_workers_re_1i6i (1).svg",2,"width","15rem","margin-top","1rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","5rem"],[2,"width","90%","background","#333","height","1px","margin-right","2rem"],[2,"margin-top","0rem","margin-bottom","0rem"],[2,"margin-top","0rem","margin-bottom","0rem","font-weight","bold"],[1,"btn",2,"margin-right","0.5rem","width","90%","text-align","center","margin-top","1rem",3,"click"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Management"),e.k0s(),e.j41(3,"div",2)(4,"div",2)(5,"div",3)(6,"div",4),e.nrm(7,"img",5),e.j41(8,"div")(9,"h1"),e.EFF(10,"Management e vendite"),e.k0s(),e.j41(11,"p")(12,"strong"),e.EFF(13,"Analizza la tua azienda con l'aiuto dei dati"),e.k0s(),e.EFF(14," e "),e.j41(15,"strong"),e.EFF(16,"incrementa le vendite"),e.k0s()(),e.j41(17,"p")(18,"strong"),e.EFF(19,"Migliora i processi produttivi"),e.k0s(),e.EFF(20," e analizza la tua azienda "),e.j41(21,"strong"),e.EFF(22,"ottimizzando costi e tempo"),e.k0s()(),e.j41(23,"p")(24,"strong"),e.EFF(25,"Incrementa le vendite"),e.k0s(),e.EFF(26," analizzando l'intero branding e marketing"),e.k0s()()(),e.j41(27,"div",4)(28,"span",6),e.EFF(29,"deployed_code"),e.k0s(),e.j41(30,"h3"),e.EFF(31,"Basic"),e.k0s(),e.j41(32,"span")(33,"strong"),e.EFF(34,"\u20ac300"),e.k0s(),e.EFF(35," IVA Inclusa"),e.k0s(),e.nrm(36,"hr",7),e.j41(37,"p",8),e.EFF(38,"-Consulenza aziendale"),e.k0s(),e.j41(39,"p",8),e.EFF(40,"-Analisi dei processi"),e.k0s(),e.j41(41,"p",8),e.EFF(42,"-Gestione del tempo"),e.k0s(),e.j41(43,"p",8),e.EFF(44,"-Ottimizzazione vendite"),e.k0s(),e.j41(45,"p",9),e.EFF(46,"-1 consulenza"),e.k0s(),e.j41(47,"p",9),e.EFF(48,"-1 processo ottimizzato"),e.k0s(),e.j41(49,"button",10),e.bIt("click",function(){return _.setManagementBasic()}),e.EFF(50,"Seleziona"),e.k0s()(),e.j41(51,"div",4)(52,"span",6),e.EFF(53,"trending_up"),e.k0s(),e.j41(54,"h3"),e.EFF(55,"Standard"),e.k0s(),e.j41(56,"span")(57,"strong"),e.EFF(58,"\u20ac500"),e.k0s(),e.EFF(59," IVA Inclusa"),e.k0s(),e.nrm(60,"hr",7),e.j41(61,"p",8),e.EFF(62,"-Consulenza aziendale"),e.k0s(),e.j41(63,"p",8),e.EFF(64,"-Analisi dei processi"),e.k0s(),e.j41(65,"p",8),e.EFF(66,"-Gestione del tempo"),e.k0s(),e.j41(67,"p",8),e.EFF(68,"-Ottimizzazione vendite"),e.k0s(),e.j41(69,"p",9),e.EFF(70,"-5 consulenze"),e.k0s(),e.j41(71,"p",9),e.EFF(72,"-2 processi ottimizzati"),e.k0s(),e.j41(73,"button",10),e.bIt("click",function(){return _.setManagementStandard()}),e.EFF(74,"Seleziona"),e.k0s()(),e.j41(75,"div",4)(76,"span",6),e.EFF(77,"diamond"),e.k0s(),e.j41(78,"h3"),e.EFF(79,"Deluxe"),e.k0s(),e.j41(80,"span")(81,"strong"),e.EFF(82,"\u20ac1000"),e.k0s(),e.EFF(83," IVA Inclusa"),e.k0s(),e.nrm(84,"hr",7),e.j41(85,"p",8),e.EFF(86,"-Consulenza aziendale"),e.k0s(),e.j41(87,"p",8),e.EFF(88,"-Analisi dei processi"),e.k0s(),e.j41(89,"p",8),e.EFF(90,"-Gestione del tempo"),e.k0s(),e.j41(91,"p",8),e.EFF(92,"-Ottimizzazione vendite"),e.k0s(),e.j41(93,"p",9),e.EFF(94,"-10 consulenze"),e.k0s(),e.j41(95,"p",9),e.EFF(96,"-3 processi ottimizzati"),e.k0s(),e.j41(97,"button",10),e.bIt("click",function(){return _.setManagementDeluxe()}),e.EFF(98,"Seleziona"),e.k0s()()()()()())}}),d})(),Pl=(()=>{var g;class d{constructor(){}ngOnInit(){}changeContabilita(){const u=document.getElementById("contabilita-gestione-selection");"In gestione"==u.value&&(document.getElementById("contabilita-in-gestione").style.display="flex"),"In revisione"==u.value&&(document.getElementById("contabilita-in-gestione").style.display="none")}changeTipoDiReddito(){const u=document.getElementById("tipi-di-reddito-input");"Persone Fisiche e Societ\xe0"==u.value&&(document.getElementById("numero-persone-container").style.display="flex"),"Societ\xe0"==u.value&&(document.getElementById("numero-persone-container").style.display="none")}changeIntrastat(){document.getElementById("intrastat-input").checked?document.getElementById("intrastat-input-container").style.display="flex":document.getElementById("intrastat-input-container").style.display="none"}changeRedditi(){document.getElementById("redditi-input").checked?document.getElementById("redditi-input-container").style.display="flex":document.getElementById("redditi-input-container").style.display="none"}changeF24(){document.getElementById("f24-input").checked?document.getElementById("f24-input-container").style.display="flex":document.getElementById("f24-input-container").style.display="none"}changeCreditiDaMonitorare(){document.getElementById("crediti-da-monitorare-input").checked?document.getElementById("crediti-da-monitorare-input-container").style.display="flex":document.getElementById("crediti-da-monitorare-input-container").style.display="none"}}return(g=d).\u0275fac=function(u){return new(u||g)},g.\u0275cmp=e.VBU({type:g,selectors:[["app-contabilita"]],decls:244,vars:0,consts:[[2,"height","100%","display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","overflow-y","auto","overflow-x","hidden","padding-left","1rem","padding-right","1rem"],[2,"margin-top","1rem","margin-bottom","0rem","margin-right","1rem","font-size","1.8rem"],[2,"width","100%","display","flex","flex-wrap","wrap","gap","1rem"],["id","modules-input",1,"card",2,"flex","1 1 0","min-width","20rem","padding-left","1rem","cursor","pointer","display","flex","flex-direction","row","gap","1rem","flex-wrap","wrap","padding-top","1rem","align-items","center","padding-bottom","1rem"],[2,"flex","1 1 0","min-width","15rem"],["src","assets\\svg\\undraw_data_trends_re_2cdy (1).svg",2,"width","15rem","margin-top","1rem"],[2,"display","flex","flex-direction","row","align-items","center","padding-top","0.5rem","gap","0.5rem"],["type","checkbox","checked","",2,"height","1.2rem","width","1.2rem"],[2,"margin-top","0rem","margin-bottom","0rem","font-size","1.5rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","5rem"],[2,"width","90%","background","#333","height","1px","margin-right","2rem"],[2,"margin-top","0rem","margin-bottom","0rem"],["target","_blank",1,"btn",2,"margin-right","0.5rem","width","90%","text-align","center","margin-top","2.4rem"],["target","_blank",1,"btn",2,"margin-right","0.5rem","width","90%","text-align","center","margin-top","1rem"],[1,"card",2,"flex","1 1 0","min-width","20rem","padding-left","1rem","cursor","pointer","display","flex","flex-direction","row","gap","1rem","flex-wrap","wrap","padding-bottom","1rem"],[2,"flex","1 1 0","min-width","15rem","padding-right","1rem"],["src","assets\\svg\\undraw_data_processing_yrrv.svg",2,"width","15rem","margin-top","1rem"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem"],[1,"inputGroup",2,"margin-bottom","0rem"],["id","contabilita-gestione-selection",1,"selector1",2,"width","100%","height","2rem",3,"change"],["value","In gestione"],["value","In revisione"],["id","contabilita-in-gestione",2,"flex-direction","column"],[1,"inputGroup"],["id","email-input","type","text",1,"input-field3"],["for","email-input"],[2,"margin-top","0.5rem","margin-bottom","0rem"],[1,"inputGroup",2,"margin-bottom","1rem"],["id","",1,"selector1",2,"width","100%","height","3rem"],["value","Servizi"],["value","Altro"],["id","pec-input","type","text",1,"input-field3"],["for","pec-input"],[1,"card",2,"flex","1 1 0","min-width","20rem","overflow","hidden"],["src","assets\\svg\\undraw_growth_analytics_re_pyxf.svg",2,"height","10rem","margin-top","1rem"],[2,"width","100%","height","100%","padding-bottom","1rem","display","flex","flex-direction","column","padding-right","1rem","padding-left","1rem"],[2,"margin-bottom","0rem","font-size","1.5rem"],["type","checkbox",2,"height","1.2rem","width","1.2rem"],[2,"display","flex","flex-direction","column","flex","1 1 0","min-width","200px"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","activity-priority-input",1,"selector1",2,"width","100%"],["value","10"],["value","20"],["value","30"],[1,"card",2,"flex","1 1 0","min-width","20rem","overflow","hidden","display","flex","flex-direction","row","flex-wrap","wrap","padding-left","1rem","gap","1rem","margin-bottom","5rem","padding-bottom","2rem"],["src","assets\\svg\\undraw_statistic_chart_re_w0pk.svg",2,"width","15rem","margin-top","1rem"],[2,"flex","1 1 0","min-width","20rem","overflow","hidden","padding-top","1rem","padding-bottom","8rem"],[2,"margin-bottom","0rem","font-size","1.5rem","margin-top","0rem"],["id","intrastat-input","type","checkbox",2,"height","1.2rem","width","1.2rem",3,"change"],["for","intrastat-input",2,"margin-top","0rem","margin-bottom","0rem"],["id","intrastat-input-container",1,"inputGroup",2,"margin-right","1rem","display","none"],[1,"material-symbols-outlined","notranslate",2,"font-size","5rem","margin-top","1rem"],["id","redditi-input","type","checkbox",2,"height","1.2rem","width","1.2rem",3,"change"],["for","redditi-input",2,"margin-top","0rem","margin-bottom","0rem"],["id","redditi-input-container",1,"inputGroup",2,"margin-right","1rem","display","none","flex-direction","column"],[2,"display","flex","flex-direction","column"],[2,"z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","text-align","start","margin-top","1rem"],["id","tipi-di-reddito-input",1,"selector1",2,"width","100%",3,"change"],["value","Societ\xe0"],["value","Persone Fisiche e Societ\xe0"],["id","numero-persone-container",1,"inputGroup",2,"margin-right","1rem","display","none"],[2,"flex","1 1 0","min-width","20rem","overflow","hidden"],["id","f24-input","type","checkbox","checked","",2,"height","1.2rem","width","1.2rem",3,"change"],["for","f24-input",2,"margin-top","0rem","margin-bottom","0rem"],["id","f24-input-container",1,"inputGroup",2,"margin-right","1rem","width","8rem","height","3rem"],["type","text",1,"input-field3"],["id","crediti-da-monitorare-input","type","checkbox",2,"height","1.2rem","width","1.2rem",3,"change"],["for","crediti-da-monitorare-input",2,"margin-top","0rem","margin-bottom","0rem"],["id","crediti-da-monitorare-input-container",1,"inputGroup",2,"display","none","margin-right","1rem","width","18rem","height","3rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","5rem","margin-top","2rem"],[1,"inputGroup",2,"margin-right","1rem","height","2rem"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Contabilit\xe0 e fiscalit\xe0"),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"div",4),e.nrm(6,"img",5),e.j41(7,"div")(8,"div",6),e.nrm(9,"input",7),e.j41(10,"h2",8),e.EFF(11,"Bilancio"),e.k0s()(),e.j41(12,"p")(13,"strong"),e.EFF(14,"Redazione del bilancio di esercizio"),e.k0s()(),e.j41(15,"p"),e.EFF(16,"Insieme dei documenti contabili che un'impresa deve redigere periodicamente per esporre la propria situazione "),e.j41(17,"strong"),e.EFF(18,"patrimoniale, finanziaria ed economica"),e.k0s()()()(),e.j41(19,"div",4)(20,"span",9),e.EFF(21,"store"),e.k0s(),e.j41(22,"h3"),e.EFF(23,"Micro"),e.k0s(),e.nrm(24,"hr",10),e.j41(25,"p",11),e.EFF(26,"-Attivo Patrimoniale inferiore a \u20ac175.000"),e.k0s(),e.j41(27,"p",11),e.EFF(28,"-Ricavi annuali inferiori \u20ac350.000"),e.k0s(),e.j41(29,"p",11),e.EFF(30,"-Fino a 5 dipendenti"),e.k0s(),e.j41(31,"a",12),e.EFF(32,"Seleziona"),e.k0s()(),e.j41(33,"div",4)(34,"span",9),e.EFF(35,"apartment"),e.k0s(),e.j41(36,"h3"),e.EFF(37,"Semplificato"),e.k0s(),e.nrm(38,"hr",10),e.j41(39,"p",11),e.EFF(40,"-Attivo Patrimoniale compreso tra \u20ac350.000 a \u20ac4,4 Milioni"),e.k0s(),e.j41(41,"p",11),e.EFF(42,"-Ricavi annuali compresi tra \u20ac175.000 a \u20ac8,8 Milioni"),e.k0s(),e.j41(43,"p",11),e.EFF(44,"-Pi\xf9 di 5 a 49 dipendenti"),e.k0s(),e.j41(45,"a",13),e.EFF(46,"Seleziona"),e.k0s()(),e.j41(47,"div",4)(48,"span",9),e.EFF(49,"domain_add"),e.k0s(),e.j41(50,"h3"),e.EFF(51,"Ordinario"),e.k0s(),e.nrm(52,"hr",10),e.j41(53,"p",11),e.EFF(54,"-Attivo Patrimoniale maggiore di \u20ac4,4 Milioni"),e.k0s(),e.j41(55,"p",11),e.EFF(56,"-Ricavi annuali maggiori di \u20ac8,8 Milioni"),e.k0s(),e.j41(57,"p",11),e.EFF(58,"-Pi\xf9 di 50 dipendenti"),e.k0s(),e.j41(59,"a",13),e.EFF(60,"Seleziona"),e.k0s()()()(),e.j41(61,"div",2)(62,"div",14)(63,"div",15),e.nrm(64,"img",16),e.j41(65,"div")(66,"div",17),e.nrm(67,"input",7),e.j41(68,"h2",8),e.EFF(69,"Contabilit\xe0"),e.k0s(),e.j41(70,"div",18)(71,"select",19),e.bIt("change",function(){return _.changeContabilita()}),e.j41(72,"option",20),e.EFF(73,"In gestione"),e.k0s(),e.j41(74,"option",21),e.EFF(75,"In revisione"),e.k0s()()()(),e.j41(76,"p"),e.EFF(77,"Insieme degli "),e.j41(78,"strong"),e.EFF(79,"spostamenti di capitale aziendale"),e.k0s(),e.EFF(80," raccolti e organizzati secondo un criterio che permetta un "),e.j41(81,"strong"),e.EFF(82,"rapido accesso e elaborazione dei dati"),e.k0s()()(),e.j41(83,"div",22)(84,"div",23),e.nrm(85,"input",24),e.j41(86,"label",25),e.EFF(87,"Ammontare ricavi anno precedente"),e.k0s()(),e.j41(88,"p",26),e.EFF(89,"Tipologia ricavi"),e.k0s(),e.j41(90,"div",27)(91,"select",28)(92,"option",29),e.EFF(93,"Servizi"),e.k0s(),e.j41(94,"option",30),e.EFF(95,"Altro"),e.k0s()()(),e.j41(96,"div",23),e.nrm(97,"input",24),e.j41(98,"label",25),e.EFF(99,"Numero registrazioni annue"),e.k0s()(),e.j41(100,"div",23),e.nrm(101,"input",31),e.j41(102,"label",32),e.EFF(103,"N.Operazioni C/C mensili"),e.k0s()()()()(),e.j41(104,"div",33),e.nrm(105,"img",34),e.j41(106,"div",35)(107,"h2",36),e.EFF(108,"Accessori"),e.k0s(),e.j41(109,"div",6),e.nrm(110,"input",37),e.j41(111,"label",11),e.EFF(112,"IMU"),e.k0s()(),e.j41(113,"div",6),e.nrm(114,"input",37),e.j41(115,"label",11),e.EFF(116,"Contratti di locazione"),e.k0s()(),e.j41(117,"div",6),e.nrm(118,"input",37),e.j41(119,"label",11),e.EFF(120,"Tassa di concessione governativa"),e.k0s()(),e.j41(121,"div",6),e.nrm(122,"input",37),e.j41(123,"label",11),e.EFF(124,"Registrazione marchio"),e.k0s()(),e.j41(125,"h2",36),e.EFF(126,"Consulenza dedicata"),e.k0s(),e.j41(127,"div",38)(128,"label",39),e.EFF(129,"N.Richieste mensili"),e.k0s(),e.j41(130,"div",23)(131,"select",40)(132,"option",41),e.EFF(133,"10"),e.k0s(),e.j41(134,"option",42),e.EFF(135,"20"),e.k0s(),e.j41(136,"option",43),e.EFF(137,"30"),e.k0s()()()()()()(),e.j41(138,"div",2)(139,"div",44)(140,"div",4),e.nrm(141,"img",45),e.j41(142,"div")(143,"h2",8),e.EFF(144,"Fiscalit\xe0"),e.k0s(),e.j41(145,"p")(146,"strong"),e.EFF(147,"Redazione del bilancio di esercizio"),e.k0s()(),e.j41(148,"p"),e.EFF(149,"Insieme dei documenti contabili che un'impresa deve redigere periodicamente per esporre la propria situazione"),e.j41(150,"strong"),e.EFF(151," patrimoniale, finanziaria ed economica"),e.k0s()()()(),e.j41(152,"div",46)(153,"span",9),e.EFF(154,"currency_exchange"),e.k0s(),e.j41(155,"h2",47),e.EFF(156,"Iva"),e.k0s(),e.j41(157,"div",6),e.nrm(158,"input",7),e.j41(159,"label",11),e.EFF(160,"Liquidazione mensile"),e.k0s()(),e.j41(161,"div",6),e.nrm(162,"input",7),e.j41(163,"label",11),e.EFF(164,"LIPE"),e.k0s()(),e.j41(165,"div",6),e.nrm(166,"input",7),e.j41(167,"label",11),e.EFF(168,"Dichiarazione iva"),e.k0s()(),e.j41(169,"div",6),e.nrm(170,"input",7),e.j41(171,"label",11),e.EFF(172,"Visto di conformit\xe0"),e.k0s()(),e.j41(173,"div",6),e.nrm(174,"input",37),e.j41(175,"label",11),e.EFF(176,"Rimborsi iva trimestrale"),e.k0s()(),e.j41(177,"div",6)(178,"input",48),e.bIt("change",function(){return _.changeIntrastat()}),e.k0s(),e.j41(179,"label",49),e.EFF(180,"Intrastat"),e.k0s()(),e.j41(181,"div",50),e.nrm(182,"input",31),e.j41(183,"label",32),e.EFF(184,"N.Fatt.Intrastat mensili"),e.k0s()(),e.j41(185,"span",51),e.EFF(186,"credit_score"),e.k0s(),e.j41(187,"h2",47),e.EFF(188,"Redditi"),e.k0s(),e.j41(189,"div",6)(190,"input",52),e.bIt("change",function(){return _.changeRedditi()}),e.k0s(),e.j41(191,"label",53),e.EFF(192,"Gestione redditi"),e.k0s()(),e.j41(193,"div",54)(194,"div",55)(195,"label",56),e.EFF(196,"Tipi di reddito"),e.k0s(),e.j41(197,"div",23)(198,"select",57),e.bIt("change",function(){return _.changeTipoDiReddito()}),e.j41(199,"option",58),e.EFF(200,"Societ\xe0"),e.k0s(),e.j41(201,"option",59),e.EFF(202,"Persone Fisiche e Societ\xe0"),e.k0s()()()(),e.j41(203,"div",60),e.nrm(204,"input",31),e.j41(205,"label",32),e.EFF(206,"N.Persone fisiche"),e.k0s()()()(),e.j41(207,"div",61)(208,"span",51),e.EFF(209,"price_check"),e.k0s(),e.j41(210,"h2",47),e.EFF(211,"Pagamenti"),e.k0s(),e.j41(212,"div",6)(213,"input",62),e.bIt("change",function(){return _.changeF24()}),e.k0s(),e.j41(214,"label",63),e.EFF(215,"F24"),e.k0s()(),e.j41(216,"div",64),e.nrm(217,"input",65),e.j41(218,"label",32),e.EFF(219,"N.F24 annui"),e.k0s()(),e.j41(220,"div",6)(221,"input",66),e.bIt("change",function(){return _.changeCreditiDaMonitorare()}),e.k0s(),e.j41(222,"label",67),e.EFF(223,"Crediti da monitorare"),e.k0s()(),e.j41(224,"div",68),e.nrm(225,"input",65),e.j41(226,"label",32),e.EFF(227,"N.Crediti da monitorare annui"),e.k0s()(),e.j41(228,"span",69),e.EFF(229,"point_of_sale"),e.k0s(),e.j41(230,"h2",36),e.EFF(231,"CU/770"),e.k0s(),e.j41(232,"div",6),e.nrm(233,"input",7),e.j41(234,"label",11),e.EFF(235,"CU"),e.k0s()(),e.j41(236,"div",6),e.nrm(237,"input",7),e.j41(238,"label",11),e.EFF(239,"770"),e.k0s()(),e.j41(240,"div",70),e.nrm(241,"input",31),e.j41(242,"label",32),e.EFF(243,"N.Percipienti annui"),e.k0s()()()()()())}}),d})(),Ql=(()=>{var g;class d{constructor(u,_,I){this.alchemizzatore=u,this.alchemizzatoreService=_,this.generalService=I}ngOnInit(){}on1(){document.getElementById("float").classList.add("miaClasse"),document.getElementById("float").classList.add("rimbalzo-class"),document.getElementById("float2").classList.add("miaClasse"),document.getElementById("float2").classList.add("rimbalzo-class2"),document.getElementById("text-importazione-sbarrato").classList.add("sbarrato"),document.getElementById("text-importazione-scontato").innerText=" \u20ac400",document.getElementById("text-creazione-sbarrato2").classList.add("sbarrato"),document.getElementById("text-creazione-scontato2").innerText=" \u20ac700"}basic(){this.generalService.unsavedChanges=!0,"Basic"==this.alchemizzatoreService.currentImageSelectedPlan?(this.alchemizzatoreService.imagePlanCost=0,this.alchemizzatoreService.currentImageSelectedPlan="",document.getElementById("image-checkout-card").style.display="none",this.generalService.presentToast("Piano Basic deselezionato con successo nel modulo immagine e social")):(this.alchemizzatoreService.currentImageSelectedPlan="Basic",document.getElementById("image-checkout-card").style.display="flex",this.generalService.presentToast("Piano Basic selezionato nel modulo immagine e social")),this.alchemizzatoreService.refreshShoppingCart()}standard(){this.generalService.unsavedChanges=!0,"Standard"==this.alchemizzatoreService.currentImageSelectedPlan?(this.alchemizzatoreService.imagePlanCost=0,this.alchemizzatoreService.currentImageSelectedPlan="",document.getElementById("image-checkout-card").style.display="none",this.generalService.presentToast("Piano standard deselezionato con successo nel modulo immagine e social")):(this.alchemizzatoreService.currentImageSelectedPlan="Standard",document.getElementById("image-checkout-card").style.display="flex",this.generalService.presentToast("Piano standard selezionato nel modulo immagine e social")),this.alchemizzatoreService.refreshShoppingCart()}deluxe(){this.generalService.unsavedChanges=!0,"Deluxe"==this.alchemizzatoreService.currentImageSelectedPlan?(this.alchemizzatoreService.imagePlanCost=0,this.alchemizzatoreService.currentImageSelectedPlan="",document.getElementById("image-checkout-card").style.display="none",this.generalService.presentToast("Piano Deluxe deselezionato con successo nel modulo immagine e social")):(this.alchemizzatoreService.currentImageSelectedPlan="Deluxe",document.getElementById("image-checkout-card").style.display="flex",this.generalService.presentToast("Piano Deluxe selezionato nel modulo immagine e social")),this.alchemizzatoreService.refreshShoppingCart()}imageCheckIfAnyPlanSelected(){const u=document.getElementById("alchemizzatore-immagine-google-checkbox-input");""==this.alchemizzatoreService.currentImageSelectedPlan?(u.checked=!1,this.generalService.presentToast("Devi selezionare almeno un piano social per poter selezionare l'add-on Google")):this.alchemizzatoreService.refreshShoppingCart()}addFlyer(){this.alchemizzatore.flyerCount=this.alchemizzatore.flyerCount+1,document.getElementById("flyer-counter").innerText=this.alchemizzatore.flyerCount+"",this.alchemizzatoreService.refreshShoppingCart(),document.getElementById("image-checkout-card").style.display="flex"}removeFlyer(){0!=this.alchemizzatore.flyerCount?(this.alchemizzatore.flyerCount=this.alchemizzatore.flyerCount-1,document.getElementById("flyer-counter").innerText=this.alchemizzatore.flyerCount+"",this.alchemizzatoreService.refreshShoppingCart(),document.getElementById("image-checkout-card").style.display="flex"):document.getElementById("image-checkout-card").style.display="none"}addPoster(){this.alchemizzatore.posterCount=this.alchemizzatore.posterCount+1,document.getElementById("poster-counter").innerText=this.alchemizzatore.posterCount+"",this.alchemizzatoreService.refreshShoppingCart(),document.getElementById("image-checkout-card").style.display="flex"}removePoster(){0!=this.alchemizzatore.posterCount?(this.alchemizzatore.posterCount=this.alchemizzatore.posterCount-1,document.getElementById("poster-counter").innerText=this.alchemizzatore.posterCount+"",this.alchemizzatoreService.refreshShoppingCart(),document.getElementById("image-checkout-card").style.display="flex"):document.getElementById("image-checkout-card").style.display="none"}addVetrografica(){this.alchemizzatore.vetrograficaCount=this.alchemizzatore.vetrograficaCount+1,document.getElementById("vetrografica-counter").innerText=this.alchemizzatore.vetrograficaCount+"",this.alchemizzatoreService.refreshShoppingCart(),document.getElementById("image-checkout-card").style.display="flex"}removeVetrografica(){0!=this.alchemizzatore.vetrograficaCount?(this.alchemizzatore.vetrograficaCount=this.alchemizzatore.vetrograficaCount-1,document.getElementById("vetrografica-counter").innerText=this.alchemizzatore.vetrograficaCount+"",this.alchemizzatoreService.refreshShoppingCart()):document.getElementById("image-checkout-card").style.display="none"}logoCreation(){this.alchemizzatoreService.currentLogoAssetUrl="",this.alchemizzatoreService.currentImageLogoType="Creato da 0",this.alchemizzatoreService.refreshShoppingCart(),this.generalService.presentToast("Creazione da 0 memorizzata"),document.getElementById("image-checkout-card").style.display="flex"}uploadLogo(){const u=tt.A.storage(),I=document.getElementById("logo-input").files[0];if(I){const U=u.ref("alchemizzatore/immagine/loghi/"+I.name).put(I);U.on("state_changed",$=>{this.generalService.presentToast("Caricamento in corso: "+$.bytesTransferred/$.totalBytes*100+"%")},$=>{this.generalService.presentToast("Errore nel caricamento:"+$.message)},()=>{U.snapshot.ref.getDownloadURL().then($=>{this.generalService.presentToast("Logo caricato con successo"),this.alchemizzatoreService.currentLogoAssetUrl=$,this.alchemizzatoreService.currentImageLogoType="Importato",this.alchemizzatoreService.refreshShoppingCart(),document.getElementById("image-checkout-card").style.display="flex"})})}else this.generalService.presentToast("Nessun file selezionato:")}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(Pa),e.rXU(Pa),e.rXU(fo.O))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-immagine"]],decls:274,vars:0,consts:[[2,"width","100%","display","flex","flex-direction","column","gap","1rem","padding-bottom","6rem","padding-left","1rem","padding-right","1rem"],[2,"margin-top","1rem","margin-bottom","1rem","margin-right","1rem","font-size","1.8rem"],[2,"width","100%","display","flex","flex-wrap","wrap","gap","1rem"],["id","modules-input",1,"card",2,"flex","1 1 0","min-width","20rem","padding-left","1rem","cursor","pointer","display","flex","flex-direction","row","gap","1rem","flex-wrap","wrap","padding-top","1rem","align-items","center","padding-bottom","1rem"],[2,"flex","1 1 0","min-width","15rem"],["src","assets\\svg\\undraw_social_ideas_re_j5v4 (1).svg",2,"width","15rem","margin-top","1rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","5rem"],[2,"width","90%","background","#333","height","1px","margin-right","2rem"],[2,"margin-top","0rem","margin-bottom","0rem"],[2,"margin-top","0rem","margin-bottom","0rem","font-weight","bold"],[1,"btn",2,"margin-right","0.5rem","width","90%","text-align","center","margin-top","1rem",3,"click"],[2,"display","flex","flex-direction","row","align-items","center","justify-content","center","width","100%","flex-wrap","wrap"],[2,"display","flex","flex-direction","row","align-items","center","gap","1rem","flex-wrap","wrap"],[2,"min-width","12rem"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem"],["type","checkbox","id","alchemizzatore-immagine-google-checkbox-input",2,"height","2rem","width","2rem",3,"change"],["id","float2",1,"card",2,"flex","1 1 0","min-width","20rem","padding-left","1rem","cursor","pointer","display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","padding-top","1rem","align-items","center"],[2,"width","18rem"],["src","assets\\svg\\undraw_creative_woman_re_u5tk.svg",2,"width","15rem","margin-top","1rem"],[2,"width","100%","flex","1","display","flex","flex-direction","column","gap","0.5rem","padding-bottom","1rem","padding-right","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","flex-wrap","wrap","gap","1rem"],[1,"inputGroup",2,"width","8rem"],["id","immagine-grafica-altezza-input","type","text","value","",1,"input-field3"],["for","immagine-grafica-altezza-input"],["id","immagine-grafica-larghezza-input","type","text","value","",1,"input-field3"],["for","immagine-grafica-larghezza-input"],["id","immagine-grafica-larghezza-input","type","number",1,"input-field3"],[2,"display","flex","flex-direction","column","width","8rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],[1,"inputGroup"],["id","",1,"selector1",2,"width","100%"],["value","Grafica Social"],["value","Biglietto da visita"],["value","Flyer"],["value","Men\xf9"],["value","Roll-Up"],["value","Striscione"],["value","Targhetta"],["value","Altro"],["id","","type","number",1,"input-field3"],["for",""],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem"],[1,"btn",2,"width","10rem"],[1,"inputGroup",2,"flex","1"],["id","","type","text",1,"input-field3"],["type","checkbox","id","immagine-module-stampa-checkbox",2,"height","1.5rem","width","1.5rem"],["for","immagine-module-stampa-checkbox",2,"font-size","1.2rem"],[2,"display","flex","flex-direction","column","width","10rem"],["value","Cartoncino"],["value","Carta"],["value","Plastica"],["value","Stoffa"],[1,"btn"],["id","float",1,"card",2,"flex","1 1 0","min-width","20rem","padding-left","1rem","cursor","pointer"],["src","assets\\svg\\undraw_learning_sketching_nd4f (1).svg",2,"height","14rem","margin-top","1rem"],[2,"width","100%","display","flex","flex-wrap","wrap","gap","1rem","padding-bottom","1rem"],["id","text-importazione-sbarrato"],["id","text-importazione-scontato"],["type","file","accept","image/*","id","logo-input",1,"btn",2,"margin-right","0.5rem","width","90%","text-align","center","margin-top","1rem"],["id","text-creazione-sbarrato2"],["id","text-creazione-scontato2"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Immagine"),e.k0s(),e.j41(3,"div",2)(4,"div",2)(5,"div",3)(6,"div",4),e.nrm(7,"img",5),e.j41(8,"div")(9,"h1"),e.EFF(10,"Social"),e.k0s(),e.j41(11,"p")(12,"strong"),e.EFF(13,"Raggiungi un pubblico mondiale"),e.k0s(),e.EFF(14," e "),e.j41(15,"strong"),e.EFF(16,"aumenta le vendite"),e.k0s()(),e.j41(17,"p"),e.EFF(18,"Permetti ai tuoi clienti di avere "),e.j41(19,"strong"),e.EFF(20,"informazioni sulla tua attivit\xe0 in qualsiasi momento"),e.k0s(),e.EFF(21," grazie ai potenti algoritmi informatici alla base dei social media"),e.k0s()()(),e.j41(22,"div",4)(23,"span",6),e.EFF(24,"deployed_code"),e.k0s(),e.j41(25,"h3"),e.EFF(26,"Basic"),e.k0s(),e.j41(27,"span")(28,"strong"),e.EFF(29,"\u20ac330/mese"),e.k0s(),e.EFF(30," IVA Inclusa"),e.k0s(),e.nrm(31,"hr",7),e.j41(32,"p",8),e.EFF(33,"-Consulenza dedicata"),e.k0s(),e.j41(34,"p",8),e.EFF(35,"-Pubblicazione"),e.k0s(),e.j41(36,"p",8),e.EFF(37,"-Creazione contenuti sul posto"),e.k0s(),e.j41(38,"p",8),e.EFF(39,"-Creazione calendario editoriale"),e.k0s(),e.j41(40,"p",8),e.EFF(41,"-Rebranding profilo"),e.k0s(),e.j41(42,"p",9),e.EFF(43,"-2 post/mese"),e.k0s(),e.j41(44,"p",9),e.EFF(45,"-15 storie/mese"),e.k0s(),e.j41(46,"a",10),e.bIt("click",function(){return _.basic()}),e.EFF(47,"Seleziona"),e.k0s()(),e.j41(48,"div",4)(49,"span",6),e.EFF(50,"trending_up"),e.k0s(),e.j41(51,"h3"),e.EFF(52,"Standard"),e.k0s(),e.j41(53,"span")(54,"strong"),e.EFF(55,"\u20ac430/mese"),e.k0s(),e.EFF(56," IVA Inclusa"),e.k0s(),e.nrm(57,"hr",7),e.j41(58,"p",8),e.EFF(59,"-Consulenza dedicata"),e.k0s(),e.j41(60,"p",8),e.EFF(61,"-Pubblicazione"),e.k0s(),e.j41(62,"p",8),e.EFF(63,"-Creazione contenuti sul posto"),e.k0s(),e.j41(64,"p",8),e.EFF(65,"-Creazione calendario editoriale"),e.k0s(),e.j41(66,"p",8),e.EFF(67,"-Rebranding profilo"),e.k0s(),e.j41(68,"p",9),e.EFF(69,"-12 post/mese"),e.k0s(),e.j41(70,"p",9),e.EFF(71,"-40 storie/mese"),e.k0s(),e.j41(72,"button",10),e.bIt("click",function(){return _.on1(),_.standard()}),e.EFF(73,"Seleziona"),e.k0s()(),e.j41(74,"div",4)(75,"span",6),e.EFF(76,"diamond"),e.k0s(),e.j41(77,"h3"),e.EFF(78,"Deluxe"),e.k0s(),e.j41(79,"span")(80,"strong"),e.EFF(81,"\u20ac650/mese"),e.k0s(),e.EFF(82," IVA Inclusa"),e.k0s(),e.nrm(83,"hr",7),e.j41(84,"p",8),e.EFF(85,"-Consulenza dedicata"),e.k0s(),e.j41(86,"p",8),e.EFF(87,"-Pubblicazione"),e.k0s(),e.j41(88,"p",8),e.EFF(89,"-Creazione contenuti sul posto"),e.k0s(),e.j41(90,"p",8),e.EFF(91,"-Creazione calendario editoriale"),e.k0s(),e.j41(92,"p",8),e.EFF(93,"-Rebranding profilo"),e.k0s(),e.j41(94,"p",9),e.EFF(95,"-18 post/mese"),e.k0s(),e.j41(96,"p",9),e.EFF(97,"-60 storie/mese"),e.k0s(),e.j41(98,"button",10),e.bIt("click",function(){return _.on1(),_.deluxe()}),e.EFF(99,"Seleziona"),e.k0s()(),e.j41(100,"div",11)(101,"div",12)(102,"span",6),e.EFF(103,"language"),e.k0s(),e.j41(104,"div",13)(105,"h3",14)(106,"input",15),e.bIt("change",function(){return _.imageCheckIfAnyPlanSelected()}),e.k0s(),e.EFF(107," Gestione Google"),e.k0s(),e.j41(108,"span")(109,"strong"),e.EFF(110,"\u20ac120/mese"),e.k0s(),e.EFF(111," IVA Inclusa"),e.k0s()()()()()(),e.j41(112,"div",3)(113,"div",4),e.nrm(114,"img",5),e.j41(115,"div")(116,"h1"),e.EFF(117,"Branding"),e.k0s(),e.j41(118,"p"),e.EFF(119,"Creazione e gestione dell'identit\xe0 di un marchio. Comprende logo, definizione dei valori, missione aziendale e strategia di comunicazione"),e.k0s()()(),e.j41(120,"div",4)(121,"span",6),e.EFF(122,"deployed_code"),e.k0s(),e.j41(123,"h3"),e.EFF(124,"Basic"),e.k0s(),e.j41(125,"span")(126,"strong"),e.EFF(127,"\u20ac330/mese"),e.k0s(),e.EFF(128," IVA Inclusa"),e.k0s(),e.nrm(129,"hr",7),e.j41(130,"p",8),e.EFF(131,"-Consulenza dedicata"),e.k0s(),e.j41(132,"p",8),e.EFF(133,"-Pubblicazione"),e.k0s(),e.j41(134,"p",8),e.EFF(135,"-Creazione contenuti sul posto"),e.k0s(),e.j41(136,"p",8),e.EFF(137,"-Creazione calendario editoriale"),e.k0s(),e.j41(138,"p",8),e.EFF(139,"-Rebranding profilo"),e.k0s(),e.j41(140,"p",9),e.EFF(141,"-2 post/mese"),e.k0s(),e.j41(142,"p",9),e.EFF(143,"-15 storie/mese"),e.k0s(),e.j41(144,"a",10),e.bIt("click",function(){return _.basic()}),e.EFF(145,"Seleziona"),e.k0s()()()(),e.j41(146,"div",16)(147,"div",17),e.nrm(148,"img",18),e.j41(149,"div")(150,"h1"),e.EFF(151,"Grafica"),e.k0s(),e.j41(152,"p")(153,"strong"),e.EFF(154,"Aumenta la produttivit\xe0 e il fatturato della tua impresa "),e.k0s(),e.EFF(155,"grazie alle nostre "),e.j41(156,"strong"),e.EFF(157,"soluzioni informatiche personalizzate"),e.k0s()(),e.j41(158,"p"),e.EFF(159,"Permetti ai tuoi clienti di trovare e "),e.j41(160,"strong"),e.EFF(161,"ottenere informazioni sulla tua attivit\xe0 in qualsiasi momento"),e.k0s()()()(),e.j41(162,"div",19)(163,"h3",8),e.EFF(164,"Propiet\xe0 | Generali"),e.k0s(),e.j41(165,"div",20)(166,"div",21),e.nrm(167,"input",22),e.j41(168,"label",23),e.EFF(169,"Altezza"),e.k0s()(),e.j41(170,"div",21),e.nrm(171,"input",24),e.j41(172,"label",25),e.EFF(173,"Larghezza"),e.k0s()(),e.j41(174,"h3"),e.EFF(175,"|"),e.k0s(),e.j41(176,"div",21),e.nrm(177,"input",26),e.j41(178,"label",25),e.EFF(179,"N.pagine"),e.k0s()(),e.j41(180,"h3"),e.EFF(181,"|"),e.k0s(),e.j41(182,"div",27)(183,"label",28),e.EFF(184,"Tipologia"),e.k0s(),e.j41(185,"div",29)(186,"select",30)(187,"option",31),e.EFF(188,"Grafica Social"),e.k0s(),e.j41(189,"option",32),e.EFF(190,"Biglietto da visita"),e.k0s(),e.j41(191,"option",33),e.EFF(192,"Flyer"),e.k0s(),e.j41(193,"option",34),e.EFF(194,"Men\xf9"),e.k0s(),e.j41(195,"option",35),e.EFF(196,"Roll-Up"),e.k0s(),e.j41(197,"option",36),e.EFF(198,"Striscione"),e.k0s(),e.j41(199,"option",37),e.EFF(200,"Targhetta"),e.k0s(),e.j41(201,"option",38),e.EFF(202,"Altro"),e.k0s()()()(),e.j41(203,"div",21),e.nrm(204,"input",39),e.j41(205,"label",40),e.EFF(206,"Altro (Specificare)"),e.k0s()()(),e.j41(207,"div",41)(208,"button",42),e.EFF(209,"Importa"),e.k0s(),e.j41(210,"div",43),e.nrm(211,"input",44),e.j41(212,"label",40),e.EFF(213,"Note"),e.k0s()()(),e.j41(214,"div",41)(215,"div",14),e.nrm(216,"input",45),e.j41(217,"label",46),e.EFF(218,"Stampa"),e.k0s()(),e.j41(219,"div",47)(220,"label",28),e.EFF(221,"Tipologia"),e.k0s(),e.j41(222,"div",29)(223,"select",30)(224,"option",48),e.EFF(225,"Cartoncino"),e.k0s(),e.j41(226,"option",49),e.EFF(227,"Carta"),e.k0s(),e.j41(228,"option",50),e.EFF(229,"Plastica"),e.k0s(),e.j41(230,"option",51),e.EFF(231,"Stoffa"),e.k0s()()()()(),e.j41(232,"button",52),e.EFF(233,"Salva configurazione"),e.k0s()()(),e.j41(234,"div",53),e.nrm(235,"img",54),e.j41(236,"div")(237,"h1"),e.EFF(238,"Logo"),e.k0s(),e.j41(239,"p"),e.EFF(240,"Ottieni il supporto dedicato di un/a "),e.j41(241,"strong"),e.EFF(242,"commercialista dedicato"),e.k0s(),e.EFF(243," per la "),e.j41(244,"strong"),e.EFF(245,"gestione della contabilit\xe0 e fiscalit\xe0 aziendale"),e.k0s()()(),e.j41(246,"div",55)(247,"div",4)(248,"span",6),e.EFF(249,"upload"),e.k0s(),e.j41(250,"h3"),e.EFF(251,"Importazione"),e.k0s(),e.j41(252,"span")(253,"strong",56),e.EFF(254,"\u20ac500"),e.k0s(),e.nrm(255,"strong",57),e.EFF(256," IVA Inclusa"),e.k0s(),e.nrm(257,"hr",7)(258,"input",58),e.j41(259,"button",10),e.bIt("click",function(){return _.uploadLogo()}),e.EFF(260,"Carica"),e.k0s()(),e.j41(261,"div",4)(262,"span",6),e.EFF(263,"brush"),e.k0s(),e.j41(264,"h3"),e.EFF(265,"Creazione da 0"),e.k0s(),e.j41(266,"span")(267,"strong",59),e.EFF(268,"\u20ac1000"),e.k0s(),e.nrm(269,"strong",60),e.EFF(270," IVA Inclusa"),e.k0s(),e.nrm(271,"hr",7),e.j41(272,"button",10),e.bIt("click",function(){return _.logoCreation()}),e.EFF(273,"Seleziona"),e.k0s()()()()())},styles:[".miaClasse[_ngcontent-%COMP%]{transition:.2s box-shadow ease-in,.2s background ease-in;box-shadow:0 0 10px 5px #ff00f780;padding:1rem 0rem 1rem 1rem;border-radius:1rem;background:#b700ff1d;margin-right:1rem;animation:_ngcontent-%COMP%_rimbalzo 1.5s infinite}@keyframes _ngcontent-%COMP%_rimbalzo{0%{transform:translateY(0)}50%{transform:translateY(-10px)}to{transform:translateY(0)}}.rimbalzo-class[_ngcontent-%COMP%]{transition:.2s box-shadow ease-in,.2s background ease-in;box-shadow:0 0 10px 5px #ff00f780;padding:1rem 0rem 1rem 1rem;border-radius:1rem;background:#b700ff1d;margin-right:1rem;animation:_ngcontent-%COMP%_rimbalzo 1s infinite}.sbarrato[_ngcontent-%COMP%]{text-decoration:line-through}"]}),d})(),iu=(()=>{var g;class d{constructor(u,_){this.generalService=u,this.alchemizzatoreService=_}ngOnInit(){}on(){document.getElementById("mioElemento").classList.add("miaClasse"),document.getElementById("rimbalzo2").classList.add("rimbalzo-class"),document.getElementById("text-sbarrato").classList.add("sbarrato"),document.getElementById("text-sbarrato2").classList.add("sbarrato"),document.getElementById("text-prezzo scontato").innerText=" \u20ac2800",document.getElementById("text-prezzo scontato2").innerText=" \u20ac5000"}addBasicWebsite(){this.generalService.unsavedChanges=!0,"Basic"==this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan?(this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan="",this.generalService.presentToast("Sito web | Piano Basic deselezionato con successo nel modulo digitalizzazione"),this.alchemizzatoreService.refreshShoppingCart()):(this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan="Basic",document.getElementById("digitalizzazione-checkout-card").style.display="flex",this.generalService.presentToast("Sito web | Piano Basic selezionato nel modulo digitalizzazione")),this.alchemizzatoreService.refreshShoppingCart()}addStandardWebsite(){this.generalService.unsavedChanges=!0,"Standard"==this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan?(this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan="",this.generalService.presentToast("Sito web | Piano Standard deselezionato con successo nel modulo digitalizzazione"),this.alchemizzatoreService.refreshShoppingCart()):(this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan="Standard",document.getElementById("digitalizzazione-checkout-card").style.display="flex",this.generalService.presentToast("Sito web | Piano Standard selezionato nel modulo digitalizzazione")),this.alchemizzatoreService.refreshShoppingCart()}addDeluxeWebsite(){this.generalService.unsavedChanges=!0,"Deluxe"==this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan?(this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan="",this.generalService.presentToast("Sito web | Piano Deluxe deselezionato con successo nel modulo digitalizzazione"),this.alchemizzatoreService.refreshShoppingCart()):(this.alchemizzatoreService.currentDigitalizzazioneSelectedPlan="Deluxe",document.getElementById("digitalizzazione-checkout-card").style.display="flex",this.generalService.presentToast("Sito web | Piano Deluxe selezionato nel modulo digitalizzazione")),this.alchemizzatoreService.refreshShoppingCart()}addBasicApp(){this.generalService.unsavedChanges=!0,"Basic"==this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan?(this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan="",this.generalService.presentToast("Applicazione | Piano Basic deselezionato con successo nel modulo digitalizzazione"),this.alchemizzatoreService.refreshShoppingCart()):(this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan="Basic",document.getElementById("digitalizzazione-checkout-card").style.display="flex",this.generalService.presentToast("Applicazione | Piano Basic selezionato nel modulo digitalizzazione")),this.alchemizzatoreService.refreshShoppingCart()}addStandardApp(){this.generalService.unsavedChanges=!0,"Standard"==this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan?(this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan="",this.generalService.presentToast("Applicazione | Piano Standard deselezionato con successo nel modulo digitalizzazione"),this.alchemizzatoreService.refreshShoppingCart()):(this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan="Standard",document.getElementById("digitalizzazione-checkout-card").style.display="flex",this.generalService.presentToast("Applicazione | Piano Standard selezionato nel modulo digitalizzazione")),this.alchemizzatoreService.refreshShoppingCart()}addDeluxeApp(){this.generalService.unsavedChanges=!0,"Deluxe"==this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan?(this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan="",this.generalService.presentToast("Applicazione | Piano Deluxe deselezionato con successo nel modulo digitalizzazione"),this.alchemizzatoreService.refreshShoppingCart()):(this.alchemizzatoreService.currentDigitalizzazioneAppSelectedPlan="Deluxe",document.getElementById("digitalizzazione-checkout-card").style.display="flex",this.generalService.presentToast("Applicazione | Piano Deluxe selezionato nel modulo digitalizzazione")),this.alchemizzatoreService.refreshShoppingCart()}addIot(){this.generalService.unsavedChanges=!0,"Selected"==this.alchemizzatoreService.currentDigitalizzazioneSelectedIot?(this.alchemizzatoreService.currentDigitalizzazioneSelectedIot="",this.generalService.presentToast("Iot deselezionato con successo nel modulo digitalizzazione"),this.alchemizzatoreService.refreshShoppingCart()):(this.alchemizzatoreService.currentDigitalizzazioneSelectedIot="Selected",document.getElementById("digitalizzazione-checkout-card").style.display="flex",this.generalService.presentToast("Iot selezionato nel modulo digitalizzazione")),this.alchemizzatoreService.refreshShoppingCart()}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(fo.O),e.rXU(Pa))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-digitalizzazione"]],decls:260,vars:0,consts:[[2,"width","100%","display","flex","flex-direction","column","gap","1rem","padding-bottom","6rem","padding-left","1rem","padding-right","1rem"],[2,"margin-top","1rem","margin-bottom","1rem","margin-right","1rem","font-size","1.8rem"],[2,"width","100%","display","flex","flex-wrap","wrap","gap","1rem"],["id","modules-input",1,"card",2,"flex","1 1 0","min-width","20rem","padding-left","1rem","cursor","pointer","display","flex","flex-direction","row","gap","1rem","flex-wrap","wrap","padding-top","1rem","align-items","center","padding-bottom","1rem"],[2,"flex","1 1 0","min-width","15rem"],["src","assets\\svg\\undraw_programming_re_kg9v (1).svg",2,"width","15rem","margin-top","1rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","5rem"],[2,"margin-top","0.2rem","margin-bottom","0rem","font-size","1rem"],[2,"width","90%","background","#333","height","1px","margin-right","2rem"],[2,"margin-top","0rem","margin-bottom","0rem"],[2,"margin-top","0rem","margin-bottom","0rem","font-weight","bold"],[1,"btn",2,"margin-right","0.5rem","width","90%","text-align","center","margin-top","1rem",3,"click"],[1,"btn",2,"margin-right","0.5rem","width","90%","text-align","center","margin-top","1.1rem",3,"click"],["src","assets\\svg\\undraw_dashboard_re_3b76.svg",2,"width","15rem","margin-top","1rem"],["id","mioElemento",2,"flex","1 1 0","min-width","15rem"],["id","text-sbarrato"],["id","text-prezzo scontato"],["id","rimbalzo2",2,"flex","1 1 0","min-width","15rem"],["id","text-sbarrato2"],["id","text-prezzo scontato2"],["src","assets\\svg\\undraw_firmware_re_fgdy.svg",2,"width","15rem","margin-top","1rem"],[1,"material-symbols-outlined","notranslate"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Digitalizzazione e automatismi"),e.k0s(),e.j41(3,"div",2)(4,"div",2)(5,"div",3)(6,"div",4),e.nrm(7,"img",5),e.j41(8,"div")(9,"h1"),e.EFF(10,"Sito web"),e.k0s(),e.j41(11,"p")(12,"strong"),e.EFF(13,"Raggiungi un pubblico mondiale"),e.k0s(),e.EFF(14," e "),e.j41(15,"strong"),e.EFF(16,"aumenta le vendite"),e.k0s()(),e.j41(17,"p"),e.EFF(18,"Permetti ai tuoi clienti di avere "),e.j41(19,"strong"),e.EFF(20,"informazioni sulla tua attivit\xe0 in qualsiasi momento"),e.k0s(),e.EFF(21," grazie ai potenti algoritmi informatici alla base dei motori di ricerca"),e.k0s()()(),e.j41(22,"div",4)(23,"span",6),e.EFF(24,"deployed_code"),e.k0s(),e.j41(25,"h3"),e.EFF(26,"Basic"),e.k0s(),e.j41(27,"span")(28,"strong"),e.EFF(29,"\u20ac1000"),e.k0s(),e.EFF(30," IVA Inclusa +"),e.k0s(),e.j41(31,"p",7)(32,"strong"),e.EFF(33,"\u20ac25/mese"),e.k0s(),e.EFF(34," IVA Inclusa"),e.k0s(),e.nrm(35,"hr",8),e.j41(36,"p",9),e.EFF(37,"-Sito vetrina"),e.k0s(),e.j41(38,"p",9),e.EFF(39,"-Men\xf9 negozio"),e.k0s(),e.j41(40,"p",9),e.EFF(41,"-Landing page"),e.k0s(),e.nrm(42,"hr",8),e.j41(43,"p",9),e.EFF(44,"-Pubblicazione"),e.k0s(),e.j41(45,"p",9),e.EFF(46,"-Modifica foto, testi e video"),e.k0s(),e.j41(47,"p",10),e.EFF(48,"-1 funzione nuova/mese"),e.k0s(),e.j41(49,"button",11),e.bIt("click",function(){return _.addBasicWebsite()}),e.EFF(50,"Seleziona"),e.k0s()(),e.j41(51,"div",4)(52,"span",6),e.EFF(53,"trending_up"),e.k0s(),e.j41(54,"h3"),e.EFF(55,"Standard"),e.k0s(),e.j41(56,"span")(57,"strong"),e.EFF(58,"\u20ac1000"),e.k0s(),e.EFF(59," IVA Inclusa +"),e.k0s(),e.j41(60,"p",7)(61,"strong"),e.EFF(62,"\u20ac25/mese"),e.k0s(),e.EFF(63," IVA Inclusa"),e.k0s(),e.nrm(64,"hr",8),e.j41(65,"p",9),e.EFF(66,"-Sito aziendale"),e.k0s(),e.j41(67,"p",9),e.EFF(68,"-Form (raccolta informazioni es: raccolta preventivo)"),e.k0s(),e.nrm(69,"hr",8),e.j41(70,"p",9),e.EFF(71,"-Pubblicazione"),e.k0s(),e.j41(72,"p",9),e.EFF(73,"-Modifica foto, testi e video"),e.k0s(),e.j41(74,"p",10),e.EFF(75,"-3 funzioni nuove/mese"),e.k0s(),e.j41(76,"button",11),e.bIt("click",function(){return _.on(),_.addStandardWebsite()}),e.EFF(77,"Seleziona"),e.k0s()(),e.j41(78,"div",4)(79,"span",6),e.EFF(80,"diamond"),e.k0s(),e.j41(81,"h3"),e.EFF(82,"Deluxe"),e.k0s(),e.j41(83,"span")(84,"strong"),e.EFF(85,"\u20ac2000"),e.k0s(),e.EFF(86," IVA Inclusa +"),e.k0s(),e.j41(87,"p",7)(88,"strong"),e.EFF(89,"60/mese"),e.k0s(),e.EFF(90," IVA Inclusa"),e.k0s(),e.nrm(91,"hr",8),e.j41(92,"p",9),e.EFF(93,"-Sito aziendale professionale e scalabile"),e.k0s(),e.j41(94,"p",9),e.EFF(95,"-Interconnesso con web app"),e.k0s(),e.nrm(96,"hr",8),e.j41(97,"p",9),e.EFF(98,"-Pubblicazione"),e.k0s(),e.j41(99,"p",9),e.EFF(100,"-Modifica foto, testi e video"),e.k0s(),e.j41(101,"p",10),e.EFF(102,"-5 funzioni nuove/mese"),e.k0s(),e.j41(103,"button",12),e.bIt("click",function(){return _.on(),_.addDeluxeWebsite()}),e.EFF(104,"Seleziona"),e.k0s()()()(),e.j41(105,"div",2)(106,"div",3)(107,"div",4),e.nrm(108,"img",13),e.j41(109,"div")(110,"h1"),e.EFF(111,"Applicazioni"),e.k0s(),e.j41(112,"p")(113,"strong"),e.EFF(114,"Trasforma la tua idea in realt\xe0 grazie ai nostri supporti digitali dedicati"),e.k0s(),e.EFF(115,", ottieni un' "),e.j41(116,"strong"),e.EFF(117,"organizzazione migliore"),e.k0s(),e.EFF(118," e "),e.j41(119,"strong"),e.EFF(120,"aumenta la tua produttivit\xe0"),e.k0s()()()(),e.j41(121,"div",4)(122,"span",6),e.EFF(123,"deployed_code"),e.k0s(),e.j41(124,"h3"),e.EFF(125,"Basic"),e.k0s(),e.j41(126,"span")(127,"strong"),e.EFF(128,"\u20ac2000"),e.k0s(),e.EFF(129," IVA Inclusa +"),e.k0s(),e.j41(130,"p",7)(131,"strong"),e.EFF(132,"\u20ac90/mese"),e.k0s(),e.EFF(133," IVA Inclusa"),e.k0s(),e.nrm(134,"hr",8),e.j41(135,"p",9),e.EFF(136,"-Solo web app"),e.k0s(),e.j41(137,"p",9),e.EFF(138,"-Pubblicazione online"),e.k0s(),e.j41(139,"p",9),e.EFF(140,"-Non connettibile all'IOT"),e.k0s(),e.nrm(141,"hr",8),e.j41(142,"p",9),e.EFF(143,"-Pubblicazione sugli store"),e.k0s(),e.j41(144,"p",9),e.EFF(145,"-Modifica foto, testi e video"),e.k0s(),e.j41(146,"p",10),e.EFF(147,"-1 funzioni nuove/mese"),e.k0s(),e.j41(148,"button",11),e.bIt("click",function(){return _.addBasicApp()}),e.EFF(149,"Seleziona"),e.k0s()(),e.j41(150,"div",14)(151,"span",6),e.EFF(152,"trending_up"),e.k0s(),e.j41(153,"h3"),e.EFF(154,"Standard"),e.k0s(),e.j41(155,"span")(156,"strong",15),e.EFF(157,"\u20ac3000"),e.k0s(),e.nrm(158,"strong",16),e.EFF(159," IVA Inclusa +"),e.k0s(),e.j41(160,"p",7)(161,"strong"),e.EFF(162,"\u20ac150/mese"),e.k0s(),e.EFF(163," IVA Inclusa"),e.k0s(),e.nrm(164,"hr",8),e.j41(165,"p",9),e.EFF(166,"-Web app o Nativa"),e.k0s(),e.j41(167,"p",9),e.EFF(168,"-Pubblicazione online"),e.k0s(),e.j41(169,"p",9),e.EFF(170,"-Connettibile all'IOT"),e.k0s(),e.nrm(171,"hr",8),e.j41(172,"p",9),e.EFF(173,"-Pubblicazione sugli store"),e.k0s(),e.j41(174,"p",9),e.EFF(175,"-Modifica foto, testi e video"),e.k0s(),e.j41(176,"p",10),e.EFF(177,"-2 funzioni nuove/mese"),e.k0s(),e.j41(178,"button",11),e.bIt("click",function(){return _.addStandardApp()}),e.EFF(179,"Seleziona"),e.k0s()(),e.j41(180,"div",17)(181,"span",6),e.EFF(182,"diamond"),e.k0s(),e.j41(183,"h3"),e.EFF(184,"Deluxe"),e.k0s(),e.j41(185,"span")(186,"strong",18),e.EFF(187,"\u20ac6000"),e.k0s(),e.nrm(188,"strong",19),e.EFF(189," IVA Inclusa +"),e.k0s(),e.j41(190,"p",7)(191,"strong"),e.EFF(192,"\u20ac250/mese"),e.k0s(),e.EFF(193," IVA Inclusa"),e.k0s(),e.nrm(194,"hr",8),e.j41(195,"p",9),e.EFF(196,"-Web app o Nativa"),e.k0s(),e.j41(197,"p",9),e.EFF(198,"-Pubblicazione online"),e.k0s(),e.j41(199,"p",9),e.EFF(200,"-Connettibile all'IOT"),e.k0s(),e.nrm(201,"hr",8),e.j41(202,"p",9),e.EFF(203,"-Pubblicazione sugli store"),e.k0s(),e.j41(204,"p",9),e.EFF(205,"-Modifica foto, testi e video"),e.k0s(),e.j41(206,"p",10),e.EFF(207,"-5 funzioni nuove/mese"),e.k0s(),e.j41(208,"button",11),e.bIt("click",function(){return _.addDeluxeApp()}),e.EFF(209,"Seleziona"),e.k0s()()()()(),e.j41(210,"div",2)(211,"div",3)(212,"div",4),e.nrm(213,"img",20),e.j41(214,"div")(215,"h1"),e.EFF(216,"Iot | internet delle cose"),e.k0s(),e.j41(217,"p")(218,"strong"),e.EFF(219,"Monitora automaticamente i tuoi processi produttivi"),e.k0s(),e.EFF(220," grazie ad appositi "),e.j41(221,"strong"),e.EFF(222,"soluzioni hardware connesse alle nostre soluzioni software"),e.k0s()()()(),e.j41(223,"div",4)(224,"span",6),e.EFF(225,"precision_manufacturing"),e.k0s(),e.nrm(226,"h3"),e.j41(227,"span"),e.EFF(228,"a partire da "),e.j41(229,"strong"),e.EFF(230,"\u20ac2500"),e.k0s(),e.EFF(231," IVA Inclusa +"),e.k0s(),e.j41(232,"p",7),e.EFF(233,"a partire da "),e.j41(234,"strong"),e.EFF(235,"\u20ac100/mese"),e.k0s(),e.EFF(236," IVA Inclusa"),e.k0s(),e.nrm(237,"hr",8),e.j41(238,"p",9)(239,"span",21),e.EFF(240,"notifications"),e.k0s(),e.EFF(241,"Allarme"),e.k0s(),e.j41(242,"p",9)(243,"span",21),e.EFF(244,"counter_3"),e.k0s(),e.EFF(245,"Contatore pezzi lavorati"),e.k0s(),e.j41(246,"p",9)(247,"span",21),e.EFF(248,"weight"),e.k0s(),e.EFF(249,"Bilance smart"),e.k0s(),e.j41(250,"p",9)(251,"span",21),e.EFF(252,"share_location"),e.k0s(),e.EFF(253,"Tracciamento"),e.k0s(),e.j41(254,"p",9)(255,"span",21),e.EFF(256,"table_restaurant"),e.k0s(),e.EFF(257,"Avviso pietanze pronte"),e.k0s(),e.j41(258,"button",11),e.bIt("click",function(){return _.addIot()}),e.EFF(259,"Seleziona"),e.k0s()()()()())},styles:[".miaClasse[_ngcontent-%COMP%]{transition:.2s box-shadow ease-in,.2s background ease-in;box-shadow:0 0 10px 5px #ffd70080;padding:1rem 0rem 1rem 1rem;border-radius:1rem;background:#ffd9001d;margin-right:1rem;animation:_ngcontent-%COMP%_rimbalzo 1.5s infinite}@keyframes _ngcontent-%COMP%_rimbalzo{0%{transform:translateY(0)}50%{transform:translateY(-10px)}to{transform:translateY(0)}}.rimbalzo-class[_ngcontent-%COMP%]{transition:.2s box-shadow ease-in,.2s background ease-in;box-shadow:0 0 10px 5px #00a6ff80;padding:1rem 0rem 1rem 1rem;border-radius:1rem;background:#00bbff1d;margin-right:1rem;animation:_ngcontent-%COMP%_rimbalzo 1s infinite}.sbarrato[_ngcontent-%COMP%]{text-decoration:line-through}"]}),d})(),Al=(()=>{var g;class d{constructor(u){this.generalService=u}ngOnInit(){}unloadNotification(u){this.generalService.unsavedChanges&&(u.preventDefault(),u.returnValue="")}showAssistenzaCliente(){document.getElementById("assistenza-commerciale").style.display="flex",document.getElementById("first-message-assistenza-commerciale-text").innerText="Ti rispondo dall'ufficio, chiedi assistenza per il cliente "+document.getElementById("customer-info-ragione-sociale-input").value+" che stai configurando in questo momento?",setTimeout(()=>{document.getElementById("ti-stiamo-collegando-message").style.display="none",document.getElementById("first-message-assistenza-commerciale").style.display="flex"},5e3)}sendMessage(){document.getElementById("second-message-assistenza-commerciale-text").innerText=document.getElementById("assistenza-commerciale-message-input").value,document.getElementById("second-message-assistenza-commerciale").style.display="flex"}showCustomerInput(){document.getElementById("customer-input-container").style.display="flex",document.getElementById("modules-selection-container").style.display="none",document.getElementById("shopping-cart-container").style.display="none",document.getElementById("assistenza-commerciale-button").style.display="none",document.getElementById("immagine-container").style.display="none",document.getElementById("digitalizzazione-container").style.display="none",document.getElementById("management-container").style.display="none",document.getElementById("contabilit\xe0-container").style.display="none"}showModulesSelection(){document.getElementById("customer-input-container").style.display="none",document.getElementById("modules-selection-container").style.display="flex",document.getElementById("shopping-cart-container").style.display="none",document.getElementById("assistenza-commerciale-button").style.display="none",document.getElementById("immagine-container").style.display="none",document.getElementById("digitalizzazione-container").style.display="none",document.getElementById("management-container").style.display="none",document.getElementById("contabilit\xe0-container").style.display="none"}showShoppingCart(){document.getElementById("customer-input-container").style.display="none",document.getElementById("modules-selection-container").style.display="none",document.getElementById("shopping-cart-container").style.display="flex",document.getElementById("assistenza-commerciale-button").style.display="flex",document.getElementById("immagine-container").style.display="none",document.getElementById("digitalizzazione-container").style.display="none",document.getElementById("management-container").style.display="none",document.getElementById("contabilit\xe0-container").style.display="none"}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(fo.O))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-alchemizzatore"]],hostBindings:function(u,_){1&u&&e.bIt("beforeunload",function(P){return _.unloadNotification(P)},!1,e.tSv)},decls:27,vars:0,consts:[[1,"scrollbar-resp-width",2,"width","100%","height","2.5rem","margin-top","1rem","pointer-events","all","position","absolute","z-index","999","overflow-y","hidden","overflow-x","hidden"],[1,"card1",2,"height","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","margin-left","1rem","margin-right","2rem","overflow-y","hidden","overflow-x","auto","padding-left","0.5rem"],[1,"step-button",3,"click"],[1,"material-symbols-outlined","notranslate"],[1,"step-button","notranslate",3,"click"],[2,"flex","1"],["id","assistenza-commerciale-button",1,"step-button","notranslate",2,"margin-right","1rem","display","none",3,"click"],[2,"width","100%","height","100%","overflow-y","auto","overflow-x","hidden","padding-top","5rem"],["id","customer-input-container",2,"display","flex"],["id","modules-selection-container",2,"display","none"],["id","shopping-cart-container",2,"display","none","flex-direction","column"],["id","immagine-container",2,"display","none"],["id","digitalizzazione-container",2,"display","none"],["id","management-container",2,"display","none"],["id","contabilit\xe0-container",2,"display","none"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"div",1)(2,"button",2),e.bIt("click",function(){return _.showCustomerInput()}),e.j41(3,"span",3),e.EFF(4,"person"),e.k0s(),e.EFF(5,"Anagrafica"),e.k0s(),e.j41(6,"button",2),e.bIt("click",function(){return _.showModulesSelection()}),e.j41(7,"span",3),e.EFF(8,"design_services"),e.k0s(),e.EFF(9,"Moduli"),e.k0s(),e.j41(10,"button",4),e.bIt("click",function(){return _.showShoppingCart()}),e.j41(11,"span",3),e.EFF(12,"shopping_cart"),e.k0s(),e.EFF(13,"Checkout"),e.k0s(),e.nrm(14,"div",5),e.j41(15,"button",6),e.bIt("click",function(){return _.showAssistenzaCliente()}),e.j41(16,"span",3),e.EFF(17,"support_agent"),e.k0s(),e.EFF(18,"Assistenza Commerciale"),e.k0s()()(),e.j41(19,"div",7),e.nrm(20,"app-customer-info-input",8)(21,"app-modules",9)(22,"app-shopping-cart",10)(23,"app-immagine",11)(24,"app-digitalizzazione",12)(25,"app-management",13)(26,"app-contabilita",14),e.k0s())},dependencies:[ki,La,lo,Ka,Pl,Ql,iu]}),d})();function mc(g,d){if(1&g){const c=e.RV6();e.j41(0,"tbody")(1,"tr")(2,"td"),e.EFF(3),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td")(13,"div",11)(14,"span",12),e.EFF(15,"edit"),e.k0s(),e.j41(16,"span",13),e.bIt("click",function(){const _=e.eBV(c).$implicit,I=e.XpG();return e.Njj(I.showPreventive(_))}),e.EFF(17,"description"),e.k0s(),e.j41(18,"span",13),e.bIt("click",function(){const _=e.eBV(c).$implicit,I=e.XpG();return e.Njj(I.deleteProspect(_))}),e.EFF(19,"delete"),e.k0s()()()()()}if(2&g){const c=d.$implicit;e.R7$(3),e.JRh(c.ragione_sociale),e.R7$(2),e.JRh(c.referente),e.R7$(2),e.JRh(c.phone_number),e.R7$(2),e.JRh(c.active_services),e.R7$(2),e.JRh(c.ultimo_esito)}}let _a=(()=>{var g;class d{constructor(u,_,I){this.generalService=u,this.supabaseService=_,this.router=I,this.documents=new pt.t([]),this.nextPageAvailable=!0}ngOnInit(){this.fetchProspects()}fetchProspects(){var u=this;return(0,Z.A)(function*(){const{data:_,error:I}=yield u.supabaseService.supabase.from("anagrafiche").select("*").ilike("type","%prospect%");I?(u.generalService.presentToast("Errore durante il recupero dei prospects: "+I.message),console.error("Errore durante il recupero dei prospects: ",I)):u.documents.next(_)})()}showPreventive(u){this.generalService.currentProspect=u,this.router.navigate(["/see-preventive"])}deleteProspect(u){confirm("Sei sicuro di voler eliminare questo prospect?")&&tt.A.firestore().collection("prospects").doc(u.id).delete().then(()=>{this.generalService.presentToast("Prospect eliminato con successo")}).catch(_=>{this.generalService.presentToast("Errore nell'eliminare il prospect: "+_)})}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(fo.O),e.rXU(Zi),e.rXU(_s.Ix))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-prospects"]],decls:56,vars:3,consts:[[2,"height","100%","width","100%","overflow-y","auto","overflow-x","hidden","padding-top","1rem"],[2,"margin-top","0rem","margin-left","1rem"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","margin-left","1rem","margin-right","1rem"],[1,"card1",2,"padding-left","1rem","min-width","18rem","flex","1"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","flex-wrap","wrap","margin-top","1rem","gap","1rem","margin-left","1rem","margin-bottom","1rem"],[1,"btn"],[1,"table-container"],[1,"table"],[4,"ngFor","ngForOf"],[2,"width","100%","display","flex","flex-direction","column","align-items","center"],[2,"width","95%","height","2.5rem","border-radius","0.5rem","margin-top","1rem","margin-bottom","1rem","flex-shrink","0"],[2,"display","flex","flex-direction","row","align-content","center","gap","1rem"],[1,"table-button","material-symbols-outlined","notranslate",2,"font-size","1.5rem","cursor","pointer"],[1,"table-button","material-symbols-outlined","notranslate",2,"font-size","1.5rem","cursor","pointer",3,"click"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Prospects | "),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"div")(6,"h3"),e.EFF(7,"Da vedere"),e.k0s(),e.j41(8,"p"),e.EFF(9,"N. da contattare:"),e.k0s(),e.j41(10,"p"),e.EFF(11,"N. da richiamare:"),e.k0s(),e.j41(12,"p"),e.EFF(13,"N. nuovi:"),e.k0s(),e.j41(14,"p"),e.EFF(15,"Provincia di interesse:"),e.k0s()()(),e.j41(16,"div",3)(17,"div")(18,"h3"),e.EFF(19,"Visti"),e.k0s(),e.j41(20,"p"),e.EFF(21,"N. contattati:"),e.k0s(),e.j41(22,"p"),e.EFF(23,"N. servizi medi:"),e.k0s(),e.j41(24,"p"),e.EFF(25,"Tot. importo configurato:"),e.k0s(),e.j41(26,"p"),e.EFF(27,"Motivo principale di rifiuto:"),e.k0s()()()(),e.j41(28,"div",4)(29,"button",5),e.EFF(30,"Tutti"),e.k0s(),e.j41(31,"button",5),e.EFF(32,"Da contattare"),e.k0s(),e.j41(33,"button",5),e.EFF(34,"Contattati"),e.k0s()(),e.j41(35,"div",6)(36,"table",7)(37,"thead")(38,"tr")(39,"th"),e.EFF(40,"Ragione Sociale"),e.k0s(),e.j41(41,"th"),e.EFF(42,"Referente"),e.k0s(),e.j41(43,"th"),e.EFF(44,"Telefono"),e.k0s(),e.j41(45,"th"),e.EFF(46,"Servizi attivi"),e.k0s(),e.j41(47,"th"),e.EFF(48,"Ultimo esito"),e.k0s(),e.j41(49,"th"),e.EFF(50,"Azioni"),e.k0s()()(),e.DNE(51,mc,20,5,"tbody",8),e.nI1(52,"async"),e.k0s()()(),e.j41(53,"div",9)(54,"button",10),e.EFF(55,"Carica altri"),e.k0s()()),2&u&&(e.R7$(51),e.Y8G("ngForOf",e.bMT(52,1,_.documents)))},dependencies:[ot.Sq,ot.Jj]}),d})();function Ua(g,d){1&g&&(e.j41(0,"span",82),e.EFF(1,"devices"),e.k0s())}function Nl(g,d){1&g&&(e.j41(0,"span",82),e.EFF(1,"smartphone_camera"),e.k0s())}function tc(g,d){1&g&&(e.j41(0,"span",82),e.EFF(1,"analytics"),e.k0s())}function fi(g,d){if(1&g){const c=e.RV6();e.j41(0,"tbody")(1,"tr")(2,"td"),e.EFF(3),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td")(9,"div",83)(10,"span",84),e.EFF(11,"edit"),e.k0s(),e.j41(12,"span",85),e.bIt("click",function(){const _=e.eBV(c).$implicit,I=e.XpG();return e.Njj(I.deleteTask(_))}),e.EFF(13,"delete"),e.k0s()()()()()}if(2&g){const c=d.$implicit;e.R7$(3),e.JRh(c.name),e.R7$(2),e.JRh(c.description),e.R7$(2),e.JRh(c.expirationDate)}}let Is=(()=>{var g;class d{constructor(u,_){this.generalService=u,this.router=_,this.documents=new pt.t([]),this.nextPageAvailable=!0,this.alreadyFetchedCustomerProModuleTasks=!1}ngOnInit(){const u=document.getElementById("change-registry-info-ragione-sociale-input"),_=document.getElementById("change-registry-info-partita-iva-input"),I=document.getElementById("change-registry-info-referente-input"),P=document.getElementById("change-registry-sdi-code-input"),U=document.getElementById("change-registry-codice-fiscale-input"),$=document.getElementById("change-registry-info-sito-web-input"),te=document.getElementById("change-registry-info-instagram-input"),oe=document.getElementById("change-registry-info-indirizzo-input"),ve=document.getElementById("change-registry-info-telefono-input"),Oe=document.getElementById("change-registry-info-email-input"),he=document.getElementById("change-registry-info-pec-input"),ct=document.getElementById("change-registry-info-settore-merceologico-input"),at=document.getElementById("change-registry-info-forma-giuridica-input");u.value=this.generalService.currentCustomer.ragione_sociale,_.value=this.generalService.currentCustomer.partita_iva,I.value=this.generalService.currentCustomer.referente,P.value=this.generalService.currentCustomer.sdi_code,U.value=this.generalService.currentCustomer.codice_fiscale,$.value=this.generalService.currentCustomer.website,te.value=this.generalService.currentCustomer.instagram,oe.value=this.generalService.currentCustomer.address,ve.value=this.generalService.currentCustomer.phone_number,Oe.value=this.generalService.currentCustomer.email,he.value=this.generalService.currentCustomer.pec,ct.value=this.generalService.currentCustomer.settore_merceologico,at.value=this.generalService.currentCustomer.forma_giuridica}showRegistryAnagrafica(){document.getElementById("customer-tasks").style.display="none",document.getElementById("customer-registry").style.display="block"}showRegistryTask(){document.getElementById("customer-tasks").style.display="block",document.getElementById("customer-registry").style.display="none",0==this.alreadyFetchedCustomerProModuleTasks&&this.fetchCustomerProModuleTasks()}saveRegistry(){const u=document.getElementById("change-registry-info-ragione-sociale-input"),_=document.getElementById("change-registry-info-partita-iva-input"),I=document.getElementById("change-registry-info-referente-input"),P=document.getElementById("change-registry-sdi-code-input").value,U=document.getElementById("change-registry-codice-fiscale-input").value,$=document.getElementById("change-registry-info-sito-web-input"),te=document.getElementById("change-registry-info-instagram-input"),oe=document.getElementById("change-registry-info-indirizzo-input"),ve=document.getElementById("change-registry-info-telefono-input"),Oe=document.getElementById("change-registry-info-email-input"),he=document.getElementById("change-registry-info-pec-input"),ct=document.getElementById("change-registry-info-settore-merceologico-input"),at=document.getElementById("change-registry-info-forma-giuridica-input");tt.A.firestore().collection("customers").doc(this.generalService.currentCustomer.id).set({address:oe.value,ragione_sociale:u.value,partita_iva:_.value,website:$.value,instagram:te.value,email:Oe.value,pec:he.value,sdi_code:P,codice_fiscale:U,settore_merceologico:ct.value,forma_giuridica:at.value,referente:I.value,phone_number:ve.value},{merge:!0}).then(()=>{this.generalService.presentToast("Anagrafica cliente aggiornata")}).catch(ht=>{this.generalService.presentToast("Errore durante l'aggiornamento dell'anagrafica cliente: "+ht.message)})}showAddCustomerTask(){this.generalService.currentCustomerAddTask=this.generalService.currentCustomer,this.router.navigate(["add-task"])}fetchCustomerDigitalizzazioneTasks(){tt.A.firestore().collection("tasks").where("proModule","==","Digitalizzazione e automazione").where("customer_id","==",this.generalService.currentCustomer.id).orderBy("timestamp").onSnapshot(u=>{const _=[];u.forEach(I=>{_.push({id:I.id,...I.data()})}),this.documents.next(_),this.alreadyFetchedCustomerProModuleTasks=!0},u=>{this.generalService.presentToast("Errore nel recuperare i tasks del modulo contabilit\xe0 e fiscalit\xe0 nel cliente corrente: "+u.message)})}fetchCustomerContabilitaTasks(){tt.A.firestore().collection("tasks").where("proModule","==","Contabilit\xe0 e fiscalit\xe0").where("customer_id","==",this.generalService.currentCustomer.id).orderBy("timestamp").onSnapshot(u=>{const _=[];u.forEach(I=>{_.push({id:I.id,...I.data()})}),this.documents.next(_),this.alreadyFetchedCustomerProModuleTasks=!0},u=>{this.generalService.presentToast("Errore nel recuperare i tasks del modulo contabilit\xe0 e fiscalit\xe0 nel cliente corrente: "+u.message)})}fetchCustomerImmagineTasks(){tt.A.firestore().collection("tasks").where("proModule","==","Immagine e presenza social").where("customer_id","==",this.generalService.currentCustomer.id).orderBy("timestamp").onSnapshot(u=>{const _=[];u.forEach(I=>{_.push({id:I.id,...I.data()})}),this.documents.next(_),this.alreadyFetchedCustomerProModuleTasks=!0},u=>{this.generalService.presentToast("Errore nel recuperare i tasks del modulo immagine nel cliente corrente: "+u.message)})}fetchCustomerManagementTasks(){tt.A.firestore().collection("tasks").where("proModule","==","Ottimizzazione e management").where("customer_id","==",this.generalService.currentCustomer.id).orderBy("timestamp").onSnapshot(u=>{const _=[];u.forEach(I=>{_.push({id:I.id,...I.data()})}),this.documents.next(_),this.alreadyFetchedCustomerProModuleTasks=!0},u=>{this.generalService.presentToast("Errore nel recuperare i tasks del modulo management nel cliente corrente: "+u.message)})}fetchAllCustomerTasks(){tt.A.firestore().collection("tasks").where("customer_id","==",this.generalService.currentCustomer.id).orderBy("timestamp").onSnapshot(u=>{const _=[];u.forEach(I=>{_.push({id:I.id,...I.data()})}),this.documents.next(_),this.alreadyFetchedCustomerProModuleTasks=!0},u=>{this.generalService.presentToast("Errore nel recuperare i tasks del cliente corrente: "+u.message)})}fetchCustomerProModuleTasks(){tt.A.firestore().collection("tasks").where("proModule","==",this.generalService.currentUser.proModule).where("customer_id","==",this.generalService.currentCustomer.id).orderBy("timestamp").onSnapshot(u=>{const _=[];u.forEach(I=>{_.push({id:I.id,...I.data()})}),this.documents.next(_),this.alreadyFetchedCustomerProModuleTasks=!0},u=>{this.generalService.presentToast("Errore nel recuperare i tasks del modulo del cliente corrente: "+u.message)})}showPreventive(u){this.generalService.currentProspect=u,this.router.navigate(["/see-preventive"])}deleteTask(u){confirm("Sei sicuro di voler eliminare questo task?")&&tt.A.firestore().collection("tasks").doc(u.id).delete().then(()=>{this.generalService.presentToast("Task eliminato con successo")}).catch(_=>{this.generalService.presentToast("Errore nell'eliminare il task: "+_)})}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(fo.O),e.rXU(_s.Ix))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-change-registry"]],decls:173,vars:6,consts:[[2,"width","100%","height","100%","padding-left","1rem","padding-bottom","1rem","padding-right","1rem","display","flex","flex-direction","column","overflow-y","auto","overflow-x","hidden"],[2,"margin-top","1rem","margin-bottom","1rem","font-size","1.8rem","display","flex","flex-direction","row","align-items","center","gap","0.2rem"],["class","material-symbols-outlined notranslate","style","font-size: 1.7rem; color: #333; padding-right: 1rem; padding-left: 0.2rem;",4,"ngIf"],[1,"card1",2,"display","flex","flex-direction","row","align-items","center","gap","0.8rem","height","2.5rem","padding-left","1rem","flex-shrink","0"],[1,"a1",3,"click"],["id","customer-tasks",2,"display","none","width","100%"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","margin-top","1rem","gap","1rem","margin-bottom","1rem","flex-wrap","wrap"],[1,"btn",3,"click"],[1,"btn",2,"margin-bottom","1rem",3,"click"],[2,"width","100%","overflow-x","auto","border-radius","0.5rem"],[1,"table"],[4,"ngFor","ngForOf"],["id","customer-registry",2,"display","block","margin-top","1rem"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","width","100%"],["src","assets\\svg\\undraw_interview_re_e5jn (3).svg",2,"width","18rem"],[1,"resp-div1",2,"display","flex","flex-direction","column","flex-wrap","wrap","width","calc(100% - 20rem)"],[1,"inputGroup"],["id","change-registry-info-ragione-sociale-input","type","text",1,"input-field3"],["for","change-registry-info-ragione-sociale-input"],["id","change-registry-info-partita-iva-input","type","text",1,"input-field3"],["for","change-registry-info-partita-iva-input"],["id","change-registry-info-referente-input","type","text",1,"input-field3"],["for","change-registry-info-referente-input"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","flex-wrap","wrap"],[1,"inputGroup",2,"flex","1 1 0","min-width","200px"],["id","change-registry-sdi-code-input","type","text",1,"input-field3"],["for","change-registry-sdi-code-input"],["id","change-registry-codice-fiscale-input","type","text",1,"input-field3"],["for","change-registry-codice-fiscale-input"],["id","change-registry-info-sito-web-input","type","text",1,"input-field3"],["for","change-registry-info-sito-web-input"],["id","change-registry-info-instagram-input","type","text",1,"input-field3"],["for","change-registry-info-instagram-input"],[2,"width","100%","display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem"],["id","change-registry-info-indirizzo-input","type","text",1,"input-field3"],["for","change-registry-info-indirizzo-input"],["id","change-registry-info-telefono-input","type","text",1,"input-field3"],["for","change-registry-info-telefono-input"],["id","change-registry-info-email-input","type","text",1,"input-field3"],["for","change-registry-info-email-input"],["id","change-registry-info-pec-input","type","text",1,"input-field3"],["for","change-registry-info-pec-input"],[2,"display","flex","flex-direction","column","flex","1 1 0","min-width","200px"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","change-registry-info-settore-merceologico-input",1,"selector1",2,"width","100%"],["value","AGRICOLTURA - CACCIA FORESTE - PESCA"],["value","ALBERGHI - PUBBLICI ESERCIZI"],["value","COMMERCIO"],["value","CONSULENZA D'IMPRESA"],["value","COSTRUZIONE - INSTALLAZIONE IMPIANTI - SERVIZI EDILIZIA"],["value","CREDITO - ASSICURAZIONI"],["value","ENERGIA - GAS - ACQUA"],["value","INDUSTRIE ESTRATTIVE TRASFORMAZIONI MINERALI"],["value","INDUSTRIE MANIFATTURIERE ALIMENTARI"],["value","INDUSTRIE MANIFATTURIERE LAVORAZIONE CARTA/CARTONE STAMPA - EDITORIA"],["value","INDUSTRIE CHIMICHE FARMACEUTICHE - COSMETICHE"],["value","INDUSTRIE MANIFATTURIERE LAVORAZIONE LEGNO"],["value","INDUSTRIE MANIFATTURIERE LAVORAZIONE METALLI MECCANICA DI PRECISIONE"],["value","INDUSTRIE MANIFATTURIERE TESSILE, ABBIGLIAMENTO, AFFINI"],["value","INDUSTRIE MANIFATTURIERE PRODUZIONE MATERIALI, APPARECCHIATURE/MACCHINE ELETTRICHE/ELETTRONICHE"],["value","NOLEGGIO/RIPARAZIONE BENI DI CONSUMO E BENI DUREVOLI"],["value","PUBBLICA AMMINISTRAZIONE"],["value","SERVIZI PRIVATI"],["value","TRASPORTI - COMUNICAZIONI"],["value","DOCENTI UNIVERSITARI"],["value","SOCI NON IN SERVIZIO ATTIVO"],["value","STUDENTI"],["id","change-registry-info-forma-giuridica-input",1,"selector1",2,"width","100%"],["value","Ditt\xe0 individuale forfettaria"],["value","Ditt\xe0 individuale"],["value","Impresa familiare"],["value","Societ\xe0 cooperativa"],["value","Impresa artigiana/agricola"],["value","Associazione"],["value","Societ\xe0 semplice"],["value","Societ\xe0 in nome collettivo"],["value","Societ\xe0 a comandita semplice"],["value","Societ\xe0 a responsabilit\xe0 limitata semplificata"],["value","Societ\xe0 a responsabilit\xe0 limitata"],["value","Societ\xe0 per azioni"],["value","Societ\xe0 in accomandita per azioni"],[1,"btn",2,"width","100%",3,"click"],[1,"material-symbols-outlined","notranslate",2,"font-size","1.7rem","color","#333","padding-right","1rem","padding-left","0.2rem"],[2,"display","flex","flex-direction","row","align-content","center","gap","1rem"],[1,"table-button","material-symbols-outlined","notranslate",2,"font-size","1.5rem","cursor","pointer"],[1,"table-button","material-symbols-outlined","notranslate",2,"font-size","1.5rem","cursor","pointer",3,"click"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2," Modifica anagrafica | "),e.DNE(3,Ua,2,0,"span",2)(4,Nl,2,0,"span",2)(5,tc,2,0,"span",2),e.k0s(),e.j41(6,"div",3)(7,"a",4),e.bIt("click",function(){return _.showRegistryAnagrafica()}),e.EFF(8,"Anagrafica"),e.k0s(),e.j41(9,"a",4),e.bIt("click",function(){return _.showRegistryTask()}),e.EFF(10,"Task"),e.k0s()(),e.j41(11,"div",5)(12,"div",6)(13,"button",7),e.bIt("click",function(){return _.fetchAllCustomerTasks()}),e.EFF(14,"Tutti"),e.k0s(),e.j41(15,"button",7),e.bIt("click",function(){return _.fetchCustomerManagementTasks()}),e.EFF(16,"Management"),e.k0s(),e.j41(17,"button",7),e.bIt("click",function(){return _.fetchCustomerImmagineTasks()}),e.EFF(18,"Immagine"),e.k0s(),e.j41(19,"button",7),e.bIt("click",function(){return _.fetchCustomerContabilitaTasks()}),e.EFF(20,"Contabilit\xe0"),e.k0s(),e.j41(21,"button",7),e.bIt("click",function(){return _.fetchCustomerDigitalizzazioneTasks()}),e.EFF(22,"Digitalizzazione"),e.k0s()(),e.j41(23,"button",8),e.bIt("click",function(){return _.showAddCustomerTask()}),e.EFF(24,"Aggiungi Task"),e.k0s(),e.j41(25,"div",9)(26,"table",10)(27,"thead")(28,"tr")(29,"th"),e.EFF(30,"Nome"),e.k0s(),e.j41(31,"th"),e.EFF(32,"Descrizione"),e.k0s(),e.j41(33,"th"),e.EFF(34,"Scadenza"),e.k0s(),e.j41(35,"th"),e.EFF(36,"Azioni"),e.k0s()()(),e.DNE(37,fi,14,3,"tbody",11),e.nI1(38,"async"),e.k0s()()(),e.j41(39,"div",12)(40,"div",13),e.nrm(41,"img",14),e.j41(42,"div",15)(43,"div",16),e.nrm(44,"input",17),e.j41(45,"label",18),e.EFF(46,"Ragione sociale"),e.k0s()(),e.j41(47,"div",16),e.nrm(48,"input",19),e.j41(49,"label",20),e.EFF(50,"Partita iva"),e.k0s()(),e.j41(51,"div",16),e.nrm(52,"input",21),e.j41(53,"label",22),e.EFF(54,"Referente"),e.k0s()()()(),e.j41(55,"div",23)(56,"div",24),e.nrm(57,"input",25),e.j41(58,"label",26),e.EFF(59,"Codice Sdi"),e.k0s()(),e.j41(60,"div",24),e.nrm(61,"input",27),e.j41(62,"label",28),e.EFF(63,"Codice Fiscale"),e.k0s()()(),e.j41(64,"div",13)(65,"div",24),e.nrm(66,"input",29),e.j41(67,"label",30),e.EFF(68,"Sito Web"),e.k0s()(),e.j41(69,"div",24),e.nrm(70,"input",31),e.j41(71,"label",32),e.EFF(72,"Instagram"),e.k0s()()(),e.j41(73,"div",33)(74,"div",24),e.nrm(75,"input",34),e.j41(76,"label",35),e.EFF(77,"Indirizzo"),e.k0s()(),e.j41(78,"div",24),e.nrm(79,"input",36),e.j41(80,"label",37),e.EFF(81,"Recapito telefonico"),e.k0s()(),e.j41(82,"div",24),e.nrm(83,"input",38),e.j41(84,"label",39),e.EFF(85,"E-Mail"),e.k0s()(),e.j41(86,"div",24),e.nrm(87,"input",40),e.j41(88,"label",41),e.EFF(89,"Pec"),e.k0s()()(),e.j41(90,"div",33)(91,"div",42)(92,"label",43),e.EFF(93,"Settore merceologico"),e.k0s(),e.j41(94,"div",16)(95,"select",44)(96,"option",45),e.EFF(97,"AGRICOLTURA - CACCIA FORESTE - PESCA"),e.k0s(),e.j41(98,"option",46),e.EFF(99,"ALBERGHI - PUBBLICI ESERCIZI"),e.k0s(),e.j41(100,"option",47),e.EFF(101,"COMMERCIO"),e.k0s(),e.j41(102,"option",48),e.EFF(103,"CONSULENZA D'IMPRESA"),e.k0s(),e.j41(104,"option",49),e.EFF(105,"COSTRUZIONE - INSTALLAZIONE IMPIANTI - SERVIZI EDILIZIA"),e.k0s(),e.j41(106,"option",50),e.EFF(107,"CREDITO - ASSICURAZIONI"),e.k0s(),e.j41(108,"option",51),e.EFF(109,"ENERGIA - GAS - ACQUA"),e.k0s(),e.j41(110,"option",52),e.EFF(111,"INDUSTRIE ESTRATTIVE TRASFORMAZIONI MINERALI "),e.k0s(),e.j41(112,"option",53),e.EFF(113,"INDUSTRIE MANIFATTURIERE ALIMENTARI"),e.k0s(),e.j41(114,"option",54),e.EFF(115,"INDUSTRIE MANIFATTURIERE LAVORAZIONE CARTA/CARTONE STAMPA - EDITORIA"),e.k0s(),e.j41(116,"option",55),e.EFF(117,"INDUSTRIE CHIMICHE FARMACEUTICHE - COSMETICHE "),e.k0s(),e.j41(118,"option",56),e.EFF(119,"INDUSTRIE MANIFATTURIERE LAVORAZIONE LEGNO "),e.k0s(),e.j41(120,"option",57),e.EFF(121,"INDUSTRIE MANIFATTURIERE LAVORAZIONE METALLI MECCANICA DI PRECISIONE"),e.k0s(),e.j41(122,"option",58),e.EFF(123,"INDUSTRIE MANIFATTURIERE TESSILE, ABBIGLIAMENTO, AFFINI"),e.k0s(),e.j41(124,"option",59),e.EFF(125," INDUSTRIE MANIFATTURIERE PRODUZIONE MATERIALI, APPARECCHIATURE/MACCHINE ELETTRICHE/ELETTRONICHE"),e.k0s(),e.j41(126,"option",60),e.EFF(127,"NOLEGGIO/RIPARAZIONE BENI DI CONSUMO E BENI DUREVOLI"),e.k0s(),e.j41(128,"option",61),e.EFF(129,"PUBBLICA AMMINISTRAZIONE"),e.k0s(),e.j41(130,"option",62),e.EFF(131,"SERVIZI PRIVATI"),e.k0s(),e.j41(132,"option",63),e.EFF(133,"TRASPORTI - COMUNICAZIONI"),e.k0s(),e.j41(134,"option",64),e.EFF(135,"DOCENTI UNIVERSITARI"),e.k0s(),e.j41(136,"option",65),e.EFF(137,"SOCI NON IN SERVIZIO ATTIVO"),e.k0s(),e.j41(138,"option",66),e.EFF(139,"STUDENTI"),e.k0s()()()(),e.j41(140,"div",42)(141,"label",43),e.EFF(142,"Forma giuridica"),e.k0s(),e.j41(143,"div",16)(144,"select",67)(145,"option",68),e.EFF(146,"Ditt\xe0 individuale forfettaria"),e.k0s(),e.j41(147,"option",69),e.EFF(148,"Ditt\xe0 individuale"),e.k0s(),e.j41(149,"option",70),e.EFF(150,"Impresa familiare"),e.k0s(),e.j41(151,"option",71),e.EFF(152,"Societ\xe0 cooperativa"),e.k0s(),e.j41(153,"option",72),e.EFF(154,"Impresa artigiana/agricola"),e.k0s(),e.j41(155,"option",73),e.EFF(156,"Associazione"),e.k0s(),e.j41(157,"option",74),e.EFF(158,"Societ\xe0 semplice"),e.k0s(),e.j41(159,"option",75),e.EFF(160,"Societ\xe0 in nome collettivo"),e.k0s(),e.j41(161,"option",76),e.EFF(162,"Societ\xe0 a comandita semplice"),e.k0s(),e.j41(163,"option",77),e.EFF(164,"Societ\xe0 a responsabilit\xe0 limitata semplificata"),e.k0s(),e.j41(165,"option",78),e.EFF(166,"Societ\xe0 a responsabilit\xe0 limitata"),e.k0s(),e.j41(167,"option",79),e.EFF(168,"Societ\xe0 per azioni"),e.k0s(),e.j41(169,"option",80),e.EFF(170,"Societ\xe0 in accomandita per azioni"),e.k0s()()()()(),e.j41(171,"button",81),e.bIt("click",function(){return _.saveRegistry()}),e.EFF(172,"Salva"),e.k0s()()()),2&u&&(e.R7$(3),e.Y8G("ngIf",""!=_.generalService.currentCustomer.purchase.digitalizzazione.app_selected_plan||""!=_.generalService.currentCustomer.purchase.digitalizzazione.iot_selected_plan||""!=_.generalService.currentCustomer.purchase.digitalizzazione.website_selected_plan),e.R7$(),e.Y8G("ngIf",""!=_.generalService.currentCustomer.purchase.immagine.social_selected_plan),e.R7$(),e.Y8G("ngIf",""!=_.generalService.currentCustomer.purchase.management.selected_plan),e.R7$(32),e.Y8G("ngForOf",e.bMT(38,4,_.documents)))},dependencies:[ot.Sq,ot.bT,ot.Jj]}),d})();var $i=Be(2284),ci=Uint8Array,Rs=Uint16Array,ya=Uint32Array,il=new ci([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ou=new ci([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rs=new ci([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sa=function(g,d){for(var c=new Rs(31),u=0;u<31;++u)c[u]=d+=1<<g[u-1];var _=new ya(c[30]);for(u=1;u<30;++u)for(var I=c[u];I<c[u+1];++I)_[I]=I-c[u]<<5|u;return[c,_]},Gl=sa(il,2),vc=Gl[0],lc=Gl[1];vc[28]=258,lc[258]=28;for(var qa=sa(ou,0),ol=qa[0],Gu=qa[1],Ma=new Rs(32768),bs=0;bs<32768;++bs){var Ba=(43690&bs)>>>1|(21845&bs)<<1;Ma[bs]=((65280&(Ba=(61680&(Ba=(52428&Ba)>>>2|(13107&Ba)<<2))>>>4|(3855&Ba)<<4))>>>8|(255&Ba)<<8)>>>1}var wa=function(g,d,c){for(var u=g.length,_=0,I=new Rs(d);_<u;++_)++I[g[_]-1];var U,P=new Rs(d);for(_=0;_<d;++_)P[_]=P[_-1]+I[_-1]<<1;if(c){U=new Rs(1<<d);var $=15-d;for(_=0;_<u;++_)if(g[_])for(var te=_<<4|g[_],oe=d-g[_],ve=P[g[_]-1]++<<oe,Oe=ve|(1<<oe)-1;ve<=Oe;++ve)U[Ma[ve]>>>$]=te}else for(U=new Rs(u),_=0;_<u;++_)U[_]=Ma[P[g[_]-1]++]>>>15-g[_];return U},Sl=new ci(288);for(bs=0;bs<144;++bs)Sl[bs]=8;for(bs=144;bs<256;++bs)Sl[bs]=9;for(bs=256;bs<280;++bs)Sl[bs]=7;for(bs=280;bs<288;++bs)Sl[bs]=8;var Kl=new ci(32);for(bs=0;bs<32;++bs)Kl[bs]=5;var su=wa(Sl,9,0),MA=wa(Sl,9,1),Us=wa(Kl,5,0),Fc=wa(Kl,5,1),Xa=function(g){for(var d=g[0],c=1;c<g.length;++c)g[c]>d&&(d=g[c]);return d},sl=function(g,d,c){var u=d/8|0;return(g[u]|g[u+1]<<8)>>>(7&d)&c},_c=function(g,d){var c=d/8|0;return(g[c]|g[c+1]<<8|g[c+2]<<16)>>>(7&d)},yc=function(g){return(g/8|0)+(7&g&&1)},Dc=function(g,d,c){(null==d||d<0)&&(d=0),(null==c||c>g.length)&&(c=g.length);var u=new(g instanceof Rs?Rs:g instanceof ya?ya:ci)(c-d);return u.set(g.subarray(d,c)),u},Va=function(g,d,c){var u=d/8|0;g[u]|=c<<=7&d,g[u+1]|=c>>>8},Ml=function(g,d,c){var u=d/8|0;g[u]|=c<<=7&d,g[u+1]|=c>>>8,g[u+2]|=c>>>16},au=function(g,d){for(var c=[],u=0;u<g.length;++u)g[u]&&c.push({s:u,f:g[u]});var _=c.length,I=c.slice();if(!_)return[new ci(0),0];if(1==_){var P=new ci(c[0].s+1);return P[c[0].s]=1,[P,1]}c.sort(function(Q,ee){return Q.f-ee.f}),c.push({s:-1,f:25001});var U=c[0],$=c[1],te=0,oe=1,ve=2;for(c[0]={s:-1,f:U.f+$.f,l:U,r:$};oe!=_-1;)U=c[c[te].f<c[ve].f?te++:ve++],$=c[te!=oe&&c[te].f<c[ve].f?te++:ve++],c[oe++]={s:-1,f:U.f+$.f,l:U,r:$};var Oe=I[0].s;for(u=1;u<_;++u)I[u].s>Oe&&(Oe=I[u].s);var he=new Rs(Oe+1),ct=j(c[oe-1],he,0);if(ct>d){u=0;var at=0,ht=ct-d,m=1<<ht;for(I.sort(function(ee,le){return he[le.s]-he[ee.s]||ee.f-le.f});u<_;++u){var A=I[u].s;if(!(he[A]>d))break;at+=m-(1<<ct-he[A]),he[A]=d}for(at>>>=ht;at>0;){var p=I[u].s;he[p]<d?at-=1<<d-he[p]++-1:++u}for(;u>=0&&at;--u){var b=I[u].s;he[b]==d&&(--he[b],++at)}ct=d}return[new ci(he),ct]},j=function(g,d,c){return-1==g.s?Math.max(j(g.l,d,c+1),j(g.r,d,c+1)):d[g.s]=c},J=function(g){for(var d=g.length;d&&!g[--d];);for(var c=new Rs(++d),u=0,_=g[0],I=1,P=function($){c[u++]=$},U=1;U<=d;++U)if(g[U]==_&&U!=d)++I;else{if(!_&&I>2){for(;I>138;I-=138)P(32754);I>2&&(P(I>10?I-11<<5|28690:I-3<<5|12305),I=0)}else if(I>3){for(P(_),--I;I>6;I-=6)P(8304);I>2&&(P(I-3<<5|8208),I=0)}for(;I--;)P(_);I=1,_=g[U]}return[c.subarray(0,u),d]},_e=function(g,d){for(var c=0,u=0;u<d.length;++u)c+=g[u]*d[u];return c},V=function(g,d,c){var u=c.length,_=yc(d+2);g[_]=255&u,g[_+1]=u>>>8,g[_+2]=255^g[_],g[_+3]=255^g[_+1];for(var I=0;I<u;++I)g[_+I+4]=c[I];return 8*(_+4+u)},ge=function(g,d,c,u,_,I,P,U,$,te,oe){Va(d,oe++,c),++_[256];for(var ve=au(_,15),Oe=ve[0],he=ve[1],ct=au(I,15),at=ct[0],ht=ct[1],m=J(Oe),A=m[0],p=m[1],b=J(at),Q=b[0],ee=b[1],le=new Rs(19),me=0;me<A.length;++me)le[31&A[me]]++;for(me=0;me<Q.length;++me)le[31&Q[me]]++;for(var We=au(le,7),it=We[0],Me=We[1],Ue=19;Ue>4&&!it[rs[Ue-1]];--Ue);var v,C,M,ae,dt=te+5<<3,It=_e(_,Sl)+_e(I,Kl)+P,F=_e(_,Oe)+_e(I,at)+P+14+3*Ue+_e(le,it)+(2*le[16]+3*le[17]+7*le[18]);if(dt<=It&&dt<=F)return V(d,oe,g.subarray($,$+te));if(Va(d,oe,1+(F<It)),oe+=2,F<It){v=wa(Oe,he,0),C=Oe,M=wa(at,ht,0),ae=at;var Se=wa(it,Me,0);for(Va(d,oe,p-257),Va(d,oe+5,ee-1),Va(d,oe+10,Ue-4),oe+=14,me=0;me<Ue;++me)Va(d,oe+3*me,it[rs[me]]);oe+=3*Ue;for(var yt=[A,Q],ye=0;ye<2;++ye){var Ke=yt[ye];for(me=0;me<Ke.length;++me)Va(d,oe,Se[gt=31&Ke[me]]),oe+=it[gt],gt>15&&(Va(d,oe,Ke[me]>>>5&127),oe+=Ke[me]>>>12)}}else v=su,C=Sl,M=Us,ae=Kl;for(me=0;me<U;++me)if(u[me]>255){var gt;Ml(d,oe,v[257+(gt=u[me]>>>18&31)]),oe+=C[gt+257],gt>7&&(Va(d,oe,u[me]>>>23&31),oe+=il[gt]);var Dt=31&u[me];Ml(d,oe,M[Dt]),oe+=ae[Dt],Dt>3&&(Ml(d,oe,u[me]>>>5&8191),oe+=ou[Dt])}else Ml(d,oe,v[u[me]]),oe+=C[u[me]];return Ml(d,oe,v[256]),oe+C[256]},x=new ya([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ne=new ci(0),jn=function(g,d,c,u,_){return function(g,d,c,u,_,I){var P=g.length,U=new ci(u+P+5*(1+Math.floor(P/7e3))+_),$=U.subarray(u,U.length-_),te=0;if(!d||P<8)for(var oe=0;oe<=P;oe+=65535){var ve=oe+65535;ve<P?te=V($,te,g.subarray(oe,ve)):($[oe]=I,te=V($,te,g.subarray(oe,P)))}else{for(var Oe=x[d-1],he=Oe>>>13,ct=8191&Oe,at=(1<<c)-1,ht=new Rs(32768),m=new Rs(at+1),A=Math.ceil(c/3),p=2*A,b=function(Po){return(g[Po]^g[Po+1]<<A^g[Po+2]<<p)&at},Q=new ya(25e3),ee=new Rs(288),le=new Rs(32),me=0,We=0,it=(oe=0,0),Me=0,Ue=0;oe<P;++oe){var dt=b(oe),It=32767&oe,F=m[dt];if(ht[It]=F,m[dt]=It,Me<=oe){var v=P-oe;if((me>7e3||it>24576)&&v>423){te=ge(g,$,0,Q,ee,le,We,it,Ue,oe-Ue,te),it=me=We=0,Ue=oe;for(var C=0;C<286;++C)ee[C]=0;for(C=0;C<30;++C)le[C]=0}var M=2,ae=0,Se=ct,yt=It-F&32767;if(v>2&&dt==b(oe-yt))for(var ye=Math.min(he,v)-1,Ke=Math.min(32767,oe),gt=Math.min(258,v);yt<=Ke&&--Se&&It!=F;){if(g[oe+M]==g[oe+M-yt]){for(var Dt=0;Dt<gt&&g[oe+Dt]==g[oe+Dt-yt];++Dt);if(Dt>M){if(M=Dt,ae=yt,Dt>ye)break;var Lt=Math.min(yt,Dt-2),xn=0;for(C=0;C<Lt;++C){var Kn=oe-yt+C+32768&32767,ti=Kn-ht[Kn]+32768&32767;ti>xn&&(xn=ti,F=Kn)}}}yt+=(It=F)-(F=ht[It])+32768&32767}if(ae){Q[it++]=268435456|lc[M]<<18|Gu[ae];var zr=31&lc[M],gi=31&Gu[ae];We+=il[zr]+ou[gi],++ee[257+zr],++le[gi],Me=oe+M,++me}else Q[it++]=g[oe],++ee[g[oe]]}}te=ge(g,$,I,Q,ee,le,We,it,Ue,oe-Ue,te),I||(te=V($,te,ne))}return Dc(U,0,u+yc(te)+_)}(g,null==d.level?6:d.level,null==d.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(g.length)))):12+d.mem,c,u,!_)};function jl(g,d){void 0===d&&(d={});var c=function(){var g=1,d=0;return{p:function(c){for(var u=g,_=d,I=c.length,P=0;P!=I;){for(var U=Math.min(P+5552,I);P<U;++P)_+=u+=c[P];u%=65521,_%=65521}g=u,d=_},d:function(){return(g>>>8<<16|(255&d)<<8|d>>>8)+2*((255&g)<<23)}}}();c.p(g);var u=jn(g,d,2,4);return function(g,d){var c=d.level,u=0==c?0:c<6?1:9==c?3:2;g[0]=120,g[1]=u<<6|(u?32-2*u:1)}(u,d),function(g,d,c){for(;c;++d)g[d]=c,c>>>=8}(u,u.length-4,c.d()),u}function Wu(g,d){return function(g,d,c){var u=g.length,_=!d||c,I=!c||c.i;c||(c={}),d||(d=new ci(3*u));var P=function(Lt){var xn=d.length;if(Lt>xn){var Kn=new ci(Math.max(2*xn,Lt));Kn.set(d),d=Kn}},U=c.f||0,$=c.p||0,te=c.b||0,oe=c.l,ve=c.d,Oe=c.m,he=c.n,ct=8*u;do{if(!oe){c.f=U=sl(g,$,1);var at=sl(g,$+1,3);if($+=3,!at){var m=g[(ht=yc($)+4)-4]|g[ht-3]<<8,A=ht+m;if(A>u){if(I)throw"unexpected EOF";break}_&&P(te+m),d.set(g.subarray(ht,A),te),c.b=te+=m,c.p=$=8*A;continue}if(1==at)oe=MA,ve=Fc,Oe=9,he=5;else{if(2!=at)throw"invalid block type";var p=sl(g,$,31)+257,b=sl(g,$+10,15)+4,Q=p+sl(g,$+5,31)+1;$+=14;for(var ee=new ci(Q),le=new ci(19),me=0;me<b;++me)le[rs[me]]=sl(g,$+3*me,7);$+=3*b;var We=Xa(le),it=(1<<We)-1;if(!I&&$+Q*(We+7)>ct)break;var Me=wa(le,We,1);for(me=0;me<Q;){var ht,Ue=Me[sl(g,$,it)];if($+=15&Ue,(ht=Ue>>>4)<16)ee[me++]=ht;else{var dt=0,It=0;for(16==ht?(It=3+sl(g,$,3),$+=2,dt=ee[me-1]):17==ht?(It=3+sl(g,$,7),$+=3):18==ht&&(It=11+sl(g,$,127),$+=7);It--;)ee[me++]=dt}}var F=ee.subarray(0,p),v=ee.subarray(p);Oe=Xa(F),he=Xa(v),oe=wa(F,Oe,1),ve=wa(v,he,1)}if($>ct)throw"unexpected EOF"}_&&P(te+131072);for(var C=(1<<Oe)-1,M=(1<<he)-1,ae=Oe+he+18;I||$+ae<ct;){var Se=(dt=oe[_c(g,$)&C])>>>4;if(($+=15&dt)>ct)throw"unexpected EOF";if(!dt)throw"invalid length/literal";if(Se<256)d[te++]=Se;else{if(256==Se){oe=null;break}var yt=Se-254;Se>264&&(yt=sl(g,$,(1<<(ye=il[me=Se-257]))-1)+vc[me],$+=ye);var Ke=ve[_c(g,$)&M],gt=Ke>>>4;if(!Ke)throw"invalid distance";if($+=15&Ke,v=ol[gt],gt>3){var ye=ou[gt];v+=_c(g,$)&(1<<ye)-1,$+=ye}if($>ct)throw"unexpected EOF";_&&P(te+131072);for(var Dt=te+yt;te<Dt;te+=4)d[te]=d[te-v],d[te+1]=d[te+1-v],d[te+2]=d[te+2-v],d[te+3]=d[te+3-v];te=Dt}}c.l=oe,c.p=$,c.b=te,oe&&(U=1,c.m=Oe,c.d=ve,c.n=he)}while(!U);return te==d.length?d:Dc(d,0,te)}((function(g){if(8!=(15&g[0])||g[0]>>>4>7||(g[0]<<8|g[1])%31)throw"invalid zlib data";if(32&g[1])throw"invalid zlib data: preset dictionaries not supported"}(g),g.subarray(2,-4)),d)}var L=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function q(){L.console&&"function"==typeof L.console.log&&L.console.log.apply(L.console,arguments)}var ie={log:q,warn:function(g){L.console&&("function"==typeof L.console.warn?L.console.warn.apply(L.console,arguments):q.call(null,arguments))},error:function(g){L.console&&("function"==typeof L.console.error?L.console.error.apply(L.console,arguments):q(g))}};function W(g,d,c){var u=new XMLHttpRequest;u.open("GET",g),u.responseType="blob",u.onload=function(){Zn(u.response,d,c)},u.onerror=function(){ie.error("could not download file")},u.send()}function ue(g){var d=new XMLHttpRequest;d.open("HEAD",g,!1);try{d.send()}catch{}return d.status>=200&&d.status<=299}function He(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(d)}}var lt,yn,Zn=L.saveAs||("object"!==(typeof window>"u"?"undefined":(0,$i.A)(window))||window!==L?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(g,d,c){var u=L.URL||L.webkitURL,_=document.createElement("a");_.download=d=d||g.name||"download",_.rel="noopener","string"==typeof g?(_.href=g,_.origin!==location.origin?ue(_.href)?W(g,d,c):He(_,_.target="_blank"):He(_)):(_.href=u.createObjectURL(g),setTimeout(function(){u.revokeObjectURL(_.href)},4e4),setTimeout(function(){He(_)},0))}:"msSaveOrOpenBlob"in navigator?function(g,d,c){if(d=d||g.name||"download","string"==typeof g)if(ue(g))W(g,d,c);else{var u=document.createElement("a");u.href=g,u.target="_blank",setTimeout(function(){He(u)})}else navigator.msSaveOrOpenBlob((_=g,void 0===(I=c)?I={autoBom:!1}:"object"!==(0,$i.A)(I)&&(ie.warn("Deprecated: Expected third argument to be a object"),I={autoBom:!I}),I.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_.type)?new Blob(["\ufeff",_],{type:_.type}):_),d);var _,I}:function(g,d,c,u){if((u=u||open("","_blank"))&&(u.document.title=u.document.body.innerText="downloading..."),"string"==typeof g)return W(g,d,c);var _="application/octet-stream"===g.type,I=/constructor/i.test(L.HTMLElement)||L.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||_&&I)&&"object"===(typeof FileReader>"u"?"undefined":(0,$i.A)(FileReader))){var U=new FileReader;U.onloadend=function(){var oe=U.result;oe=P?oe:oe.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=oe:location=oe,u=null},U.readAsDataURL(g)}else{var $=L.URL||L.webkitURL,te=$.createObjectURL(g);u?u.location=te:location.href=te,u=null,setTimeout(function(){$.revokeObjectURL(te)},4e4)}});function In(g){var d;g=g||"",this.ok=!1,"#"==g.charAt(0)&&(g=g.substr(1,6)),g={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[g=(g=g.replace(/ /g,"")).toLowerCase()]||g;for(var c=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(U){return[parseInt(U[1]),parseInt(U[2]),parseInt(U[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(U){return[parseInt(U[1],16),parseInt(U[2],16),parseInt(U[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(U){return[parseInt(U[1]+U[1],16),parseInt(U[2]+U[2],16),parseInt(U[3]+U[3],16)]}}],u=0;u<c.length;u++){var I=c[u].process,P=c[u].re.exec(g);P&&(d=I(P),this.r=d[0],this.g=d[1],this.b=d[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var U=this.r.toString(16),$=this.g.toString(16),te=this.b.toString(16);return 1==U.length&&(U="0"+U),1==$.length&&($="0"+$),1==te.length&&(te="0"+te),"#"+U+$+te}}function oi(g,d){var c=g[0],u=g[1],_=g[2],I=g[3];c=Cr(c,u,_,I,d[0],7,-680876936),I=Cr(I,c,u,_,d[1],12,-389564586),_=Cr(_,I,c,u,d[2],17,606105819),u=Cr(u,_,I,c,d[3],22,-1044525330),c=Cr(c,u,_,I,d[4],7,-176418897),I=Cr(I,c,u,_,d[5],12,1200080426),_=Cr(_,I,c,u,d[6],17,-1473231341),u=Cr(u,_,I,c,d[7],22,-45705983),c=Cr(c,u,_,I,d[8],7,1770035416),I=Cr(I,c,u,_,d[9],12,-1958414417),_=Cr(_,I,c,u,d[10],17,-42063),u=Cr(u,_,I,c,d[11],22,-1990404162),c=Cr(c,u,_,I,d[12],7,1804603682),I=Cr(I,c,u,_,d[13],12,-40341101),_=Cr(_,I,c,u,d[14],17,-1502002290),c=vo(c,u=Cr(u,_,I,c,d[15],22,1236535329),_,I,d[1],5,-165796510),I=vo(I,c,u,_,d[6],9,-1069501632),_=vo(_,I,c,u,d[11],14,643717713),u=vo(u,_,I,c,d[0],20,-373897302),c=vo(c,u,_,I,d[5],5,-701558691),I=vo(I,c,u,_,d[10],9,38016083),_=vo(_,I,c,u,d[15],14,-660478335),u=vo(u,_,I,c,d[4],20,-405537848),c=vo(c,u,_,I,d[9],5,568446438),I=vo(I,c,u,_,d[14],9,-1019803690),_=vo(_,I,c,u,d[3],14,-187363961),u=vo(u,_,I,c,d[8],20,1163531501),c=vo(c,u,_,I,d[13],5,-1444681467),I=vo(I,c,u,_,d[2],9,-51403784),_=vo(_,I,c,u,d[7],14,1735328473),c=Ss(c,u=vo(u,_,I,c,d[12],20,-1926607734),_,I,d[5],4,-378558),I=Ss(I,c,u,_,d[8],11,-2022574463),_=Ss(_,I,c,u,d[11],16,1839030562),u=Ss(u,_,I,c,d[14],23,-35309556),c=Ss(c,u,_,I,d[1],4,-1530992060),I=Ss(I,c,u,_,d[4],11,1272893353),_=Ss(_,I,c,u,d[7],16,-155497632),u=Ss(u,_,I,c,d[10],23,-1094730640),c=Ss(c,u,_,I,d[13],4,681279174),I=Ss(I,c,u,_,d[0],11,-358537222),_=Ss(_,I,c,u,d[3],16,-722521979),u=Ss(u,_,I,c,d[6],23,76029189),c=Ss(c,u,_,I,d[9],4,-640364487),I=Ss(I,c,u,_,d[12],11,-421815835),_=Ss(_,I,c,u,d[15],16,530742520),c=Vs(c,u=Ss(u,_,I,c,d[2],23,-995338651),_,I,d[0],6,-198630844),I=Vs(I,c,u,_,d[7],10,1126891415),_=Vs(_,I,c,u,d[14],15,-1416354905),u=Vs(u,_,I,c,d[5],21,-57434055),c=Vs(c,u,_,I,d[12],6,1700485571),I=Vs(I,c,u,_,d[3],10,-1894986606),_=Vs(_,I,c,u,d[10],15,-1051523),u=Vs(u,_,I,c,d[1],21,-2054922799),c=Vs(c,u,_,I,d[8],6,1873313359),I=Vs(I,c,u,_,d[15],10,-30611744),_=Vs(_,I,c,u,d[6],15,-1560198380),u=Vs(u,_,I,c,d[13],21,1309151649),c=Vs(c,u,_,I,d[4],6,-145523070),I=Vs(I,c,u,_,d[11],10,-1120210379),_=Vs(_,I,c,u,d[2],15,718787259),u=Vs(u,_,I,c,d[9],21,-343485551),g[0]=kc(c,g[0]),g[1]=kc(u,g[1]),g[2]=kc(_,g[2]),g[3]=kc(I,g[3])}function to(g,d,c,u,_,I){return d=kc(kc(d,g),kc(u,I)),kc(d<<_|d>>>32-_,c)}function Cr(g,d,c,u,_,I,P){return to(d&c|~d&u,g,d,_,I,P)}function vo(g,d,c,u,_,I,P){return to(d&u|c&~u,g,d,_,I,P)}function Ss(g,d,c,u,_,I,P){return to(d^c^u,g,d,_,I,P)}function Vs(g,d,c,u,_,I,P){return to(c^(d|~u),g,d,_,I,P)}function Ns(g){var d,c=g.length,u=[1732584193,-271733879,-1732584194,271733878];for(d=64;d<=g.length;d+=64)oi(u,fl(g.substring(d-64,d)));g=g.substring(d-64);var _=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<g.length;d++)_[d>>2]|=g.charCodeAt(d)<<(d%4<<3);if(_[d>>2]|=128<<(d%4<<3),d>55)for(oi(u,_),d=0;d<16;d++)_[d]=0;return _[14]=8*c,oi(u,_),u}function fl(g){var d,c=[];for(d=0;d<64;d+=4)c[d>>2]=g.charCodeAt(d)+(g.charCodeAt(d+1)<<8)+(g.charCodeAt(d+2)<<16)+(g.charCodeAt(d+3)<<24);return c}lt=L.atob.bind(L),yn=L.btoa.bind(L);var Wc="0123456789abcdef".split("");function uc(g){for(var d="",c=0;c<4;c++)d+=Wc[g>>8*c+4&15]+Wc[g>>8*c&15];return d}function Xu(g){return String.fromCharCode(255&g,(65280&g)>>8,(16711680&g)>>16,(4278190080&g)>>24)}function qc(g){return Ns(g).map(Xu).join("")}var la="5d41402abc4b2a76b9719d911017c592"!=function(g){for(var d=0;d<g.length;d++)g[d]=uc(g[d]);return g.join("")}(Ns("hello"));function kc(g,d){if(la){var c=(65535&g)+(65535&d);return(g>>16)+(d>>16)+(c>>16)<<16|65535&c}return g+d&4294967295}function _l(g,d){var c,u,_;if(g!==c){for(var P=(_=g,new Array(1+(256/g.length|0)+1).join(_)),U=[],$=0;$<256;$++)U[$]=$;var te=0;for($=0;$<256;$++){var oe=U[$];te=(te+oe+P.charCodeAt($))%256,U[$]=U[te],U[te]=oe}c=g,u=U}else U=u;var ve=d.length,Oe=0,he=0,ct="";for($=0;$<ve;$++)he=(he+(oe=U[Oe=(Oe+1)%256]))%256,U[Oe]=U[he],U[he]=oe,P=U[(U[Oe]+U[he])%256],ct+=String.fromCharCode(d.charCodeAt($)^P);return ct}var Da={print:4,modify:8,copy:16,"annot-forms":32};function du(g,d,c,u){this.v=1,this.r=2;var _=192;g.forEach(function(U){if(void 0!==Da.perm)throw new Error("Invalid permission: "+U);_+=Da[U]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var I=(d+this.padding).substr(0,32),P=(c+this.padding).substr(0,32);this.O=this.processOwnerPassword(I,P),this.P=-(1+(255^_)),this.encryptionKey=qc(I+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(u)).substr(0,5),this.U=_l(this.encryptionKey,this.padding)}function Cu(g){if(/[^\u0000-\u00ff]/.test(g))throw new Error("Invalid PDF Name Object: "+g+", Only accept ASCII characters.");for(var d="",c=g.length,u=0;u<c;u++){var _=g.charCodeAt(u);d+=_<33||35===_||37===_||40===_||41===_||47===_||60===_||62===_||91===_||93===_||123===_||125===_||_>126?"#"+("0"+_.toString(16)).slice(-2):g[u]}return d}function Iu(g){if("object"!==(0,$i.A)(g))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var d={};this.subscribe=function(c,u,_){if(_=_||!1,"string"!=typeof c||"function"!=typeof u||"boolean"!=typeof _)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");d.hasOwnProperty(c)||(d[c]={});var I=Math.random().toString(35);return d[c][I]=[u,!!_],I},this.unsubscribe=function(c){for(var u in d)if(d[u][c])return delete d[u][c],0===Object.keys(d[u]).length&&delete d[u],!0;return!1},this.publish=function(c){if(d.hasOwnProperty(c)){var u=Array.prototype.slice.call(arguments,1),_=[];for(var I in d[c]){var P=d[c][I];try{P[0].apply(g,u)}catch(U){L.console&&ie.error("jsPDF PubSub Error",U.message,U)}P[1]&&_.push(I)}_.length&&_.forEach(this.unsubscribe)}},this.getTopics=function(){return d}}function ql(g){if(!(this instanceof ql))return new ql(g);var d="opacity,stroke-opacity".split(",");for(var c in g)g.hasOwnProperty(c)&&d.indexOf(c)>=0&&(this[c]=g[c]);this.id="",this.objectNumber=-1}function bu(g,d){this.gState=g,this.matrix=d,this.id="",this.objectNumber=-1}function Pc(g,d,c,u,_){if(!(this instanceof Pc))return new Pc(g,d,c,u,_);this.type="axial"===g?2:3,this.coords=d,this.colors=c,bu.call(this,u,_)}function _d(g,d,c,u,_){if(!(this instanceof _d))return new _d(g,d,c,u,_);this.boundingBox=g,this.xStep=d,this.yStep=c,this.stream="",this.cloneIndex=0,bu.call(this,u,_)}function Vi(g){var d,c="string"==typeof arguments[0]?arguments[0]:"p",u=arguments[1],_=arguments[2],I=arguments[3],P=[],U=1,$=16,te="S",oe=null;"object"===(0,$i.A)(g=g||{})&&(c=g.orientation,u=g.unit||u,_=g.format||_,I=g.compress||g.compressPdf||I,null!==(oe=g.encryption||null)&&(oe.userPassword=oe.userPassword||"",oe.ownerPassword=oe.ownerPassword||"",oe.userPermissions=oe.userPermissions||[]),U="number"==typeof g.userUnit?Math.abs(g.userUnit):1,void 0!==g.precision&&(d=g.precision),void 0!==g.floatPrecision&&($=g.floatPrecision),te=g.defaultPathOperation||"S"),P=g.filters||(!0===I?["FlateEncode"]:P),u=u||"mm",c=(""+(c||"P")).toLowerCase();var ve=g.putOnlyUsedFonts||!1,Oe={},he={internal:{},__private__:{}};he.__private__.PubSub=Iu;var ct="1.3",at=he.__private__.getPdfVersion=function(){return ct};he.__private__.setPdfVersion=function(Y){ct=Y};var ht={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};he.__private__.getPageFormats=function(){return ht};var m=he.__private__.getPageFormat=function(Y){return ht[Y]};_=_||"a4";var p="compat";function b(){this.saveGraphicsState(),Ht(new Ir(Si,0,0,-Si,0,ad()*Si).toString()+" cm"),this.setFontSize(this.getFontSize()/Si),te="n",p="advanced"}function Q(){this.restoreGraphicsState(),te="S",p="compat"}var ee=he.__private__.combineFontStyleAndFontWeight=function(Y,ze){if("bold"==Y&&"normal"==ze||"bold"==Y&&400==ze||"normal"==Y&&"italic"==ze||"bold"==Y&&"italic"==ze)throw new Error("Invalid Combination of fontweight and fontstyle");return ze&&(Y=400==ze||"normal"===ze?"italic"===Y?"italic":"normal":700!=ze&&"bold"!==ze||"normal"!==Y?(700==ze?"bold":ze)+""+Y:"bold"),Y};he.advancedAPI=function(Y){var ze="compat"===p;return ze&&b.call(this),"function"!=typeof Y||(Y(this),ze&&Q.call(this)),this},he.compatAPI=function(Y){var ze="advanced"===p;return ze&&Q.call(this),"function"!=typeof Y||(Y(this),ze&&b.call(this)),this},he.isAdvancedAPI=function(){return"advanced"===p};var le,me=function(Y){if("advanced"!==p)throw new Error(Y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},We=he.roundToPrecision=he.__private__.roundToPrecision=function(Y,ze){var Ot=d||ze;if(isNaN(Y)||isNaN(Ot))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Y.toFixed(Ot).replace(/0+$/,"")};le=he.hpf=he.__private__.hpf="number"==typeof $?function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return We(Y,$)}:"smart"===$?function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return We(Y,Y>-1&&Y<1?16:5)}:function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return We(Y,16)};var it=he.f2=he.__private__.f2=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.f2");return We(Y,2)},Me=he.__private__.f3=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.f3");return We(Y,3)},Ue=he.scale=he.__private__.scale=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===p?Y*Si:"advanced"===p?Y:void 0},It=function(Y){return Ue(function(Y){return"compat"===p?ad()-Y:"advanced"===p?Y:void 0}(Y))};he.__private__.setPrecision=he.setPrecision=function(Y){"number"==typeof parseInt(Y,10)&&(d=parseInt(Y,10))};var F,v="00000000000000000000000000000000",C=he.__private__.getFileId=function(){return v},M=he.__private__.setFileId=function(Y){return v=void 0!==Y&&/^[a-fA-F0-9]{32}$/.test(Y)?Y.toUpperCase():v.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==oe&&(gu=new du(oe.userPermissions,oe.userPassword,oe.ownerPassword,v)),v};he.setFileId=function(Y){return M(Y),this},he.getFileId=function(){return C()};var ae=he.__private__.convertDateToPDFDate=function(Y){var ze=Y.getTimezoneOffset(),Ot=ze<0?"+":"-",un=Math.floor(Math.abs(ze/60)),Qn=Math.abs(ze%60),hr=[Ot,gt(un),"'",gt(Qn),"'"].join("");return["D:",Y.getFullYear(),gt(Y.getMonth()+1),gt(Y.getDate()),gt(Y.getHours()),gt(Y.getMinutes()),gt(Y.getSeconds()),hr].join("")},Se=he.__private__.convertPDFDateToDate=function(Y){var ze=parseInt(Y.substr(2,4),10),Ot=parseInt(Y.substr(6,2),10)-1,un=parseInt(Y.substr(8,2),10),Qn=parseInt(Y.substr(10,2),10),hr=parseInt(Y.substr(12,2),10),jr=parseInt(Y.substr(14,2),10);return new Date(ze,Ot,un,Qn,hr,jr,0)},yt=he.__private__.setCreationDate=function(Y){var ze;if(void 0===Y&&(Y=new Date),Y instanceof Date)ze=ae(Y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ze=Y}return F=ze},ye=he.__private__.getCreationDate=function(Y){var ze=F;return"jsDate"===Y&&(ze=Se(F)),ze};he.setCreationDate=function(Y){return yt(Y),this},he.getCreationDate=function(Y){return ye(Y)};var Ke,gt=he.__private__.padd2=function(Y){return("0"+parseInt(Y)).slice(-2)},Dt=he.__private__.padd2Hex=function(Y){return("00"+(Y=Y.toString())).substr(Y.length)},Lt=0,xn=[],Kn=[],qn=0,ti=[],zr=[],gi=!1,Ci=Kn;he.__private__.setCustomOutputDestination=function(Y){gi=!0,Ci=Y};var Ar=function(Y){gi||(Ci=Y)};he.__private__.resetCustomOutputDestination=function(){gi=!1,Ci=Kn};var Ht=he.__private__.out=function(Y){return Y=Y.toString(),qn+=Y.length+1,Ci.push(Y),Ci},jo=he.__private__.write=function(Y){return Ht(1===arguments.length?Y.toString():Array.prototype.join.call(arguments," "))},Ki=he.__private__.getArrayBuffer=function(Y){for(var ze=Y.length,Ot=new ArrayBuffer(ze),un=new Uint8Array(Ot);ze--;)un[ze]=Y.charCodeAt(ze);return Ot},Gr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];he.__private__.getStandardFonts=function(){return Gr};var li=g.fontSize||16;he.__private__.setFontSize=he.setFontSize=function(Y){return li="advanced"===p?Y/Si:Y,this};var Ii,vi=he.__private__.getFontSize=he.getFontSize=function(){return"compat"===p?li:li*Si},po=g.R2L||!1;he.__private__.setR2L=he.setR2L=function(Y){return po=Y,this},he.__private__.getR2L=he.getR2L=function(){return po};var Xo,ys=he.__private__.setZoomMode=function(Y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Y))Ii=Y;else if(isNaN(Y)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Y))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Y+'" is not recognized.');Ii=Y}else Ii=parseInt(Y,10)};he.__private__.getZoomMode=function(){return Ii};var Ts,ta=he.__private__.setPageMode=function(Y){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Y))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Y+'" is not recognized.');Xo=Y};he.__private__.getPageMode=function(){return Xo};var ja=he.__private__.setLayoutMode=function(Y){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Y))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Y+'" is not recognized.');Ts=Y};he.__private__.getLayoutMode=function(){return Ts},he.__private__.setDisplayMode=he.setDisplayMode=function(Y,ze,Ot){return ys(Y),ja(ze),ta(Ot),this};var Oo={title:"",subject:"",author:"",keywords:"",creator:""};he.__private__.getDocumentProperty=function(Y){if(-1===Object.keys(Oo).indexOf(Y))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Oo[Y]},he.__private__.getDocumentProperties=function(){return Oo},he.__private__.setDocumentProperties=he.setProperties=he.setDocumentProperties=function(Y){for(var ze in Oo)Oo.hasOwnProperty(ze)&&Y[ze]&&(Oo[ze]=Y[ze]);return this},he.__private__.setDocumentProperty=function(Y,ze){if(-1===Object.keys(Oo).indexOf(Y))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Oo[Y]=ze};var Hs,Si,R,B,O,N={},ce={},De=[],Ge={},Et={},ft={},ln={},fn=null,Sn=0,On=[],Lr=new Iu(he),Ur=g.hotfixes||[],ni={},Uo={},Pi=[],Ir=function Y(ze,Ot,un,Qn,hr,jr){if(!(this instanceof Y))return new Y(ze,Ot,un,Qn,hr,jr);isNaN(ze)&&(ze=1),isNaN(Ot)&&(Ot=0),isNaN(un)&&(un=0),isNaN(Qn)&&(Qn=1),isNaN(hr)&&(hr=0),isNaN(jr)&&(jr=0),this._matrix=[ze,Ot,un,Qn,hr,jr]};Object.defineProperty(Ir.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Y){this._matrix[0]=Y}}),Object.defineProperty(Ir.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Y){this._matrix[1]=Y}}),Object.defineProperty(Ir.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Y){this._matrix[2]=Y}}),Object.defineProperty(Ir.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Y){this._matrix[3]=Y}}),Object.defineProperty(Ir.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Y){this._matrix[4]=Y}}),Object.defineProperty(Ir.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Y){this._matrix[5]=Y}}),Object.defineProperty(Ir.prototype,"a",{get:function(){return this._matrix[0]},set:function(Y){this._matrix[0]=Y}}),Object.defineProperty(Ir.prototype,"b",{get:function(){return this._matrix[1]},set:function(Y){this._matrix[1]=Y}}),Object.defineProperty(Ir.prototype,"c",{get:function(){return this._matrix[2]},set:function(Y){this._matrix[2]=Y}}),Object.defineProperty(Ir.prototype,"d",{get:function(){return this._matrix[3]},set:function(Y){this._matrix[3]=Y}}),Object.defineProperty(Ir.prototype,"e",{get:function(){return this._matrix[4]},set:function(Y){this._matrix[4]=Y}}),Object.defineProperty(Ir.prototype,"f",{get:function(){return this._matrix[5]},set:function(Y){this._matrix[5]=Y}}),Object.defineProperty(Ir.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ir.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ir.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ir.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ir.prototype.join=function(Y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(le).join(Y)},Ir.prototype.multiply=function(Y){return new Ir(Y.sx*this.sx+Y.shy*this.shx,Y.sx*this.shy+Y.shy*this.sy,Y.shx*this.sx+Y.sy*this.shx,Y.shx*this.shy+Y.sy*this.sy,Y.tx*this.sx+Y.ty*this.shx+this.tx,Y.tx*this.shy+Y.ty*this.sy+this.ty)},Ir.prototype.decompose=function(){var Y=this.sx,ze=this.shy,Ot=this.shx,un=this.sy,Qn=this.tx,hr=this.ty,jr=Math.sqrt(Y*Y+ze*ze),Ni=(Y/=jr)*Ot+(ze/=jr)*un;Ot-=Y*Ni,un-=ze*Ni;var go=Math.sqrt(Ot*Ot+un*un);return Ni/=go,Y*(un/=go)<ze*(Ot/=go)&&(Y=-Y,ze=-ze,Ni=-Ni,jr=-jr),{scale:new Ir(jr,0,0,go,0,0),translate:new Ir(1,0,0,1,Qn,hr),rotate:new Ir(Y,ze,-ze,Y,0,0),skew:new Ir(1,0,Ni,1,0,0)}},Ir.prototype.toString=function(Y){return this.join(" ")},Ir.prototype.inversed=function(){var Y=this.sx,ze=this.shy,Ot=this.shx,un=this.sy,Qn=this.tx,hr=this.ty,jr=1/(Y*un-ze*Ot),Ni=un*jr,go=-ze*jr,fs=-Ot*jr,$s=Y*jr;return new Ir(Ni,go,fs,$s,-Ni*Qn-fs*hr,-go*Qn-$s*hr)},Ir.prototype.applyToPoint=function(Y){return new hf(Y.x*this.sx+Y.y*this.shx+this.tx,Y.x*this.shy+Y.y*this.sy+this.ty)},Ir.prototype.applyToRectangle=function(Y){var ze=this.applyToPoint(Y),Ot=this.applyToPoint(new hf(Y.x+Y.w,Y.y+Y.h));return new Mp(ze.x,ze.y,Ot.x-ze.x,Ot.y-ze.y)},Ir.prototype.clone=function(){return new Ir(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},he.Matrix=Ir;var ws=he.matrixMult=function(Y,ze){return ze.multiply(Y)},Ho=new Ir(1,0,0,1,0,0);he.unitMatrix=he.identityMatrix=Ho;var co=function(Y,ze){if(!Et[Y]){var Ot=(ze instanceof Pc?"Sh":"P")+(Object.keys(Ge).length+1).toString(10);ze.id=Ot,Et[Y]=Ot,Ge[Ot]=ze,Lr.publish("addPattern",ze)}};he.ShadingPattern=Pc,he.TilingPattern=_d,he.addShadingPattern=function(Y,ze){return me("addShadingPattern()"),co(Y,ze),this},he.beginTilingPattern=function(Y){me("beginTilingPattern()"),hg(Y.boundingBox[0],Y.boundingBox[1],Y.boundingBox[2]-Y.boundingBox[0],Y.boundingBox[3]-Y.boundingBox[1],Y.matrix)},he.endTilingPattern=function(Y,ze){me("endTilingPattern()"),ze.stream=zr[Ke].join("\n"),co(Y,ze),Lr.publish("endTilingPattern",ze),Pi.pop().restore()};var Y,Jr=he.__private__.newObject=function(){var Y=Eo();return zo(Y,!0),Y},Eo=he.__private__.newObjectDeferred=function(){return Lt++,xn[Lt]=function(){return qn},Lt},zo=function(Y,ze){return ze="boolean"==typeof ze&&ze,xn[Y]=qn,ze&&Ht(Y+" 0 obj"),Y},No=he.__private__.newAdditionalObject=function(){var Y={objId:Eo(),content:""};return ti.push(Y),Y},zs=Eo(),gl=Eo(),ll=he.__private__.decodeColorString=function(Y){var ze=Y.split(" ");if(2!==ze.length||"g"!==ze[1]&&"G"!==ze[1])5===ze.length&&("k"===ze[4]||"K"===ze[4])&&(ze=[(1-ze[0])*(1-ze[3]),(1-ze[1])*(1-ze[3]),(1-ze[2])*(1-ze[3]),"r"]);else{var Ot=parseFloat(ze[0]);ze=[Ot,Ot,Ot,"r"]}for(var un="#",Qn=0;Qn<3;Qn++)un+=("0"+Math.floor(255*parseFloat(ze[Qn])).toString(16)).slice(-2);return un},us=he.__private__.encodeColorString=function(Y){var ze;"string"==typeof Y&&(Y={ch1:Y});var Ot=Y.ch1,un=Y.ch2,Qn=Y.ch3,hr=Y.ch4,jr="draw"===Y.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof Ot&&"#"!==Ot.charAt(0)){var Ni=new In(Ot);if(Ni.ok)Ot=Ni.toHex();else if(!/^\d*\.?\d*$/.test(Ot))throw new Error('Invalid color "'+Ot+'" passed to jsPDF.encodeColorString.')}if("string"==typeof Ot&&/^#[0-9A-Fa-f]{3}$/.test(Ot)&&(Ot="#"+Ot[1]+Ot[1]+Ot[2]+Ot[2]+Ot[3]+Ot[3]),"string"==typeof Ot&&/^#[0-9A-Fa-f]{6}$/.test(Ot)){var go=parseInt(Ot.substr(1),16);Ot=go>>16&255,un=go>>8&255,Qn=255&go}if(void 0===un||void 0===hr&&Ot===un&&un===Qn)ze="string"==typeof Ot?Ot+" "+jr[0]:2===Y.precision?it(Ot/255)+" "+jr[0]:Me(Ot/255)+" "+jr[0];else if(void 0===hr||"object"===(0,$i.A)(hr)){if(hr&&!isNaN(hr.a)&&0===hr.a)return["1.","1.","1.",jr[1]].join(" ");ze="string"==typeof Ot?[Ot,un,Qn,jr[1]].join(" "):2===Y.precision?[it(Ot/255),it(un/255),it(Qn/255),jr[1]].join(" "):[Me(Ot/255),Me(un/255),Me(Qn/255),jr[1]].join(" ")}else ze="string"==typeof Ot?[Ot,un,Qn,hr,jr[2]].join(" "):2===Y.precision?[it(Ot),it(un),it(Qn),it(hr),jr[2]].join(" "):[Me(Ot),Me(un),Me(Qn),Me(hr),jr[2]].join(" ");return ze},ca=he.__private__.getFilters=function(){return P},xl=he.__private__.putStream=function(Y){var ze=(Y=Y||{}).data||"",Ot=Y.filters||ca(),un=Y.alreadyAppliedFilters||[],Qn=Y.addLength1||!1,hr=ze.length,jr=Y.objectId,Ni=function(tu){return tu};if(null!==oe&&void 0===jr)throw new Error("ObjectId must be passed to putStream for file encryption");null!==oe&&(Ni=gu.encryptor(jr,0));var go={};!0===Ot&&(Ot=["FlateEncode"]);var fs=Y.additionalKeyValues||[],$s=(go=void 0!==Vi.API.processDataByFilters?Vi.API.processDataByFilters(ze,Ot):{data:ze,reverseChain:[]}).reverseChain+(Array.isArray(un)?un.join(" "):un.toString());if(0!==go.data.length&&(fs.push({key:"Length",value:go.data.length}),!0===Qn&&fs.push({key:"Length1",value:hr})),0!=$s.length)if($s.split("/").length-1==1)fs.push({key:"Filter",value:$s});else{fs.push({key:"Filter",value:"["+$s+"]"});for(var Ta=0;Ta<fs.length;Ta+=1)if("DecodeParms"===fs[Ta].key){for(var el=[],hc=0;hc<go.reverseChain.split("/").length-1;hc+=1)el.push("null");el.push(fs[Ta].value),fs[Ta].value="["+el.join(" ")+"]"}}Ht("<<");for(var oc=0;oc<fs.length;oc++)Ht("/"+fs[oc].key+" "+fs[oc].value);Ht(">>"),0!==go.data.length&&(Ht("stream"),Ht(Ni(go.data)),Ht("endstream"))},cl=he.__private__.putPage=function(Y){var ze=Y.number,Ot=Y.data,un=Y.objId,Qn=Y.contentsObjId;zo(un,!0),Ht("<</Type /Page"),Ht("/Parent "+Y.rootDictionaryObjId+" 0 R"),Ht("/Resources "+Y.resourceDictionaryObjId+" 0 R"),Ht("/MediaBox ["+parseFloat(le(Y.mediaBox.bottomLeftX))+" "+parseFloat(le(Y.mediaBox.bottomLeftY))+" "+le(Y.mediaBox.topRightX)+" "+le(Y.mediaBox.topRightY)+"]"),null!==Y.cropBox&&Ht("/CropBox ["+le(Y.cropBox.bottomLeftX)+" "+le(Y.cropBox.bottomLeftY)+" "+le(Y.cropBox.topRightX)+" "+le(Y.cropBox.topRightY)+"]"),null!==Y.bleedBox&&Ht("/BleedBox ["+le(Y.bleedBox.bottomLeftX)+" "+le(Y.bleedBox.bottomLeftY)+" "+le(Y.bleedBox.topRightX)+" "+le(Y.bleedBox.topRightY)+"]"),null!==Y.trimBox&&Ht("/TrimBox ["+le(Y.trimBox.bottomLeftX)+" "+le(Y.trimBox.bottomLeftY)+" "+le(Y.trimBox.topRightX)+" "+le(Y.trimBox.topRightY)+"]"),null!==Y.artBox&&Ht("/ArtBox ["+le(Y.artBox.bottomLeftX)+" "+le(Y.artBox.bottomLeftY)+" "+le(Y.artBox.topRightX)+" "+le(Y.artBox.topRightY)+"]"),"number"==typeof Y.userUnit&&1!==Y.userUnit&&Ht("/UserUnit "+Y.userUnit),Lr.publish("putPage",{objId:un,pageContext:On[ze],pageNumber:ze,page:Ot}),Ht("/Contents "+Qn+" 0 R"),Ht(">>"),Ht("endobj");var hr=Ot.join("\n");return"advanced"===p&&(hr+="\nQ"),zo(Qn,!0),xl({data:hr,filters:ca(),objectId:Qn}),Ht("endobj"),un},zl=he.__private__.putPages=function(){var Y,ze,Ot=[];for(Y=1;Y<=Sn;Y++)On[Y].objId=Eo(),On[Y].contentsObjId=Eo();for(Y=1;Y<=Sn;Y++)Ot.push(cl({number:Y,data:zr[Y],objId:On[Y].objId,contentsObjId:On[Y].contentsObjId,mediaBox:On[Y].mediaBox,cropBox:On[Y].cropBox,bleedBox:On[Y].bleedBox,trimBox:On[Y].trimBox,artBox:On[Y].artBox,userUnit:On[Y].userUnit,rootDictionaryObjId:zs,resourceDictionaryObjId:gl}));zo(zs,!0),Ht("<</Type /Pages");var un="/Kids [";for(ze=0;ze<Sn;ze++)un+=Ot[ze]+" 0 R ";Ht(un+"]"),Ht("/Count "+Sn),Ht(">>"),Ht("endobj"),Lr.publish("postPutPages")},pu=function(Y){Lr.publish("putFont",{font:Y,out:Ht,newObject:Jr,putStream:xl}),!0!==Y.isAlreadyPutted&&(Y.objectNumber=Jr(),Ht("<<"),Ht("/Type /Font"),Ht("/BaseFont /"+Cu(Y.postScriptName)),Ht("/Subtype /Type1"),"string"==typeof Y.encoding&&Ht("/Encoding /"+Y.encoding),Ht("/FirstChar 32"),Ht("/LastChar 255"),Ht(">>"),Ht("endobj"))},Mu=function(Y){Y.objectNumber=Jr();var ze=[];ze.push({key:"Type",value:"/XObject"}),ze.push({key:"Subtype",value:"/Form"}),ze.push({key:"BBox",value:"["+[le(Y.x),le(Y.y),le(Y.x+Y.width),le(Y.y+Y.height)].join(" ")+"]"}),ze.push({key:"Matrix",value:"["+Y.matrix.toString()+"]"});var Ot=Y.pages[1].join("\n");xl({data:Ot,additionalKeyValues:ze,objectId:Y.objectNumber}),Ht("endobj")},oA=function(Y,ze){ze||(ze=21);var Ot=Jr(),un=function(Y,ze){var Ot,un=[],Qn=1/(ze-1);for(Ot=0;Ot<1;Ot+=Qn)un.push(Ot);un.push(1),0!=Y[0].offset&&Y.unshift({offset:0,color:Y[0].color}),1!=Y[Y.length-1].offset&&Y.push({offset:1,color:Y[Y.length-1].color});for(var Ni="",go=0,fs=0;fs<un.length;fs++){for(Ot=un[fs];Ot>Y[go+1].offset;)go++;var $s=Y[go].offset,Ta=(Ot-$s)/(Y[go+1].offset-$s),el=Y[go].color,hc=Y[go+1].color;Ni+=Dt(Math.round((1-Ta)*el[0]+Ta*hc[0]).toString(16))+Dt(Math.round((1-Ta)*el[1]+Ta*hc[1]).toString(16))+Dt(Math.round((1-Ta)*el[2]+Ta*hc[2]).toString(16))}return Ni.trim()}(Y.colors,ze),Qn=[];Qn.push({key:"FunctionType",value:"0"}),Qn.push({key:"Domain",value:"[0.0 1.0]"}),Qn.push({key:"Size",value:"["+ze+"]"}),Qn.push({key:"BitsPerSample",value:"8"}),Qn.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qn.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xl({data:un,additionalKeyValues:Qn,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ot}),Ht("endobj"),Y.objectNumber=Jr(),Ht("<< /ShadingType "+Y.type),Ht("/ColorSpace /DeviceRGB");var hr="/Coords ["+le(parseFloat(Y.coords[0]))+" "+le(parseFloat(Y.coords[1]))+" ";hr+=2===Y.type?le(parseFloat(Y.coords[2]))+" "+le(parseFloat(Y.coords[3])):le(parseFloat(Y.coords[2]))+" "+le(parseFloat(Y.coords[3]))+" "+le(parseFloat(Y.coords[4]))+" "+le(parseFloat(Y.coords[5])),Ht(hr+="]"),Y.matrix&&Ht("/Matrix ["+Y.matrix.toString()+"]"),Ht("/Function "+Ot+" 0 R"),Ht("/Extend [true true]"),Ht(">>"),Ht("endobj")},rd=function(Y,ze){var Ot=Eo(),un=Jr();ze.push({resourcesOid:Ot,objectOid:un}),Y.objectNumber=un;var Qn=[];Qn.push({key:"Type",value:"/Pattern"}),Qn.push({key:"PatternType",value:"1"}),Qn.push({key:"PaintType",value:"1"}),Qn.push({key:"TilingType",value:"1"}),Qn.push({key:"BBox",value:"["+Y.boundingBox.map(le).join(" ")+"]"}),Qn.push({key:"XStep",value:le(Y.xStep)}),Qn.push({key:"YStep",value:le(Y.yStep)}),Qn.push({key:"Resources",value:Ot+" 0 R"}),Y.matrix&&Qn.push({key:"Matrix",value:"["+Y.matrix.toString()+"]"}),xl({data:Y.stream,additionalKeyValues:Qn,objectId:Y.objectNumber}),Ht("endobj")},CA=function(Y){for(var ze in Y.objectNumber=Jr(),Ht("<<"),Y)switch(ze){case"opacity":Ht("/ca "+it(Y[ze]));break;case"stroke-opacity":Ht("/CA "+it(Y[ze]))}Ht(">>"),Ht("endobj")},Tc=function(Y){zo(Y.resourcesOid,!0),Ht("<<"),Ht("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var Y in Ht("/Font <<"),N)N.hasOwnProperty(Y)&&(!1===ve||!0===ve&&Oe.hasOwnProperty(Y))&&Ht("/"+Y+" "+N[Y].objectNumber+" 0 R");Ht(">>")}(),function(){if(Object.keys(Ge).length>0){for(var Y in Ht("/Shading <<"),Ge)Ge.hasOwnProperty(Y)&&Ge[Y]instanceof Pc&&Ge[Y].objectNumber>=0&&Ht("/"+Y+" "+Ge[Y].objectNumber+" 0 R");Lr.publish("putShadingPatternDict"),Ht(">>")}}(),function(Y){if(Object.keys(Ge).length>0){for(var ze in Ht("/Pattern <<"),Ge)Ge.hasOwnProperty(ze)&&Ge[ze]instanceof he.TilingPattern&&Ge[ze].objectNumber>=0&&Ge[ze].objectNumber<Y&&Ht("/"+ze+" "+Ge[ze].objectNumber+" 0 R");Lr.publish("putTilingPatternDict"),Ht(">>")}}(Y.objectOid),function(){if(Object.keys(ft).length>0){var Y;for(Y in Ht("/ExtGState <<"),ft)ft.hasOwnProperty(Y)&&ft[Y].objectNumber>=0&&Ht("/"+Y+" "+ft[Y].objectNumber+" 0 R");Lr.publish("putGStateDict"),Ht(">>")}}(),function(){for(var Y in Ht("/XObject <<"),ni)ni.hasOwnProperty(Y)&&ni[Y].objectNumber>=0&&Ht("/"+Y+" "+ni[Y].objectNumber+" 0 R");Lr.publish("putXobjectDict"),Ht(">>")}(),Ht(">>"),Ht("endobj")},Vg=function(Y){ce[Y.fontName]=ce[Y.fontName]||{},ce[Y.fontName][Y.fontStyle]=Y.id},Mf=function(Y,ze,Ot,un,Qn){var hr={id:"F"+(Object.keys(N).length+1).toString(10),postScriptName:Y,fontName:ze,fontStyle:Ot,encoding:un,isStandardFont:Qn||!1,metadata:{}};return Lr.publish("addFont",{font:hr,instance:this}),N[hr.id]=hr,Vg(hr),hr.id},Lu=he.__private__.pdfEscape=he.pdfEscape=function(Y,ze){return function(Y,ze){var Ot,un,Qn,hr,jr,Ni,go,fs,$s;if(Qn=(ze=ze||{}).sourceEncoding||"Unicode",jr=ze.outputEncoding,(ze.autoencode||jr)&&N[Hs].metadata&&N[Hs].metadata[Qn]&&N[Hs].metadata[Qn].encoding&&(hr=N[Hs].metadata[Qn].encoding,!jr&&N[Hs].encoding&&(jr=N[Hs].encoding),!jr&&hr.codePages&&(jr=hr.codePages[0]),"string"==typeof jr&&(jr=hr[jr]),jr)){for(go=!1,Ni=[],Ot=0,un=Y.length;Ot<un;Ot++)(fs=jr[Y.charCodeAt(Ot)])?Ni.push(String.fromCharCode(fs)):Ni.push(Y[Ot]),Ni[Ot].charCodeAt(0)>>8&&(go=!0);Y=Ni.join("")}for(Ot=Y.length;void 0===go&&0!==Ot;)Y.charCodeAt(Ot-1)>>8&&(go=!0),Ot--;if(!go)return Y;for(Ni=ze.noBOM?[]:[254,255],Ot=0,un=Y.length;Ot<un;Ot++){if(($s=(fs=Y.charCodeAt(Ot))>>8)>>8)throw new Error("Character at position "+Ot+" of string '"+Y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ni.push($s),Ni.push(fs-($s<<8))}return String.fromCharCode.apply(void 0,Ni)}(Y,ze).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Of=he.__private__.beginPage=function(Y){zr[++Sn]=[],On[Sn]={objId:0,contentsObjId:0,userUnit:Number(U),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Y[0]),topRightY:Number(Y[1])}},ag(Sn),Ar(zr[Ke])},op=function(Y,ze){var Ot,un,Qn;switch(c=ze||c,"string"==typeof Y&&(Ot=m(Y.toLowerCase()),Array.isArray(Ot)&&(un=Ot[0],Qn=Ot[1])),Array.isArray(Y)&&(un=Y[0]*Si,Qn=Y[1]*Si),isNaN(un)&&(un=_[0],Qn=_[1]),(un>14400||Qn>14400)&&(ie.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),un=Math.min(14400,un),Qn=Math.min(14400,Qn)),_=[un,Qn],c.substr(0,1)){case"l":Qn>un&&(_=[Qn,un]);break;case"p":un>Qn&&(_=[Qn,un])}Of(_),Ld(Cl),Ht(od),0!==sd&&Ht(sd+" J"),0!==Kg&&Ht(Kg+" j"),Lr.publish("addPage",{pageNumber:Sn})},Qg=function(Y){Y>0&&Y<=Sn&&(zr.splice(Y,1),On.splice(Y,1),Sn--,Ke>Sn&&(Ke=Sn),this.setPage(Ke))},ag=function(Y){Y>0&&Y<=Sn&&(Ke=Y)},jg=he.__private__.getNumberOfPages=he.getNumberOfPages=function(){return zr.length-1},sp=function(Y,ze,Ot){var un,Qn=void 0;return Ot=Ot||{},ze=void 0!==ze?ze:N[Hs].fontStyle,un=(Y=void 0!==Y?Y:N[Hs].fontName).toLowerCase(),void 0!==ce[un]&&void 0!==ce[un][ze]?Qn=ce[un][ze]:void 0!==ce[Y]&&void 0!==ce[Y][ze]?Qn=ce[Y][ze]:!1===Ot.disableWarning&&ie.warn("Unable to look up font label for font '"+Y+"', '"+ze+"'. Refer to getFontList() for available fonts."),Qn||Ot.noFallback||null==(Qn=ce.times[ze])&&(Qn=ce.times.normal),Qn},lg=he.__private__.putInfo=function(){var Y=Jr(),ze=function(un){return un};for(var Ot in null!==oe&&(ze=gu.encryptor(Y,0)),Ht("<<"),Ht("/Producer ("+Lu(ze("jsPDF "+Vi.version))+")"),Oo)Oo.hasOwnProperty(Ot)&&Oo[Ot]&&Ht("/"+Ot.substr(0,1).toUpperCase()+Ot.substr(1)+" ("+Lu(ze(Oo[Ot]))+")");Ht("/CreationDate ("+Lu(ze(F))+")"),Ht(">>"),Ht("endobj")},ah=he.__private__.putCatalog=function(Y){var ze=(Y=Y||{}).rootDictionaryObjId||zs;switch(Jr(),Ht("<<"),Ht("/Type /Catalog"),Ht("/Pages "+ze+" 0 R"),Ii||(Ii="fullwidth"),Ii){case"fullwidth":Ht("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ht("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ht("/OpenAction [3 0 R /Fit]");break;case"original":Ht("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ot=""+Ii;"%"===Ot.substr(Ot.length-1)&&(Ii=parseInt(Ii)/100),"number"==typeof Ii&&Ht("/OpenAction [3 0 R /XYZ null null "+it(Ii)+"]")}switch(Ts||(Ts="continuous"),Ts){case"continuous":Ht("/PageLayout /OneColumn");break;case"single":Ht("/PageLayout /SinglePage");break;case"two":case"twoleft":Ht("/PageLayout /TwoColumnLeft");break;case"tworight":Ht("/PageLayout /TwoColumnRight")}Xo&&Ht("/PageMode /"+Xo),Lr.publish("putCatalog"),Ht(">>"),Ht("endobj")},Hg=he.__private__.putTrailer=function(){Ht("trailer"),Ht("<<"),Ht("/Size "+(Lt+1)),Ht("/Root "+Lt+" 0 R"),Ht("/Info "+(Lt-1)+" 0 R"),null!==oe&&Ht("/Encrypt "+gu.oid+" 0 R"),Ht("/ID [ <"+v+"> <"+v+"> ]"),Ht(">>")},cg=he.__private__.putHeader=function(){Ht("%PDF-"+ct),Ht("%\xba\xdf\xac\xe0")},Dm=he.__private__.putXRef=function(){var Y="0000000000";Ht("xref"),Ht("0 "+(Lt+1)),Ht("0000000000 65535 f ");for(var ze=1;ze<=Lt;ze++)Ht("function"==typeof xn[ze]?(Y+xn[ze]()).slice(-10)+" 00000 n ":void 0!==xn[ze]?(Y+xn[ze]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},id=he.__private__.buildDocument=function(){Lt=0,qn=0,Kn=[],xn=[],ti=[],zs=Eo(),gl=Eo(),Ar(Kn),Lr.publish("buildDocument"),cg(),zl(),function(){Lr.publish("putAdditionalObjects");for(var Y=0;Y<ti.length;Y++){var ze=ti[Y];zo(ze.objId,!0),Ht(ze.content),Ht("endobj")}Lr.publish("postPutAdditionalObjects")}(),function(){var Y=[];(function(){for(var Y in N)N.hasOwnProperty(Y)&&(!1===ve||!0===ve&&Oe.hasOwnProperty(Y))&&pu(N[Y])})(),function(){var Y;for(Y in ft)ft.hasOwnProperty(Y)&&CA(ft[Y])}(),function(){for(var Y in ni)ni.hasOwnProperty(Y)&&Mu(ni[Y])}(),function(Y){var ze;for(ze in Ge)Ge.hasOwnProperty(ze)&&(Ge[ze]instanceof Pc?oA(Ge[ze]):Ge[ze]instanceof _d&&rd(Ge[ze],Y))}(Y),Lr.publish("putResources"),Y.forEach(Tc),Tc({resourcesOid:gl,objectOid:Number.MAX_SAFE_INTEGER}),Lr.publish("postPutResources")}(),null!==oe&&(gu.oid=Jr(),Ht("<<"),Ht("/Filter /Standard"),Ht("/V "+gu.v),Ht("/R "+gu.r),Ht("/U <"+gu.toHexString(gu.U)+">"),Ht("/O <"+gu.toHexString(gu.O)+">"),Ht("/P "+gu.P),Ht(">>"),Ht("endobj")),lg(),ah();var Y=qn;return Dm(),Hg(),Ht("startxref"),Ht(""+Y),Ht("%%EOF"),Ar(zr[Ke]),Kn.join("\n")},uf=he.__private__.getBlob=function(Y){return new Blob([Ki(Y)],{type:"application/pdf"})},Bh=he.output=he.__private__.output=((Y=function(Y,ze){switch("string"==typeof(ze=ze||{})?ze={filename:ze}:ze.filename=ze.filename||"generated.pdf",Y){case void 0:return id();case"save":he.save(ze.filename);break;case"arraybuffer":return Ki(id());case"blob":return uf(id());case"bloburi":case"bloburl":if(void 0!==L.URL&&"function"==typeof L.URL.createObjectURL)return L.URL&&L.URL.createObjectURL(uf(id()))||void 0;ie.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ot="",un=id();try{Ot=yn(un)}catch{Ot=yn(unescape(encodeURIComponent(un)))}return"data:application/pdf;filename="+ze.filename+";base64,"+Ot;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(L)){var Qn="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",hr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ze.pdfObjectUrl&&(Qn=ze.pdfObjectUrl,hr="");var jr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Qn+'"'+hr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ze)+");<\/script></body></html>",Ni=L.open();return null!==Ni&&Ni.document.write(jr),Ni}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(L)){var go='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ze.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ze.filename+'" width="500px" height="400px" /></body></html>',fs=L.open();if(null!==fs){fs.document.write(go);var $s=this;fs.document.documentElement.querySelector("#pdfViewer").onload=function(){fs.document.title=ze.filename,fs.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($s.output("bloburl"))}}return fs}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(L))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ta='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ze)+'"></iframe></body></html>',el=L.open();if(null!==el&&(el.document.write(Ta),el.document.title=ze.filename),el||typeof safari>"u")return el;break;case"datauri":case"dataurl":return L.document.location.href=this.output("datauristring",ze);default:return null}}).foo=function(){try{return Y.apply(this,arguments)}catch(un){var ze=un.stack||"";~ze.indexOf(" at ")&&(ze=ze.split(" at ")[1]);var Ot="Error in function "+ze.split("\n")[0].split("<")[0]+": "+un.message;if(!L.console)throw new Error(Ot);L.console.error(Ot,un),L.alert&&alert(Ot)}},Y.foo.bar=Y,Y.foo),Bs=function(Y){return!0===Array.isArray(Ur)&&Ur.indexOf(Y)>-1};switch(u){case"pt":Si=1;break;case"mm":Si=72/25.4;break;case"cm":Si=72/2.54;break;case"in":Si=72;break;case"px":Si=1==Bs("px_scaling")?.75:96/72;break;case"pc":case"em":Si=12;break;case"ex":Si=6;break;default:if("number"!=typeof u)throw new Error("Invalid unit: "+u);Si=u}var gu=null;yt(),M();var Lf=he.__private__.getPageInfo=he.getPageInfo=function(Y){if(isNaN(Y)||Y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:On[Y].objId,pageNumber:Y,pageContext:On[Y]}},As=he.__private__.getPageInfoByObjId=function(Y){if(isNaN(Y)||Y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ze in On)if(On[ze].objId===Y)break;return Lf(ze)},Zc=he.__private__.getCurrentPageInfo=he.getCurrentPageInfo=function(){return{objId:On[Ke].objId,pageNumber:Ke,pageContext:On[Ke]}};he.addPage=function(){return op.apply(this,arguments),this},he.setPage=function(){return ag.apply(this,arguments),Ar.call(this,zr[Ke]),this},he.insertPage=function(Y){return this.addPage(),this.movePage(Ke,Y),this},he.movePage=function(Y,ze){var Ot,un;if(Y>ze){Ot=zr[Y],un=On[Y];for(var Qn=Y;Qn>ze;Qn--)zr[Qn]=zr[Qn-1],On[Qn]=On[Qn-1];zr[ze]=Ot,On[ze]=un,this.setPage(ze)}else if(Y<ze){Ot=zr[Y],un=On[Y];for(var hr=Y;hr<ze;hr++)zr[hr]=zr[hr+1],On[hr]=On[hr+1];zr[ze]=Ot,On[ze]=un,this.setPage(ze)}return this},he.deletePage=function(){return Qg.apply(this,arguments),this},he.__private__.text=he.text=function(Y,ze,Ot,un,Qn){var hr,jr,Ni,go,fs,$s,Ta,el,hc,oc=(un=un||{}).scope||this;if("number"==typeof Y&&"number"==typeof ze&&("string"==typeof Ot||Array.isArray(Ot))){var tu=Ot;Ot=ze,ze=Y,Y=tu}if(arguments[3]instanceof Ir?(me("The transform parameter of text() with a Matrix value"),hc=Qn):(Ni=arguments[4],go=arguments[5],"object"===(0,$i.A)(Ta=arguments[3])&&null!==Ta||("string"==typeof Ni&&(go=Ni,Ni=null),"string"==typeof Ta&&(go=Ta,Ta=null),"number"==typeof Ta&&(Ni=Ta,Ta=null),un={flags:Ta,angle:Ni,align:go})),isNaN(ze)||isNaN(Ot)||null==Y)throw new Error("Invalid arguments passed to jsPDF.text");if(0===Y.length)return oc;var IA,Uc="",ld="number"==typeof un.lineHeightFactor?un.lineHeightFactor:Rp,Vd=oc.internal.scaleFactor;function fg(ma){return ma=ma.split("\t").join(Array(un.TabLen||9).join(" ")),Lu(ma,Ta)}function Ap(ma){for(var Ul,Bc=ma.concat(),Qc=[],yf=Bc.length;yf--;)"string"==typeof(Ul=Bc.shift())?Qc.push(Ul):Array.isArray(ma)&&(1===Ul.length||void 0===Ul[1]&&void 0===Ul[2])?Qc.push(Ul[0]):Qc.push([Ul[0],Ul[1],Ul[2]]);return Qc}function pf(ma,Ul){var Bc;if("string"==typeof ma)Bc=Ul(ma)[0];else if(Array.isArray(ma)){for(var Qc,yf,Hf=ma.concat(),pp=[],Vp=Hf.length;Vp--;)"string"==typeof(Qc=Hf.shift())?pp.push(Ul(Qc)[0]):Array.isArray(Qc)&&"string"==typeof Qc[0]&&(yf=Ul(Qc[0],Qc[1],Qc[2]),pp.push([yf[0],yf[1],yf[2]]));Bc=pp}return Bc}var bA=!1,jf=!0;if("string"==typeof Y)bA=!0;else if(Array.isArray(Y)){var qg=Y.concat();jr=[];for(var cd,Qd=qg.length;Qd--;)("string"!=typeof(cd=qg.shift())||Array.isArray(cd)&&"string"!=typeof cd[0])&&(jf=!1);bA=jf}if(!1===bA)throw new Error('Type of text must be string or Array. "'+Y+'" is not recognized.');"string"==typeof Y&&(Y=Y.match(/[\r?\n]/)?Y.split(/\r\n|\r|\n/g):[Y]);var Xg=li/oc.internal.scaleFactor,dp=Xg*(ld-1);switch(un.baseline){case"bottom":Ot-=dp;break;case"top":Ot+=Xg-dp;break;case"hanging":Ot+=Xg-2*dp;break;case"middle":Ot+=Xg/2-dp}if(($s=un.maxWidth||0)>0&&("string"==typeof Y?Y=oc.splitTextToSize(Y,$s):"[object Array]"===Object.prototype.toString.call(Y)&&(Y=Y.reduce(function(ma,Ul){return ma.concat(oc.splitTextToSize(Ul,$s))},[]))),Lr.publish("preProcessText",hr={text:Y,x:ze,y:Ot,options:un,mutex:{pdfEscape:Lu,activeFontKey:Hs,fonts:N,activeFontSize:li}}),Y=hr.text,Ni=(un=hr.options).angle,hc instanceof Ir||!Ni||"number"!=typeof Ni)Ni&&Ni instanceof Ir&&(hc=Ni);else{Ni*=Math.PI/180,0===un.rotationDirection&&(Ni=-Ni),"advanced"===p&&(Ni=-Ni);var pg=Math.cos(Ni),hp=Math.sin(Ni);hc=new Ir(pg,hp,-hp,pg,0,0)}"advanced"!==p||hc||(hc=Ho),void 0!==(fs=un.charSpace||up)&&(Uc+=le(Ue(fs))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(el=un.horizontalScale)&&(Uc+=le(100*el)+" Tz\n");var WA=-1,Lp=void 0!==un.renderingMode?un.renderingMode:un.stroke,ch=oc.internal.getCurrentPageInfo().pageContext;switch(Lp){case 0:case!1:case"fill":WA=0;break;case 1:case!0:case"stroke":WA=1;break;case 2:case"fillThenStroke":WA=2;break;case 3:case"invisible":WA=3;break;case 4:case"fillAndAddForClipping":WA=4;break;case 5:case"strokeAndAddPathForClipping":WA=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":WA=6;break;case 7:case"addToPathForClipping":WA=7}-1!==WA?Uc+=WA+" Tr\n":-1!==(void 0!==ch.usedRenderingMode?ch.usedRenderingMode:-1)&&(Uc+="0 Tr\n"),-1!==WA&&(ch.usedRenderingMode=WA),go=un.align||"left";var jd,gf=li*ld,Yg=oc.internal.pageSize.getWidth(),xm=N[Hs];fs=un.charSpace||up,$s=un.maxWidth||0,Ta=Object.assign({autoencode:!0,noBOM:!0},un.flags);var kh=[];if("[object Array]"===Object.prototype.toString.call(Y)){var mu;jr=Ap(Y),"left"!==go&&(jd=jr.map(function(ma){return oc.getStringUnitWidth(ma,{font:xm,charSpace:fs,fontSize:li,doKerning:!1})*li/Vd}));var ec,nu=0;if("right"===go){ze-=jd[0],Y=[],Qd=jr.length;for(var Hd=0;Hd<Qd;Hd++)0===Hd?(ec=Fh(ze),mu=ap(Ot)):(ec=Ue(nu-jd[Hd]),mu=-gf),Y.push([jr[Hd],ec,mu]),nu=jd[Hd]}else if("center"===go){ze-=jd[0]/2,Y=[],Qd=jr.length;for(var Ph=0;Ph<Qd;Ph++)0===Ph?(ec=Fh(ze),mu=ap(Ot)):(ec=Ue((nu-jd[Ph])/2),mu=-gf),Y.push([jr[Ph],ec,mu]),nu=jd[Ph]}else if("left"===go){Y=[],Qd=jr.length;for(var mf=0;mf<Qd;mf++)Y.push(jr[mf])}else{if("justify"!==go)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');Y=[],Qd=jr.length,$s=0!==$s?$s:Yg;for(var Nh=0;Nh<Qd;Nh++)mu=0===Nh?ap(Ot):-gf,ec=0===Nh?Fh(ze):0,kh.push(Nh<Qd-1?le(Ue(($s-jd[Nh])/(jr[Nh].split(" ").length-1))):0),Y.push([jr[Nh],ec,mu])}}!0===("boolean"==typeof un.R2L?un.R2L:po)&&(Y=pf(Y,function(ma,Ul,Bc){return[ma.split("").reverse().join(""),Ul,Bc]})),Lr.publish("postProcessText",hr={text:Y,x:ze,y:Ot,options:un,mutex:{pdfEscape:Lu,activeFontKey:Hs,fonts:N,activeFontSize:li}}),Y=hr.text,IA=hr.mutex.isHex||!1;var gg=N[Hs].encoding;"WinAnsiEncoding"!==gg&&"StandardEncoding"!==gg||(Y=pf(Y,function(ma,Ul,Bc){return[fg(ma),Ul,Bc]})),jr=Ap(Y),Y=[];for(var vf,_f,uh,Ah=Array.isArray(jr[0])?1:0,Vc="",fp=function(ma,Ul,Bc){var Qc="";return Bc instanceof Ir?(Bc="number"==typeof un.angle?ws(Bc,new Ir(1,0,0,1,ma,Ul)):ws(new Ir(1,0,0,1,ma,Ul),Bc),"advanced"===p&&(Bc=ws(new Ir(1,0,0,-1,0,0),Bc)),Qc=Bc.join(" ")+" Tm\n"):Qc=le(ma)+" "+le(Ul)+" Td\n",Qc},qA=0;qA<jr.length;qA++){switch(Vc="",Ah){case 1:uh=(IA?"<":"(")+jr[qA][0]+(IA?">":")"),vf=parseFloat(jr[qA][1]),_f=parseFloat(jr[qA][2]);break;case 0:uh=(IA?"<":"(")+jr[qA]+(IA?">":")"),vf=Fh(ze),_f=ap(Ot)}void 0!==kh&&void 0!==kh[qA]&&(Vc=kh[qA]+" Tw\n"),0===qA?Y.push(Vc+fp(vf,_f,hc)+uh):0===Ah?Y.push(Vc+uh):1===Ah&&Y.push(Vc+fp(vf,_f,hc)+uh)}Y=Y.join(0===Ah?" Tj\nT* ":" Tj\n"),Y+=" Tj\n";var dh="BT\n/";return dh+=Hs+" "+li+" Tf\n",dh+=le(li*ld)+" TL\n",dh+=cp+"\n",dh+=Uc,dh+=Y,Ht(dh+="ET"),Oe[Hs]=!0,oc};var Rl=he.__private__.clip=he.clip=function(Y){return Ht("evenodd"===Y?"W*":"W"),this};he.clipEvenOdd=function(){return Rl("evenodd")},he.__private__.discardPath=he.discardPath=function(){return Ht("n"),this};var eu=he.__private__.isValidStyle=function(Y){var ze=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Y)&&(ze=!0),ze};he.__private__.setDefaultPathOperation=he.setDefaultPathOperation=function(Y){return eu(Y)&&(te=Y),this};var Od=he.__private__.getStyle=he.getStyle=function(Y){var ze=te;switch(Y){case"D":case"S":ze="S";break;case"F":ze="f";break;case"FD":case"DF":ze="B";break;case"f":case"f*":case"B":case"B*":ze=Y}return ze},Uf=he.close=function(){return Ht("h"),this};he.stroke=function(){return Ht("S"),this},he.fill=function(Y){return Af("f",Y),this},he.fillEvenOdd=function(Y){return Af("f*",Y),this},he.fillStroke=function(Y){return Af("B",Y),this},he.fillStrokeEvenOdd=function(Y){return Af("B*",Y),this};var Af=function(Y,ze){"object"===(0,$i.A)(ze)?pv(ze,Y):Ht(Y)},Ag=function(Y){null===Y||"advanced"===p&&void 0===Y||(Y=Od(Y),Ht(Y))};function zg(Y,ze,Ot,un,Qn){var hr=new _d(ze||this.boundingBox,Ot||this.xStep,un||this.yStep,this.gState,Qn||this.matrix);hr.stream=this.stream;var jr=Y+"$$"+this.cloneIndex+++"$$";return co(jr,hr),hr}var pv=function(Y,ze){var Ot=Et[Y.key],un=Ge[Ot];if(un instanceof Pc)Ht("q"),Ht($g(ze)),un.gState&&he.setGState(un.gState),Ht(Y.matrix.toString()+" cm"),Ht("/"+Ot+" sh"),Ht("Q");else if(un instanceof _d){var Qn=new Ir(1,0,0,-1,0,ad());Y.matrix&&(Qn=Qn.multiply(Y.matrix||Ho),Ot=zg.call(un,Y.key,Y.boundingBox,Y.xStep,Y.yStep,Qn).id),Ht("q"),Ht("/Pattern cs"),Ht("/"+Ot+" scn"),un.gState&&he.setGState(un.gState),Ht(ze),Ht("Q")}},$g=function(Y){switch(Y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Gg=he.moveTo=function(Y,ze){return Ht(le(Ue(Y))+" "+le(It(ze))+" m"),this},Vf=he.lineTo=function(Y,ze){return Ht(le(Ue(Y))+" "+le(It(ze))+" l"),this},Sa=he.curveTo=function(Y,ze,Ot,un,Qn,hr){return Ht([le(Ue(Y)),le(It(ze)),le(Ue(Ot)),le(It(un)),le(Ue(Qn)),le(It(hr)),"c"].join(" ")),this};he.__private__.line=he.line=function(Y,ze,Ot,un,Qn){if(isNaN(Y)||isNaN(ze)||isNaN(Ot)||isNaN(un)||!eu(Qn))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===p?this.lines([[Ot-Y,un-ze]],Y,ze,[1,1],Qn||"S"):this.lines([[Ot-Y,un-ze]],Y,ze,[1,1]).stroke()},he.__private__.lines=he.lines=function(Y,ze,Ot,un,Qn,hr){var jr,Ni,go,fs,$s,tu,Uc,IA;if("number"==typeof Y&&(IA=Ot,Ot=ze,ze=Y,Y=IA),un=un||[1,1],hr=hr||!1,isNaN(ze)||isNaN(Ot)||!Array.isArray(Y)||!Array.isArray(un)||!eu(Qn)||"boolean"!=typeof hr)throw new Error("Invalid arguments passed to jsPDF.lines");for(Gg(ze,Ot),jr=un[0],Ni=un[1],fs=Y.length,tu=ze,Uc=Ot,go=0;go<fs;go++)2===($s=Y[go]).length?Vf(tu=$s[0]*jr+tu,Uc=$s[1]*Ni+Uc):Sa($s[0]*jr+tu,$s[1]*Ni+Uc,$s[2]*jr+tu,$s[3]*Ni+Uc,tu=$s[4]*jr+tu,Uc=$s[5]*Ni+Uc);return hr&&Uf(),Ag(Qn),this},he.path=function(Y){for(var ze=0;ze<Y.length;ze++){var Ot=Y[ze],un=Ot.c;switch(Ot.op){case"m":Gg(un[0],un[1]);break;case"l":Vf(un[0],un[1]);break;case"c":Sa.apply(this,un);break;case"h":Uf()}}return this},he.__private__.rect=he.rect=function(Y,ze,Ot,un,Qn){if(isNaN(Y)||isNaN(ze)||isNaN(Ot)||isNaN(un)||!eu(Qn))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===p&&(un=-un),Ht([le(Ue(Y)),le(It(ze)),le(Ue(Ot)),le(Ue(un)),"re"].join(" ")),Ag(Qn),this},he.__private__.triangle=he.triangle=function(Y,ze,Ot,un,Qn,hr,jr){if(isNaN(Y)||isNaN(ze)||isNaN(Ot)||isNaN(un)||isNaN(Qn)||isNaN(hr)||!eu(jr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ot-Y,un-ze],[Qn-Ot,hr-un],[Y-Qn,ze-hr]],Y,ze,[1,1],jr,!0),this},he.__private__.roundedRect=he.roundedRect=function(Y,ze,Ot,un,Qn,hr,jr){if(isNaN(Y)||isNaN(ze)||isNaN(Ot)||isNaN(un)||isNaN(Qn)||isNaN(hr)||!eu(jr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ni=4/3*(Math.SQRT2-1);return Qn=Math.min(Qn,.5*Ot),hr=Math.min(hr,.5*un),this.lines([[Ot-2*Qn,0],[Qn*Ni,0,Qn,hr-hr*Ni,Qn,hr],[0,un-2*hr],[0,hr*Ni,-Qn*Ni,hr,-Qn,hr],[2*Qn-Ot,0],[-Qn*Ni,0,-Qn,-hr*Ni,-Qn,-hr],[0,2*hr-un],[0,-hr*Ni,Qn*Ni,-hr,Qn,-hr]],Y+Qn,ze,[1,1],jr,!0),this},he.__private__.ellipse=he.ellipse=function(Y,ze,Ot,un,Qn){if(isNaN(Y)||isNaN(ze)||isNaN(Ot)||isNaN(un)||!eu(Qn))throw new Error("Invalid arguments passed to jsPDF.ellipse");var hr=4/3*(Math.SQRT2-1)*Ot,jr=4/3*(Math.SQRT2-1)*un;return Gg(Y+Ot,ze),Sa(Y+Ot,ze-jr,Y+hr,ze-un,Y,ze-un),Sa(Y-hr,ze-un,Y-Ot,ze-jr,Y-Ot,ze),Sa(Y-Ot,ze+jr,Y-hr,ze+un,Y,ze+un),Sa(Y+hr,ze+un,Y+Ot,ze+jr,Y+Ot,ze),Ag(Qn),this},he.__private__.circle=he.circle=function(Y,ze,Ot,un){if(isNaN(Y)||isNaN(ze)||isNaN(Ot)||!eu(un))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Y,ze,Ot,Ot,un)},he.setFont=function(Y,ze,Ot){return Ot&&(ze=ee(ze,Ot)),Hs=sp(Y,ze,{disableWarning:!1}),this};var gv=he.__private__.getFont=he.getFont=function(){return N[sp.apply(he,arguments)]};he.__private__.getFontList=he.getFontList=function(){var Y,ze,Ot={};for(Y in ce)if(ce.hasOwnProperty(Y))for(ze in Ot[Y]=[],ce[Y])ce[Y].hasOwnProperty(ze)&&Ot[Y].push(ze);return Ot},he.addFont=function(Y,ze,Ot,un,Qn){var hr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==hr.indexOf(arguments[3])?Qn=arguments[3]:arguments[3]&&-1==hr.indexOf(arguments[3])&&(Ot=ee(Ot,un)),Mf.call(this,Y,ze,Ot,Qn=Qn||"Identity-H")};var Rp,Cl=g.lineWidth||.200025,df=he.__private__.getLineWidth=he.getLineWidth=function(){return Cl},Ld=he.__private__.setLineWidth=he.setLineWidth=function(Y){return Cl=Y,Ht(le(Ue(Y))+" w"),this};he.__private__.setLineDash=Vi.API.setLineDash=Vi.API.setLineDashPattern=function(Y,ze){if(Y=Y||[],ze=ze||0,isNaN(ze)||!Array.isArray(Y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Y=Y.map(function(Ot){return le(Ue(Ot))}).join(" "),ze=le(Ue(ze)),Ht("["+Y+"] "+ze+" d"),this};var Qf=he.__private__.getLineHeight=he.getLineHeight=function(){return li*Rp};he.__private__.getLineHeight=he.getLineHeight=function(){return li*Rp};var kp=he.__private__.setLineHeightFactor=he.setLineHeightFactor=function(Y){return"number"==typeof(Y=Y||1.15)&&(Rp=Y),this},dg=he.__private__.getLineHeightFactor=he.getLineHeightFactor=function(){return Rp};kp(g.lineHeight);var Fh=he.__private__.getHorizontalCoordinate=function(Y){return Ue(Y)},ap=he.__private__.getVerticalCoordinate=function(Y){return"advanced"===p?Y:On[Ke].mediaBox.topRightY-On[Ke].mediaBox.bottomLeftY-Ue(Y)},mv=he.__private__.getHorizontalCoordinateString=he.getHorizontalCoordinateString=function(Y){return le(Fh(Y))},Pp=he.__private__.getVerticalCoordinateString=he.getVerticalCoordinateString=function(Y){return le(ap(Y))},od=g.strokeColor||"0 G";he.__private__.getStrokeColor=he.getDrawColor=function(){return ll(od)},he.__private__.setStrokeColor=he.setDrawColor=function(Y,ze,Ot,un){return od=us({ch1:Y,ch2:ze,ch3:Ot,ch4:un,pdfColorType:"draw",precision:2}),Ht(od),this};var lp=g.fillColor||"0 g";he.__private__.getFillColor=he.getFillColor=function(){return ll(lp)},he.__private__.setFillColor=he.setFillColor=function(Y,ze,Ot,un){return lp=us({ch1:Y,ch2:ze,ch3:Ot,ch4:un,pdfColorType:"fill",precision:2}),Ht(lp),this};var cp=g.textColor||"0 g",Np=he.__private__.getTextColor=he.getTextColor=function(){return ll(cp)};he.__private__.setTextColor=he.setTextColor=function(Y,ze,Ot,un){return cp=us({ch1:Y,ch2:ze,ch3:Ot,ch4:un,pdfColorType:"text",precision:3}),this};var up=g.charSpace,Ud=he.__private__.getCharSpace=he.getCharSpace=function(){return parseFloat(up||0)};he.__private__.setCharSpace=he.setCharSpace=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return up=Y,this};var sd=0;he.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},he.__private__.setLineCap=he.setLineCap=function(Y){var ze=he.CapJoinStyles[Y];if(void 0===ze)throw new Error("Line cap style of '"+Y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sd=ze,Ht(ze+" J"),this};var Kg=0;he.__private__.setLineJoin=he.setLineJoin=function(Y){var ze=he.CapJoinStyles[Y];if(void 0===ze)throw new Error("Line join style of '"+Y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kg=ze,Ht(ze+" j"),this},he.__private__.setLineMiterLimit=he.__private__.setMiterLimit=he.setLineMiterLimit=he.setMiterLimit=function(Y){if(Y=Y||0,isNaN(Y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ht(le(Ue(Y))+" M"),this},he.GState=ql,he.setGState=function(Y){(Y="string"==typeof Y?ft[ln[Y]]:Dh(null,Y)).equals(fn)||(Ht("/"+Y.id+" gs"),fn=Y)};var Dh=function(Y,ze){if(!Y||!ln[Y]){var Ot=!1;for(var un in ft)if(ft.hasOwnProperty(un)&&ft[un].equals(ze)){Ot=!0;break}if(Ot)ze=ft[un];else{var Qn="GS"+(Object.keys(ft).length+1).toString(10);ft[Qn]=ze,ze.id=Qn}return Y&&(ln[Y]=ze.id),Lr.publish("addGState",ze),ze}};he.addGState=function(Y,ze){return Dh(Y,ze),this},he.saveGraphicsState=function(){return Ht("q"),De.push({key:Hs,size:li,color:cp}),this},he.restoreGraphicsState=function(){Ht("Q");var Y=De.pop();return Hs=Y.key,li=Y.size,cp=Y.color,fn=null,this},he.setCurrentTransformationMatrix=function(Y){return Ht(Y.toString()+" cm"),this},he.comment=function(Y){return Ht("#"+Y),this};var hf=function(Y,ze){var Ot=Y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ot},set:function(hr){isNaN(hr)||(Ot=parseFloat(hr))}});var un=ze||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return un},set:function(hr){isNaN(hr)||(un=parseFloat(hr))}});var Qn="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Qn},set:function(hr){Qn=hr.toString()}}),this},Mp=function(Y,ze,Ot,un){hf.call(this,Y,ze),this.type="rect";var Qn=Ot||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Qn},set:function(jr){isNaN(jr)||(Qn=parseFloat(jr))}});var hr=un||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return hr},set:function(jr){isNaN(jr)||(hr=parseFloat(jr))}}),this},Op=function(){this.page=Sn,this.currentPage=Ke,this.pages=zr.slice(0),this.pagesContext=On.slice(0),this.x=R,this.y=B,this.matrix=O,this.width=Rh(Ke),this.height=ad(Ke),this.outputDestination=Ci,this.id="",this.objectNumber=-1};Op.prototype.restore=function(){Sn=this.page,On=this.pagesContext,zr=this.pages,R=this.x,B=this.y,O=this.matrix,lh(Ke=this.currentPage,this.width),ff(Ke,this.height),Ci=this.outputDestination};var hg=function(Y,ze,Ot,un,Qn){Pi.push(new Op),Sn=Ke=0,zr=[],R=Y,B=ze,O=Qn,Of([Ot,un])};for(var xh in he.beginFormObject=function(Y,ze,Ot,un,Qn){return hg(Y,ze,Ot,un,Qn),this},he.endFormObject=function(Y){return function(Y){if(Uo[Y])Pi.pop().restore();else{var ze=new Op,Ot="Xo"+(Object.keys(ni).length+1).toString(10);ze.id=Ot,Uo[Y]=Ot,ni[Ot]=ze,Lr.publish("addFormObject",ze),Pi.pop().restore()}}(Y),this},he.doFormObject=function(Y,ze){var Ot=ni[Uo[Y]];return Ht("q"),Ht(ze.toString()+" cm"),Ht("/"+Ot.id+" Do"),Ht("Q"),this},he.getFormObject=function(Y){var ze=ni[Uo[Y]];return{x:ze.x,y:ze.y,width:ze.width,height:ze.height,matrix:ze.matrix}},he.save=function(Y,ze){return Y=Y||"generated.pdf",(ze=ze||{}).returnPromise=ze.returnPromise||!1,!1===ze.returnPromise?(Zn(uf(id()),Y),"function"==typeof Zn.unload&&L.setTimeout&&setTimeout(Zn.unload,911),this):new Promise(function(Ot,un){try{var Qn=Zn(uf(id()),Y);"function"==typeof Zn.unload&&L.setTimeout&&setTimeout(Zn.unload,911),Ot(Qn)}catch(hr){un(hr.message)}})},Vi.API)Vi.API.hasOwnProperty(xh)&&("events"===xh&&Vi.API.events.length?function(Y,ze){var un,Qn;for(Qn=ze.length-1;-1!==Qn;Qn--)Y.subscribe.apply(Y,[ze[Qn][0]].concat("function"==typeof(un=ze[Qn][1])?[un]:un))}(Lr,Vi.API.events):he[xh]=Vi.API[xh]);var Rh=he.getPageWidth=function(Y){return(On[Y=Y||Ke].mediaBox.topRightX-On[Y].mediaBox.bottomLeftX)/Si},lh=he.setPageWidth=function(Y,ze){On[Y].mediaBox.topRightX=ze*Si+On[Y].mediaBox.bottomLeftX},ad=he.getPageHeight=function(Y){return(On[Y=Y||Ke].mediaBox.topRightY-On[Y].mediaBox.bottomLeftY)/Si},ff=he.setPageHeight=function(Y,ze){On[Y].mediaBox.topRightY=ze*Si+On[Y].mediaBox.bottomLeftY};return he.internal={pdfEscape:Lu,getStyle:Od,getFont:gv,getFontSize:vi,getCharSpace:Ud,getTextColor:Np,getLineHeight:Qf,getLineHeightFactor:dg,getLineWidth:df,write:jo,getHorizontalCoordinate:Fh,getVerticalCoordinate:ap,getCoordinateString:mv,getVerticalCoordinateString:Pp,collections:{},newObject:Jr,newAdditionalObject:No,newObjectDeferred:Eo,newObjectDeferredBegin:zo,getFilters:ca,putStream:xl,events:Lr,scaleFactor:Si,pageSize:{getWidth:function(){return Rh(Ke)},setWidth:function(Y){lh(Ke,Y)},getHeight:function(){return ad(Ke)},setHeight:function(Y){ff(Ke,Y)}},encryptionOptions:oe,encryption:gu,getEncryptor:function(Y){return null!==oe?gu.encryptor(Y,0):function(ze){return ze}},output:Bh,getNumberOfPages:jg,pages:zr,out:Ht,f2:it,f3:Me,getPageInfo:Lf,getPageInfoByObjId:As,getCurrentPageInfo:Zc,getPDFVersion:at,Point:hf,Rectangle:Mp,Matrix:Ir,hasHotfix:Bs},Object.defineProperty(he.internal.pageSize,"width",{get:function(){return Rh(Ke)},set:function(Y){lh(Ke,Y)},enumerable:!0,configurable:!0}),Object.defineProperty(he.internal.pageSize,"height",{get:function(){return ad(Ke)},set:function(Y){ff(Ke,Y)},enumerable:!0,configurable:!0}),function(Y){for(var ze=0,Ot=Gr.length;ze<Ot;ze++){var un=Mf.call(this,Y[ze][0],Y[ze][1],Y[ze][2],Gr[ze][3],!0);!1===ve&&(Oe[un]=!0);var Qn=Y[ze][0].split("-");Vg({id:un,fontName:Qn[0],fontStyle:Qn[1]||""})}Lr.publish("addFonts",{fonts:N,dictionary:ce})}.call(he,Gr),Hs="F1",op(_,c),Lr.publish("initialized"),he}du.prototype.lsbFirstWord=function(g){return String.fromCharCode(255&g,g>>8&255,g>>16&255,g>>24&255)},du.prototype.toHexString=function(g){return g.split("").map(function(d){return("0"+(255&d.charCodeAt(0)).toString(16)).slice(-2)}).join("")},du.prototype.hexToBytes=function(g){for(var d=[],c=0;c<g.length;c+=2)d.push(String.fromCharCode(parseInt(g.substr(c,2),16)));return d.join("")},du.prototype.processOwnerPassword=function(g,d){return _l(qc(d).substr(0,5),g)},du.prototype.encryptor=function(g,d){var c=qc(this.encryptionKey+String.fromCharCode(255&g,g>>8&255,g>>16&255,255&d,d>>8&255)).substr(0,10);return function(u){return _l(c,u)}},ql.prototype.equals=function(g){var d,c="id,objectNumber,equals";if(!g||(0,$i.A)(g)!==(0,$i.A)(this))return!1;var u=0;for(d in this)if(!(c.indexOf(d)>=0)){if(this.hasOwnProperty(d)&&!g.hasOwnProperty(d)||this[d]!==g[d])return!1;u++}for(d in g)g.hasOwnProperty(d)&&c.indexOf(d)<0&&u--;return 0===u},Vi.API={events:[]},Vi.version="2.5.1";var hs=Vi.API,Su=1,Ec=function(g){return g.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yu=function(g){return g.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bo=function(g){return g.toFixed(2)},Qs=function(g){return g.toFixed(5)};hs.__acroform__={};var yl=function(g,d){g.prototype=Object.create(d.prototype),g.prototype.constructor=g},Tu=function(g){return g*Su},pa=function(g){var d=new Ws,c=Ei.internal.getHeight(g)||0,u=Ei.internal.getWidth(g)||0;return d.BBox=[0,0,Number(bo(u)),Number(bo(c))],d},So=hs.__acroform__.setBit=function(g,d){if(g=g||0,d=d||0,isNaN(g)||isNaN(d))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return g|1<<d},Bu=hs.__acroform__.clearBit=function(g,d){if(g=g||0,d=d||0,isNaN(g)||isNaN(d))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return g&~(1<<d)},Xc=hs.__acroform__.getBit=function(g,d){if(isNaN(g)||isNaN(d))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return g&1<<d?1:0},Ja=hs.__acroform__.getBitForPdf=function(g,d){if(isNaN(g)||isNaN(d))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Xc(g,d-1)},os=hs.__acroform__.setBitForPdf=function(g,d){if(isNaN(g)||isNaN(d))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return So(g,d-1)},Qa=hs.__acroform__.clearBitForPdf=function(g,d){if(isNaN(g)||isNaN(d))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Bu(g,d-1)},hA=hs.__acroform__.calculateCoordinates=function(g,d){var c=d.internal.getHorizontalCoordinate,u=d.internal.getVerticalCoordinate,_=g[0],I=g[1],P=g[2],U=g[3],$={};return $.lowerLeft_X=c(_)||0,$.lowerLeft_Y=u(I+U)||0,$.upperRight_X=c(_+P)||0,$.upperRight_Y=u(I)||0,[Number(bo($.lowerLeft_X)),Number(bo($.lowerLeft_Y)),Number(bo($.upperRight_X)),Number(bo($.upperRight_Y))]},Ju=function(g){if(g.appearanceStreamContent)return g.appearanceStreamContent;if(g.V||g.DV){var d=[],u=Zu(g,g._V||g.DV),_=g.scope.internal.getFont(g.fontName,g.fontStyle).id;d.push("/Tx BMC"),d.push("q"),d.push("BT"),d.push(g.scope.__private__.encodeColorString(g.color)),d.push("/"+_+" "+bo(u.fontSize)+" Tf"),d.push("1 0 0 1 0 0 Tm"),d.push(u.text),d.push("ET"),d.push("Q"),d.push("EMC");var I=pa(g);return I.scope=g.scope,I.stream=d.join("\n"),I}},Zu=function(g,d){var c=0===g.fontSize?g.maxFontSize:g.fontSize,u={text:"",fontSize:""},_=(d=")"==(d="("==d.substr(0,1)?d.substr(1):d).substr(d.length-1)?d.substr(0,d.length-1):d).split(" ");_=_.map(g.multiline?function(Me){return Me.split("\n")}:function(Me){return[Me]});var I=c,P=Ei.internal.getHeight(g)||0;P=P<0?-P:P;var Me,U=Ei.internal.getWidth(g)||0;U=U<0?-U:U,I++;e:for(;I>0;){d="",I--;var te,oe,ve=yd("3",g,I).height,Oe=g.multiline?P-I:(P-ve)/2,he=Oe+=2,ct=0,at=0,ht=0;if(I<=0){d="(...) Tj\n",d+="% Width of Text: "+yd(d,g,I=12).width+", FieldWidth:"+U+"\n";break}for(var m="",A=0,p=0;p<_.length;p++)if(_.hasOwnProperty(p)){var b=!1;if(1!==_[p].length&&ht!==_[p].length-1){if((ve+2)*(A+2)+2>P)continue e;m+=_[p][ht],b=!0,at=p,p--}else{m=" "==(m+=_[p][ht]+" ").substr(m.length-1)?m.substr(0,m.length-1):m;var Q=parseInt(p),ee=(Me=Q)+1<_.length&&yd(m+" "+_[Me+1][0],g,I).width<=U-4,le=p>=_.length-1;if(ee&&!le){m+=" ",ht=0;continue}if(ee||le){if(le)at=Q;else if(g.multiline&&(ve+2)*(A+2)+2>P)continue e}else{if(!g.multiline||(ve+2)*(A+2)+2>P)continue e;at=Q}}for(var me="",We=ct;We<=at;We++){var it=_[We];if(g.multiline){if(We===at){me+=it[ht]+" ",ht=(ht+1)%it.length;continue}if(We===ct){me+=it[it.length-1]+" ";continue}}me+=it[0]+" "}switch(me=" "==me.substr(me.length-1)?me.substr(0,me.length-1):me,oe=yd(me,g,I).width,g.textAlign){case"right":te=U-oe-2;break;case"center":te=(U-oe)/2;break;default:te=2}d+=bo(te)+" "+bo(he)+" Td\n",d+="("+Ec(me)+") Tj\n",d+=-bo(te)+" 0 Td\n",he=-(I+2),oe=0,ct=b?at:at+1,A++,m=""}break}return u.text=d,u.fontSize=I,u},yd=function(g,d,c){var u=d.scope.internal.getFont(d.fontName,d.fontStyle),_=d.scope.getStringUnitWidth(g,{font:u,fontSize:parseFloat(c),charSpace:0})*parseFloat(c);return{height:d.scope.getStringUnitWidth("3",{font:u,fontSize:parseFloat(c),charSpace:0})*parseFloat(c)*1.5,width:_}},qd={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Xd=function(g,d){var c={type:"reference",object:g};void 0===d.internal.getPageInfo(g.page).pageContext.annotations.find(function(u){return u.type===c.type&&u.object===c.object})&&d.internal.getPageInfo(g.page).pageContext.annotations.push(c)},cs=hs.__acroform__.arrayToPdfArray=function(g,d,c){var u=function(P){return P};if(Array.isArray(g)){for(var _="[",I=0;I<g.length;I++)switch(0!==I&&(_+=" "),(0,$i.A)(g[I])){case"boolean":case"number":case"object":_+=g[I].toString();break;case"string":"/"!==g[I].substr(0,1)?(void 0!==d&&c&&(u=c.internal.getEncryptor(d)),_+="("+Ec(u(g[I].toString()))+")"):_+=g[I].toString()}return _+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},LA=function(g,d,c){var u=function(_){return _};return void 0!==d&&c&&(u=c.internal.getEncryptor(d)),(g=g||"").toString(),"("+Ec(u(g))+")"},Xl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(g){this._objId=g}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xl.prototype.toString=function(){return this.objId+" 0 R"},Xl.prototype.putStream=function(){var g=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:g,objectId:this.objId}),this.scope.internal.out("endobj")},Xl.prototype.getKeyValueListForStream=function(){var g=[],d=Object.getOwnPropertyNames(this).filter(function(I){return"content"!=I&&"appearanceStreamContent"!=I&&"scope"!=I&&"objId"!=I&&"_"!=I.substring(0,1)});for(var c in d)if(!1===Object.getOwnPropertyDescriptor(this,d[c]).configurable){var u=d[c],_=this[u];_&&(Array.isArray(_)?g.push({key:u,value:cs(_,this.objId,this.scope)}):_ instanceof Xl?(_.scope=this.scope,g.push({key:u,value:_.objId+" 0 R"})):"function"!=typeof _&&g.push({key:u,value:_}))}return g};var Ws=function(){Xl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var g,d=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return d},set:function(c){d=c}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(c){g=c.trim()},get:function(){return g||null}})};yl(Ws,Xl);var Ed=function(){Xl.call(this);var g,d=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return d.length>0?d:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return d}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(g){var c=function(u){return u};return this.scope&&(c=this.scope.internal.getEncryptor(this.objId)),"("+Ec(c(g))+")"}},set:function(c){g=c}})};yl(Ed,Xl);var Ol=function g(){Xl.call(this);var d=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return d},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');d=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ja(d,3)},set:function(m){this.F=m?os(d,3):Qa(d,3)}});var c=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return c},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');c=m}});var u=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==u.length)return u},set:function(m){u=void 0!==m?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!u||isNaN(u[0])?0:u[0]},set:function(m){u[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!u||isNaN(u[1])?0:u[1]},set:function(m){u[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!u||isNaN(u[2])?0:u[2]},set:function(m){u[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!u||isNaN(u[3])?0:u[3]},set:function(m){u[3]=m}});var _="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return _},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":_=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var I=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!I||I.length<1){if(this instanceof Mc)return;I="FieldObject"+g.FieldNum++}var m=function(A){return A};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+Ec(m(I))+")"},set:function(m){I=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return I},set:function(m){I=m}});var P="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return P},set:function(m){P=m}});var U="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return U},set:function(m){U=m}});var $=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return $},set:function(m){$=m}});var te=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===te?50/Su:te},set:function(m){te=m}});var oe="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return oe},set:function(m){oe=m}});var ve="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!ve||this instanceof Mc||this instanceof Fl))return LA(ve,this.objId,this.scope)},set:function(m){m=m.toString(),ve=m}});var Oe=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Oe)return this instanceof Hl?Oe:LA(Oe,this.objId,this.scope)},set:function(m){m=m.toString(),Oe=this instanceof Hl?m:"("===m.substr(0,1)?Yu(m.substr(1,m.length-2)):Yu(m)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hl?Yu(Oe.substr(1,Oe.length-1)):Oe},set:function(m){m=m.toString(),Oe=this instanceof Hl?"/"+m:m}});var he=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(he)return he},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(he)return this instanceof Hl?he:LA(he,this.objId,this.scope)},set:function(m){m=m.toString(),he=this instanceof Hl?m:"("===m.substr(0,1)?Yu(m.substr(1,m.length-2)):Yu(m)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hl?Yu(he.substr(1,he.length-1)):he},set:function(m){m=m.toString(),he=this instanceof Hl?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ct,at=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return at},set:function(m){at=m=!!m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(ct)return ct},set:function(m){ct=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,1)},set:function(m){this.Ff=m?os(this.Ff,1):Qa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,2)},set:function(m){this.Ff=m?os(this.Ff,2):Qa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,3)},set:function(m){this.Ff=m?os(this.Ff,3):Qa(this.Ff,3)}});var ht=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==ht)return ht},set:function(m){if(-1===[0,1,2].indexOf(m))throw new Error('Invalid value "'+m+'" for attribute Q supplied.');ht=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(ht){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:ht=2;break;case"center":case 1:ht=1;break;default:ht=0}}})};yl(Ol,Xl);var Ca=function(){Ol.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var g=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return g},set:function(c){g=c}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return g},set:function(c){g=c}});var d=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return cs(d,this.objId,this.scope)},set:function(c){var u,_;_=[],"string"==typeof(u=c)&&(_=function(I,P,U){U||(U=1);for(var $,te=[];$=P.exec(I);)te.push($[U]);return te}(u,/\((.*?)\)/g)),d=_}}),this.getOptions=function(){return d},this.setOptions=function(c){d=c,this.sort&&d.sort()},this.addOption=function(c){c=(c=c||"").toString(),d.push(c),this.sort&&d.sort()},this.removeOption=function(c,u){for(u=u||!1,c=(c=c||"").toString();-1!==d.indexOf(c)&&(d.splice(d.indexOf(c),1),!1!==u););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,18)},set:function(c){this.Ff=c?os(this.Ff,18):Qa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,19)},set:function(c){!0===this.combo&&(this.Ff=c?os(this.Ff,19):Qa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,20)},set:function(c){c?(this.Ff=os(this.Ff,20),d.sort()):this.Ff=Qa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,22)},set:function(c){this.Ff=c?os(this.Ff,22):Qa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,23)},set:function(c){this.Ff=c?os(this.Ff,23):Qa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,27)},set:function(c){this.Ff=c?os(this.Ff,27):Qa(this.Ff,27)}}),this.hasAppearanceStream=!1};yl(Ca,Ol);var rc=function(){Ca.call(this),this.fontName="helvetica",this.combo=!1};yl(rc,Ca);var Nc=function(){rc.call(this),this.combo=!0};yl(Nc,rc);var Cd=function(){Nc.call(this),this.edit=!0};yl(Cd,Nc);var Hl=function(){Ol.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,15)},set:function(c){this.Ff=c?os(this.Ff,15):Qa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,16)},set:function(c){this.Ff=c?os(this.Ff,16):Qa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,17)},set:function(c){this.Ff=c?os(this.Ff,17):Qa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,26)},set:function(c){this.Ff=c?os(this.Ff,26):Qa(this.Ff,26)}});var g,d={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var c=function(I){return I};if(this.scope&&(c=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(d).length){var u,_=[];for(u in _.push("<<"),d)_.push("/"+u+" ("+Ec(c(d[u]))+")");return _.push(">>"),_.join("\n")}},set:function(c){"object"===(0,$i.A)(c)&&(d=c)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return d.CA||""},set:function(c){"string"==typeof c&&(d.CA=c)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return g},set:function(c){g=c}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return g.substr(1,g.length-1)},set:function(c){g="/"+c}})};yl(Hl,Ol);var Id=function(){Hl.call(this),this.pushButton=!0};yl(Id,Hl);var wl=function(){Hl.call(this),this.radio=!0,this.pushButton=!1;var g=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return g},set:function(d){g=void 0!==d?d:[]}})};yl(wl,Hl);var Mc=function(){var g,d;Ol.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return g},set:function(_){g=_}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return d},set:function(_){d=_}});var c,u={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var _=function(U){return U};this.scope&&(_=this.scope.internal.getEncryptor(this.objId));var I,P=[];for(I in P.push("<<"),u)P.push("/"+I+" ("+Ec(_(u[I]))+")");return P.push(">>"),P.join("\n")},set:function(_){"object"===(0,$i.A)(_)&&(u=_)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return u.CA||""},set:function(_){"string"==typeof _&&(u.CA=_)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return c},set:function(_){c=_}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return c.substr(1,c.length-1)},set:function(_){c="/"+_}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ei.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};yl(Mc,Ol),wl.prototype.setAppearance=function(g){if(!("createAppearanceStream"in g)||!("getCA"in g))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var d in this.Kids)if(this.Kids.hasOwnProperty(d)){var c=this.Kids[d];c.appearanceStreamContent=g.createAppearanceStream(c.optionName),c.caption=g.getCA()}},wl.prototype.createOption=function(g){var d=new Mc;return d.Parent=this,d.optionName=g,this.Kids.push(d),Bf.call(this.scope,d),d};var ZA=function(){Hl.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ei.CheckBox.createAppearanceStream()};yl(ZA,Hl);var Fl=function(){Ol.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,13)},set:function(d){this.Ff=d?os(this.Ff,13):Qa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,21)},set:function(d){this.Ff=d?os(this.Ff,21):Qa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,23)},set:function(d){this.Ff=d?os(this.Ff,23):Qa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,24)},set:function(d){this.Ff=d?os(this.Ff,24):Qa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,25)},set:function(d){this.Ff=d?os(this.Ff,25):Qa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,26)},set:function(d){this.Ff=d?os(this.Ff,26):Qa(this.Ff,26)}});var g=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return g},set:function(d){g=d}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return g},set:function(d){Number.isInteger(d)&&(g=d)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};yl(Fl,Ol);var js=function(){Fl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,14)},set:function(g){this.Ff=g?os(this.Ff,14):Qa(this.Ff,14)}}),this.password=!0};yl(js,Fl);var Ei={CheckBox:{createAppearanceStream:function(){return{N:{On:Ei.CheckBox.YesNormal},D:{On:Ei.CheckBox.YesPushDown,Off:Ei.CheckBox.OffPushDown}}},YesPushDown:function(g){var d=pa(g);d.scope=g.scope;var c=[],u=g.scope.internal.getFont(g.fontName,g.fontStyle).id,_=g.scope.__private__.encodeColorString(g.color),I=Zu(g,g.caption);return c.push("0.749023 g"),c.push("0 0 "+bo(Ei.internal.getWidth(g))+" "+bo(Ei.internal.getHeight(g))+" re"),c.push("f"),c.push("BMC"),c.push("q"),c.push("0 0 1 rg"),c.push("/"+u+" "+bo(I.fontSize)+" Tf "+_),c.push("BT"),c.push(I.text),c.push("ET"),c.push("Q"),c.push("EMC"),d.stream=c.join("\n"),d},YesNormal:function(g){var d=pa(g);d.scope=g.scope;var c=g.scope.internal.getFont(g.fontName,g.fontStyle).id,u=g.scope.__private__.encodeColorString(g.color),_=[],I=Ei.internal.getHeight(g),P=Ei.internal.getWidth(g),U=Zu(g,g.caption);return _.push("1 g"),_.push("0 0 "+bo(P)+" "+bo(I)+" re"),_.push("f"),_.push("q"),_.push("0 0 1 rg"),_.push("0 0 "+bo(P-1)+" "+bo(I-1)+" re"),_.push("W"),_.push("n"),_.push("0 g"),_.push("BT"),_.push("/"+c+" "+bo(U.fontSize)+" Tf "+u),_.push(U.text),_.push("ET"),_.push("Q"),d.stream=_.join("\n"),d},OffPushDown:function(g){var d=pa(g);d.scope=g.scope;var c=[];return c.push("0.749023 g"),c.push("0 0 "+bo(Ei.internal.getWidth(g))+" "+bo(Ei.internal.getHeight(g))+" re"),c.push("f"),d.stream=c.join("\n"),d}},RadioButton:{Circle:{createAppearanceStream:function(g){var d={D:{Off:Ei.RadioButton.Circle.OffPushDown},N:{}};return d.N[g]=Ei.RadioButton.Circle.YesNormal,d.D[g]=Ei.RadioButton.Circle.YesPushDown,d},getCA:function(){return"l"},YesNormal:function(g){var d=pa(g);d.scope=g.scope;var c=[],u=Ei.internal.getWidth(g)<=Ei.internal.getHeight(g)?Ei.internal.getWidth(g)/4:Ei.internal.getHeight(g)/4;u=Number((.9*u).toFixed(5));var I=Number((u*Ei.internal.Bezier_C).toFixed(5));return c.push("q"),c.push("1 0 0 1 "+Qs(Ei.internal.getWidth(g)/2)+" "+Qs(Ei.internal.getHeight(g)/2)+" cm"),c.push(u+" 0 m"),c.push(u+" "+I+" "+I+" "+u+" 0 "+u+" c"),c.push("-"+I+" "+u+" -"+u+" "+I+" -"+u+" 0 c"),c.push("-"+u+" -"+I+" -"+I+" -"+u+" 0 -"+u+" c"),c.push(I+" -"+u+" "+u+" -"+I+" "+u+" 0 c"),c.push("f"),c.push("Q"),d.stream=c.join("\n"),d},YesPushDown:function(g){var d=pa(g);d.scope=g.scope;var c=[],u=Ei.internal.getWidth(g)<=Ei.internal.getHeight(g)?Ei.internal.getWidth(g)/4:Ei.internal.getHeight(g)/4;u=Number((.9*u).toFixed(5));var _=Number((2*u).toFixed(5)),I=Number((_*Ei.internal.Bezier_C).toFixed(5)),P=Number((u*Ei.internal.Bezier_C).toFixed(5));return c.push("0.749023 g"),c.push("q"),c.push("1 0 0 1 "+Qs(Ei.internal.getWidth(g)/2)+" "+Qs(Ei.internal.getHeight(g)/2)+" cm"),c.push(_+" 0 m"),c.push(_+" "+I+" "+I+" "+_+" 0 "+_+" c"),c.push("-"+I+" "+_+" -"+_+" "+I+" -"+_+" 0 c"),c.push("-"+_+" -"+I+" -"+I+" -"+_+" 0 -"+_+" c"),c.push(I+" -"+_+" "+_+" -"+I+" "+_+" 0 c"),c.push("f"),c.push("Q"),c.push("0 g"),c.push("q"),c.push("1 0 0 1 "+Qs(Ei.internal.getWidth(g)/2)+" "+Qs(Ei.internal.getHeight(g)/2)+" cm"),c.push(u+" 0 m"),c.push(u+" "+P+" "+P+" "+u+" 0 "+u+" c"),c.push("-"+P+" "+u+" -"+u+" "+P+" -"+u+" 0 c"),c.push("-"+u+" -"+P+" -"+P+" -"+u+" 0 -"+u+" c"),c.push(P+" -"+u+" "+u+" -"+P+" "+u+" 0 c"),c.push("f"),c.push("Q"),d.stream=c.join("\n"),d},OffPushDown:function(g){var d=pa(g);d.scope=g.scope;var c=[],u=Ei.internal.getWidth(g)<=Ei.internal.getHeight(g)?Ei.internal.getWidth(g)/4:Ei.internal.getHeight(g)/4;u=Number((.9*u).toFixed(5));var _=Number((2*u).toFixed(5)),I=Number((_*Ei.internal.Bezier_C).toFixed(5));return c.push("0.749023 g"),c.push("q"),c.push("1 0 0 1 "+Qs(Ei.internal.getWidth(g)/2)+" "+Qs(Ei.internal.getHeight(g)/2)+" cm"),c.push(_+" 0 m"),c.push(_+" "+I+" "+I+" "+_+" 0 "+_+" c"),c.push("-"+I+" "+_+" -"+_+" "+I+" -"+_+" 0 c"),c.push("-"+_+" -"+I+" -"+I+" -"+_+" 0 -"+_+" c"),c.push(I+" -"+_+" "+_+" -"+I+" "+_+" 0 c"),c.push("f"),c.push("Q"),d.stream=c.join("\n"),d}},Cross:{createAppearanceStream:function(g){var d={D:{Off:Ei.RadioButton.Cross.OffPushDown},N:{}};return d.N[g]=Ei.RadioButton.Cross.YesNormal,d.D[g]=Ei.RadioButton.Cross.YesPushDown,d},getCA:function(){return"8"},YesNormal:function(g){var d=pa(g);d.scope=g.scope;var c=[],u=Ei.internal.calculateCross(g);return c.push("q"),c.push("1 1 "+bo(Ei.internal.getWidth(g)-2)+" "+bo(Ei.internal.getHeight(g)-2)+" re"),c.push("W"),c.push("n"),c.push(bo(u.x1.x)+" "+bo(u.x1.y)+" m"),c.push(bo(u.x2.x)+" "+bo(u.x2.y)+" l"),c.push(bo(u.x4.x)+" "+bo(u.x4.y)+" m"),c.push(bo(u.x3.x)+" "+bo(u.x3.y)+" l"),c.push("s"),c.push("Q"),d.stream=c.join("\n"),d},YesPushDown:function(g){var d=pa(g);d.scope=g.scope;var c=Ei.internal.calculateCross(g),u=[];return u.push("0.749023 g"),u.push("0 0 "+bo(Ei.internal.getWidth(g))+" "+bo(Ei.internal.getHeight(g))+" re"),u.push("f"),u.push("q"),u.push("1 1 "+bo(Ei.internal.getWidth(g)-2)+" "+bo(Ei.internal.getHeight(g)-2)+" re"),u.push("W"),u.push("n"),u.push(bo(c.x1.x)+" "+bo(c.x1.y)+" m"),u.push(bo(c.x2.x)+" "+bo(c.x2.y)+" l"),u.push(bo(c.x4.x)+" "+bo(c.x4.y)+" m"),u.push(bo(c.x3.x)+" "+bo(c.x3.y)+" l"),u.push("s"),u.push("Q"),d.stream=u.join("\n"),d},OffPushDown:function(g){var d=pa(g);d.scope=g.scope;var c=[];return c.push("0.749023 g"),c.push("0 0 "+bo(Ei.internal.getWidth(g))+" "+bo(Ei.internal.getHeight(g))+" re"),c.push("f"),d.stream=c.join("\n"),d}}},createDefaultAppearanceStream:function(g){var d=g.scope.internal.getFont(g.fontName,g.fontStyle).id,c=g.scope.__private__.encodeColorString(g.color);return"/"+d+" "+g.fontSize+" Tf "+c}};Ei.internal={Bezier_C:.551915024494,calculateCross:function(g){var d=Ei.internal.getWidth(g),c=Ei.internal.getHeight(g),u=Math.min(d,c);return{x1:{x:(d-u)/2,y:(c-u)/2+u},x2:{x:(d-u)/2+u,y:(c-u)/2},x3:{x:(d-u)/2,y:(c-u)/2},x4:{x:(d-u)/2+u,y:(c-u)/2+u}}}},Ei.internal.getWidth=function(g){var d=0;return"object"===(0,$i.A)(g)&&(d=Tu(g.Rect[2])),d},Ei.internal.getHeight=function(g){var d=0;return"object"===(0,$i.A)(g)&&(d=Tu(g.Rect[3])),d};var g,d,Bf=hs.addField=function(g){if(function(g,d){if(d.scope=g,void 0!==g.internal&&(void 0===g.internal.acroformPlugin||!1===g.internal.acroformPlugin.isInitialized)){if(Ol.FieldNum=0,g.internal.acroformPlugin=JSON.parse(JSON.stringify(qd)),g.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Su=g.internal.scaleFactor,g.internal.acroformPlugin.acroFormDictionaryRoot=new Ed,g.internal.acroformPlugin.acroFormDictionaryRoot.scope=g,g.internal.acroformPlugin.acroFormDictionaryRoot._eventID=g.internal.events.subscribe("postPutResources",function(){var c;(c=g).internal.events.unsubscribe(c.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete c.internal.acroformPlugin.acroFormDictionaryRoot._eventID,c.internal.acroformPlugin.printedOut=!0}),g.internal.events.subscribe("buildDocument",function(){!function(c){c.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var u=c.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var _ in u)if(u.hasOwnProperty(_)){var I=u[_];I.objId=void 0,I.hasAnnotation&&Xd(I,c)}}(g)}),g.internal.events.subscribe("putCatalog",function(){!function(c){if(void 0===c.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");c.internal.write("/AcroForm "+c.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(g)}),g.internal.events.subscribe("postPutPages",function(c){!function(u,_){var I=!u;for(var P in u||(_.internal.newObjectDeferredBegin(_.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),_.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),u=u||_.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(u.hasOwnProperty(P)){var U=u[P],$=[],te=U.Rect;if(U.Rect&&(U.Rect=hA(U.Rect,_)),_.internal.newObjectDeferredBegin(U.objId,!0),U.DA=Ei.createDefaultAppearanceStream(U),"object"===(0,$i.A)(U)&&"function"==typeof U.getKeyValueListForStream&&($=U.getKeyValueListForStream()),U.Rect=te,U.hasAppearanceStream&&!U.appearanceStreamContent){var oe=Ju(U);$.push({key:"AP",value:"<</N "+oe+">>"}),_.internal.acroformPlugin.xForms.push(oe)}if(U.appearanceStreamContent){var ve="";for(var Oe in U.appearanceStreamContent)if(U.appearanceStreamContent.hasOwnProperty(Oe)){var he=U.appearanceStreamContent[Oe];if(ve+="/"+Oe+" ",ve+="<<",Object.keys(he).length>=1||Array.isArray(he)){for(var P in he)if(he.hasOwnProperty(P)){var ct=he[P];"function"==typeof ct&&(ct=ct.call(_,U)),ve+="/"+P+" "+ct+" ",_.internal.acroformPlugin.xForms.indexOf(ct)>=0||_.internal.acroformPlugin.xForms.push(ct)}}else"function"==typeof(ct=he)&&(ct=ct.call(_,U)),ve+="/"+P+" "+ct,_.internal.acroformPlugin.xForms.indexOf(ct)>=0||_.internal.acroformPlugin.xForms.push(ct);ve+=">>"}$.push({key:"AP",value:"<<\n"+ve+">>"})}_.internal.putStream({additionalKeyValues:$,objectId:U.objId}),_.internal.out("endobj")}I&&function(g,d){for(var c in g)if(g.hasOwnProperty(c)){var u=c,_=g[c];d.internal.newObjectDeferredBegin(_.objId,!0),"object"===(0,$i.A)(_)&&"function"==typeof _.putStream&&_.putStream(),delete g[u]}}(_.internal.acroformPlugin.xForms,_)}(c,g)}),g.internal.acroformPlugin.isInitialized=!0}}(this,g),!(g instanceof Ol))throw new Error("Invalid argument passed to jsPDF.addField.");var d;return(d=g).scope.internal.acroformPlugin.printedOut&&(d.scope.internal.acroformPlugin.printedOut=!1,d.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),d.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(d),g.page=g.scope.internal.getCurrentPageInfo().pageNumber,this};function Sd(g){return g.reduce(function(d,c,u){return d[c]=u,d},{})}hs.AcroFormChoiceField=Ca,hs.AcroFormListBox=rc,hs.AcroFormComboBox=Nc,hs.AcroFormEditBox=Cd,hs.AcroFormButton=Hl,hs.AcroFormPushButton=Id,hs.AcroFormRadioButton=wl,hs.AcroFormCheckBox=ZA,hs.AcroFormTextField=Fl,hs.AcroFormPasswordField=js,hs.AcroFormAppearance=Ei,hs.AcroForm={ChoiceField:Ca,ListBox:rc,ComboBox:Nc,EditBox:Cd,Button:Hl,PushButton:Id,RadioButton:wl,CheckBox:ZA,TextField:Fl,PasswordField:js,Appearance:Ei},Vi.AcroForm={ChoiceField:Ca,ListBox:rc,ComboBox:Nc,EditBox:Cd,Button:Hl,PushButton:Id,RadioButton:wl,CheckBox:ZA,TextField:Fl,PasswordField:js,Appearance:Ei},function(g){g.__addimage__={};var d="UNKNOWN",c={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},u=g.__addimage__.getImageFileTypeByImageData=function(Me,Ue){var dt,It,F,v,C,M=d;if("RGBA"===(Ue=Ue||d)||void 0!==Me.data&&Me.data instanceof Uint8ClampedArray&&"height"in Me&&"width"in Me)return"RGBA";if(ee(Me))for(C in c)for(F=c[C],dt=0;dt<F.length;dt+=1){for(v=!0,It=0;It<F[dt].length;It+=1)if(void 0!==F[dt][It]&&F[dt][It]!==Me[It]){v=!1;break}if(!0===v){M=C;break}}else for(C in c)for(F=c[C],dt=0;dt<F.length;dt+=1){for(v=!0,It=0;It<F[dt].length;It+=1)if(void 0!==F[dt][It]&&F[dt][It]!==Me.charCodeAt(It)){v=!1;break}if(!0===v){M=C;break}}return M===d&&Ue!==d&&(M=Ue),M},_=function Me(Ue){for(var dt=this.internal.write,It=this.internal.putStream,F=(0,this.internal.getFilters)();-1!==F.indexOf("FlateEncode");)F.splice(F.indexOf("FlateEncode"),1);Ue.objectId=this.internal.newObject();var v=[];if(v.push({key:"Type",value:"/XObject"}),v.push({key:"Subtype",value:"/Image"}),v.push({key:"Width",value:Ue.width}),v.push({key:"Height",value:Ue.height}),Ue.colorSpace===ht.INDEXED?v.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Ue.palette.length/3-1)+" "+("sMask"in Ue&&void 0!==Ue.sMask?Ue.objectId+2:Ue.objectId+1)+" 0 R]"}):(v.push({key:"ColorSpace",value:"/"+Ue.colorSpace}),Ue.colorSpace===ht.DEVICE_CMYK&&v.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),v.push({key:"BitsPerComponent",value:Ue.bitsPerComponent}),"decodeParameters"in Ue&&void 0!==Ue.decodeParameters&&v.push({key:"DecodeParms",value:"<<"+Ue.decodeParameters+">>"}),"transparency"in Ue&&Array.isArray(Ue.transparency)){for(var C="",M=0,ae=Ue.transparency.length;M<ae;M++)C+=Ue.transparency[M]+" "+Ue.transparency[M]+" ";v.push({key:"Mask",value:"["+C+"]"})}if(void 0!==Ue.sMask&&v.push({key:"SMask",value:Ue.objectId+1+" 0 R"}),It({data:Ue.data,additionalKeyValues:v,alreadyAppliedFilters:void 0!==Ue.filter?["/"+Ue.filter]:void 0,objectId:Ue.objectId}),dt("endobj"),"sMask"in Ue&&void 0!==Ue.sMask){var ye={width:Ue.width,height:Ue.height,colorSpace:"DeviceGray",bitsPerComponent:Ue.bitsPerComponent,decodeParameters:"/Predictor "+Ue.predictor+" /Colors 1 /BitsPerComponent "+Ue.bitsPerComponent+" /Columns "+Ue.width,data:Ue.sMask};"filter"in Ue&&(ye.filter=Ue.filter),Me.call(this,ye)}if(Ue.colorSpace===ht.INDEXED){var Ke=this.internal.newObject();It({data:me(new Uint8Array(Ue.palette)),objectId:Ke}),dt("endobj")}},I=function(){var Me=this.internal.collections.addImage_images;for(var Ue in Me)_.call(this,Me[Ue])},P=function(){var Me,Ue=this.internal.collections.addImage_images,dt=this.internal.write;for(var It in Ue)dt("/I"+(Me=Ue[It]).index,Me.objectId,"0","R")},U=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",I),this.internal.events.subscribe("putXobjectDict",P))},$=function(){var Me=this.internal.collections.addImage_images;return U.call(this),Me},te=function(){return Object.keys(this.internal.collections.addImage_images).length},oe=function(Me){return"function"==typeof g["process"+Me.toUpperCase()]},ve=function(Me){return"object"===(0,$i.A)(Me)&&1===Me.nodeType},Oe=function(Me,Ue){if("IMG"===Me.nodeName&&Me.hasAttribute("src")){var dt=""+Me.getAttribute("src");if(0===dt.indexOf("data:image/"))return lt(unescape(dt).split("base64,").pop());var It=g.loadFile(dt,!0);if(void 0!==It)return It}if("CANVAS"===Me.nodeName){if(0===Me.width||0===Me.height)throw new Error("Given canvas must have data. Canvas width: "+Me.width+", height: "+Me.height);var F;switch(Ue){case"PNG":F="image/png";break;case"WEBP":F="image/webp";break;default:F="image/jpeg"}return lt(Me.toDataURL(F,1).split("base64,").pop())}},he=function(Me){var Ue=this.internal.collections.addImage_images;if(Ue)for(var dt in Ue)if(Me===Ue[dt].alias)return Ue[dt]},ct=function(Me,Ue,dt){return Me||Ue||(Me=-96,Ue=-96),Me<0&&(Me=-1*dt.width*72/Me/this.internal.scaleFactor),Ue<0&&(Ue=-1*dt.height*72/Ue/this.internal.scaleFactor),0===Me&&(Me=Ue*dt.width/dt.height),0===Ue&&(Ue=Me*dt.height/dt.width),[Me,Ue]},at=function(Me,Ue,dt,It,F,v){var C=ct.call(this,dt,It,F),M=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,Se=$.call(this);if(dt=C[0],It=C[1],Se[F.index]=F,v){v*=Math.PI/180;var yt=Math.cos(v),ye=Math.sin(v),Ke=function(Dt){return Dt.toFixed(4)},gt=[Ke(yt),Ke(ye),Ke(-1*ye),Ke(yt),0,0,"cm"]}this.internal.write("q"),v?(this.internal.write([1,"0","0",1,M(Me),ae(Ue+It),"cm"].join(" ")),this.internal.write(gt.join(" ")),this.internal.write([M(dt),"0","0",M(It),"0","0","cm"].join(" "))):this.internal.write([M(dt),"0","0",M(It),M(Me),ae(Ue+It),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+F.index+" Do"),this.internal.write("Q")},ht=g.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};g.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=g.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=g.__addimage__.sHashCode=function(Me){var Ue,dt,It=0;if("string"==typeof Me)for(dt=Me.length,Ue=0;Ue<dt;Ue++)It=(It<<5)-It+Me.charCodeAt(Ue),It|=0;else if(ee(Me))for(dt=Me.byteLength/2,Ue=0;Ue<dt;Ue++)It=(It<<5)-It+Me[Ue],It|=0;return It},p=g.__addimage__.validateStringAsBase64=function(Me){(Me=Me||"").toString().trim();var Ue=!0;return 0===Me.length&&(Ue=!1),Me.length%4!=0&&(Ue=!1),!1===/^[A-Za-z0-9+/]+$/.test(Me.substr(0,Me.length-2))&&(Ue=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Me.substr(-2))&&(Ue=!1),Ue},b=g.__addimage__.extractImageFromDataUrl=function(Me){var Ue=(Me=Me||"").split("base64,"),dt=null;if(2===Ue.length){var It=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Ue[0]);Array.isArray(It)&&(dt={mimeType:It[1],charset:It[2],data:Ue[1]})}return dt},Q=g.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};g.__addimage__.isArrayBuffer=function(Me){return Q()&&Me instanceof ArrayBuffer};var ee=g.__addimage__.isArrayBufferView=function(Me){return Q()&&typeof Uint32Array<"u"&&(Me instanceof Int8Array||Me instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Me instanceof Uint8ClampedArray||Me instanceof Int16Array||Me instanceof Uint16Array||Me instanceof Int32Array||Me instanceof Uint32Array||Me instanceof Float32Array||Me instanceof Float64Array)},le=g.__addimage__.binaryStringToUint8Array=function(Me){for(var Ue=Me.length,dt=new Uint8Array(Ue),It=0;It<Ue;It++)dt[It]=Me.charCodeAt(It);return dt},me=g.__addimage__.arrayBufferToBinaryString=function(Me){for(var Ue="",dt=ee(Me)?Me:new Uint8Array(Me),It=0;It<dt.length;It+=8192)Ue+=String.fromCharCode.apply(null,dt.subarray(It,It+8192));return Ue};g.addImage=function(){var Me,Ue,dt,It,F,v,C,M,ae;if("number"==typeof arguments[1]?(Ue=d,dt=arguments[1],It=arguments[2],F=arguments[3],v=arguments[4],C=arguments[5],M=arguments[6],ae=arguments[7]):(Ue=arguments[1],dt=arguments[2],It=arguments[3],F=arguments[4],v=arguments[5],C=arguments[6],M=arguments[7],ae=arguments[8]),"object"===(0,$i.A)(Me=arguments[0])&&!ve(Me)&&"imageData"in Me){var Se=Me;Me=Se.imageData,Ue=Se.format||Ue||d,dt=Se.x||dt||0,It=Se.y||It||0,F=Se.w||Se.width||F,v=Se.h||Se.height||v,C=Se.alias||C,M=Se.compression||M,ae=Se.rotation||Se.angle||ae}var yt=this.internal.getFilters();if(void 0===M&&-1!==yt.indexOf("FlateEncode")&&(M="SLOW"),isNaN(dt)||isNaN(It))throw new Error("Invalid coordinates passed to jsPDF.addImage");U.call(this);var ye=We.call(this,Me,Ue,C,M);return at.call(this,dt,It,F,v,ye,ae),this};var We=function(Me,Ue,dt,It){var F,v,C,ae;if("string"==typeof Me&&u(Me)===d){Me=unescape(Me);var M=it(Me,!1);(""!==M||void 0!==(M=g.loadFile(Me,!0)))&&(Me=M)}if(ve(Me)&&(Me=Oe(Me,Ue)),Ue=u(Me,Ue),!oe(Ue))throw new Error("addImage does not support files of type '"+Ue+"', please ensure that a plugin for '"+Ue+"' support is added.");if((null==(C=dt)||0===C.length)&&(dt="string"==typeof(ae=Me)||ee(ae)?A(ae):ee(ae.data)?A(ae.data):null),(F=he.call(this,dt))||(Q()&&(Me instanceof Uint8Array||"RGBA"===Ue||(v=Me,Me=le(Me))),F=this["process"+Ue.toUpperCase()](Me,te.call(this),dt,function(ae){return ae&&"string"==typeof ae&&(ae=ae.toUpperCase()),ae in g.image_compression?ae:m.NONE}(It),v)),!F)throw new Error("An unknown error occurred whilst processing the image.");return F},it=g.__addimage__.convertBase64ToBinaryString=function(Me,Ue){var dt;Ue="boolean"!=typeof Ue||Ue;var It,F="";if("string"==typeof Me){It=null!==(dt=b(Me))?dt.data:Me;try{F=lt(It)}catch(v){if(Ue)throw p(It)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+v.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};g.getImageProperties=function(Me){var Ue,dt,It="";if(ve(Me)&&(Me=Oe(Me)),"string"==typeof Me&&u(Me)===d&&(""===(It=it(Me,!1))&&(It=g.loadFile(Me)||""),Me=It),dt=u(Me),!oe(dt))throw new Error("addImage does not support files of type '"+dt+"', please ensure that a plugin for '"+dt+"' support is added.");if(!Q()||Me instanceof Uint8Array||(Me=le(Me)),!(Ue=this["process"+dt.toUpperCase()](Me)))throw new Error("An unknown error occurred whilst processing the image");return Ue.fileType=dt,Ue}}(Vi.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
g=Vi.API,d=function(c){if(void 0!==c&&""!=c)return!0},Vi.API.events.push(["addPage",function(c){this.internal.getPageInfo(c.pageNumber).pageContext.annotations=[]}]),g.events.push(["putPage",function(c){for(var u,_,I,P=this.internal.getCoordinateString,U=this.internal.getVerticalCoordinateString,$=this.internal.getPageInfoByObjId(c.objId),te=c.pageContext.annotations,oe=!1,ve=0;ve<te.length&&!oe;ve++)switch((u=te[ve]).type){case"link":(d(u.options.url)||d(u.options.pageNumber))&&(oe=!0);break;case"reference":case"text":case"freetext":oe=!0}if(0!=oe){this.internal.write("/Annots [");for(var Oe=0;Oe<te.length;Oe++){u=te[Oe];var he=this.internal.pdfEscape,ct=this.internal.getEncryptor(c.objId);switch(u.type){case"reference":this.internal.write(" "+u.object.objId+" 0 R ");break;case"text":var at=this.internal.newAdditionalObject(),ht=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(at.objId),A=u.title||"Note";I="<</Type /Annot /Subtype /Text "+(_="/Rect ["+P(u.bounds.x)+" "+U(u.bounds.y+u.bounds.h)+" "+P(u.bounds.x+u.bounds.w)+" "+U(u.bounds.y)+"] ")+"/Contents ("+he(m(u.contents))+")",I+=" /Popup "+ht.objId+" 0 R",I+=" /P "+$.objId+" 0 R",I+=" /T ("+he(m(A))+") >>",at.content=I;var p=at.objId+" 0 R";I="<</Type /Annot /Subtype /Popup "+(_="/Rect ["+P(u.bounds.x+30)+" "+U(u.bounds.y+u.bounds.h)+" "+P(u.bounds.x+u.bounds.w+30)+" "+U(u.bounds.y)+"] ")+" /Parent "+p,u.open&&(I+=" /Open true"),ht.content=I+=" >>",this.internal.write(at.objId,"0 R",ht.objId,"0 R");break;case"freetext":_="/Rect ["+P(u.bounds.x)+" "+U(u.bounds.y)+" "+P(u.bounds.x+u.bounds.w)+" "+U(u.bounds.y+u.bounds.h)+"] ";var b=u.color||"#000000";I="<</Type /Annot /Subtype /FreeText "+_+"/Contents ("+he(ct(u.contents))+")",I+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",I+=" /Border [0 0 0]",this.internal.write(I+=" >>");break;case"link":if(u.options.name){var Q=this.annotations._nameMap[u.options.name];u.options.pageNumber=Q.page,u.options.top=Q.y}else u.options.top||(u.options.top=0);if(_="/Rect ["+u.finalBounds.x+" "+u.finalBounds.y+" "+u.finalBounds.w+" "+u.finalBounds.h+"] ",I="",u.options.url)I="<</Type /Annot /Subtype /Link "+_+"/Border [0 0 0] /A <</S /URI /URI ("+he(ct(u.options.url))+") >>";else if(u.options.pageNumber)switch(I="<</Type /Annot /Subtype /Link "+_+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(u.options.pageNumber).objId+" 0 R",u.options.magFactor=u.options.magFactor||"XYZ",u.options.magFactor){case"Fit":I+=" /Fit]";break;case"FitH":I+=" /FitH "+u.options.top+"]";break;case"FitV":u.options.left=u.options.left||0,I+=" /FitV "+u.options.left+"]";break;default:var ee=U(u.options.top);u.options.left=u.options.left||0,void 0===u.options.zoom&&(u.options.zoom=0),I+=" /XYZ "+u.options.left+" "+ee+" "+u.options.zoom+"]"}""!=I&&this.internal.write(I+=" >>")}}this.internal.write("]")}}]),g.createAnnotation=function(c){var u=this.internal.getCurrentPageInfo();switch(c.type){case"link":this.link(c.bounds.x,c.bounds.y,c.bounds.w,c.bounds.h,c);break;case"text":case"freetext":u.pageContext.annotations.push(c)}},g.link=function(c,u,_,I,P){var U=this.internal.getCurrentPageInfo(),$=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString;U.pageContext.annotations.push({finalBounds:{x:$(c),y:te(u),w:$(c+_),h:te(u+I)},options:P,type:"link"})},g.textWithLink=function(c,u,_,I){var P,U,$=this.getTextWidth(c),te=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==I.maxWidth){var oe=this.splitTextToSize(c,U=I.maxWidth).length;P=Math.ceil(te*oe)}else U=$,P=te;return this.text(c,u,_,I),"center"===I.align&&(u-=$/2),"right"===I.align&&(u-=$),this.link(u,(_+=.2*te)-te,U,P,I),$},g.getTextWidth=function(c){var u=this.internal.getFontSize();return this.getStringUnitWidth(c)*u/this.internal.scaleFactor},
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(g){var d={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},c={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},u={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},_=[1570,1571,1573,1575];g.__arabicParser__={};var I=g.__arabicParser__.isInArabicSubstitutionA=function(at){return void 0!==d[at.charCodeAt(0)]},P=g.__arabicParser__.isArabicLetter=function(at){return"string"==typeof at&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(at)},U=g.__arabicParser__.isArabicEndLetter=function(at){return P(at)&&I(at)&&d[at.charCodeAt(0)].length<=2},$=g.__arabicParser__.isArabicAlfLetter=function(at){return P(at)&&_.indexOf(at.charCodeAt(0))>=0};g.__arabicParser__.arabicLetterHasIsolatedForm=function(at){return P(at)&&I(at)&&d[at.charCodeAt(0)].length>=1};var te=g.__arabicParser__.arabicLetterHasFinalForm=function(at){return P(at)&&I(at)&&d[at.charCodeAt(0)].length>=2};g.__arabicParser__.arabicLetterHasInitialForm=function(at){return P(at)&&I(at)&&d[at.charCodeAt(0)].length>=3};var oe=g.__arabicParser__.arabicLetterHasMedialForm=function(at){return P(at)&&I(at)&&4==d[at.charCodeAt(0)].length},ve=g.__arabicParser__.resolveLigatures=function(at){var ht=0,m=c,A="",p=0;for(ht=0;ht<at.length;ht+=1)void 0!==m[at.charCodeAt(ht)]?(p++,"number"==typeof(m=m[at.charCodeAt(ht)])&&(A+=String.fromCharCode(m),m=c,p=0),ht===at.length-1&&(m=c,A+=at.charAt(ht-(p-1)),ht-=p-1,p=0)):(m=c,A+=at.charAt(ht-p),ht-=p,p=0);return A};g.__arabicParser__.isArabicDiacritic=function(at){return void 0!==at&&void 0!==u[at.charCodeAt(0)]};var Oe=g.__arabicParser__.getCorrectForm=function(at,ht,m){return P(at)?!1===I(at)?-1:!te(at)||!P(ht)&&!P(m)||!P(m)&&U(ht)||U(at)&&!P(ht)||U(at)&&$(ht)||U(at)&&U(ht)?0:oe(at)&&P(ht)&&!U(ht)&&P(m)&&te(m)?3:U(at)||!P(m)?1:2:-1},he=function(at){var ht=0,m=0,A=0,p="",b="",Q="",ee=(at=at||"").split("\\s+"),le=[];for(ht=0;ht<ee.length;ht+=1){for(le.push(""),m=0;m<ee[ht].length;m+=1)b=ee[ht][m-1],Q=ee[ht][m+1],P(p=ee[ht][m])?(A=Oe(p,b,Q),le[ht]+=-1!==A?String.fromCharCode(d[p.charCodeAt(0)][A]):p):le[ht]+=p;le[ht]=ve(le[ht])}return le.join(" ")},ct=g.__arabicParser__.processArabic=g.processArabic=function(){var at,ht="string"==typeof arguments[0]?arguments[0]:arguments[0].text,m=[];if(Array.isArray(ht)){var A=0;for(m=[],A=0;A<ht.length;A+=1)Array.isArray(ht[A])?m.push([he(ht[A][0]),ht[A][1],ht[A][2]]):m.push([he(ht[A])]);at=m}else at=he(ht);return"string"==typeof arguments[0]?at:(arguments[0].text=at,arguments[0])};g.events.push(["preProcessText",ct])}(Vi.API),Vi.API.autoPrint=function(g){var d;return"javascript"===((g=g||{}).variant=g.variant||"non-conform",g.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){d=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+d+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(g){var d=function(){var c=void 0;Object.defineProperty(this,"pdf",{get:function(){return c},set:function(U){c=U}});var u=150;Object.defineProperty(this,"width",{get:function(){return u},set:function(U){u=isNaN(U)||!1===Number.isInteger(U)||U<0?150:U,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=u+1)}});var _=300;Object.defineProperty(this,"height",{get:function(){return _},set:function(U){_=isNaN(U)||!1===Number.isInteger(U)||U<0?300:U,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=_+1)}});var I=[];Object.defineProperty(this,"childNodes",{get:function(){return I},set:function(U){I=U}});var P={};Object.defineProperty(this,"style",{get:function(){return P},set:function(U){P=U}}),Object.defineProperty(this,"parentNode",{})};d.prototype.getContext=function(c,u){var _;if("2d"!==(c=c||"2d"))return null;for(_ in u)this.pdf.context2d.hasOwnProperty(_)&&(this.pdf.context2d[_]=u[_]);return this.pdf.context2d._canvas=this,this.pdf.context2d},d.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},g.events.push(["initialized",function(){this.canvas=new d,this.canvas.pdf=this}])}(Vi.API),function(g){var d={left:0,top:0,bottom:0,right:0},c=!1,u=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},d),this.internal.__cell__.margins.width=this.getPageWidth(),_.call(this))},_=function(){this.internal.__cell__.lastCell=new I,this.internal.__cell__.pages=1},I=function(){var $=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $},set:function(at){$=at}});var te=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return te},set:function(at){te=at}});var oe=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return oe},set:function(at){oe=at}});var ve=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return ve},set:function(at){ve=at}});var Oe=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Oe},set:function(at){Oe=at}});var he=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return he},set:function(at){he=at}});var ct=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return ct},set:function(at){ct=at}}),this};I.prototype.clone=function(){return new I(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},I.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},g.setHeaderFunction=function($){return u.call(this),this.internal.__cell__.headerFunction="function"==typeof $?$:void 0,this},g.getTextDimensions=function($,te){u.call(this);var oe=(te=te||{}).fontSize||this.getFontSize(),ve=te.font||this.getFont(),Oe=te.scaleFactor||this.internal.scaleFactor,he=0,ct=0,at=0,ht=this;if(!Array.isArray($)&&"string"!=typeof $){if("number"!=typeof $)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");$=String($)}var m=te.maxWidth;m>0?"string"==typeof $?$=this.splitTextToSize($,m):"[object Array]"===Object.prototype.toString.call($)&&($=$.reduce(function(p,b){return p.concat(ht.splitTextToSize(b,m))},[])):$=Array.isArray($)?$:[$];for(var A=0;A<$.length;A++)he<(at=this.getStringUnitWidth($[A],{font:ve})*oe)&&(he=at);return 0!==he&&(ct=$.length),{w:he/=Oe,h:Math.max((ct*oe*this.getLineHeightFactor()-oe*(this.getLineHeightFactor()-1))/Oe,0)}},g.cellAddPage=function(){u.call(this),this.addPage();var $=this.internal.__cell__.margins||d;return this.internal.__cell__.lastCell=new I($.left,$.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var P=g.cell=function(){var $;$=arguments[0]instanceof I?arguments[0]:new I(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),u.call(this);var te=this.internal.__cell__.lastCell,oe=this.internal.__cell__.padding,ve=this.internal.__cell__.margins||d,Oe=this.internal.__cell__.tableHeaderRow,he=this.internal.__cell__.printHeaders;return void 0!==te.lineNumber&&(te.lineNumber===$.lineNumber?($.x=(te.x||0)+(te.width||0),$.y=te.y||0):te.y+te.height+$.height+ve.bottom>this.getPageHeight()?(this.cellAddPage(),$.y=ve.top,he&&Oe&&(this.printHeaderRow($.lineNumber,!0),$.y+=Oe[0].height)):$.y=te.y+te.height||$.y),void 0!==$.text[0]&&(this.rect($.x,$.y,$.width,$.height,!0===c?"FD":void 0),"right"===$.align?this.text($.text,$.x+$.width-oe,$.y+oe,{align:"right",baseline:"top"}):"center"===$.align?this.text($.text,$.x+$.width/2,$.y+oe,{align:"center",baseline:"top",maxWidth:$.width-oe-oe}):this.text($.text,$.x+oe,$.y+oe,{align:"left",baseline:"top",maxWidth:$.width-oe-oe})),this.internal.__cell__.lastCell=$,this};g.table=function($,te,oe,ve,Oe){if(u.call(this),!oe)throw new Error("No data for PDF table.");var he,ct,at,ht,m=[],A=[],p=[],b={},Q={},ee=[],le=[],me=(Oe=Oe||{}).autoSize||!1,We=!1!==Oe.printHeaders,it=Oe.css&&void 0!==Oe.css["font-size"]?16*Oe.css["font-size"]:Oe.fontSize||12,Me=Oe.margins||Object.assign({width:this.getPageWidth()},d),Ue="number"==typeof Oe.padding?Oe.padding:3,dt=Oe.headerBackgroundColor||"#c8c8c8",It=Oe.headerTextColor||"#000";if(_.call(this),this.internal.__cell__.printHeaders=We,this.internal.__cell__.margins=Me,this.internal.__cell__.table_font_size=it,this.internal.__cell__.padding=Ue,this.internal.__cell__.headerBackgroundColor=dt,this.internal.__cell__.headerTextColor=It,this.setFontSize(it),null==ve)A=m=Object.keys(oe[0]),p=m.map(function(){return"left"});else if(Array.isArray(ve)&&"object"===(0,$i.A)(ve[0]))for(m=ve.map(function(Se){return Se.name}),A=ve.map(function(Se){return Se.prompt||Se.name||""}),p=ve.map(function(Se){return Se.align||"left"}),he=0;he<ve.length;he+=1)Q[ve[he].name]=ve[he].width*(19.049976/25.4);else Array.isArray(ve)&&"string"==typeof ve[0]&&(A=m=ve,p=m.map(function(){return"left"}));if(me||Array.isArray(ve)&&"string"==typeof ve[0])for(he=0;he<m.length;he+=1){for(b[ht=m[he]]=oe.map(function(Se){return Se[ht]}),this.setFont(void 0,"bold"),ee.push(this.getTextDimensions(A[he],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),ct=b[ht],this.setFont(void 0,"normal"),at=0;at<ct.length;at+=1)ee.push(this.getTextDimensions(ct[at],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Q[ht]=Math.max.apply(null,ee)+Ue+Ue,ee=[]}if(We){var F={};for(he=0;he<m.length;he+=1)F[m[he]]={},F[m[he]].text=A[he],F[m[he]].align=p[he];var v=U.call(this,F,Q);le=m.map(function(Se){return new I($,te,Q[Se],v,F[Se].text,void 0,F[Se].align)}),this.setTableHeaderRow(le),this.printHeaderRow(1,!1)}var C=ve.reduce(function(Se,yt){return Se[yt.name]=yt.align,Se},{});for(he=0;he<oe.length;he+=1){"rowStart"in Oe&&Oe.rowStart instanceof Function&&Oe.rowStart({row:he,data:oe[he]},this);var M=U.call(this,oe[he],Q);for(at=0;at<m.length;at+=1){var ae=oe[he][m[at]];"cellStart"in Oe&&Oe.cellStart instanceof Function&&Oe.cellStart({row:he,col:at,data:ae},this),P.call(this,new I($,te,Q[m[at]],M,ae,he+2,C[m[at]]))}}return this.internal.__cell__.table_x=$,this.internal.__cell__.table_y=te,this};var U=function($,te){var oe=this.internal.__cell__.padding,ve=this.internal.__cell__.table_font_size,Oe=this.internal.scaleFactor;return Object.keys($).map(function(he){var ct=$[he];return this.splitTextToSize(ct.hasOwnProperty("text")?ct.text:ct,te[he]-oe-oe)},this).map(function(he){return this.getLineHeightFactor()*he.length*ve/Oe+oe+oe},this).reduce(function(he,ct){return Math.max(he,ct)},0)};g.setTableHeaderRow=function($){u.call(this),this.internal.__cell__.tableHeaderRow=$},g.printHeaderRow=function($,te){if(u.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var oe;if(c=!0,"function"==typeof this.internal.__cell__.headerFunction){var ve=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new I(ve[0],ve[1],ve[2],ve[3],void 0,-1)}this.setFont(void 0,"bold");for(var Oe=[],he=0;he<this.internal.__cell__.tableHeaderRow.length;he+=1){oe=this.internal.__cell__.tableHeaderRow[he].clone(),te&&(oe.y=this.internal.__cell__.margins.top||0,Oe.push(oe)),oe.lineNumber=$;var ct=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),P.call(this,oe),this.setTextColor(ct)}Oe.length>0&&this.setTableHeaderRow(Oe),this.setFont(void 0,"normal"),c=!1}}(Vi.API);var El={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Oc=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],UA=Sd(Oc),hu=[100,200,300,400,500,600,700,800,900],Yh=Sd(hu);function VA(g){var I,d=g.family.replace(/"|'/g,"").toLowerCase(),c=El[I=(I=g.style)||"normal"]?I:"normal",u=function(I){return I?"number"==typeof I?I>=100&&I<=900&&I%100==0?I:400:/^\d00$/.test(I)?parseInt(I):"bold"===I?700:400:400}(g.weight),_=function(I){return"number"==typeof UA[I=I||"normal"]?I:"normal"}(g.stretch);return{family:d,style:c,weight:u,stretch:_,src:g.src||[],ref:g.ref||{name:d,style:[_,c,u].join(" ")}}}function fA(g,d,c,u){var _;for(_=c;_>=0&&_<d.length;_+=u)if(g[d[_]])return g[d[_]];for(_=c;_>=0&&_<d.length;_-=u)if(g[d[_]])return g[d[_]]}var Td={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},pA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Bd(g){return[g.stretch,g.style,g.weight,g.family].join(" ")}function QA(g){return g.trimLeft()}function Jh(g,d){for(var c=0;c<g.length;){if(g.charAt(c)===d)return[g.substring(0,c),g.substring(c+1)];c+=1}return null}function Yl(g){var d=g.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===d?null:[d[0],g.substring(d[0].length)]}var Fu,ga,Yd,jA=["times"];(function(g){var d,c,u,_,I,P,U,$,te,oe=function(ye){return this.isStrokeTransparent=(ye=ye||{}).isStrokeTransparent||!1,this.strokeOpacity=ye.strokeOpacity||1,this.strokeStyle=ye.strokeStyle||"#000000",this.fillStyle=ye.fillStyle||"#000000",this.isFillTransparent=ye.isFillTransparent||!1,this.fillOpacity=ye.fillOpacity||1,this.font=ye.font||"10px sans-serif",this.textBaseline=ye.textBaseline||"alphabetic",this.textAlign=ye.textAlign||"left",this.lineWidth=ye.lineWidth||1,this.lineJoin=ye.lineJoin||"miter",this.lineCap=ye.lineCap||"butt",this.path=ye.path||[],this.transform=void 0!==ye.transform?ye.transform.clone():new $,this.globalCompositeOperation=ye.globalCompositeOperation||"normal",this.globalAlpha=ye.globalAlpha||1,this.clip_path=ye.clip_path||[],this.currentPoint=ye.currentPoint||new P,this.miterLimit=ye.miterLimit||10,this.lastPoint=ye.lastPoint||new P,this.lineDashOffset=ye.lineDashOffset||0,this.lineDash=ye.lineDash||[],this.margin=ye.margin||[0,0,0,0],this.prevPageLastElemOffset=ye.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof ye.ignoreClearRect||ye.ignoreClearRect,this};g.events.push(["initialized",function(){this.context2d=new ve(this),d=this.internal.f2,c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,_=this.internal.getHorizontalCoordinate,I=this.internal.getVerticalCoordinate,P=this.internal.Point,U=this.internal.Rectangle,$=this.internal.Matrix,te=new oe}]);var ve=function(ye){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Ke=ye;Object.defineProperty(this,"pdf",{get:function(){return Ke}});var gt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return gt},set:function(Ar){gt=!!Ar}});var Dt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Dt},set:function(Ar){Dt=!!Ar}});var Lt=0;Object.defineProperty(this,"posX",{get:function(){return Lt},set:function(Ar){isNaN(Ar)||(Lt=Ar)}});var xn=0;Object.defineProperty(this,"posY",{get:function(){return xn},set:function(Ar){isNaN(Ar)||(xn=Ar)}}),Object.defineProperty(this,"margin",{get:function(){return te.margin},set:function(Ar){var Ht;"number"==typeof Ar?Ht=[Ar,Ar,Ar,Ar]:((Ht=new Array(4))[0]=Ar[0],Ht[1]=Ar.length>=2?Ar[1]:Ht[0],Ht[2]=Ar.length>=3?Ar[2]:Ht[0],Ht[3]=Ar.length>=4?Ar[3]:Ht[1]),te.margin=Ht}});var Kn=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Kn},set:function(Ar){Kn=Ar}});var qn=0;Object.defineProperty(this,"lastBreak",{get:function(){return qn},set:function(Ar){qn=Ar}});var ti=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ti},set:function(Ar){ti=Ar}}),Object.defineProperty(this,"ctx",{get:function(){return te},set:function(Ar){Ar instanceof oe&&(te=Ar)}}),Object.defineProperty(this,"path",{get:function(){return te.path},set:function(Ar){te.path=Ar}});var zr=[];Object.defineProperty(this,"ctxStack",{get:function(){return zr},set:function(Ar){zr=Ar}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ar){var Ht;Ht=Oe(Ar),this.ctx.fillStyle=Ht.style,this.ctx.isFillTransparent=0===Ht.a,this.ctx.fillOpacity=Ht.a,this.pdf.setFillColor(Ht.r,Ht.g,Ht.b,{a:Ht.a}),this.pdf.setTextColor(Ht.r,Ht.g,Ht.b,{a:Ht.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ar){var Ht=Oe(Ar);this.ctx.strokeStyle=Ht.style,this.ctx.isStrokeTransparent=0===Ht.a,this.ctx.strokeOpacity=Ht.a,0===Ht.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(Ht.r,Ht.g,Ht.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ar){-1!==["butt","round","square"].indexOf(Ar)&&(this.ctx.lineCap=Ar,this.pdf.setLineCap(Ar))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ar){isNaN(Ar)||(this.ctx.lineWidth=Ar,this.pdf.setLineWidth(Ar))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ar){-1!==["bevel","round","miter"].indexOf(Ar)&&(this.ctx.lineJoin=Ar,this.pdf.setLineJoin(Ar))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ar){isNaN(Ar)||(this.ctx.miterLimit=Ar,this.pdf.setMiterLimit(Ar))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ar){this.ctx.textBaseline=Ar}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ar){-1!==["right","end","center","left","start"].indexOf(Ar)&&(this.ctx.textAlign=Ar)}});var gi=null,Po=null;Object.defineProperty(this,"fontFaces",{get:function(){return Po},set:function(Ar){gi=null,Po=Ar}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ar){var Ht;if(this.ctx.font=Ar,null!==(Ht=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ar))){var jo=Ht[1],Ki=Ht[3],Gr=Ht[4],li=Ht[6],Ii=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Gr)[2];Gr=Math.floor("px"===Ii?parseFloat(Gr)*this.pdf.internal.scaleFactor:"em"===Ii?parseFloat(Gr)*this.pdf.getFontSize():parseFloat(Gr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Gr);var vi=function(Oo){var Hs,Si,R=[],B=Oo.trim();if(""===B)return jA;if(B in pA)return[pA[B]];for(;""!==B;){switch(Si=null,Hs=(B=QA(B)).charAt(0)){case'"':case"'":Si=Jh(B.substring(1),Hs);break;default:Si=Yl(B)}if(null===Si||(R.push(Si[0]),""!==(B=QA(Si[1]))&&","!==B.charAt(0)))return jA;B=B.replace(/^,/,"")}return R}(li);if(this.fontFaces){var po=function wh(g,d,c){for(var u=(c=c||{}).defaultFontFamily||"times",_=Object.assign({},Td,c.genericFontFamilies||{}),I=null,P=null,U=0;U<d.length;++U)if(_[(I=VA(d[U])).family]&&(I.family=_[I.family]),g.hasOwnProperty(I.family)){P=g[I.family];break}if(!(P=P||g[u]))throw new Error("Could not find a font-family for the rule '"+Bd(I)+"' and default family '"+u+"'.");if(P=function($,te){if(te[$])return te[$];var oe=UA[$],Oe=fA(te,Oc,oe,oe<=UA.normal?-1:1);if(!Oe)throw new Error("Could not find a matching font-stretch value for "+$);return Oe}(I.stretch,P),P=function($,te){if(te[$])return te[$];for(var oe=El[$],ve=0;ve<oe.length;++ve)if(te[oe[ve]])return te[oe[ve]];throw new Error("Could not find a matching font-style for "+$)}(I.style,P),!(P=function($,te){if(te[$])return te[$];if(400===$&&te[500])return te[500];if(500===$&&te[400])return te[400];var ve=fA(te,hu,Yh[$],$<400?-1:1);if(!ve)throw new Error("Could not find a matching font-weight for value "+$);return ve}(I.weight,P)))throw new Error("Failed to resolve a font for the rule '"+Bd(I)+"'.");return P}(function Ci(Ar,Ht){if(null===gi){var jo=(Ki=Ar.getFontList(),Gr=[],Object.keys(Ki).forEach(function(li){Ki[li].forEach(function(Ii){var vi=null;switch(Ii){case"bold":vi={family:li,weight:"bold"};break;case"italic":vi={family:li,style:"italic"};break;case"bolditalic":vi={family:li,weight:"bold",style:"italic"};break;case"":case"normal":vi={family:li}}null!==vi&&(vi.ref={name:li,style:Ii},Gr.push(vi))})}),Gr);gi=function(Ki){for(var Gr={},li=0;li<Ki.length;++li){var Ii=VA(Ki[li]),vi=Ii.family,po=Ii.stretch,Xo=Ii.style,ys=Ii.weight;Gr[vi]=Gr[vi]||{},Gr[vi][po]=Gr[vi][po]||{},Gr[vi][po][Xo]=Gr[vi][po][Xo]||{},Gr[vi][po][Xo][ys]=Ii}return Gr}(jo.concat(Ht))}var Ki,Gr;return gi}(this.pdf,this.fontFaces),vi.map(function(Oo){return{family:Oo,stretch:"normal",weight:Ki,style:jo}}));this.pdf.setFont(po.ref.name,po.ref.style)}else{var Xo="";("bold"===Ki||parseInt(Ki,10)>=700||"bold"===jo)&&(Xo="bold"),"italic"===jo&&(Xo+="italic"),0===Xo.length&&(Xo="normal");for(var ys="",Ts={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ta=0;ta<vi.length;ta++){if(void 0!==this.pdf.internal.getFont(vi[ta],Xo,{noFallback:!0,disableWarning:!0})){ys=vi[ta];break}if("bolditalic"===Xo&&void 0!==this.pdf.internal.getFont(vi[ta],"bold",{noFallback:!0,disableWarning:!0}))ys=vi[ta],Xo="bold";else if(void 0!==this.pdf.internal.getFont(vi[ta],"normal",{noFallback:!0,disableWarning:!0})){ys=vi[ta],Xo="normal";break}}if(""===ys)for(var ja=0;ja<vi.length;ja++)if(Ts[vi[ja]]){ys=Ts[vi[ja]];break}this.pdf.setFont(ys=""===ys?"Times":ys,Xo)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ar){this.ctx.globalCompositeOperation=Ar}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ar){this.ctx.globalAlpha=Ar}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ar){this.ctx.lineDashOffset=Ar,yt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ar){this.ctx.lineDash=Ar,yt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ar){this.ctx.ignoreClearRect=!!Ar}})};ve.prototype.setLineDash=function(ye){this.lineDash=ye},ve.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},ve.prototype.fill=function(){b.call(this,"fill",!1)},ve.prototype.stroke=function(){b.call(this,"stroke",!1)},ve.prototype.beginPath=function(){this.path=[{type:"begin"}]},ve.prototype.moveTo=function(ye,Ke){if(isNaN(ye)||isNaN(Ke))throw ie.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var gt=this.ctx.transform.applyToPoint(new P(ye,Ke));this.path.push({type:"mt",x:gt.x,y:gt.y}),this.ctx.lastPoint=new P(ye,Ke)},ve.prototype.closePath=function(){var ye=new P(0,0),Ke=0;for(Ke=this.path.length-1;-1!==Ke;Ke--)if("begin"===this.path[Ke].type&&"object"===(0,$i.A)(this.path[Ke+1])&&"number"==typeof this.path[Ke+1].x){ye=new P(this.path[Ke+1].x,this.path[Ke+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new P(ye.x,ye.y)},ve.prototype.lineTo=function(ye,Ke){if(isNaN(ye)||isNaN(Ke))throw ie.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var gt=this.ctx.transform.applyToPoint(new P(ye,Ke));this.path.push({type:"lt",x:gt.x,y:gt.y}),this.ctx.lastPoint=new P(gt.x,gt.y)},ve.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},ve.prototype.quadraticCurveTo=function(ye,Ke,gt,Dt){if(isNaN(gt)||isNaN(Dt)||isNaN(ye)||isNaN(Ke))throw ie.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Lt=this.ctx.transform.applyToPoint(new P(gt,Dt)),xn=this.ctx.transform.applyToPoint(new P(ye,Ke));this.path.push({type:"qct",x1:xn.x,y1:xn.y,x:Lt.x,y:Lt.y}),this.ctx.lastPoint=new P(Lt.x,Lt.y)},ve.prototype.bezierCurveTo=function(ye,Ke,gt,Dt,Lt,xn){if(isNaN(Lt)||isNaN(xn)||isNaN(ye)||isNaN(Ke)||isNaN(gt)||isNaN(Dt))throw ie.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Kn=this.ctx.transform.applyToPoint(new P(Lt,xn)),qn=this.ctx.transform.applyToPoint(new P(ye,Ke)),ti=this.ctx.transform.applyToPoint(new P(gt,Dt));this.path.push({type:"bct",x1:qn.x,y1:qn.y,x2:ti.x,y2:ti.y,x:Kn.x,y:Kn.y}),this.ctx.lastPoint=new P(Kn.x,Kn.y)},ve.prototype.arc=function(ye,Ke,gt,Dt,Lt,xn){if(isNaN(ye)||isNaN(Ke)||isNaN(gt)||isNaN(Dt)||isNaN(Lt))throw ie.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xn=!!xn,!this.ctx.transform.isIdentity){var Kn=this.ctx.transform.applyToPoint(new P(ye,Ke));ye=Kn.x,Ke=Kn.y;var qn=this.ctx.transform.applyToPoint(new P(0,gt)),ti=this.ctx.transform.applyToPoint(new P(0,0));gt=Math.sqrt(Math.pow(qn.x-ti.x,2)+Math.pow(qn.y-ti.y,2))}Math.abs(Lt-Dt)>=2*Math.PI&&(Dt=0,Lt=2*Math.PI),this.path.push({type:"arc",x:ye,y:Ke,radius:gt,startAngle:Dt,endAngle:Lt,counterclockwise:xn})},ve.prototype.arcTo=function(ye,Ke,gt,Dt,Lt){throw new Error("arcTo not implemented.")},ve.prototype.rect=function(ye,Ke,gt,Dt){if(isNaN(ye)||isNaN(Ke)||isNaN(gt)||isNaN(Dt))throw ie.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ye,Ke),this.lineTo(ye+gt,Ke),this.lineTo(ye+gt,Ke+Dt),this.lineTo(ye,Ke+Dt),this.lineTo(ye,Ke),this.lineTo(ye+gt,Ke),this.lineTo(ye,Ke)},ve.prototype.fillRect=function(ye,Ke,gt,Dt){if(isNaN(ye)||isNaN(Ke)||isNaN(gt)||isNaN(Dt))throw ie.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!he.call(this)){var Lt={};"butt"!==this.lineCap&&(Lt.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(Lt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ye,Ke,gt,Dt),this.fill(),Lt.hasOwnProperty("lineCap")&&(this.lineCap=Lt.lineCap),Lt.hasOwnProperty("lineJoin")&&(this.lineJoin=Lt.lineJoin)}},ve.prototype.strokeRect=function(ye,Ke,gt,Dt){if(isNaN(ye)||isNaN(Ke)||isNaN(gt)||isNaN(Dt))throw ie.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");ct.call(this)||(this.beginPath(),this.rect(ye,Ke,gt,Dt),this.stroke())},ve.prototype.clearRect=function(ye,Ke,gt,Dt){if(isNaN(ye)||isNaN(Ke)||isNaN(gt)||isNaN(Dt))throw ie.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ye,Ke,gt,Dt))},ve.prototype.save=function(ye){ye="boolean"!=typeof ye||ye;for(var Ke=this.pdf.internal.getCurrentPageInfo().pageNumber,gt=0;gt<this.pdf.internal.getNumberOfPages();gt++)this.pdf.setPage(gt+1),this.pdf.internal.out("q");if(this.pdf.setPage(Ke),ye){this.ctx.fontSize=this.pdf.internal.getFontSize();var Dt=new oe(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Dt}},ve.prototype.restore=function(ye){ye="boolean"!=typeof ye||ye;for(var Ke=this.pdf.internal.getCurrentPageInfo().pageNumber,gt=0;gt<this.pdf.internal.getNumberOfPages();gt++)this.pdf.setPage(gt+1),this.pdf.internal.out("Q");this.pdf.setPage(Ke),ye&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},ve.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Oe=function(ye){var Ke,gt,Dt,Lt;if(!0===ye.isCanvasGradient&&(ye=ye.getColor()),!ye)return{r:0,g:0,b:0,a:0,style:ye};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ye))Ke=0,gt=0,Dt=0,Lt=0;else{var xn=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ye);if(null!==xn)Ke=parseInt(xn[1]),gt=parseInt(xn[2]),Dt=parseInt(xn[3]),Lt=1;else if(null!==(xn=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ye)))Ke=parseInt(xn[1]),gt=parseInt(xn[2]),Dt=parseInt(xn[3]),Lt=parseFloat(xn[4]);else{if(Lt=1,"string"==typeof ye&&"#"!==ye.charAt(0)){var Kn=new In(ye);ye=Kn.ok?Kn.toHex():"#000000"}4===ye.length?(Ke=ye.substring(1,2),Ke+=Ke,gt=ye.substring(2,3),gt+=gt,Dt=ye.substring(3,4),Dt+=Dt):(Ke=ye.substring(1,3),gt=ye.substring(3,5),Dt=ye.substring(5,7)),Ke=parseInt(Ke,16),gt=parseInt(gt,16),Dt=parseInt(Dt,16)}}return{r:Ke,g:gt,b:Dt,a:Lt,style:ye}},he=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},ct=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};ve.prototype.fillText=function(ye,Ke,gt,Dt){if(isNaN(Ke)||isNaN(gt)||"string"!=typeof ye)throw ie.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Dt=isNaN(Dt)?void 0:Dt,!he.call(this)){var Lt=M(this.ctx.transform.rotation);Ue.call(this,{text:ye,x:Ke,y:gt,scale:this.ctx.transform.scaleX,angle:Lt,align:this.textAlign,maxWidth:Dt})}},ve.prototype.strokeText=function(ye,Ke,gt,Dt){if(isNaN(Ke)||isNaN(gt)||"string"!=typeof ye)throw ie.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!ct.call(this)){Dt=isNaN(Dt)?void 0:Dt;var Lt=M(this.ctx.transform.rotation);Ue.call(this,{text:ye,x:Ke,y:gt,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:Lt,align:this.textAlign,maxWidth:Dt})}},ve.prototype.measureText=function(ye){if("string"!=typeof ye)throw ie.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Ke=this.pdf,gt=this.pdf.internal.scaleFactor,Dt=Ke.internal.getFontSize(),Lt=Ke.getStringUnitWidth(ye)*Dt/Ke.internal.scaleFactor;return new function(Kn){var qn=(Kn=Kn||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return qn}}),this}({width:Lt*=Math.round(96*gt/72*1e4)/1e4})},ve.prototype.scale=function(ye,Ke){if(isNaN(ye)||isNaN(Ke))throw ie.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var gt=new $(ye,0,0,Ke,0,0);this.ctx.transform=this.ctx.transform.multiply(gt)},ve.prototype.rotate=function(ye){if(isNaN(ye))throw ie.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Ke=new $(Math.cos(ye),Math.sin(ye),-Math.sin(ye),Math.cos(ye),0,0);this.ctx.transform=this.ctx.transform.multiply(Ke)},ve.prototype.translate=function(ye,Ke){if(isNaN(ye)||isNaN(Ke))throw ie.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var gt=new $(1,0,0,1,ye,Ke);this.ctx.transform=this.ctx.transform.multiply(gt)},ve.prototype.transform=function(ye,Ke,gt,Dt,Lt,xn){if(isNaN(ye)||isNaN(Ke)||isNaN(gt)||isNaN(Dt)||isNaN(Lt)||isNaN(xn))throw ie.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Kn=new $(ye,Ke,gt,Dt,Lt,xn);this.ctx.transform=this.ctx.transform.multiply(Kn)},ve.prototype.setTransform=function(ye,Ke,gt,Dt,Lt,xn){ye=isNaN(ye)?1:ye,Ke=isNaN(Ke)?0:Ke,gt=isNaN(gt)?0:gt,Dt=isNaN(Dt)?1:Dt,Lt=isNaN(Lt)?0:Lt,xn=isNaN(xn)?0:xn,this.ctx.transform=new $(ye,Ke,gt,Dt,Lt,xn)};var at=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};ve.prototype.drawImage=function(ye,Ke,gt,Dt,Lt,xn,Kn,qn,ti){var zr=this.pdf.getImageProperties(ye),gi=1,Ci=1,Po=1,Ar=1;void 0!==Dt&&void 0!==qn&&(Po=qn/Dt,Ar=ti/Lt,gi=zr.width/Dt*qn/Dt,Ci=zr.height/Lt*ti/Lt),void 0===xn&&(xn=Ke,Kn=gt,Ke=0,gt=0),void 0!==Dt&&void 0===qn&&(qn=Dt,ti=Lt),void 0===Dt&&void 0===qn&&(qn=zr.width,ti=zr.height);for(var Ht,jo=this.ctx.transform.decompose(),Ki=M(jo.rotate.shx),Gr=new $,li=(Gr=(Gr=(Gr=Gr.multiply(jo.translate)).multiply(jo.skew)).multiply(jo.scale)).applyToRectangle(new U(xn-Ke*Po,Kn-gt*Ar,Dt*gi,Lt*Ci)),Ii=ht.call(this,li),vi=[],po=0;po<Ii.length;po+=1)-1===vi.indexOf(Ii[po])&&vi.push(Ii[po]);if(p(vi),this.autoPaging)for(var Xo=vi[0],ys=vi[vi.length-1],Ts=Xo;Ts<ys+1;Ts++){this.pdf.setPage(Ts);var ta=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ja=1===Ts?this.posY+this.margin[0]:this.margin[0],Hs=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Si=1===Ts?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ts-2)*Hs;if(0!==this.ctx.clip_path.length){var R=this.path;Ht=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Ht,this.posX+this.margin[3],-Si+ja+this.ctx.prevPageLastElemOffset),Q.call(this,"fill",!0),this.path=R}var B=JSON.parse(JSON.stringify(li));B=A([B],this.posX+this.margin[3],-Si+ja+this.ctx.prevPageLastElemOffset)[0];var O=(Ts>Xo||Ts<ys)&&at.call(this);O&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ta,Hs,null).clip().discardPath()),this.pdf.addImage(ye,"JPEG",B.x,B.y,B.w,B.h,null,null,Ki),O&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(ye,"JPEG",li.x,li.y,li.w,li.h,null,null,Ki)};var ht=function(ye,Ke,gt){var Dt=[];Ke=Ke||this.pdf.internal.pageSize.width,gt=gt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Lt=this.posY+this.ctx.prevPageLastElemOffset;switch(ye.type){default:case"mt":case"lt":Dt.push(Math.floor((ye.y+Lt)/gt)+1);break;case"arc":Dt.push(Math.floor((ye.y+Lt-ye.radius)/gt)+1),Dt.push(Math.floor((ye.y+Lt+ye.radius)/gt)+1);break;case"qct":var xn=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ye.x1,ye.y1,ye.x,ye.y);Dt.push(Math.floor((xn.y+Lt)/gt)+1),Dt.push(Math.floor((xn.y+xn.h+Lt)/gt)+1);break;case"bct":var Kn=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ye.x1,ye.y1,ye.x2,ye.y2,ye.x,ye.y);Dt.push(Math.floor((Kn.y+Lt)/gt)+1),Dt.push(Math.floor((Kn.y+Kn.h+Lt)/gt)+1);break;case"rect":Dt.push(Math.floor((ye.y+Lt)/gt)+1),Dt.push(Math.floor((ye.y+ye.h+Lt)/gt)+1)}for(var qn=0;qn<Dt.length;qn+=1)for(;this.pdf.internal.getNumberOfPages()<Dt[qn];)m.call(this);return Dt},m=function(){var ye=this.fillStyle,Ke=this.strokeStyle,gt=this.font,Dt=this.lineCap,Lt=this.lineWidth,xn=this.lineJoin;this.pdf.addPage(),this.fillStyle=ye,this.strokeStyle=Ke,this.font=gt,this.lineCap=Dt,this.lineWidth=Lt,this.lineJoin=xn},A=function(ye,Ke,gt){for(var Dt=0;Dt<ye.length;Dt++)switch(ye[Dt].type){case"bct":ye[Dt].x2+=Ke,ye[Dt].y2+=gt;case"qct":ye[Dt].x1+=Ke,ye[Dt].y1+=gt;default:ye[Dt].x+=Ke,ye[Dt].y+=gt}return ye},p=function(ye){return ye.sort(function(Ke,gt){return Ke-gt})},b=function(ye,Ke){for(var gt,Dt,Lt=this.fillStyle,xn=this.strokeStyle,Kn=this.lineCap,qn=this.lineWidth,ti=Math.abs(qn*this.ctx.transform.scaleX),zr=this.lineJoin,gi=JSON.parse(JSON.stringify(this.path)),Ci=JSON.parse(JSON.stringify(this.path)),Po=[],Ar=0;Ar<Ci.length;Ar++)if(void 0!==Ci[Ar].x)for(var Ht=ht.call(this,Ci[Ar]),jo=0;jo<Ht.length;jo+=1)-1===Po.indexOf(Ht[jo])&&Po.push(Ht[jo]);for(var Ki=0;Ki<Po.length;Ki++)for(;this.pdf.internal.getNumberOfPages()<Po[Ki];)m.call(this);if(p(Po),this.autoPaging)for(var Gr=Po[0],li=Po[Po.length-1],Ii=Gr;Ii<li+1;Ii++){this.pdf.setPage(Ii),this.fillStyle=Lt,this.strokeStyle=xn,this.lineCap=Kn,this.lineWidth=ti,this.lineJoin=zr;var vi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],po=1===Ii?this.posY+this.margin[0]:this.margin[0],ys=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ts=1===Ii?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ii-2)*ys;if(0!==this.ctx.clip_path.length){var ta=this.path;gt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(gt,this.posX+this.margin[3],-Ts+po+this.ctx.prevPageLastElemOffset),Q.call(this,ye,!0),this.path=ta}if(Dt=JSON.parse(JSON.stringify(gi)),this.path=A(Dt,this.posX+this.margin[3],-Ts+po+this.ctx.prevPageLastElemOffset),!1===Ke||0===Ii){var ja=(Ii>Gr||Ii<li)&&at.call(this);ja&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vi,ys,null).clip().discardPath()),Q.call(this,ye,Ke),ja&&this.pdf.restoreGraphicsState()}this.lineWidth=qn}else this.lineWidth=ti,Q.call(this,ye,Ke),this.lineWidth=qn;this.path=gi},Q=function(ye,Ke){if(("stroke"!==ye||Ke||!ct.call(this))&&("stroke"===ye||Ke||!he.call(this))){for(var gt,Dt,Lt=[],xn=this.path,Kn=0;Kn<xn.length;Kn++){var qn=xn[Kn];switch(qn.type){case"begin":Lt.push({begin:!0});break;case"close":Lt.push({close:!0});break;case"mt":Lt.push({start:qn,deltas:[],abs:[]});break;case"lt":var ti=Lt.length;if(xn[Kn-1]&&!isNaN(xn[Kn-1].x)&&(gt=[qn.x-xn[Kn-1].x,qn.y-xn[Kn-1].y],ti>0))for(;ti>=0;ti--)if(!0!==Lt[ti-1].close&&!0!==Lt[ti-1].begin){Lt[ti-1].deltas.push(gt),Lt[ti-1].abs.push(qn);break}break;case"bct":Lt[Lt.length-1].deltas.push(gt=[qn.x1-xn[Kn-1].x,qn.y1-xn[Kn-1].y,qn.x2-xn[Kn-1].x,qn.y2-xn[Kn-1].y,qn.x-xn[Kn-1].x,qn.y-xn[Kn-1].y]);break;case"qct":Lt[Lt.length-1].deltas.push(gt=[xn[Kn-1].x+2/3*(qn.x1-xn[Kn-1].x)-xn[Kn-1].x,xn[Kn-1].y+2/3*(qn.y1-xn[Kn-1].y)-xn[Kn-1].y,qn.x+2/3*(qn.x1-qn.x)-xn[Kn-1].x,qn.y+2/3*(qn.y1-qn.y)-xn[Kn-1].y,qn.x-xn[Kn-1].x,qn.y-xn[Kn-1].y]);break;case"arc":Lt.push({deltas:[],abs:[],arc:!0}),Array.isArray(Lt[Lt.length-1].abs)&&Lt[Lt.length-1].abs.push(qn)}}Dt=Ke?null:"stroke"===ye?"stroke":"fill";for(var jo=!1,Ki=0;Ki<Lt.length;Ki++)if(Lt[Ki].arc)for(var Gr=Lt[Ki].abs,li=0;li<Gr.length;li++){var Ii=Gr[li];"arc"===Ii.type?me.call(this,Ii.x,Ii.y,Ii.radius,Ii.startAngle,Ii.endAngle,Ii.counterclockwise,void 0,Ke,!jo):dt.call(this,Ii.x,Ii.y),jo=!0}else!0===Lt[Ki].close?(this.pdf.internal.out("h"),jo=!1):!0!==Lt[Ki].begin&&(It.call(this,Lt[Ki].deltas,Lt[Ki].start.x,Lt[Ki].start.y),jo=!0);Dt&&We.call(this,Dt),Ke&&it.call(this)}},ee=function(ye){var Ke=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,gt=Ke*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ye-gt;case"top":return ye+Ke-gt;case"hanging":return ye+Ke-2*gt;case"middle":return ye+Ke/2-gt;default:return ye}},le=function(ye){return ye+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};ve.prototype.createLinearGradient=function(){var ye=function(){};return ye.colorStops=[],ye.addColorStop=function(Ke,gt){this.colorStops.push([Ke,gt])},ye.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},ye.isCanvasGradient=!0,ye},ve.prototype.createPattern=function(){return this.createLinearGradient()},ve.prototype.createRadialGradient=function(){return this.createLinearGradient()};var me=function(ye,Ke,gt,Dt,Lt,xn,Kn,qn,ti){for(var zr=v.call(this,gt,Dt,Lt,xn),gi=0;gi<zr.length;gi++){var Ci=zr[gi];0===gi&&(ti?Me.call(this,Ci.x1+ye,Ci.y1+Ke):dt.call(this,Ci.x1+ye,Ci.y1+Ke)),F.call(this,ye,Ke,Ci.x2,Ci.y2,Ci.x3,Ci.y3,Ci.x4,Ci.y4)}qn?it.call(this):We.call(this,Kn)},We=function(ye){switch(ye){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},it=function(){this.pdf.clip(),this.pdf.discardPath()},Me=function(ye,Ke){this.pdf.internal.out(c(ye)+" "+u(Ke)+" m")},Ue=function(ye){var Ke;switch(ye.align){case"right":case"end":Ke="right";break;case"center":Ke="center";break;default:Ke="left"}var gt=this.pdf.getTextDimensions(ye.text),Dt=ee.call(this,ye.y),Lt=le.call(this,Dt)-gt.h,xn=this.ctx.transform.applyToPoint(new P(ye.x,Dt)),Kn=this.ctx.transform.decompose(),qn=new $;qn=(qn=(qn=qn.multiply(Kn.translate)).multiply(Kn.skew)).multiply(Kn.scale);for(var ti,zr,gi,Ci=this.ctx.transform.applyToRectangle(new U(ye.x,Dt,gt.w,gt.h)),Po=qn.applyToRectangle(new U(ye.x,Lt,gt.w,gt.h)),Ar=ht.call(this,Po),Ht=[],jo=0;jo<Ar.length;jo+=1)-1===Ht.indexOf(Ar[jo])&&Ht.push(Ar[jo]);if(p(Ht),this.autoPaging)for(var Ki=Ht[0],Gr=Ht[Ht.length-1],li=Ki;li<Gr+1;li++){this.pdf.setPage(li);var Ii=1===li?this.posY+this.margin[0]:this.margin[0],po=this.pdf.internal.pageSize.height-this.margin[2],Xo=po-this.margin[0],ys=this.pdf.internal.pageSize.width-this.margin[1],Ts=ys-this.margin[3],ta=1===li?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(li-2)*Xo;if(0!==this.ctx.clip_path.length){var ja=this.path;ti=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(ti,this.posX+this.margin[3],-1*ta+Ii),Q.call(this,"fill",!0),this.path=ja}var Oo=A([JSON.parse(JSON.stringify(Po))],this.posX+this.margin[3],-ta+Ii+this.ctx.prevPageLastElemOffset)[0];ye.scale>=.01&&(zr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(zr*ye.scale),this.lineWidth=(gi=this.lineWidth)*ye.scale);var Hs="text"!==this.autoPaging;if(Hs||Oo.y+Oo.h<=po){if(Hs||Oo.y>=Ii&&Oo.x<=ys){var Si=Hs?ye.text:this.pdf.splitTextToSize(ye.text,ye.maxWidth||ys-Oo.x)[0],R=A([JSON.parse(JSON.stringify(Ci))],this.posX+this.margin[3],-ta+Ii+this.ctx.prevPageLastElemOffset)[0],B=Hs&&(li>Ki||li<Gr)&&at.call(this);B&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ts,Xo,null).clip().discardPath()),this.pdf.text(Si,R.x,R.y,{angle:ye.angle,align:Ke,renderingMode:ye.renderingMode}),B&&this.pdf.restoreGraphicsState()}}else Oo.y<po&&(this.ctx.prevPageLastElemOffset+=po-Oo.y);ye.scale>=.01&&(this.pdf.setFontSize(zr),this.lineWidth=gi)}else ye.scale>=.01&&(zr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(zr*ye.scale),this.lineWidth=(gi=this.lineWidth)*ye.scale),this.pdf.text(ye.text,xn.x+this.posX,xn.y+this.posY,{angle:ye.angle,align:Ke,renderingMode:ye.renderingMode,maxWidth:ye.maxWidth}),ye.scale>=.01&&(this.pdf.setFontSize(zr),this.lineWidth=gi)},dt=function(ye,Ke,gt,Dt){Dt=Dt||0,this.pdf.internal.out(c(ye+(gt=gt||0))+" "+u(Ke+Dt)+" l")},It=function(ye,Ke,gt){return this.pdf.lines(ye,Ke,gt,null,null)},F=function(ye,Ke,gt,Dt,Lt,xn,Kn,qn){this.pdf.internal.out([d(_(gt+ye)),d(I(Dt+Ke)),d(_(Lt+ye)),d(I(xn+Ke)),d(_(Kn+ye)),d(I(qn+Ke)),"c"].join(" "))},v=function(ye,Ke,gt,Dt){for(var Lt=2*Math.PI,xn=Math.PI/2;Ke>gt;)Ke-=Lt;var Kn=Math.abs(gt-Ke);Kn<Lt&&Dt&&(Kn=Lt-Kn);for(var qn=[],ti=Dt?-1:1,zr=Ke;Kn>1e-5;){var gi=zr+ti*Math.min(Kn,xn);qn.push(C.call(this,ye,zr,gi)),Kn-=Math.abs(gi-zr),zr=gi}return qn},C=function(ye,Ke,gt){var Dt=(gt-Ke)/2,Lt=ye*Math.cos(Dt),xn=ye*Math.sin(Dt),Kn=Lt,qn=-xn,ti=Kn*Kn+qn*qn,zr=ti+Kn*Lt+qn*xn,gi=4/3*(Math.sqrt(2*ti*zr)-zr)/(Kn*xn-qn*Lt),Ci=Kn-gi*qn,Po=qn+gi*Kn,Ar=Ci,Ht=-Po,jo=Dt+Ke,Ki=Math.cos(jo),Gr=Math.sin(jo);return{x1:ye*Math.cos(Ke),y1:ye*Math.sin(Ke),x2:Ci*Ki-Po*Gr,y2:Ci*Gr+Po*Ki,x3:Ar*Ki-Ht*Gr,y3:Ar*Gr+Ht*Ki,x4:ye*Math.cos(gt),y4:ye*Math.sin(gt)}},M=function(ye){return 180*ye/Math.PI},ae=function(ye,Ke,gt,Dt,Lt,xn){var Kn=ye+.5*(gt-ye),qn=Ke+.5*(Dt-Ke),ti=Lt+.5*(gt-Lt),zr=xn+.5*(Dt-xn),gi=Math.min(ye,Lt,Kn,ti),Ci=Math.max(ye,Lt,Kn,ti),Po=Math.min(Ke,xn,qn,zr),Ar=Math.max(Ke,xn,qn,zr);return new U(gi,Po,Ci-gi,Ar-Po)},Se=function(ye,Ke,gt,Dt,Lt,xn,Kn,qn){var ti,zr,gi,Ci,Po,Ar,Ht,jo,Ki,Gr,li,Ii,vi,po,Xo=gt-ye,ys=Dt-Ke,Ts=Lt-gt,ta=xn-Dt,ja=Kn-Lt,Oo=qn-xn;for(zr=0;zr<41;zr++)Ki=(Ht=(gi=ye+(ti=zr/40)*Xo)+ti*((Po=gt+ti*Ts)-gi))+ti*(Po+ti*(Lt+ti*ja-Po)-Ht),Gr=(jo=(Ci=Ke+ti*ys)+ti*((Ar=Dt+ti*ta)-Ci))+ti*(Ar+ti*(xn+ti*Oo-Ar)-jo),0==zr?(li=Ki,Ii=Gr,vi=Ki,po=Gr):(li=Math.min(li,Ki),Ii=Math.min(Ii,Gr),vi=Math.max(vi,Ki),po=Math.max(po,Gr));return new U(Math.round(li),Math.round(Ii),Math.round(vi-li),Math.round(po-Ii))},yt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var gt=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==gt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=gt)}}})(Vi.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(g){var d=function(I){var P,U,$,te,oe,ve,Oe,he,ct,at;for(/[^\x00-\xFF]/.test(I),U=[],$=0,te=(I+=P="\0\0\0\0".slice(I.length%4||4)).length;te>$;$+=4)0!==(oe=(I.charCodeAt($)<<24)+(I.charCodeAt($+1)<<16)+(I.charCodeAt($+2)<<8)+I.charCodeAt($+3))?(ve=(oe=((oe=((oe=((oe=(oe-(at=oe%85))/85)-(ct=oe%85))/85)-(he=oe%85))/85)-(Oe=oe%85))/85)%85,U.push(ve+33,Oe+33,he+33,ct+33,at+33)):U.push(122);return function(ht,m){for(var A=m;A>0;A--)ht.pop()}(U,P.length),String.fromCharCode.apply(String,U)+"~>"},c=function(I){var P,U,$,te,oe,ve=String,Oe="length",ct="charCodeAt",at="slice",ht="replace";for(I[at](-2),I=I[at](0,-2)[ht](/\s/g,"")[ht]("z","!!!!!"),$=[],te=0,oe=(I+=P="uuuuu"[at](I[Oe]%5||5))[Oe];oe>te;te+=5)U=52200625*(I[ct](te)-33)+614125*(I[ct](te+1)-33)+7225*(I[ct](te+2)-33)+85*(I[ct](te+3)-33)+(I[ct](te+4)-33),$.push(255&U>>24,255&U>>16,255&U>>8,255&U);return function(m,A){for(var p=A;p>0;p--)m.pop()}($,P[Oe]),ve.fromCharCode.apply(ve,$)},u=function(I){var P=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(I=I.replace(/\s/g,"")).indexOf(">")&&(I=I.substr(0,I.indexOf(">"))),I.length%2&&(I+="0"),!1===P.test(I))return"";for(var U="",$=0;$<I.length;$+=2)U+=String.fromCharCode("0x"+(I[$]+I[$+1]));return U},_=function(I){for(var P=new Uint8Array(I.length),U=I.length;U--;)P[U]=I.charCodeAt(U);return(P=jl(P)).reduce(function($,te){return $+String.fromCharCode(te)},"")};g.processDataByFilters=function(I,P){var U=0,$=I||"",te=[];for("string"==typeof(P=P||[])&&(P=[P]),U=0;U<P.length;U+=1)switch(P[U]){case"ASCII85Decode":case"/ASCII85Decode":$=c($),te.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":$=d($),te.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":$=u($),te.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":$=$.split("").map(function(oe){return("0"+oe.charCodeAt().toString(16)).slice(-2)}).join("")+">",te.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":$=_($),te.push("/FlateDecode");break;default:throw new Error('The filter: "'+P[U]+'" is not implemented')}return{data:$,reverseChain:te.reverse().join(" ")}}}(Vi.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(g){g.loadFile=function(d,c,u){return function(_,I,P){I=!1!==I,P="function"==typeof P?P:function(){};var U=void 0;try{U=function($,te,oe){var ve=new XMLHttpRequest,Oe=0,he=function(ct){var at=ct.length,ht=[],m=String.fromCharCode;for(Oe=0;Oe<at;Oe+=1)ht.push(m(255&ct.charCodeAt(Oe)));return ht.join("")};if(ve.open("GET",$,!te),ve.overrideMimeType("text/plain; charset=x-user-defined"),!1===te&&(ve.onload=function(){oe(200===ve.status?he(this.responseText):void 0)}),ve.send(null),te&&200===ve.status)return he(ve.responseText)}(_,I,P)}catch{}return U}(d,c,u)},g.loadImageFile=g.loadFile}(Vi.API),function(g){function d(){return(L.html2canvas?Promise.resolve(L.html2canvas):Promise.resolve().then(Be.t.bind(Be,7239,23))).catch(function(P){return Promise.reject(new Error("Could not load html2canvas: "+P))}).then(function(P){return P.default?P.default:P})}function c(){return(L.DOMPurify?Promise.resolve(L.DOMPurify):Be.e(1973).then(Be.t.bind(Be,1973,23))).catch(function(P){return Promise.reject(new Error("Could not load dompurify: "+P))}).then(function(P){return P.default?P.default:P})}var u=function(P){var U=(0,$i.A)(P);return"undefined"===U?"undefined":"string"===U||P instanceof String?"string":"number"===U||P instanceof Number?"number":"function"===U||P instanceof Function?"function":P&&P.constructor===Array?"array":P&&1===P.nodeType?"element":"object"===U?"object":"unknown"},_=function(P,U){var $=document.createElement(P);for(var te in U.className&&($.className=U.className),U.innerHTML&&U.dompurify&&($.innerHTML=U.dompurify.sanitize(U.innerHTML)),U.style)$.style[te]=U.style[te];return $},I=function P(U){var $=Object.assign(P.convert(Promise.resolve()),JSON.parse(JSON.stringify(P.template))),te=P.convert(Promise.resolve(),$);return(te=te.setProgress(1,P,1,[P])).set(U)};(I.prototype=Object.create(Promise.prototype)).constructor=I,I.convert=function(P,U){return P.__proto__=U||I.prototype,P},I.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},I.prototype.from=function(P,U){return this.then(function(){switch(U=U||function($){switch(u($)){case"string":return"string";case"element":return"canvas"===$.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(P)){case"string":return this.then(c).then(function($){return this.set({src:_("div",{innerHTML:P,dompurify:$})})});case"element":return this.set({src:P});case"canvas":return this.set({canvas:P});case"img":return this.set({img:P});default:return this.error("Unknown source type.")}})},I.prototype.to=function(P){switch(P){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},I.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var P={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},U=function $(te,oe){for(var ve=3===te.nodeType?document.createTextNode(te.nodeValue):te.cloneNode(!1),Oe=te.firstChild;Oe;Oe=Oe.nextSibling)!0!==oe&&1===Oe.nodeType&&"SCRIPT"===Oe.nodeName||ve.appendChild($(Oe,oe));return 1===te.nodeType&&("CANVAS"===te.nodeName?(ve.width=te.width,ve.height=te.height,ve.getContext("2d").drawImage(te,0,0)):"TEXTAREA"!==te.nodeName&&"SELECT"!==te.nodeName||(ve.value=te.value),ve.addEventListener("load",function(){ve.scrollTop=te.scrollTop,ve.scrollLeft=te.scrollLeft},!0)),ve}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===U.tagName&&(P.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=_("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=_("div",{className:"html2pdf__container",style:P}),this.prop.container.appendChild(U),this.prop.container.firstChild.appendChild(_("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},I.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(d).then(function(U){var $=Object.assign({},this.opt.html2canvas);return delete $.onrendered,U(this.prop.container,$)}).then(function(U){(this.opt.html2canvas.onrendered||function(){})(U),this.prop.canvas=U,document.body.removeChild(this.prop.overlay)})},I.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(d).then(function(U){var $=this.opt.jsPDF,te=this.opt.fontFaces,oe="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,ve=Object.assign({async:!0,allowTaint:!0,scale:oe,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete ve.onrendered,$.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,$.context2d.posX=this.opt.x,$.context2d.posY=this.opt.y,$.context2d.margin=this.opt.margin,$.context2d.fontFaces=te,te)for(var Oe=0;Oe<te.length;++Oe){var he=te[Oe],ct=he.src.find(function(at){return"truetype"===at.format});ct&&$.addFont(ct.url,he.ref.name,he.ref.style)}return ve.windowHeight=ve.windowHeight||0,ve.windowHeight=0==ve.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):ve.windowHeight,$.context2d.save(!0),U(this.prop.container,ve)}).then(function(U){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(U),this.prop.canvas=U,document.body.removeChild(this.prop.overlay)})},I.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var P=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=P})},I.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},I.prototype.output=function(P,U,$){return"img"===($=$||"pdf").toLowerCase()||"image"===$.toLowerCase()?this.outputImg(P,U):this.outputPdf(P,U)},I.prototype.outputPdf=function(P,U){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(P,U)})},I.prototype.outputImg=function(P){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(P){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+P+'" is not supported.'}})},I.prototype.save=function(P){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(P?{filename:P}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},I.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},I.prototype.set=function(P){if("object"!==u(P))return this;var U=Object.keys(P||{}).map(function($){if($ in I.template.prop)return function(){this.prop[$]=P[$]};switch($){case"margin":return this.setMargin.bind(this,P.margin);case"jsPDF":return function(){return this.opt.jsPDF=P.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,P.pageSize);default:return function(){this.opt[$]=P[$]}}},this);return this.then(function(){return this.thenList(U)})},I.prototype.get=function(P,U){return this.then(function(){var $=P in I.template.prop?this.prop[P]:this.opt[P];return U?U($):$})},I.prototype.setMargin=function(P){return this.then(function(){switch(u(P)){case"number":P=[P,P,P,P];case"array":if(2===P.length&&(P=[P[0],P[1],P[0],P[1]]),4===P.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=P}).then(this.setPageSize)},I.prototype.setPageSize=function(P){function U($,te){return Math.floor($*te/72*96)}return this.then(function(){(P=P||Vi.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(P.inner={width:P.width-this.opt.margin[1]-this.opt.margin[3],height:P.height-this.opt.margin[0]-this.opt.margin[2]},P.inner.px={width:U(P.inner.width,P.k),height:U(P.inner.height,P.k)},P.inner.ratio=P.inner.height/P.inner.width),this.prop.pageSize=P})},I.prototype.setProgress=function(P,U,$,te){return null!=P&&(this.progress.val=P),null!=U&&(this.progress.state=U),null!=$&&(this.progress.n=$),null!=te&&(this.progress.stack=te),this.progress.ratio=this.progress.val/this.progress.state,this},I.prototype.updateProgress=function(P,U,$,te){return this.setProgress(P?this.progress.val+P:null,U||null,$?this.progress.n+$:null,te?this.progress.stack.concat(te):null)},I.prototype.then=function(P,U){var $=this;return this.thenCore(P,U,function(te,oe){return $.updateProgress(null,null,1,[te]),Promise.prototype.then.call(this,function(ve){return $.updateProgress(null,te),ve}).then(te,oe).then(function(ve){return $.updateProgress(1),ve})})},I.prototype.thenCore=function(P,U,$){$=$||Promise.prototype.then,P&&(P=P.bind(this)),U&&(U=U.bind(this));var te=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:I.convert(Object.assign({},this),Promise.prototype),oe=$.call(te,P,U);return I.convert(oe,this.__proto__)},I.prototype.thenExternal=function(P,U){return Promise.prototype.then.call(this,P,U)},I.prototype.thenList=function(P){var U=this;return P.forEach(function($){U=U.thenCore($)}),U},I.prototype.catch=function(P){P&&(P=P.bind(this));var U=Promise.prototype.catch.call(this,P);return I.convert(U,this)},I.prototype.catchExternal=function(P){return Promise.prototype.catch.call(this,P)},I.prototype.error=function(P){return this.then(function(){throw new Error(P)})},I.prototype.using=I.prototype.set,I.prototype.saveAs=I.prototype.save,I.prototype.export=I.prototype.output,I.prototype.run=I.prototype.then,Vi.getPageSize=function(P,U,$){if("object"===(0,$i.A)(P)){var te=P;P=te.orientation,U=te.unit||U,$=te.format||$}U=U||"mm",$=$||"a4",P=(""+(P||"P")).toLowerCase();var oe,ve=(""+$).toLowerCase(),Oe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(U){case"pt":oe=1;break;case"mm":oe=72/25.4;break;case"cm":oe=72/2.54;break;case"in":oe=72;break;case"px":oe=.75;break;case"pc":case"em":oe=12;break;case"ex":oe=6;break;default:throw"Invalid unit: "+U}var he,ct=0,at=0;if(Oe.hasOwnProperty(ve))ct=Oe[ve][1]/oe,at=Oe[ve][0]/oe;else try{ct=$[1],at=$[0]}catch{throw new Error("Invalid format: "+$)}if("p"===P||"portrait"===P)P="p",at>ct&&(he=at,at=ct,ct=he);else{if("l"!==P&&"landscape"!==P)throw"Invalid orientation: "+P;P="l",ct>at&&(he=at,at=ct,ct=he)}return{width:at,height:ct,unit:U,k:oe,orientation:P}},g.html=function(P,U){(U=U||{}).callback=U.callback||function(){},U.html2canvas=U.html2canvas||{},U.html2canvas.canvas=U.html2canvas.canvas||this.canvas,U.jsPDF=U.jsPDF||this,U.fontFaces=U.fontFaces?U.fontFaces.map(VA):null;var $=new I(U);return U.worker?$:$.from(P).doCallback()}}(Vi.API),Vi.API.addJS=function(g){return Yd=g,this.internal.events.subscribe("postPutResources",function(){Fu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Fu+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ga=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Yd+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Fu&&void 0!==ga&&this.internal.out("/Names <</JavaScript "+Fu+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(g){var d;g.events.push(["postPutResources",function(){var c=this,u=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var _=c.outline.render().split(/\r\n/),I=0;I<_.length;I++){var P=_[I],U=u.exec(P);null!=U&&c.internal.newObjectDeferredBegin(U[1],!1),c.internal.write(P)}if(this.outline.createNamedDestinations){var te=this.internal.pages.length,oe=[];for(I=0;I<te;I++){var ve=c.internal.newObject();oe.push(ve);var Oe=c.internal.getPageInfo(I+1);c.internal.write("<< /D["+Oe.objId+" 0 R /XYZ null null null]>> endobj")}var he=c.internal.newObject();for(c.internal.write("<< /Names [ "),I=0;I<oe.length;I++)c.internal.write("(page_"+(I+1)+")"+oe[I]+" 0 R");c.internal.write(" ] >>","endobj"),d=c.internal.newObject(),c.internal.write("<< /Dests "+he+" 0 R"),c.internal.write(">>","endobj")}}]),g.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+d+" 0 R"))}]),g.events.push(["initialized",function(){var c=this;c.outline={createNamedDestinations:!1,root:{children:[]}},c.outline.add=function(u,_,I){var P={title:_,options:I,children:[]};return null==u&&(u=this.root),u.children.push(P),P},c.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=c,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},c.outline.genIds_r=function(u){u.id=c.internal.newObjectDeferred();for(var _=0;_<u.children.length;_++)this.genIds_r(u.children[_])},c.outline.renderRoot=function(u){this.objStart(u),this.line("/Type /Outlines"),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1]))),this.line("/Count "+this.count_r({count:0},u)),this.objEnd()},c.outline.renderItems=function(u){for(var _=this.ctx.pdf.internal.getVerticalCoordinateString,I=0;I<u.children.length;I++){var P=u.children[I];this.objStart(P),this.line("/Title "+this.makeString(P.title)),this.line("/Parent "+this.makeRef(u)),I>0&&this.line("/Prev "+this.makeRef(u.children[I-1])),I<u.children.length-1&&this.line("/Next "+this.makeRef(u.children[I+1])),P.children.length>0&&(this.line("/First "+this.makeRef(P.children[0])),this.line("/Last "+this.makeRef(P.children[P.children.length-1])));var U=this.count=this.count_r({count:0},P);if(U>0&&this.line("/Count "+U),P.options&&P.options.pageNumber){var $=c.internal.getPageInfo(P.options.pageNumber);this.line("/Dest ["+$.objId+" 0 R /XYZ 0 "+_(0)+" 0]")}this.objEnd()}for(var te=0;te<u.children.length;te++)this.renderItems(u.children[te])},c.outline.line=function(u){this.ctx.val+=u+"\r\n"},c.outline.makeRef=function(u){return u.id+" 0 R"},c.outline.makeString=function(u){return"("+c.internal.pdfEscape(u)+")"},c.outline.objStart=function(u){this.ctx.val+="\r\n"+u.id+" 0 obj\r\n<<\r\n"},c.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},c.outline.count_r=function(u,_){for(var I=0;I<_.children.length;I++)u.count++,this.count_r(u,_.children[I]);return u.count}}])}(Vi.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(g){var d=[192,193,194,195,196,197,198,199];g.processJPEG=function(c,u,_,I,P,U){var $,te=this.decode.DCT_DECODE,oe=null;if("string"==typeof c||this.__addimage__.isArrayBuffer(c)||this.__addimage__.isArrayBufferView(c)){switch(c=this.__addimage__.isArrayBuffer(c=P||c)?new Uint8Array(c):c,($=function(ve){for(var Oe,he=256*ve.charCodeAt(4)+ve.charCodeAt(5),ct=ve.length,at={width:0,height:0,numcomponents:1},ht=4;ht<ct;ht+=2){if(-1!==d.indexOf(ve.charCodeAt((ht+=he)+1))){Oe=256*ve.charCodeAt(ht+5)+ve.charCodeAt(ht+6),at={width:256*ve.charCodeAt(ht+7)+ve.charCodeAt(ht+8),height:Oe,numcomponents:ve.charCodeAt(ht+9)};break}he=256*ve.charCodeAt(ht+2)+ve.charCodeAt(ht+3)}return at}(c=this.__addimage__.isArrayBufferView(c)?this.__addimage__.arrayBufferToBinaryString(c):c)).numcomponents){case 1:U=this.color_spaces.DEVICE_GRAY;break;case 4:U=this.color_spaces.DEVICE_CMYK;break;case 3:U=this.color_spaces.DEVICE_RGB}oe={data:c,width:$.width,height:$.height,colorSpace:U,bitsPerComponent:8,filter:te,index:u,alias:_}}return oe}}(Vi.API);var eA,Jl,Fd,Du,gA,Ia=function(){var g,d,c;function u(I){var P,$,te,oe,ve,Oe,he,ct,at,ht,m,A,p;for(this.data=I,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},ve=null;;){switch(P=this.readUInt32(),ct=function(){var b,Q;for(Q=[],b=0;b<4;++b)Q.push(String.fromCharCode(this.data[this.pos++]));return Q}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(P);break;case"fcTL":ve&&this.animation.frames.push(ve),this.pos+=4,ve={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},oe=this.readUInt16(),te=this.readUInt16()||100,ve.delay=1e3*oe/te,ve.disposeOp=this.data[this.pos++],ve.blendOp=this.data[this.pos++],ve.data=[];break;case"IDAT":case"fdAT":for("fdAT"===ct&&(this.pos+=4,P-=4),I=(null!=ve?ve.data:void 0)||this.imgData,m=0;0<=P?m<P:m>P;0<=P?++m:--m)I.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if($=this.palette.length/3,this.transparency.indexed=this.read(P),this.transparency.indexed.length>$)throw new Error("More transparent colors than palette size");if((at=$-this.transparency.indexed.length)>0)for(A=0;0<=at?A<at:A>at;0<=at?++A:--A)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(P)[0];break;case 2:this.transparency.rgb=this.read(P)}break;case"tEXt":Oe=(ht=this.read(P)).indexOf(0),he=String.fromCharCode.apply(String,ht.slice(0,Oe)),this.text[he]=String.fromCharCode.apply(String,ht.slice(Oe+1));break;case"IEND":return ve&&this.animation.frames.push(ve),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=P}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}u.prototype.read=function(I){var P,U;for(U=[],P=0;0<=I?P<I:P>I;0<=I?++P:--P)U.push(this.data[this.pos++]);return U},u.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},u.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},u.prototype.decodePixels=function(I){var P=this.pixelBitlength/8,U=new Uint8Array(this.width*this.height*P),$=0,te=this;if(null==I&&(I=this.imgData),0===I.length)return new Uint8Array(0);function oe(ve,Oe,he,ct){var at,ht,m,A,p,b,Q,ee,me,We,it,Me,Ue,dt,It,F,v,C,M,ae,Se=Math.ceil((te.width-ve)/he),yt=Math.ceil((te.height-Oe)/ct),ye=te.width==Se&&te.height==yt;for(Ue=P*Se,it=ye?U:new Uint8Array(Ue*yt),b=I.length,Me=0,ht=0;Me<yt&&$<b;){switch(I[$++]){case 0:for(A=F=0;F<Ue;A=F+=1)it[ht++]=I[$++];break;case 1:for(A=v=0;v<Ue;A=v+=1)at=I[$++],p=A<P?0:it[ht-P],it[ht++]=(at+p)%256;break;case 2:for(A=C=0;C<Ue;A=C+=1)at=I[$++],m=(A-A%P)/P,it[ht++]=((dt=Me&&it[(Me-1)*Ue+m*P+A%P])+at)%256;break;case 3:for(A=M=0;M<Ue;A=M+=1)at=I[$++],m=(A-A%P)/P,p=A<P?0:it[ht-P],dt=Me&&it[(Me-1)*Ue+m*P+A%P],it[ht++]=(at+Math.floor((p+dt)/2))%256;break;case 4:for(A=ae=0;ae<Ue;A=ae+=1)at=I[$++],m=(A-A%P)/P,0===Me?dt=It=0:(dt=it[(Me-1)*Ue+m*P+A%P],It=m&&it[(Me-1)*Ue+(m-1)*P+A%P]),Q=(p=A<P?0:it[ht-P])+dt-It,ee=Math.abs(Q-p),me=Math.abs(Q-dt),We=Math.abs(Q-It),it[ht++]=(at+(ee<=me&&ee<=We?p:me<=We?dt:It))%256;break;default:throw new Error("Invalid filter algorithm: "+I[$-1])}if(!ye){var Ke=((Oe+Me*ct)*te.width+ve)*P,gt=Me*Ue;for(A=0;A<Se;A+=1){for(var Dt=0;Dt<P;Dt+=1)U[Ke++]=it[gt++];Ke+=(he-1)*P}}Me++}}return I=Wu(I),1==te.interlaceMethod?(oe(0,0,8,8),oe(4,0,8,8),oe(0,4,4,8),oe(2,0,4,4),oe(0,2,2,4),oe(1,0,2,2),oe(0,1,1,2)):oe(0,0,1,1),U},u.prototype.decodePalette=function(){var I,P,U,$,te,oe,ve,Oe,he;for(U=this.palette,oe=this.transparency.indexed||[],te=new Uint8Array((oe.length||0)+U.length),$=0,I=0,P=ve=0,Oe=U.length;ve<Oe;P=ve+=3)te[$++]=U[P],te[$++]=U[P+1],te[$++]=U[P+2],te[$++]=null!=(he=oe[I++])?he:255;return te},u.prototype.copyToImageData=function(I,P){var U,$,te,oe,ve,Oe,he,ct,at,ht,m;if($=this.colors,at=null,U=this.hasAlphaChannel,this.palette.length&&(at=null!=(m=this._decodedPalette)?m:this._decodedPalette=this.decodePalette(),$=4,U=!0),ct=(te=I.data||I).length,ve=at||P,oe=Oe=0,1===$)for(;oe<ct;)he=at?4*P[oe/4]:Oe,ht=ve[he++],te[oe++]=ht,te[oe++]=ht,te[oe++]=ht,te[oe++]=U?ve[he++]:255,Oe=he;else for(;oe<ct;)he=at?4*P[oe/4]:Oe,te[oe++]=ve[he++],te[oe++]=ve[he++],te[oe++]=ve[he++],te[oe++]=U?ve[he++]:255,Oe=he},u.prototype.decode=function(){var I;return I=new Uint8Array(this.width*this.height*4),this.copyToImageData(I,this.decodePixels()),I};var _=function(){if("[object Window]"===Object.prototype.toString.call(L)){try{d=L.document.createElement("canvas"),c=d.getContext("2d")}catch{return!1}return!0}return!1};return _(),g=function(I){var P;if(!0===_())return c.width=I.width,c.height=I.height,c.clearRect(0,0,I.width,I.height),c.putImageData(I,0,0),(P=new Image).src=d.toDataURL(),P;throw new Error("This method requires a Browser with Canvas-capability.")},u.prototype.decodeFrames=function(I){var P,U,$,te,oe,ve,Oe,he;if(this.animation){for(he=[],U=oe=0,ve=(Oe=this.animation.frames).length;oe<ve;U=++oe)$=I.createImageData((P=Oe[U]).width,P.height),te=this.decodePixels(new Uint8Array(P.data)),this.copyToImageData($,te),P.imageData=$,he.push(P.image=g($));return he}},u.prototype.renderFrame=function(I,P){var U,$,te;return U=($=this.animation.frames)[P],te=$[P-1],0===P&&I.clearRect(0,0,this.width,this.height),1===(null!=te?te.disposeOp:void 0)?I.clearRect(te.xOffset,te.yOffset,te.width,te.height):2===(null!=te?te.disposeOp:void 0)&&I.putImageData(te.imageData,te.xOffset,te.yOffset),0===U.blendOp&&I.clearRect(U.xOffset,U.yOffset,U.width,U.height),I.drawImage(U.image,U.xOffset,U.yOffset)},u.prototype.animate=function(I){var P,U,$,te,oe,ve,Oe=this;return U=0,te=(ve=this.animation).numFrames,$=ve.frames,oe=ve.numPlays,(P=function(){var he,ct;if(he=U++%te,ct=$[he],Oe.renderFrame(I,he),te>1&&U/te<oe)return Oe.animation._timeout=setTimeout(P,ct.delay)})()},u.prototype.stopAnimation=function(){var I;return clearTimeout(null!=(I=this.animation)?I._timeout:void 0)},u.prototype.render=function(I){var P,U;return I._png&&I._png.stopAnimation(),I._png=this,I.width=this.width,I.height=this.height,P=I.getContext("2d"),this.animation?(this.decodeFrames(P),this.animate(P)):(U=P.createImageData(this.width,this.height),this.copyToImageData(U,this.decodePixels()),P.putImageData(U,0,0))},u}();function ic(g){var d=0;if(71!==g[d++]||73!==g[d++]||70!==g[d++]||56!==g[d++]||56!=(g[d++]+1&253)||97!==g[d++])throw new Error("Invalid GIF 87a/89a header.");var c=g[d++]|g[d++]<<8,u=g[d++]|g[d++]<<8,_=g[d++],P=1<<1+(7&_);d++,d++;var U=null,$=null;_>>7&&(U=d,$=P,d+=3*P);var te=!0,oe=[],ve=0,Oe=null,he=0,ct=null;for(this.width=c,this.height=u;te&&d<g.length;)switch(g[d++]){case 33:switch(g[d++]){case 255:if(11!==g[d]||78==g[d+1]&&69==g[d+2]&&84==g[d+3]&&83==g[d+4]&&67==g[d+5]&&65==g[d+6]&&80==g[d+7]&&69==g[d+8]&&50==g[d+9]&&46==g[d+10]&&48==g[d+11]&&3==g[d+12]&&1==g[d+13]&&0==g[d+16])d+=14,ct=g[d++]|g[d++]<<8,d++;else for(d+=12;;){if(!((Me=g[d++])>=0))throw Error("Invalid block size");if(0===Me)break;d+=Me}break;case 249:if(4!==g[d++]||0!==g[d+4])throw new Error("Invalid graphics extension block.");var at=g[d++];ve=g[d++]|g[d++]<<8,Oe=g[d++],!(1&at)&&(Oe=null),he=at>>2&7,d++;break;case 254:for(;;){if(!((Me=g[d++])>=0))throw Error("Invalid block size");if(0===Me)break;d+=Me}break;default:throw new Error("Unknown graphic control label: 0x"+g[d-1].toString(16))}break;case 44:var ht=g[d++]|g[d++]<<8,m=g[d++]|g[d++]<<8,A=g[d++]|g[d++]<<8,p=g[d++]|g[d++]<<8,b=g[d++],Q=b>>6&1,ee=1<<1+(7&b),le=U,me=$,We=!1;b>>7&&(We=!0,le=d,me=ee,d+=3*ee);var it=d;for(d++;;){var Me;if(!((Me=g[d++])>=0))throw Error("Invalid block size");if(0===Me)break;d+=Me}oe.push({x:ht,y:m,width:A,height:p,has_local_palette:We,palette_offset:le,palette_size:me,data_offset:it,data_length:d-it,transparent_index:Oe,interlaced:!!Q,delay:ve,disposal:he});break;case 59:te=!1;break;default:throw new Error("Unknown gif block: 0x"+g[d-1].toString(16))}this.numFrames=function(){return oe.length},this.loopCount=function(){return ct},this.frameInfo=function(Ue){if(Ue<0||Ue>=oe.length)throw new Error("Frame index out of range.");return oe[Ue]},this.decodeAndBlitFrameBGRA=function(Ue,dt){var It=this.frameInfo(Ue),F=It.width*It.height,v=new Uint8Array(F);tA(g,It.data_offset,v,F);var C=It.palette_offset,M=It.transparent_index;null===M&&(M=256);var ae=It.width,Se=c-ae,yt=ae,ye=4*(It.y*c+It.x),Ke=4*((It.y+It.height)*c+It.x),gt=ye,Dt=4*Se;!0===It.interlaced&&(Dt+=4*c*7);for(var Lt=8,xn=0,Kn=v.length;xn<Kn;++xn){var qn=v[xn];if(0===yt&&(yt=ae,(gt+=Dt)>=Ke&&(Dt=4*Se+4*c*(Lt-1),gt=ye+(ae+Se)*(Lt<<1),Lt>>=1)),qn===M)gt+=4;else{var ti=g[C+3*qn],zr=g[C+3*qn+1];dt[gt++]=g[C+3*qn+2],dt[gt++]=zr,dt[gt++]=ti,dt[gt++]=255}--yt}},this.decodeAndBlitFrameRGBA=function(Ue,dt){var It=this.frameInfo(Ue),F=It.width*It.height,v=new Uint8Array(F);tA(g,It.data_offset,v,F);var C=It.palette_offset,M=It.transparent_index;null===M&&(M=256);var ae=It.width,Se=c-ae,yt=ae,ye=4*(It.y*c+It.x),Ke=4*((It.y+It.height)*c+It.x),gt=ye,Dt=4*Se;!0===It.interlaced&&(Dt+=4*c*7);for(var Lt=8,xn=0,Kn=v.length;xn<Kn;++xn){var qn=v[xn];if(0===yt&&(yt=ae,(gt+=Dt)>=Ke&&(Dt=4*Se+4*c*(Lt-1),gt=ye+(ae+Se)*(Lt<<1),Lt>>=1)),qn===M)gt+=4;else{var zr=g[C+3*qn+1],gi=g[C+3*qn+2];dt[gt++]=g[C+3*qn],dt[gt++]=zr,dt[gt++]=gi,dt[gt++]=255}--yt}}}function tA(g,d,c,u){for(var _=g[d++],I=1<<_,P=I+1,U=P+1,$=_+1,te=(1<<$)-1,oe=0,ve=0,Oe=0,he=g[d++],ct=new Int32Array(4096),at=null;;){for(;oe<16&&0!==he;)ve|=g[d++]<<oe,oe+=8,1===he?he=g[d++]:--he;if(oe<$)break;var ht=ve&te;if(ve>>=$,oe-=$,ht!==I){if(ht===P)break;for(var m=ht<U?ht:at,A=0,p=m;p>I;)p=ct[p]>>8,++A;var b=p;if(Oe+A+(m!==ht?1:0)>u)return void ie.log("Warning, gif stream longer than expected.");c[Oe++]=b;var Q=Oe+=A;for(m!==ht&&(c[Oe++]=b),p=m;A--;)c[--Q]=255&(p=ct[p]),p>>=8;null!==at&&U<4096&&(ct[U++]=at<<8|b,U>=te+1&&$<12&&(++$,te=te<<1|1)),at=ht}else U=P+1,te=(1<<($=_+1))-1,at=null}return Oe!==u&&ie.log("Warning, gif stream shorter than expected."),c}function xu(g){var d,c,u,_,I,P=Math.floor,U=new Array(64),$=new Array(64),te=new Array(64),oe=new Array(64),ve=new Array(65535),Oe=new Array(65535),he=new Array(64),ct=new Array(64),at=[],ht=0,m=7,A=new Array(64),p=new Array(64),b=new Array(64),Q=new Array(256),ee=new Array(2048),le=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],me=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],We=[0,1,2,3,4,5,6,7,8,9,10,11],it=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Me=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Ue=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],dt=[0,1,2,3,4,5,6,7,8,9,10,11],It=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],F=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function v(ye,Ke){for(var gt=0,Dt=0,Lt=new Array,xn=1;xn<=16;xn++){for(var Kn=1;Kn<=ye[xn];Kn++)Lt[Ke[Dt]]=[],Lt[Ke[Dt]][0]=gt,Lt[Ke[Dt]][1]=xn,Dt++,gt++;gt*=2}return Lt}function C(ye){for(var Ke=ye[0],gt=ye[1]-1;gt>=0;)Ke&1<<gt&&(ht|=1<<m),gt--,--m<0&&(255==ht?(M(255),M(0)):M(ht),m=7,ht=0)}function M(ye){at.push(ye)}function ae(ye){M(ye>>8&255),M(255&ye)}function Se(ye,Ke,gt,Dt,Lt){for(var xn,Kn=Lt[0],qn=Lt[240],ti=function(Gr,li){var Ii,vi,po,Xo,ys,Ts,ta,ja,Oo,Hs,Si=0;for(Oo=0;Oo<8;++Oo){var R=(Ii=Gr[Si])+(ja=Gr[Si+7]),B=Ii-ja,O=(vi=Gr[Si+1])+(ta=Gr[Si+6]),N=vi-ta,ce=(po=Gr[Si+2])+(Ts=Gr[Si+5]),De=po-Ts,Ge=(Xo=Gr[Si+3])+(ys=Gr[Si+4]),Et=Xo-ys,ft=R+Ge,ln=R-Ge,fn=O+ce,Sn=O-ce;Gr[Si]=ft+fn,Gr[Si+4]=ft-fn;var On=.707106781*(Sn+ln);Gr[Si+2]=ln+On,Gr[Si+6]=ln-On;var Lr=.382683433*((ft=Et+De)-(Sn=N+B)),Ur=.5411961*ft+Lr,ni=1.306562965*Sn+Lr,Uo=.707106781*(fn=De+N),Pi=B+Uo,Ir=B-Uo;Gr[Si+5]=Ir+Ur,Gr[Si+3]=Ir-Ur,Gr[Si+1]=Pi+ni,Gr[Si+7]=Pi-ni,Si+=8}for(Si=0,Oo=0;Oo<8;++Oo){var ws=(Ii=Gr[Si])+(ja=Gr[Si+56]),Ho=Ii-ja,co=(vi=Gr[Si+8])+(ta=Gr[Si+48]),Jr=vi-ta,Eo=(po=Gr[Si+16])+(Ts=Gr[Si+40]),zo=po-Ts,No=(Xo=Gr[Si+24])+(ys=Gr[Si+32]),zs=Xo-ys,gl=ws+No,ll=ws-No,us=co+Eo,ca=co-Eo;Gr[Si]=gl+us,Gr[Si+32]=gl-us;var xl=.707106781*(ca+ll);Gr[Si+16]=ll+xl,Gr[Si+48]=ll-xl;var cl=.382683433*((gl=zs+zo)-(ca=Jr+Ho)),zl=.5411961*gl+cl,pu=1.306562965*ca+cl,iA=.707106781*(us=zo+Jr),Mu=Ho+iA,Sc=Ho-iA;Gr[Si+40]=Sc+zl,Gr[Si+24]=Sc-zl,Gr[Si+8]=Mu+pu,Gr[Si+56]=Mu-pu,Si++}for(Oo=0;Oo<64;++Oo)he[Oo]=(Hs=Gr[Oo]*li[Oo])>0?Hs+.5|0:Hs-.5|0;return he}(ye,Ke),zr=0;zr<64;++zr)ct[le[zr]]=ti[zr];var gi=ct[0]-gt;gt=ct[0],0==gi?C(Dt[0]):(C(Dt[Oe[xn=32767+gi]]),C(ve[xn]));for(var Ci=63;Ci>0&&0==ct[Ci];)Ci--;if(0==Ci)return C(Kn),gt;for(var Po,Ar=1;Ar<=Ci;){for(var Ht=Ar;0==ct[Ar]&&Ar<=Ci;)++Ar;var jo=Ar-Ht;if(jo>=16){Po=jo>>4;for(var Ki=1;Ki<=Po;++Ki)C(qn);jo&=15}C(Lt[(jo<<4)+Oe[xn=32767+ct[Ar]]]),C(ve[xn]),Ar++}return 63!=Ci&&C(Kn),gt}function yt(ye){ye=Math.min(Math.max(ye,1),100),I!=ye&&(function(Ke){for(var gt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Dt=0;Dt<64;Dt++){var Lt=P((gt[Dt]*Ke+50)/100);Lt=Math.min(Math.max(Lt,1),255),U[le[Dt]]=Lt}for(var xn=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Kn=0;Kn<64;Kn++){var qn=P((xn[Kn]*Ke+50)/100);qn=Math.min(Math.max(qn,1),255),$[le[Kn]]=qn}for(var ti=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],zr=0,gi=0;gi<8;gi++)for(var Ci=0;Ci<8;Ci++)te[zr]=1/(U[le[zr]]*ti[gi]*ti[Ci]*8),oe[zr]=1/($[le[zr]]*ti[gi]*ti[Ci]*8),zr++}(ye<50?Math.floor(5e3/ye):Math.floor(200-2*ye)),I=ye)}this.encode=function(ye,Ke){var vi,po;Ke&&yt(Ke),at=new Array,ht=0,m=7,ae(65496),ae(65504),ae(16),M(74),M(70),M(73),M(70),M(0),M(1),M(1),M(0),ae(1),ae(1),M(0),M(0),function(){ae(65499),ae(132),M(0);for(var vi=0;vi<64;vi++)M(U[vi]);M(1);for(var po=0;po<64;po++)M($[po])}(),vi=ye.width,po=ye.height,ae(65472),ae(17),M(8),ae(po),ae(vi),M(3),M(1),M(17),M(0),M(2),M(17),M(1),M(3),M(17),M(1),function(){ae(65476),ae(418),M(0);for(var vi=0;vi<16;vi++)M(me[vi+1]);for(var po=0;po<=11;po++)M(We[po]);M(16);for(var Xo=0;Xo<16;Xo++)M(it[Xo+1]);for(var ys=0;ys<=161;ys++)M(Me[ys]);M(1);for(var Ts=0;Ts<16;Ts++)M(Ue[Ts+1]);for(var ta=0;ta<=11;ta++)M(dt[ta]);M(17);for(var ja=0;ja<16;ja++)M(It[ja+1]);for(var Oo=0;Oo<=161;Oo++)M(F[Oo])}(),ae(65498),ae(12),M(3),M(1),M(0),M(2),M(17),M(3),M(17),M(0),M(63),M(0);var gt=0,Dt=0,Lt=0;ht=0,m=7,this.encode.displayName="_encode_";for(var xn,Kn,qn,ti,zr,gi,Ci,Po,Ar,Ht=ye.data,Ki=ye.height,Gr=4*ye.width,li=0;li<Ki;){for(xn=0;xn<Gr;){for(zr=Gr*li+xn,Ci=-1,Po=0,Ar=0;Ar<64;Ar++)gi=zr+(Po=Ar>>3)*Gr+(Ci=4*(7&Ar)),li+Po>=Ki&&(gi-=Gr*(li+1+Po-Ki)),xn+Ci>=Gr&&(gi-=xn+Ci-Gr+4),Kn=Ht[gi++],qn=Ht[gi++],ti=Ht[gi++],A[Ar]=(ee[Kn]+ee[qn+256|0]+ee[ti+512|0]>>16)-128,p[Ar]=(ee[Kn+768|0]+ee[qn+1024|0]+ee[ti+1280|0]>>16)-128,b[Ar]=(ee[Kn+1280|0]+ee[qn+1536|0]+ee[ti+1792|0]>>16)-128;gt=Se(A,te,gt,d,u),Dt=Se(p,oe,Dt,c,_),Lt=Se(b,oe,Lt,c,_),xn+=32}li+=8}if(m>=0){var Ii=[];Ii[1]=m+1,Ii[0]=(1<<m+1)-1,C(Ii)}return ae(65497),new Uint8Array(at)},g=g||50,function(){for(var ye=String.fromCharCode,Ke=0;Ke<256;Ke++)Q[Ke]=ye(Ke)}(),d=v(me,We),c=v(Ue,dt),u=v(it,Me),_=v(It,F),function(){for(var ye=1,Ke=2,gt=1;gt<=15;gt++){for(var Dt=ye;Dt<Ke;Dt++)Oe[32767+Dt]=gt,ve[32767+Dt]=[],ve[32767+Dt][1]=gt,ve[32767+Dt][0]=Dt;for(var Lt=-(Ke-1);Lt<=-ye;Lt++)Oe[32767+Lt]=gt,ve[32767+Lt]=[],ve[32767+Lt][1]=gt,ve[32767+Lt][0]=Ke-1+Lt;ye<<=1,Ke<<=1}}(),function(){for(var ye=0;ye<256;ye++)ee[ye]=19595*ye,ee[ye+256|0]=38470*ye,ee[ye+512|0]=7471*ye+32768,ee[ye+768|0]=-11059*ye,ee[ye+1024|0]=-21709*ye,ee[ye+1280|0]=32768*ye+8421375,ee[ye+1536|0]=-27439*ye,ee[ye+1792|0]=-5329*ye}(),yt(g)}function Za(g,d){if(this.pos=0,this.buffer=g,this.datav=new DataView(g.buffer),this.is_with_alpha=!!d,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Jd(g){function d(me){if(!me)throw Error("assert :P")}function c(me,We,it){for(var Me=0;4>Me;Me++)if(me[We+Me]!=it.charCodeAt(Me))return!0;return!1}function u(me,We,it,Me,Ue){for(var dt=0;dt<Ue;dt++)me[We+dt]=it[Me+dt]}function _(me,We,it,Me){for(var Ue=0;Ue<Me;Ue++)me[We+Ue]=it}function I(me){return new Int32Array(me)}function P(me,We){for(var it=[],Me=0;Me<me;Me++)it.push(new We);return it}function U(me,We){var it=[];return function Me(Ue,dt,It){for(var F=It[dt],v=0;v<F&&(Ue.push(It.length>dt+1?[]:new We),!(It.length<dt+1));v++)Me(Ue[v],dt+1,It)}(it,0,me),it}var $=function(){var me=this;function We(S,H){for(var re=1<<H-1>>>0;S&re;)re>>>=1;return re?(S&re-1)+re:S}function it(S,H,re,Ce,Qe){d(!(Ce%re));do{S[H+(Ce-=re)]=Qe}while(0<Ce)}function Me(S,H,re,Ce,Qe){if(d(2328>=Qe),512>=Qe)var l=I(512);else if(null==(l=I(Qe)))return 0;return function(n,i,a,f,E,D){var G,X,fe=i,xe=1<<a,Re=I(16),$e=I(16);for(d(0!=E),d(null!=f),d(null!=n),d(0<a),X=0;X<E;++X){if(15<f[X])return 0;++Re[f[X]]}if(Re[0]==E)return 0;for($e[1]=0,G=1;15>G;++G){if(Re[G]>1<<G)return 0;$e[G+1]=$e[G]+Re[G]}for(X=0;X<E;++X)G=f[X],0<f[X]&&(D[$e[G]++]=X);if(1==$e[15])return(f=new Ue).g=0,f.value=D[0],it(n,fe,1,xe,f),xe;var xt,nn=-1,hn=xe-1,Ln=0,nr=1,Rr=1,rr=1<<a;for(X=0,G=1,E=2;G<=a;++G,E<<=1){if(nr+=Rr<<=1,0>(Rr-=Re[G]))return 0;for(;0<Re[G];--Re[G])(f=new Ue).g=G,f.value=D[X++],it(n,fe+Ln,E,rr,f),Ln=We(Ln,G)}for(G=a+1,E=2;15>=G;++G,E<<=1){if(nr+=Rr<<=1,0>(Rr-=Re[G]))return 0;for(;0<Re[G];--Re[G]){if(f=new Ue,(Ln&hn)!=nn){for(fe+=rr,xt=1<<(nn=G)-a;15>nn&&!(0>=(xt-=Re[nn]));)++nn,xt<<=1;xe+=rr=1<<(xt=nn-a),n[i+(nn=Ln&hn)].g=xt+a,n[i+nn].value=fe-i-nn}f.g=G-a,f.value=D[X++],it(n,fe+(Ln>>a),E,rr,f),Ln=We(Ln,G)}}return nr!=2*$e[15]-1?0:xe}(S,H,re,Ce,Qe,l)}function Ue(){this.value=this.g=0}function dt(){this.value=this.g=0}function It(){this.G=P(5,Ue),this.H=I(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=P(Qd,dt)}function F(S,H,re,Ce){d(null!=S),d(null!=H),d(2147483648>Ce),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=H,S.pa=re,S.Jd=H,S.Yc=re+Ce,S.Zc=4<=Ce?re+Ce-4+1:re,xn(S)}function v(S,H){for(var re=0;0<H--;)re|=qn(S,128)<<H;return re}function C(S,H){var re=v(S,H);return Kn(S)?-re:re}function M(S,H,re,Ce){var Qe,l=0;for(d(null!=S),d(null!=H),d(4294967288>Ce),S.Sb=Ce,S.Ra=0,S.u=0,S.h=0,4<Ce&&(Ce=4),Qe=0;Qe<Ce;++Qe)l+=H[re+Qe]<<8*Qe;S.Ra=l,S.bb=Ce,S.oa=H,S.pa=re}function ae(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<pg-8>>>0,++S.bb,S.u-=8;gt(S)&&(S.h=1,S.u=0)}function Se(S,H){if(d(0<=H),!S.h&&H<=dp){var re=Ke(S)&Xg[H];return S.u+=H,ae(S),re}return S.h=1,S.u=0}function yt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ye(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Ke(S){return S.Ra>>>(S.u&pg-1)>>>0}function gt(S){return d(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>pg}function Dt(S,H){S.u=H,S.h=gt(S)}function Lt(S){S.u>=hp&&(d(S.u>=hp),ae(S))}function xn(S){d(null!=S&&null!=S.oa),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(d(null!=S&&null!=S.oa),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function Kn(S){return v(S,1)}function qn(S,H){var re=S.Ca;0>S.b&&xn(S);var Ce=S.b,Qe=re*H>>>8,l=(S.I>>>Ce>Qe)+0;for(l?(re-=Qe,S.I-=Qe+1<<Ce>>>0):re=Qe+1,Ce=re,Qe=0;256<=Ce;)Qe+=8,Ce>>=8;return S.b-=Ce=7^Qe+WA[Ce],S.Ca=(re<<Ce)-1,l}function ti(S,H,re){S[H+0]=re>>24&255,S[H+1]=re>>16&255,S[H+2]=re>>8&255,S[H+3]=255&re}function zr(S,H){return S[H+0]|S[H+1]<<8}function gi(S,H){return zr(S,H)|S[H+2]<<16}function Ci(S,H){return zr(S,H)|zr(S,H+2)<<16}function Po(S,H){var re=1<<H;return d(null!=S),d(0<H),S.X=I(re),null==S.X?0:(S.Mb=32-H,S.Xa=H,1)}function Ar(S,H){d(null!=S),d(null!=H),d(S.Xa==H.Xa),u(H.X,0,S.X,0,1<<H.Xa)}function Ht(){this.X=[],this.Xa=this.Mb=0}function jo(S,H,re,Ce){d(null!=re),d(null!=Ce);var Qe=re[0],l=Ce[0];return 0==Qe&&(Qe=(S*l+H/2)/H),0==l&&(l=(H*Qe+S/2)/S),0>=Qe||0>=l?0:(re[0]=Qe,Ce[0]=l,1)}function Ki(S,H){return S+(1<<H)-1>>>H}function Gr(S,H){return((4278255360&S)+(4278255360&H)>>>0&4278255360)+((16711935&S)+(16711935&H)>>>0&16711935)>>>0}function li(S,H){me[H]=function(re,Ce,Qe,l,n,i,a){var f;for(f=0;f<n;++f){var E=me[S](i[a+f-1],Qe,l+f);i[a+f]=Gr(re[Ce+f],E)}}}function Ii(){this.ud=this.hd=this.jd=0}function vi(S,H){return((4278124286&(S^H))>>>1)+(S&H)>>>0}function po(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function Xo(S,H){return po(S+(S-H+.5>>1))}function ys(S,H,re){return Math.abs(H-re)-Math.abs(S-re)}function Ts(S,H,re,Ce,Qe,l,n){for(Ce=l[n-1],re=0;re<Qe;++re)l[n+re]=Ce=Gr(S[H+re],Ce)}function ta(S,H,re,Ce,Qe){var l;for(l=0;l<re;++l){var n=S[H+l],i=n>>8&255,a=16711935&(a=(a=16711935&n)+((i<<16)+i));Ce[Qe+l]=(4278255360&n)+a>>>0}}function ja(S,H){H.jd=255&S,H.hd=S>>8&255,H.ud=S>>16&255}function Oo(S,H,re,Ce,Qe,l){var n;for(n=0;n<Ce;++n){var i=H[re+n],a=i>>>8,f=i,E=255&(E=(E=i>>>16)+((S.jd<<24>>24)*(a<<24>>24)>>>5));f=255&(f=(f+=(S.hd<<24>>24)*(a<<24>>24)>>>5)+((S.ud<<24>>24)*(E<<24>>24)>>>5)),Qe[l+n]=(4278255360&i)+(E<<16)+f}}function Hs(S,H,re,Ce,Qe){me[H]=function(l,n,i,a,f,E,D,G,X){for(a=D;a<G;++a)for(D=0;D<X;++D)f[E++]=Qe(i[Ce(l[n++])])},me[S]=function(l,n,i,a,f,E,D){var G=8>>l.b,X=l.Ea,fe=l.K[0],xe=l.w;if(8>G)for(l=(1<<l.b)-1,xe=(1<<G)-1;n<i;++n){var Re,$e=0;for(Re=0;Re<X;++Re)Re&l||($e=Ce(a[f++])),E[D++]=Qe(fe[$e&xe]),$e>>=G}else me["VP8LMapColor"+re](a,f,fe,xe,E,D,n,i,X)}}function Si(S,H,re,Ce,Qe){for(re=H+re;H<re;){var l=S[H++];Ce[Qe++]=l>>16&255,Ce[Qe++]=l>>8&255,Ce[Qe++]=255&l}}function R(S,H,re,Ce,Qe){for(re=H+re;H<re;){var l=S[H++];Ce[Qe++]=l>>16&255,Ce[Qe++]=l>>8&255,Ce[Qe++]=255&l,Ce[Qe++]=l>>24&255}}function B(S,H,re,Ce,Qe){for(re=H+re;H<re;){var l=(n=S[H++])>>16&240|n>>12&15,n=240&n|n>>28&15;Ce[Qe++]=l,Ce[Qe++]=n}}function O(S,H,re,Ce,Qe){for(re=H+re;H<re;){var l=(n=S[H++])>>16&248|n>>13&7,n=n>>5&224|n>>3&31;Ce[Qe++]=l,Ce[Qe++]=n}}function N(S,H,re,Ce,Qe){for(re=H+re;H<re;){var l=S[H++];Ce[Qe++]=255&l,Ce[Qe++]=l>>8&255,Ce[Qe++]=l>>16&255}}function ce(S,H,re,Ce,Qe,l){if(0==l)for(re=H+re;H<re;)ti(Ce,((l=S[H++])[0]>>24|l[1]>>8&65280|l[2]<<8&16711680|l[3]<<24)>>>0),Qe+=32;else u(Ce,Qe,S,H,re)}function De(S,H){me[H][0]=me[S+"0"],me[H][1]=me[S+"1"],me[H][2]=me[S+"2"],me[H][3]=me[S+"3"],me[H][4]=me[S+"4"],me[H][5]=me[S+"5"],me[H][6]=me[S+"6"],me[H][7]=me[S+"7"],me[H][8]=me[S+"8"],me[H][9]=me[S+"9"],me[H][10]=me[S+"10"],me[H][11]=me[S+"11"],me[H][12]=me[S+"12"],me[H][13]=me[S+"13"],me[H][14]=me[S+"0"],me[H][15]=me[S+"0"]}function Ge(S){return S==_g||S==nm||S==Hp||S==mp}function Et(){this.eb=[],this.size=this.A=this.fb=0}function ft(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ln(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Et,this.f.kb=new ft,this.sd=null}function fn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Sn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function On(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function Lr(S,H){var re=S.T,Ce=H.ba.f.RGBA,Qe=Ce.eb,l=Ce.fb+S.ka*Ce.A,n=Ad[H.ba.S],i=S.y,a=S.O,f=S.f,E=S.N,D=S.ea,G=S.W,X=H.cc,fe=H.dc,xe=H.Mc,Re=H.Nc,$e=S.ka,xt=S.ka+S.T,nn=S.U,hn=nn+1>>1;for(0==$e?n(i,a,null,null,f,E,D,G,f,E,D,G,Qe,l,null,null,nn):(n(H.ec,H.fc,i,a,X,fe,xe,Re,f,E,D,G,Qe,l-Ce.A,Qe,l,nn),++re);$e+2<xt;$e+=2)n(i,(a+=2*S.fa)-S.fa,i,a,X=f,fe=E,xe=D,Re=G,f,E+=S.Rc,D,G+=S.Rc,Qe,(l+=2*Ce.A)-Ce.A,Qe,l,nn);return a+=S.fa,S.j+xt<S.o?(u(H.ec,H.fc,i,a,nn),u(H.cc,H.dc,f,E,hn),u(H.Mc,H.Nc,D,G,hn),re--):1&xt||n(i,a,null,null,f,E,D,G,f,E,D,G,Qe,l+Ce.A,null,null,nn),re}function Ur(S,H,re){var Ce=S.F,Qe=[S.J];if(null!=Ce){var l=S.U,n=H.ba.S,i=n==tm||n==Hp;H=H.ba.f.RGBA;var a=[0],f=S.ka;a[0]=S.T,S.Kb&&(0==f?--a[0]:(--f,Qe[0]-=S.width),S.j+S.ka+S.T==S.o&&(a[0]=S.o-S.j-f));var E=H.eb;S=Vp(Ce,Qe[0],S.width,l,a,E,(f=H.fb+f*H.A)+(i?0:3),H.A),d(re==a),S&&Ge(n)&&Hf(E,f,i,l,a,H.A)}return 0}function ni(S){var H=S.ma,re=H.ba.S,Ce=11>re,Qe=re==km||re==Pm||re==tm||re==Nm||12==re||Ge(re);if(H.memory=null,H.Ib=null,H.Jb=null,H.Nd=null,!jf(H.Oa,S,Qe?11:12))return 0;if(Qe&&Ge(re)&&jr(),S.da)alert("todo:use_scaling");else{if(Ce){if(H.Ib=On,S.Kb){if(H.memory=I(S.U+2*(re=S.U+1>>1)),null==H.memory)return 0;H.ec=H.memory,H.fc=0,H.cc=H.ec,H.dc=H.fc+S.U,H.Mc=H.cc,H.Nc=H.dc+re,H.Ib=Lr,jr()}}else alert("todo:EmitYUV");Qe&&(H.Jb=Ur,Ce&&Qn())}if(Ce&&!wf){for(S=0;256>S;++S)dd[S]=89858*(S-128)+Gp>>am,FA[S]=-22014*(S-128)+Gp,Iv[S]=-45773*(S-128),BA[S]=113618*(S-128)+Gp>>am;for(S=$f;S<Hm;++S)Ig[S-$f]=ld(H=76283*(S-16)+Gp>>am,255),bg[S-$f]=ld(H+8>>4,15);wf=1}return 1}function Uo(S){var H=S.ma,re=S.U,Ce=S.T;return d(!(1&S.ka)),0>=re||0>=Ce?0:(re=H.Ib(S,H),null!=H.Jb&&H.Jb(S,H,re),H.Dc+=re,1)}function Pi(S){S.ma.memory=null}function Ir(S,H,re,Ce){return 47!=Se(S,8)?0:(H[0]=Se(S,14)+1,re[0]=Se(S,14)+1,Ce[0]=Se(S,1),0!=Se(S,3)?0:!S.h)}function ws(S,H){if(4>S)return S+1;var re=S-2>>1;return(2+(1&S)<<re)+Se(H,re)+1}function Ho(S,H){return 120<H?H-120:1<=(re=((re=rm[H-1])>>4)*S+(8-(15&re)))?re:1;var re}function co(S,H,re){var Ce=Ke(re),Qe=S[H+=255&Ce].g-8;return 0<Qe&&(Dt(re,re.u+8),Ce=Ke(re),H+=S[H].value,H+=Ce&(1<<Qe)-1),Dt(re,re.u+S[H].g),S[H].value}function Jr(S,H,re){return re.g+=S.g,re.value+=S.value<<H>>>0,d(8>=re.g),S.g}function Eo(S,H,re){var Ce=S.xc;return d((H=0==Ce?0:S.vc[S.md*(re>>Ce)+(H>>Ce)])<S.Wb),S.Ya[H]}function zo(S,H,re,Ce){var Qe=S.ab,l=S.c*H,n=S.C;H=n+H;var i=re,a=Ce;for(Ce=S.Ta,re=S.Ua;0<Qe--;){var f=S.gc[Qe],E=n,D=H,G=i,X=a,fe=(a=Ce,i=re,f.Ea);switch(d(E<D),d(D<=f.nc),f.hc){case 2:Up(G,X,(D-E)*fe,a,i);break;case 0:var xe=E,Re=D,$e=a,xt=i,nn=(rr=f).Ea;0==xe&&(Lp(G,X,null,null,1,$e,xt),Ts(G,X+1,0,0,nn-1,$e,xt+1),X+=nn,xt+=nn,++xe);for(var hn=1<<rr.b,Ln=hn-1,nr=Ki(nn,rr.b),Rr=rr.K,rr=rr.w+(xe>>rr.b)*nr;xe<Re;){var Ti=Rr,mo=rr,Fi=1;for(ch(G,X,$e,xt-nn,1,$e,xt);Fi<nn;){var on=(Fi&~Ln)+hn;on>nn&&(on=nn),(0,kh[Ti[mo++]>>8&15])(G,X+ +Fi,$e,xt+Fi-nn,on-Fi,$e,xt+Fi),Fi=on}X+=nn,xt+=nn,++xe&Ln||(rr+=nr)}D!=f.nc&&u(a,i-fe,a,i+(D-E-1)*fe,fe);break;case 1:for(fe=G,Re=X,nn=(G=f.Ea)-(xt=G&~($e=(X=1<<f.b)-1)),xe=Ki(G,f.b),hn=f.K,f=f.w+(E>>f.b)*xe;E<D;){for(Ln=hn,nr=f,Rr=new Ii,rr=Re+xt,Ti=Re+G;Re<rr;)ja(Ln[nr++],Rr),mu(Rr,fe,Re,X,a,i),Re+=X,i+=X;Re<Ti&&(ja(Ln[nr++],Rr),mu(Rr,fe,Re,nn,a,i),Re+=nn,i+=nn),++E&$e||(f+=xe)}break;case 3:if(G==a&&X==i&&0<f.b){for(Re=a,G=fe=i+(D-E)*fe-(xt=(D-E)*Ki(f.Ea,f.b)),X=a,$e=i,xe=[],xt=(nn=xt)-1;0<=xt;--xt)xe[xt]=X[$e+xt];for(xt=nn-1;0<=xt;--xt)Re[G+xt]=xe[xt];jd(f,E,D,a,fe,a,i)}else jd(f,E,D,G,X,a,i)}i=Ce,a=re}a!=re&&u(Ce,re,i,a,l)}function No(S,H){var re=S.V,Ce=S.Ba+S.c*S.C,Qe=H-S.C;if(d(H<=S.l.o),d(16>=Qe),0<Qe){var l=S.l,n=S.Ta,i=S.Ua,a=l.width;if(zo(S,Qe,re,Ce),Qe=i=[i],d((re=S.C)<(Ce=H)),d(l.v<l.va),Ce>l.o&&(Ce=l.o),re<l.j){var f=l.j-re;re=l.j,Qe[0]+=f*a}if(re>=Ce?re=0:(Qe[0]+=4*l.v,l.ka=re-l.j,l.U=l.va-l.v,l.T=Ce-re,re=1),re){if(i=i[0],11>(re=S.ca).S){var E=re.f.RGBA,D=(Ce=re.S,Qe=l.U,l=l.T,f=E.eb,E.A),G=l;for(E=E.fb+S.Ma*E.A;0<G--;){var X=n,fe=i,xe=Qe,Re=f,$e=E;switch(Ce){case Zg:ec(X,fe,xe,Re,$e);break;case km:nu(X,fe,xe,Re,$e);break;case _g:nu(X,fe,xe,Re,$e),Hf(Re,$e,0,xe,1,0);break;case em:mf(X,fe,xe,Re,$e);break;case Pm:ce(X,fe,xe,Re,$e,1);break;case nm:ce(X,fe,xe,Re,$e,1),Hf(Re,$e,0,xe,1,0);break;case tm:ce(X,fe,xe,Re,$e,0);break;case Hp:ce(X,fe,xe,Re,$e,0),Hf(Re,$e,1,xe,1,0);break;case Nm:Hd(X,fe,xe,Re,$e);break;case mp:Hd(X,fe,xe,Re,$e),pp(Re,$e,xe,1,0);break;case Mm:Ph(X,fe,xe,Re,$e);break;default:d(0)}i+=a,E+=D}S.Ma+=l}else alert("todo:EmitRescaledRowsYUVA");d(S.Ma<=re.height)}}S.C=H,d(S.C<=S.i)}function zs(S){var H;if(0<S.ua)return 0;for(H=0;H<S.Wb;++H){var re=S.Ya[H].G,Ce=S.Ya[H].H;if(0<re[1][Ce[1]+0].g||0<re[2][Ce[2]+0].g||0<re[3][Ce[3]+0].g)return 0}return 1}function gl(S,H,re,Ce,Qe,l){if(0!=S.Z){var n=S.qd,i=S.rd;for(d(null!=TA[S.Z]);H<re;++H)TA[S.Z](n,i,Ce,Qe,Ce,Qe,l),n=Ce,i=Qe,Qe+=l;S.qd=n,S.rd=i}}function ll(S,H){var re=S.l.ma,Ce=0==re.Z||1==re.Z?S.l.j:S.C;if(Ce=S.C<Ce?Ce:S.C,d(H<=S.l.o),H>Ce){var Qe=S.l.width,l=re.ca,n=re.tb+Qe*Ce,i=S.V,a=S.Ba+S.c*Ce,f=S.gc;d(1==S.ab),d(3==f[0].hc),Yg(f[0],Ce,H,i,a,l,n),gl(re,Ce,H,l,n,Qe)}S.C=S.Ma=H}function us(S,H,re,Ce,Qe,l,n){var i=S.$/Ce,a=S.$%Ce,f=S.m,E=S.s,D=re+S.$,G=D;Qe=re+Ce*Qe;var X=re+Ce*l,fe=280+E.ua,xe=S.Pb?i:16777216,Re=0<E.ua?E.Wa:null,$e=E.wc,xt=D<X?Eo(E,a,i):null;d(S.C<l),d(X<=Qe);var nn=!1;e:for(;;){for(;nn||D<X;){var hn=0;if(i>=xe){var Ln=D-re;d((xe=S).Pb),xe.wd=xe.m,xe.xd=Ln,0<xe.s.ua&&Ar(xe.s.Wa,xe.s.vb),xe=i+yv}if(a&$e||(xt=Eo(E,a,i)),d(null!=xt),xt.Qb&&(H[D]=xt.qb,nn=!0),!nn)if(Lt(f),xt.jc){Ln=H;var nr=D,Rr=xt.pd[Ke(hn=f)&Qd-1];d(xt.jc),256>Rr.g?(Dt(hn,hn.u+Rr.g),Ln[nr]=Rr.value,hn=0):(Dt(hn,hn.u+Rr.g-256),d(256<=Rr.value),hn=Rr.value),0==hn&&(nn=!0)}else hn=co(xt.G[0],xt.H[0],f);if(f.h)break;if(nn||256>hn){if(!nn)if(xt.nd)H[D]=(xt.qb|hn<<8)>>>0;else{if(Lt(f),nn=co(xt.G[1],xt.H[1],f),Lt(f),Ln=co(xt.G[2],xt.H[2],f),nr=co(xt.G[3],xt.H[3],f),f.h)break;H[D]=(nr<<24|nn<<16|hn<<8|Ln)>>>0}if(nn=!1,++D,++a>=Ce&&(a=0,++i,null!=n&&i<=l&&!(i%16)&&n(S,i),null!=Re))for(;G<D;)hn=H[G++],Re.X[(506832829*hn&4294967295)>>>Re.Mb]=hn}else if(280>hn){if(hn=ws(hn-256,f),Ln=co(xt.G[4],xt.H[4],f),Lt(f),Ln=Ho(Ce,Ln=ws(Ln,f)),f.h)break;if(D-re<Ln||Qe-D<hn)break e;for(nr=0;nr<hn;++nr)H[D+nr]=H[D+nr-Ln];for(D+=hn,a+=hn;a>=Ce;)a-=Ce,++i,null!=n&&i<=l&&!(i%16)&&n(S,i);if(d(D<=Qe),a&$e&&(xt=Eo(E,a,i)),null!=Re)for(;G<D;)hn=H[G++],Re.X[(506832829*hn&4294967295)>>>Re.Mb]=hn}else{if(!(hn<fe))break e;for(nn=hn-280,d(null!=Re);G<D;)hn=H[G++],Re.X[(506832829*hn&4294967295)>>>Re.Mb]=hn;hn=D,d(!(nn>>>(Ln=Re).Xa)),H[hn]=Ln.X[nn],nn=!0}nn||d(f.h==gt(f))}if(S.Pb&&f.h&&D<Qe)d(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Ar(S.s.vb,S.s.Wa);else{if(f.h)break e;null!=n&&n(S,i>l?l:i),S.a=0,S.$=D-re}return 1}return S.a=3,0}function ca(S){d(null!=S),S.vc=null,S.yc=null,S.Ya=null;var H=S.Wa;null!=H&&(H.X=null),S.vb=null,d(null!=S)}function xl(){var S=new Wg;return null==S?null:(S.a=0,S.xb=$p,De("Predictor","VP8LPredictors"),De("Predictor","VP8LPredictors_C"),De("PredictorAdd","VP8LPredictorsAdd"),De("PredictorAdd","VP8LPredictorsAdd_C"),Up=ta,mu=Oo,ec=Si,nu=R,Hd=B,Ph=O,mf=N,me.VP8LMapColor32b=gf,me.VP8LMapColor8b=xm,S)}function cl(S,H,re,Ce,Qe){var l=1,n=[S],i=[H],a=Ce.m,f=Ce.s,E=null,D=0;e:for(;;){if(re)for(;l&&Se(a,1);){var G=n,X=i,fe=Ce,xe=1,Re=fe.m,$e=fe.gc[fe.ab],xt=Se(Re,2);if(fe.Oc&1<<xt)l=0;else{switch(fe.Oc|=1<<xt,$e.hc=xt,$e.Ea=G[0],$e.nc=X[0],$e.K=[null],++fe.ab,d(4>=fe.ab),xt){case 0:case 1:$e.b=Se(Re,3)+2,xe=cl(Ki($e.Ea,$e.b),Ki($e.nc,$e.b),0,fe,$e.K),$e.K=$e.K[0];break;case 3:var nn,hn=Se(Re,8)+1,Ln=16<hn?0:4<hn?1:2<hn?2:3;if(G[0]=Ki($e.Ea,Ln),$e.b=Ln,nn=xe=cl(hn,1,0,fe,$e.K)){var nr,Rr=hn,rr=$e,Ti=1<<(8>>rr.b),mo=I(Ti);if(null==mo)nn=0;else{var Fi=rr.K[0],on=rr.w;for(mo[0]=rr.K[0][0],nr=1;nr<1*Rr;++nr)mo[nr]=Gr(Fi[on+nr],mo[nr-1]);for(;nr<4*Ti;++nr)mo[nr]=0;rr.K[0]=null,rr.K[0]=mo,nn=1}}xe=nn;break;case 2:break;default:d(0)}l=xe}}if(n=n[0],i=i[0],l&&Se(a,1)&&!(l=1<=(D=Se(a,4))&&11>=D)){Ce.a=3;break e}var kt;if(kt=l)t:{var $t,Xt,En,Hn=Ce,Gt=n,sc=i,xa=D,hd=re,Uu=Hn.m,fc=Hn.s,ru=[null],Vu=1,xA=0,Qu=A0[xa];n:for(;;){if(hd&&Se(Uu,1)){var Ha=Se(Uu,3)+2,Ef=Ki(Gt,Ha),fh=Ki(sc,Ha),vp=Ef*fh;if(!cl(Ef,fh,0,Hn,ru))break n;for(ru=ru[0],fc.xc=Ha,$t=0;$t<vp;++$t){var zd=ru[$t]>>8&65535;ru[$t]=zd,zd>=Vu&&(Vu=zd+1)}}if(Uu.h)break n;for(Xt=0;5>Xt;++Xt){var pc=zp[Xt];!Xt&&0<xa&&(pc+=1<<xa),xA<pc&&(xA=pc)}var cm=P(Vu*Qu,Ue),_p=Vu,qp=P(_p,It);if(null==qp)var Vh=null;else d(65536>=_p),Vh=qp;var ph=I(xA);if(null==Vh||null==ph||null==cm){Hn.a=1;break n}var Qh=cm;for($t=En=0;$t<Vu;++$t){var fd=Vh[$t],yp=fd.G,wp=fd.H,Sg=0,Ep=1,$m=0;for(Xt=0;5>Xt;++Xt){pc=zp[Xt],yp[Xt]=Qh,wp[Xt]=En,!Xt&&0<xa&&(pc+=1<<xa);i:{var Tg,Gm=pc,um=Hn,Cp=ph,bv=Qh,Km=En,ju=0,gc=um.m,Am=Se(gc,1);if(_(Cp,0,0,Gm),Am){var Sv=Se(gc,1)+1,dm=Se(gc,1),Xp=Se(gc,0==dm?1:8);Cp[Xp]=1,2==Sv&&(Cp[Xp=Se(gc,8)]=1);var jh=1}else{var Yp=I(19),hm=Se(gc,4)+4;if(19<hm){um.a=3;var Hh=0;break i}for(Tg=0;Tg<hm;++Tg)Yp[Lm[Tg]]=Se(gc,3);var fm=void 0,Bg=void 0,Kf=um,Wm=Yp,Fg=Gm,Ip=Cp,Dg=0,pd=Kf.m,Wf=8,qm=P(128,Ue);r:for(;Me(qm,0,7,Wm,19);){if(Se(pd,1)){var pm=2+2*Se(pd,3);if((fm=2+Se(pd,pm))>Fg)break r}else fm=Fg;for(Bg=0;Bg<Fg&&fm--;){Lt(pd);var Xm=qm[0+(127&Ke(pd))];Dt(pd,pd.u+Xm.g);var zh=Xm.value;if(16>zh)Ip[Bg++]=zh,0!=zh&&(Wf=zh);else{var gm=16==zh,jc=zh-16,Tv=Oh[jc],Cf=Se(pd,Om[jc])+Tv;if(Bg+Cf>Fg)break r;for(var qf=gm?Wf:0;0<Cf--;)Ip[Bg++]=qf}}Dg=1;break r}Dg||(Kf.a=3),jh=Dg}(jh=jh&&!gc.h)&&(ju=Me(bv,Km,8,Cp,Gm)),jh&&0!=ju?Hh=ju:(um.a=3,Hh=0)}if(0==Hh)break n;if(Ep&&1==_v[Xt]&&(Ep=0==Qh[En].g),Sg+=Qh[En].g,En+=Hh,3>=Xt){var mm,Ym=ph[0];for(mm=1;mm<pc;++mm)ph[mm]>Ym&&(Ym=ph[mm]);$m+=Ym}}if(fd.nd=Ep,fd.Qb=0,Ep&&(fd.qb=(yp[3][wp[3]+0].value<<24|yp[1][wp[1]+0].value<<16|yp[2][wp[2]+0].value)>>>0,0==Sg&&256>yp[0][wp[0]+0].value&&(fd.Qb=1,fd.qb+=yp[0][wp[0]+0].value<<8)),fd.jc=!fd.Qb&&6>$m,fd.jc){var If,gh=fd;for(If=0;If<Qd;++If){var Xf=If,$d=gh.pd[Xf],xg=gh.G[0][gh.H[0]+Xf];256<=xg.value?($d.g=xg.g+256,$d.value=xg.value):($d.g=0,$d.value=0,Xf>>=Jr(xg,8,$d),Xf>>=Jr(gh.G[1][gh.H[1]+Xf],16,$d),Xf>>=Jr(gh.G[2][gh.H[2]+Xf],0,$d),Jr(gh.G[3][gh.H[3]+Xf],24,$d))}}}fc.vc=ru,fc.Wb=Vu,fc.Ya=Vh,fc.yc=cm,kt=1;break t}kt=0}if(!(l=kt)){Ce.a=3;break e}if(0<D){if(f.ua=1<<D,!Po(f.Wa,D)){Ce.a=1,l=0;break e}}else f.ua=0;var Rg=Ce,Jp=n,Yf=i,vm=Rg.s,bf=vm.xc;if(Rg.c=Jp,Rg.i=Yf,vm.md=Ki(Jp,bf),vm.wc=0==bf?-1:(1<<bf)-1,re){Ce.xb=wg;break e}if(null==(E=I(n*i))){Ce.a=1,l=0;break e}l=(l=us(Ce,E,0,n,i,i,null))&&!a.h;break e}return l?(null!=Qe?Qe[0]=E:(d(null==E),d(re)),Ce.$=0,re||ca(f)):ca(f),l}function zl(S,H){var re=S.c*S.i,Ce=re+H+16*H;return d(S.c<=H),S.V=I(Ce),null==S.V?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+re+H,1)}function pu(S,H){var re=S.C,Ce=H-re,Qe=S.V,l=S.Ba+S.c*re;for(d(H<=S.l.o);0<Ce;){var n=16<Ce?16:Ce,i=S.l.ma,a=S.l.width,f=a*n,E=i.ca,D=i.tb+a*re,G=S.Ta,X=S.Ua;zo(S,n,Qe,l),Qp(G,X,E,D,f),gl(i,re,re+n,E,D,a),Ce-=n,Qe+=n*S.c,re+=n}d(re==H),S.C=S.Ma=H}function iA(){this.ub=this.yd=this.td=this.Rb=0}function Mu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Sc(){this.Fb=this.Bb=this.Cb=0,this.Zb=I(4),this.Lb=I(4)}function KA(){var S;this.Yb=(function H(re,Ce,Qe){for(var l=Qe[Ce],n=0;n<l&&(re.push(Qe.length>Ce+1?[]:0),!(Qe.length<Ce+1));n++)H(re[n],Ce+1,Qe)}(S=[],0,[3,11]),S)}function oA(){this.jb=I(3),this.Wc=U([4,8],KA),this.Xc=U([4,17],KA)}function rd(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new I(4),this.od=new I(4)}function Ou(){this.ld=this.La=this.dd=this.tc=0}function CA(){this.Na=this.la=0}function Nd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pf(){this.ad=I(384),this.Za=0,this.Ob=I(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ig(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ou),this.Y=0,this.ya=Array(new Pf),this.aa=0,this.l=new cf}function af(){this.y=I(16),this.f=I(8),this.ea=I(8)}function lf(){this.cb=this.a=0,this.sc="",this.m=new yt,this.Od=new iA,this.Kc=new Mu,this.ed=new rd,this.Qa=new Sc,this.Ic=this.$c=this.Aa=0,this.D=new ig,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=P(8,yt),this.ia=0,this.pb=P(4,Nd),this.Pa=new oA,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new af),this.Hd=0,this.rb=Array(new CA),this.sb=0,this.wa=Array(new Ou),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pf),this.L=this.aa=0,this.gd=U([4,2],Ou),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function cf(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function og(){var S=new lf;return null!=S&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,im||(im=Vg)),S}function Tc(S,H,re){return 0==S.a&&(S.a=H,S.sc=re,S.cb=0),0}function Nf(S,H,re){return 3<=re&&157==S[H+0]&&1==S[H+1]&&42==S[H+2]}function Th(S,H){if(null==S)return 0;if(S.a=0,S.sc="OK",null==H)return Tc(S,2,"null VP8Io passed to VP8GetHeaders()");var re=H.data,Ce=H.w,Qe=H.ha;if(4>Qe)return Tc(S,7,"Truncated header.");var l=re[Ce+0]|re[Ce+1]<<8|re[Ce+2]<<16,n=S.Od;if(n.Rb=!(1&l),n.td=l>>1&7,n.yd=l>>4&1,n.ub=l>>5,3<n.td)return Tc(S,3,"Incorrect keyframe parameters.");if(!n.yd)return Tc(S,4,"Frame not displayable.");Ce+=3,Qe-=3;var i=S.Kc;if(n.Rb){if(7>Qe)return Tc(S,7,"cannot parse picture header");if(!Nf(re,Ce,Qe))return Tc(S,3,"Bad code word");i.c=16383&(re[Ce+4]<<8|re[Ce+3]),i.Td=re[Ce+4]>>6,i.i=16383&(re[Ce+6]<<8|re[Ce+5]),i.Ud=re[Ce+6]>>6,Ce+=7,Qe-=7,S.za=i.c+15>>4,S.Ub=i.i+15>>4,H.width=i.c,H.height=i.i,H.Da=0,H.j=0,H.v=0,H.va=H.width,H.o=H.height,H.da=0,H.ib=H.width,H.hb=H.height,H.U=H.width,H.T=H.height,_((l=S.Pa).jb,0,255,l.jb.length),d(null!=(l=S.Qa)),l.Cb=0,l.Bb=0,l.Fb=1,_(l.Zb,0,0,l.Zb.length),_(l.Lb,0,0,l.Lb)}if(n.ub>Qe)return Tc(S,7,"bad partition length");F(l=S.m,re,Ce,n.ub),Ce+=n.ub,Qe-=n.ub,n.Rb&&(i.Ld=Kn(l),i.Kd=Kn(l)),i=S.Qa;var a,f=S.Pa;if(d(null!=l),d(null!=i),i.Cb=Kn(l),i.Cb){if(i.Bb=Kn(l),Kn(l)){for(i.Fb=Kn(l),a=0;4>a;++a)i.Zb[a]=Kn(l)?C(l,7):0;for(a=0;4>a;++a)i.Lb[a]=Kn(l)?C(l,6):0}if(i.Bb)for(a=0;3>a;++a)f.jb[a]=Kn(l)?v(l,8):255}else i.Bb=0;if(l.Ka)return Tc(S,3,"cannot parse segment header");if((i=S.ed).zd=Kn(l),i.Tb=v(l,6),i.wb=v(l,3),i.Pc=Kn(l),i.Pc&&Kn(l)){for(f=0;4>f;++f)Kn(l)&&(i.vd[f]=C(l,6));for(f=0;4>f;++f)Kn(l)&&(i.od[f]=C(l,6))}if(S.L=0==i.Tb?0:i.zd?1:2,l.Ka)return Tc(S,3,"cannot parse filter header");var E=Qe;if(Qe=a=Ce,Ce=a+E,i=E,S.Xb=(1<<v(S.m,2))-1,E<3*(f=S.Xb))re=7;else{for(a+=3*f,i-=3*f,E=0;E<f;++E){var D=re[Qe+0]|re[Qe+1]<<8|re[Qe+2]<<16;D>i&&(D=i),F(S.Jc[+E],re,a,D),a+=D,i-=D,Qe+=3}F(S.Jc[+f],re,a,i),re=a<Ce?0:5}if(0!=re)return Tc(S,re,"cannot parse partitions");for(re=v(a=S.m,7),Qe=Kn(a)?C(a,4):0,Ce=Kn(a)?C(a,4):0,i=Kn(a)?C(a,4):0,f=Kn(a)?C(a,4):0,a=Kn(a)?C(a,4):0,E=S.Qa,D=0;4>D;++D){if(E.Cb){var G=E.Zb[D];E.Fb||(G+=re)}else{if(0<D){S.pb[D]=S.pb[0];continue}G=re}var X=S.pb[D];X.Sc[0]=Um[ld(G+Qe,127)],X.Sc[1]=wv[ld(G+0,127)],X.Eb[0]=2*Um[ld(G+Ce,127)],X.Eb[1]=101581*wv[ld(G+i,127)]>>16,8>X.Eb[1]&&(X.Eb[1]=8),X.Qc[0]=Um[ld(G+f,117)],X.Qc[1]=wv[ld(G+a,127)],X.lc=G+a}if(!n.Rb)return Tc(S,4,"Not a key frame.");for(Kn(l),n=S.Pa,re=0;4>re;++re){for(Qe=0;8>Qe;++Qe)for(Ce=0;3>Ce;++Ce)for(i=0;11>i;++i)f=qn(l,yg[re][Qe][Ce][i])?v(l,8):d0[re][Qe][Ce][i],n.Wc[re][Qe].Yb[Ce][i]=f;for(Qe=0;17>Qe;++Qe)n.Xc[re][Qe]=n.Wc[re][Qm[Qe]]}return S.kc=Kn(l),S.kc&&(S.Bd=v(l,8)),S.cb=1}function Vg(S,H,re,Ce,Qe,l,n){var i=H[Qe].Yb[re];for(re=0;16>Qe;++Qe){if(!qn(S,i[re+0]))return Qe;for(;!qn(S,i[re+1]);)if(i=H[++Qe].Yb[0],re=0,16==Qe)return 16;var a=H[Qe+1].Yb;if(qn(S,i[re+2])){var f=S,E=0;if(qn(f,(G=i)[(D=re)+3]))if(qn(f,G[D+6])){for(i=0,D=2*(E=qn(f,G[D+8]))+(G=qn(f,G[D+9+E])),E=0,G=Vm[D];G[i];++i)E+=E+qn(f,G[i]);E+=3+(8<<D)}else qn(f,G[D+7])?(E=7+2*qn(f,165),E+=qn(f,145)):E=5+qn(f,159);else E=qn(f,G[D+4])?3+qn(f,G[D+5]):2;i=a[2]}else E=1,i=a[1];a=n+Ev[Qe],0>(f=S).b&&xn(f);var D,G=f.b,X=(D=f.Ca>>1)-(f.I>>G)>>31;--f.b,f.Ca+=X,f.Ca|=1,f.I-=(D+1&X)<<G,l[a]=((E^X)-X)*Ce[(0<Qe)+0]}return 16}function Mf(S){var H=S.rb[S.sb-1];H.la=0,H.Na=0,_(S.zc,0,0,S.zc.length),S.ja=0}function Md(S,H,re,Ce,Qe){S[H+re+32*Ce]=-256&(Qe=S[H+re+32*Ce]+(Qe>>3))?0>Qe?0:255:Qe}function ip(S,H,re,Ce,Qe,l){Md(S,H,0,re,Ce+Qe),Md(S,H,1,re,Ce+l),Md(S,H,2,re,Ce-l),Md(S,H,3,re,Ce-Qe)}function Lu(S){return(20091*S>>16)+S}function Of(S,H,re,Ce){var Qe,l=0,n=I(16);for(Qe=0;4>Qe;++Qe){var i=S[H+0]+S[H+8],a=S[H+0]-S[H+8],f=(35468*S[H+4]>>16)-Lu(S[H+12]),E=Lu(S[H+4])+(35468*S[H+12]>>16);n[l+0]=i+E,n[l+1]=a+f,n[l+2]=a-f,n[l+3]=i-E,l+=4,H++}for(Qe=l=0;4>Qe;++Qe)i=(S=n[l+0]+4)+n[l+8],a=S-n[l+8],f=(35468*n[l+4]>>16)-Lu(n[l+12]),Md(re,Ce,0,0,i+(E=Lu(n[l+4])+(35468*n[l+12]>>16))),Md(re,Ce,1,0,a+f),Md(re,Ce,2,0,a-f),Md(re,Ce,3,0,i-E),l++,Ce+=32}function op(S,H,re,Ce){var Qe=S[H+0]+4,l=35468*S[H+4]>>16,n=Lu(S[H+4]),i=35468*S[H+1]>>16;ip(re,Ce,0,Qe+n,S=Lu(S[H+1]),i),ip(re,Ce,1,Qe+l,S,i),ip(re,Ce,2,Qe-l,S,i),ip(re,Ce,3,Qe-n,S,i)}function Qg(S,H,re,Ce,Qe){Of(S,H,re,Ce),Qe&&Of(S,H+16,re,Ce+4)}function ag(S,H,re,Ce){Jg(S,H+0,re,Ce,1),Jg(S,H+32,re,Ce+128,1)}function jg(S,H,re,Ce){var Qe;for(S=S[H+0]+4,Qe=0;4>Qe;++Qe)for(H=0;4>H;++H)Md(re,Ce,H,Qe,S)}function sp(S,H,re,Ce){S[H+0]&&_f(S,H+0,re,Ce),S[H+16]&&_f(S,H+16,re,Ce+4),S[H+32]&&_f(S,H+32,re,Ce+128),S[H+48]&&_f(S,H+48,re,Ce+128+4)}function lg(S,H,re,Ce){var Qe,l=I(16);for(Qe=0;4>Qe;++Qe){var n=S[H+0+Qe]+S[H+12+Qe],i=S[H+4+Qe]+S[H+8+Qe],a=S[H+4+Qe]-S[H+8+Qe],f=S[H+0+Qe]-S[H+12+Qe];l[0+Qe]=n+i,l[8+Qe]=n-i,l[4+Qe]=f+a,l[12+Qe]=f-a}for(Qe=0;4>Qe;++Qe)n=(S=l[0+4*Qe]+3)+l[3+4*Qe],a=l[1+4*Qe]-l[2+4*Qe],f=S-l[3+4*Qe],re[Ce+0]=n+(i=l[1+4*Qe]+l[2+4*Qe])>>3,re[Ce+16]=f+a>>3,re[Ce+32]=n-i>>3,re[Ce+48]=f-a>>3,Ce+=64}function ah(S,H,re){var Ce,Qe=H-32,l=XA,n=255-S[Qe-1];for(Ce=0;Ce<re;++Ce){var i,a=l,f=n+S[H-1];for(i=0;i<re;++i)S[H+i]=a[f+S[Qe+i]];H+=32}}function Hg(S,H){ah(S,H,4)}function cg(S,H){ah(S,H,8)}function Dm(S,H){ah(S,H,16)}function id(S,H){var re;for(re=0;16>re;++re)u(S,H+32*re,S,H-32,16)}function uf(S,H){var re;for(re=16;0<re;--re)_(S,H,S[H-1],16),H+=32}function Bh(S,H,re){var Ce;for(Ce=0;16>Ce;++Ce)_(H,re+32*Ce,S,16)}function Bs(S,H){var re,Ce=16;for(re=0;16>re;++re)Ce+=S[H-1+32*re]+S[H+re-32];Bh(Ce>>5,S,H)}function gu(S,H){var re,Ce=8;for(re=0;16>re;++re)Ce+=S[H-1+32*re];Bh(Ce>>4,S,H)}function ug(S,H){var re,Ce=8;for(re=0;16>re;++re)Ce+=S[H+re-32];Bh(Ce>>4,S,H)}function Lf(S,H){Bh(128,S,H)}function As(S,H,re){return S+2*H+re+2>>2}function Zc(S,H){var re,Ce=H-32;for(Ce=new Uint8Array([As(S[Ce-1],S[Ce+0],S[Ce+1]),As(S[Ce+0],S[Ce+1],S[Ce+2]),As(S[Ce+1],S[Ce+2],S[Ce+3]),As(S[Ce+2],S[Ce+3],S[Ce+4])]),re=0;4>re;++re)u(S,H+32*re,Ce,0,Ce.length)}function Rl(S,H){var re=S[H-1],Ce=S[H-1+32],Qe=S[H-1+64],l=S[H-1+96];ti(S,H+0,16843009*As(S[H-1-32],re,Ce)),ti(S,H+32,16843009*As(re,Ce,Qe)),ti(S,H+64,16843009*As(Ce,Qe,l)),ti(S,H+96,16843009*As(Qe,l,l))}function eu(S,H){var re,Ce=4;for(re=0;4>re;++re)Ce+=S[H+re-32]+S[H-1+32*re];for(Ce>>=3,re=0;4>re;++re)_(S,H+32*re,Ce,4)}function Od(S,H){var re=S[H-1+0],Ce=S[H-1+32],Qe=S[H-1+64],l=S[H-1-32],n=S[H+0-32],i=S[H+1-32],a=S[H+2-32],f=S[H+3-32];S[H+0+96]=As(Ce,Qe,S[H-1+96]),S[H+1+96]=S[H+0+64]=As(re,Ce,Qe),S[H+2+96]=S[H+1+64]=S[H+0+32]=As(l,re,Ce),S[H+3+96]=S[H+2+64]=S[H+1+32]=S[H+0+0]=As(n,l,re),S[H+3+64]=S[H+2+32]=S[H+1+0]=As(i,n,l),S[H+3+32]=S[H+2+0]=As(a,i,n),S[H+3+0]=As(f,a,i)}function Uf(S,H){var re=S[H+1-32],Ce=S[H+2-32],Qe=S[H+3-32],l=S[H+4-32],n=S[H+5-32],i=S[H+6-32],a=S[H+7-32];S[H+0+0]=As(S[H+0-32],re,Ce),S[H+1+0]=S[H+0+32]=As(re,Ce,Qe),S[H+2+0]=S[H+1+32]=S[H+0+64]=As(Ce,Qe,l),S[H+3+0]=S[H+2+32]=S[H+1+64]=S[H+0+96]=As(Qe,l,n),S[H+3+32]=S[H+2+64]=S[H+1+96]=As(l,n,i),S[H+3+64]=S[H+2+96]=As(n,i,a),S[H+3+96]=As(i,a,a)}function Af(S,H){var re=S[H-1+0],Ce=S[H-1+32],Qe=S[H-1+64],l=S[H-1-32],n=S[H+0-32],i=S[H+1-32],a=S[H+2-32],f=S[H+3-32];S[H+0+0]=S[H+1+64]=l+n+1>>1,S[H+1+0]=S[H+2+64]=n+i+1>>1,S[H+2+0]=S[H+3+64]=i+a+1>>1,S[H+3+0]=a+f+1>>1,S[H+0+96]=As(Qe,Ce,re),S[H+0+64]=As(Ce,re,l),S[H+0+32]=S[H+1+96]=As(re,l,n),S[H+1+32]=S[H+2+96]=As(l,n,i),S[H+2+32]=S[H+3+96]=As(n,i,a),S[H+3+32]=As(i,a,f)}function Ag(S,H){var re=S[H+0-32],Ce=S[H+1-32],Qe=S[H+2-32],l=S[H+3-32],n=S[H+4-32],i=S[H+5-32],a=S[H+6-32],f=S[H+7-32];S[H+0+0]=re+Ce+1>>1,S[H+1+0]=S[H+0+64]=Ce+Qe+1>>1,S[H+2+0]=S[H+1+64]=Qe+l+1>>1,S[H+3+0]=S[H+2+64]=l+n+1>>1,S[H+0+32]=As(re,Ce,Qe),S[H+1+32]=S[H+0+96]=As(Ce,Qe,l),S[H+2+32]=S[H+1+96]=As(Qe,l,n),S[H+3+32]=S[H+2+96]=As(l,n,i),S[H+3+64]=As(n,i,a),S[H+3+96]=As(i,a,f)}function zg(S,H){var re=S[H-1+0],Ce=S[H-1+32],Qe=S[H-1+64],l=S[H-1+96];S[H+0+0]=re+Ce+1>>1,S[H+2+0]=S[H+0+32]=Ce+Qe+1>>1,S[H+2+32]=S[H+0+64]=Qe+l+1>>1,S[H+1+0]=As(re,Ce,Qe),S[H+3+0]=S[H+1+32]=As(Ce,Qe,l),S[H+3+32]=S[H+1+64]=As(Qe,l,l),S[H+3+64]=S[H+2+64]=S[H+0+96]=S[H+1+96]=S[H+2+96]=S[H+3+96]=l}function pv(S,H){var re=S[H-1+0],Ce=S[H-1+32],Qe=S[H-1+64],l=S[H-1+96],n=S[H-1-32],i=S[H+0-32],a=S[H+1-32],f=S[H+2-32];S[H+0+0]=S[H+2+32]=re+n+1>>1,S[H+0+32]=S[H+2+64]=Ce+re+1>>1,S[H+0+64]=S[H+2+96]=Qe+Ce+1>>1,S[H+0+96]=l+Qe+1>>1,S[H+3+0]=As(i,a,f),S[H+2+0]=As(n,i,a),S[H+1+0]=S[H+3+32]=As(re,n,i),S[H+1+32]=S[H+3+64]=As(Ce,re,n),S[H+1+64]=S[H+3+96]=As(Qe,Ce,re),S[H+1+96]=As(l,Qe,Ce)}function $g(S,H){var re;for(re=0;8>re;++re)u(S,H+32*re,S,H-32,8)}function Gg(S,H){var re;for(re=0;8>re;++re)_(S,H,S[H-1],8),H+=32}function Vf(S,H,re){var Ce;for(Ce=0;8>Ce;++Ce)_(H,re+32*Ce,S,8)}function Sa(S,H){var re,Ce=8;for(re=0;8>re;++re)Ce+=S[H+re-32]+S[H-1+32*re];Vf(Ce>>4,S,H)}function gv(S,H){var re,Ce=4;for(re=0;8>re;++re)Ce+=S[H+re-32];Vf(Ce>>3,S,H)}function Rp(S,H){var re,Ce=4;for(re=0;8>re;++re)Ce+=S[H-1+32*re];Vf(Ce>>3,S,H)}function Cl(S,H){Vf(128,S,H)}function df(S,H,re){var Ce=S[H-re],Qe=S[H+0],l=3*(Qe-Ce)+Rm[1020+S[H-2*re]-S[H+re]],n=Mh[112+(l+4>>3)];S[H-re]=XA[255+Ce+Mh[112+(l+3>>3)]],S[H+0]=XA[255+Qe-n]}function Ld(S,H,re,Ce){return ud[255+S[H-2*re]-S[H-re]]>Ce||ud[255+S[H+re]-S[H+0]]>Ce}function Qf(S,H,re,Ce){return 4*ud[255+S[H-re]-S[H+0]]+ud[255+S[H-2*re]-S[H+re]]<=Ce}function kp(S,H,re,Ce,Qe){var l=S[H-3*re],n=S[H-2*re],i=S[H-re],a=S[H+0],f=S[H+re],E=S[H+2*re];return 4*ud[255+i-a]+ud[255+n-f]>Ce?0:ud[255+S[H-4*re]-l]<=Qe&&ud[255+l-n]<=Qe&&ud[255+n-i]<=Qe&&ud[255+S[H+3*re]-E]<=Qe&&ud[255+E-f]<=Qe&&ud[255+f-a]<=Qe}function dg(S,H,re,Ce){var Qe=2*Ce+1;for(Ce=0;16>Ce;++Ce)Qf(S,H+Ce,re,Qe)&&df(S,H+Ce,re)}function Fh(S,H,re,Ce){var Qe=2*Ce+1;for(Ce=0;16>Ce;++Ce)Qf(S,H+Ce*re,1,Qe)&&df(S,H+Ce*re,1)}function ap(S,H,re,Ce){var Qe;for(Qe=3;0<Qe;--Qe)dg(S,H+=4*re,re,Ce)}function mv(S,H,re,Ce){var Qe;for(Qe=3;0<Qe;--Qe)Fh(S,H+=4,re,Ce)}function Pp(S,H,re,Ce,Qe,l,n,i){for(l=2*l+1;0<Qe--;){if(kp(S,H,re,l,n))if(Ld(S,H,re,i))df(S,H,re);else{var a=S,f=H,E=re,D=a[f-2*E],G=a[f-E],X=a[f+0],fe=a[f+E],xe=a[f+2*E],Re=27*(xt=Rm[1020+3*(X-G)+Rm[1020+D-fe]])+63>>7,$e=18*xt+63>>7,xt=9*xt+63>>7;a[f-3*E]=XA[255+a[f-3*E]+xt],a[f-2*E]=XA[255+D+$e],a[f-E]=XA[255+G+Re],a[f+0]=XA[255+X-Re],a[f+E]=XA[255+fe-$e],a[f+2*E]=XA[255+xe-xt]}H+=Ce}}function od(S,H,re,Ce,Qe,l,n,i){for(l=2*l+1;0<Qe--;){if(kp(S,H,re,l,n))if(Ld(S,H,re,i))df(S,H,re);else{var a=S,f=H,E=re,D=a[f-E],G=a[f+0],X=a[f+E],fe=Mh[112+(4+(xe=3*(G-D))>>3)],xe=Mh[112+(xe+3>>3)],Re=fe+1>>1;a[f-2*E]=XA[255+a[f-2*E]+Re],a[f-E]=XA[255+D+xe],a[f+0]=XA[255+G-fe],a[f+E]=XA[255+X-Re]}H+=Ce}}function lp(S,H,re,Ce,Qe,l){Pp(S,H,re,1,16,Ce,Qe,l)}function cp(S,H,re,Ce,Qe,l){Pp(S,H,1,re,16,Ce,Qe,l)}function Np(S,H,re,Ce,Qe,l){var n;for(n=3;0<n;--n)od(S,H+=4*re,re,1,16,Ce,Qe,l)}function up(S,H,re,Ce,Qe,l){var n;for(n=3;0<n;--n)od(S,H+=4,1,re,16,Ce,Qe,l)}function Ud(S,H,re,Ce,Qe,l,n,i){Pp(S,H,Qe,1,8,l,n,i),Pp(re,Ce,Qe,1,8,l,n,i)}function sd(S,H,re,Ce,Qe,l,n,i){Pp(S,H,1,Qe,8,l,n,i),Pp(re,Ce,1,Qe,8,l,n,i)}function Kg(S,H,re,Ce,Qe,l,n,i){od(S,H+4*Qe,Qe,1,8,l,n,i),od(re,Ce+4*Qe,Qe,1,8,l,n,i)}function Dh(S,H,re,Ce,Qe,l,n,i){od(S,H+4,1,Qe,8,l,n,i),od(re,Ce+4,1,Qe,8,l,n,i)}function hf(){this.ba=new ln,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Sn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Mp(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Op(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function hg(){this.ua=0,this.Wa=new Ht,this.vb=new Ht,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new It,this.yc=new Ue}function Wg(){this.xb=this.a=0,this.l=new cf,this.ca=new ln,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ye,this.Pb=0,this.wd=new ye,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new hg,this.ab=0,this.gc=P(4,Op),this.Oc=0}function xh(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new cf,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Rh(S,H,re,Ce,Qe,l,n){for(S=null==S?0:S[H+0],H=0;H<n;++H)Qe[l+H]=S+re[Ce+H]&255,S=Qe[l+H]}function lh(S,H,re,Ce,Qe,l,n){var i;if(null==S)Rh(null,null,re,Ce,Qe,l,n);else for(i=0;i<n;++i)Qe[l+i]=S[H+i]+re[Ce+i]&255}function ad(S,H,re,Ce,Qe,l,n){if(null==S)Rh(null,null,re,Ce,Qe,l,n);else{var i,a=S[H+0],f=a,E=a;for(i=0;i<n;++i)f=E+(a=S[H+i])-f,E=re[Ce+i]+(-256&f?0>f?0:255:f)&255,f=a,Qe[l+i]=E}}function ff(S,H,re,Ce){var Qe=H.width,l=H.o;if(d(null!=S&&null!=H),0>re||0>=Ce||re+Ce>l)return null;if(!S.Cc){if(null==S.ga){var n;if(S.ga=new xh,(n=null==S.ga)||(n=H.width*H.o,d(0==S.Gb.length),S.Gb=I(n),S.Uc=0,null==S.Gb?n=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,n=1),n=!n),!n){var i=S.Fa,a=S.P,f=S.qc,E=S.mb,D=S.nb,G=a+1,X=f-1,fe=(n=S.ga).l;if(d(null!=i&&null!=E&&null!=H),TA[0]=null,TA[1]=Rh,TA[2]=lh,TA[3]=ad,n.ca=E,n.tb=D,n.c=H.width,n.i=H.height,d(0<n.c&&0<n.i),1>=f)H=0;else if(n.$a=3&i[a+0],n.Z=i[a+0]>>2&3,n.Lc=i[a+0]>>4&3,a=i[a+0]>>6&3,0>n.$a||1<n.$a||4<=n.Z||1<n.Lc||a)H=0;else if(fe.put=Uo,fe.ac=ni,fe.bc=Pi,fe.ma=n,fe.width=H.width,fe.height=H.height,fe.Da=H.Da,fe.v=H.v,fe.va=H.va,fe.j=H.j,fe.o=H.o,n.$a)e:{d(1==n.$a),H=xl();t:for(;;){if(null==H){H=0;break e}if(d(null!=n),n.mc=H,H.c=n.c,H.i=n.i,H.l=n.l,H.l.ma=n,H.l.width=n.c,H.l.height=n.i,H.a=0,M(H.m,i,G,X),!cl(n.c,n.i,1,H,null)||(1==H.ab&&3==H.gc[0].hc&&zs(H.s)?(n.ic=1,i=H.c*H.i,H.Ta=null,H.Ua=0,H.V=I(i),H.Ba=0,null==H.V?(H.a=1,H=0):H=1):(n.ic=0,H=zl(H,n.c)),!H))break t;H=1;break e}n.mc=null,H=0}else H=X>=n.c*n.i;n=!H}if(n)return null;1!=S.ga.Lc?S.Ga=0:Ce=l-re}d(null!=S.ga),d(re+Ce<=l);e:{if(H=(i=S.ga).c,l=i.l.o,0==i.$a){if(G=S.rc,X=S.Vc,fe=S.Fa,f=S.mb,E=S.nb+re*H,d((a=S.P+1+re*H)<=S.P+S.qc),0!=i.Z)for(d(null!=TA[i.Z]),n=0;n<Ce;++n)TA[i.Z](G,X,fe,a,f,E,H),G=f,X=E,E+=H,a+=H;else for(n=0;n<Ce;++n)u(f,E,fe,a,H),G=f,X=E,E+=H,a+=H;S.rc=G,S.Vc=X}else{if(d(null!=i.mc),H=re+Ce,d(null!=(n=i.mc)),d(H<=n.i),n.C>=H)H=1;else if(i.ic||Qn(),i.ic){i=n.V,G=n.Ba;var xe=n.i,Re=(fe=1,a=n.$/(X=n.c),f=n.$%X,E=n.m,D=n.s,n.$),$e=X*xe,xt=X*H,nn=D.wc,hn=Re<xt?Eo(D,f,a):null;d(Re<=$e),d(H<=xe),d(zs(D));t:for(;;){for(;!E.h&&Re<xt;){if(f&nn||(hn=Eo(D,f,a)),d(null!=hn),Lt(E),256>(xe=co(hn.G[0],hn.H[0],E)))i[G+Re]=xe,++Re,++f>=X&&(f=0,++a<=H&&!(a%16)&&ll(n,a));else{if(!(280>xe)){fe=0;break t}xe=ws(xe-256,E);var Ln,nr=co(hn.G[4],hn.H[4],E);if(Lt(E),!(Re>=(nr=Ho(X,nr=ws(nr,E)))&&$e-Re>=xe)){fe=0;break t}for(Ln=0;Ln<xe;++Ln)i[G+Re+Ln]=i[G+Re+Ln-nr];for(Re+=xe,f+=xe;f>=X;)f-=X,++a<=H&&!(a%16)&&ll(n,a);Re<xt&&f&nn&&(hn=Eo(D,f,a))}d(E.h==gt(E))}ll(n,a>H?H:a);break t}!fe||E.h&&Re<$e?(fe=0,n.a=E.h?5:3):n.$=Re,H=fe}else H=us(n,n.V,n.Ba,n.c,n.i,H,pu);if(!H){Ce=0;break e}}re+Ce>=l&&(S.Cc=1),Ce=1}if(!Ce)return null;if(S.Cc&&(null!=(Ce=S.ga)&&(Ce.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+re*Qe}function Y(S,H,re,Ce,Qe,l){for(;0<Qe--;){var n,i=S,a=H+(re?1:0),f=S,E=H+(re?0:3);for(n=0;n<Ce;++n){var D=f[E+4*n];255!=D&&(i[a+4*n+0]=i[a+4*n+0]*(D*=32897)>>23,i[a+4*n+1]=i[a+4*n+1]*D>>23,i[a+4*n+2]=i[a+4*n+2]*D>>23)}H+=l}}function ze(S,H,re,Ce,Qe){for(;0<Ce--;){var l;for(l=0;l<re;++l){var n=S[H+2*l+0],i=15&(f=S[H+2*l+1]),a=4369*i,f=(240&f|f>>4)*a>>16;S[H+2*l+0]=(240&n|n>>4)*a>>16&240|(15&n|n<<4)*a>>16>>4&15,S[H+2*l+1]=240&f|i}H+=Qe}}function Ot(S,H,re,Ce,Qe,l,n,i){var a,f,E=255;for(f=0;f<Qe;++f){for(a=0;a<Ce;++a){var D=S[H+a];l[n+4*a]=D,E&=D}H+=re,n+=i}return 255!=E}function un(S,H,re,Ce,Qe){var l;for(l=0;l<Qe;++l)re[Ce+l]=S[H+l]>>8}function Qn(){Hf=Y,pp=ze,Vp=Ot,Qp=un}function hr(S,H,re){me[S]=function(Ce,Qe,l,n,i,a,f,E,D,G,X,fe,xe,Re,$e,xt,nn){var hn,Ln=nn-1>>1,nr=i[a+0]|f[E+0]<<16,Rr=D[G+0]|X[fe+0]<<16;d(null!=Ce);var rr=3*nr+Rr+131074>>2;for(H(Ce[Qe+0],255&rr,rr>>16,xe,Re),null!=l&&H(l[n+0],255&(rr=3*Rr+nr+131074>>2),rr>>16,$e,xt),hn=1;hn<=Ln;++hn){var Ti=i[a+hn]|f[E+hn]<<16,mo=D[G+hn]|X[fe+hn]<<16,Fi=nr+Ti+Rr+mo+524296,on=Fi+2*(Ti+Rr)>>3;rr=on+nr>>1,nr=(Fi=Fi+2*(nr+mo)>>3)+Ti>>1,H(Ce[Qe+2*hn-1],255&rr,rr>>16,xe,Re+(2*hn-1)*re),H(Ce[Qe+2*hn-0],255&nr,nr>>16,xe,Re+(2*hn-0)*re),null!=l&&(nr=on+mo>>1,H(l[n+2*hn-1],255&(rr=Fi+Rr>>1),rr>>16,$e,xt+(2*hn-1)*re),H(l[n+2*hn+0],255&nr,nr>>16,$e,xt+(2*hn+0)*re)),nr=Ti,Rr=mo}1&nn||(H(Ce[Qe+nn-1],255&(rr=3*nr+Rr+131074>>2),rr>>16,xe,Re+(nn-1)*re),null!=l&&H(l[n+nn-1],255&(rr=3*Rr+nr+131074>>2),rr>>16,$e,xt+(nn-1)*re))}}function jr(){Ad[Zg]=jm,Ad[km]=Cg,Ad[em]=Eg,Ad[Pm]=om,Ad[tm]=zf,Ad[Nm]=sm,Ad[Mm]=f0,Ad[_g]=Cg,Ad[nm]=om,Ad[Hp]=zf,Ad[mp]=sm}function Ni(S){return S&~Cv?0>S?0:255:S>>zm}function go(S,H){return Ni((19077*S>>8)+(26149*H>>8)-14234)}function fs(S,H,re){return Ni((19077*S>>8)-(6419*H>>8)-(13320*re>>8)+8708)}function $s(S,H){return Ni((19077*S>>8)+(33050*H>>8)-17685)}function Ta(S,H,re,Ce,Qe){Ce[Qe+0]=go(S,re),Ce[Qe+1]=fs(S,H,re),Ce[Qe+2]=$s(S,H)}function el(S,H,re,Ce,Qe){Ce[Qe+0]=$s(S,H),Ce[Qe+1]=fs(S,H,re),Ce[Qe+2]=go(S,re)}function hc(S,H,re,Ce,Qe){var l=fs(S,H,re);H=l<<3&224|$s(S,H)>>3,Ce[Qe+0]=248&go(S,re)|l>>5,Ce[Qe+1]=H}function oc(S,H,re,Ce,Qe){var l=240&$s(S,H)|15;Ce[Qe+0]=240&go(S,re)|fs(S,H,re)>>4,Ce[Qe+1]=l}function tu(S,H,re,Ce,Qe){Ce[Qe+0]=255,Ta(S,H,re,Ce,Qe+1)}function Uc(S,H,re,Ce,Qe){el(S,H,re,Ce,Qe),Ce[Qe+3]=255}function IA(S,H,re,Ce,Qe){Ta(S,H,re,Ce,Qe),Ce[Qe+3]=255}function ld(S,H){return 0>S?0:S>H?H:S}function Vd(S,H,re){me[S]=function(Ce,Qe,l,n,i,a,f,E,D){for(var G=E+(-2&D)*re;E!=G;)H(Ce[Qe+0],l[n+0],i[a+0],f,E),H(Ce[Qe+1],l[n+0],i[a+0],f,E+re),Qe+=2,++n,++a,E+=2*re;1&D&&H(Ce[Qe+0],l[n+0],i[a+0],f,E)}}function fg(S,H,re){return 0==re?0==S?0==H?6:5:0==H?4:0:re}function Ap(S,H,re,Ce,Qe){switch(S>>>30){case 3:Jg(H,re,Ce,Qe,0);break;case 2:gg(H,re,Ce,Qe);break;case 1:_f(H,re,Ce,Qe)}}function pf(S,H){var re,Ce,Qe=H.M,l=H.Nb,n=S.oc,i=S.pc+40,a=S.oc,f=S.pc+584,E=S.oc,D=S.pc+600;for(re=0;16>re;++re)n[i+32*re-1]=129;for(re=0;8>re;++re)a[f+32*re-1]=129,E[D+32*re-1]=129;for(0<Qe?n[i-1-32]=a[f-1-32]=E[D-1-32]=129:(_(n,i-32-1,127,21),_(a,f-32-1,127,9),_(E,D-32-1,127,9)),Ce=0;Ce<S.za;++Ce){var G=H.ya[H.aa+Ce];if(0<Ce){for(re=-1;16>re;++re)u(n,i+32*re-4,n,i+32*re+12,4);for(re=-1;8>re;++re)u(a,f+32*re-4,a,f+32*re+4,4),u(E,D+32*re-4,E,D+32*re+4,4)}var X=S.Gd,fe=S.Hd+Ce,xe=G.ad,Re=G.Hc;if(0<Qe&&(u(n,i-32,X[fe].y,0,16),u(a,f-32,X[fe].f,0,8),u(E,D-32,X[fe].ea,0,8)),G.Za){var $e=n,xt=i-32+16;for(0<Qe&&(Ce>=S.za-1?_($e,xt,X[fe].y[15],4):u($e,xt,X[fe+1].y,0,4)),re=0;4>re;re++)$e[xt+128+re]=$e[xt+256+re]=$e[xt+384+re]=$e[xt+0+re];for(re=0;16>re;++re,Re<<=2)Uh[G.Ob[re]]($e=n,xt=i+DA[re]),Ap(Re,xe,16*+re,$e,xt)}else if($e=fg(Ce,Qe,G.Ob[0]),Lh[$e](n,i),0!=Re)for(re=0;16>re;++re,Re<<=2)Ap(Re,xe,16*+re,n,i+DA[re]);for(re=G.Gc,$e=fg(Ce,Qe,G.Dd),hh[$e](a,f),hh[$e](E,D),Re=xe,$e=a,xt=f,255&(G=0|re)&&(170&G?vf(Re,256,$e,xt):uh(Re,256,$e,xt)),G=E,Re=D,255&(re>>=8)&&(170&re?vf(xe,320,G,Re):uh(xe,320,G,Re)),Qe<S.Ub-1&&(u(X[fe].y,0,n,i+480,16),u(X[fe].f,0,a,f+224,8),u(X[fe].ea,0,E,D+224,8)),X=S.sa,fe=S.ta+16*Ce+16*l*S.R,xe=S.qa,G=S.ra+8*Ce+(re=8*l*S.B),Re=S.Ha,$e=S.Ia+8*Ce+re,re=0;16>re;++re)u(X,fe+re*S.R,n,i+32*re,16);for(re=0;8>re;++re)u(xe,G+re*S.B,a,f+32*re,8),u(Re,$e+re*S.B,E,D+32*re,8)}}function bA(S,H,re,Ce,Qe,l,n,i,a){var f=[0],E=[0],D=0,G=null!=a?a.kd:0,X=null!=a?a:new Mp;if(null==S||12>re)return 7;X.data=S,X.w=H,X.ha=re,H=[H],re=[re],X.gb=[X.gb];e:{var fe=H,xe=re,Re=X.gb;if(d(null!=S),d(null!=xe),d(null!=Re),Re[0]=0,12<=xe[0]&&!c(S,fe[0],"RIFF")){if(c(S,fe[0]+8,"WEBP")){Re=3;break e}var $e=Ci(S,fe[0]+4);if(12>$e||4294967286<$e){Re=3;break e}if(G&&$e>xe[0]-8){Re=7;break e}Re[0]=$e,fe[0]+=12,xe[0]-=12}Re=0}if(0!=Re)return Re;for($e=0<X.gb[0],re=re[0];;){e:{var xt=S;xe=H,Re=re;var nn=f,hn=E,Ln=fe=[0];if((rr=D=[D])[0]=0,8>Re[0])Re=7;else{if(!c(xt,xe[0],"VP8X")){if(10!=Ci(xt,xe[0]+4)){Re=3;break e}if(18>Re[0]){Re=7;break e}var nr=Ci(xt,xe[0]+8),Rr=1+gi(xt,xe[0]+12);if(2147483648<=Rr*(xt=1+gi(xt,xe[0]+15))){Re=3;break e}null!=Ln&&(Ln[0]=nr),null!=nn&&(nn[0]=Rr),null!=hn&&(hn[0]=xt),xe[0]+=18,Re[0]-=18,rr[0]=1}Re=0}}if(D=D[0],0!=Re)return Re;if(xe=!!(2&(fe=fe[0])),!$e&&D)return 3;if(null!=l&&(l[0]=!!(16&fe)),null!=n&&(n[0]=xe),null!=i&&(i[0]=0),n=f[0],fe=E[0],D&&xe&&null==a){Re=0;break}if(4>re){Re=7;break}if($e&&D||!$e&&!D&&!c(S,H[0],"ALPH")){re=[re],X.na=[X.na],X.P=[X.P],X.Sa=[X.Sa];e:{Re=H,$e=re;var rr=X.gb;nn=X.na,hn=X.P,Ln=X.Sa,Rr=22,d(null!=(nr=S)),d(null!=$e),xt=Re[0];var Ti=$e[0];for(d(null!=nn),d(null!=Ln),nn[0]=null,hn[0]=null,Ln[0]=0;;){if(Re[0]=xt,$e[0]=Ti,8>Ti){Re=7;break e}var mo=Ci(nr,xt+4);if(4294967286<mo){Re=3;break e}var Fi=8+mo+1&-2;if(Rr+=Fi,0<rr&&Rr>rr){Re=3;break e}if(!c(nr,xt,"VP8 ")||!c(nr,xt,"VP8L")){Re=0;break e}if(Ti[0]<Fi){Re=7;break e}c(nr,xt,"ALPH")||(nn[0]=nr,hn[0]=xt+8,Ln[0]=mo),xt+=Fi,Ti-=Fi}}if(re=re[0],X.na=X.na[0],X.P=X.P[0],X.Sa=X.Sa[0],0!=Re)break}re=[re],X.Ja=[X.Ja],X.xa=[X.xa];e:if(rr=S,Re=H,$e=re,nn=X.gb[0],hn=X.Ja,Ln=X.xa,nr=Re[0],xt=!c(rr,nr,"VP8 "),Rr=!c(rr,nr,"VP8L"),d(null!=rr),d(null!=$e),d(null!=hn),d(null!=Ln),8>$e[0])Re=7;else{if(xt||Rr){if(rr=Ci(rr,nr+4),12<=nn&&rr>nn-12){Re=3;break e}if(G&&rr>$e[0]-8){Re=7;break e}hn[0]=rr,Re[0]+=8,$e[0]-=8,Ln[0]=Rr}else Ln[0]=5<=$e[0]&&47==rr[nr+0]&&!(rr[nr+4]>>5),hn[0]=$e[0];Re=0}if(re=re[0],X.Ja=X.Ja[0],X.xa=X.xa[0],H=H[0],0!=Re)break;if(4294967286<X.Ja)return 3;if(null==i||xe||(i[0]=X.xa?2:1),n=[n],fe=[fe],X.xa){if(5>re){Re=7;break}i=n,G=fe,xe=l,null==S||5>re?S=0:5<=re&&47==S[H+0]&&!(S[H+4]>>5)?($e=[0],rr=[0],nn=[0],M(hn=new ye,S,H,re),Ir(hn,$e,rr,nn)?(null!=i&&(i[0]=$e[0]),null!=G&&(G[0]=rr[0]),null!=xe&&(xe[0]=nn[0]),S=1):S=0):S=0}else{if(10>re){Re=7;break}i=fe,null==S||10>re||!Nf(S,H+3,re-3)?S=0:(G=S[H+0]|S[H+1]<<8|S[H+2]<<16,xe=16383&(S[H+7]<<8|S[H+6]),S=16383&(S[H+9]<<8|S[H+8]),1&G||3<(G>>1&7)||!(G>>4&1)||G>>5>=X.Ja||!xe||!S?S=0:(n&&(n[0]=xe),i&&(i[0]=S),S=1))}if(!S||(n=n[0],fe=fe[0],D&&(f[0]!=n||E[0]!=fe)))return 3;null!=a&&(a[0]=X,a.offset=H-a.w,d(4294967286>H-a.w),d(a.offset==a.ha-re));break}return 0==Re||7==Re&&D&&null==a?(null!=l&&(l[0]|=null!=X.na&&0<X.na.length),null!=Ce&&(Ce[0]=n),null!=Qe&&(Qe[0]=fe),0):Re}function jf(S,H,re){var Ce=H.width,Qe=H.height,l=0,n=0,i=Ce,a=Qe;if(H.Da=null!=S&&0<S.Da,H.Da&&(i=S.cd,a=S.bd,l=S.v,n=S.j,11>re||(l&=-2,n&=-2),0>l||0>n||0>=i||0>=a||l+i>Ce||n+a>Qe))return 0;if(H.v=l,H.j=n,H.va=l+i,H.o=n+a,H.U=i,H.T=a,H.da=null!=S&&0<S.da,H.da){if(!jo(i,a,re=[S.ib],l=[S.hb]))return 0;H.ib=re[0],H.hb=l[0]}return H.ob=null!=S&&S.ob,H.Kb=null==S||!S.Sd,H.da&&(H.ob=H.ib<3*Ce/4&&H.hb<3*Qe/4,H.Kb=0),1}function qg(S){if(null==S)return 2;if(11>S.S){var H=S.f.RGBA;H.fb+=(S.height-1)*H.A,H.A=-H.A}else(H=S.f.kb).O+=((S=S.height)-1)*H.fa,H.fa=-H.fa,H.N+=(S-1>>1)*H.Ab,H.Ab=-H.Ab,H.W+=(S-1>>1)*H.Db,H.Db=-H.Db,null!=H.F&&(H.J+=(S-1)*H.lb,H.lb=-H.lb);return 0}function cd(S,H,re,Ce){if(null==Ce||0>=S||0>=H)return 2;if(null!=re){if(re.Da){var Qe=re.cd,l=re.bd,n=-2&re.v,i=-2&re.j;if(0>n||0>i||0>=Qe||0>=l||n+Qe>S||i+l>H)return 2;S=Qe,H=l}if(re.da){if(!jo(S,H,Qe=[re.ib],l=[re.hb]))return 2;S=Qe[0],H=l[0]}}Ce.width=S,Ce.height=H;e:{var a=Ce.width,f=Ce.height;if(S=Ce.S,0>=a||0>=f||!(S>=Zg&&13>S))S=2;else{if(0>=Ce.Rd&&null==Ce.sd){n=l=Qe=H=0;var E=(i=a*Gf[S])*f;if(11>S||(l=(f+1)/2*(H=(a+1)/2),12==S&&(n=(Qe=a)*f)),null==(f=I(E+2*l+n))){S=1;break e}Ce.sd=f,11>S?((a=Ce.f.RGBA).eb=f,a.fb=0,a.A=i,a.size=E):((a=Ce.f.kb).y=f,a.O=0,a.fa=i,a.Fd=E,a.f=f,a.N=0+E,a.Ab=H,a.Cd=l,a.ea=f,a.W=0+E+l,a.Db=H,a.Ed=l,12==S&&(a.F=f,a.J=0+E+2*l),a.Tc=n,a.lb=Qe)}if(H=1,l=Ce.width,n=Ce.height,(Qe=Ce.S)>=Zg&&13>Qe)if(11>Qe)S=Ce.f.RGBA,H&=(i=Math.abs(S.A))*(n-1)+l<=S.size,H&=i>=l*Gf[Qe],H&=null!=S.eb;else{S=Ce.f.kb,i=(l+1)/2,E=(n+1)/2,a=Math.abs(S.fa),f=Math.abs(S.Ab);var D=Math.abs(S.Db),G=Math.abs(S.lb);H&=a*(n-1)+l<=S.Fd,H&=f*(E-1)+i<=S.Cd,H=(H&=D*(E-1)+i<=S.Ed)&a>=l&f>=i&D>=i,H&=null!=S.y,H&=null!=S.f,H&=null!=S.ea,12==Qe&&(H&=G>=l,H&=G*(n-1)+l<=S.Tc,H&=null!=S.F)}else H=0;S=H?0:2}}return 0!=S||null!=re&&re.fd&&(S=qg(Ce)),S}var Qd=64,Xg=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],dp=24,pg=32,hp=8,WA=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];li("Predictor0","PredictorAdd0"),me.Predictor0=function(){return 4278190080},me.Predictor1=function(S){return S},me.Predictor2=function(S,H,re){return H[re+0]},me.Predictor3=function(S,H,re){return H[re+1]},me.Predictor4=function(S,H,re){return H[re-1]},me.Predictor5=function(S,H,re){return vi(vi(S,H[re+1]),H[re+0])},me.Predictor6=function(S,H,re){return vi(S,H[re-1])},me.Predictor7=function(S,H,re){return vi(S,H[re+0])},me.Predictor8=function(S,H,re){return vi(H[re-1],H[re+0])},me.Predictor9=function(S,H,re){return vi(H[re+0],H[re+1])},me.Predictor10=function(S,H,re){return vi(vi(S,H[re-1]),vi(H[re+0],H[re+1]))},me.Predictor11=function(S,H,re){var Ce=H[re+0];return 0>=ys(Ce>>24&255,S>>24&255,(H=H[re-1])>>24&255)+ys(Ce>>16&255,S>>16&255,H>>16&255)+ys(Ce>>8&255,S>>8&255,H>>8&255)+ys(255&Ce,255&S,255&H)?Ce:S},me.Predictor12=function(S,H,re){var Ce=H[re+0];return(po((S>>24&255)+(Ce>>24&255)-((H=H[re-1])>>24&255))<<24|po((S>>16&255)+(Ce>>16&255)-(H>>16&255))<<16|po((S>>8&255)+(Ce>>8&255)-(H>>8&255))<<8|po((255&S)+(255&Ce)-(255&H)))>>>0},me.Predictor13=function(S,H,re){var Ce=H[re-1];return(Xo((S=vi(S,H[re+0]))>>24&255,Ce>>24&255)<<24|Xo(S>>16&255,Ce>>16&255)<<16|Xo(S>>8&255,Ce>>8&255)<<8|Xo(255&S,255&Ce))>>>0};var Lp=me.PredictorAdd0;me.PredictorAdd1=Ts,li("Predictor2","PredictorAdd2"),li("Predictor3","PredictorAdd3"),li("Predictor4","PredictorAdd4"),li("Predictor5","PredictorAdd5"),li("Predictor6","PredictorAdd6"),li("Predictor7","PredictorAdd7"),li("Predictor8","PredictorAdd8"),li("Predictor9","PredictorAdd9"),li("Predictor10","PredictorAdd10"),li("Predictor11","PredictorAdd11"),li("Predictor12","PredictorAdd12"),li("Predictor13","PredictorAdd13");var ch=me.PredictorAdd2;Hs("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),Hs("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var Up,jd=me.ColorIndexInverseTransform,gf=me.MapARGB,Yg=me.VP8LColorIndexInverseTransformAlpha,xm=me.MapAlpha,kh=me.VP8LPredictorsAdd=[];kh.length=16,(me.VP8LPredictors=[]).length=16,(me.VP8LPredictorsAdd_C=[]).length=16,(me.VP8LPredictors_C=[]).length=16;var mu,ec,nu,Hd,Ph,mf,Nh,Jg,gg,vf,_f,uh,SA,sA,Ah,Vc,fp,qA,dh,ma,Ul,Bc,Qc,yf,Hf,pp,Vp,Qp,mg=I(511),vg=I(2041),vv=I(225),gp=I(767),jp=0,Rm=vg,Mh=vv,XA=gp,ud=mg,Zg=0,km=1,em=2,Pm=3,tm=4,Nm=5,Mm=6,_g=7,nm=8,Hp=9,mp=10,Om=[2,3,7],Oh=[3,3,11],zp=[280,256,256,256,40],_v=[0,1,1,1,0],Lm=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],rm=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],A0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],yv=8,Um=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],wv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],im=null,Vm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ev=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Es=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],d0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],h0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],yg=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Qm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Lh=[],Uh=[],hh=[],wg=1,$p=2,TA=[],Ad=[];hr("UpsampleRgbLinePair",Ta,3),hr("UpsampleBgrLinePair",el,3),hr("UpsampleRgbaLinePair",IA,4),hr("UpsampleBgraLinePair",Uc,4),hr("UpsampleArgbLinePair",tu,4),hr("UpsampleRgba4444LinePair",oc,2),hr("UpsampleRgb565LinePair",hc,2);var jm=me.UpsampleRgbLinePair,Eg=me.UpsampleBgrLinePair,Cg=me.UpsampleRgbaLinePair,om=me.UpsampleBgraLinePair,zf=me.UpsampleArgbLinePair,sm=me.UpsampleRgba4444LinePair,f0=me.UpsampleRgb565LinePair,am=16,Gp=1<<am-1,$f=-227,Hm=482,zm=6,Cv=(256<<zm)-1,wf=0,dd=I(256),BA=I(256),Iv=I(256),FA=I(256),Ig=I(Hm-$f),bg=I(Hm-$f);Vd("YuvToRgbRow",Ta,3),Vd("YuvToBgrRow",el,3),Vd("YuvToRgbaRow",IA,4),Vd("YuvToBgraRow",Uc,4),Vd("YuvToArgbRow",tu,4),Vd("YuvToRgba4444Row",oc,2),Vd("YuvToRgb565Row",hc,2);var DA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Kp=[0,2,8],lm=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(S,H,re,Ce,Qe){var l=km,n=new hf,i=new ln;n.ba=i,i.S=l,i.width=[i.width],i.height=[i.height];var a=i.width,f=i.height,E=new fn;if(null==E||null==S)var D=2;else d(null!=E),D=bA(S,H,re,E.width,E.height,E.Pd,E.Qd,E.format,null);if(0!=D?a=0:(null!=a&&(a[0]=E.width[0]),null!=f&&(f[0]=E.height[0]),a=1),a){i.width=i.width[0],i.height=i.height[0],null!=Ce&&(Ce[0]=i.width),null!=Qe&&(Qe[0]=i.height);e:{if(Ce=new cf,(Qe=new Mp).data=S,Qe.w=H,Qe.ha=re,Qe.kd=1,H=[0],d(null!=Qe),(0==(S=bA(Qe.data,Qe.w,Qe.ha,null,null,null,H,null,Qe))||7==S)&&H[0]&&(S=4),0==(H=S)){if(d(null!=n),Ce.data=Qe.data,Ce.w=Qe.w+Qe.offset,Ce.ha=Qe.ha-Qe.offset,Ce.put=Uo,Ce.ac=ni,Ce.bc=Pi,Ce.ma=n,Qe.xa){if(null==(S=xl())){n=1;break e}if(function(G,X){var fe=[0],xe=[0],Re=[0];t:for(;;){if(null==G)return 0;if(null==X)return G.a=2,0;if(G.l=X,G.a=0,M(G.m,X.data,X.w,X.ha),!Ir(G.m,fe,xe,Re)){G.a=3;break t}if(G.xb=$p,X.width=fe[0],X.height=xe[0],!cl(fe[0],xe[0],1,G,null))break t;return 1}return d(0!=G.a),0}(S,Ce)){if(Ce=0==(H=cd(Ce.width,Ce.height,n.Oa,n.ba))){t:{Ce=S;n:for(;;){if(null==Ce){Ce=0;break t}if(d(null!=Ce.s.yc),d(null!=Ce.s.Ya),d(0<Ce.s.Wb),d(null!=(re=Ce.l)),d(null!=(Qe=re.ma)),0!=Ce.xb){if(Ce.ca=Qe.ba,Ce.tb=Qe.tb,d(null!=Ce.ca),!jf(Qe.Oa,re,Pm)){Ce.a=2;break n}if(!zl(Ce,re.width)||re.da)break n;if((re.da||Ge(Ce.ca.S))&&Qn(),11>Ce.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=Ce.ca.f.kb.F&&Qn()),Ce.Pb&&0<Ce.s.ua&&null==Ce.s.vb.X&&!Po(Ce.s.vb,Ce.s.Wa.Xa)){Ce.a=1;break n}Ce.xb=0}if(!us(Ce,Ce.V,Ce.Ba,Ce.c,Ce.i,re.o,No))break n;Qe.Dc=Ce.Ma,Ce=1;break t}d(0!=Ce.a),Ce=0}Ce=!Ce}Ce&&(H=S.a)}else H=S.a}else{if(null==(S=new og)){n=1;break e}if(S.Fa=Qe.na,S.P=Qe.P,S.qc=Qe.Sa,Th(S,Ce)){if(0==(H=cd(Ce.width,Ce.height,n.Oa,n.ba))){if(S.Aa=0,re=n.Oa,d(null!=(Qe=S)),null!=re){if(0<(a=0>(a=re.Md)?0:100<a?255:255*a/100)){for(f=E=0;4>f;++f)12>(D=Qe.pb[f]).lc&&(D.ia=a*lm[0>D.lc?0:D.lc]>>3),E|=D.ia;E&&(alert("todo:VP8InitRandom"),Qe.ia=1)}Qe.Ga=re.Id,100<Qe.Ga?Qe.Ga=100:0>Qe.Ga&&(Qe.Ga=0)}(function sg(S,H){if(null==S)return 0;if(null==H)return Tc(S,2,"NULL VP8Io parameter in VP8Decode().");if(!S.cb&&!Th(S,H))return 0;if(d(S.cb),null==H.ac||H.ac(H)){H.ob&&(S.L=0);var re=Kp[S.L];if(2==S.L?(S.yb=0,S.zb=0):(S.yb=H.v-re>>4,S.zb=H.j-re>>4,0>S.yb&&(S.yb=0),0>S.zb&&(S.zb=0)),S.Va=H.o+15+re>>4,S.Hb=H.va+15+re>>4,S.Hb>S.za&&(S.Hb=S.za),S.Va>S.Ub&&(S.Va=S.Ub),0<S.L){var Ce=S.ed;for(re=0;4>re;++re){var Qe;if(S.Qa.Cb){var l=S.Qa.Lb[re];S.Qa.Fb||(l+=Ce.Tb)}else l=Ce.Tb;for(Qe=0;1>=Qe;++Qe){var n=S.gd[re][Qe],i=l;if(Ce.Pc&&(i+=Ce.vd[0],Qe&&(i+=Ce.od[0])),0<(i=0>i?0:63<i?63:i)){var a=i;0<Ce.wb&&(a=4<Ce.wb?a>>2:a>>1)>9-Ce.wb&&(a=9-Ce.wb),1>a&&(a=1),n.dd=a,n.tc=2*i+a,n.ld=40<=i?2:15<=i?1:0}else n.tc=0;n.La=Qe}}}re=0}else Tc(S,6,"Frame setup failed"),re=S.a;if(re=0==re){if(re){S.$c=0,0<S.Aa||(S.Ic=1);e:{Ce=4*(a=S.za);var f=32*a,E=a+1,D=0<S.L?a*(0<S.Aa?2:1):0,G=(2==S.Aa?2:1)*a;if((n=Ce+832+(Qe=3*(16*(re=S.Ic)+Kp[S.L])/2*f)+(l=null!=S.Fa&&0<S.Fa.length?S.Kc.c*S.Kc.i:0))!=n)re=0;else{if(n>S.Vb){if(S.Vb=0,S.Ec=I(n),S.Fc=0,null==S.Ec){re=Tc(S,1,"no memory during frame initialization.");break e}S.Vb=n}i=S.Fc,S.Ac=n=S.Ec,S.Bc=i,i+=Ce,S.Gd=P(f,af),S.Hd=0,S.rb=P(E+1,CA),S.sb=1,S.wa=D?P(D,Ou):null,S.Y=0,S.D.Nb=0,S.D.wa=S.wa,S.D.Y=S.Y,0<S.Aa&&(S.D.Y+=a),d(!0),S.oc=n,S.pc=i,i+=832,S.ya=P(G,Pf),S.aa=0,S.D.ya=S.ya,S.D.aa=S.aa,2==S.Aa&&(S.D.aa+=a),S.R=16*a,S.B=8*a,a=(f=Kp[S.L])*S.R,f=f/2*S.B,S.sa=n,S.ta=i+a,S.qa=S.sa,S.ra=S.ta+16*re*S.R+f,S.Ha=S.qa,S.Ia=S.ra+8*re*S.B+f,S.$c=0,i+=Qe,S.mb=l?n:null,S.nb=l?i:null,d(i+l<=S.Fc+S.Vb),Mf(S),_(S.Ac,S.Bc,0,Ce),re=1}}if(re){if(H.ka=0,H.y=S.sa,H.O=S.ta,H.f=S.qa,H.N=S.ra,H.ea=S.Ha,H.Vd=S.Ia,H.fa=S.R,H.Rc=S.B,H.F=null,H.J=0,!jp){for(re=-255;255>=re;++re)mg[255+re]=0>re?-re:re;for(re=-1020;1020>=re;++re)vg[1020+re]=-128>re?-128:127<re?127:re;for(re=-112;112>=re;++re)vv[112+re]=-16>re?-16:15<re?15:re;for(re=-255;510>=re;++re)gp[255+re]=0>re?0:255<re?255:re;jp=1}Nh=lg,Jg=Qg,vf=ag,_f=jg,uh=sp,gg=op,SA=lp,sA=cp,Ah=Ud,Vc=sd,fp=Np,qA=up,dh=Kg,ma=Dh,Ul=dg,Bc=Fh,Qc=ap,yf=mv,Uh[0]=eu,Uh[1]=Hg,Uh[2]=Zc,Uh[3]=Rl,Uh[4]=Od,Uh[5]=Af,Uh[6]=Uf,Uh[7]=Ag,Uh[8]=pv,Uh[9]=zg,Lh[0]=Bs,Lh[1]=Dm,Lh[2]=id,Lh[3]=uf,Lh[4]=gu,Lh[5]=ug,Lh[6]=Lf,hh[0]=Sa,hh[1]=cg,hh[2]=$g,hh[3]=Gg,hh[4]=Rp,hh[5]=gv,hh[6]=Cl,re=1}else re=0}re&&(re=function(X,fe){for(X.M=0;X.M<X.Va;++X.M){var xe,Re=X.Jc[X.M&X.Xb],$e=X.m,xt=X;for(xe=0;xe<xt.za;++xe){var nn=$e,hn=xt,Ln=hn.Ac,nr=hn.Bc+4*xe,Rr=hn.zc,rr=hn.ya[hn.aa+xe];if(rr.$b=hn.Qa.Bb?qn(nn,hn.Pa.jb[0])?2+qn(nn,hn.Pa.jb[2]):qn(nn,hn.Pa.jb[1]):0,hn.kc&&(rr.Ad=qn(nn,hn.Bd)),rr.Za=!qn(nn,145)+0,rr.Za){var Ti=rr.Ob,mo=0;for(hn=0;4>hn;++hn){var Fi,on=Rr[0+hn];for(Fi=0;4>Fi;++Fi){for(var kt=Es[qn(nn,(on=h0[Ln[nr+Fi]][on])[0])];0<kt;)kt=Es[2*kt+qn(nn,on[kt])];Ln[nr+Fi]=on=-kt}u(Ti,mo,Ln,nr,4),mo+=4,Rr[0+hn]=on}}else on=qn(nn,156)?qn(nn,128)?1:3:qn(nn,163)?2:0,rr.Ob[0]=on,_(Ln,nr,on,4),_(Rr,0,on,4);rr.Dd=qn(nn,142)?qn(nn,114)?qn(nn,183)?1:3:2:0}if(xt.m.Ka)return Tc(X,7,"Premature end-of-partition0 encountered.");for(;X.ja<X.za;++X.ja){if(xt=Re,nn=($e=X).rb[$e.sb-1],Ln=$e.rb[$e.sb+$e.ja],xe=$e.ya[$e.aa+$e.ja],nr=$e.kc?xe.Ad:0)nn.la=Ln.la=0,xe.Za||(nn.Na=Ln.Na=0),xe.Hc=0,xe.Gc=0,xe.ia=0;else{var $t,Xt;if(nn=Ln,Ln=xt,nr=$e.Pa.Xc,rr=$e.pb[(Rr=$e.ya[$e.aa+$e.ja]).$b],mo=$e.rb[$e.sb-1],on=Fi=0,_(hn=Rr.ad,Ti=0,0,384),Rr.Za)var En=0,Hn=nr[3];else{kt=I(16);var Gt=nn.Na+mo.Na;if(Gt=im(Ln,nr[1],Gt,rr.Eb,0,kt,0),nn.Na=mo.Na=(0<Gt)+0,1<Gt)Nh(kt,0,hn,Ti);else{var sc=kt[0]+3>>3;for(kt=0;256>kt;kt+=16)hn[Ti+kt]=sc}En=1,Hn=nr[0]}var xa=15&nn.la,hd=15&mo.la;for(kt=0;4>kt;++kt){var Uu=1&hd;for(sc=Xt=0;4>sc;++sc)xa=xa>>1|(Uu=(Gt=im(Ln,Hn,Gt=Uu+(1&xa),rr.Sc,En,hn,Ti))>En)<<7,Xt=Xt<<2|(3<Gt?3:1<Gt?2:0!=hn[Ti+0]),Ti+=16;xa>>=4,hd=hd>>1|Uu<<7,Fi=(Fi<<8|Xt)>>>0}for(Hn=xa,En=hd>>4,$t=0;4>$t;$t+=2){for(Xt=0,xa=nn.la>>4+$t,hd=mo.la>>4+$t,kt=0;2>kt;++kt){for(Uu=1&hd,sc=0;2>sc;++sc)xa=xa>>1|(Uu=0<(Gt=im(Ln,nr[2],Gt=Uu+(1&xa),rr.Qc,0,hn,Ti)))<<3,Xt=Xt<<2|(3<Gt?3:1<Gt?2:0!=hn[Ti+0]),Ti+=16;xa>>=2,hd=hd>>1|Uu<<5}on|=Xt<<4*$t,Hn|=xa<<4<<$t,En|=(240&hd)<<$t}nn.la=Hn,mo.la=En,Rr.Hc=Fi,Rr.Gc=on,Rr.ia=43690&on?0:rr.ia,nr=!(Fi|on)}if(0<$e.L&&($e.wa[$e.Y+$e.ja]=$e.gd[xe.$b][xe.Za],$e.wa[$e.Y+$e.ja].La|=!nr),xt.Ka)return Tc(X,7,"Premature end-of-file encountered.")}if(Mf(X),$e=fe,xt=1,xe=(Re=X).D,nn=0<Re.L&&Re.M>=Re.zb&&Re.M<=Re.Va,0==Re.Aa)e:{if(xe.M=Re.M,xe.uc=nn,pf(Re,xe),xt=1,xe=(Xt=Re.D).Nb,nn=(on=Kp[Re.L])*Re.R,nr=Re.sa,Rr=Re.ta-nn+(kt=16*xe*Re.R),rr=Re.qa,hn=Re.ra-(Ln=on/2*Re.B)+(sc=8*xe*Re.B),Ti=Re.Ha,mo=Re.Ia-Ln+sc,hd=0==(xa=Xt.M),Fi=xa>=Re.Va-1,2==Re.Aa&&pf(Re,Xt),Xt.uc)for(Uu=(Gt=Re).D.M,d(Gt.D.uc),Xt=Gt.yb;Xt<Gt.Hb;++Xt){Hn=Uu;var fc=(ru=(pc=Gt).D).Nb,ru=ru.wa[ru.Y+(En=Xt)],Vu=pc.sa,xA=pc.ta+16*fc*($t=pc.R)+16*En,Qu=ru.dd,Ha=ru.tc;if(0!=Ha)if(d(3<=Ha),1==pc.L)0<En&&Bc(Vu,xA,$t,Ha+4),ru.La&&yf(Vu,xA,$t,Ha),0<Hn&&Ul(Vu,xA,$t,Ha+4),ru.La&&Qc(Vu,xA,$t,Ha);else{var Ef=pc.B,fh=pc.qa,vp=pc.ra+8*fc*Ef+8*En,zd=pc.Ha,pc=pc.Ia+8*fc*Ef+8*En;fc=ru.ld,0<En&&(sA(Vu,xA,$t,Ha+4,Qu,fc),Vc(fh,vp,zd,pc,Ef,Ha+4,Qu,fc)),ru.La&&(qA(Vu,xA,$t,Ha,Qu,fc),ma(fh,vp,zd,pc,Ef,Ha,Qu,fc)),0<Hn&&(SA(Vu,xA,$t,Ha+4,Qu,fc),Ah(fh,vp,zd,pc,Ef,Ha+4,Qu,fc)),ru.La&&(fp(Vu,xA,$t,Ha,Qu,fc),dh(fh,vp,zd,pc,Ef,Ha,Qu,fc))}}if(Re.ia&&alert("todo:DitherRow"),null!=$e.put){if(Xt=16*xa,xa=16*(xa+1),hd?($e.y=Re.sa,$e.O=Re.ta+kt,$e.f=Re.qa,$e.N=Re.ra+sc,$e.ea=Re.Ha,$e.W=Re.Ia+sc):(Xt-=on,$e.y=nr,$e.O=Rr,$e.f=rr,$e.N=hn,$e.ea=Ti,$e.W=mo),Fi||(xa-=on),xa>$e.o&&(xa=$e.o),$e.F=null,$e.J=null,null!=Re.Fa&&0<Re.Fa.length&&Xt<xa&&($e.J=ff(Re,$e,Xt,xa-Xt),$e.F=Re.mb,null==$e.F&&0==$e.F.length)){xt=Tc(Re,3,"Could not decode alpha data.");break e}Xt<$e.j&&(on=$e.j-Xt,Xt=$e.j,d(!(1&on)),$e.O+=Re.R*on,$e.N+=Re.B*(on>>1),$e.W+=Re.B*(on>>1),null!=$e.F&&($e.J+=$e.width*on)),Xt<xa&&($e.O+=$e.v,$e.N+=$e.v>>1,$e.W+=$e.v>>1,null!=$e.F&&($e.J+=$e.v),$e.ka=Xt-$e.j,$e.U=$e.va-$e.v,$e.T=xa-Xt,xt=$e.put($e))}xe+1!=Re.Ic||Fi||(u(Re.sa,Re.ta-nn,nr,Rr+16*Re.R,nn),u(Re.qa,Re.ra-Ln,rr,hn+8*Re.B,Ln),u(Re.Ha,Re.Ia-Ln,Ti,mo+8*Re.B,Ln))}if(!xt)return Tc(X,6,"Output aborted.")}return 1}(S,H)),null!=H.bc&&H.bc(H),re&=1}return re?(S.cb=0,re):0})(S,Ce)||(H=S.a)}}else H=S.a}0==H&&null!=n.Oa&&n.Oa.fd&&(H=qg(n.ba))}n=H}l=0!=n?null:11>l?i.f.RGBA.eb:i.f.kb.y}else l=null;return l};var Gf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function te(me,We){for(var it="",Me=0;Me<4;Me++)it+=String.fromCharCode(me[We++]);return it}function oe(me,We){return(me[We+0]|me[We+1]<<8|me[We+2]<<16)>>>0}function ve(me,We){return(me[We+0]|me[We+1]<<8|me[We+2]<<16|me[We+3]<<24)>>>0}new $;var Oe=[0],he=[0],ct=[],at=new $,ht=g,m=function(me,We){var it={},Me=0,Ue=!1,dt=0,It=0;if(it.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(Ke,gt,Dt,Lt){for(var xn=0;xn<4;xn++)if(Ke[gt+xn]!="RIFF".charCodeAt(xn))return!0;return!1}(me,We)){var F,v;for(ve(me,We+=4),We+=8;We<me.length;){var C=te(me,We),M=ve(me,We+=4);We+=4;var ae=M+(1&M);switch(C){case"VP8 ":case"VP8L":void 0===it.frames[Me]&&(it.frames[Me]={}),(ye=it.frames[Me]).src_off=Ue?It:We-8,ye.src_size=dt+M+8,Me++,Ue&&(Ue=!1,dt=0,It=0);break;case"VP8X":(ye=it.header={}).feature_flags=me[We];var Se=We+4;ye.canvas_width=1+oe(me,Se),ye.canvas_height=1+oe(me,Se+=3),Se+=3;break;case"ALPH":Ue=!0,dt=ae+8,It=We-8;break;case"ANIM":(ye=it.header).bgcolor=ve(me,We),ye.loop_count=(F=me)[(v=Se=We+4)+0]|F[v+1]<<8,Se+=2;break;case"ANMF":var yt,ye;(ye=it.frames[Me]={}).offset_x=2*oe(me,We),ye.offset_y=2*oe(me,We+=3),ye.width=1+oe(me,We+=3),ye.height=1+oe(me,We+=3),ye.duration=oe(me,We+=3),We+=3,yt=me[We++],ye.dispose=1&yt,ye.blend=yt>>1&1}"ANMF"!=C&&(We+=ae)}return it}}(ht,0);m.response=ht,m.rgbaoutput=!0,m.dataurl=!1;var A=m.header?m.header:null,p=m.frames?m.frames:null;if(A){A.loop_counter=A.loop_count,Oe=[A.canvas_height],he=[A.canvas_width];for(var b=0;b<p.length&&0!=p[b].blend;b++);}var Q=p[0],ee=at.WebPDecodeRGBA(ht,Q.src_off,Q.src_size,he,Oe);Q.rgba=ee,Q.imgwidth=he[0],Q.imgheight=Oe[0];for(var le=0;le<he[0]*Oe[0]*4;le++)ct[le]=ee[le];return this.width=he,this.height=Oe,this.data=ct,this}(function(g){var c=function(Oe,he,ct,at){var ht=4,m=P;switch(at){case g.image_compression.FAST:ht=1,m=I;break;case g.image_compression.MEDIUM:ht=6,m=U;break;case g.image_compression.SLOW:ht=9,m=$}var A=jl(Oe=u(Oe,he,ct,m),{level:ht});return g.__addimage__.arrayBufferToBinaryString(A)},u=function(Oe,he,ct,at){for(var ht,m,A,p=Oe.length/he,b=new Uint8Array(Oe.length+p),Q=oe(),ee=0;ee<p;ee+=1){if(ht=Oe.subarray(A=ee*he,A+he),at)b.set(at(ht,ct,m),A+ee);else{for(var le,me=Q.length,We=[];le<me;le+=1)We[le]=Q[le](ht,ct,m);var it=ve(We.concat());b.set(We[it],A+ee)}m=ht}return b},_=function(Oe){var he=Array.apply([],Oe);return he.unshift(0),he},I=function(Oe,he){var at=[],ht=Oe.length;at[0]=1;for(var m=0;m<ht;m+=1)at[m+1]=Oe[m]-(Oe[m-he]||0)+256&255;return at},P=function(Oe,he,ct){var ht=[],m=Oe.length;ht[0]=2;for(var A=0;A<m;A+=1)ht[A+1]=Oe[A]-(ct&&ct[A]||0)+256&255;return ht},U=function(Oe,he,ct){var m=[],A=Oe.length;m[0]=3;for(var p=0;p<A;p+=1)m[p+1]=Oe[p]+256-((Oe[p-he]||0)+(ct&&ct[p]||0)>>>1)&255;return m},$=function(Oe,he,ct){var A,p=[],b=Oe.length;p[0]=4;for(var Q=0;Q<b;Q+=1)A=te(Oe[Q-he]||0,ct&&ct[Q]||0,ct&&ct[Q-he]||0),p[Q+1]=Oe[Q]-A+256&255;return p},te=function(Oe,he,ct){if(Oe===he&&he===ct)return Oe;var at=Math.abs(he-ct),ht=Math.abs(Oe-ct),m=Math.abs(Oe+he-ct-ct);return at<=ht&&at<=m?Oe:ht<=m?he:ct},oe=function(){return[_,I,P,U,$]},ve=function(Oe){var he=Oe.map(function(ct){return ct.reduce(function(at,ht){return at+Math.abs(ht)},0)});return he.indexOf(Math.min.apply(null,he))};g.processPNG=function(Oe,he,ct,at){var ht,m,A,p,b,Q,ee,le,me,We,it,Me,Ue,dt,It,F=this.decode.FLATE_DECODE,v="";if(this.__addimage__.isArrayBuffer(Oe)&&(Oe=new Uint8Array(Oe)),this.__addimage__.isArrayBufferView(Oe)){if(Oe=(A=new Ia(Oe)).imgData,m=A.bits,ht=A.colorSpace,b=A.colors,-1!==[4,6].indexOf(A.colorType)){if(8===A.bits){me=(le=32==A.pixelBitlength?new Uint32Array(A.decodePixels().buffer):16==A.pixelBitlength?new Uint16Array(A.decodePixels().buffer):new Uint8Array(A.decodePixels().buffer)).length,it=new Uint8Array(me*A.colors),We=new Uint8Array(me);var C,M=A.pixelBitlength-A.bits;for(dt=0,It=0;dt<me;dt++){for(Ue=le[dt],C=0;C<M;)it[It++]=Ue>>>C&255,C+=A.bits;We[dt]=Ue>>>C&255}}if(16===A.bits){me=(le=new Uint32Array(A.decodePixels().buffer)).length,it=new Uint8Array(me*(32/A.pixelBitlength)*A.colors),We=new Uint8Array(me*(32/A.pixelBitlength)),Me=A.colors>1,dt=0,It=0;for(var ae=0;dt<me;)Ue=le[dt++],it[It++]=Ue>>>0&255,Me&&(it[It++]=Ue>>>16&255,Ue=le[dt++],it[It++]=Ue>>>0&255),We[ae++]=Ue>>>16&255;m=8}at!==g.image_compression.NONE?(Oe=c(it,A.width*A.colors,A.colors,at),ee=c(We,A.width,1,at)):(Oe=it,ee=We,F=void 0)}if(3===A.colorType&&(ht=this.color_spaces.INDEXED,Q=A.palette,A.transparency.indexed)){var Se=A.transparency.indexed,yt=0;for(dt=0,me=Se.length;dt<me;++dt)yt+=Se[dt];if((yt/=255)==me-1&&-1!==Se.indexOf(0))p=[Se.indexOf(0)];else if(yt!==me){for(le=A.decodePixels(),We=new Uint8Array(le.length),dt=0,me=le.length;dt<me;dt++)We[dt]=Se[le[dt]];ee=c(We,A.width,1)}}var ye=function(Ke){var gt;switch(Ke){case g.image_compression.FAST:gt=11;break;case g.image_compression.MEDIUM:gt=13;break;case g.image_compression.SLOW:gt=14;break;default:gt=12}return gt}(at);return F===this.decode.FLATE_DECODE&&(v="/Predictor "+ye+" "),v+="/Colors "+b+" /BitsPerComponent "+m+" /Columns "+A.width,(this.__addimage__.isArrayBuffer(Oe)||this.__addimage__.isArrayBufferView(Oe))&&(Oe=this.__addimage__.arrayBufferToBinaryString(Oe)),(ee&&this.__addimage__.isArrayBuffer(ee)||this.__addimage__.isArrayBufferView(ee))&&(ee=this.__addimage__.arrayBufferToBinaryString(ee)),{alias:ct,data:Oe,index:he,filter:F,decodeParameters:v,transparency:p,palette:Q,sMask:ee,predictor:ye,width:A.width,height:A.height,bitsPerComponent:m,colorSpace:ht}}}})(Vi.API),function(g){g.processGIF89A=function(d,c,u,_){var I=new ic(d),P=I.width,U=I.height,$=[];I.decodeAndBlitFrameRGBA(0,$);var te={data:$,width:P,height:U},oe=new xu(100).encode(te,100);return g.processJPEG.call(this,oe,c,u,_)},g.processGIF87A=g.processGIF89A}(Vi.API),Za.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var g=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(g);for(var d=0;d<g;d++){var c=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),_=this.datav.getUint8(this.pos++,!0),I=this.datav.getUint8(this.pos++,!0);this.palette[d]={red:_,green:u,blue:c,quad:I}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Za.prototype.parseBGR=function(){this.pos=this.offset;try{var g="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[g]()}catch(c){ie.log("bit decode error:"+c)}},Za.prototype.bit1=function(){var g,d=Math.ceil(this.width/8),c=d%4;for(g=this.height-1;g>=0;g--){for(var u=this.bottom_up?g:this.height-1-g,_=0;_<d;_++)for(var I=this.datav.getUint8(this.pos++,!0),P=u*this.width*4+8*_*4,U=0;U<8&&8*_+U<this.width;U++){var $=this.palette[I>>7-U&1];this.data[P+4*U]=$.blue,this.data[P+4*U+1]=$.green,this.data[P+4*U+2]=$.red,this.data[P+4*U+3]=255}0!==c&&(this.pos+=4-c)}},Za.prototype.bit4=function(){for(var g=Math.ceil(this.width/2),d=g%4,c=this.height-1;c>=0;c--){for(var u=this.bottom_up?c:this.height-1-c,_=0;_<g;_++){var I=this.datav.getUint8(this.pos++,!0),P=u*this.width*4+2*_*4,$=15&I,te=this.palette[I>>4];if(this.data[P]=te.blue,this.data[P+1]=te.green,this.data[P+2]=te.red,this.data[P+3]=255,2*_+1>=this.width)break;this.data[P+4]=(te=this.palette[$]).blue,this.data[P+4+1]=te.green,this.data[P+4+2]=te.red,this.data[P+4+3]=255}0!==d&&(this.pos+=4-d)}},Za.prototype.bit8=function(){for(var g=this.width%4,d=this.height-1;d>=0;d--){for(var c=this.bottom_up?d:this.height-1-d,u=0;u<this.width;u++){var _=this.datav.getUint8(this.pos++,!0),I=c*this.width*4+4*u;if(_<this.palette.length){var P=this.palette[_];this.data[I]=P.red,this.data[I+1]=P.green,this.data[I+2]=P.blue,this.data[I+3]=255}else this.data[I]=255,this.data[I+1]=255,this.data[I+2]=255,this.data[I+3]=255}0!==g&&(this.pos+=4-g)}},Za.prototype.bit15=function(){for(var g=this.width%3,d=parseInt("11111",2),c=this.height-1;c>=0;c--){for(var u=this.bottom_up?c:this.height-1-c,_=0;_<this.width;_++){var I=this.datav.getUint16(this.pos,!0);this.pos+=2;var P=(I&d)/d*255|0,U=(I>>5&d)/d*255|0,te=I>>15?255:0,oe=u*this.width*4+4*_;this.data[oe]=(I>>10&d)/d*255|0,this.data[oe+1]=U,this.data[oe+2]=P,this.data[oe+3]=te}this.pos+=g}},Za.prototype.bit16=function(){for(var g=this.width%3,d=parseInt("11111",2),c=parseInt("111111",2),u=this.height-1;u>=0;u--){for(var _=this.bottom_up?u:this.height-1-u,I=0;I<this.width;I++){var P=this.datav.getUint16(this.pos,!0);this.pos+=2;var U=(P&d)/d*255|0,$=(P>>5&c)/c*255|0,oe=_*this.width*4+4*I;this.data[oe]=(P>>11)/d*255|0,this.data[oe+1]=$,this.data[oe+2]=U,this.data[oe+3]=255}this.pos+=g}},Za.prototype.bit24=function(){for(var g=this.height-1;g>=0;g--){for(var d=this.bottom_up?g:this.height-1-g,c=0;c<this.width;c++){var u=this.datav.getUint8(this.pos++,!0),_=this.datav.getUint8(this.pos++,!0),I=this.datav.getUint8(this.pos++,!0),P=d*this.width*4+4*c;this.data[P]=I,this.data[P+1]=_,this.data[P+2]=u,this.data[P+3]=255}this.pos+=this.width%4}},Za.prototype.bit32=function(){for(var g=this.height-1;g>=0;g--)for(var d=this.bottom_up?g:this.height-1-g,c=0;c<this.width;c++){var u=this.datav.getUint8(this.pos++,!0),_=this.datav.getUint8(this.pos++,!0),I=this.datav.getUint8(this.pos++,!0),P=this.datav.getUint8(this.pos++,!0),U=d*this.width*4+4*c;this.data[U]=I,this.data[U+1]=_,this.data[U+2]=u,this.data[U+3]=P}},Za.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(g){g.processBMP=function(d,c,u,_){var I=new Za(d,!1),P=I.width,U=I.height,$={data:I.getData(),width:P,height:U},te=new xu(100).encode($,100);return g.processJPEG.call(this,te,c,u,_)}}(Vi.API),Jd.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(g){g.processWEBP=function(d,c,u,_){var I=new Jd(d,!1),P=I.width,U=I.height,$={data:I.getData(),width:P,height:U},te=new xu(100).encode($,100);return g.processJPEG.call(this,te,c,u,_)}}(Vi.API),Vi.API.processRGBA=function(g,d,c){for(var u=g.data,_=u.length,I=new Uint8Array(_/4*3),P=new Uint8Array(_/4),U=0,$=0,te=0;te<_;te+=4){var ve=u[te+1],Oe=u[te+2],he=u[te+3];I[U++]=u[te],I[U++]=ve,I[U++]=Oe,P[$++]=he}var ct=this.__addimage__.arrayBufferToBinaryString(I);return{alpha:this.__addimage__.arrayBufferToBinaryString(P),data:ct,index:d,alias:c,colorSpace:"DeviceRGB",bitsPerComponent:8,width:g.width,height:g.height}},Vi.API.setLanguage=function(g){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[g]&&(this.internal.languageSettings.languageCode=g,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jl=(eA=Vi.API).getCharWidthsArray=function(g,d){var c,u,_=(d=d||{}).font||this.internal.getFont(),I=d.fontSize||this.internal.getFontSize(),P=d.charSpace||this.internal.getCharSpace(),U=d.widths?d.widths:_.metadata.Unicode.widths,$=U.fof?U.fof:1,te=d.kerning?d.kerning:_.metadata.Unicode.kerning,oe=te.fof?te.fof:1,ve=!1!==d.doKerning,Oe=0,he=g.length,ct=0,at=U[0]||$,ht=[];for(c=0;c<he;c++)u=g.charCodeAt(c),"function"==typeof _.metadata.widthOfString?ht.push((_.metadata.widthOfGlyph(_.metadata.characterToGlyph(u))+P*(1e3/I)||0)/1e3):(Oe=ve&&"object"===(0,$i.A)(te[u])&&!isNaN(parseInt(te[u][ct],10))?te[u][ct]/oe:0,ht.push((U[u]||at)/$+Oe)),ct=u;return ht},Fd=eA.getStringUnitWidth=function(g,d){var c=(d=d||{}).fontSize||this.internal.getFontSize(),u=d.font||this.internal.getFont(),_=d.charSpace||this.internal.getCharSpace();return eA.processArabic&&(g=eA.processArabic(g)),"function"==typeof u.metadata.widthOfString?u.metadata.widthOfString(g,c,_)/c:Jl.apply(this,arguments).reduce(function(I,P){return I+P},0)},Du=function(g,d,c,u){for(var _=[],I=0,P=g.length,U=0;I!==P&&U+d[I]<c;)U+=d[I],I++;_.push(g.slice(0,I));var $=I;for(U=0;I!==P;)U+d[I]>u&&(_.push(g.slice($,I)),U=0,$=I),U+=d[I],I++;return $!==I&&_.push(g.slice($,I)),_},gA=function(g,d,c){c||(c={});var u,_,I,P,U,$,oe=[],ve=[oe],Oe=c.textIndent||0,he=0,ct=0,at=g.split(" "),ht=Jl.apply(this,[" ",c])[0];if($=-1===c.lineIndent?at[0].length+2:c.lineIndent||0){var m=Array($).join(" "),A=[];at.map(function(b){(b=b.split(/\s*\n/)).length>1?A=A.concat(b.map(function(Q,ee){return(ee&&Q.length?"\n":"")+Q})):A.push(b[0])}),at=A,$=Fd.apply(this,[m,c])}for(I=0,P=at.length;I<P;I++){var p=0;if(u=at[I],$&&"\n"==u[0]&&(u=u.substr(1),p=1),Oe+he+(ct=(_=Jl.apply(this,[u,c])).reduce(function(b,Q){return b+Q},0))>d||p){if(ct>d){for(U=Du.apply(this,[u,_,d-(Oe+he),d]),oe.push(U.shift()),oe=[U.pop()];U.length;)ve.push([U.shift()]);ct=_.slice(u.length-(oe[0]?oe[0].length:0)).reduce(function(b,Q){return b+Q},0)}else oe=[u];ve.push(oe),Oe=ct+$,he=ht}else oe.push(u),Oe+=he+ct,he=ht}return ve.map($?function(b,Q){return(Q?m:"")+b.join(" ")}:function(b){return b.join(" ")})},eA.splitTextToSize=function(g,d,c){var u,_=(c=c||{}).fontSize||this.internal.getFontSize(),I=function(oe){if(oe.widths&&oe.kerning)return{widths:oe.widths,kerning:oe.kerning};var ve=this.internal.getFont(oe.fontName,oe.fontStyle);return ve.metadata.Unicode?{widths:ve.metadata.Unicode.widths||{0:1},kerning:ve.metadata.Unicode.kerning||{}}:{font:ve.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,c);u=Array.isArray(g)?g:String(g).split(/\r?\n/);var P=1*this.internal.scaleFactor*d/_;I.textIndent=c.textIndent?1*c.textIndent*this.internal.scaleFactor/_:0,I.lineIndent=c.lineIndent;var U,$,te=[];for(U=0,$=u.length;U<$;U++)te=te.concat(gA.apply(this,[u[U],P,I]));return te},function(g){g.__fontmetrics__=g.__fontmetrics__||{};for(var d="klmnopqrstuvwxyz",c={},u={},_=0;_<16;_++)c[d[_]]="0123456789abcdef"[_],u["0123456789abcdef"[_]]=d[_];var I=function(ve){return"0x"+parseInt(ve,10).toString(16)},P=g.__fontmetrics__.compress=function(ve){var Oe,he,ct,at,ht=["{"];for(var m in ve){if(Oe=ve[m],isNaN(parseInt(m,10))?he="'"+m+"'":(m=parseInt(m,10),he=(he=I(m).slice(2)).slice(0,-1)+u[he.slice(-1)]),"number"==typeof Oe)Oe<0?(ct=I(Oe).slice(3),at="-"):(ct=I(Oe).slice(2),at=""),ct=at+ct.slice(0,-1)+u[ct.slice(-1)];else{if("object"!==(0,$i.A)(Oe))throw new Error("Don't know what to do with value type "+(0,$i.A)(Oe)+".");ct=P(Oe)}ht.push(he+ct)}return ht.push("}"),ht.join("")},U=g.__fontmetrics__.uncompress=function(ve){if("string"!=typeof ve)throw new Error("Invalid argument passed to uncompress.");for(var Oe,he,ct,at,ht={},m=1,A=ht,p=[],b="",Q="",ee=ve.length-1,le=1;le<ee;le+=1)"'"==(at=ve[le])?Oe?(ct=Oe.join(""),Oe=void 0):Oe=[]:Oe?Oe.push(at):"{"==at?(p.push([A,ct]),A={},ct=void 0):"}"==at?((he=p.pop())[0][he[1]]=A,ct=void 0,A=he[0]):"-"==at?m=-1:void 0===ct?c.hasOwnProperty(at)?(b+=c[at],ct=parseInt(b,16)*m,m=1,b=""):b+=at:c.hasOwnProperty(at)?(Q+=c[at],A[ct]=parseInt(Q,16)*m,m=1,ct=void 0,Q=""):Q+=at;return ht},$={codePages:["WinAnsiEncoding"],WinAnsiEncoding:U("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},te={Unicode:{Courier:$,"Courier-Bold":$,"Courier-BoldOblique":$,"Courier-Oblique":$,Helvetica:$,"Helvetica-Bold":$,"Helvetica-BoldOblique":$,"Helvetica-Oblique":$,"Times-Roman":$,"Times-Bold":$,"Times-BoldItalic":$,"Times-Italic":$}},oe={Unicode:{"Courier-Oblique":U("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":U("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":U("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:U("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":U("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":U("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:U("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:U("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":U("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:U("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":U("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":U("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":U("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":U("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};g.events.push(["addFont",function(ve){var Oe=ve.font,he=oe.Unicode[Oe.postScriptName];he&&(Oe.metadata.Unicode={},Oe.metadata.Unicode.widths=he.widths,Oe.metadata.Unicode.kerning=he.kerning);var ct=te.Unicode[Oe.postScriptName];ct&&(Oe.metadata.Unicode.encoding=ct,Oe.encoding=ct.codePages[0])}])}(Vi.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(g){var d=function(c){for(var u=c.length,_=new Uint8Array(u),I=0;I<u;I++)_[I]=c.charCodeAt(I);return _};g.API.events.push(["addFont",function(c){var P,U,u=void 0,_=c.font,I=c.instance;if(!_.isStandardFont){if(void 0===I)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+_.postScriptName+"').");if("string"!=typeof(u=!1===I.existsFileInVFS(_.postScriptName)?I.loadFile(_.postScriptName):I.getFileFromVFS(_.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+_.postScriptName+"').");P=_,U=/^\x00\x01\x00\x00/.test(U=u)?d(U):d(lt(U)),P.metadata=g.API.TTFFont.open(U),P.metadata.Unicode=P.metadata.Unicode||{encoding:{},kerning:{},widths:[]},P.metadata.glyIdsUsed=[0]}}])}(Vi),Vi.API.addSvgAsImage=function(c,u,_,I,P,U,$,te){if(isNaN(u)||isNaN(_))throw ie.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(I)||isNaN(P))throw ie.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var oe=document.createElement("canvas");oe.width=I,oe.height=P;var ve=oe.getContext("2d");ve.fillStyle="#fff",ve.fillRect(0,0,oe.width,oe.height);var Oe={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},he=this;return function d(){return(L.canvg?Promise.resolve(L.canvg):Be.e(4687).then(Be.bind(Be,4687))).catch(function(c){return Promise.reject(new Error("Could not load canvg: "+c))}).then(function(c){return c.default?c.default:c})}().then(function(ct){return ct.fromString(ve,c,Oe)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(ct){return ct.render(Oe)}).then(function(){he.addImage(oe.toDataURL("image/jpeg",1),u,_,I,P,$,te)})},Vi.API.putTotalPages=function(g){var d,c=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(d=new RegExp(g,"g"),c=this.internal.getNumberOfPages()):(d=new RegExp(this.pdfEscape16(g,this.internal.getFont()),"g"),c=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var u=1;u<=this.internal.getNumberOfPages();u++)for(var _=0;_<this.internal.pages[u].length;_++)this.internal.pages[u][_]=this.internal.pages[u][_].replace(d,c);return this},Vi.API.viewerPreferences=function(g,d){var c;g=g||{},d=d||!1;var u,_,I,P={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},U=Object.keys(P),$=[],te=0,oe=0,ve=0;function Oe(ct,at){var ht,m=!1;for(ht=0;ht<ct.length;ht+=1)ct[ht]===at&&(m=!0);return m}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(P)),this.internal.viewerpreferences.isSubscribed=!1),c=this.internal.viewerpreferences.configuration,"reset"===g||!0===d){var he=U.length;for(ve=0;ve<he;ve+=1)c[U[ve]].value=c[U[ve]].defaultValue,c[U[ve]].explicitSet=!1}if("object"===(0,$i.A)(g))for(_ in g)if(I=g[_],Oe(U,_)&&void 0!==I){if("boolean"===c[_].type&&"boolean"==typeof I)c[_].value=I;else if("name"===c[_].type&&Oe(c[_].valueSet,I))c[_].value=I;else if("integer"===c[_].type&&Number.isInteger(I))c[_].value=I;else if("array"===c[_].type){for(te=0;te<I.length;te+=1)if(u=!0,1===I[te].length&&"number"==typeof I[te][0])$.push(String(I[te]-1));else if(I[te].length>1){for(oe=0;oe<I[te].length;oe+=1)"number"!=typeof I[te][oe]&&(u=!1);!0===u&&$.push([I[te][0]-1,I[te][1]-1].join(" "))}c[_].value="["+$.join(" ")+"]"}else c[_].value=c[_].defaultValue;c[_].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var ct,at=[];for(ct in c)!0===c[ct].explicitSet&&at.push("name"===c[ct].type?"/"+ct+" /"+c[ct].value:"/"+ct+" "+c[ct].value);0!==at.length&&this.internal.write("/ViewerPreferences\n<<\n"+at.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=c,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(g){var d=function(){var u='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',_=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),I=unescape(encodeURIComponent(u)),P=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),U=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),$=unescape(encodeURIComponent("</x:xmpmeta>")),te=I.length+P.length+U.length+_.length+$.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+te+" >>"),this.internal.write("stream"),this.internal.write(_+I+P+U+$),this.internal.write("endstream"),this.internal.write("endobj")},c=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};g.addMetadata=function(u,_){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:u,namespaceuri:_||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",c),this.internal.events.subscribe("postPutResources",d)),this}}(Vi.API),function(g){var d=g.API,c=d.pdfEscape16=function(I,P){for(var U,$=P.metadata.Unicode.widths,te=["","0","00","000","0000"],oe=[""],ve=0,Oe=I.length;ve<Oe;++ve){if(U=P.metadata.characterToGlyph(I.charCodeAt(ve)),P.metadata.glyIdsUsed.push(U),P.metadata.toUnicode[U]=I.charCodeAt(ve),-1==$.indexOf(U)&&($.push(U),$.push([parseInt(P.metadata.widthOfGlyph(U),10)])),"0"==U)return oe.join("");U=U.toString(16),oe.push(te[4-U.length],U)}return oe.join("")},u=function(I){var P,U,$,te,oe,ve,Oe;for(oe="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",$=[],ve=0,Oe=(U=Object.keys(I).sort(function(he,ct){return he-ct})).length;ve<Oe;ve++)P=U[ve],$.length>=100&&(oe+="\n"+$.length+" beginbfchar\n"+$.join("\n")+"\nendbfchar",$=[]),null!=I[P]&&"function"==typeof I[P].toString&&(te=("0000"+I[P].toString(16)).slice(-4),P=("0000"+(+P).toString(16)).slice(-4),$.push("<"+P+"><"+te+">"));return $.length&&(oe+="\n"+$.length+" beginbfchar\n"+$.join("\n")+"\nendbfchar\n"),oe+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};d.events.push(["putFont",function(I){!function(P){var U=P.font,$=P.out,te=P.newObject,oe=P.putStream;if(U.metadata instanceof g.API.TTFFont&&"Identity-H"===U.encoding){for(var ve=U.metadata.Unicode.widths,Oe=U.metadata.subset.encode(U.metadata.glyIdsUsed,1),he="",ct=0;ct<Oe.length;ct++)he+=String.fromCharCode(Oe[ct]);var at=te();oe({data:he,addLength1:!0,objectId:at}),$("endobj");var ht=te();oe({data:u(U.metadata.toUnicode),addLength1:!0,objectId:ht}),$("endobj");var m=te();$("<<"),$("/Type /FontDescriptor"),$("/FontName /"+Cu(U.fontName)),$("/FontFile2 "+at+" 0 R"),$("/FontBBox "+g.API.PDFObject.convert(U.metadata.bbox)),$("/Flags "+U.metadata.flags),$("/StemV "+U.metadata.stemV),$("/ItalicAngle "+U.metadata.italicAngle),$("/Ascent "+U.metadata.ascender),$("/Descent "+U.metadata.decender),$("/CapHeight "+U.metadata.capHeight),$(">>"),$("endobj");var A=te();$("<<"),$("/Type /Font"),$("/BaseFont /"+Cu(U.fontName)),$("/FontDescriptor "+m+" 0 R"),$("/W "+g.API.PDFObject.convert(ve)),$("/CIDToGIDMap /Identity"),$("/DW 1000"),$("/Subtype /CIDFontType2"),$("/CIDSystemInfo"),$("<<"),$("/Supplement 0"),$("/Registry (Adobe)"),$("/Ordering ("+U.encoding+")"),$(">>"),$(">>"),$("endobj"),U.objectNumber=te(),$("<<"),$("/Type /Font"),$("/Subtype /Type0"),$("/ToUnicode "+ht+" 0 R"),$("/BaseFont /"+Cu(U.fontName)),$("/Encoding /"+U.encoding),$("/DescendantFonts ["+A+" 0 R]"),$(">>"),$("endobj"),U.isAlreadyPutted=!0}}(I)}]),d.events.push(["putFont",function(I){!function(P){var U=P.font,$=P.out,te=P.newObject,oe=P.putStream;if(U.metadata instanceof g.API.TTFFont&&"WinAnsiEncoding"===U.encoding){for(var ve=U.metadata.rawData,Oe="",he=0;he<ve.length;he++)Oe+=String.fromCharCode(ve[he]);var ct=te();oe({data:Oe,addLength1:!0,objectId:ct}),$("endobj");var at=te();oe({data:u(U.metadata.toUnicode),addLength1:!0,objectId:at}),$("endobj");var ht=te();$("<<"),$("/Descent "+U.metadata.decender),$("/CapHeight "+U.metadata.capHeight),$("/StemV "+U.metadata.stemV),$("/Type /FontDescriptor"),$("/FontFile2 "+ct+" 0 R"),$("/Flags 96"),$("/FontBBox "+g.API.PDFObject.convert(U.metadata.bbox)),$("/FontName /"+Cu(U.fontName)),$("/ItalicAngle "+U.metadata.italicAngle),$("/Ascent "+U.metadata.ascender),$(">>"),$("endobj"),U.objectNumber=te();for(var m=0;m<U.metadata.hmtx.widths.length;m++)U.metadata.hmtx.widths[m]=parseInt(U.metadata.hmtx.widths[m]*(1e3/U.metadata.head.unitsPerEm));$("<</Subtype/TrueType/Type/Font/ToUnicode "+at+" 0 R/BaseFont/"+Cu(U.fontName)+"/FontDescriptor "+ht+" 0 R/Encoding/"+U.encoding+" /FirstChar 29 /LastChar 255 /Widths "+g.API.PDFObject.convert(U.metadata.hmtx.widths)+">>"),$("endobj"),U.isAlreadyPutted=!0}}(I)}]);var _=function(I){var P,U=I.text||"",$=I.x,te=I.y,oe=I.options||{},ve=I.mutex||{},Oe=ve.pdfEscape,he=ve.activeFontKey,ct=ve.fonts,at=he,ht="",m=0,A="",p=ct[at].encoding;if("Identity-H"!==ct[at].encoding)return{text:U,x:$,y:te,options:oe,mutex:ve};for(A=U,at=he,Array.isArray(U)&&(A=U[0]),m=0;m<A.length;m+=1)ct[at].metadata.hasOwnProperty("cmap")&&(P=ct[at].metadata.cmap.unicode.codeMap[A[m].charCodeAt(0)]),P||A[m].charCodeAt(0)<256&&ct[at].metadata.hasOwnProperty("Unicode")?ht+=A[m]:ht+="";var b="";return parseInt(at.slice(1))<14||"WinAnsiEncoding"===p?b=Oe(ht,at).split("").map(function(Q){return Q.charCodeAt(0).toString(16)}).join(""):"Identity-H"===p&&(b=c(ht,ct[at])),ve.isHex=!0,{text:b,x:$,y:te,options:oe,mutex:ve}};d.events.push(["postProcessText",function(I){var P=I.text||"",U=[],$={text:P,x:I.x,y:I.y,options:I.options,mutex:I.mutex};if(Array.isArray(P)){var te=0;for(te=0;te<P.length;te+=1)Array.isArray(P[te])&&3===P[te].length?U.push([_(Object.assign({},$,{text:P[te][0]})).text,P[te][1],P[te][2]]):U.push(_(Object.assign({},$,{text:P[te]})).text);I.text=U}else I.text=_(Object.assign({},$,{text:P})).text}])}(Vi),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(g){var d=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};g.existsFileInVFS=function(c){return d.call(this),void 0!==this.internal.vFS[c]},g.addFileToVFS=function(c,u){return d.call(this),this.internal.vFS[c]=u,this},g.getFileFromVFS=function(c){return d.call(this),void 0!==this.internal.vFS[c]?this.internal.vFS[c]:null}}(Vi.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(g){g.__bidiEngine__=g.prototype.__bidiEngine__=function(u){var _,I,P,U,$,te,oe,ve=d,Oe=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],he=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ct={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},at={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},ht=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,p=0;this.__bidiEngine__={};var b=function(Me){var Ue=Me.charCodeAt(),dt=Ue>>8,It=at[dt];return void 0!==It?ve[256*It+(255&Ue)]:252===dt||253===dt?"AL":m.test(dt)?"L":8===dt?"R":"N"},Q=function(Me){for(var Ue,dt=0;dt<Me.length;dt++){if("L"===(Ue=b(Me.charAt(dt))))return!1;if("R"===Ue)return!0}return!1},ee=function(Me,Ue,dt,It){var F,v,C,M,ae=Ue[It];switch(ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"N":case"AN":break;case"EN":A&&(ae="AN");break;case"AL":A=!0,ae="R";break;case"WS":case"BN":ae="N";break;case"CS":It<1||It+1>=Ue.length||"EN"!==(F=dt[It-1])&&"AN"!==F||"EN"!==(v=Ue[It+1])&&"AN"!==v?ae="N":A&&(v="AN"),ae=v===F?v:"N";break;case"ES":ae="EN"===(F=It>0?dt[It-1]:"B")&&It+1<Ue.length&&"EN"===Ue[It+1]?"EN":"N";break;case"ET":if(It>0&&"EN"===dt[It-1]){ae="EN";break}if(A){ae="N";break}for(C=It+1,M=Ue.length;C<M&&"ET"===Ue[C];)C++;ae=C<M&&"EN"===Ue[C]?"EN":"N";break;case"NSM":if(P&&!U){for(M=Ue.length,C=It+1;C<M&&"NSM"===Ue[C];)C++;if(C<M){var Se=Me[It];if(F=Ue[C],(Se>=1425&&Se<=2303||64286===Se)&&("R"===F||"AL"===F)){ae="R";break}}}ae=It<1||"B"===(F=Ue[It-1])?"N":dt[It-1];break;case"B":A=!1,_=!0,ae=p;break;case"S":I=!0,ae="N"}return ae},le=function(Me,Ue,dt){var It=Me.split("");return dt&&me(It,dt,{hiLevel:p}),It.reverse(),Ue&&Ue.reverse(),It.join("")},me=function(Me,Ue,dt){var It,F,v,C,M,ae=-1,Se=Me.length,yt=0,ye=[],Ke=p?he:Oe,gt=[];for(A=!1,_=!1,I=!1,F=0;F<Se;F++)gt[F]=b(Me[F]);for(v=0;v<Se;v++){if(M=yt,ye[v]=ee(Me,gt,ye,v),It=240&(yt=Ke[M][ct[ye[v]]]),Ue[v]=C=Ke[yt&=15][5],It>0)if(16===It){for(F=ae;F<v;F++)Ue[F]=1;ae=-1}else ae=-1;if(Ke[yt][6])-1===ae&&(ae=v);else if(ae>-1){for(F=ae;F<v;F++)Ue[F]=C;ae=-1}"B"===gt[v]&&(Ue[v]=0),dt.hiLevel|=C}I&&function(Dt,Lt,xn){for(var Kn=0;Kn<xn;Kn++)if("S"===Dt[Kn]){Lt[Kn]=p;for(var qn=Kn-1;qn>=0&&"WS"===Dt[qn];qn--)Lt[qn]=p}}(gt,Ue,Se)},We=function(Me,Ue,dt,It,F){if(!(F.hiLevel<Me)){if(1===Me&&1===p&&!_)return Ue.reverse(),void(dt&&dt.reverse());for(var v,C,M,ae,Se=Ue.length,yt=0;yt<Se;){if(It[yt]>=Me){for(M=yt+1;M<Se&&It[M]>=Me;)M++;for(ae=yt,C=M-1;ae<C;ae++,C--)v=Ue[ae],Ue[ae]=Ue[C],Ue[C]=v,dt&&(v=dt[ae],dt[ae]=dt[C],dt[C]=v);yt=M}yt++}}},it=function(Me,Ue,dt){var It=Me.split(""),F={hiLevel:p};return dt||(dt=[]),me(It,dt,F),function(v,C,M){if(0!==M.hiLevel&&oe)for(var ae,Se=0;Se<v.length;Se++)1===C[Se]&&(ae=ht.indexOf(v[Se]))>=0&&(v[Se]=ht[ae+1])}(It,dt,F),We(2,It,Ue,dt,F),We(1,It,Ue,dt,F),It.join("")};return this.__bidiEngine__.doBidiReorder=function(Me,Ue,dt){if(function(F,v){if(v)for(var C=0;C<F.length;C++)v[C]=C;void 0===U&&(U=Q(F)),void 0===te&&(te=Q(F))}(Me,Ue),P||!$||te)if(P&&$&&U^te)p=U?1:0,Me=le(Me,Ue,dt);else if(!P&&$&&te)p=U?1:0,Me=it(Me,Ue,dt),Me=le(Me,Ue);else if(!P||U||$||te){if(P&&!$&&U^te)Me=le(Me,Ue),U?(p=0,Me=it(Me,Ue,dt)):(p=1,Me=it(Me,Ue,dt),Me=le(Me,Ue));else if(P&&U&&!$&&te)p=1,Me=it(Me,Ue,dt),Me=le(Me,Ue);else if(!P&&!$&&U^te){var It=oe;U?(p=1,Me=it(Me,Ue,dt),p=0,oe=!1,Me=it(Me,Ue,dt),oe=It):(p=0,Me=it(Me,Ue,dt),Me=le(Me,Ue),p=1,oe=!1,Me=it(Me,Ue,dt),oe=It,Me=le(Me,Ue))}}else p=0,Me=it(Me,Ue,dt);else p=U?1:0,Me=it(Me,Ue,dt);return Me},this.__bidiEngine__.setOptions=function(Me){Me&&(P=Me.isInputVisual,$=Me.isOutputVisual,U=Me.isInputRtl,te=Me.isOutputRtl,oe=Me.isSymmetricSwapping)},this.__bidiEngine__.setOptions(u),this.__bidiEngine__};var d=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],c=new g.__bidiEngine__({isInputVisual:!0});g.API.events.push(["postProcessText",function(u){var _=u.text,I=u.options||{},P=[];if(I.isInputVisual="boolean"!=typeof I.isInputVisual||I.isInputVisual,c.setOptions(I),"[object Array]"===Object.prototype.toString.call(_)){var U=0;for(P=[],U=0;U<_.length;U+=1)"[object Array]"===Object.prototype.toString.call(_[U])?P.push([c.doBidiReorder(_[U][0]),_[U][1],_[U][2]]):P.push([c.doBidiReorder(_[U])]);u.text=P}else u.text=c.doBidiReorder(_);c.setOptions({isInputVisual:!0})}])}(Vi),Vi.API.TTFFont=function(){function g(d){var c;if(this.rawData=d,c=this.contents=new Ru(d),this.contents.pos=4,"ttcf"===c.readString(4))throw new Error("TTCF not supported.");c.pos=0,this.parse(),this.subset=new Eh(this),this.registerTTF()}return g.open=function(d){return new g(d)},g.prototype.parse=function(){return this.directory=new ed(this.contents),this.head=new Zd(this),this.name=new Rd(this),this.cmap=new ku(this),this.toUnicode={},this.hhea=new vA(this),this.maxp=new HA(this),this.hmtx=new Zh(this),this.post=new td(this),this.os2=new Ic(this),this.loca=new yA(this),this.glyf=new bc(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},g.prototype.registerTTF=function(){var c,u,_,I;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var P,U,$,te;for(te=[],P=0,U=($=this.bbox).length;P<U;P++)te.push(Math.round($[P]*this.scaleFactor));return te}.call(this),this.stemV=0,this.post.exists?(u=255&(_=this.post.italic_angle),32768&(c=_>>16)&&(c=-(1+(65535^c))),this.italicAngle=+(c+"."+u)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(I=this.familyClass)||2===I||3===I||4===I||5===I||7===I,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},g.prototype.characterToGlyph=function(d){var c;return(null!=(c=this.cmap.unicode)?c.codeMap[d]:void 0)||0},g.prototype.widthOfGlyph=function(d){var c;return c=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(d).advance*c},g.prototype.widthOfString=function(d,c,u){var _,I,P,U;for(P=0,I=0,U=(d=""+d).length;0<=U?I<U:I>U;I=0<=U?++I:--I)_=d.charCodeAt(I),P+=this.widthOfGlyph(this.characterToGlyph(_))+u*(1e3/c)||0;return P*(c/1e3)},g.prototype.lineHeight=function(d,c){return null==c&&(c=!1),(this.ascender+(c?this.lineGap:0)-this.decender)/1e3*d},g}();var Cc,Ru=function(){function g(d){this.data=null!=d?d:[],this.pos=0,this.length=this.data.length}return g.prototype.readByte=function(){return this.data[this.pos++]},g.prototype.writeByte=function(d){return this.data[this.pos++]=d},g.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},g.prototype.writeUInt32=function(d){return this.writeByte(d>>>24&255),this.writeByte(d>>16&255),this.writeByte(d>>8&255),this.writeByte(255&d)},g.prototype.readInt32=function(){var d;return(d=this.readUInt32())>=2147483648?d-4294967296:d},g.prototype.writeInt32=function(d){return d<0&&(d+=4294967296),this.writeUInt32(d)},g.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},g.prototype.writeUInt16=function(d){return this.writeByte(d>>8&255),this.writeByte(255&d)},g.prototype.readInt16=function(){var d;return(d=this.readUInt16())>=32768?d-65536:d},g.prototype.writeInt16=function(d){return d<0&&(d+=65536),this.writeUInt16(d)},g.prototype.readString=function(d){var c,u;for(u=[],c=0;0<=d?c<d:c>d;c=0<=d?++c:--c)u[c]=String.fromCharCode(this.readByte());return u.join("")},g.prototype.writeString=function(d){var c,u,_;for(_=[],c=0,u=d.length;0<=u?c<u:c>u;c=0<=u?++c:--c)_.push(this.writeByte(d.charCodeAt(c)));return _},g.prototype.readShort=function(){return this.readInt16()},g.prototype.writeShort=function(d){return this.writeInt16(d)},g.prototype.readLongLong=function(){var d,c,u,_,I,P,U,$;return d=this.readByte(),c=this.readByte(),u=this.readByte(),_=this.readByte(),I=this.readByte(),P=this.readByte(),U=this.readByte(),$=this.readByte(),128&d?-1*(72057594037927940*(255^d)+281474976710656*(255^c)+1099511627776*(255^u)+4294967296*(255^_)+16777216*(255^I)+65536*(255^P)+256*(255^U)+(255^$)+1):72057594037927940*d+281474976710656*c+1099511627776*u+4294967296*_+16777216*I+65536*P+256*U+$},g.prototype.writeLongLong=function(d){var c,u;return c=Math.floor(d/4294967296),u=4294967295&d,this.writeByte(c>>24&255),this.writeByte(c>>16&255),this.writeByte(c>>8&255),this.writeByte(255&c),this.writeByte(u>>24&255),this.writeByte(u>>16&255),this.writeByte(u>>8&255),this.writeByte(255&u)},g.prototype.readInt=function(){return this.readInt32()},g.prototype.writeInt=function(d){return this.writeInt32(d)},g.prototype.read=function(d){var c,u;for(c=[],u=0;0<=d?u<d:u>d;u=0<=d?++u:--u)c.push(this.readByte());return c},g.prototype.write=function(d){var u,_,I;for(I=[],u=0,_=d.length;u<_;u++)I.push(this.writeByte(d[u]));return I},g}(),ed=function(){var g;function d(c){var u,_,I;for(this.scalarType=c.readInt(),this.tableCount=c.readShort(),this.searchRange=c.readShort(),this.entrySelector=c.readShort(),this.rangeShift=c.readShort(),this.tables={},_=0,I=this.tableCount;0<=I?_<I:_>I;_=0<=I?++_:--_)u={tag:c.readString(4),checksum:c.readInt(),offset:c.readInt(),length:c.readInt()},this.tables[u.tag]=u}return d.prototype.encode=function(c){var u,_,P,U,$,te,oe,ve,Oe,he,ct,at;for(at in he=Object.keys(c).length,$=Math.log(2),ve=16*Math.floor(Math.log(he)/$),P=Math.floor(ve/$),oe=16*he-ve,(_=new Ru).writeInt(this.scalarType),_.writeShort(he),_.writeShort(ve),_.writeShort(P),_.writeShort(oe),te=_.pos+16*he,U=null,ct=[],c)for(Oe=c[at],_.writeString(at),_.writeInt(g(Oe)),_.writeInt(te),_.writeInt(Oe.length),ct=ct.concat(Oe),"head"===at&&(U=te),te+=Oe.length;te%4;)ct.push(0),te++;return _.write(ct),u=2981146554-g(_.data),_.pos=U+8,_.writeUInt32(u),_.data},g=function(c){var u,_,I,P;for(c=zA.call(c);c.length%4;)c.push(0);for(I=new Ru(c),_=0,u=0,P=c.length;u<P;u=u+=4)_+=I.readUInt32();return 4294967295&_},d}(),mA={}.hasOwnProperty,Ac=function(g,d){for(var c in d)mA.call(d,c)&&(g[c]=d[c]);function u(){this.constructor=g}return u.prototype=d.prototype,g.prototype=new u,g.__super__=d.prototype,g};Cc=function(){function g(d){var c;this.file=d,this.exists=!!(c=this.file.directory.tables[this.tag]),c&&(this.offset=c.offset,this.length=c.length,this.parse(this.file.contents))}return g.prototype.parse=function(){},g.prototype.encode=function(){},g.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},g}();var Zd=function(g){function d(){return d.__super__.constructor.apply(this,arguments)}return Ac(d,Cc),d.prototype.tag="head",d.prototype.parse=function(c){return c.pos=this.offset,this.version=c.readInt(),this.revision=c.readInt(),this.checkSumAdjustment=c.readInt(),this.magicNumber=c.readInt(),this.flags=c.readShort(),this.unitsPerEm=c.readShort(),this.created=c.readLongLong(),this.modified=c.readLongLong(),this.xMin=c.readShort(),this.yMin=c.readShort(),this.xMax=c.readShort(),this.yMax=c.readShort(),this.macStyle=c.readShort(),this.lowestRecPPEM=c.readShort(),this.fontDirectionHint=c.readShort(),this.indexToLocFormat=c.readShort(),this.glyphDataFormat=c.readShort()},d.prototype.encode=function(c){var u;return(u=new Ru).writeInt(this.version),u.writeInt(this.revision),u.writeInt(this.checkSumAdjustment),u.writeInt(this.magicNumber),u.writeShort(this.flags),u.writeShort(this.unitsPerEm),u.writeLongLong(this.created),u.writeLongLong(this.modified),u.writeShort(this.xMin),u.writeShort(this.yMin),u.writeShort(this.xMax),u.writeShort(this.yMax),u.writeShort(this.macStyle),u.writeShort(this.lowestRecPPEM),u.writeShort(this.fontDirectionHint),u.writeShort(c),u.writeShort(this.glyphDataFormat),u.data},d}(),Dd=function(){function g(d,c){var u,_,I,P,U,$,te,oe,ve,Oe,he,ct,at,ht,m,A,p;switch(this.platformID=d.readUInt16(),this.encodingID=d.readShort(),this.offset=c+d.readInt(),ve=d.pos,d.pos=this.offset,this.format=d.readUInt16(),this.length=d.readUInt16(),this.language=d.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for($=0;$<256;++$)this.codeMap[$]=d.readByte();break;case 4:for(he=d.readUInt16(),Oe=he/2,d.pos+=6,I=function(){var b,Q;for(Q=[],$=b=0;0<=Oe?b<Oe:b>Oe;$=0<=Oe?++b:--b)Q.push(d.readUInt16());return Q}(),d.pos+=2,at=function(){var b,Q;for(Q=[],$=b=0;0<=Oe?b<Oe:b>Oe;$=0<=Oe?++b:--b)Q.push(d.readUInt16());return Q}(),te=function(){var b,Q;for(Q=[],$=b=0;0<=Oe?b<Oe:b>Oe;$=0<=Oe?++b:--b)Q.push(d.readUInt16());return Q}(),oe=function(){var b,Q;for(Q=[],$=b=0;0<=Oe?b<Oe:b>Oe;$=0<=Oe?++b:--b)Q.push(d.readUInt16());return Q}(),_=(this.length-d.pos+this.offset)/2,U=function(){var b,Q;for(Q=[],$=b=0;0<=_?b<_:b>_;$=0<=_?++b:--b)Q.push(d.readUInt16());return Q}(),$=m=0,p=I.length;m<p;$=++m)for(ht=I[$],u=A=ct=at[$];ct<=ht?A<=ht:A>=ht;u=ct<=ht?++A:--A)0===oe[$]?P=u+te[$]:0!==(P=U[oe[$]/2+(u-ct)-(Oe-$)]||0)&&(P+=te[$]),this.codeMap[u]=65535&P}d.pos=ve}return g.encode=function(d,c){var u,_,I,P,U,$,te,oe,ve,Oe,he,ct,at,ht,m,A,p,Q,ee,le,me,We,it,Me,Ue,dt,It,F,v,C,M,ae,Se,yt,ye,Ke,gt,Dt,Lt,xn,Kn,qn,ti,zr,gi;switch(It=new Ru,P=Object.keys(d).sort(function(Ci,Po){return Ci-Po}),c){case"macroman":for(at=0,ht=function(){var Ci=[];for(ct=0;ct<256;++ct)Ci.push(0);return Ci}(),A={0:0},I={},F=0,ae=P.length;F<ae;F++)null==A[qn=d[_=P[F]]]&&(A[qn]=++at),I[_]={old:d[_],new:A[d[_]]},ht[_]=A[d[_]];return It.writeUInt16(1),It.writeUInt16(0),It.writeUInt32(12),It.writeUInt16(0),It.writeUInt16(262),It.writeUInt16(0),It.write(ht),{charMap:I,subtable:It.data,maxGlyphID:at+1};case"unicode":for(Ue=[],ve=[],p=0,A={},u={},m=te=null,v=0,Se=P.length;v<Se;v++)null==A[Q=d[_=P[v]]]&&(A[Q]=++p),u[_]={old:Q,new:A[Q]},U=A[Q]-_,null!=m&&U===te||(m&&ve.push(m),Ue.push(_),te=U),m=_;for(m&&ve.push(m),ve.push(65535),Ue.push(65535),it=2*(We=Ue.length),me=2*Math.pow(Math.log(We)/Math.LN2,2),Oe=Math.log(me/2)/Math.LN2,le=2*We-me,$=[],ee=[],he=[],ct=C=0,yt=Ue.length;C<yt;ct=++C){if(oe=ve[ct],65535===(Me=Ue[ct])){$.push(0),ee.push(0);break}if(Me-(dt=u[Me].new)>=32768)for($.push(0),ee.push(2*(he.length+We-ct)),_=M=Me;Me<=oe?M<=oe:M>=oe;_=Me<=oe?++M:--M)he.push(u[_].new);else $.push(dt-Me),ee.push(0)}for(It.writeUInt16(3),It.writeUInt16(1),It.writeUInt32(12),It.writeUInt16(4),It.writeUInt16(16+8*We+2*he.length),It.writeUInt16(0),It.writeUInt16(it),It.writeUInt16(me),It.writeUInt16(Oe),It.writeUInt16(le),xn=0,ye=ve.length;xn<ye;xn++)It.writeUInt16(_=ve[xn]);for(It.writeUInt16(0),Kn=0,Ke=Ue.length;Kn<Ke;Kn++)It.writeUInt16(_=Ue[Kn]);for(ti=0,gt=$.length;ti<gt;ti++)It.writeUInt16(U=$[ti]);for(zr=0,Dt=ee.length;zr<Dt;zr++)It.writeUInt16(ee[zr]);for(gi=0,Lt=he.length;gi<Lt;gi++)It.writeUInt16(at=he[gi]);return{charMap:u,subtable:It.data,maxGlyphID:p+1}}},g}(),ku=function(g){function d(){return d.__super__.constructor.apply(this,arguments)}return Ac(d,Cc),d.prototype.tag="cmap",d.prototype.parse=function(c){var u,_,I;for(c.pos=this.offset,this.version=c.readUInt16(),I=c.readUInt16(),this.tables=[],this.unicode=null,_=0;0<=I?_<I:_>I;_=0<=I?++_:--_)u=new Dd(c,this.offset),this.tables.push(u),u.isUnicode&&null==this.unicode&&(this.unicode=u);return!0},d.encode=function(c,u){var _,I;return null==u&&(u="macroman"),_=Dd.encode(c,u),(I=new Ru).writeUInt16(0),I.writeUInt16(1),_.table=I.data.concat(_.subtable),_},d}(),vA=function(g){function d(){return d.__super__.constructor.apply(this,arguments)}return Ac(d,Cc),d.prototype.tag="hhea",d.prototype.parse=function(c){return c.pos=this.offset,this.version=c.readInt(),this.ascender=c.readShort(),this.decender=c.readShort(),this.lineGap=c.readShort(),this.advanceWidthMax=c.readShort(),this.minLeftSideBearing=c.readShort(),this.minRightSideBearing=c.readShort(),this.xMaxExtent=c.readShort(),this.caretSlopeRise=c.readShort(),this.caretSlopeRun=c.readShort(),this.caretOffset=c.readShort(),c.pos+=8,this.metricDataFormat=c.readShort(),this.numberOfMetrics=c.readUInt16()},d}(),Ic=function(g){function d(){return d.__super__.constructor.apply(this,arguments)}return Ac(d,Cc),d.prototype.tag="OS/2",d.prototype.parse=function(c){if(c.pos=this.offset,this.version=c.readUInt16(),this.averageCharWidth=c.readShort(),this.weightClass=c.readUInt16(),this.widthClass=c.readUInt16(),this.type=c.readShort(),this.ySubscriptXSize=c.readShort(),this.ySubscriptYSize=c.readShort(),this.ySubscriptXOffset=c.readShort(),this.ySubscriptYOffset=c.readShort(),this.ySuperscriptXSize=c.readShort(),this.ySuperscriptYSize=c.readShort(),this.ySuperscriptXOffset=c.readShort(),this.ySuperscriptYOffset=c.readShort(),this.yStrikeoutSize=c.readShort(),this.yStrikeoutPosition=c.readShort(),this.familyClass=c.readShort(),this.panose=function(){var u,_;for(_=[],u=0;u<10;++u)_.push(c.readByte());return _}(),this.charRange=function(){var u,_;for(_=[],u=0;u<4;++u)_.push(c.readInt());return _}(),this.vendorID=c.readString(4),this.selection=c.readShort(),this.firstCharIndex=c.readShort(),this.lastCharIndex=c.readShort(),this.version>0&&(this.ascent=c.readShort(),this.descent=c.readShort(),this.lineGap=c.readShort(),this.winAscent=c.readShort(),this.winDescent=c.readShort(),this.codePageRange=function(){var u,_;for(_=[],u=0;u<2;u=++u)_.push(c.readInt());return _}(),this.version>1))return this.xHeight=c.readShort(),this.capHeight=c.readShort(),this.defaultChar=c.readShort(),this.breakChar=c.readShort(),this.maxContext=c.readShort()},d}(),td=function(g){function d(){return d.__super__.constructor.apply(this,arguments)}return Ac(d,Cc),d.prototype.tag="post",d.prototype.parse=function(c){var u,_,I;switch(c.pos=this.offset,this.format=c.readInt(),this.italicAngle=c.readInt(),this.underlinePosition=c.readShort(),this.underlineThickness=c.readShort(),this.isFixedPitch=c.readInt(),this.minMemType42=c.readInt(),this.maxMemType42=c.readInt(),this.minMemType1=c.readInt(),this.maxMemType1=c.readInt(),this.format){case 65536:case 196608:break;case 131072:var P;for(_=c.readUInt16(),this.glyphNameIndex=[],P=0;0<=_?P<_:P>_;P=0<=_?++P:--P)this.glyphNameIndex.push(c.readUInt16());for(this.names=[],I=[];c.pos<this.offset+this.length;)u=c.readByte(),I.push(this.names.push(c.readString(u)));return I;case 151552:return _=c.readUInt16(),this.offsets=c.read(_);case 262144:return this.map=function(){var U,$,te;for(te=[],P=U=0,$=this.file.maxp.numGlyphs;0<=$?U<$:U>$;P=0<=$?++U:--U)te.push(c.readUInt32());return te}.call(this)}},d}(),xd=function(g,d){this.raw=g,this.length=g.length,this.platformID=d.platformID,this.encodingID=d.encodingID,this.languageID=d.languageID},Rd=function(g){function d(){return d.__super__.constructor.apply(this,arguments)}return Ac(d,Cc),d.prototype.tag="name",d.prototype.parse=function(c){var u,_,I,P,U,$,te,oe,ve,Oe,he;for(c.pos=this.offset,c.readShort(),u=c.readShort(),$=c.readShort(),_=[],P=0;0<=u?P<u:P>u;P=0<=u?++P:--P)_.push({platformID:c.readShort(),encodingID:c.readShort(),languageID:c.readShort(),nameID:c.readShort(),length:c.readShort(),offset:this.offset+$+c.readShort()});for(te={},P=ve=0,Oe=_.length;ve<Oe;P=++ve)c.pos=(I=_[P]).offset,oe=c.readString(I.length),U=new xd(oe,I),null==te[he=I.nameID]&&(te[he]=[]),te[I.nameID].push(U);this.strings=te,this.copyright=te[0],this.fontFamily=te[1],this.fontSubfamily=te[2],this.uniqueSubfamily=te[3],this.fontName=te[4],this.version=te[5];try{this.postscriptName=te[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=te[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=te[7],this.manufacturer=te[8],this.designer=te[9],this.description=te[10],this.vendorUrl=te[11],this.designerUrl=te[12],this.license=te[13],this.licenseUrl=te[14],this.preferredFamily=te[15],this.preferredSubfamily=te[17],this.compatibleFull=te[18],this.sampleText=te[19]},d}(),HA=function(g){function d(){return d.__super__.constructor.apply(this,arguments)}return Ac(d,Cc),d.prototype.tag="maxp",d.prototype.parse=function(c){return c.pos=this.offset,this.version=c.readInt(),this.numGlyphs=c.readUInt16(),this.maxPoints=c.readUInt16(),this.maxContours=c.readUInt16(),this.maxCompositePoints=c.readUInt16(),this.maxComponentContours=c.readUInt16(),this.maxZones=c.readUInt16(),this.maxTwilightPoints=c.readUInt16(),this.maxStorage=c.readUInt16(),this.maxFunctionDefs=c.readUInt16(),this.maxInstructionDefs=c.readUInt16(),this.maxStackElements=c.readUInt16(),this.maxSizeOfInstructions=c.readUInt16(),this.maxComponentElements=c.readUInt16(),this.maxComponentDepth=c.readUInt16()},d}(),Zh=function(g){function d(){return d.__super__.constructor.apply(this,arguments)}return Ac(d,Cc),d.prototype.tag="hmtx",d.prototype.parse=function(c){var u,_,I,U,$,te;for(c.pos=this.offset,this.metrics=[],u=0,$=this.file.hhea.numberOfMetrics;0<=$?u<$:u>$;u=0<=$?++u:--u)this.metrics.push({advance:c.readUInt16(),lsb:c.readInt16()});for(I=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var oe,ve;for(ve=[],u=oe=0;0<=I?oe<I:oe>I;u=0<=I?++oe:--oe)ve.push(c.readInt16());return ve}(),this.widths=function(){var oe,ve,Oe,he;for(he=[],oe=0,ve=(Oe=this.metrics).length;oe<ve;oe++)he.push(Oe[oe].advance);return he}.call(this),_=this.widths[this.widths.length-1],te=[],u=U=0;0<=I?U<I:U>I;u=0<=I?++U:--U)te.push(this.widths.push(_));return te},d.prototype.forGlyph=function(c){return c in this.metrics?this.metrics[c]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[c-this.metrics.length]}},d}(),zA=[].slice,bc=function(g){function d(){return d.__super__.constructor.apply(this,arguments)}return Ac(d,Cc),d.prototype.tag="glyf",d.prototype.parse=function(){return this.cache={}},d.prototype.glyphFor=function(c){var u,_,I,P,U,$,te,oe,ve,Oe;return c in this.cache?this.cache[c]:(u=this.file.contents,_=(P=this.file.loca).indexOf(c),0===(I=P.lengthOf(c))?this.cache[c]=null:(u.pos=this.offset+_,U=($=new Ru(u.read(I))).readShort(),oe=$.readShort(),Oe=$.readShort(),te=$.readShort(),ve=$.readShort(),this.cache[c]=-1===U?new ef($,oe,Oe,te,ve):new _A($,U,oe,Oe,te,ve),this.cache[c]))},d.prototype.encode=function(c,u,_){var I,P,U,$,te;for(U=[],P=[],$=0,te=u.length;$<te;$++)I=c[u[$]],P.push(U.length),I&&(U=U.concat(I.encode(_)));return P.push(U.length),{table:U,offsets:P}},d}(),_A=function(){function g(d,c,u,_,I,P){this.raw=d,this.numberOfContours=c,this.xMin=u,this.yMin=_,this.xMax=I,this.yMax=P,this.compound=!1}return g.prototype.encode=function(){return this.raw.data},g}(),ef=function(){function g(d,c,u,_,I){var P,U;for(this.raw=d,this.xMin=c,this.yMin=u,this.xMax=_,this.yMax=I,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],P=this.raw;U=P.readShort(),this.glyphOffsets.push(P.pos),this.glyphIDs.push(P.readUInt16()),32&U;)P.pos+=1&U?4:2,128&U?P.pos+=8:64&U?P.pos+=4:8&U&&(P.pos+=2)}return g.prototype.encode=function(){var d,c,u;for(c=new Ru(zA.call(this.raw.data)),d=0,u=this.glyphIDs.length;d<u;++d)c.pos=this.glyphOffsets[d];return c.data},g}(),yA=function(g){function d(){return d.__super__.constructor.apply(this,arguments)}return Ac(d,Cc),d.prototype.tag="loca",d.prototype.parse=function(c){var _;return c.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var I,P;for(P=[],_=0,I=this.length;_<I;_+=2)P.push(2*c.readUInt16());return P}.call(this):function(){var I,P;for(P=[],_=0,I=this.length;_<I;_+=4)P.push(c.readUInt32());return P}.call(this)},d.prototype.indexOf=function(c){return this.offsets[c]},d.prototype.lengthOf=function(c){return this.offsets[c+1]-this.offsets[c]},d.prototype.encode=function(c,u){for(var _=new Uint32Array(this.offsets.length),I=0,P=0,U=0;U<_.length;++U)if(_[U]=I,P<u.length&&u[P]==U){++P,_[U]=I;var te=this.offsets[U+1]-this.offsets[U];te>0&&(I+=te)}for(var oe=new Array(4*_.length),ve=0;ve<_.length;++ve)oe[4*ve+3]=255&_[ve],oe[4*ve+2]=(65280&_[ve])>>8,oe[4*ve+1]=(16711680&_[ve])>>16,oe[4*ve]=(4278190080&_[ve])>>24;return oe},d}(),Eh=function(){function g(d){this.font=d,this.subset={},this.unicodes={},this.next=33}return g.prototype.generateCmap=function(){var d,c,_,I;for(c in _=this.font.cmap.tables[0].codeMap,d={},I=this.subset)d[c]=_[I[c]];return d},g.prototype.glyphsFor=function(d){var c,u,_,I,P,U,$;for(_={},P=0,U=d.length;P<U;P++)_[I=d[P]]=this.font.glyf.glyphFor(I);for(I in c=[],_)null!=(u=_[I])&&u.compound&&c.push.apply(c,u.glyphIDs);if(c.length>0)for(I in $=this.glyphsFor(c))_[I]=u=$[I];return _},g.prototype.encode=function(d,c){var u,_,I,P,$,te,oe,ve,Oe,he,ct,at,ht,m;for(_ in u=ku.encode(this.generateCmap(),"unicode"),P=this.glyphsFor(d),he={0:0},m=u.charMap)he[($=m[_]).old]=$.new;for(ct in Oe=u.maxGlyphID,P)ct in he||(he[ct]=Oe++);return oe=function(A){var p,b;for(p in b={},A)b[A[p]]=p;return b}(he),ve=Object.keys(oe).sort(function(A,p){return A-p}),at=function(){var A,p,b;for(b=[],A=0,p=ve.length;A<p;A++)b.push(oe[ve[A]]);return b}(),I=this.font.glyf.encode(P,at,he),te=this.font.loca.encode(I.offsets,at),ht={cmap:this.font.cmap.raw(),glyf:I.table,loca:te,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(c)},this.font.os2.exists&&(ht["OS/2"]=this.font.os2.raw()),this.font.directory.encode(ht)},g}();Vi.API.PDFObject=function(){var g;function d(){}return g=function(c,u){return(Array(u+1).join("0")+c).slice(-u)},d.convert=function(c){var _,I;if(Array.isArray(c))return"["+function(){var U,$,te;for(te=[],U=0,$=c.length;U<$;U++)te.push(d.convert(c[U]));return te}().join(" ")+"]";if("string"==typeof c)return"/"+c;if(null!=c&&c.isString)return"("+c+")";if(c instanceof Date)return"(D:"+g(c.getUTCFullYear(),4)+g(c.getUTCMonth(),2)+g(c.getUTCDate(),2)+g(c.getUTCHours(),2)+g(c.getUTCMinutes(),2)+g(c.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(c)){for(_ in I=["<<"],c)I.push("/"+_+" "+d.convert(c[_]));return I.push(">>"),I.join("\n")}return""+c},d}();const Zl=Vi;var Yc=Be(7239),Ff=Be.n(Yc);function fu(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"90,00"),e.k0s())}function nA(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"150,00"),e.k0s())}function eh(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"250,00"),e.k0s())}function $A(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"2000,00"),e.k0s())}function tf(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"3000,00"),e.k0s())}function Df(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"6000,00"),e.k0s())}function th(g,d){if(1&g&&(e.j41(0,"tr")(1,"td",30),e.EFF(2),e.k0s(),e.j41(3,"td",31),e.EFF(4,"Un'applicazione web o nativa che essa sia \xe8 un "),e.j41(5,"span",33),e.EFF(6,"software"),e.k0s(),e.EFF(7," che viene utilizzato per i pi\xf9 svariati scopi quali ad esempio: migliore organizzazione, gestione ordini, social network e molto altro"),e.k0s(),e.j41(8,"td",32),e.EFF(9,"1"),e.k0s(),e.j41(10,"td"),e.EFF(11,"\u20ac"),e.DNE(12,fu,2,0,"span",34)(13,nA,2,0,"span",34)(14,eh,2,0,"span",34),e.k0s(),e.j41(15,"td"),e.EFF(16,"\u20ac"),e.DNE(17,$A,2,0,"span",34)(18,tf,2,0,"span",34)(19,Df,2,0,"span",34),e.k0s()()),2&g){const c=e.XpG();e.R7$(2),e.SpI("Applicazione ",c.generalService.currentProspect.purchase.digitalizzazione.app_selected_plan,""),e.R7$(10),e.Y8G("ngIf","Basic"==c.generalService.currentProspect.purchase.digitalizzazione.app_selected_plan),e.R7$(),e.Y8G("ngIf","Standard"==c.generalService.currentProspect.purchase.digitalizzazione.app_selected_plan),e.R7$(),e.Y8G("ngIf","Deluxe"==c.generalService.currentProspect.purchase.digitalizzazione.app_selected_plan),e.R7$(3),e.Y8G("ngIf","Basic"==c.generalService.currentProspect.purchase.digitalizzazione.app_selected_plan),e.R7$(),e.Y8G("ngIf","Standard"==c.generalService.currentProspect.purchase.digitalizzazione.app_selected_plan),e.R7$(),e.Y8G("ngIf","Deluxe"==c.generalService.currentProspect.purchase.digitalizzazione.app_selected_plan)}}function xf(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"50,00"),e.k0s())}function Rf(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"60,00"),e.k0s())}function Pu(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"100,00"),e.k0s())}function Ch(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"650,00"),e.k0s())}function ba(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"1000,00"),e.k0s())}function dc(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"2000,00"),e.k0s())}function Nu(g,d){if(1&g&&(e.j41(0,"tr")(1,"td",30),e.EFF(2),e.k0s(),e.j41(3,"td",31),e.EFF(4,"Un sito web \xe8 utile per essere sempre presenti on-line e permettere ai propri clienti di avere a portata di mano informazioni utili sulla tua attivit\xe0 o persona"),e.k0s(),e.j41(5,"td",32),e.EFF(6,"1"),e.k0s(),e.j41(7,"td"),e.EFF(8,"\u20ac"),e.DNE(9,xf,2,0,"span",34)(10,Rf,2,0,"span",34)(11,Pu,2,0,"span",34),e.k0s(),e.j41(12,"td"),e.EFF(13,"\u20ac"),e.DNE(14,Ch,2,0,"span",34)(15,ba,2,0,"span",34)(16,dc,2,0,"span",34),e.k0s()()),2&g){const c=e.XpG();e.R7$(2),e.SpI("Sito Web ",c.generalService.currentProspect.purchase.digitalizzazione.website_selected_plan,""),e.R7$(7),e.Y8G("ngIf","Basic"==c.generalService.currentProspect.purchase.digitalizzazione.website_selected_plan),e.R7$(),e.Y8G("ngIf","Standard"==c.generalService.currentProspect.purchase.digitalizzazione.website_selected_plan),e.R7$(),e.Y8G("ngIf","Deluxe"==c.generalService.currentProspect.purchase.digitalizzazione.website_selected_plan),e.R7$(3),e.Y8G("ngIf","Basic"==c.generalService.currentProspect.purchase.digitalizzazione.website_selected_plan),e.R7$(),e.Y8G("ngIf","Standard"==c.generalService.currentProspect.purchase.digitalizzazione.website_selected_plan),e.R7$(),e.Y8G("ngIf","Deluxe"==c.generalService.currentProspect.purchase.digitalizzazione.website_selected_plan)}}function Lc(g,d){if(1&g&&(e.j41(0,"tr")(1,"td",30),e.EFF(2),e.k0s(),e.j41(3,"td",31),e.EFF(4,"L'Iot acronimo di 'Internet Of Things | Internet Delle Cose \xe8 molto utile per eseguire processi fisici automatizzati e molto altro'"),e.k0s(),e.j41(5,"td",32),e.EFF(6,"1"),e.k0s(),e.j41(7,"td"),e.EFF(8,"a partire da \u20ac2500,00"),e.k0s(),e.j41(9,"td"),e.EFF(10,"a partire da \u20ac100,00"),e.k0s()()),2&g){const c=e.XpG();e.R7$(2),e.SpI("Iot ",c.generalService.currentProspect.purchase.digitalizzazione.iot_selected_plan,"")}}function Dl(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"330,00"),e.k0s())}function Jc(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"430,00"),e.k0s())}function Ll(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"650,00"),e.k0s())}function pl(g,d){if(1&g&&(e.j41(0,"tr")(1,"td",30),e.EFF(2),e.k0s(),e.j41(3,"td",31),e.EFF(4,"Gestione completa dei tuoi profili social per una presenza online efficace"),e.k0s(),e.j41(5,"td",32),e.EFF(6,"1"),e.k0s(),e.j41(7,"td"),e.EFF(8,"\u20ac"),e.DNE(9,Dl,2,0,"span",34)(10,Jc,2,0,"span",34)(11,Ll,2,0,"span",34),e.k0s(),e.j41(12,"td"),e.EFF(13,"\u20ac0,00"),e.k0s()()),2&g){const c=e.XpG();e.R7$(2),e.SpI("Gestione Social ",c.generalService.currentProspect.purchase.immagine.social_selected_plan,""),e.R7$(7),e.Y8G("ngIf","Basic"==c.generalService.currentProspect.purchase.immagine.social_selected_plan),e.R7$(),e.Y8G("ngIf","Standard"==c.generalService.currentProspect.purchase.immagine.social_selected_plan),e.R7$(),e.Y8G("ngIf","Deluxe"==c.generalService.currentProspect.purchase.immagine.social_selected_plan)}}function wA(g,d){if(1&g&&(e.j41(0,"tr")(1,"td",30),e.EFF(2,"Flyer"),e.k0s(),e.j41(3,"td",31),e.EFF(4,"Design accattivanti per ogni esigenza visiva"),e.k0s(),e.j41(5,"td",32),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8,"\u20ac0,00"),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s()()),2&g){const c=e.XpG();e.R7$(6),e.SpI(" ",c.generalService.currentProspect.purchase.immagine.grafica.flyer_count,""),e.R7$(4),e.SpI("\u20ac",150*c.generalService.currentProspect.purchase.immagine.grafica.flyer_count,",00")}}function EA(g,d){if(1&g&&(e.j41(0,"tr")(1,"td",30),e.EFF(2,"Vetrografica"),e.k0s(),e.j41(3,"td",31),e.EFF(4,"Design accattivanti per ogni esigenza visiva"),e.k0s(),e.j41(5,"td",32),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8,"\u20ac0,00"),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s()()),2&g){const c=e.XpG();e.R7$(6),e.SpI(" ",c.generalService.currentProspect.purchase.immagine.grafica.vetrografica_count,""),e.R7$(4),e.SpI("\u20ac",350*c.generalService.currentProspect.purchase.immagine.grafica.vetrografica_count,",00")}}function nh(g,d){if(1&g&&(e.j41(0,"tr")(1,"td",30),e.EFF(2,"Poster"),e.k0s(),e.j41(3,"td",31),e.EFF(4,"Design accattivanti per ogni esigenza visiva"),e.k0s(),e.j41(5,"td",32),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8,"\u20ac0,00"),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s()()),2&g){const c=e.XpG();e.R7$(6),e.SpI(" ",c.generalService.currentProspect.purchase.immagine.grafica.poster_count,""),e.R7$(4),e.SpI("\u20ac",250*c.generalService.currentProspect.purchase.immagine.grafica.poster_count,",00")}}function nd(g,d){1&g&&(e.j41(0,"tr")(1,"td",30),e.EFF(2,"Google"),e.k0s(),e.j41(3,"td",31),e.EFF(4,"Add-on per ottimizzare la propria pagina su Google"),e.k0s(),e.j41(5,"td",32),e.EFF(6,"1"),e.k0s(),e.j41(7,"td"),e.EFF(8,"\u20ac120,00"),e.k0s(),e.j41(9,"td"),e.EFF(10,"\u20ac0,00"),e.k0s()())}function nf(g,d){if(1&g&&(e.j41(0,"tr")(1,"td",30),e.EFF(2),e.k0s(),e.j41(3,"td",31),e.EFF(4,"Il logo perfetto per rappresentare la tua identit\xe0"),e.k0s(),e.j41(5,"td",32),e.EFF(6,"1"),e.k0s(),e.j41(7,"td"),e.EFF(8,"\u20ac0,00"),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s()()),2&g){const c=e.XpG();e.R7$(2),e.SpI("Logo ",c.generalService.currentProspect.purchase.immagine.grafica.logo_type,""),e.R7$(8),e.SpI("\u20ac",c.generalService.currentProspect.purchase.immagine.grafica.logo_cost,"")}}function GA(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"300,00"),e.k0s())}function rh(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"500,00"),e.k0s())}function Ih(g,d){1&g&&(e.j41(0,"span"),e.EFF(1,"1000,00"),e.k0s())}function rf(g,d){if(1&g&&(e.j41(0,"tr")(1,"td",30),e.EFF(2),e.k0s(),e.j41(3,"td",31),e.EFF(4,"Consulenza commerciale, manageriale e organizzativa"),e.k0s(),e.j41(5,"td",32),e.EFF(6,"1"),e.k0s(),e.j41(7,"td"),e.EFF(8,"\u20ac0,00"),e.k0s(),e.j41(9,"td"),e.EFF(10,"\u20ac"),e.DNE(11,GA,2,0,"span",34)(12,rh,2,0,"span",34)(13,Ih,2,0,"span",34),e.k0s()()),2&g){const c=e.XpG();e.R7$(2),e.SpI("Ottimizzazione e Vendite ",c.generalService.currentProspect.purchase.management.selected_plan,""),e.R7$(9),e.Y8G("ngIf","Basic"==c.generalService.currentProspect.purchase.management.selected_plan),e.R7$(),e.Y8G("ngIf","Standard"==c.generalService.currentProspect.purchase.management.selected_plan),e.R7$(),e.Y8G("ngIf","Deluxe"==c.generalService.currentProspect.purchase.management.selected_plan)}}function ih(g,d){1&g&&(e.j41(0,"tr")(1,"td",30),e.EFF(2,"Formazione Crm Aziendale"),e.k0s(),e.j41(3,"td",31),e.EFF(4,"Formazione dedicata all'utilizzo delle funzionalit\xe0 offerte dal "),e.j41(5,"span",33),e.EFF(6,"software"),e.k0s()(),e.j41(7,"td",32),e.EFF(8,"1"),e.k0s(),e.j41(9,"td"),e.EFF(10,"\u20ac0,00"),e.k0s(),e.j41(11,"td"),e.EFF(12,"\u20ac100,00"),e.k0s()())}let rA=(()=>{var g;class d{constructor(u,_){this.generalService=u,this.router=_}ngOnInit(){this.generalService.currentProspect||this.router.navigate(["/prospects"]),this.generalService.currentProspect&&(this.initPdfPreview(),this.getTableData())}getTableData(){tt.A.firestore().collection("prospects").doc(this.generalService.currentProspect.id).get().then(u=>{console.log(u.data())})}initPdfPreview(){document.getElementById("show-preventivo-ragione-sociale").innerText=this.generalService.currentProspect.ragione_sociale,document.getElementById("show-preventivo-ragione-sociale2").innerText=this.generalService.currentProspect.ragione_sociale,document.getElementById("show-preventivo-indirizzo").innerText=this.generalService.currentProspect.address,document.getElementById("show-preventivo-email").innerText=this.generalService.currentProspect.email,document.getElementById("show-preventivo-partita-iva").innerText=this.generalService.currentProspect.partita_iva}exportPdf(){const u=document.getElementById("pdf-preview");Ff()(u).then(_=>{const I=_.toDataURL("image/png"),P=new Zl("p","mm","a4"),U=P.internal.pageSize.getWidth(),$=P.internal.pageSize.getHeight(),te=P.getImageProperties(I),oe=te.width,Oe=U/oe,he=oe*Oe,ct=te.height*Oe;let at=ct,ht=0;for(;at>0;)P.addImage(I,"PNG",0,ht,he,ct),at-=$,ht-=$,at>0&&P.addPage();P.save("documento.pdf")})}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(fo.O),e.rXU(_s.Ix))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-see-preventive"]],decls:156,vars:13,consts:[["id","add-table-row-dialog",2,"width","100%","height","100%","background","rgba(0, 0, 0, 0.153)","z-index","9999","position","absolute","display","none","align-items","center","justify-content","center"],[1,"card1",2,"max-width","80%","padding-left","1rem","padding-right","1rem","padding-bottom","1rem"],[1,"inputGroup",2,"flex","1 1 0","min-width","200px"],["id","login-email-input","type","text",1,"input-field3"],["for","login-email-input"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","flex-wrap","wrap","gap","1rem"],["for","login-email-input",2,"font-style","italic"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","space-between"],["onclick","document.getElementById('add-table-row-dialog').style.display = 'none'; ",1,"btn"],[1,"btn"],[2,"height","4rem","width","100%","border-bottom","1px solid rgba(0, 0, 0, 0.156)","padding-left","1rem","display","flex","flex-direction","row","align-items","center","gap","1rem"],[2,"display","flex","flex-direction","row","align-items","center","margin-bottom","0.8rem"],["routerLink","/prospects",1,"material-symbols-outlined","notranslate",2,"font-size","1.5rem","cursor","pointer"],[1,"btn",2,"height","2.5rem","display","flex","flex-direction","row","align-items","center","gap","0.5rem",3,"click"],[1,"material-symbols-outlined","notranslate",2,"font-size","1.5rem","color","white"],["onclick","document.getElementById('add-table-row-dialog').style.display = 'flex'; ",1,"btn",2,"height","2.5rem","display","flex","flex-direction","row","align-items","center","gap","0.5rem"],[2,"height","calc(100% - 4rem)","width","100%","overflow-y","auto","overflow-x","hidden"],["id","pdf-preview",2,"padding-left","1rem","padding-right","1rem"],["src","assets\\svg\\LOGO PROMETHEA SRL .svg",2,"object-fit","cover","width","18rem","height","8rem","margin-left","-2rem"],[2,"width","100%","display","flex","flex-direction","column","align-items","end","padding-right","1rem"],[2,"font-weight","700"],[2,"margin-top","0rem"],["id","show-preventivo-ragione-sociale"],["id","show-preventivo-indirizzo"],["id","show-preventivo-email"],["id","show-preventivo-partita-iva"],["id","show-preventivo-preventive-number"],["id","show-preventivo-ragione-sociale2"],[1,"table-container"],[1,"table"],[2,"max-width","6rem"],[2,"max-width","10rem"],[2,"max-width","3rem"],[2,"font-style","italic"],[4,"ngIf"],[2,"width","100%","display","flex","flex-direction","column","margin-bottom","1rem"],[2,"text-align","justify"],[2,"margin-top","0.1rem","margin-bottom","0rem","text-align","justify","width","100%"],["type","date","id",""],[2,"margin-top","0.2rem","margin-bottom","0rem","text-align","justify","width","100%"],[2,"margin-top","2rem","margin-bottom","0rem","width","100%","text-align","center"],[2,"margin-bottom","0rem"],[2,"margin-top","0.5rem","margin-bottom","0rem"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","align-items","center","justify-content","space-between","margin-bottom","4rem"],[2,"margin-right","2rem"],[2,"margin-top","0.5rem","margin-bottom","2rem"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"div",1)(2,"h3"),e.EFF(3,"Aggiungi Riga"),e.k0s(),e.j41(4,"div",2),e.nrm(5,"input",3),e.j41(6,"label",4),e.EFF(7,"Servizio o Prodotto"),e.k0s()(),e.j41(8,"div",2),e.nrm(9,"input",3),e.j41(10,"label",4),e.EFF(11,"Descrizione"),e.k0s()(),e.j41(12,"div",2),e.nrm(13,"input",3),e.j41(14,"label",4),e.EFF(15,"Q.t\xe0"),e.k0s()(),e.j41(16,"div",5)(17,"div",2),e.nrm(18,"input",3),e.j41(19,"label",4),e.EFF(20,"Mensile"),e.k0s()(),e.j41(21,"div",2),e.nrm(22,"input",3),e.j41(23,"label",6),e.EFF(24,"Una tantum"),e.k0s()()(),e.j41(25,"div",7)(26,"button",8),e.EFF(27,"Annulla"),e.k0s(),e.j41(28,"button",9),e.EFF(29,"Inserisci"),e.k0s()()()(),e.j41(30,"div",10)(31,"h3",11)(32,"span",12),e.EFF(33,"arrow_back_ios"),e.k0s(),e.EFF(34,"Preventivo"),e.k0s(),e.j41(35,"button",13),e.bIt("click",function(){return _.exportPdf()}),e.j41(36,"span",14),e.EFF(37,"download"),e.k0s(),e.EFF(38,"Esporta"),e.k0s(),e.j41(39,"button",15)(40,"span",14),e.EFF(41,"add_circle"),e.k0s(),e.EFF(42,"Aggiungi"),e.k0s()(),e.j41(43,"div",16)(44,"div",17),e.nrm(45,"img",18),e.j41(46,"div",19)(47,"div")(48,"h3",20),e.EFF(49,"CLIENTE:"),e.k0s(),e.j41(50,"p",21)(51,"strong"),e.EFF(52,"Ragione Sociale: "),e.k0s(),e.nrm(53,"span",22),e.k0s(),e.j41(54,"p",21)(55,"strong"),e.EFF(56,"Indirizzo: "),e.k0s(),e.nrm(57,"span",23),e.k0s(),e.j41(58,"p",21)(59,"strong"),e.EFF(60,"E-mail: "),e.k0s(),e.nrm(61,"span",24),e.k0s(),e.j41(62,"p",21)(63,"strong"),e.EFF(64,"P.IVA: "),e.k0s(),e.nrm(65,"span",25),e.k0s()()(),e.j41(66,"p",21)(67,"strong"),e.EFF(68,"Oggetto: "),e.k0s(),e.EFF(69,"Preventivo n.1 "),e.nrm(70,"strong",26),e.k0s(),e.j41(71,"p",21),e.EFF(72,"Spett.le "),e.nrm(73,"span",27),e.EFF(74,","),e.k0s(),e.j41(75,"p",21),e.EFF(76,"La ringraziamo per aver contattato Promethea S.r.l."),e.k0s(),e.j41(77,"p",21),e.EFF(78,"Con il presente preventivo ci pregiamo di sottoporLe la migliore offerta per il servizio da Lei richiesto e di seguito descritto: "),e.k0s(),e.j41(79,"div",28)(80,"table",29)(81,"thead")(82,"tr")(83,"th",30),e.EFF(84,"Servizio o Prodotto"),e.k0s(),e.j41(85,"th",31),e.EFF(86,"Descrizione"),e.k0s(),e.j41(87,"th",32),e.EFF(88,"Q.t\xe0"),e.k0s(),e.j41(89,"th"),e.EFF(90,"Mensile"),e.k0s(),e.j41(91,"th",33),e.EFF(92,"Una tantum"),e.k0s()()(),e.j41(93,"tbody"),e.DNE(94,th,20,7,"tr",34)(95,Nu,17,7,"tr",34)(96,Lc,11,1,"tr",34)(97,pl,14,4,"tr",34)(98,wA,11,2,"tr",34)(99,EA,11,2,"tr",34)(100,nh,11,2,"tr",34)(101,nd,11,0,"tr",34)(102,nf,11,2,"tr",34)(103,rf,14,4,"tr",34)(104,ih,13,0,"tr",34),e.k0s()()(),e.j41(105,"div",35)(106,"p")(107,"strong"),e.EFF(108,"Totale quota mensile: "),e.k0s(),e.EFF(109),e.k0s(),e.j41(110,"p",21)(111,"strong"),e.EFF(112,"Totale quota "),e.j41(113,"span",33),e.EFF(114,"una tantum"),e.k0s(),e.EFF(115,": "),e.k0s(),e.EFF(116),e.k0s(),e.j41(117,"p",36),e.EFF(118,"Il preventivo in oggetto ha una validit\xe0 di 30 giorni decorrenti dalla data della sua emissione. Si precisa che per la quota "),e.j41(119,"span",33),e.EFF(120,"una tantum"),e.k0s(),e.EFF(121," Promethea S.r.l. consente una dilazione del pagamento che preveda da due a dodici rate mensili."),e.k0s(),e.j41(122,"p",37),e.EFF(123,"Tempistiche di consegna del/dei "),e.j41(124,"span",33),e.EFF(125,"software"),e.k0s(),e.EFF(126,": indicativamente entro il "),e.nrm(127,"input",38),e.k0s(),e.j41(128,"p",37),e.EFF(129,"Il presente preventivo pu\xf2 essere suscettibile di variazioni in aumento qualora le prestazioni da svolgere siano maggiormente complesse rispetto a quelle ad oggi preventivate."),e.k0s(),e.j41(130,"p",39),e.EFF(131,"Si intendono escluse dall'importo del presente preventivo tutte le prestazioni aggiuntive che non sono in esso espressamente descritte."),e.k0s(),e.j41(132,"p",40)(133,"strong"),e.EFF(134,"CONDIZIONI DEL SERVIZIO"),e.k0s()(),e.j41(135,"p",41),e.EFF(136,"-IVA di legge inclusa"),e.k0s(),e.j41(137,"p",42),e.EFF(138,'-Il pagamento delle mensilit\xe0, che ricomprendono la "quota mensile" e il rateo dell\'eventuale rateazione della quota '),e.j41(139,"span",33),e.EFF(140,'"una tanutm"'),e.k0s(),e.EFF(141,", dovr\xe0 essere effettuato entro il giorno 15 del mese di competenza della prestazione"),e.k0s(),e.j41(142,"p",42),e.EFF(143,"-Si richiede al cliente l'utilizzo dei sistemi WeTransfer"),e.k0s(),e.j41(144,"p",42),e.EFF(145,"-Il servizio Social, qualora aggiunto, \xe8 comprensivo di eventuali sponsorizzazioni concordate con il cliente"),e.k0s(),e.j41(146,"p",42),e.EFF(147,"-Periodicit\xe0 di aggiornamento a mezzo email sullo stato avanzamento lavori: mensile fino alla data di consegna definitiva del prodotto del reparto di digitalizzazione"),e.k0s()(),e.j41(148,"div",43)(149,"h4"),e.EFF(150,"Data: "),e.nrm(151,"input",38),e.k0s(),e.j41(152,"h4",44),e.EFF(153,"Firma: _____________________"),e.k0s()(),e.j41(154,"p",45),e.EFF(155,"Promethea S.r.l. - Sede Legale: via Flavia, Trieste (TS) - Cap: 34148 - P.Iva: 01417350327"),e.k0s()()()),2&u&&(e.R7$(94),e.Y8G("ngIf",""!=_.generalService.currentProspect.purchase.digitalizzazione.app_selected_plan),e.R7$(),e.Y8G("ngIf",""!=_.generalService.currentProspect.purchase.digitalizzazione.website_selected_plan),e.R7$(),e.Y8G("ngIf",""!=_.generalService.currentProspect.purchase.digitalizzazione.iot_selected_plan),e.R7$(),e.Y8G("ngIf",""!=_.generalService.currentProspect.purchase.immagine.social_selected_plan),e.R7$(),e.Y8G("ngIf",0!=_.generalService.currentProspect.purchase.immagine.grafica.flyer_count),e.R7$(),e.Y8G("ngIf",0!=_.generalService.currentProspect.purchase.immagine.grafica.vetrografica_count),e.R7$(),e.Y8G("ngIf",0!=_.generalService.currentProspect.purchase.immagine.grafica.poster_count),e.R7$(),e.Y8G("ngIf",1==_.generalService.currentProspect.purchase.immagine.google_management),e.R7$(),e.Y8G("ngIf",_.generalService.currentProspect.purchase.immagine.grafica.logo_cost&&0!=_.generalService.currentProspect.purchase.immagine.grafica.logo_cost),e.R7$(),e.Y8G("ngIf",""!=_.generalService.currentProspect.purchase.management.selected_plan),e.R7$(),e.Y8G("ngIf",""!=_.generalService.currentProspect.purchase.management.selected_plan),e.R7$(5),e.SpI("\u20ac",_.generalService.currentProspect.purchase.total.total_cost_montly,",00"),e.R7$(7),e.SpI("\u20ac",_.generalService.currentProspect.purchase.total.total_cost_una_tantum,",00"))},dependencies:[ot.bT,wt.N7,_s.Wk]}),d})();function sf(g,d){if(1&g){const c=e.RV6();e.j41(0,"tbody")(1,"tr")(2,"td"),e.EFF(3),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td")(13,"div",9)(14,"span",10),e.bIt("click",function(){const _=e.eBV(c).$implicit,I=e.XpG();return e.Njj(I.openChangeCustomer(_))}),e.EFF(15,"edit"),e.k0s(),e.j41(16,"span",10),e.bIt("click",function(){const _=e.eBV(c).$implicit,I=e.XpG();return e.Njj(I.deleteCustomer(_))}),e.EFF(17,"delete"),e.k0s()()()()()}if(2&g){const c=d.$implicit;e.R7$(3),e.JRh(c.ragione_sociale),e.R7$(2),e.JRh(c.referente),e.R7$(2),e.JRh(c.phone_number),e.R7$(2),e.SpI("\u20ac",c.purchase.total.total_cost_montly,""),e.R7$(2),e.SpI("\u20ac",c.purchase.total.total_cost_una_tantum,"")}}function oh(g,d){if(1&g){const c=e.RV6();e.j41(0,"tbody")(1,"tr")(2,"td"),e.EFF(3),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td")(9,"div",9)(10,"span",10),e.bIt("click",function(){const _=e.eBV(c).$implicit,I=e.XpG();return e.Njj(I.openChangeCustomer(_))}),e.EFF(11,"edit"),e.k0s(),e.j41(12,"span",10),e.bIt("click",function(){const _=e.eBV(c).$implicit,I=e.XpG();return e.Njj(I.deleteCustomer(_))}),e.EFF(13,"delete"),e.k0s()()()()()}if(2&g){const c=d.$implicit;e.R7$(3),e.JRh(c.name),e.R7$(2),e.JRh(c.description),e.R7$(2),e.JRh(c.expitation_date)}}let kd=(()=>{var g;class d{constructor(u,_){this.generalService=u,this.router=_,this.documents=new pt.t([]),this.tasks=new pt.t([]),this.nextPageAvailable=!0,this.immagineCustomersAlreadyFetched=!1,this.immagineTasksAlreadyFetched=!1}ngOnInit(){this.fetchCustomers()}showImmagineCustomers(){0==this.immagineCustomersAlreadyFetched&&this.fetchCustomers(),document.getElementById("pro-immagine-customers").style.display="flex",document.getElementById("pro-immagine-tasks").style.display="none"}showImmagineTasks(){0==this.immagineTasksAlreadyFetched&&this.getImmagineTasks(),document.getElementById("pro-immagine-customers").style.display="none",document.getElementById("pro-immagine-tasks").style.display="flex"}fetchCustomers(){tt.A.firestore().collection("customers").where("purchase.immagine.social_selected_plan","!=","").orderBy("timestamp").onSnapshot(u=>{const _=[];u.forEach(I=>{_.push({id:I.id,...I.data()})}),this.documents.next(_),this.immagineCustomersAlreadyFetched=!0},u=>{this.generalService.presentToast("Errore nel recuperare i clienti del modulo immagine: "+u.message)})}openChangeCustomer(u){this.generalService.currentCustomer=u,this.generalService.registryType="customer",this.router.navigate(["change-registry"])}deleteCustomer(u){confirm("Sei sicuro di voler eliminare questo cliente?")&&tt.A.firestore().collection("customers").doc(u.id).delete().then(()=>{this.generalService.presentToast("Cliente eliminato con successo")}).catch(_=>{this.generalService.presentToast("Errore nell'eliminare il cliente: "+_.message)})}getImmagineTasks(){tt.A.firestore().collection("tasks").where("proModule","==","Immagine e presenza social").orderBy("timestamp","asc").onSnapshot(u=>{const _=[];u.forEach(I=>{_.push({id:I.id,...I.data()})}),this.tasks.next(_),this.immagineTasksAlreadyFetched=!0},u=>{this.generalService.presentToast("Errore nel recuperare i task del modulo immagine: "+u.message)})}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(fo.O),e.rXU(_s.Ix))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-immagine-pro-module"]],decls:44,vars:6,consts:[[2,"width","100%","height","100%","overflow-y","auto","overflow-x","hidden"],[1,"card1",2,"display","flex","flex-direction","row","align-items","center","gap","0.8rem","height","2.5rem","flex-shrink","0","padding-left","1rem","margin-left","1rem","margin-right","1rem","margin-top","1rem"],[1,"a1",3,"click"],["id","pro-immagine-customers",2,"width","100%","display","flex","flex-direction","column"],[2,"margin-left","1rem"],[1,"table-container"],[1,"table"],[4,"ngFor","ngForOf"],["id","pro-immagine-tasks",2,"width","100%","display","none","flex-direction","column"],[2,"display","flex","flex-direction","row","align-content","center","gap","1rem"],[1,"table-button","material-symbols-outlined","notranslate",2,"font-size","1.5rem","cursor","pointer",3,"click"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.bIt("click",function(){return _.showImmagineCustomers()}),e.EFF(3,"Clienti"),e.k0s(),e.j41(4,"a",2),e.bIt("click",function(){return _.showImmagineTasks()}),e.EFF(5,"Task"),e.k0s()(),e.j41(6,"div",3)(7,"h3",4),e.EFF(8,"Immagine | Clienti"),e.k0s(),e.j41(9,"div",5)(10,"table",6)(11,"thead")(12,"tr")(13,"th"),e.EFF(14,"Ragione Sociale"),e.k0s(),e.j41(15,"th"),e.EFF(16,"Referente"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Numero di telefono"),e.k0s(),e.j41(19,"th"),e.EFF(20,"Quota Mensile"),e.k0s(),e.j41(21,"th"),e.EFF(22,"Quota una tantum"),e.k0s(),e.j41(23,"th"),e.EFF(24,"Azioni"),e.k0s()()(),e.DNE(25,sf,18,5,"tbody",7),e.nI1(26,"async"),e.k0s()()(),e.j41(27,"div",8)(28,"h3",4),e.EFF(29,"Immagine | Task"),e.k0s(),e.j41(30,"div",5)(31,"table",6)(32,"thead")(33,"tr")(34,"th"),e.EFF(35,"Nome"),e.k0s(),e.j41(36,"th"),e.EFF(37,"Descrizione"),e.k0s(),e.j41(38,"th"),e.EFF(39,"Scadenza"),e.k0s(),e.j41(40,"th"),e.EFF(41,"Azioni"),e.k0s()()(),e.DNE(42,oh,14,3,"tbody",7),e.nI1(43,"async"),e.k0s()()()()),2&u&&(e.R7$(25),e.Y8G("ngForOf",e.bMT(26,2,_.documents)),e.R7$(17),e.Y8G("ngForOf",e.bMT(43,4,_.tasks)))},dependencies:[ot.Sq,ot.Jj]}),d})(),bh=(()=>{var g;class d{constructor(){}ngOnInit(){}}return(g=d).\u0275fac=function(u){return new(u||g)},g.\u0275cmp=e.VBU({type:g,selectors:[["app-digitalizzazione-pro-module"]],decls:2,vars:0,template:function(u,_){1&u&&(e.j41(0,"p"),e.EFF(1," digitalizzazione-pro-module works!\n"),e.k0s())}}),d})();function np(g,d){if(1&g&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td")(14,"div",30)(15,"span",31),e.EFF(16,"edit"),e.k0s(),e.j41(17,"span",31),e.EFF(18,"delete"),e.k0s()()()()),2&g){const c=d.$implicit;e.R7$(2),e.JRh(c.id),e.R7$(2),e.JRh(c.name),e.R7$(2),e.JRh(c.description),e.R7$(2),e.JRh(c.priority),e.R7$(2),e.JRh(c.expiration_date),e.R7$(2),e.JRh(c.pro_module)}}const Pd=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>Be.e(5075).then(Be.bind(Be,5075)).then(g=>g.HomePageModule)},{path:"log",component:Ae},{path:"login",component:qe},{path:"register",component:Ee},{path:"customers",component:Bi},{path:"tasks",component:(()=>{var g;class d{constructor(u,_){this.supabaseService=u,this.generalService=_,this.documents=new pt.t([])}ngOnInit(){this.fetchTasks()}fetchTasks(){var u=this;return(0,Z.A)(function*(){const{data:_,error:I}=yield u.supabaseService.supabase.from("tasks").select("*");I?(u.generalService.presentToast("Errore durante il recupero dei task: "+I.message),console.error("Errore durante il recupero dei task: ",I)):u.documents.next(_)})()}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(Zi),e.rXU(fo.O))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-tasks"]],decls:67,vars:3,consts:[[2,"width","100%","height","100%"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","0.5rem","margin-top","1rem"],[2,"margin-left","1rem","margin-top","0rem","margin-bottom","0rem"],["routerLink","/add-task",1,"btn",2,"height","2.5rem","display","flex","flex-direction","row","align-items","center","gap","0.5rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","1.7rem","color","white","cursor","pointer"],[2,"padding-left","1rem","padding-right","1rem","overflow-y","auto"],[2,"width","100%","max-width","60rem","display","flex","flex-direction","row","align-items","center","gap","1rem","flex-wrap","wrap"],[1,"inputGroup",2,"flex","1","min-width","10rem"],["id","expiration-create-task-input","type","date",1,"input-field3"],["for","expiration-create-task-input"],[2,"display","flex","flex-direction","column","flex","1","min-width","10rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","text-align","center","width","5rem","margin-top","0.5rem"],[1,"inputGroup"],["id","customer-info-forma-giuridica-input",1,"selector1",2,"width","100%"],["value","Generica"],["value","Contabilit\xe0"],["value","Immagine"],["value","Management"],["value","Digitalizzazione"],["value","Tutti"],["value","Segreteria"],[2,"display","flex","flex-direction","column","justify-content","center","flex","1","min-width","10rem","margin-top","0.5rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","text-align","center","width","5rem"],["value","Media"],["value","Bassa"],["value","Alta"],[1,"btn",2,"flex","0 1 auto","min-width","13rem","width","8rem"],[1,"table-container"],[1,"table"],[4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","row","align-content","center","gap","1rem"],[1,"table-button","material-symbols-outlined","notranslate",2,"font-size","1.5rem","cursor","pointer"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3,"Tasks"),e.k0s(),e.j41(4,"button",3)(5,"span",4),e.EFF(6,"add"),e.k0s(),e.EFF(7," Nuova "),e.k0s()(),e.j41(8,"div",5)(9,"div",6)(10,"div",7),e.nrm(11,"input",8),e.j41(12,"label",9),e.EFF(13,"Scadenza"),e.k0s()(),e.j41(14,"div",10)(15,"label",11),e.EFF(16,"Modulo"),e.k0s(),e.j41(17,"div",12)(18,"select",13)(19,"option",14),e.EFF(20,"Generica"),e.k0s(),e.j41(21,"option",15),e.EFF(22,"Contabilit\xe0"),e.k0s(),e.j41(23,"option",16),e.EFF(24,"Immagine"),e.k0s(),e.j41(25,"option",17),e.EFF(26,"Management"),e.k0s(),e.j41(27,"option",18),e.EFF(28,"Digitalizzazione"),e.k0s(),e.j41(29,"option",19),e.EFF(30,"Tutti"),e.k0s(),e.j41(31,"option",20),e.EFF(32,"Segreteria"),e.k0s()()()(),e.j41(33,"div",21)(34,"label",22),e.EFF(35,"Priorit\xe0"),e.k0s(),e.j41(36,"div",12)(37,"select",13)(38,"option",23),e.EFF(39,"Media"),e.k0s(),e.j41(40,"option",24),e.EFF(41,"Bassa"),e.k0s(),e.j41(42,"option",25),e.EFF(43,"Alta"),e.k0s()()()(),e.j41(44,"button",26),e.EFF(45,"Cerca"),e.k0s()()(),e.j41(46,"div",27)(47,"table",28)(48,"thead")(49,"tr")(50,"th"),e.EFF(51,"Id"),e.k0s(),e.j41(52,"th"),e.EFF(53,"Nome"),e.k0s(),e.j41(54,"th"),e.EFF(55,"Descrizione"),e.k0s(),e.j41(56,"th"),e.EFF(57,"Priorit\xe0"),e.k0s(),e.j41(58,"th"),e.EFF(59,"Scadenza"),e.k0s(),e.j41(60,"th"),e.EFF(61,"Modulo"),e.k0s(),e.j41(62,"th"),e.EFF(63,"Azioni"),e.k0s()()(),e.j41(64,"tbody"),e.DNE(65,np,19,6,"tr",29),e.nI1(66,"async"),e.k0s()()()()),2&u&&(e.R7$(65),e.Y8G("ngForOf",e.bMT(66,1,_.documents)))},dependencies:[ot.Sq,wt.N7,_s.Wk,ot.Jj]}),d})()},{path:"add-task",component:(()=>{var g;class d{constructor(u,_,I){this.generalService=u,this.supabaseService=_,this.router=I,this.customerId="general"}ngOnInit(){}addTask(){var u=this;return(0,Z.A)(function*(){const _=document.getElementById("name-create-task-input"),I=document.getElementById("description-create-task-input"),P=document.getElementById("expiration-date-create-task-input"),U=document.getElementById("pro-module-create-task-input"),$=document.getElementById("priority-create-task-input");""!=u.generalService.currentCustomerAddTask&&(u.customerId=u.generalService.currentCustomerAddTask.id);const{error:oe}=yield u.supabaseService.supabase.from("tasks").insert([{name:_.value,description:I.value,expiration_date:P.value,pro_module:U.value,priority:$.value,creator_uid:u.generalService.currentUser.uid,creator_name:u.generalService.currentUser.name,creator_surname:u.generalService.currentUser.surname,creator_email:u.generalService.currentUser.email}]);oe?(console.error("Errore durante l'inserimento:",oe),u.generalService.presentToast("Errore durante il salvataggio dei dati")):(u.generalService.currentCustomerAddTask="",_.value="",I.value="",P.value="",u.router.navigate(["/add-task"]),u.generalService.presentToast("Task aggiunto con successo"))})()}}return(g=d).\u0275fac=function(u){return new(u||g)(e.rXU(fo.O),e.rXU(Zi),e.rXU(_s.Ix))},g.\u0275cmp=e.VBU({type:g,selectors:[["app-add-task"]],decls:50,vars:0,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column","overflow-y","auto","overflow-x","hidden"],[2,"margin-left","1rem"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","margin-left","1rem","margin-right","1rem"],[2,"display","flex","flex-direction","column","flex","1","min-width","10rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","text-align","center","width","5rem","margin-top","0.5rem"],[1,"inputGroup"],["id","pro-module-create-task-input",1,"selector1",2,"width","100%"],["value","Generica"],["value","Contabilit\xe0"],["value","Immagine"],["value","Management"],["value","Digitalizzazione"],["value","Tutti"],["value","Segreteria"],[1,"inputGroup",2,"flex","1","min-width","10rem"],["id","name-create-task-input","type","text",1,"input-field3"],["for","name-create-task-input"],["id","description-create-task-input","type","text",1,"input-field3"],["for","description-create-task-input"],[2,"display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","padding-right","1rem"],["id","expiration-date-create-task-input","type","date",1,"input-field3"],["for","expiration-date-create-task-input"],[2,"display","flex","flex-direction","column","justify-content","center","flex","1","min-width","10rem","margin-top","0.5rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","text-align","center","width","5rem"],["id","priority-create-task-input",1,"selector1",2,"width","100%"],["value","Media"],["value","Bassa"],["value","Alta"],[2,"width","100%","padding-left","1rem","padding-right","1rem"],[1,"btn",2,"width","100%",3,"click"]],template:function(u,_){1&u&&(e.j41(0,"div",0)(1,"h3",1),e.EFF(2,"Aggiungi Task"),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"label",4),e.EFF(6,"Modulo"),e.k0s(),e.j41(7,"div",5)(8,"select",6)(9,"option",7),e.EFF(10,"Generica"),e.k0s(),e.j41(11,"option",8),e.EFF(12,"Contabilit\xe0"),e.k0s(),e.j41(13,"option",9),e.EFF(14,"Immagine"),e.k0s(),e.j41(15,"option",10),e.EFF(16,"Management"),e.k0s(),e.j41(17,"option",11),e.EFF(18,"Digitalizzazione"),e.k0s(),e.j41(19,"option",12),e.EFF(20,"Tutti"),e.k0s(),e.j41(21,"option",13),e.EFF(22,"Segreteria"),e.k0s()()()(),e.j41(23,"div",14),e.nrm(24,"input",15),e.j41(25,"label",16),e.EFF(26,"Nome"),e.k0s()(),e.j41(27,"div",14),e.nrm(28,"input",17),e.j41(29,"label",18),e.EFF(30,"Descrizione"),e.k0s()()(),e.j41(31,"div",19)(32,"div",14),e.nrm(33,"input",20),e.j41(34,"label",21),e.EFF(35,"Scadenza"),e.k0s()(),e.j41(36,"div",22)(37,"label",23),e.EFF(38,"Priorit\xe0"),e.k0s(),e.j41(39,"div",5)(40,"select",24)(41,"option",25),e.EFF(42,"Media"),e.k0s(),e.j41(43,"option",26),e.EFF(44,"Bassa"),e.k0s(),e.j41(45,"option",27),e.EFF(46,"Alta"),e.k0s()()()()(),e.j41(47,"div",28)(48,"button",29),e.bIt("click",function(){return _.addTask()}),e.EFF(49,"Crea Task"),e.k0s()()())}}),d})()},{path:"alchemizzatore",component:Al},{path:"prospects",component:_a},{path:"change-registry",component:Is},{path:"see-preventive",component:rA},{path:"immagine",component:kd},{path:"digitalizzazione",component:bh}];let Sh=(()=>{var g;class d{}return(g=d).\u0275fac=function(u){return new(u||g)},g.\u0275mod=e.$C({type:g}),g.\u0275inj=e.G2t({imports:[_s.iI.forRoot(Pd,{preloadingStrategy:_s.Kp}),_s.iI]}),d})(),sh=(()=>{var g;class d{}return(g=d).\u0275fac=function(u){return new(u||g)},g.\u0275mod=e.$C({type:g,bootstrap:[Ie]}),g.\u0275inj=e.G2t({providers:[{provide:ot.hb,useClass:ot.fw}],imports:[w.Bb,wt.bv.forRoot(),Sh]}),d})();(0,e.SmG)(),w.sG().bootstrapModule(sh).catch(g=>console.log(g))},5286:(Kr,dn,Be)=>{"use strict";Be.r(dn),Be.d(dn,{Headers:()=>Z,Request:()=>tt,Response:()=>Ze,default:()=>ot,fetch:()=>wt});var e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const wt=e.fetch,ot=e.fetch.bind(e),Z=e.Headers,tt=e.Request,Ze=e.Response},5958:function(Kr,dn,Be){"use strict";var w=Be(9293).default,e=this&&this.__importDefault||function(tt){return tt&&tt.__esModule?tt:{default:tt}};Object.defineProperty(dn,"__esModule",{value:!0});const wt=e(Be(5286)),ot=e(Be(4659));dn.default=class Z{constructor(Ze){this.shouldThrowOnError=!1,this.method=Ze.method,this.url=Ze.url,this.headers=Ze.headers,this.schema=Ze.schema,this.body=Ze.body,this.shouldThrowOnError=Ze.shouldThrowOnError,this.signal=Ze.signal,this.isMaybeSingle=Ze.isMaybeSingle,this.fetch=Ze.fetch?Ze.fetch:typeof fetch>"u"?wt.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(Ze,Nt){return this.headers=Object.assign({},this.headers),this.headers[Ze]=Nt,this}then(Ze,Nt){var Ut=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let et=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var vt=w(function*(Mt){var Ft,An,mn;let qt=null,tn=null,Un=null,gn=Mt.status,Tn=Mt.statusText;if(Mt.ok){if("HEAD"!==Ut.method){const Yt=yield Mt.text();""===Yt||(tn="text/csv"===Ut.headers.Accept||Ut.headers.Accept&&Ut.headers.Accept.includes("application/vnd.pgrst.plan+text")?Yt:JSON.parse(Yt))}const Vt=null===(Ft=Ut.headers.Prefer)||void 0===Ft?void 0:Ft.match(/count=(exact|planned|estimated)/),wn=null===(An=Mt.headers.get("content-range"))||void 0===An?void 0:An.split("/");Vt&&wn&&wn.length>1&&(Un=parseInt(wn[1])),Ut.isMaybeSingle&&"GET"===Ut.method&&Array.isArray(tn)&&(tn.length>1?(qt={code:"PGRST116",details:`Results contain ${tn.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},tn=null,Un=null,gn=406,Tn="Not Acceptable"):tn=1===tn.length?tn[0]:null)}else{const Vt=yield Mt.text();try{qt=JSON.parse(Vt),Array.isArray(qt)&&404===Mt.status&&(tn=[],qt=null,gn=200,Tn="OK")}catch{404===Mt.status&&""===Vt?(gn=204,Tn="No Content"):qt={message:Vt}}if(qt&&Ut.isMaybeSingle&&!(null===(mn=null==qt?void 0:qt.details)||void 0===mn)&&mn.includes("0 rows")&&(qt=null,gn=200,Tn="OK"),qt&&Ut.shouldThrowOnError)throw new ot.default(qt)}return{error:qt,data:tn,count:Un,status:gn,statusText:Tn}});return function(Mt){return vt.apply(this,arguments)}}());return this.shouldThrowOnError||(et=et.catch(vt=>{var Mt,Ft,An;return{error:{message:`${null!==(Mt=null==vt?void 0:vt.name)&&void 0!==Mt?Mt:"FetchError"}: ${null==vt?void 0:vt.message}`,details:`${null!==(Ft=null==vt?void 0:vt.stack)&&void 0!==Ft?Ft:""}`,hint:"",code:`${null!==(An=null==vt?void 0:vt.code)&&void 0!==An?An:""}`},data:null,count:null,status:0,statusText:""}})),et.then(Ze,Nt)}}},3242:function(Kr,dn,Be){"use strict";var w=this&&this.__importDefault||function(tt){return tt&&tt.__esModule?tt:{default:tt}};Object.defineProperty(dn,"__esModule",{value:!0});const e=w(Be(8666)),wt=w(Be(3608)),ot=Be(3057);class Z{constructor(Ze,{headers:Nt={},schema:Ut,fetch:Ct}={}){this.url=Ze,this.headers=Object.assign(Object.assign({},ot.DEFAULT_HEADERS),Nt),this.schemaName=Ut,this.fetch=Ct}from(Ze){const Nt=new URL(`${this.url}/${Ze}`);return new e.default(Nt,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(Ze){return new Z(this.url,{headers:this.headers,schema:Ze,fetch:this.fetch})}rpc(Ze,Nt={},{head:Ut=!1,get:Ct=!1,count:et}={}){let vt;const Mt=new URL(`${this.url}/rpc/${Ze}`);let Ft;Ut||Ct?(vt=Ut?"HEAD":"GET",Object.entries(Nt).filter(([mn,qt])=>void 0!==qt).map(([mn,qt])=>[mn,Array.isArray(qt)?`{${qt.join(",")}}`:`${qt}`]).forEach(([mn,qt])=>{Mt.searchParams.append(mn,qt)})):(vt="POST",Ft=Nt);const An=Object.assign({},this.headers);return et&&(An.Prefer=`count=${et}`),new wt.default({method:vt,url:Mt,headers:An,schema:this.schemaName,body:Ft,fetch:this.fetch,allowEmpty:!1})}}dn.default=Z},4659:(Kr,dn)=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});class Be extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}dn.default=Be},3608:function(Kr,dn,Be){"use strict";var w=this&&this.__importDefault||function(ot){return ot&&ot.__esModule?ot:{default:ot}};Object.defineProperty(dn,"__esModule",{value:!0});const e=w(Be(3342));dn.default=class wt extends e.default{eq(Z,tt){return this.url.searchParams.append(Z,`eq.${tt}`),this}neq(Z,tt){return this.url.searchParams.append(Z,`neq.${tt}`),this}gt(Z,tt){return this.url.searchParams.append(Z,`gt.${tt}`),this}gte(Z,tt){return this.url.searchParams.append(Z,`gte.${tt}`),this}lt(Z,tt){return this.url.searchParams.append(Z,`lt.${tt}`),this}lte(Z,tt){return this.url.searchParams.append(Z,`lte.${tt}`),this}like(Z,tt){return this.url.searchParams.append(Z,`like.${tt}`),this}likeAllOf(Z,tt){return this.url.searchParams.append(Z,`like(all).{${tt.join(",")}}`),this}likeAnyOf(Z,tt){return this.url.searchParams.append(Z,`like(any).{${tt.join(",")}}`),this}ilike(Z,tt){return this.url.searchParams.append(Z,`ilike.${tt}`),this}ilikeAllOf(Z,tt){return this.url.searchParams.append(Z,`ilike(all).{${tt.join(",")}}`),this}ilikeAnyOf(Z,tt){return this.url.searchParams.append(Z,`ilike(any).{${tt.join(",")}}`),this}is(Z,tt){return this.url.searchParams.append(Z,`is.${tt}`),this}in(Z,tt){const Ze=Array.from(new Set(tt)).map(Nt=>"string"==typeof Nt&&new RegExp("[,()]").test(Nt)?`"${Nt}"`:`${Nt}`).join(",");return this.url.searchParams.append(Z,`in.(${Ze})`),this}contains(Z,tt){return"string"==typeof tt?this.url.searchParams.append(Z,`cs.${tt}`):Array.isArray(tt)?this.url.searchParams.append(Z,`cs.{${tt.join(",")}}`):this.url.searchParams.append(Z,`cs.${JSON.stringify(tt)}`),this}containedBy(Z,tt){return"string"==typeof tt?this.url.searchParams.append(Z,`cd.${tt}`):Array.isArray(tt)?this.url.searchParams.append(Z,`cd.{${tt.join(",")}}`):this.url.searchParams.append(Z,`cd.${JSON.stringify(tt)}`),this}rangeGt(Z,tt){return this.url.searchParams.append(Z,`sr.${tt}`),this}rangeGte(Z,tt){return this.url.searchParams.append(Z,`nxl.${tt}`),this}rangeLt(Z,tt){return this.url.searchParams.append(Z,`sl.${tt}`),this}rangeLte(Z,tt){return this.url.searchParams.append(Z,`nxr.${tt}`),this}rangeAdjacent(Z,tt){return this.url.searchParams.append(Z,`adj.${tt}`),this}overlaps(Z,tt){return this.url.searchParams.append(Z,"string"==typeof tt?`ov.${tt}`:`ov.{${tt.join(",")}}`),this}textSearch(Z,tt,{config:Ze,type:Nt}={}){let Ut="";return"plain"===Nt?Ut="pl":"phrase"===Nt?Ut="ph":"websearch"===Nt&&(Ut="w"),this.url.searchParams.append(Z,`${Ut}fts${void 0===Ze?"":`(${Ze})`}.${tt}`),this}match(Z){return Object.entries(Z).forEach(([tt,Ze])=>{this.url.searchParams.append(tt,`eq.${Ze}`)}),this}not(Z,tt,Ze){return this.url.searchParams.append(Z,`not.${tt}.${Ze}`),this}or(Z,{foreignTable:tt,referencedTable:Ze=tt}={}){return this.url.searchParams.append(Ze?`${Ze}.or`:"or",`(${Z})`),this}filter(Z,tt,Ze){return this.url.searchParams.append(Z,`${tt}.${Ze}`),this}}},8666:function(Kr,dn,Be){"use strict";var w=this&&this.__importDefault||function(ot){return ot&&ot.__esModule?ot:{default:ot}};Object.defineProperty(dn,"__esModule",{value:!0});const e=w(Be(3608));dn.default=class wt{constructor(Z,{headers:tt={},schema:Ze,fetch:Nt}){this.url=Z,this.headers=tt,this.schema=Ze,this.fetch=Nt}select(Z,{head:tt=!1,count:Ze}={}){const Nt=tt?"HEAD":"GET";let Ut=!1;const Ct=(null!=Z?Z:"*").split("").map(et=>/\s/.test(et)&&!Ut?"":('"'===et&&(Ut=!Ut),et)).join("");return this.url.searchParams.set("select",Ct),Ze&&(this.headers.Prefer=`count=${Ze}`),new e.default({method:Nt,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(Z,{count:tt,defaultToNull:Ze=!0}={}){const Ut=[];if(this.headers.Prefer&&Ut.push(this.headers.Prefer),tt&&Ut.push(`count=${tt}`),Ze||Ut.push("missing=default"),this.headers.Prefer=Ut.join(","),Array.isArray(Z)){const Ct=Z.reduce((et,vt)=>et.concat(Object.keys(vt)),[]);if(Ct.length>0){const et=[...new Set(Ct)].map(vt=>`"${vt}"`);this.url.searchParams.set("columns",et.join(","))}}return new e.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:Z,fetch:this.fetch,allowEmpty:!1})}upsert(Z,{onConflict:tt,ignoreDuplicates:Ze=!1,count:Nt,defaultToNull:Ut=!0}={}){const et=[`resolution=${Ze?"ignore":"merge"}-duplicates`];if(void 0!==tt&&this.url.searchParams.set("on_conflict",tt),this.headers.Prefer&&et.push(this.headers.Prefer),Nt&&et.push(`count=${Nt}`),Ut||et.push("missing=default"),this.headers.Prefer=et.join(","),Array.isArray(Z)){const vt=Z.reduce((Mt,Ft)=>Mt.concat(Object.keys(Ft)),[]);if(vt.length>0){const Mt=[...new Set(vt)].map(Ft=>`"${Ft}"`);this.url.searchParams.set("columns",Mt.join(","))}}return new e.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:Z,fetch:this.fetch,allowEmpty:!1})}update(Z,{count:tt}={}){const Nt=[];return this.headers.Prefer&&Nt.push(this.headers.Prefer),tt&&Nt.push(`count=${tt}`),this.headers.Prefer=Nt.join(","),new e.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:Z,fetch:this.fetch,allowEmpty:!1})}delete({count:Z}={}){const Ze=[];return Z&&Ze.push(`count=${Z}`),this.headers.Prefer&&Ze.unshift(this.headers.Prefer),this.headers.Prefer=Ze.join(","),new e.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},3342:function(Kr,dn,Be){"use strict";var w=this&&this.__importDefault||function(ot){return ot&&ot.__esModule?ot:{default:ot}};Object.defineProperty(dn,"__esModule",{value:!0});const e=w(Be(5958));dn.default=class wt extends e.default{select(Z){let tt=!1;const Ze=(null!=Z?Z:"*").split("").map(Nt=>/\s/.test(Nt)&&!tt?"":('"'===Nt&&(tt=!tt),Nt)).join("");return this.url.searchParams.set("select",Ze),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(Z,{ascending:tt=!0,nullsFirst:Ze,foreignTable:Nt,referencedTable:Ut=Nt}={}){const Ct=Ut?`${Ut}.order`:"order",et=this.url.searchParams.get(Ct);return this.url.searchParams.set(Ct,`${et?`${et},`:""}${Z}.${tt?"asc":"desc"}${void 0===Ze?"":Ze?".nullsfirst":".nullslast"}`),this}limit(Z,{foreignTable:tt,referencedTable:Ze=tt}={}){return this.url.searchParams.set(typeof Ze>"u"?"limit":`${Ze}.limit`,`${Z}`),this}range(Z,tt,{foreignTable:Ze,referencedTable:Nt=Ze}={}){const Ct=typeof Nt>"u"?"limit":`${Nt}.limit`;return this.url.searchParams.set(typeof Nt>"u"?"offset":`${Nt}.offset`,`${Z}`),this.url.searchParams.set(Ct,""+(tt-Z+1)),this}abortSignal(Z){return this.signal=Z,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="GET"===this.method?"application/json":"application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:Z=!1,verbose:tt=!1,settings:Ze=!1,buffers:Nt=!1,wal:Ut=!1,format:Ct="text"}={}){var et;const vt=[Z?"analyze":null,tt?"verbose":null,Ze?"settings":null,Nt?"buffers":null,Ut?"wal":null].filter(Boolean).join("|"),Mt=null!==(et=this.headers.Accept)&&void 0!==et?et:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${Ct}; for="${Mt}"; options=${vt};`,this}rollback(){var Z;return(null!==(Z=this.headers.Prefer)&&void 0!==Z?Z:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}},3057:(Kr,dn,Be)=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0}),dn.DEFAULT_HEADERS=void 0;const w=Be(3056);dn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${w.version}`}},4060:function(Kr,dn,Be){"use strict";var w=this&&this.__importDefault||function(Nt){return Nt&&Nt.__esModule?Nt:{default:Nt}};Object.defineProperty(dn,"__esModule",{value:!0}),dn.PostgrestError=dn.PostgrestBuilder=dn.PostgrestTransformBuilder=dn.PostgrestFilterBuilder=dn.PostgrestQueryBuilder=dn.PostgrestClient=void 0;const e=w(Be(3242));dn.PostgrestClient=e.default;const wt=w(Be(8666));dn.PostgrestQueryBuilder=wt.default;const ot=w(Be(3608));dn.PostgrestFilterBuilder=ot.default;const Z=w(Be(3342));dn.PostgrestTransformBuilder=Z.default;const tt=w(Be(5958));dn.PostgrestBuilder=tt.default;const Ze=w(Be(4659));dn.PostgrestError=Ze.default,dn.default={PostgrestClient:e.default,PostgrestQueryBuilder:wt.default,PostgrestFilterBuilder:ot.default,PostgrestTransformBuilder:Z.default,PostgrestBuilder:tt.default,PostgrestError:Ze.default}},3056:(Kr,dn)=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0}),dn.version=void 0,dn.version="0.0.0-automated"},7239:function(Kr){Kr.exports=function(){"use strict";var dn=function(R,B){return(dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,N){O.__proto__=N}||function(O,N){for(var ce in N)Object.prototype.hasOwnProperty.call(N,ce)&&(O[ce]=N[ce])})(R,B)};function Be(R,B){if("function"!=typeof B&&null!==B)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function O(){this.constructor=R}dn(R,B),R.prototype=null===B?Object.create(B):(O.prototype=B.prototype,new O)}var w=function(){return w=Object.assign||function(B){for(var O,N=1,ce=arguments.length;N<ce;N++)for(var De in O=arguments[N])Object.prototype.hasOwnProperty.call(O,De)&&(B[De]=O[De]);return B},w.apply(this,arguments)};function e(R,B,O,N){return new(O||(O=Promise))(function(De,Ge){function Et(fn){try{ln(N.next(fn))}catch(Sn){Ge(Sn)}}function ft(fn){try{ln(N.throw(fn))}catch(Sn){Ge(Sn)}}function ln(fn){fn.done?De(fn.value):function ce(De){return De instanceof O?De:new O(function(Ge){Ge(De)})}(fn.value).then(Et,ft)}ln((N=N.apply(R,B||[])).next())})}function wt(R,B){var N,ce,De,Ge,O={label:0,sent:function(){if(1&De[0])throw De[1];return De[1]},trys:[],ops:[]};return Ge={next:Et(0),throw:Et(1),return:Et(2)},"function"==typeof Symbol&&(Ge[Symbol.iterator]=function(){return this}),Ge;function Et(ln){return function(fn){return function ft(ln){if(N)throw new TypeError("Generator is already executing.");for(;O;)try{if(N=1,ce&&(De=2&ln[0]?ce.return:ln[0]?ce.throw||((De=ce.return)&&De.call(ce),0):ce.next)&&!(De=De.call(ce,ln[1])).done)return De;switch(ce=0,De&&(ln=[2&ln[0],De.value]),ln[0]){case 0:case 1:De=ln;break;case 4:return O.label++,{value:ln[1],done:!1};case 5:O.label++,ce=ln[1],ln=[0];continue;case 7:ln=O.ops.pop(),O.trys.pop();continue;default:if(!(De=(De=O.trys).length>0&&De[De.length-1])&&(6===ln[0]||2===ln[0])){O=0;continue}if(3===ln[0]&&(!De||ln[1]>De[0]&&ln[1]<De[3])){O.label=ln[1];break}if(6===ln[0]&&O.label<De[1]){O.label=De[1],De=ln;break}if(De&&O.label<De[2]){O.label=De[2],O.ops.push(ln);break}De[2]&&O.ops.pop(),O.trys.pop();continue}ln=B.call(R,O)}catch(fn){ln=[6,fn],ce=0}finally{N=De=0}if(5&ln[0])throw ln[1];return{value:ln[0]?ln[1]:void 0,done:!0}}([ln,fn])}}}function ot(R,B,O){if(O||2===arguments.length)for(var De,N=0,ce=B.length;N<ce;N++)(De||!(N in B))&&(De||(De=Array.prototype.slice.call(B,0,N)),De[N]=B[N]);return R.concat(De||B)}for(var Z=function(){function R(B,O,N,ce){this.left=B,this.top=O,this.width=N,this.height=ce}return R.prototype.add=function(B,O,N,ce){return new R(this.left+B,this.top+O,this.width+N,this.height+ce)},R.fromClientRect=function(B,O){return new R(O.left+B.windowBounds.left,O.top+B.windowBounds.top,O.width,O.height)},R.fromDOMRectList=function(B,O){var N=Array.from(O).find(function(ce){return 0!==ce.width});return N?new R(N.left+B.windowBounds.left,N.top+B.windowBounds.top,N.width,N.height):R.EMPTY},R.EMPTY=new R(0,0,0,0),R}(),tt=function(R,B){return Z.fromClientRect(R,B.getBoundingClientRect())},Nt=function(R){for(var B=[],O=0,N=R.length;O<N;){var ce=R.charCodeAt(O++);if(ce>=55296&&ce<=56319&&O<N){var De=R.charCodeAt(O++);56320==(64512&De)?B.push(((1023&ce)<<10)+(1023&De)+65536):(B.push(ce),O--)}else B.push(ce)}return B},Ut=function(){for(var R=[],B=0;B<arguments.length;B++)R[B]=arguments[B];if(String.fromCodePoint)return String.fromCodePoint.apply(String,R);var O=R.length;if(!O)return"";for(var N=[],ce=-1,De="";++ce<O;){var Ge=R[ce];Ge<=65535?N.push(Ge):N.push(55296+((Ge-=65536)>>10),Ge%1024+56320),(ce+1===O||N.length>16384)&&(De+=String.fromCharCode.apply(String,N),N.length=0)}return De},Ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",et=typeof Uint8Array>"u"?[]:new Uint8Array(256),vt=0;vt<64;vt++)et[Ct.charCodeAt(vt)]=vt;for(var Mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ft=typeof Uint8Array>"u"?[]:new Uint8Array(256),An=0;An<64;An++)Ft[Mt.charCodeAt(An)]=An;for(var kn=function(R,B,O){return R.slice?R.slice(B,O):new Uint16Array(Array.prototype.slice.call(R,B,O))},Fe=function(){function R(B,O,N,ce,De,Ge){this.initialValue=B,this.errorValue=O,this.highStart=N,this.highValueIndex=ce,this.index=De,this.data=Ge}return R.prototype.get=function(B){var O;if(B>=0){if(B<55296||B>56319&&B<=65535)return this.data[O=((O=this.index[B>>5])<<2)+(31&B)];if(B<=65535)return this.data[O=((O=this.index[2048+(B-55296>>5)])<<2)+(31&B)];if(B<this.highStart)return O=this.index[O=2080+(B>>11)],this.data[O=((O=this.index[O+=B>>5&63])<<2)+(31&B)];if(B<=1114111)return this.data[this.highValueIndex]}return this.errorValue},R}(),Le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rt=typeof Uint8Array>"u"?[]:new Uint8Array(256),bn=0;bn<64;bn++)Rt[Le.charCodeAt(bn)]=bn;var O,N,ce,Ge,Et,Di=10,Pt=13,vn=15,si=17,lr=18,di=19,Hr=20,Er=21,ri=22,uo=24,_o=25,Ro=26,Mo=27,Zr=28,xi=30,Wo=32,Wr=33,cn=34,Co=35,ps=37,Jt=38,jt=39,Bn=40,Ye=42,St=[9001,65288],zt="\xd7",Nr=(O=function(R){var N,De,Ge,Et,ft,B=.75*R.length,O=R.length,ce=0;"="===R[R.length-1]&&(B--,"="===R[R.length-2]&&B--);var ln=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(B):new Array(B),fn=Array.isArray(ln)?ln:new Uint8Array(ln);for(N=0;N<O;N+=4)De=Ft[R.charCodeAt(N)],Ge=Ft[R.charCodeAt(N+1)],Et=Ft[R.charCodeAt(N+2)],ft=Ft[R.charCodeAt(N+3)],fn[ce++]=De<<2|Ge>>4,fn[ce++]=(15&Ge)<<4|Et>>2,fn[ce++]=(3&Et)<<6|63&ft;return ln}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),N=Array.isArray(O)?function(R){for(var B=R.length,O=[],N=0;N<B;N+=4)O.push(R[N+3]<<24|R[N+2]<<16|R[N+1]<<8|R[N]);return O}(O):new Uint32Array(O),ce=Array.isArray(O)?function(R){for(var B=R.length,O=[],N=0;N<B;N+=2)O.push(R[N+1]<<8|R[N]);return O}(O):new Uint16Array(O),Ge=kn(ce,12,N[4]/2),Et=2===N[5]?kn(ce,(24+N[4])/2):function(R,B,O){return R.slice?R.slice(B,O):new Uint32Array(Array.prototype.slice.call(R,B,O))}(N,Math.ceil((24+N[4])/4)),new Fe(N[0],N[1],N[2],N[3],Ge,Et)),qr=[xi,36],ji=[1,2,3,5],$o=[Di,8],ks=[Mo,Ro],ai=ji.concat($o),Fr=[Jt,jt,Bn,cn,Co],gs=[vn,Pt],Xs=function(R,B,O,N){var ce=N[O];if(Array.isArray(R)?-1!==R.indexOf(ce):R===ce)for(var De=O;De<=N.length;){if((Ge=N[++De])===B)return!0;if(Ge!==Di)break}if(ce===Di)for(De=O;De>0;){var Et=N[--De];if(Array.isArray(R)?-1!==R.indexOf(Et):R===Et)for(var ft=O;ft<=N.length;){var Ge;if((Ge=N[++ft])===B)return!0;if(Ge!==Di)break}if(Et!==Di)break}return!1},ml=function(R,B){for(var O=R;O>=0;){var N=B[O];if(N!==Di)return N;O--}return 0},nl=function(R,B,O,N,ce){if(0===O[N])return zt;var De=N-1;if(Array.isArray(ce)&&!0===ce[De])return zt;var Ge=De-1,Et=De+1,ft=B[De],ln=Ge>=0?B[Ge]:0,fn=B[Et];if(2===ft&&3===fn)return zt;if(-1!==ji.indexOf(ft))return"!";if(-1!==ji.indexOf(fn)||-1!==$o.indexOf(fn))return zt;if(8===ml(De,B))return"\xf7";if(11===Nr.get(R[De])||(ft===Wo||ft===Wr)&&11===Nr.get(R[Et])||7===ft||7===fn||9===ft||-1===[Di,Pt,vn].indexOf(ft)&&9===fn||-1!==[si,lr,di,uo,Zr].indexOf(fn)||ml(De,B)===ri||Xs(23,ri,De,B)||Xs([si,lr],Er,De,B)||Xs(12,12,De,B))return zt;if(ft===Di)return"\xf7";if(23===ft||23===fn)return zt;if(16===fn||16===ft)return"\xf7";if(-1!==[Pt,vn,Er].indexOf(fn)||14===ft||36===ln&&-1!==gs.indexOf(ft)||ft===Zr&&36===fn||fn===Hr||-1!==qr.indexOf(fn)&&ft===_o||-1!==qr.indexOf(ft)&&fn===_o||ft===Mo&&-1!==[ps,Wo,Wr].indexOf(fn)||-1!==[ps,Wo,Wr].indexOf(ft)&&fn===Ro||-1!==qr.indexOf(ft)&&-1!==ks.indexOf(fn)||-1!==ks.indexOf(ft)&&-1!==qr.indexOf(fn)||-1!==[Mo,Ro].indexOf(ft)&&(fn===_o||-1!==[ri,vn].indexOf(fn)&&B[Et+1]===_o)||-1!==[ri,vn].indexOf(ft)&&fn===_o||ft===_o&&-1!==[_o,Zr,uo].indexOf(fn))return zt;if(-1!==[_o,Zr,uo,si,lr].indexOf(fn))for(var Sn=De;Sn>=0;){if((On=B[Sn])===_o)return zt;if(-1===[Zr,uo].indexOf(On))break;Sn--}if(-1!==[Mo,Ro].indexOf(fn))for(Sn=-1!==[si,lr].indexOf(ft)?Ge:De;Sn>=0;){var On;if((On=B[Sn])===_o)return zt;if(-1===[Zr,uo].indexOf(On))break;Sn--}if(Jt===ft&&-1!==[Jt,jt,cn,Co].indexOf(fn)||-1!==[jt,cn].indexOf(ft)&&-1!==[jt,Bn].indexOf(fn)||-1!==[Bn,Co].indexOf(ft)&&fn===Bn||-1!==Fr.indexOf(ft)&&-1!==[Hr,Ro].indexOf(fn)||-1!==Fr.indexOf(fn)&&ft===Mo||-1!==qr.indexOf(ft)&&-1!==qr.indexOf(fn)||ft===uo&&-1!==qr.indexOf(fn)||-1!==qr.concat(_o).indexOf(ft)&&fn===ri&&-1===St.indexOf(R[Et])||-1!==qr.concat(_o).indexOf(fn)&&ft===lr)return zt;if(41===ft&&41===fn){for(var Lr=O[De],Ur=1;Lr>0&&41===B[--Lr];)Ur++;if(Ur%2!=0)return zt}return ft===Wo&&fn===Wr?zt:"\xf7"},Ao=function(R,B){B||(B={lineBreak:"normal",wordBreak:"normal"});var O=function(R,B){void 0===B&&(B="strict");var O=[],N=[],ce=[];return R.forEach(function(De,Ge){var Et=Nr.get(De);if(Et>50?(ce.push(!0),Et-=50):ce.push(!1),-1!==["normal","auto","loose"].indexOf(B)&&-1!==[8208,8211,12316,12448].indexOf(De))return N.push(Ge),O.push(16);if(4===Et||11===Et){if(0===Ge)return N.push(Ge),O.push(xi);var ft=O[Ge-1];return-1===ai.indexOf(ft)?(N.push(N[Ge-1]),O.push(ft)):(N.push(Ge),O.push(xi))}return N.push(Ge),31===Et?O.push("strict"===B?Er:ps):Et===Ye||29===Et?O.push(xi):43===Et?O.push(De>=131072&&De<=196605||De>=196608&&De<=262141?ps:xi):void O.push(Et)}),[N,O,ce]}(R,B.lineBreak),N=O[0],ce=O[1],De=O[2];return("break-all"===B.wordBreak||"break-word"===B.wordBreak)&&(ce=ce.map(function(Et){return-1!==[_o,xi,Ye].indexOf(Et)?ps:Et})),[N,ce,"keep-all"===B.wordBreak?De.map(function(Et,ft){return Et&&R[ft]>=19968&&R[ft]<=40959}):void 0]},vl=function(){function R(B,O,N,ce){this.codePoints=B,this.required="!"===O,this.start=N,this.end=ce}return R.prototype.slice=function(){return Ut.apply(void 0,this.codePoints.slice(this.start,this.end))},R}(),Tt=function(R){return R>=48&&R<=57},Zt=function(R){return Tt(R)||R>=65&&R<=70||R>=97&&R<=102},ir=function(R){return 10===R||9===R||32===R},_r=function(R){return function(R){return function(R){return R>=97&&R<=122}(R)||function(R){return R>=65&&R<=90}(R)}(R)||function(R){return R>=128}(R)||95===R},pi=function(R){return _r(R)||Tt(R)||45===R},Or=function(R){return R>=0&&R<=8||11===R||R>=14&&R<=31||127===R},qi=function(R,B){return 92===R&&10!==B},Ko=function(R,B,O){return 45===R?_r(B)||qi(B,O):!!_r(R)||!(92!==R||!qi(R,B))},Xi=function(R,B,O){return 43===R||45===R?!!Tt(B)||46===B&&Tt(O):Tt(46===R?B:R)},Qo=function(R){var B=0,O=1;(43===R[B]||45===R[B])&&(45===R[B]&&(O=-1),B++);for(var N=[];Tt(R[B]);)N.push(R[B++]);var ce=N.length?parseInt(Ut.apply(void 0,N),10):0;46===R[B]&&B++;for(var De=[];Tt(R[B]);)De.push(R[B++]);var Ge=De.length,Et=Ge?parseInt(Ut.apply(void 0,De),10):0;(69===R[B]||101===R[B])&&B++;var ft=1;(43===R[B]||45===R[B])&&(45===R[B]&&(ft=-1),B++);for(var ln=[];Tt(R[B]);)ln.push(R[B++]);var fn=ln.length?parseInt(Ut.apply(void 0,ln),10):0;return O*(ce+Et*Math.pow(10,-Ge))*Math.pow(10,ft*fn)},br={type:2},Gi={type:3},Ys={type:4},Ne={type:13},be={type:8},_t={type:21},Qt={type:9},an={type:10},Wn={type:11},wr={type:12},_i={type:14},Yr={type:23},Li={type:1},ii={type:25},ns={type:24},Js={type:26},Zs={type:27},oa={type:28},Cs={type:29},vs={type:31},Zo={type:32},rl=function(){function R(){this._value=[]}return R.prototype.write=function(B){this._value=this._value.concat(Nt(B))},R.prototype.read=function(){for(var B=[],O=this.consumeToken();O!==Zo;)B.push(O),O=this.consumeToken();return B},R.prototype.consumeToken=function(){var B=this.consumeCodePoint();switch(B){case 34:return this.consumeStringToken(34);case 35:var O=this.peekCodePoint(0),N=this.peekCodePoint(1),ce=this.peekCodePoint(2);if(pi(O)||qi(N,ce)){var De=Ko(O,N,ce)?2:1;return{type:5,value:this.consumeName(),flags:De}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ne;break;case 39:return this.consumeStringToken(39);case 40:return br;case 41:return Gi;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),_i;break;case 43:if(Xi(B,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(B),this.consumeNumericToken();break;case 44:return Ys;case 45:var Et=B,ft=this.peekCodePoint(0),ln=this.peekCodePoint(1);if(Xi(Et,ft,ln))return this.reconsumeCodePoint(B),this.consumeNumericToken();if(Ko(Et,ft,ln))return this.reconsumeCodePoint(B),this.consumeIdentLikeToken();if(45===ft&&62===ln)return this.consumeCodePoint(),this.consumeCodePoint(),ns;break;case 46:if(Xi(B,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(B),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var fn=this.consumeCodePoint();if(42===fn&&47===(fn=this.consumeCodePoint()))return this.consumeToken();if(-1===fn)return this.consumeToken()}break;case 58:return Js;case 59:return Zs;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),ii;break;case 64:var Sn=this.peekCodePoint(0),On=this.peekCodePoint(1),Lr=this.peekCodePoint(2);if(Ko(Sn,On,Lr))return{type:7,value:this.consumeName()};break;case 91:return oa;case 92:if(qi(B,this.peekCodePoint(0)))return this.reconsumeCodePoint(B),this.consumeIdentLikeToken();break;case 93:return Cs;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),be;break;case 123:return Wn;case 125:return wr;case 117:case 85:var Ur=this.peekCodePoint(0),ni=this.peekCodePoint(1);return 43===Ur&&(Zt(ni)||63===ni)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(B),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Qt;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),_t;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),an;break;case-1:return Zo}return ir(B)?(this.consumeWhiteSpace(),vs):Tt(B)?(this.reconsumeCodePoint(B),this.consumeNumericToken()):_r(B)?(this.reconsumeCodePoint(B),this.consumeIdentLikeToken()):{type:6,value:Ut(B)}},R.prototype.consumeCodePoint=function(){var B=this._value.shift();return typeof B>"u"?-1:B},R.prototype.reconsumeCodePoint=function(B){this._value.unshift(B)},R.prototype.peekCodePoint=function(B){return B>=this._value.length?-1:this._value[B]},R.prototype.consumeUnicodeRangeToken=function(){for(var B=[],O=this.consumeCodePoint();Zt(O)&&B.length<6;)B.push(O),O=this.consumeCodePoint();for(var N=!1;63===O&&B.length<6;)B.push(O),O=this.consumeCodePoint(),N=!0;if(N)return{type:30,start:parseInt(Ut.apply(void 0,B.map(function(ft){return 63===ft?48:ft})),16),end:parseInt(Ut.apply(void 0,B.map(function(ft){return 63===ft?70:ft})),16)};var Ge=parseInt(Ut.apply(void 0,B),16);if(45===this.peekCodePoint(0)&&Zt(this.peekCodePoint(1))){this.consumeCodePoint(),O=this.consumeCodePoint();for(var Et=[];Zt(O)&&Et.length<6;)Et.push(O),O=this.consumeCodePoint();return{type:30,start:Ge,end:parseInt(Ut.apply(void 0,Et),16)}}return{type:30,start:Ge,end:Ge}},R.prototype.consumeIdentLikeToken=function(){var B=this.consumeName();return"url"===B.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:B}):{type:20,value:B}},R.prototype.consumeUrlToken=function(){var B=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var O=this.peekCodePoint(0);if(39===O||34===O){var N=this.consumeStringToken(this.consumeCodePoint());return 0===N.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:N.value}):(this.consumeBadUrlRemnants(),Yr)}for(;;){var ce=this.consumeCodePoint();if(-1===ce||41===ce)return{type:22,value:Ut.apply(void 0,B)};if(ir(ce))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:Ut.apply(void 0,B)}):(this.consumeBadUrlRemnants(),Yr);if(34===ce||39===ce||40===ce||Or(ce))return this.consumeBadUrlRemnants(),Yr;if(92===ce){if(!qi(ce,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Yr;B.push(this.consumeEscapedCodePoint())}else B.push(ce)}},R.prototype.consumeWhiteSpace=function(){for(;ir(this.peekCodePoint(0));)this.consumeCodePoint()},R.prototype.consumeBadUrlRemnants=function(){for(;;){var B=this.consumeCodePoint();if(41===B||-1===B)return;qi(B,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},R.prototype.consumeStringSlice=function(B){for(var N="";B>0;){var ce=Math.min(5e4,B);N+=Ut.apply(void 0,this._value.splice(0,ce)),B-=ce}return this._value.shift(),N},R.prototype.consumeStringToken=function(B){for(var O="",N=0;;){var ce=this._value[N];if(-1===ce||void 0===ce||ce===B)return{type:0,value:O+=this.consumeStringSlice(N)};if(10===ce)return this._value.splice(0,N),Li;if(92===ce){var De=this._value[N+1];-1!==De&&void 0!==De&&(10===De?(O+=this.consumeStringSlice(N),N=-1,this._value.shift()):qi(ce,De)&&(O+=this.consumeStringSlice(N),O+=Ut(this.consumeEscapedCodePoint()),N=-1))}N++}},R.prototype.consumeNumber=function(){var B=[],O=4,N=this.peekCodePoint(0);for((43===N||45===N)&&B.push(this.consumeCodePoint());Tt(this.peekCodePoint(0));)B.push(this.consumeCodePoint());N=this.peekCodePoint(0);var ce=this.peekCodePoint(1);if(46===N&&Tt(ce))for(B.push(this.consumeCodePoint(),this.consumeCodePoint()),O=8;Tt(this.peekCodePoint(0));)B.push(this.consumeCodePoint());N=this.peekCodePoint(0),ce=this.peekCodePoint(1);var De=this.peekCodePoint(2);if((69===N||101===N)&&((43===ce||45===ce)&&Tt(De)||Tt(ce)))for(B.push(this.consumeCodePoint(),this.consumeCodePoint()),O=8;Tt(this.peekCodePoint(0));)B.push(this.consumeCodePoint());return[Qo(B),O]},R.prototype.consumeNumericToken=function(){var B=this.consumeNumber(),O=B[0],N=B[1],ce=this.peekCodePoint(0),De=this.peekCodePoint(1),Ge=this.peekCodePoint(2);return Ko(ce,De,Ge)?{type:15,number:O,flags:N,unit:this.consumeName()}:37===ce?(this.consumeCodePoint(),{type:16,number:O,flags:N}):{type:17,number:O,flags:N}},R.prototype.consumeEscapedCodePoint=function(){var B=this.consumeCodePoint();if(Zt(B)){for(var O=Ut(B);Zt(this.peekCodePoint(0))&&O.length<6;)O+=Ut(this.consumeCodePoint());ir(this.peekCodePoint(0))&&this.consumeCodePoint();var N=parseInt(O,16);return 0===N||function(R){return R>=55296&&R<=57343}(N)||N>1114111?65533:N}return-1===B?65533:B},R.prototype.consumeName=function(){for(var B="";;){var O=this.consumeCodePoint();if(pi(O))B+=Ut(O);else{if(!qi(O,this.peekCodePoint(0)))return this.reconsumeCodePoint(O),B;B+=Ut(this.consumeEscapedCodePoint())}}},R}(),Ls=function(){function R(B){this._tokens=B}return R.create=function(B){var O=new rl;return O.write(B),new R(O.read())},R.parseValue=function(B){return R.create(B).parseComponentValue()},R.parseValues=function(B){return R.create(B).parseComponentValues()},R.prototype.parseComponentValue=function(){for(var B=this.consumeToken();31===B.type;)B=this.consumeToken();if(32===B.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(B);var O=this.consumeComponentValue();do{B=this.consumeToken()}while(31===B.type);if(32===B.type)return O;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},R.prototype.parseComponentValues=function(){for(var B=[];;){var O=this.consumeComponentValue();if(32===O.type)return B;B.push(O),B.push()}},R.prototype.consumeComponentValue=function(){var B=this.consumeToken();switch(B.type){case 11:case 28:case 2:return this.consumeSimpleBlock(B.type);case 19:return this.consumeFunction(B)}return B},R.prototype.consumeSimpleBlock=function(B){for(var O={type:B,values:[]},N=this.consumeToken();;){if(32===N.type||Ae(N,B))return O;this.reconsumeToken(N),O.values.push(this.consumeComponentValue()),N=this.consumeToken()}},R.prototype.consumeFunction=function(B){for(var O={name:B.value,values:[],type:18};;){var N=this.consumeToken();if(32===N.type||3===N.type)return O;this.reconsumeToken(N),O.values.push(this.consumeComponentValue())}},R.prototype.consumeToken=function(){var B=this._tokens.shift();return typeof B>"u"?Zo:B},R.prototype.reconsumeToken=function(B){this._tokens.unshift(B)},R}(),xs=function(R){return 15===R.type},fo=function(R){return 17===R.type},Zi=function(R){return 20===R.type},Pa=function(R){return 0===R.type},_s=function(R,B){return Zi(R)&&R.value===B},Na=function(R){return 31!==R.type},ul=function(R){return 31!==R.type&&4!==R.type},Ie=function(R){var B=[],O=[];return R.forEach(function(N){if(4===N.type){if(0===O.length)throw new Error("Error parsing function args, zero tokens for arg");return B.push(O),void(O=[])}31!==N.type&&O.push(N)}),O.length&&B.push(O),B},Ae=function(R,B){return 11===B&&12===R.type||28===B&&29===R.type||2===B&&3===R.type},qe=function(R){return 17===R.type||15===R.type},Ee=function(R){return 16===R.type||qe(R)},pt=function(R){return R.length>1?[R[0],R[1]]:[R[0]]},cr={type:17,number:0,flags:4},Bi={type:16,number:50,flags:4},ki={type:16,number:100,flags:4},La=function(R,B,O){var N=R[0],ce=R[1];return[lo(N,B),lo(typeof ce<"u"?ce:N,O)]},lo=function(R,B){if(16===R.type)return R.number/100*B;if(xs(R))switch(R.unit){case"rem":case"em":return 16*R.number;default:return R.number}return R.number},Al_parse=function(R,B){if(15===B.type)switch(B.unit){case"deg":return Math.PI*B.number/180;case"grad":return Math.PI/200*B.number;case"rad":return B.number;case"turn":return 2*Math.PI*B.number}throw new Error("Unsupported angle type")},mc=function(R){return 15===R.type&&("deg"===R.unit||"grad"===R.unit||"rad"===R.unit||"turn"===R.unit)},_a=function(R){switch(R.filter(Zi).map(function(O){return O.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[cr,cr];case"to top":case"bottom":return Ua(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[cr,ki];case"to right":case"left":return Ua(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ki,ki];case"to bottom":case"top":return Ua(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ki,cr];case"to left":case"right":return Ua(270)}return 0},Ua=function(R){return Math.PI*R/180},Nl_parse=function(R,B){if(18===B.type){var O=Rs[B.name];if(typeof O>"u")throw new Error('Attempting to parse an unsupported color function "'+B.name+'"');return O(R,B.values)}if(5===B.type){if(3===B.value.length){var N=B.value.substring(0,1),ce=B.value.substring(1,2),De=B.value.substring(2,3);return Is(parseInt(N+N,16),parseInt(ce+ce,16),parseInt(De+De,16),1)}if(4===B.value.length){N=B.value.substring(0,1),ce=B.value.substring(1,2),De=B.value.substring(2,3);var Ge=B.value.substring(3,4);return Is(parseInt(N+N,16),parseInt(ce+ce,16),parseInt(De+De,16),parseInt(Ge+Ge,16)/255)}if(6===B.value.length)return N=B.value.substring(0,2),ce=B.value.substring(2,4),De=B.value.substring(4,6),Is(parseInt(N,16),parseInt(ce,16),parseInt(De,16),1);if(8===B.value.length)return N=B.value.substring(0,2),ce=B.value.substring(2,4),De=B.value.substring(4,6),Ge=B.value.substring(6,8),Is(parseInt(N,16),parseInt(ce,16),parseInt(De,16),parseInt(Ge,16)/255)}if(20===B.type){var Et=il[B.value.toUpperCase()];if(typeof Et<"u")return Et}return il.TRANSPARENT},tc=function(R){return!(255&R)},fi=function(R){var B=255&R,O=255&R>>8,N=255&R>>16,ce=255&R>>24;return B<255?"rgba("+ce+","+N+","+O+","+B/255+")":"rgb("+ce+","+N+","+O+")"},Is=function(R,B,O,N){return(R<<24|B<<16|O<<8|Math.round(255*N))>>>0},$i=function(R,B){if(17===R.type)return R.number;if(16===R.type){var O=3===B?1:255;return 3===B?R.number/100*O:Math.round(R.number/100*O)}return 0},Wa=function(R,B){var O=B.filter(ul);if(3===O.length){var N=O.map($i);return Is(N[0],N[1],N[2],1)}if(4===O.length){var Et=O.map($i);return Is(Et[0],Et[1],Et[2],Et[3])}return 0};function ea(R,B,O){return O<0&&(O+=1),O>=1&&(O-=1),O<1/6?(B-R)*O*6+R:O<.5?B:O<2/3?6*(B-R)*(2/3-O)+R:R}var ci=function(R,B){var O=B.filter(ul),N=O[0],ce=O[1],De=O[2],Ge=O[3],Et=(17===N.type?Ua(N.number):Al_parse(R,N))/(2*Math.PI),ft=Ee(ce)?ce.number/100:0,ln=Ee(De)?De.number/100:0,fn=typeof Ge<"u"&&Ee(Ge)?lo(Ge,1):1;if(0===ft)return Is(255*ln,255*ln,255*ln,1);var Sn=ln<=.5?ln*(ft+1):ln+ft-ln*ft,On=2*ln-Sn,Lr=ea(On,Sn,Et+1/3),Ur=ea(On,Sn,Et),ni=ea(On,Sn,Et-1/3);return Is(255*Lr,255*Ur,255*ni,fn)},Rs={hsl:ci,hsla:ci,rgb:Wa,rgba:Wa},ya=function(R,B){return Nl_parse(R,Ls.create(B).parseComponentValue())},il={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ou={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(R,B){return B.map(function(O){if(Zi(O))switch(O.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},rs={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},sa=function(R,B){var O=Nl_parse(R,B[0]),N=B[1];return N&&Ee(N)?{color:O,stop:N}:{color:O,stop:null}},Gl=function(R,B){var O=R[0],N=R[R.length-1];null===O.stop&&(O.stop=cr),null===N.stop&&(N.stop=ki);for(var ce=[],De=0,Ge=0;Ge<R.length;Ge++){var Et=R[Ge].stop;if(null!==Et){var ft=lo(Et,B);ce.push(ft>De?ft:De),De=ft}else ce.push(null)}var ln=null;for(Ge=0;Ge<ce.length;Ge++){var fn=ce[Ge];if(null===fn)null===ln&&(ln=Ge);else if(null!==ln){for(var Sn=Ge-ln,Lr=(fn-ce[ln-1])/(Sn+1),Ur=1;Ur<=Sn;Ur++)ce[ln+Ur-1]=Lr*Ur;ln=null}}return R.map(function(ni,Uo){return{color:ni.color,stop:Math.max(Math.min(1,ce[Uo]/B),0)}})},lc=function(R,B,O){var N="number"==typeof R?R:function(R,B,O){var N=B/2,ce=O/2,De=lo(R[0],B)-N,Ge=ce-lo(R[1],O);return(Math.atan2(Ge,De)+2*Math.PI)%(2*Math.PI)}(R,B,O),ce=Math.abs(B*Math.sin(N))+Math.abs(O*Math.cos(N)),De=B/2,Ge=O/2,Et=ce/2,ft=Math.sin(N-Math.PI/2)*Et,ln=Math.cos(N-Math.PI/2)*Et;return[ce,De-ln,De+ln,Ge-ft,Ge+ft]},qa=function(R,B){return Math.sqrt(R*R+B*B)},ol=function(R,B,O,N,ce){return[[0,0],[0,B],[R,0],[R,B]].reduce(function(Ge,Et){var fn=qa(O-Et[0],N-Et[1]);return(ce?fn<Ge.optimumDistance:fn>Ge.optimumDistance)?{optimumCorner:Et,optimumDistance:fn}:Ge},{optimumDistance:ce?1/0:-1/0,optimumCorner:null}).optimumCorner},bs=function(R,B){var O=Ua(180),N=[];return Ie(B).forEach(function(ce,De){if(0===De){var Ge=ce[0];if(20===Ge.type&&-1!==["top","left","right","bottom"].indexOf(Ge.value))return void(O=_a(ce));if(mc(Ge))return void(O=(Al_parse(R,Ge)+Ua(270))%Ua(360))}var Et=sa(R,ce);N.push(Et)}),{angle:O,stops:N,type:1}},wa="closest-side",Sl="farthest-side",Kl="closest-corner",su="farthest-corner",Us="ellipse",Xa="contain",_c=function(R,B){var O=0,N=3,ce=[],De=[];return Ie(B).forEach(function(Ge,Et){var ft=!0;if(0===Et?ft=Ge.reduce(function(fn,Sn){if(Zi(Sn))switch(Sn.value){case"center":return De.push(Bi),!1;case"top":case"left":return De.push(cr),!1;case"right":case"bottom":return De.push(ki),!1}else if(Ee(Sn)||qe(Sn))return De.push(Sn),!1;return fn},ft):1===Et&&(ft=Ge.reduce(function(fn,Sn){if(Zi(Sn))switch(Sn.value){case"circle":return O=0,!1;case Us:return O=1,!1;case Xa:case wa:return N=0,!1;case Sl:return N=1,!1;case Kl:return N=2,!1;case"cover":case su:return N=3,!1}else if(qe(Sn)||Ee(Sn))return Array.isArray(N)||(N=[]),N.push(Sn),!1;return fn},ft)),ft){var ln=sa(R,Ge);ce.push(ln)}}),{size:N,shape:O,stops:ce,position:De,type:2}},zc_parse=function(R,B){if(22===B.type){var O={url:B.value,type:0};return R.cache.addImage(B.value),O}if(18===B.type){var N=Ml[B.name];if(typeof N>"u")throw new Error('Attempting to parse an unsupported image function "'+B.name+'"');return N(R,B.values)}throw new Error("Unsupported image type "+B.type)};for(var Ml={"linear-gradient":function(R,B){var O=Ua(180),N=[];return Ie(B).forEach(function(ce,De){if(0===De){var Ge=ce[0];if(20===Ge.type&&"to"===Ge.value)return void(O=_a(ce));if(mc(Ge))return void(O=Al_parse(R,Ge))}var Et=sa(R,ce);N.push(Et)}),{angle:O,stops:N,type:1}},"-moz-linear-gradient":bs,"-ms-linear-gradient":bs,"-o-linear-gradient":bs,"-webkit-linear-gradient":bs,"radial-gradient":function(R,B){var O=0,N=3,ce=[],De=[];return Ie(B).forEach(function(Ge,Et){var ft=!0;if(0===Et){var ln=!1;ft=Ge.reduce(function(Sn,On){if(ln)if(Zi(On))switch(On.value){case"center":return De.push(Bi),Sn;case"top":case"left":return De.push(cr),Sn;case"right":case"bottom":return De.push(ki),Sn}else(Ee(On)||qe(On))&&De.push(On);else if(Zi(On))switch(On.value){case"circle":return O=0,!1;case Us:return O=1,!1;case"at":return ln=!0,!1;case wa:return N=0,!1;case"cover":case Sl:return N=1,!1;case Xa:case Kl:return N=2,!1;case su:return N=3,!1}else if(qe(On)||Ee(On))return Array.isArray(N)||(N=[]),N.push(On),!1;return Sn},ft)}if(ft){var fn=sa(R,Ge);ce.push(fn)}}),{size:N,shape:O,stops:ce,position:De,type:2}},"-moz-radial-gradient":_c,"-ms-radial-gradient":_c,"-o-radial-gradient":_c,"-webkit-radial-gradient":_c,"-webkit-gradient":function(R,B){var O=Ua(180),N=[],ce=1;return Ie(B).forEach(function(ft,ln){var fn=ft[0];if(0===ln){if(Zi(fn)&&"linear"===fn.value)return void(ce=1);if(Zi(fn)&&"radial"===fn.value)return void(ce=2)}if(18===fn.type)if("from"===fn.name){var Sn=Nl_parse(R,fn.values[0]);N.push({stop:cr,color:Sn})}else if("to"===fn.name)Sn=Nl_parse(R,fn.values[0]),N.push({stop:ki,color:Sn});else if("color-stop"===fn.name){var On=fn.values.filter(ul);if(2===On.length){Sn=Nl_parse(R,On[1]);var Lr=On[0];fo(Lr)&&N.push({stop:{type:16,number:100*Lr.number,flags:Lr.flags},color:Sn})}}}),1===ce?{angle:(O+Ua(180))%Ua(360),stops:N,type:ce}:{size:3,shape:0,stops:N,position:[],type:ce}}},au={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(R,B){if(0===B.length)return[];var O=B[0];return 20===O.type&&"none"===O.value?[]:B.filter(function(N){return ul(N)&&function Va(R){return!(20===R.type&&"none"===R.value||18===R.type&&!Ml[R.name])}(N)}).map(function(N){return zc_parse(R,N)})}},j={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(R,B){return B.map(function(O){if(Zi(O))switch(O.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},J={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(R,B){return Ie(B).map(function(O){return O.filter(Ee)}).map(pt)}},_e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(R,B){return Ie(B).map(function(O){return O.filter(Zi).map(function(N){return N.value}).join(" ")}).map(V)}},V=function(R){switch(R){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},ge=function(R){return R.AUTO="auto",R.CONTAIN="contain",R.COVER="cover",R}(ge||{}),x={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(R,B){return Ie(B).map(function(O){return O.filter(ne)})}},ne=function(R){return Zi(R)||Ee(R)},je=function(R){return{name:"border-"+R+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},se=je("top"),Ve=je("right"),ut=je("bottom"),jn=je("left"),mr=function(R){return{name:"border-radius-"+R,initialValue:"0 0",prefix:!1,type:1,parse:function(B,O){return pt(O.filter(Ee))}}},Ui=mr("top-left"),oo=mr("top-right"),Fo=mr("bottom-right"),Do=mr("bottom-left"),Lo=function(R){return{name:"border-"+R+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(B,O){switch(O){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Go=Lo("top"),Ks=Lo("right"),es=Lo("bottom"),Br=Lo("left"),wi=function(R){return{name:"border-"+R+"-width",initialValue:"0",type:0,prefix:!1,parse:function(B,O){return xs(O)?O.number:0}}},is=wi("top"),da=wi("right"),ls=wi("bottom"),dl=wi("left"),lu={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ds={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(R,B){return"rtl"===B?1:0}},xo={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(R,B){return B.filter(Zi).reduce(function(O,N){return O|Ea(N.value)},0)}},Ea=function(R){switch(R){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},wo={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(R,B){switch(B){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},_u={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(R,B){return 20===B.type&&"normal"===B.value?0:17===B.type||15===B.type?B.number:0}},cu=function(R){return R.NORMAL="normal",R.STRICT="strict",R}(cu||{}),nc={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(R,B){return"strict"===B?cu.STRICT:cu.NORMAL}},Fa={name:"line-height",initialValue:"normal",prefix:!1,type:4},$c=function(R,B){return Zi(R)&&"normal"===R.value?1.2*B:17===R.type?B*R.number:Ee(R)?lo(R,B):B},ha={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(R,B){return 20===B.type&&"none"===B.value?null:zc_parse(R,B)}},xc={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(R,B){return"inside"===B?0:1}},uu={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(R,B){switch(B){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},lA=function(R){return{name:"margin-"+R,initialValue:"0",prefix:!1,type:4}},wc=lA("top"),Tl=lA("right"),Wl=lA("bottom"),so=lA("left"),Ku={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(R,B){return B.filter(Zi).map(function(O){switch(O.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},YA={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(R,B){return"break-word"===B?"break-word":"normal"}},Ya=function(R){return{name:"padding-"+R,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},OA=Ya("top"),fa=Ya("right"),aa=Ya("bottom"),Gc=Ya("left"),hl={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(R,B){switch(B){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Bl={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(R,B){switch(B){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},md={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(R,B){return 1===B.length&&_s(B[0],"none")?[]:Ie(B).map(function(O){for(var N={color:il.TRANSPARENT,offsetX:cr,offsetY:cr,blur:cr},ce=0,De=0;De<O.length;De++){var Ge=O[De];qe(Ge)?(0===ce?N.offsetX=Ge:1===ce?N.offsetY=Ge:N.blur=Ge,ce++):N.color=Nl_parse(R,Ge)}return N})}},yu={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(R,B){switch(B){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},JA={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(R,B){if(20===B.type&&"none"===B.value)return null;if(18===B.type){var O=wu[B.name];if(typeof O>"u")throw new Error('Attempting to parse an unsupported transform function "'+B.name+'"');return O(B.values)}return null}},wu={matrix:function(R){var B=R.filter(function(O){return 17===O.type}).map(function(O){return O.number});return 6===B.length?B:null},matrix3d:function(R){var B=R.filter(function(ft){return 17===ft.type}).map(function(ft){return ft.number});return 16===B.length?[B[0],B[1],B[4],B[5],B[12],B[13]]:null}},Au={type:16,number:50,flags:4},Wu=[Au,Au],vh={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(R,B){var O=B.filter(Ee);return 2!==O.length?Wu:[O[0],O[1]]}},Eu={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(R,B){switch(B){case"hidden":return 1;case"collapse":return 2;default:return 0}}},cc=function(R){return R.NORMAL="normal",R.BREAK_ALL="break-all",R.KEEP_ALL="keep-all",R}(cc||{}),Kd={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(R,B){switch(B){case"break-all":return cc.BREAK_ALL;case"keep-all":return cc.KEEP_ALL;default:return cc.NORMAL}}},_h={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(R,B){if(20===B.type)return{auto:!0,order:0};if(fo(B))return{auto:!1,order:B.number};throw new Error("Invalid z-index number parsed")}},cA={name:"time",parse:function(R,B){if(15===B.type)switch(B.unit.toLowerCase()){case"s":return 1e3*B.number;case"ms":return B.number}throw new Error("Unsupported time type")}},Rc={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(R,B){return fo(B)?B.number:1}},yh={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},uA={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(R,B){return B.filter(Zi).map(function(O){switch(O.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(O){return 0!==O})}},Xh={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(R,B){var O=[],N=[];return B.forEach(function(ce){switch(ce.type){case 20:case 0:O.push(ce.value);break;case 17:O.push(ce.number.toString());break;case 4:N.push(O.join(" ")),O.length=0}}),O.length&&N.push(O.join(" ")),N.map(function(ce){return-1===ce.indexOf(" ")?ce:"'"+ce+"'"})}},Kc={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},AA={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(R,B){return fo(B)?B.number:Zi(B)&&"bold"===B.value?700:400}},qu={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(R,B){return B.filter(Zi).map(function(O){return O.value})}},dA={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(R,B){switch(B){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},al=function(R,B){return!!(R&B)},Wd={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(R,B){if(0===B.length)return[];var O=B[0];return 20===O.type&&"none"===O.value?[]:B}},L={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(R,B){if(0===B.length)return null;var O=B[0];if(20===O.type&&"none"===O.value)return null;for(var N=[],ce=B.filter(Na),De=0;De<ce.length;De++){var Ge=ce[De],Et=ce[De+1];if(20===Ge.type){var ft=Et&&fo(Et)?Et.number:1;N.push({counter:Ge.value,increment:ft})}}return N}},q={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(R,B){if(0===B.length)return[];for(var O=[],N=B.filter(Na),ce=0;ce<N.length;ce++){var De=N[ce],Ge=N[ce+1];if(Zi(De)&&"none"!==De.value){var Et=Ge&&fo(Ge)?Ge.number:0;O.push({counter:De.value,reset:Et})}}return O}},ie={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(R,B){return B.filter(xs).map(function(O){return cA.parse(R,O)})}},W={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(R,B){if(0===B.length)return null;var O=B[0];if(20===O.type&&"none"===O.value)return null;var N=[],ce=B.filter(Pa);if(ce.length%2!=0)return null;for(var De=0;De<ce.length;De+=2)N.push({open:ce[De].value,close:ce[De+1].value});return N}},ue=function(R,B,O){if(!R)return"";var N=R[Math.min(B,R.length-1)];return N?O?N.open:N.close:""},He={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(R,B){return 1===B.length&&_s(B[0],"none")?[]:Ie(B).map(function(O){for(var N={color:255,offsetX:cr,offsetY:cr,blur:cr,spread:cr,inset:!1},ce=0,De=0;De<O.length;De++){var Ge=O[De];_s(Ge,"inset")?N.inset=!0:qe(Ge)?(0===ce?N.offsetX=Ge:1===ce?N.offsetY=Ge:2===ce?N.blur=Ge:N.spread=Ge,ce++):N.color=Nl_parse(R,Ge)}return N})}},lt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(R,B){var N=[];return B.filter(Zi).forEach(function(ce){switch(ce.value){case"stroke":N.push(1);break;case"fill":N.push(0);break;case"markers":N.push(2)}}),[0,1,2].forEach(function(ce){-1===N.indexOf(ce)&&N.push(ce)}),N}},yn={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Zn={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(R,B){return xs(B)?B.number:0}},In=function(){function R(B,O){var N,ce;this.animationDuration=Cr(B,ie,O.animationDuration),this.backgroundClip=Cr(B,ou,O.backgroundClip),this.backgroundColor=Cr(B,rs,O.backgroundColor),this.backgroundImage=Cr(B,au,O.backgroundImage),this.backgroundOrigin=Cr(B,j,O.backgroundOrigin),this.backgroundPosition=Cr(B,J,O.backgroundPosition),this.backgroundRepeat=Cr(B,_e,O.backgroundRepeat),this.backgroundSize=Cr(B,x,O.backgroundSize),this.borderTopColor=Cr(B,se,O.borderTopColor),this.borderRightColor=Cr(B,Ve,O.borderRightColor),this.borderBottomColor=Cr(B,ut,O.borderBottomColor),this.borderLeftColor=Cr(B,jn,O.borderLeftColor),this.borderTopLeftRadius=Cr(B,Ui,O.borderTopLeftRadius),this.borderTopRightRadius=Cr(B,oo,O.borderTopRightRadius),this.borderBottomRightRadius=Cr(B,Fo,O.borderBottomRightRadius),this.borderBottomLeftRadius=Cr(B,Do,O.borderBottomLeftRadius),this.borderTopStyle=Cr(B,Go,O.borderTopStyle),this.borderRightStyle=Cr(B,Ks,O.borderRightStyle),this.borderBottomStyle=Cr(B,es,O.borderBottomStyle),this.borderLeftStyle=Cr(B,Br,O.borderLeftStyle),this.borderTopWidth=Cr(B,is,O.borderTopWidth),this.borderRightWidth=Cr(B,da,O.borderRightWidth),this.borderBottomWidth=Cr(B,ls,O.borderBottomWidth),this.borderLeftWidth=Cr(B,dl,O.borderLeftWidth),this.boxShadow=Cr(B,He,O.boxShadow),this.color=Cr(B,lu,O.color),this.direction=Cr(B,ds,O.direction),this.display=Cr(B,xo,O.display),this.float=Cr(B,wo,O.cssFloat),this.fontFamily=Cr(B,Xh,O.fontFamily),this.fontSize=Cr(B,Kc,O.fontSize),this.fontStyle=Cr(B,dA,O.fontStyle),this.fontVariant=Cr(B,qu,O.fontVariant),this.fontWeight=Cr(B,AA,O.fontWeight),this.letterSpacing=Cr(B,_u,O.letterSpacing),this.lineBreak=Cr(B,nc,O.lineBreak),this.lineHeight=Cr(B,Fa,O.lineHeight),this.listStyleImage=Cr(B,ha,O.listStyleImage),this.listStylePosition=Cr(B,xc,O.listStylePosition),this.listStyleType=Cr(B,uu,O.listStyleType),this.marginTop=Cr(B,wc,O.marginTop),this.marginRight=Cr(B,Tl,O.marginRight),this.marginBottom=Cr(B,Wl,O.marginBottom),this.marginLeft=Cr(B,so,O.marginLeft),this.opacity=Cr(B,Rc,O.opacity);var De=Cr(B,Ku,O.overflow);this.overflowX=De[0],this.overflowY=De[De.length>1?1:0],this.overflowWrap=Cr(B,YA,O.overflowWrap),this.paddingTop=Cr(B,OA,O.paddingTop),this.paddingRight=Cr(B,fa,O.paddingRight),this.paddingBottom=Cr(B,aa,O.paddingBottom),this.paddingLeft=Cr(B,Gc,O.paddingLeft),this.paintOrder=Cr(B,lt,O.paintOrder),this.position=Cr(B,Bl,O.position),this.textAlign=Cr(B,hl,O.textAlign),this.textDecorationColor=Cr(B,yh,null!==(N=O.textDecorationColor)&&void 0!==N?N:O.color),this.textDecorationLine=Cr(B,uA,null!==(ce=O.textDecorationLine)&&void 0!==ce?ce:O.textDecoration),this.textShadow=Cr(B,md,O.textShadow),this.textTransform=Cr(B,yu,O.textTransform),this.transform=Cr(B,JA,O.transform),this.transformOrigin=Cr(B,vh,O.transformOrigin),this.visibility=Cr(B,Eu,O.visibility),this.webkitTextStrokeColor=Cr(B,yn,O.webkitTextStrokeColor),this.webkitTextStrokeWidth=Cr(B,Zn,O.webkitTextStrokeWidth),this.wordBreak=Cr(B,Kd,O.wordBreak),this.zIndex=Cr(B,_h,O.zIndex)}return R.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},R.prototype.isTransparent=function(){return tc(this.backgroundColor)},R.prototype.isTransformed=function(){return null!==this.transform},R.prototype.isPositioned=function(){return 0!==this.position},R.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},R.prototype.isFloating=function(){return 0!==this.float},R.prototype.isInlineLevel=function(){return al(this.display,4)||al(this.display,33554432)||al(this.display,268435456)||al(this.display,536870912)||al(this.display,67108864)||al(this.display,134217728)},R}(),oi=function(){return function R(B,O){this.content=Cr(B,Wd,O.content),this.quotes=Cr(B,W,O.quotes)}}(),to=function(){return function R(B,O){this.counterIncrement=Cr(B,L,O.counterIncrement),this.counterReset=Cr(B,q,O.counterReset)}}(),Cr=function(R,B,O){var N=new rl,ce=null!==O&&typeof O<"u"?O.toString():B.initialValue;N.write(ce);var De=new Ls(N.read());switch(B.type){case 2:var Ge=De.parseComponentValue();return B.parse(R,Zi(Ge)?Ge.value:B.initialValue);case 0:return B.parse(R,De.parseComponentValue());case 1:return B.parse(R,De.parseComponentValues());case 4:return De.parseComponentValue();case 3:switch(B.format){case"angle":return Al_parse(R,De.parseComponentValue());case"color":return Nl_parse(R,De.parseComponentValue());case"image":return zc_parse(R,De.parseComponentValue());case"length":var Et=De.parseComponentValue();return qe(Et)?Et:cr;case"length-percentage":var ft=De.parseComponentValue();return Ee(ft)?ft:cr;case"time":return cA.parse(R,De.parseComponentValue())}}},Vs=function(R,B){var O=function(R){switch(R.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(R);return 1===O||B===O},Ns=function(){return function R(B,O){this.context=B,this.textNodes=[],this.elements=[],this.flags=0,Vs(O,3),this.styles=new In(B,window.getComputedStyle(O,null)),td(O)&&(this.styles.animationDuration.some(function(N){return N>0})&&(O.style.animationDuration="0s"),null!==this.styles.transform&&(O.style.transform="none")),this.bounds=tt(this.context,O),Vs(O,4)&&(this.flags|=16)}}(),Wc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uc=typeof Uint8Array>"u"?[]:new Uint8Array(256),Xu=0;Xu<64;Xu++)uc[Wc.charCodeAt(Xu)]=Xu;for(var Qs=function(R,B,O){return R.slice?R.slice(B,O):new Uint16Array(Array.prototype.slice.call(R,B,O))},pa=function(){function R(B,O,N,ce,De,Ge){this.initialValue=B,this.errorValue=O,this.highStart=N,this.highValueIndex=ce,this.index=De,this.data=Ge}return R.prototype.get=function(B){var O;if(B>=0){if(B<55296||B>56319&&B<=65535)return this.data[O=((O=this.index[B>>5])<<2)+(31&B)];if(B<=65535)return this.data[O=((O=this.index[2048+(B-55296>>5)])<<2)+(31&B)];if(B<this.highStart)return O=this.index[O=2080+(B>>11)],this.data[O=((O=this.index[O+=B>>5&63])<<2)+(31&B)];if(B<=1114111)return this.data[this.highValueIndex]}return this.errorValue},R}(),So="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bu=typeof Uint8Array>"u"?[]:new Uint8Array(256),Xc=0;Xc<64;Xc++)Bu[So.charCodeAt(Xc)]=Xc;var yd=8,qd=9,wd=11,sr=12,Ed=function(){for(var R=[],B=0;B<arguments.length;B++)R[B]=arguments[B];if(String.fromCodePoint)return String.fromCodePoint.apply(String,R);var O=R.length;if(!O)return"";for(var N=[],ce=-1,De="";++ce<O;){var Ge=R[ce];Ge<=65535?N.push(Ge):N.push(55296+((Ge-=65536)>>10),Ge%1024+56320),(ce+1===O||N.length>16384)&&(De+=String.fromCharCode.apply(String,N),N.length=0)}return De},Ol=function(R,B){var O=function(R){var N,De,Ge,Et,ft,B=.75*R.length,O=R.length,ce=0;"="===R[R.length-1]&&(B--,"="===R[R.length-2]&&B--);var ln=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(B):new Array(B),fn=Array.isArray(ln)?ln:new Uint8Array(ln);for(N=0;N<O;N+=4)De=uc[R.charCodeAt(N)],Ge=uc[R.charCodeAt(N+1)],Et=uc[R.charCodeAt(N+2)],ft=uc[R.charCodeAt(N+3)],fn[ce++]=De<<2|Ge>>4,fn[ce++]=(15&Ge)<<4|Et>>2,fn[ce++]=(3&Et)<<6|63&ft;return ln}(R),N=Array.isArray(O)?function(R){for(var B=R.length,O=[],N=0;N<B;N+=4)O.push(R[N+3]<<24|R[N+2]<<16|R[N+1]<<8|R[N]);return O}(O):new Uint32Array(O),ce=Array.isArray(O)?function(R){for(var B=R.length,O=[],N=0;N<B;N+=2)O.push(R[N+1]<<8|R[N]);return O}(O):new Uint16Array(O),Ge=Qs(ce,12,N[4]/2),Et=2===N[5]?Qs(ce,(24+N[4])/2):function(R,B,O){return R.slice?R.slice(B,O):new Uint32Array(Array.prototype.slice.call(R,B,O))}(N,Math.ceil((24+N[4])/4));return new pa(N[0],N[1],N[2],N[3],Ge,Et)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),Nc=function(R){return Ol.get(R)},Cd=function(R,B,O){var N=O-2,ce=B[N],De=B[O-1],Ge=B[O];if(2===De&&3===Ge)return"\xd7";if(2===De||3===De||4===De||2===Ge||3===Ge||4===Ge)return"\xf7";if(De===yd&&-1!==[yd,qd,wd,sr].indexOf(Ge)||(De===wd||De===qd)&&(Ge===qd||10===Ge)||(De===sr||10===De)&&10===Ge||13===Ge||5===Ge||7===Ge||1===De)return"\xd7";if(13===De&&14===Ge){for(;5===ce;)ce=B[--N];if(14===ce)return"\xd7"}if(15===De&&15===Ge){for(var Et=0;15===ce;)Et++,ce=B[--N];if(Et%2==0)return"\xd7"}return"\xf7"},Hl=function(R){var B=function(R){for(var B=[],O=0,N=R.length;O<N;){var ce=R.charCodeAt(O++);if(ce>=55296&&ce<=56319&&O<N){var De=R.charCodeAt(O++);56320==(64512&De)?B.push(((1023&ce)<<10)+(1023&De)+65536):(B.push(ce),O--)}else B.push(ce)}return B}(R),O=B.length,N=0,ce=0,De=B.map(Nc);return{next:function(){if(N>=O)return{done:!0,value:null};for(var Ge="\xd7";N<O&&"\xd7"===(Ge=Cd(0,De,++N)););if("\xd7"!==Ge||N===O){var Et=Ed.apply(null,B.slice(ce,N));return ce=N,{value:Et,done:!1}}return{done:!0,value:null}}}},Ei=function(R){return 0===R[0]&&255===R[1]&&0===R[2]&&255===R[3]},bd=function(R,B,O,N,ce){var De="http://www.w3.org/2000/svg",Ge=document.createElementNS(De,"svg"),Et=document.createElementNS(De,"foreignObject");return Ge.setAttributeNS(null,"width",R.toString()),Ge.setAttributeNS(null,"height",B.toString()),Et.setAttributeNS(null,"width","100%"),Et.setAttributeNS(null,"height","100%"),Et.setAttributeNS(null,"x",O.toString()),Et.setAttributeNS(null,"y",N.toString()),Et.setAttributeNS(null,"externalResourcesRequired","true"),Ge.appendChild(Et),Et.appendChild(ce),Ge},Sd=function(R){return new Promise(function(B,O){var N=new Image;N.onload=function(){return B(N)},N.onerror=O,N.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(R))})},El={get SUPPORT_RANGE_BOUNDS(){var R=function(R){if(R.createRange){var O=R.createRange();if(O.getBoundingClientRect){var N=R.createElement("boundtest");N.style.height="123px",N.style.display="block",R.body.appendChild(N),O.selectNode(N);var ce=O.getBoundingClientRect(),De=Math.round(ce.height);if(R.body.removeChild(N),123===De)return!0}}return!1}(document);return Object.defineProperty(El,"SUPPORT_RANGE_BOUNDS",{value:R}),R},get SUPPORT_WORD_BREAKING(){var R=El.SUPPORT_RANGE_BOUNDS&&function(R){var B=R.createElement("boundtest");B.style.width="50px",B.style.display="block",B.style.fontSize="12px",B.style.letterSpacing="0px",B.style.wordSpacing="0px",R.body.appendChild(B);var O=R.createRange();B.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var N=B.firstChild,ce=Nt(N.data).map(function(ft){return Ut(ft)}),De=0,Ge={},Et=ce.every(function(ft,ln){O.setStart(N,De),O.setEnd(N,De+ft.length);var fn=O.getBoundingClientRect();De+=ft.length;var Sn=fn.x>Ge.x||fn.y>Ge.y;return Ge=fn,0===ln||Sn});return R.body.removeChild(B),Et}(document);return Object.defineProperty(El,"SUPPORT_WORD_BREAKING",{value:R}),R},get SUPPORT_SVG_DRAWING(){var R=function(R){var B=new Image,O=R.createElement("canvas"),N=O.getContext("2d");if(!N)return!1;B.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{N.drawImage(B,0,0),O.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(El,"SUPPORT_SVG_DRAWING",{value:R}),R},get SUPPORT_FOREIGNOBJECT_DRAWING(){var R="function"==typeof Array.from&&"function"==typeof window.fetch?function(R){var B=R.createElement("canvas"),O=100;B.width=O,B.height=O;var N=B.getContext("2d");if(!N)return Promise.reject(!1);N.fillStyle="rgb(0, 255, 0)",N.fillRect(0,0,O,O);var ce=new Image,De=B.toDataURL();ce.src=De;var Ge=bd(O,O,0,0,ce);return N.fillStyle="red",N.fillRect(0,0,O,O),Sd(Ge).then(function(Et){N.drawImage(Et,0,0);var ft=N.getImageData(0,0,O,O).data;N.fillStyle="red",N.fillRect(0,0,O,O);var ln=R.createElement("div");return ln.style.backgroundImage="url("+De+")",ln.style.height=O+"px",Ei(ft)?Sd(bd(O,O,0,0,ln)):Promise.reject(!1)}).then(function(Et){return N.drawImage(Et,0,0),Ei(N.getImageData(0,0,O,O).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(El,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:R}),R},get SUPPORT_CORS_IMAGES(){var R=typeof(new Image).crossOrigin<"u";return Object.defineProperty(El,"SUPPORT_CORS_IMAGES",{value:R}),R},get SUPPORT_RESPONSE_TYPE(){var R="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(El,"SUPPORT_RESPONSE_TYPE",{value:R}),R},get SUPPORT_CORS_XHR(){var R="withCredentials"in new XMLHttpRequest;return Object.defineProperty(El,"SUPPORT_CORS_XHR",{value:R}),R},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var R=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(El,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:R}),R}},Oc=function(){return function R(B,O){this.text=B,this.bounds=O}}(),hu=function(R,B){var O=B.ownerDocument;if(O){var N=O.createElement("html2canvaswrapper");N.appendChild(B.cloneNode(!0));var ce=B.parentNode;if(ce){ce.replaceChild(N,B);var De=tt(R,N);return N.firstChild&&ce.replaceChild(N.firstChild,N),De}}return Z.EMPTY},Yh=function(R,B,O){var N=R.ownerDocument;if(!N)throw new Error("Node has no owner document");var ce=N.createRange();return ce.setStart(R,B),ce.setEnd(R,B+O),ce},VA=function(R){if(El.SUPPORT_NATIVE_TEXT_SEGMENTATION){var B=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(B.segment(R)).map(function(O){return O.segment})}return function(R){for(var N,B=Hl(R),O=[];!(N=B.next()).done;)N.value&&O.push(N.value.slice());return O}(R)},Td=function(R,B){return 0!==B.letterSpacing?VA(R):function(R,B){if(El.SUPPORT_NATIVE_TEXT_SEGMENTATION){var O=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(O.segment(R)).map(function(N){return N.segment})}return Bd(R,B)}(R,B)},pA=[32,160,4961,65792,65793,4153,4241],Bd=function(R,B){for(var ce,O=function(R,B){var O=Nt(R),N=Ao(O,B),ce=N[0],De=N[1],Ge=N[2],Et=O.length,ft=0,ln=0;return{next:function(){if(ln>=Et)return{done:!0,value:null};for(var fn=zt;ln<Et&&(fn=nl(O,De,ce,++ln,Ge))===zt;);if(fn!==zt||ln===Et){var Sn=new vl(O,fn,ft,ln);return ft=ln,{value:Sn,done:!1}}return{done:!0,value:null}}}}(R,{lineBreak:B.lineBreak,wordBreak:"break-word"===B.overflowWrap?"break-word":B.wordBreak}),N=[],De=function(){if(ce.value){var Ge=ce.value.slice(),Et=Nt(Ge),ft="";Et.forEach(function(ln){-1===pA.indexOf(ln)?ft+=Ut(ln):(ft.length&&N.push(ft),N.push(Ut(ln)),ft="")}),ft.length&&N.push(ft)}};!(ce=O.next()).done;)De();return N},wh=function(){return function R(B,O,N){this.text=QA(O.data,N.textTransform),this.textBounds=function(R,B,O,N){var ce=Td(B,O),De=[],Ge=0;return ce.forEach(function(Et){if(O.textDecorationLine.length||Et.trim().length>0)if(El.SUPPORT_RANGE_BOUNDS){var ft=Yh(N,Ge,Et.length).getClientRects();if(ft.length>1){var ln=VA(Et),fn=0;ln.forEach(function(On){De.push(new Oc(On,Z.fromDOMRectList(R,Yh(N,fn+Ge,On.length).getClientRects()))),fn+=On.length})}else De.push(new Oc(Et,Z.fromDOMRectList(R,ft)))}else{var Sn=N.splitText(Et.length);De.push(new Oc(Et,hu(R,N))),N=Sn}else El.SUPPORT_RANGE_BOUNDS||(N=N.splitText(Et.length));Ge+=Et.length}),De}(B,this.text,N,O)}}(),QA=function(R,B){switch(B){case 1:return R.toLowerCase();case 3:return R.replace(Jh,Yl);case 2:return R.toUpperCase();default:return R}},Jh=/(^|\s|:|-|\(|\))([a-z])/g,Yl=function(R,B,O){return R.length>0?B+O.toUpperCase():R},Fu=function(R){function B(O,N){var ce=R.call(this,O,N)||this;return ce.src=N.currentSrc||N.src,ce.intrinsicWidth=N.naturalWidth,ce.intrinsicHeight=N.naturalHeight,ce.context.cache.addImage(ce.src),ce}return Be(B,R),B}(Ns),ga=function(R){function B(O,N){var ce=R.call(this,O,N)||this;return ce.canvas=N,ce.intrinsicWidth=N.width,ce.intrinsicHeight=N.height,ce}return Be(B,R),B}(Ns),Yd=function(R){function B(O,N){var ce=R.call(this,O,N)||this,De=new XMLSerializer,Ge=tt(O,N);return N.setAttribute("width",Ge.width+"px"),N.setAttribute("height",Ge.height+"px"),ce.svg="data:image/svg+xml,"+encodeURIComponent(De.serializeToString(N)),ce.intrinsicWidth=N.width.baseVal.value,ce.intrinsicHeight=N.height.baseVal.value,ce.context.cache.addImage(ce.svg),ce}return Be(B,R),B}(Ns),jA=function(R){function B(O,N){var ce=R.call(this,O,N)||this;return ce.value=N.value,ce}return Be(B,R),B}(Ns),eA=function(R){function B(O,N){var ce=R.call(this,O,N)||this;return ce.start=N.start,ce.reversed="boolean"==typeof N.reversed&&!0===N.reversed,ce}return Be(B,R),B}(Ns),Jl=[{type:15,flags:0,unit:"px",number:3}],Fd=[{type:16,flags:0,number:50}],Ia="checkbox",ic="radio",tA="password",xu=707406591,Za=function(R){function B(O,N){var ce=R.call(this,O,N)||this;switch(ce.type=N.type.toLowerCase(),ce.checked=N.checked,ce.value=function(R){var B=R.type===tA?new Array(R.value.length+1).join("\u2022"):R.value;return 0===B.length?R.placeholder||"":B}(N),(ce.type===Ia||ce.type===ic)&&(ce.styles.backgroundColor=3739148031,ce.styles.borderTopColor=ce.styles.borderRightColor=ce.styles.borderBottomColor=ce.styles.borderLeftColor=2779096575,ce.styles.borderTopWidth=ce.styles.borderRightWidth=ce.styles.borderBottomWidth=ce.styles.borderLeftWidth=1,ce.styles.borderTopStyle=ce.styles.borderRightStyle=ce.styles.borderBottomStyle=ce.styles.borderLeftStyle=1,ce.styles.backgroundClip=[0],ce.styles.backgroundOrigin=[0],ce.bounds=function(R){return R.width>R.height?new Z(R.left+(R.width-R.height)/2,R.top,R.height,R.height):R.width<R.height?new Z(R.left,R.top+(R.height-R.width)/2,R.width,R.width):R}(ce.bounds)),ce.type){case Ia:ce.styles.borderTopRightRadius=ce.styles.borderTopLeftRadius=ce.styles.borderBottomRightRadius=ce.styles.borderBottomLeftRadius=Jl;break;case ic:ce.styles.borderTopRightRadius=ce.styles.borderTopLeftRadius=ce.styles.borderBottomRightRadius=ce.styles.borderBottomLeftRadius=Fd}return ce}return Be(B,R),B}(Ns),Jd=function(R){function B(O,N){var ce=R.call(this,O,N)||this,De=N.options[N.selectedIndex||0];return ce.value=De&&De.text||"",ce}return Be(B,R),B}(Ns),Cc=function(R){function B(O,N){var ce=R.call(this,O,N)||this;return ce.value=N.value,ce}return Be(B,R),B}(Ns),Ru=function(R){function B(O,N){var ce=R.call(this,O,N)||this;ce.src=N.src,ce.width=parseInt(N.width,10)||0,ce.height=parseInt(N.height,10)||0,ce.backgroundColor=ce.styles.backgroundColor;try{if(N.contentWindow&&N.contentWindow.document&&N.contentWindow.document.documentElement){ce.tree=Zd(O,N.contentWindow.document.documentElement);var De=N.contentWindow.document.documentElement?ya(O,getComputedStyle(N.contentWindow.document.documentElement).backgroundColor):il.TRANSPARENT,Ge=N.contentWindow.document.body?ya(O,getComputedStyle(N.contentWindow.document.body).backgroundColor):il.TRANSPARENT;ce.backgroundColor=tc(De)?tc(Ge)?ce.styles.backgroundColor:Ge:De}}catch{}return ce}return Be(B,R),B}(Ns),ed=["OL","UL","MENU"],mA=function(R,B,O,N){for(var ce=B.firstChild,De=void 0;ce;ce=De)if(De=ce.nextSibling,vA(ce)&&ce.data.trim().length>0)O.textNodes.push(new wh(R,ce,O.styles));else if(Ic(ce))if(eh(ce)&&ce.assignedNodes)ce.assignedNodes().forEach(function(Et){return mA(R,Et,O,N)});else{var Ge=Ac(R,ce);Ge.styles.isVisible()&&(Dd(ce,Ge,N)?Ge.flags|=4:ku(Ge.styles)&&(Ge.flags|=2),-1!==ed.indexOf(ce.tagName)&&(Ge.flags|=8),O.elements.push(Ge),ce.shadowRoot?mA(R,ce.shadowRoot,Ge,N):!fu(ce)&&!bc(ce)&&!nA(ce)&&mA(R,ce,Ge,N))}},Ac=function(R,B){return Eh(B)?new Fu(R,B):ef(B)?new ga(R,B):bc(B)?new Yd(R,B):Rd(B)?new jA(R,B):HA(B)?new eA(R,B):Zh(B)?new Za(R,B):nA(B)?new Jd(R,B):fu(B)?new Cc(R,B):Zl(B)?new Ru(R,B):new Ns(R,B)},Zd=function(R,B){var O=Ac(R,B);return O.flags|=4,mA(R,B,O,O),O},Dd=function(R,B,O){return B.styles.isPositionedWithZIndex()||B.styles.opacity<1||B.styles.isTransformed()||_A(R)&&O.styles.isTransparent()},ku=function(R){return R.isPositioned()||R.isFloating()},vA=function(R){return R.nodeType===Node.TEXT_NODE},Ic=function(R){return R.nodeType===Node.ELEMENT_NODE},td=function(R){return Ic(R)&&typeof R.style<"u"&&!xd(R)},xd=function(R){return"object"==typeof R.className},Rd=function(R){return"LI"===R.tagName},HA=function(R){return"OL"===R.tagName},Zh=function(R){return"INPUT"===R.tagName},bc=function(R){return"svg"===R.tagName},_A=function(R){return"BODY"===R.tagName},ef=function(R){return"CANVAS"===R.tagName},yA=function(R){return"VIDEO"===R.tagName},Eh=function(R){return"IMG"===R.tagName},Zl=function(R){return"IFRAME"===R.tagName},Yc=function(R){return"STYLE"===R.tagName},fu=function(R){return"TEXTAREA"===R.tagName},nA=function(R){return"SELECT"===R.tagName},eh=function(R){return"SLOT"===R.tagName},$A=function(R){return R.tagName.indexOf("-")>0},tf=function(){function R(){this.counters={}}return R.prototype.getCounterValue=function(B){var O=this.counters[B];return O&&O.length?O[O.length-1]:1},R.prototype.getCounterValues=function(B){return this.counters[B]||[]},R.prototype.pop=function(B){var O=this;B.forEach(function(N){return O.counters[N].pop()})},R.prototype.parse=function(B){var O=this,N=B.counterIncrement,ce=B.counterReset,De=!0;null!==N&&N.forEach(function(Et){var ft=O.counters[Et.counter];ft&&0!==Et.increment&&(De=!1,ft.length||ft.push(1),ft[Math.max(0,ft.length-1)]+=Et.increment)});var Ge=[];return De&&ce.forEach(function(Et){var ft=O.counters[Et.counter];Ge.push(Et.counter),ft||(ft=O.counters[Et.counter]=[]),ft.push(Et.reset)}),Ge},R}(),Df={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},th={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},xf={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Rf={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Pu=function(R,B,O,N,ce,De){return R<B||R>O?nd(R,ce,De.length>0):N.integers.reduce(function(Ge,Et,ft){for(;R>=Et;)R-=Et,Ge+=N.values[ft];return Ge},"")+De},Ch=function(R,B,O,N){var ce="";do{O||R--,ce=N(R)+ce,R/=B}while(R*B>=B);return ce},ba=function(R,B,O,N,ce){var De=O-B+1;return(R<0?"-":"")+(Ch(Math.abs(R),De,N,function(Ge){return Ut(Math.floor(Ge%De)+B)})+ce)},dc=function(R,B,O){void 0===O&&(O=". ");var N=B.length;return Ch(Math.abs(R),N,!1,function(ce){return B[Math.floor(ce%N)]})+O},Ll=function(R,B,O,N,ce,De){if(R<-9999||R>9999)return nd(R,4,ce.length>0);var Ge=Math.abs(R),Et=ce;if(0===Ge)return B[0]+Et;for(var ft=0;Ge>0&&ft<=4;ft++){var ln=Ge%10;0===ln&&al(De,1)&&""!==Et?Et=B[ln]+Et:ln>1||1===ln&&0===ft||1===ln&&1===ft&&al(De,2)||1===ln&&1===ft&&al(De,4)&&R>100||1===ln&&ft>1&&al(De,8)?Et=B[ln]+(ft>0?O[ft-1]:"")+Et:1===ln&&ft>0&&(Et=O[ft-1]+Et),Ge=Math.floor(Ge/10)}return(R<0?N:"")+Et},nh="\ub9c8\uc774\ub108\uc2a4",nd=function(R,B,O){var N=O?". ":"",ce=O?"\u3001":"",De=O?", ":"",Ge=O?" ":"";switch(B){case 0:return"\u2022"+Ge;case 1:return"\u25e6"+Ge;case 2:return"\u25fe"+Ge;case 5:var Et=ba(R,48,57,!0,N);return Et.length<4?"0"+Et:Et;case 4:return dc(R,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",ce);case 6:return Pu(R,1,3999,Df,3,N).toLowerCase();case 7:return Pu(R,1,3999,Df,3,N);case 8:return ba(R,945,969,!1,N);case 9:return ba(R,97,122,!1,N);case 10:return ba(R,65,90,!1,N);case 11:return ba(R,1632,1641,!0,N);case 12:case 49:return Pu(R,1,9999,th,3,N);case 35:return Pu(R,1,9999,th,3,N).toLowerCase();case 13:return ba(R,2534,2543,!0,N);case 14:case 30:return ba(R,6112,6121,!0,N);case 15:return dc(R,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",ce);case 16:return dc(R,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",ce);case 17:case 48:return Ll(R,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",ce,14);case 47:return Ll(R,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",ce,15);case 42:return Ll(R,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",ce,14);case 41:return Ll(R,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",ce,15);case 26:return Ll(R,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",ce,0);case 25:return Ll(R,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",ce,7);case 31:return Ll(R,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",nh,De,7);case 33:return Ll(R,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",nh,De,0);case 32:return Ll(R,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",nh,De,7);case 18:return ba(R,2406,2415,!0,N);case 20:return Pu(R,1,19999,Rf,3,N);case 21:return ba(R,2790,2799,!0,N);case 22:return ba(R,2662,2671,!0,N);case 22:return Pu(R,1,10999,xf,3,N);case 23:return dc(R,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return dc(R,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return ba(R,3302,3311,!0,N);case 28:return dc(R,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",ce);case 29:return dc(R,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",ce);case 34:return ba(R,3792,3801,!0,N);case 37:return ba(R,6160,6169,!0,N);case 38:return ba(R,4160,4169,!0,N);case 39:return ba(R,2918,2927,!0,N);case 40:return ba(R,1776,1785,!0,N);case 43:return ba(R,3046,3055,!0,N);case 44:return ba(R,3174,3183,!0,N);case 45:return ba(R,3664,3673,!0,N);case 46:return ba(R,3872,3881,!0,N);default:return ba(R,48,57,!0,N)}},nf="data-html2canvas-ignore",GA=function(){function R(B,O,N){if(this.context=B,this.options=N,this.scrolledElements=[],this.referenceElement=O,this.counters=new tf,this.quoteDepth=0,!O.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(O.ownerDocument.documentElement,!1)}return R.prototype.toIFrame=function(B,O){var N=this,ce=Ih(B,O);if(!ce.contentWindow)return Promise.reject("Unable to find iframe window");var De=B.defaultView.pageXOffset,Ge=B.defaultView.pageYOffset,Et=ce.contentWindow,ft=Et.document,ln=rA(ce).then(function(){return e(N,void 0,void 0,function(){var fn,Sn;return wt(this,function(On){switch(On.label){case 0:return this.scrolledElements.forEach(np),Et&&(Et.scrollTo(O.left,O.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Et.scrollY!==O.top||Et.scrollX!==O.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Et.scrollX-O.left,Et.scrollY-O.top,0,0))),fn=this.options.onclone,typeof(Sn=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:ft.fonts&&ft.fonts.ready?[4,ft.fonts.ready]:[3,2];case 1:On.sent(),On.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ih(ft)]:[3,4];case 3:On.sent(),On.label=4;case 4:return"function"==typeof fn?[2,Promise.resolve().then(function(){return fn(ft,Sn)}).then(function(){return ce})]:[2,ce]}})})});return ft.open(),ft.write(kd(document.doctype)+"<html></html>"),bh(this.referenceElement.ownerDocument,De,Ge),ft.replaceChild(ft.adoptNode(this.documentElement),ft.documentElement),ft.close(),ln},R.prototype.createElementClone=function(B){if(Vs(B,2),ef(B))return this.createCanvasClone(B);if(yA(B))return this.createVideoClone(B);if(Yc(B))return this.createStyleClone(B);var O=B.cloneNode(!1);return Eh(O)&&(Eh(B)&&B.currentSrc&&B.currentSrc!==B.src&&(O.src=B.currentSrc,O.srcset=""),"lazy"===O.loading&&(O.loading="eager")),$A(O)?this.createCustomElementClone(O):O},R.prototype.createCustomElementClone=function(B){var O=document.createElement("html2canvascustomelement");return oh(B.style,O),O},R.prototype.createStyleClone=function(B){try{var O=B.sheet;if(O&&O.cssRules){var N=[].slice.call(O.cssRules,0).reduce(function(De,Ge){return Ge&&"string"==typeof Ge.cssText?De+Ge.cssText:De},""),ce=B.cloneNode(!1);return ce.textContent=N,ce}}catch(De){if(this.context.logger.error("Unable to access cssRules property",De),"SecurityError"!==De.name)throw De}return B.cloneNode(!1)},R.prototype.createCanvasClone=function(B){var O;if(this.options.inlineImages&&B.ownerDocument){var N=B.ownerDocument.createElement("img");try{return N.src=B.toDataURL(),N}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",B)}}var ce=B.cloneNode(!1);try{ce.width=B.width,ce.height=B.height;var De=B.getContext("2d"),Ge=ce.getContext("2d");if(Ge)if(!this.options.allowTaint&&De)Ge.putImageData(De.getImageData(0,0,B.width,B.height),0,0);else{var Et=null!==(O=B.getContext("webgl2"))&&void 0!==O?O:B.getContext("webgl");if(Et){var ft=Et.getContextAttributes();!1===(null==ft?void 0:ft.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",B)}Ge.drawImage(B,0,0)}return ce}catch{this.context.logger.info("Unable to clone canvas as it is tainted",B)}return ce},R.prototype.createVideoClone=function(B){var O=B.ownerDocument.createElement("canvas");O.width=B.offsetWidth,O.height=B.offsetHeight;var N=O.getContext("2d");try{return N&&(N.drawImage(B,0,0,O.width,O.height),this.options.allowTaint||N.getImageData(0,0,O.width,O.height)),O}catch{this.context.logger.info("Unable to clone video as it is tainted",B)}var ce=B.ownerDocument.createElement("canvas");return ce.width=B.offsetWidth,ce.height=B.offsetHeight,ce},R.prototype.appendChildNode=function(B,O,N){(!Ic(O)||!function(R){return"SCRIPT"===R.tagName}(O)&&!O.hasAttribute(nf)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(O)))&&(!this.options.copyStyles||!Ic(O)||!Yc(O))&&B.appendChild(this.cloneNode(O,N))},R.prototype.cloneChildNodes=function(B,O,N){for(var ce=this,De=B.shadowRoot?B.shadowRoot.firstChild:B.firstChild;De;De=De.nextSibling)if(Ic(De)&&eh(De)&&"function"==typeof De.assignedNodes){var Ge=De.assignedNodes();Ge.length&&Ge.forEach(function(Et){return ce.appendChildNode(O,Et,N)})}else this.appendChildNode(O,De,N)},R.prototype.cloneNode=function(B,O){if(vA(B))return document.createTextNode(B.data);if(!B.ownerDocument)return B.cloneNode(!1);var N=B.ownerDocument.defaultView;if(N&&Ic(B)&&(td(B)||xd(B))){var ce=this.createElementClone(B);ce.style.transitionProperty="none";var De=N.getComputedStyle(B),Ge=N.getComputedStyle(B,":before"),Et=N.getComputedStyle(B,":after");this.referenceElement===B&&td(ce)&&(this.clonedReferenceElement=ce),_A(ce)&&xp(ce);var ft=this.counters.parse(new to(this.context,De)),ln=this.resolvePseudoContent(B,ce,Ge,rh.BEFORE);$A(B)&&(O=!0),yA(B)||this.cloneChildNodes(B,ce,O),ln&&ce.insertBefore(ln,ce.firstChild);var fn=this.resolvePseudoContent(B,ce,Et,rh.AFTER);return fn&&ce.appendChild(fn),this.counters.pop(ft),(De&&(this.options.copyStyles||xd(B))&&!Zl(B)||O)&&oh(De,ce),(0!==B.scrollTop||0!==B.scrollLeft)&&this.scrolledElements.push([ce,B.scrollLeft,B.scrollTop]),(fu(B)||nA(B))&&(fu(ce)||nA(ce))&&(ce.value=B.value),ce}return B.cloneNode(!1)},R.prototype.resolvePseudoContent=function(B,O,N,ce){var De=this;if(N){var Ge=N.content,Et=O.ownerDocument;if(Et&&Ge&&"none"!==Ge&&"-moz-alt-content"!==Ge&&"none"!==N.display){this.counters.parse(new to(this.context,N));var ft=new oi(this.context,N),ln=Et.createElement("html2canvaspseudoelement");oh(N,ln),ft.content.forEach(function(Sn){if(0===Sn.type)ln.appendChild(Et.createTextNode(Sn.value));else if(22===Sn.type){var On=Et.createElement("img");On.src=Sn.value,On.style.opacity="1",ln.appendChild(On)}else if(18===Sn.type){if("attr"===Sn.name){var Lr=Sn.values.filter(Zi);Lr.length&&ln.appendChild(Et.createTextNode(B.getAttribute(Lr[0].value)||""))}else if("counter"===Sn.name){var Ur=Sn.values.filter(ul),Uo=Ur[1];if((ni=Ur[0])&&Zi(ni)){var Pi=De.counters.getCounterValue(ni.value),Ir=Uo&&Zi(Uo)?uu.parse(De.context,Uo.value):3;ln.appendChild(Et.createTextNode(nd(Pi,Ir,!1)))}}else if("counters"===Sn.name){var ni,ws=Sn.values.filter(ul),Ho=ws[1];if(Uo=ws[2],(ni=ws[0])&&Zi(ni)){var co=De.counters.getCounterValues(ni.value),Jr=Uo&&Zi(Uo)?uu.parse(De.context,Uo.value):3,Eo=Ho&&0===Ho.type?Ho.value:"",zo=co.map(function(gl){return nd(gl,Jr,!1)}).join(Eo);ln.appendChild(Et.createTextNode(zo))}}}else if(20===Sn.type)switch(Sn.value){case"open-quote":ln.appendChild(Et.createTextNode(ue(ft.quotes,De.quoteDepth++,!0)));break;case"close-quote":ln.appendChild(Et.createTextNode(ue(ft.quotes,--De.quoteDepth,!1)));break;default:ln.appendChild(Et.createTextNode(Sn.value))}}),ln.className=Pd+" "+Sh;var fn=ce===rh.BEFORE?" "+Pd:" "+Sh;return xd(O)?O.className.baseValue+=fn:O.className+=fn,ln}}},R.destroy=function(B){return!!B.parentNode&&(B.parentNode.removeChild(B),!0)},R}(),rh=function(R){return R[R.BEFORE=0]="BEFORE",R[R.AFTER=1]="AFTER",R}(rh||{}),Ih=function(R,B){var O=R.createElement("iframe");return O.className="html2canvas-container",O.style.visibility="hidden",O.style.position="fixed",O.style.left="-10000px",O.style.top="0px",O.style.border="0",O.width=B.width.toString(),O.height=B.height.toString(),O.scrolling="no",O.setAttribute(nf,"true"),R.body.appendChild(O),O},rf=function(R){return new Promise(function(B){R.complete?B():R.src?(R.onload=B,R.onerror=B):B()})},ih=function(R){return Promise.all([].slice.call(R.images,0).map(rf))},rA=function(R){return new Promise(function(B,O){var N=R.contentWindow;if(!N)return O("No window assigned for iframe");var ce=N.document;N.onload=R.onload=function(){N.onload=R.onload=null;var De=setInterval(function(){ce.body.childNodes.length>0&&"complete"===ce.readyState&&(clearInterval(De),B(R))},50)}})},sf=["all","d","content"],oh=function(R,B){for(var O=R.length-1;O>=0;O--){var N=R.item(O);-1===sf.indexOf(N)&&B.style.setProperty(N,R.getPropertyValue(N))}return B},kd=function(R){var B="";return R&&(B+="<!DOCTYPE ",R.name&&(B+=R.name),R.internalSubset&&(B+=R.internalSubset),R.publicId&&(B+='"'+R.publicId+'"'),R.systemId&&(B+='"'+R.systemId+'"'),B+=">"),B},bh=function(R,B,O){R&&R.defaultView&&(B!==R.defaultView.pageXOffset||O!==R.defaultView.pageYOffset)&&R.defaultView.scrollTo(B,O)},np=function(R){var B=R[0],N=R[2];B.scrollLeft=R[1],B.scrollTop=N},Pd="___html2canvas___pseudoelement_before",Sh="___html2canvas___pseudoelement_after",sh='{\n    content: "" !important;\n    display: none !important;\n}',xp=function(R){g(R,"."+Pd+":before"+sh+"\n         ."+Sh+":after"+sh)},g=function(R,B){var O=R.ownerDocument;if(O){var N=O.createElement("style");N.textContent=B,R.appendChild(N)}},d=function(){function R(){}return R.getOrigin=function(B){var O=R._link;return O?(O.href=B,O.href=O.href,O.protocol+O.hostname+O.port):"about:blank"},R.isSameOrigin=function(B){return R.getOrigin(B)===R._origin},R.setContext=function(B){R._link=B.document.createElement("a"),R._origin=R.getOrigin(B.location.href)},R._origin="about:blank",R}(),c=function(){function R(B,O){this.context=B,this._options=O,this._cache={}}return R.prototype.addImage=function(B){var O=Promise.resolve();return this.has(B)||(te(B)||P(B))&&(this._cache[B]=this.loadImage(B)).catch(function(){}),O},R.prototype.match=function(B){return this._cache[B]},R.prototype.loadImage=function(B){return e(this,void 0,void 0,function(){var O,N,ce,De,Ge=this;return wt(this,function(Et){switch(Et.label){case 0:return O=d.isSameOrigin(B),N=!U(B)&&!0===this._options.useCORS&&El.SUPPORT_CORS_IMAGES&&!O,ce=!U(B)&&!O&&!te(B)&&"string"==typeof this._options.proxy&&El.SUPPORT_CORS_XHR&&!N,O||!1!==this._options.allowTaint||U(B)||te(B)||ce||N?(De=B,ce?[4,this.proxy(De)]:[3,2]):[2];case 1:De=Et.sent(),Et.label=2;case 2:return this.context.logger.debug("Added image "+B.substring(0,256)),[4,new Promise(function(ft,ln){var fn=new Image;fn.onload=function(){return ft(fn)},fn.onerror=ln,($(De)||N)&&(fn.crossOrigin="anonymous"),fn.src=De,!0===fn.complete&&setTimeout(function(){return ft(fn)},500),Ge._options.imageTimeout>0&&setTimeout(function(){return ln("Timed out ("+Ge._options.imageTimeout+"ms) loading image")},Ge._options.imageTimeout)})];case 3:return[2,Et.sent()]}})})},R.prototype.has=function(B){return typeof this._cache[B]<"u"},R.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},R.prototype.proxy=function(B){var O=this,N=this._options.proxy;if(!N)throw new Error("No proxy defined");var ce=B.substring(0,256);return new Promise(function(De,Ge){var Et=El.SUPPORT_RESPONSE_TYPE?"blob":"text",ft=new XMLHttpRequest;ft.onload=function(){if(200===ft.status)if("text"===Et)De(ft.response);else{var Sn=new FileReader;Sn.addEventListener("load",function(){return De(Sn.result)},!1),Sn.addEventListener("error",function(On){return Ge(On)},!1),Sn.readAsDataURL(ft.response)}else Ge("Failed to proxy resource "+ce+" with status code "+ft.status)},ft.onerror=Ge;var ln=N.indexOf("?")>-1?"&":"?";if(ft.open("GET",""+N+ln+"url="+encodeURIComponent(B)+"&responseType="+Et),"text"!==Et&&ft instanceof XMLHttpRequest&&(ft.responseType=Et),O._options.imageTimeout){var fn=O._options.imageTimeout;ft.timeout=fn,ft.ontimeout=function(){return Ge("Timed out ("+fn+"ms) proxying "+ce)}}ft.send()})},R}(),u=/^data:image\/svg\+xml/i,_=/^data:image\/.*;base64,/i,I=/^data:image\/.*/i,P=function(R){return El.SUPPORT_SVG_DRAWING||!oe(R)},U=function(R){return I.test(R)},$=function(R){return _.test(R)},te=function(R){return"blob"===R.substr(0,4)},oe=function(R){return"svg"===R.substr(-3).toLowerCase()||u.test(R)},ve=function(){function R(B,O){this.type=0,this.x=B,this.y=O}return R.prototype.add=function(B,O){return new R(this.x+B,this.y+O)},R}(),Oe=function(R,B,O){return new ve(R.x+(B.x-R.x)*O,R.y+(B.y-R.y)*O)},he=function(){function R(B,O,N,ce){this.type=1,this.start=B,this.startControl=O,this.endControl=N,this.end=ce}return R.prototype.subdivide=function(B,O){var N=Oe(this.start,this.startControl,B),ce=Oe(this.startControl,this.endControl,B),De=Oe(this.endControl,this.end,B),Ge=Oe(N,ce,B),Et=Oe(ce,De,B),ft=Oe(Ge,Et,B);return O?new R(this.start,N,Ge,ft):new R(ft,Et,De,this.end)},R.prototype.add=function(B,O){return new R(this.start.add(B,O),this.startControl.add(B,O),this.endControl.add(B,O),this.end.add(B,O))},R.prototype.reverse=function(){return new R(this.end,this.endControl,this.startControl,this.start)},R}(),ct=function(R){return 1===R.type},at=function(){return function R(B){var O=B.styles,N=B.bounds,ce=La(O.borderTopLeftRadius,N.width,N.height),De=ce[0],Ge=ce[1],Et=La(O.borderTopRightRadius,N.width,N.height),ft=Et[0],ln=Et[1],fn=La(O.borderBottomRightRadius,N.width,N.height),Sn=fn[0],On=fn[1],Lr=La(O.borderBottomLeftRadius,N.width,N.height),Ur=Lr[0],ni=Lr[1],Uo=[];Uo.push((De+ft)/N.width),Uo.push((Ur+Sn)/N.width),Uo.push((Ge+ni)/N.height),Uo.push((ln+On)/N.height);var Pi=Math.max.apply(Math,Uo);Pi>1&&(De/=Pi,Ge/=Pi,ft/=Pi,ln/=Pi,Sn/=Pi,On/=Pi,Ur/=Pi,ni/=Pi);var Ir=N.width-ft,ws=N.height-On,Ho=N.width-Sn,co=N.height-ni,Jr=O.borderTopWidth,Eo=O.borderRightWidth,zo=O.borderBottomWidth,No=O.borderLeftWidth,zs=lo(O.paddingTop,B.bounds.width),gl=lo(O.paddingRight,B.bounds.width),ll=lo(O.paddingBottom,B.bounds.width),us=lo(O.paddingLeft,B.bounds.width);this.topLeftBorderDoubleOuterBox=De>0||Ge>0?m(N.left+No/3,N.top+Jr/3,De-No/3,Ge-Jr/3,ht.TOP_LEFT):new ve(N.left+No/3,N.top+Jr/3),this.topRightBorderDoubleOuterBox=De>0||Ge>0?m(N.left+Ir,N.top+Jr/3,ft-Eo/3,ln-Jr/3,ht.TOP_RIGHT):new ve(N.left+N.width-Eo/3,N.top+Jr/3),this.bottomRightBorderDoubleOuterBox=Sn>0||On>0?m(N.left+Ho,N.top+ws,Sn-Eo/3,On-zo/3,ht.BOTTOM_RIGHT):new ve(N.left+N.width-Eo/3,N.top+N.height-zo/3),this.bottomLeftBorderDoubleOuterBox=Ur>0||ni>0?m(N.left+No/3,N.top+co,Ur-No/3,ni-zo/3,ht.BOTTOM_LEFT):new ve(N.left+No/3,N.top+N.height-zo/3),this.topLeftBorderDoubleInnerBox=De>0||Ge>0?m(N.left+2*No/3,N.top+2*Jr/3,De-2*No/3,Ge-2*Jr/3,ht.TOP_LEFT):new ve(N.left+2*No/3,N.top+2*Jr/3),this.topRightBorderDoubleInnerBox=De>0||Ge>0?m(N.left+Ir,N.top+2*Jr/3,ft-2*Eo/3,ln-2*Jr/3,ht.TOP_RIGHT):new ve(N.left+N.width-2*Eo/3,N.top+2*Jr/3),this.bottomRightBorderDoubleInnerBox=Sn>0||On>0?m(N.left+Ho,N.top+ws,Sn-2*Eo/3,On-2*zo/3,ht.BOTTOM_RIGHT):new ve(N.left+N.width-2*Eo/3,N.top+N.height-2*zo/3),this.bottomLeftBorderDoubleInnerBox=Ur>0||ni>0?m(N.left+2*No/3,N.top+co,Ur-2*No/3,ni-2*zo/3,ht.BOTTOM_LEFT):new ve(N.left+2*No/3,N.top+N.height-2*zo/3),this.topLeftBorderStroke=De>0||Ge>0?m(N.left+No/2,N.top+Jr/2,De-No/2,Ge-Jr/2,ht.TOP_LEFT):new ve(N.left+No/2,N.top+Jr/2),this.topRightBorderStroke=De>0||Ge>0?m(N.left+Ir,N.top+Jr/2,ft-Eo/2,ln-Jr/2,ht.TOP_RIGHT):new ve(N.left+N.width-Eo/2,N.top+Jr/2),this.bottomRightBorderStroke=Sn>0||On>0?m(N.left+Ho,N.top+ws,Sn-Eo/2,On-zo/2,ht.BOTTOM_RIGHT):new ve(N.left+N.width-Eo/2,N.top+N.height-zo/2),this.bottomLeftBorderStroke=Ur>0||ni>0?m(N.left+No/2,N.top+co,Ur-No/2,ni-zo/2,ht.BOTTOM_LEFT):new ve(N.left+No/2,N.top+N.height-zo/2),this.topLeftBorderBox=De>0||Ge>0?m(N.left,N.top,De,Ge,ht.TOP_LEFT):new ve(N.left,N.top),this.topRightBorderBox=ft>0||ln>0?m(N.left+Ir,N.top,ft,ln,ht.TOP_RIGHT):new ve(N.left+N.width,N.top),this.bottomRightBorderBox=Sn>0||On>0?m(N.left+Ho,N.top+ws,Sn,On,ht.BOTTOM_RIGHT):new ve(N.left+N.width,N.top+N.height),this.bottomLeftBorderBox=Ur>0||ni>0?m(N.left,N.top+co,Ur,ni,ht.BOTTOM_LEFT):new ve(N.left,N.top+N.height),this.topLeftPaddingBox=De>0||Ge>0?m(N.left+No,N.top+Jr,Math.max(0,De-No),Math.max(0,Ge-Jr),ht.TOP_LEFT):new ve(N.left+No,N.top+Jr),this.topRightPaddingBox=ft>0||ln>0?m(N.left+Math.min(Ir,N.width-Eo),N.top+Jr,Ir>N.width+Eo?0:Math.max(0,ft-Eo),Math.max(0,ln-Jr),ht.TOP_RIGHT):new ve(N.left+N.width-Eo,N.top+Jr),this.bottomRightPaddingBox=Sn>0||On>0?m(N.left+Math.min(Ho,N.width-No),N.top+Math.min(ws,N.height-zo),Math.max(0,Sn-Eo),Math.max(0,On-zo),ht.BOTTOM_RIGHT):new ve(N.left+N.width-Eo,N.top+N.height-zo),this.bottomLeftPaddingBox=Ur>0||ni>0?m(N.left+No,N.top+Math.min(co,N.height-zo),Math.max(0,Ur-No),Math.max(0,ni-zo),ht.BOTTOM_LEFT):new ve(N.left+No,N.top+N.height-zo),this.topLeftContentBox=De>0||Ge>0?m(N.left+No+us,N.top+Jr+zs,Math.max(0,De-(No+us)),Math.max(0,Ge-(Jr+zs)),ht.TOP_LEFT):new ve(N.left+No+us,N.top+Jr+zs),this.topRightContentBox=ft>0||ln>0?m(N.left+Math.min(Ir,N.width+No+us),N.top+Jr+zs,Ir>N.width+No+us?0:ft-No+us,ln-(Jr+zs),ht.TOP_RIGHT):new ve(N.left+N.width-(Eo+gl),N.top+Jr+zs),this.bottomRightContentBox=Sn>0||On>0?m(N.left+Math.min(Ho,N.width-(No+us)),N.top+Math.min(ws,N.height+Jr+zs),Math.max(0,Sn-(Eo+gl)),On-(zo+ll),ht.BOTTOM_RIGHT):new ve(N.left+N.width-(Eo+gl),N.top+N.height-(zo+ll)),this.bottomLeftContentBox=Ur>0||ni>0?m(N.left+No+us,N.top+co,Math.max(0,Ur-(No+us)),ni-(zo+ll),ht.BOTTOM_LEFT):new ve(N.left+No+us,N.top+N.height-(zo+ll))}}(),ht=function(R){return R[R.TOP_LEFT=0]="TOP_LEFT",R[R.TOP_RIGHT=1]="TOP_RIGHT",R[R.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",R[R.BOTTOM_LEFT=3]="BOTTOM_LEFT",R}(ht||{}),m=function(R,B,O,N,ce){var De=(Math.sqrt(2)-1)/3*4,Ge=O*De,Et=N*De,ft=R+O,ln=B+N;switch(ce){case ht.TOP_LEFT:return new he(new ve(R,ln),new ve(R,ln-Et),new ve(ft-Ge,B),new ve(ft,B));case ht.TOP_RIGHT:return new he(new ve(R,B),new ve(R+Ge,B),new ve(ft,ln-Et),new ve(ft,ln));case ht.BOTTOM_RIGHT:return new he(new ve(ft,B),new ve(ft,B+Et),new ve(R+Ge,ln),new ve(R,ln));default:return new he(new ve(ft,ln),new ve(ft-Ge,ln),new ve(R,B+Et),new ve(R,B))}},A=function(R){return[R.topLeftBorderBox,R.topRightBorderBox,R.bottomRightBorderBox,R.bottomLeftBorderBox]},b=function(R){return[R.topLeftPaddingBox,R.topRightPaddingBox,R.bottomRightPaddingBox,R.bottomLeftPaddingBox]},Q=function(){return function R(B,O,N){this.offsetX=B,this.offsetY=O,this.matrix=N,this.type=0,this.target=6}}(),ee=function(){return function R(B,O){this.path=B,this.target=O,this.type=1}}(),le=function(){return function R(B){this.opacity=B,this.type=2,this.target=6}}(),We=function(R){return 1===R.type},Me=function(R,B){return R.length===B.length&&R.some(function(O,N){return O===B[N]})},dt=function(){return function R(B){this.element=B,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),It=function(){function R(B,O){if(this.container=B,this.parent=O,this.effects=[],this.curves=new at(this.container),this.container.styles.opacity<1&&this.effects.push(new le(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new Q(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var Ge=A(this.curves),Et=b(this.curves);Me(Ge,Et)?this.effects.push(new ee(Ge,6)):(this.effects.push(new ee(Ge,2)),this.effects.push(new ee(Et,4)))}}return R.prototype.getEffects=function(B){for(var O=-1===[2,3].indexOf(this.container.styles.position),N=this.parent,ce=this.effects.slice(0);N;){var De=N.effects.filter(function(ft){return!We(ft)});if(O||0!==N.container.styles.position||!N.parent){if(ce.unshift.apply(ce,De),O=-1===[2,3].indexOf(N.container.styles.position),0!==N.container.styles.overflowX){var Ge=A(N.curves),Et=b(N.curves);Me(Ge,Et)||ce.unshift(new ee(Et,6))}}else ce.unshift.apply(ce,De);N=N.parent}return ce.filter(function(ft){return al(ft.target,B)})},R}(),F=function(R,B,O,N){R.container.elements.forEach(function(ce){var De=al(ce.flags,4),Ge=al(ce.flags,2),Et=new It(ce,R);al(ce.styles.display,2048)&&N.push(Et);var ft=al(ce.flags,8)?[]:N;if(De||Ge){var ln=De||ce.styles.isPositioned()?O:B,fn=new dt(Et);if(ce.styles.isPositioned()||ce.styles.opacity<1||ce.styles.isTransformed()){var Sn=ce.styles.zIndex.order;if(Sn<0){var On=0;ln.negativeZIndex.some(function(Ur,ni){return Sn>Ur.element.container.styles.zIndex.order?(On=ni,!1):On>0}),ln.negativeZIndex.splice(On,0,fn)}else if(Sn>0){var Lr=0;ln.positiveZIndex.some(function(Ur,ni){return Sn>=Ur.element.container.styles.zIndex.order?(Lr=ni+1,!1):Lr>0}),ln.positiveZIndex.splice(Lr,0,fn)}else ln.zeroOrAutoZIndexOrTransformedOrOpacity.push(fn)}else ce.styles.isFloating()?ln.nonPositionedFloats.push(fn):ln.nonPositionedInlineLevel.push(fn);F(Et,fn,De?fn:O,ft)}else ce.styles.isInlineLevel()?B.inlineLevel.push(Et):B.nonInlineLevel.push(Et),F(Et,B,O,ft);al(ce.flags,8)&&v(ce,ft)})},v=function(R,B){for(var O=R instanceof eA?R.start:1,N=R instanceof eA&&R.reversed,ce=0;ce<B.length;ce++){var De=B[ce];De.container instanceof jA&&"number"==typeof De.container.value&&0!==De.container.value&&(O=De.container.value),De.listValue=nd(O,De.container.styles.listStyleType,!0),O+=N?-1:1}},M=function(R,B){switch(B){case 0:return Ke(R.topLeftBorderBox,R.topLeftPaddingBox,R.topRightBorderBox,R.topRightPaddingBox);case 1:return Ke(R.topRightBorderBox,R.topRightPaddingBox,R.bottomRightBorderBox,R.bottomRightPaddingBox);case 2:return Ke(R.bottomRightBorderBox,R.bottomRightPaddingBox,R.bottomLeftBorderBox,R.bottomLeftPaddingBox);default:return Ke(R.bottomLeftBorderBox,R.bottomLeftPaddingBox,R.topLeftBorderBox,R.topLeftPaddingBox)}},ye=function(R,B){var O=[];return ct(R)?O.push(R.subdivide(.5,!1)):O.push(R),ct(B)?O.push(B.subdivide(.5,!0)):O.push(B),O},Ke=function(R,B,O,N){var ce=[];return ct(R)?ce.push(R.subdivide(.5,!1)):ce.push(R),ct(O)?ce.push(O.subdivide(.5,!0)):ce.push(O),ct(N)?ce.push(N.subdivide(.5,!0).reverse()):ce.push(N),ct(B)?ce.push(B.subdivide(.5,!1).reverse()):ce.push(B),ce},gt=function(R){var O=R.styles;return R.bounds.add(O.borderLeftWidth,O.borderTopWidth,-(O.borderRightWidth+O.borderLeftWidth),-(O.borderTopWidth+O.borderBottomWidth))},Dt=function(R){var B=R.styles,O=R.bounds,N=lo(B.paddingLeft,O.width),ce=lo(B.paddingRight,O.width),De=lo(B.paddingTop,O.width),Ge=lo(B.paddingBottom,O.width);return O.add(N+B.borderLeftWidth,De+B.borderTopWidth,-(B.borderRightWidth+B.borderLeftWidth+N+ce),-(B.borderTopWidth+B.borderBottomWidth+De+Ge))},Kn=function(R,B,O){var N=function(R,B){return 0===R?B.bounds:2===R?Dt(B):gt(B)}(gi(R.styles.backgroundOrigin,B),R),ce=function(R,B){return 0===R?B.bounds:2===R?Dt(B):gt(B)}(gi(R.styles.backgroundClip,B),R),De=zr(gi(R.styles.backgroundSize,B),O,N),Ge=De[0],Et=De[1],ft=La(gi(R.styles.backgroundPosition,B),N.width-Ge,N.height-Et);return[Ci(gi(R.styles.backgroundRepeat,B),ft,De,N,ce),Math.round(N.left+ft[0]),Math.round(N.top+ft[1]),Ge,Et]},qn=function(R){return Zi(R)&&R.value===ge.AUTO},ti=function(R){return"number"==typeof R},zr=function(R,B,O){var N=B[0],ce=B[1],De=B[2],Ge=R[0],Et=R[1];if(!Ge)return[0,0];if(Ee(Ge)&&Et&&Ee(Et))return[lo(Ge,O.width),lo(Et,O.height)];var ft=ti(De);if(Zi(Ge)&&(Ge.value===ge.CONTAIN||Ge.value===ge.COVER))return ti(De)?O.width/O.height<De!=(Ge.value===ge.COVER)?[O.width,O.width/De]:[O.height*De,O.height]:[O.width,O.height];var fn=ti(N),Sn=ti(ce),On=fn||Sn;if(qn(Ge)&&(!Et||qn(Et)))return fn&&Sn?[N,ce]:ft||On?On&&ft?[fn?N:ce*De,Sn?ce:N/De]:[fn?N:O.width,Sn?ce:O.height]:[O.width,O.height];if(ft){var Pi=0,Ir=0;return Ee(Ge)?Pi=lo(Ge,O.width):Ee(Et)&&(Ir=lo(Et,O.height)),qn(Ge)?Pi=Ir*De:(!Et||qn(Et))&&(Ir=Pi/De),[Pi,Ir]}var ws=null,Ho=null;if(Ee(Ge)?ws=lo(Ge,O.width):Et&&Ee(Et)&&(Ho=lo(Et,O.height)),null!==ws&&(!Et||qn(Et))&&(Ho=fn&&Sn?ws/N*ce:O.height),null!==Ho&&qn(Ge)&&(ws=fn&&Sn?Ho/ce*N:O.width),null!==ws&&null!==Ho)return[ws,Ho];throw new Error("Unable to calculate background-size for element")},gi=function(R,B){var O=R[B];return typeof O>"u"?R[0]:O},Ci=function(R,B,O,N,ce){var De=B[0],Ge=B[1],Et=O[0],ft=O[1];switch(R){case 2:return[new ve(Math.round(N.left),Math.round(N.top+Ge)),new ve(Math.round(N.left+N.width),Math.round(N.top+Ge)),new ve(Math.round(N.left+N.width),Math.round(ft+N.top+Ge)),new ve(Math.round(N.left),Math.round(ft+N.top+Ge))];case 3:return[new ve(Math.round(N.left+De),Math.round(N.top)),new ve(Math.round(N.left+De+Et),Math.round(N.top)),new ve(Math.round(N.left+De+Et),Math.round(N.height+N.top)),new ve(Math.round(N.left+De),Math.round(N.height+N.top))];case 1:return[new ve(Math.round(N.left+De),Math.round(N.top+Ge)),new ve(Math.round(N.left+De+Et),Math.round(N.top+Ge)),new ve(Math.round(N.left+De+Et),Math.round(N.top+Ge+ft)),new ve(Math.round(N.left+De),Math.round(N.top+Ge+ft))];default:return[new ve(Math.round(ce.left),Math.round(ce.top)),new ve(Math.round(ce.left+ce.width),Math.round(ce.top)),new ve(Math.round(ce.left+ce.width),Math.round(ce.height+ce.top)),new ve(Math.round(ce.left),Math.round(ce.height+ce.top))]}},Ar="Hidden Text",Ht=function(){function R(B){this._data={},this._document=B}return R.prototype.parseMetrics=function(B,O){var N=this._document.createElement("div"),ce=this._document.createElement("img"),De=this._document.createElement("span"),Ge=this._document.body;N.style.visibility="hidden",N.style.fontFamily=B,N.style.fontSize=O,N.style.margin="0",N.style.padding="0",N.style.whiteSpace="nowrap",Ge.appendChild(N),ce.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ce.width=1,ce.height=1,ce.style.margin="0",ce.style.padding="0",ce.style.verticalAlign="baseline",De.style.fontFamily=B,De.style.fontSize=O,De.style.margin="0",De.style.padding="0",De.appendChild(this._document.createTextNode(Ar)),N.appendChild(De),N.appendChild(ce);var Et=ce.offsetTop-De.offsetTop+2;N.removeChild(De),N.appendChild(this._document.createTextNode(Ar)),N.style.lineHeight="normal",ce.style.verticalAlign="super";var ft=ce.offsetTop-N.offsetTop+2;return Ge.removeChild(N),{baseline:Et,middle:ft}},R.prototype.getMetrics=function(B,O){var N=B+" "+O;return typeof this._data[N]>"u"&&(this._data[N]=this.parseMetrics(B,O)),this._data[N]},R}(),jo=function(){return function R(B,O){this.context=B,this.options=O}}(),Gr=function(R){function B(O,N){var ce=R.call(this,O,N)||this;return ce._activeEffects=[],ce.canvas=N.canvas?N.canvas:document.createElement("canvas"),ce.ctx=ce.canvas.getContext("2d"),N.canvas||(ce.canvas.width=Math.floor(N.width*N.scale),ce.canvas.height=Math.floor(N.height*N.scale),ce.canvas.style.width=N.width+"px",ce.canvas.style.height=N.height+"px"),ce.fontMetrics=new Ht(document),ce.ctx.scale(ce.options.scale,ce.options.scale),ce.ctx.translate(-N.x,-N.y),ce.ctx.textBaseline="bottom",ce._activeEffects=[],ce.context.logger.debug("Canvas renderer initialized ("+N.width+"x"+N.height+") with scale "+N.scale),ce}return Be(B,R),B.prototype.applyEffects=function(O){for(var N=this;this._activeEffects.length;)this.popEffect();O.forEach(function(ce){return N.applyEffect(ce)})},B.prototype.applyEffect=function(O){this.ctx.save(),function(R){return 2===R.type}(O)&&(this.ctx.globalAlpha=O.opacity),function(R){return 0===R.type}(O)&&(this.ctx.translate(O.offsetX,O.offsetY),this.ctx.transform(O.matrix[0],O.matrix[1],O.matrix[2],O.matrix[3],O.matrix[4],O.matrix[5]),this.ctx.translate(-O.offsetX,-O.offsetY)),We(O)&&(this.path(O.path),this.ctx.clip()),this._activeEffects.push(O)},B.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},B.prototype.renderStack=function(O){return e(this,void 0,void 0,function(){return wt(this,function(ce){switch(ce.label){case 0:return O.element.container.styles.isVisible()?[4,this.renderStackContent(O)]:[3,2];case 1:ce.sent(),ce.label=2;case 2:return[2]}})})},B.prototype.renderNode=function(O){return e(this,void 0,void 0,function(){return wt(this,function(N){switch(N.label){case 0:return al(O.container.flags,16),O.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(O)]:[3,3];case 1:return N.sent(),[4,this.renderNodeContent(O)];case 2:N.sent(),N.label=3;case 3:return[2]}})})},B.prototype.renderTextWithLetterSpacing=function(O,N,ce){var De=this;0===N?this.ctx.fillText(O.text,O.bounds.left,O.bounds.top+ce):VA(O.text).reduce(function(Et,ft){return De.ctx.fillText(ft,Et,O.bounds.top+ce),Et+De.ctx.measureText(ft).width},O.bounds.left)},B.prototype.createFontStyle=function(O){var N=O.fontVariant.filter(function(Ge){return"normal"===Ge||"small-caps"===Ge}).join(""),ce=Xo(O.fontFamily).join(", "),De=xs(O.fontSize)?""+O.fontSize.number+O.fontSize.unit:O.fontSize.number+"px";return[[O.fontStyle,N,O.fontWeight,De,ce].join(" "),ce,De]},B.prototype.renderTextNode=function(O,N){return e(this,void 0,void 0,function(){var ce,Ge,Et,ft,ln,fn,Sn,On=this;return wt(this,function(Lr){return ce=this.createFontStyle(N),Ge=ce[1],Et=ce[2],this.ctx.font=ce[0],this.ctx.direction=1===N.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",ft=this.fontMetrics.getMetrics(Ge,Et),ln=ft.baseline,fn=ft.middle,Sn=N.paintOrder,O.textBounds.forEach(function(Ur){Sn.forEach(function(ni){switch(ni){case 0:On.ctx.fillStyle=fi(N.color),On.renderTextWithLetterSpacing(Ur,N.letterSpacing,ln);var Uo=N.textShadow;Uo.length&&Ur.text.trim().length&&(Uo.slice(0).reverse().forEach(function(Pi){On.ctx.shadowColor=fi(Pi.color),On.ctx.shadowOffsetX=Pi.offsetX.number*On.options.scale,On.ctx.shadowOffsetY=Pi.offsetY.number*On.options.scale,On.ctx.shadowBlur=Pi.blur.number,On.renderTextWithLetterSpacing(Ur,N.letterSpacing,ln)}),On.ctx.shadowColor="",On.ctx.shadowOffsetX=0,On.ctx.shadowOffsetY=0,On.ctx.shadowBlur=0),N.textDecorationLine.length&&(On.ctx.fillStyle=fi(N.textDecorationColor||N.color),N.textDecorationLine.forEach(function(Pi){switch(Pi){case 1:On.ctx.fillRect(Ur.bounds.left,Math.round(Ur.bounds.top+ln),Ur.bounds.width,1);break;case 2:On.ctx.fillRect(Ur.bounds.left,Math.round(Ur.bounds.top),Ur.bounds.width,1);break;case 3:On.ctx.fillRect(Ur.bounds.left,Math.ceil(Ur.bounds.top+fn),Ur.bounds.width,1)}}));break;case 1:N.webkitTextStrokeWidth&&Ur.text.trim().length&&(On.ctx.strokeStyle=fi(N.webkitTextStrokeColor),On.ctx.lineWidth=N.webkitTextStrokeWidth,On.ctx.lineJoin=window.chrome?"miter":"round",On.ctx.strokeText(Ur.text,Ur.bounds.left,Ur.bounds.top+ln)),On.ctx.strokeStyle="",On.ctx.lineWidth=0,On.ctx.lineJoin="miter"}})}),[2]})})},B.prototype.renderReplacedElement=function(O,N,ce){if(ce&&O.intrinsicWidth>0&&O.intrinsicHeight>0){var De=Dt(O),Ge=b(N);this.path(Ge),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(ce,0,0,O.intrinsicWidth,O.intrinsicHeight,De.left,De.top,De.width,De.height),this.ctx.restore()}},B.prototype.renderNodeContent=function(O){return e(this,void 0,void 0,function(){var N,ce,De,Ge,Et,fn,Sn,On,Ur,ni,Uo,Pi,Ir,ws,Ho,co;return wt(this,function(Jr){switch(Jr.label){case 0:this.applyEffects(O.getEffects(4)),ce=O.curves,De=(N=O.container).styles,Ge=0,Et=N.textNodes,Jr.label=1;case 1:return Ge<Et.length?[4,this.renderTextNode(Et[Ge],De)]:[3,4];case 2:Jr.sent(),Jr.label=3;case 3:return Ge++,[3,1];case 4:if(!(N instanceof Fu))return[3,8];Jr.label=5;case 5:return Jr.trys.push([5,7,,8]),[4,this.context.cache.match(N.src)];case 6:return Ir=Jr.sent(),this.renderReplacedElement(N,ce,Ir),[3,8];case 7:return Jr.sent(),this.context.logger.error("Error loading image "+N.src),[3,8];case 8:if(N instanceof ga&&this.renderReplacedElement(N,ce,N.canvas),!(N instanceof Yd))return[3,12];Jr.label=9;case 9:return Jr.trys.push([9,11,,12]),[4,this.context.cache.match(N.svg)];case 10:return Ir=Jr.sent(),this.renderReplacedElement(N,ce,Ir),[3,12];case 11:return Jr.sent(),this.context.logger.error("Error loading svg "+N.svg.substring(0,255)),[3,12];case 12:return N instanceof Ru&&N.tree?[4,new B(this.context,{scale:this.options.scale,backgroundColor:N.backgroundColor,x:0,y:0,width:N.width,height:N.height}).render(N.tree)]:[3,14];case 13:fn=Jr.sent(),N.width&&N.height&&this.ctx.drawImage(fn,0,0,N.width,N.height,N.bounds.left,N.bounds.top,N.bounds.width,N.bounds.height),Jr.label=14;case 14:if(N instanceof Za&&(Sn=Math.min(N.bounds.width,N.bounds.height),N.type===Ia?N.checked&&(this.ctx.save(),this.path([new ve(N.bounds.left+.39363*Sn,N.bounds.top+.79*Sn),new ve(N.bounds.left+.16*Sn,N.bounds.top+.5549*Sn),new ve(N.bounds.left+.27347*Sn,N.bounds.top+.44071*Sn),new ve(N.bounds.left+.39694*Sn,N.bounds.top+.5649*Sn),new ve(N.bounds.left+.72983*Sn,N.bounds.top+.23*Sn),new ve(N.bounds.left+.84*Sn,N.bounds.top+.34085*Sn),new ve(N.bounds.left+.39363*Sn,N.bounds.top+.79*Sn)]),this.ctx.fillStyle=fi(xu),this.ctx.fill(),this.ctx.restore()):N.type===ic&&N.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(N.bounds.left+Sn/2,N.bounds.top+Sn/2,Sn/4,0,2*Math.PI,!0),this.ctx.fillStyle=fi(xu),this.ctx.fill(),this.ctx.restore())),li(N)&&N.value.length){switch(On=this.createFontStyle(De),Ur=this.fontMetrics.getMetrics(Ho=On[0],On[1]).baseline,this.ctx.font=Ho,this.ctx.fillStyle=fi(De.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=vi(N.styles.textAlign),co=Dt(N),ni=0,N.styles.textAlign){case 1:ni+=co.width/2;break;case 2:ni+=co.width}Uo=co.add(ni,0,0,-co.height/2+1),this.ctx.save(),this.path([new ve(co.left,co.top),new ve(co.left+co.width,co.top),new ve(co.left+co.width,co.top+co.height),new ve(co.left,co.top+co.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Oc(N.value,Uo),De.letterSpacing,Ur),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!al(N.styles.display,2048))return[3,20];if(null===N.styles.listStyleImage)return[3,19];if(0!==(Pi=N.styles.listStyleImage).type)return[3,18];Ir=void 0,ws=Pi.url,Jr.label=15;case 15:return Jr.trys.push([15,17,,18]),[4,this.context.cache.match(ws)];case 16:return Ir=Jr.sent(),this.ctx.drawImage(Ir,N.bounds.left-(Ir.width+10),N.bounds.top),[3,18];case 17:return Jr.sent(),this.context.logger.error("Error loading list-style-image "+ws),[3,18];case 18:return[3,20];case 19:O.listValue&&-1!==N.styles.listStyleType&&(Ho=this.createFontStyle(De)[0],this.ctx.font=Ho,this.ctx.fillStyle=fi(De.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",co=new Z(N.bounds.left,N.bounds.top+lo(N.styles.paddingTop,N.bounds.width),N.bounds.width,$c(De.lineHeight,De.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Oc(O.listValue,co),De.letterSpacing,$c(De.lineHeight,De.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Jr.label=20;case 20:return[2]}})})},B.prototype.renderStackContent=function(O){return e(this,void 0,void 0,function(){var N,ce,De,Ge,Et,ft,ln,fn,Sn,On,Lr,Ur,ni,Uo;return wt(this,function(Ir){switch(Ir.label){case 0:return al(O.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(O.element)];case 1:Ir.sent(),N=0,ce=O.negativeZIndex,Ir.label=2;case 2:return N<ce.length?[4,this.renderStack(ce[N])]:[3,5];case 3:Ir.sent(),Ir.label=4;case 4:return N++,[3,2];case 5:return[4,this.renderNodeContent(O.element)];case 6:Ir.sent(),De=0,Ge=O.nonInlineLevel,Ir.label=7;case 7:return De<Ge.length?[4,this.renderNode(Ge[De])]:[3,10];case 8:Ir.sent(),Ir.label=9;case 9:return De++,[3,7];case 10:Et=0,ft=O.nonPositionedFloats,Ir.label=11;case 11:return Et<ft.length?[4,this.renderStack(ft[Et])]:[3,14];case 12:Ir.sent(),Ir.label=13;case 13:return Et++,[3,11];case 14:ln=0,fn=O.nonPositionedInlineLevel,Ir.label=15;case 15:return ln<fn.length?[4,this.renderStack(fn[ln])]:[3,18];case 16:Ir.sent(),Ir.label=17;case 17:return ln++,[3,15];case 18:Sn=0,On=O.inlineLevel,Ir.label=19;case 19:return Sn<On.length?[4,this.renderNode(On[Sn])]:[3,22];case 20:Ir.sent(),Ir.label=21;case 21:return Sn++,[3,19];case 22:Lr=0,Ur=O.zeroOrAutoZIndexOrTransformedOrOpacity,Ir.label=23;case 23:return Lr<Ur.length?[4,this.renderStack(Ur[Lr])]:[3,26];case 24:Ir.sent(),Ir.label=25;case 25:return Lr++,[3,23];case 26:ni=0,Uo=O.positiveZIndex,Ir.label=27;case 27:return ni<Uo.length?[4,this.renderStack(Uo[ni])]:[3,30];case 28:Ir.sent(),Ir.label=29;case 29:return ni++,[3,27];case 30:return[2]}})})},B.prototype.mask=function(O){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(O.slice(0).reverse()),this.ctx.closePath()},B.prototype.path=function(O){this.ctx.beginPath(),this.formatPath(O),this.ctx.closePath()},B.prototype.formatPath=function(O){var N=this;O.forEach(function(ce,De){var Ge=ct(ce)?ce.start:ce;0===De?N.ctx.moveTo(Ge.x,Ge.y):N.ctx.lineTo(Ge.x,Ge.y),ct(ce)&&N.ctx.bezierCurveTo(ce.startControl.x,ce.startControl.y,ce.endControl.x,ce.endControl.y,ce.end.x,ce.end.y)})},B.prototype.renderRepeat=function(O,N,ce,De){this.path(O),this.ctx.fillStyle=N,this.ctx.translate(ce,De),this.ctx.fill(),this.ctx.translate(-ce,-De)},B.prototype.resizeImage=function(O,N,ce){var De;if(O.width===N&&O.height===ce)return O;var Et=(null!==(De=this.canvas.ownerDocument)&&void 0!==De?De:document).createElement("canvas");return Et.width=Math.max(1,N),Et.height=Math.max(1,ce),Et.getContext("2d").drawImage(O,0,0,O.width,O.height,0,0,N,ce),Et},B.prototype.renderBackgroundImage=function(O){return e(this,void 0,void 0,function(){var N,ce,De,Ge,Et;return wt(this,function(ln){switch(ln.label){case 0:N=O.styles.backgroundImage.length-1,ce=function(fn){var Sn,On,Lr,Ur,ni,Uo,Pi,Ir,ws,Ho,co,Jr,Eo,zo,No,zs,gl,ll,us,ca,xl,cl,zl,pu,iA,Mu,Sc,KA,oA,rd,Ou;return wt(this,function(CA){switch(CA.label){case 0:if(0!==fn.type)return[3,5];Sn=void 0,On=fn.url,CA.label=1;case 1:return CA.trys.push([1,3,,4]),[4,De.context.cache.match(On)];case 2:return Sn=CA.sent(),[3,4];case 3:return CA.sent(),De.context.logger.error("Error loading background-image "+On),[3,4];case 4:return Sn&&(Lr=Kn(O,N,[Sn.width,Sn.height,Sn.width/Sn.height]),zs=Lr[0],cl=Lr[1],zl=Lr[2],zo=De.ctx.createPattern(De.resizeImage(Sn,us=Lr[3],ca=Lr[4]),"repeat"),De.renderRepeat(zs,zo,cl,zl)),[3,6];case 5:!function(R){return 1===R.type}(fn)?function(R){return 2===R.type}(fn)&&(No=Kn(O,N,[null,null,null]),zs=No[0],gl=No[1],ll=No[2],ca=No[4],cl=lo((xl=0===fn.position.length?[Bi]:fn.position)[0],us=No[3]),zl=lo(xl[xl.length-1],ca),pu=function(R,B,O,N,ce){var De=0,Ge=0;switch(R.size){case 0:0===R.shape?De=Ge=Math.min(Math.abs(B),Math.abs(B-N),Math.abs(O),Math.abs(O-ce)):1===R.shape&&(De=Math.min(Math.abs(B),Math.abs(B-N)),Ge=Math.min(Math.abs(O),Math.abs(O-ce)));break;case 2:if(0===R.shape)De=Ge=Math.min(qa(B,O),qa(B,O-ce),qa(B-N,O),qa(B-N,O-ce));else if(1===R.shape){var Et=Math.min(Math.abs(O),Math.abs(O-ce))/Math.min(Math.abs(B),Math.abs(B-N)),ft=ol(N,ce,B,O,!0);Ge=Et*(De=qa(ft[0]-B,(ft[1]-O)/Et))}break;case 1:0===R.shape?De=Ge=Math.max(Math.abs(B),Math.abs(B-N),Math.abs(O),Math.abs(O-ce)):1===R.shape&&(De=Math.max(Math.abs(B),Math.abs(B-N)),Ge=Math.max(Math.abs(O),Math.abs(O-ce)));break;case 3:if(0===R.shape)De=Ge=Math.max(qa(B,O),qa(B,O-ce),qa(B-N,O),qa(B-N,O-ce));else if(1===R.shape){Et=Math.max(Math.abs(O),Math.abs(O-ce))/Math.max(Math.abs(B),Math.abs(B-N));var Sn=ol(N,ce,B,O,!1);Ge=Et*(De=qa(Sn[0]-B,(Sn[1]-O)/Et))}}return Array.isArray(R.size)&&(De=lo(R.size[0],N),Ge=2===R.size.length?lo(R.size[1],ce):De),[De,Ge]}(fn,cl,zl,us,ca),Mu=pu[1],(iA=pu[0])>0&&Mu>0&&(Sc=De.ctx.createRadialGradient(gl+cl,ll+zl,0,gl+cl,ll+zl,iA),Gl(fn.stops,2*iA).forEach(function(Nd){return Sc.addColorStop(Nd.stop,fi(Nd.color))}),De.path(zs),De.ctx.fillStyle=Sc,iA!==Mu?(KA=O.bounds.left+.5*O.bounds.width,oA=O.bounds.top+.5*O.bounds.height,Ou=1/(rd=Mu/iA),De.ctx.save(),De.ctx.translate(KA,oA),De.ctx.transform(1,0,0,rd,0,0),De.ctx.translate(-KA,-oA),De.ctx.fillRect(gl,Ou*(ll-oA)+oA,us,ca*Ou),De.ctx.restore()):De.ctx.fill())):(Ur=Kn(O,N,[null,null,null]),zs=Ur[0],cl=Ur[1],zl=Ur[2],ni=lc(fn.angle,us=Ur[3],ca=Ur[4]),Uo=ni[0],Pi=ni[1],Ir=ni[2],ws=ni[3],Ho=ni[4],(co=document.createElement("canvas")).width=us,co.height=ca,Jr=co.getContext("2d"),Eo=Jr.createLinearGradient(Pi,ws,Ir,Ho),Gl(fn.stops,Uo).forEach(function(Nd){return Eo.addColorStop(Nd.stop,fi(Nd.color))}),Jr.fillStyle=Eo,Jr.fillRect(0,0,us,ca),us>0&&ca>0&&(zo=De.ctx.createPattern(co,"repeat"),De.renderRepeat(zs,zo,cl,zl))),CA.label=6;case 6:return N--,[2]}})},De=this,Ge=0,Et=O.styles.backgroundImage.slice(0).reverse(),ln.label=1;case 1:return Ge<Et.length?[5,ce(Et[Ge])]:[3,4];case 2:ln.sent(),ln.label=3;case 3:return Ge++,[3,1];case 4:return[2]}})})},B.prototype.renderSolidBorder=function(O,N,ce){return e(this,void 0,void 0,function(){return wt(this,function(De){return this.path(M(ce,N)),this.ctx.fillStyle=fi(O),this.ctx.fill(),[2]})})},B.prototype.renderDoubleBorder=function(O,N,ce,De){return e(this,void 0,void 0,function(){var Ge,Et;return wt(this,function(ft){switch(ft.label){case 0:return N<3?[4,this.renderSolidBorder(O,ce,De)]:[3,2];case 1:return ft.sent(),[2];case 2:return Ge=function(R,B){switch(B){case 0:return Ke(R.topLeftBorderBox,R.topLeftBorderDoubleOuterBox,R.topRightBorderBox,R.topRightBorderDoubleOuterBox);case 1:return Ke(R.topRightBorderBox,R.topRightBorderDoubleOuterBox,R.bottomRightBorderBox,R.bottomRightBorderDoubleOuterBox);case 2:return Ke(R.bottomRightBorderBox,R.bottomRightBorderDoubleOuterBox,R.bottomLeftBorderBox,R.bottomLeftBorderDoubleOuterBox);default:return Ke(R.bottomLeftBorderBox,R.bottomLeftBorderDoubleOuterBox,R.topLeftBorderBox,R.topLeftBorderDoubleOuterBox)}}(De,ce),this.path(Ge),this.ctx.fillStyle=fi(O),this.ctx.fill(),Et=function(R,B){switch(B){case 0:return Ke(R.topLeftBorderDoubleInnerBox,R.topLeftPaddingBox,R.topRightBorderDoubleInnerBox,R.topRightPaddingBox);case 1:return Ke(R.topRightBorderDoubleInnerBox,R.topRightPaddingBox,R.bottomRightBorderDoubleInnerBox,R.bottomRightPaddingBox);case 2:return Ke(R.bottomRightBorderDoubleInnerBox,R.bottomRightPaddingBox,R.bottomLeftBorderDoubleInnerBox,R.bottomLeftPaddingBox);default:return Ke(R.bottomLeftBorderDoubleInnerBox,R.bottomLeftPaddingBox,R.topLeftBorderDoubleInnerBox,R.topLeftPaddingBox)}}(De,ce),this.path(Et),this.ctx.fill(),[2]}})})},B.prototype.renderNodeBackgroundAndBorders=function(O){return e(this,void 0,void 0,function(){var N,ce,De,Ge,Et,ft,ln,fn,Sn=this;return wt(this,function(On){switch(On.label){case 0:return this.applyEffects(O.getEffects(2)),ce=!tc((N=O.container.styles).backgroundColor)||N.backgroundImage.length,De=[{style:N.borderTopStyle,color:N.borderTopColor,width:N.borderTopWidth},{style:N.borderRightStyle,color:N.borderRightColor,width:N.borderRightWidth},{style:N.borderBottomStyle,color:N.borderBottomColor,width:N.borderBottomWidth},{style:N.borderLeftStyle,color:N.borderLeftColor,width:N.borderLeftWidth}],Ge=Ii(gi(N.backgroundClip,0),O.curves),ce||N.boxShadow.length?(this.ctx.save(),this.path(Ge),this.ctx.clip(),tc(N.backgroundColor)||(this.ctx.fillStyle=fi(N.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(O.container)]):[3,2];case 1:On.sent(),this.ctx.restore(),N.boxShadow.slice(0).reverse().forEach(function(Lr){Sn.ctx.save();var Ur=A(O.curves),ni=Lr.inset?0:1e4,Uo=function(R,B,O,N,ce){return R.map(function(De,Ge){switch(Ge){case 0:return De.add(B,O);case 1:return De.add(B+N,O);case 2:return De.add(B+N,O+ce);case 3:return De.add(B,O+ce)}return De})}(Ur,(Lr.inset?1:-1)*Lr.spread.number-ni,(Lr.inset?1:-1)*Lr.spread.number,Lr.spread.number*(Lr.inset?-2:2),Lr.spread.number*(Lr.inset?-2:2));Lr.inset?(Sn.path(Ur),Sn.ctx.clip(),Sn.mask(Uo)):(Sn.mask(Ur),Sn.ctx.clip(),Sn.path(Uo)),Sn.ctx.shadowOffsetX=Lr.offsetX.number+ni,Sn.ctx.shadowOffsetY=Lr.offsetY.number,Sn.ctx.shadowColor=fi(Lr.color),Sn.ctx.shadowBlur=Lr.blur.number,Sn.ctx.fillStyle=Lr.inset?fi(Lr.color):"rgba(0,0,0,1)",Sn.ctx.fill(),Sn.ctx.restore()}),On.label=2;case 2:Et=0,ft=0,ln=De,On.label=3;case 3:return ft<ln.length?0!==(fn=ln[ft]).style&&!tc(fn.color)&&fn.width>0?2!==fn.style?[3,5]:[4,this.renderDashedDottedBorder(fn.color,fn.width,Et,O.curves,2)]:[3,11]:[3,13];case 4:return On.sent(),[3,11];case 5:return 3!==fn.style?[3,7]:[4,this.renderDashedDottedBorder(fn.color,fn.width,Et,O.curves,3)];case 6:return On.sent(),[3,11];case 7:return 4!==fn.style?[3,9]:[4,this.renderDoubleBorder(fn.color,fn.width,Et,O.curves)];case 8:return On.sent(),[3,11];case 9:return[4,this.renderSolidBorder(fn.color,Et,O.curves)];case 10:On.sent(),On.label=11;case 11:Et++,On.label=12;case 12:return ft++,[3,3];case 13:return[2]}})})},B.prototype.renderDashedDottedBorder=function(O,N,ce,De,Ge){return e(this,void 0,void 0,function(){var Et,ft,ln,fn,Sn,On,Lr,Ur,ni,Uo,Pi,Ir,ws,Ho,co,Jr;return wt(this,function(Eo){return this.ctx.save(),Et=function(R,B){switch(B){case 0:return ye(R.topLeftBorderStroke,R.topRightBorderStroke);case 1:return ye(R.topRightBorderStroke,R.bottomRightBorderStroke);case 2:return ye(R.bottomRightBorderStroke,R.bottomLeftBorderStroke);default:return ye(R.bottomLeftBorderStroke,R.topLeftBorderStroke)}}(De,ce),ft=M(De,ce),2===Ge&&(this.path(ft),this.ctx.clip()),ct(ft[0])?(ln=ft[0].start.x,fn=ft[0].start.y):(ln=ft[0].x,fn=ft[0].y),ct(ft[1])?(Sn=ft[1].end.x,On=ft[1].end.y):(Sn=ft[1].x,On=ft[1].y),Lr=0===ce||2===ce?Math.abs(ln-Sn):Math.abs(fn-On),this.ctx.beginPath(),this.formatPath(3===Ge?Et:ft.slice(0,2)),Ur=N<3?3*N:2*N,ni=N<3?2*N:N,3===Ge&&(Ur=N,ni=N),Uo=!0,Lr<=2*Ur?Uo=!1:Lr<=2*Ur+ni?(Ur*=Pi=Lr/(2*Ur+ni),ni*=Pi):(Ir=Math.floor((Lr+ni)/(Ur+ni)),ws=(Lr-Ir*Ur)/(Ir-1),ni=(Ho=(Lr-(Ir+1)*Ur)/Ir)<=0||Math.abs(ni-ws)<Math.abs(ni-Ho)?ws:Ho),Uo&&this.ctx.setLineDash(3===Ge?[0,Ur+ni]:[Ur,ni]),3===Ge?(this.ctx.lineCap="round",this.ctx.lineWidth=N):this.ctx.lineWidth=2*N+1.1,this.ctx.strokeStyle=fi(O),this.ctx.stroke(),this.ctx.setLineDash([]),2===Ge&&(ct(ft[0])&&(co=ft[3],Jr=ft[0],this.ctx.beginPath(),this.formatPath([new ve(co.end.x,co.end.y),new ve(Jr.start.x,Jr.start.y)]),this.ctx.stroke()),ct(ft[1])&&(co=ft[1],Jr=ft[2],this.ctx.beginPath(),this.formatPath([new ve(co.end.x,co.end.y),new ve(Jr.start.x,Jr.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},B.prototype.render=function(O){return e(this,void 0,void 0,function(){var N;return wt(this,function(ce){switch(ce.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=fi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),N=function(R){var B=new It(R,null),O=new dt(B),N=[];return F(B,O,O,N),v(B.container,N),O}(O),[4,this.renderStack(N)];case 1:return ce.sent(),this.applyEffects([]),[2,this.canvas]}})})},B}(jo),li=function(R){return R instanceof Cc||R instanceof Jd||R instanceof Za&&R.type!==ic&&R.type!==Ia},Ii=function(R,B){switch(R){case 0:return A(B);case 2:return function(R){return[R.topLeftContentBox,R.topRightContentBox,R.bottomRightContentBox,R.bottomLeftContentBox]}(B);default:return b(B)}},vi=function(R){switch(R){case 1:return"center";case 2:return"right";default:return"left"}},po=["-apple-system","system-ui"],Xo=function(R){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?R.filter(function(B){return-1===po.indexOf(B)}):R},ys=function(R){function B(O,N){var ce=R.call(this,O,N)||this;return ce.canvas=N.canvas?N.canvas:document.createElement("canvas"),ce.ctx=ce.canvas.getContext("2d"),ce.options=N,ce.canvas.width=Math.floor(N.width*N.scale),ce.canvas.height=Math.floor(N.height*N.scale),ce.canvas.style.width=N.width+"px",ce.canvas.style.height=N.height+"px",ce.ctx.scale(ce.options.scale,ce.options.scale),ce.ctx.translate(-N.x,-N.y),ce.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+N.width+"x"+N.height+" at "+N.x+","+N.y+") with scale "+N.scale),ce}return Be(B,R),B.prototype.render=function(O){return e(this,void 0,void 0,function(){var N,ce;return wt(this,function(De){switch(De.label){case 0:return N=bd(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,O),[4,Ts(N)];case 1:return ce=De.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=fi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(ce,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},B}(jo),Ts=function(R){return new Promise(function(B,O){var N=new Image;N.onload=function(){B(N)},N.onerror=O,N.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(R))})},ta=function(){function R(B){var N=B.enabled;this.id=B.id,this.enabled=N,this.start=Date.now()}return R.prototype.debug=function(){for(var B=[],O=0;O<arguments.length;O++)B[O]=arguments[O];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,ot([this.id,this.getTime()+"ms"],B)):this.info.apply(this,B))},R.prototype.getTime=function(){return Date.now()-this.start},R.prototype.info=function(){for(var B=[],O=0;O<arguments.length;O++)B[O]=arguments[O];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,ot([this.id,this.getTime()+"ms"],B))},R.prototype.warn=function(){for(var B=[],O=0;O<arguments.length;O++)B[O]=arguments[O];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,ot([this.id,this.getTime()+"ms"],B)):this.info.apply(this,B))},R.prototype.error=function(){for(var B=[],O=0;O<arguments.length;O++)B[O]=arguments[O];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,ot([this.id,this.getTime()+"ms"],B)):this.info.apply(this,B))},R.instances={},R}(),ja=function(){function R(B,O){var N;this.windowBounds=O,this.instanceName="#"+R.instanceCount++,this.logger=new ta({id:this.instanceName,enabled:B.logging}),this.cache=null!==(N=B.cache)&&void 0!==N?N:new c(this,B)}return R.instanceCount=1,R}();typeof window<"u"&&d.setContext(window);var Hs=function(R,B){return e(void 0,void 0,void 0,function(){var O,N,ce,De,Ge,Et,ft,ln,fn,Sn,On,Lr,Ur,ni,Uo,Pi,Ir,ws,Ho,co,Jr,zo,No,zs,gl,ll,us,ca,xl,cl,zl,pu,iA,Mu,Sc,KA,oA,rd;return wt(this,function(Ou){switch(Ou.label){case 0:if(!R||"object"!=typeof R)return[2,Promise.reject("Invalid element provided as first argument")];if(!(O=R.ownerDocument))throw new Error("Element is not attached to a Document");if(!(N=O.defaultView))throw new Error("Document is not attached to a Window");return ce={allowTaint:null!==(zo=B.allowTaint)&&void 0!==zo&&zo,imageTimeout:null!==(No=B.imageTimeout)&&void 0!==No?No:15e3,proxy:B.proxy,useCORS:null!==(zs=B.useCORS)&&void 0!==zs&&zs},De=w({logging:null===(gl=B.logging)||void 0===gl||gl,cache:B.cache},ce),Ge={windowWidth:null!==(ll=B.windowWidth)&&void 0!==ll?ll:N.innerWidth,windowHeight:null!==(us=B.windowHeight)&&void 0!==us?us:N.innerHeight,scrollX:null!==(ca=B.scrollX)&&void 0!==ca?ca:N.pageXOffset,scrollY:null!==(xl=B.scrollY)&&void 0!==xl?xl:N.pageYOffset},Et=new Z(Ge.scrollX,Ge.scrollY,Ge.windowWidth,Ge.windowHeight),ft=new ja(De,Et),ln=null!==(cl=B.foreignObjectRendering)&&void 0!==cl&&cl,fn={allowTaint:null!==(zl=B.allowTaint)&&void 0!==zl&&zl,onclone:B.onclone,ignoreElements:B.ignoreElements,inlineImages:ln,copyStyles:ln},ft.logger.debug("Starting document clone with size "+Et.width+"x"+Et.height+" scrolled to "+-Et.left+","+-Et.top),Sn=new GA(ft,R,fn),(On=Sn.clonedReferenceElement)?[4,Sn.toIFrame(O,Et)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Lr=Ou.sent(),Ur=_A(On)||function(R){return"HTML"===R.tagName}(On)?function(R){var B=R.body,O=R.documentElement;if(!B||!O)throw new Error("Unable to get document size");var N=Math.max(Math.max(B.scrollWidth,O.scrollWidth),Math.max(B.offsetWidth,O.offsetWidth),Math.max(B.clientWidth,O.clientWidth)),ce=Math.max(Math.max(B.scrollHeight,O.scrollHeight),Math.max(B.offsetHeight,O.offsetHeight),Math.max(B.clientHeight,O.clientHeight));return new Z(0,0,N,ce)}(On.ownerDocument):tt(ft,On),ni=Ur.width,Uo=Ur.height,Pi=Ur.left,Ir=Ur.top,ws=Si(ft,On,B.backgroundColor),Ho={canvas:B.canvas,backgroundColor:ws,scale:null!==(iA=null!==(pu=B.scale)&&void 0!==pu?pu:N.devicePixelRatio)&&void 0!==iA?iA:1,x:(null!==(Mu=B.x)&&void 0!==Mu?Mu:0)+Pi,y:(null!==(Sc=B.y)&&void 0!==Sc?Sc:0)+Ir,width:null!==(KA=B.width)&&void 0!==KA?KA:Math.ceil(ni),height:null!==(oA=B.height)&&void 0!==oA?oA:Math.ceil(Uo)},ln?(ft.logger.debug("Document cloned, using foreign object rendering"),[4,new ys(ft,Ho).render(On)]):[3,3];case 2:return co=Ou.sent(),[3,5];case 3:return ft.logger.debug("Document cloned, element located at "+Pi+","+Ir+" with size "+ni+"x"+Uo+" using computed rendering"),ft.logger.debug("Starting DOM parsing"),Jr=Zd(ft,On),ws===Jr.styles.backgroundColor&&(Jr.styles.backgroundColor=il.TRANSPARENT),ft.logger.debug("Starting renderer for element at "+Ho.x+","+Ho.y+" with size "+Ho.width+"x"+Ho.height),[4,new Gr(ft,Ho).render(Jr)];case 4:co=Ou.sent(),Ou.label=5;case 5:return(!(null!==(rd=B.removeContainer)&&void 0!==rd)||rd)&&(GA.destroy(Lr)||ft.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),ft.logger.debug("Finished rendering"),[2,co]}})})},Si=function(R,B,O){var N=B.ownerDocument,ce=N.documentElement?ya(R,getComputedStyle(N.documentElement).backgroundColor):il.TRANSPARENT,De=N.body?ya(R,getComputedStyle(N.body).backgroundColor):il.TRANSPARENT,Ge="string"==typeof O?ya(R,O):null===O?il.TRANSPARENT:4294967295;return B===N.documentElement?tc(ce)?tc(De)?Ge:De:ce:Ge};return function(R,B){return void 0===B&&(B={}),Hs(R,B)}}()},4412:(Kr,dn,Be)=>{"use strict";Be.d(dn,{t:()=>e});var w=Be(1413);class e extends w.B{constructor(ot){super(),this._value=ot}get value(){return this.getValue()}_subscribe(ot){const Z=super._subscribe(ot);return!Z.closed&&ot.next(this._value),Z}getValue(){const{hasError:ot,thrownError:Z,_value:tt}=this;if(ot)throw Z;return this._throwIfClosed(),tt}next(ot){super.next(this._value=ot)}}},1985:(Kr,dn,Be)=>{"use strict";Be.d(dn,{c:()=>Nt});var w=Be(7707),e=Be(8359),wt=Be(3494),ot=Be(1203),Z=Be(1026),tt=Be(8071),Ze=Be(9786);let Nt=(()=>{class vt{constructor(Ft){Ft&&(this._subscribe=Ft)}lift(Ft){const An=new vt;return An.source=this,An.operator=Ft,An}subscribe(Ft,An,mn){const qt=function et(vt){return vt&&vt instanceof w.vU||function Ct(vt){return vt&&(0,tt.T)(vt.next)&&(0,tt.T)(vt.error)&&(0,tt.T)(vt.complete)}(vt)&&(0,e.Uv)(vt)}(Ft)?Ft:new w.Ms(Ft,An,mn);return(0,Ze.Y)(()=>{const{operator:tn,source:Un}=this;qt.add(tn?tn.call(qt,Un):Un?this._subscribe(qt):this._trySubscribe(qt))}),qt}_trySubscribe(Ft){try{return this._subscribe(Ft)}catch(An){Ft.error(An)}}forEach(Ft,An){return new(An=Ut(An))((mn,qt)=>{const tn=new w.Ms({next:Un=>{try{Ft(Un)}catch(gn){qt(gn),tn.unsubscribe()}},error:qt,complete:mn});this.subscribe(tn)})}_subscribe(Ft){var An;return null===(An=this.source)||void 0===An?void 0:An.subscribe(Ft)}[wt.s](){return this}pipe(...Ft){return(0,ot.m)(Ft)(this)}toPromise(Ft){return new(Ft=Ut(Ft))((An,mn)=>{let qt;this.subscribe(tn=>qt=tn,tn=>mn(tn),()=>An(qt))})}}return vt.create=Mt=>new vt(Mt),vt})();function Ut(vt){var Mt;return null!==(Mt=null!=vt?vt:Z.$.Promise)&&void 0!==Mt?Mt:Promise}},1413:(Kr,dn,Be)=>{"use strict";Be.d(dn,{B:()=>Ze});var w=Be(1985),e=Be(8359);const ot=(0,Be(1853).L)(Ut=>function(){Ut(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Z=Be(7908),tt=Be(9786);let Ze=(()=>{class Ut extends w.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(et){const vt=new Nt(this,this);return vt.operator=et,vt}_throwIfClosed(){if(this.closed)throw new ot}next(et){(0,tt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const vt of this.currentObservers)vt.next(et)}})}error(et){(0,tt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=et;const{observers:vt}=this;for(;vt.length;)vt.shift().error(et)}})}complete(){(0,tt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:et}=this;for(;et.length;)et.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var et;return(null===(et=this.observers)||void 0===et?void 0:et.length)>0}_trySubscribe(et){return this._throwIfClosed(),super._trySubscribe(et)}_subscribe(et){return this._throwIfClosed(),this._checkFinalizedStatuses(et),this._innerSubscribe(et)}_innerSubscribe(et){const{hasError:vt,isStopped:Mt,observers:Ft}=this;return vt||Mt?e.Kn:(this.currentObservers=null,Ft.push(et),new e.yU(()=>{this.currentObservers=null,(0,Z.o)(Ft,et)}))}_checkFinalizedStatuses(et){const{hasError:vt,thrownError:Mt,isStopped:Ft}=this;vt?et.error(Mt):Ft&&et.complete()}asObservable(){const et=new w.c;return et.source=this,et}}return Ut.create=(Ct,et)=>new Nt(Ct,et),Ut})();class Nt extends Ze{constructor(Ct,et){super(),this.destination=Ct,this.source=et}next(Ct){var et,vt;null===(vt=null===(et=this.destination)||void 0===et?void 0:et.next)||void 0===vt||vt.call(et,Ct)}error(Ct){var et,vt;null===(vt=null===(et=this.destination)||void 0===et?void 0:et.error)||void 0===vt||vt.call(et,Ct)}complete(){var Ct,et;null===(et=null===(Ct=this.destination)||void 0===Ct?void 0:Ct.complete)||void 0===et||et.call(Ct)}_subscribe(Ct){var et,vt;return null!==(vt=null===(et=this.source)||void 0===et?void 0:et.subscribe(Ct))&&void 0!==vt?vt:e.Kn}}},7707:(Kr,dn,Be)=>{"use strict";Be.d(dn,{Ms:()=>mn,vU:()=>vt});var w=Be(8071),e=Be(8359),wt=Be(1026),ot=Be(5334),Z=Be(5343);const tt=Ut("C",void 0,void 0);function Ut(Tn,bt,Vt){return{kind:Tn,value:bt,error:Vt}}var Ct=Be(9270),et=Be(9786);class vt extends e.yU{constructor(bt){super(),this.isStopped=!1,bt?(this.destination=bt,(0,e.Uv)(bt)&&bt.add(this)):this.destination=gn}static create(bt,Vt,wn){return new mn(bt,Vt,wn)}next(bt){this.isStopped?Un(function Nt(Tn){return Ut("N",Tn,void 0)}(bt),this):this._next(bt)}error(bt){this.isStopped?Un(function Ze(Tn){return Ut("E",void 0,Tn)}(bt),this):(this.isStopped=!0,this._error(bt))}complete(){this.isStopped?Un(tt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(bt){this.destination.next(bt)}_error(bt){try{this.destination.error(bt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Mt=Function.prototype.bind;function Ft(Tn,bt){return Mt.call(Tn,bt)}class An{constructor(bt){this.partialObserver=bt}next(bt){const{partialObserver:Vt}=this;if(Vt.next)try{Vt.next(bt)}catch(wn){qt(wn)}}error(bt){const{partialObserver:Vt}=this;if(Vt.error)try{Vt.error(bt)}catch(wn){qt(wn)}else qt(bt)}complete(){const{partialObserver:bt}=this;if(bt.complete)try{bt.complete()}catch(Vt){qt(Vt)}}}class mn extends vt{constructor(bt,Vt,wn){let Yt;if(super(),(0,w.T)(bt)||!bt)Yt={next:null!=bt?bt:void 0,error:null!=Vt?Vt:void 0,complete:null!=wn?wn:void 0};else{let Cn;this&&wt.$.useDeprecatedNextContext?(Cn=Object.create(bt),Cn.unsubscribe=()=>this.unsubscribe(),Yt={next:bt.next&&Ft(bt.next,Cn),error:bt.error&&Ft(bt.error,Cn),complete:bt.complete&&Ft(bt.complete,Cn)}):Yt=bt}this.destination=new An(Yt)}}function qt(Tn){wt.$.useDeprecatedSynchronousErrorHandling?(0,et.l)(Tn):(0,ot.m)(Tn)}function Un(Tn,bt){const{onStoppedNotification:Vt}=wt.$;Vt&&Ct.f.setTimeout(()=>Vt(Tn,bt))}const gn={closed:!0,next:Z.l,error:function tn(Tn){throw Tn},complete:Z.l}},8359:(Kr,dn,Be)=>{"use strict";Be.d(dn,{Kn:()=>tt,yU:()=>Z,Uv:()=>Ze});var w=Be(8071);const wt=(0,Be(1853).L)(Ut=>function(et){Ut(this),this.message=et?`${et.length} errors occurred during unsubscription:\n${et.map((vt,Mt)=>`${Mt+1}) ${vt.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=et});var ot=Be(7908);class Z{constructor(Ct){this.initialTeardown=Ct,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ct;if(!this.closed){this.closed=!0;const{_parentage:et}=this;if(et)if(this._parentage=null,Array.isArray(et))for(const Ft of et)Ft.remove(this);else et.remove(this);const{initialTeardown:vt}=this;if((0,w.T)(vt))try{vt()}catch(Ft){Ct=Ft instanceof wt?Ft.errors:[Ft]}const{_finalizers:Mt}=this;if(Mt){this._finalizers=null;for(const Ft of Mt)try{Nt(Ft)}catch(An){Ct=null!=Ct?Ct:[],An instanceof wt?Ct=[...Ct,...An.errors]:Ct.push(An)}}if(Ct)throw new wt(Ct)}}add(Ct){var et;if(Ct&&Ct!==this)if(this.closed)Nt(Ct);else{if(Ct instanceof Z){if(Ct.closed||Ct._hasParent(this))return;Ct._addParent(this)}(this._finalizers=null!==(et=this._finalizers)&&void 0!==et?et:[]).push(Ct)}}_hasParent(Ct){const{_parentage:et}=this;return et===Ct||Array.isArray(et)&&et.includes(Ct)}_addParent(Ct){const{_parentage:et}=this;this._parentage=Array.isArray(et)?(et.push(Ct),et):et?[et,Ct]:Ct}_removeParent(Ct){const{_parentage:et}=this;et===Ct?this._parentage=null:Array.isArray(et)&&(0,ot.o)(et,Ct)}remove(Ct){const{_finalizers:et}=this;et&&(0,ot.o)(et,Ct),Ct instanceof Z&&Ct._removeParent(this)}}Z.EMPTY=(()=>{const Ut=new Z;return Ut.closed=!0,Ut})();const tt=Z.EMPTY;function Ze(Ut){return Ut instanceof Z||Ut&&"closed"in Ut&&(0,w.T)(Ut.remove)&&(0,w.T)(Ut.add)&&(0,w.T)(Ut.unsubscribe)}function Nt(Ut){(0,w.T)(Ut)?Ut():Ut.unsubscribe()}},1026:(Kr,dn,Be)=>{"use strict";Be.d(dn,{$:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Kr,dn,Be)=>{"use strict";Be.d(dn,{z:()=>Ct});var w=Be(1985),e=Be(3073),wt=Be(6648),ot=Be(3669),Z=Be(6450),tt=Be(3794),Ze=Be(8496),Nt=Be(4360),Ut=Be(5225);function Ct(...Mt){const Ft=(0,tt.lI)(Mt),An=(0,tt.ms)(Mt),{args:mn,keys:qt}=(0,e.D)(Mt);if(0===mn.length)return(0,wt.H)([],Ft);const tn=new w.c(function et(Mt,Ft,An=ot.D){return mn=>{vt(Ft,()=>{const{length:qt}=Mt,tn=new Array(qt);let Un=qt,gn=qt;for(let Tn=0;Tn<qt;Tn++)vt(Ft,()=>{const bt=(0,wt.H)(Mt[Tn],Ft);let Vt=!1;bt.subscribe((0,Nt._)(mn,wn=>{tn[Tn]=wn,Vt||(Vt=!0,gn--),gn||mn.next(An(tn.slice()))},()=>{--Un||mn.complete()}))},mn)},mn)}}(mn,Ft,qt?Un=>(0,Ze.e)(qt,Un):ot.D));return An?tn.pipe((0,Z.I)(An)):tn}function vt(Mt,Ft,An){Mt?(0,Ut.N)(An,Mt,Ft):Ft()}},6648:(Kr,dn,Be)=>{"use strict";Be.d(dn,{H:()=>wn});var w=Be(8750),e=Be(5225),wt=Be(9974),ot=Be(4360);function Z(Yt,Cn=0){return(0,wt.N)((Dn,nt)=>{Dn.subscribe((0,ot._)(nt,zn=>(0,e.N)(nt,Yt,()=>nt.next(zn),Cn),()=>(0,e.N)(nt,Yt,()=>nt.complete(),Cn),zn=>(0,e.N)(nt,Yt,()=>nt.error(zn),Cn)))})}function tt(Yt,Cn=0){return(0,wt.N)((Dn,nt)=>{nt.add(Yt.schedule(()=>Dn.subscribe(nt),Cn))})}var Ut=Be(1985),et=Be(4761),vt=Be(8071);function Ft(Yt,Cn){if(!Yt)throw new Error("Iterable cannot be null");return new Ut.c(Dn=>{(0,e.N)(Dn,Cn,()=>{const nt=Yt[Symbol.asyncIterator]();(0,e.N)(Dn,Cn,()=>{nt.next().then(zn=>{zn.done?Dn.complete():Dn.next(zn.value)})},0,!0)})})}var An=Be(5055),mn=Be(9858),qt=Be(7441),tn=Be(5397),Un=Be(7953),gn=Be(591),Tn=Be(5196);function wn(Yt,Cn){return Cn?function Vt(Yt,Cn){if(null!=Yt){if((0,An.l)(Yt))return function Ze(Yt,Cn){return(0,w.Tg)(Yt).pipe(tt(Cn),Z(Cn))}(Yt,Cn);if((0,qt.X)(Yt))return function Ct(Yt,Cn){return new Ut.c(Dn=>{let nt=0;return Cn.schedule(function(){nt===Yt.length?Dn.complete():(Dn.next(Yt[nt++]),Dn.closed||this.schedule())})})}(Yt,Cn);if((0,mn.y)(Yt))return function Nt(Yt,Cn){return(0,w.Tg)(Yt).pipe(tt(Cn),Z(Cn))}(Yt,Cn);if((0,Un.T)(Yt))return Ft(Yt,Cn);if((0,tn.x)(Yt))return function Mt(Yt,Cn){return new Ut.c(Dn=>{let nt;return(0,e.N)(Dn,Cn,()=>{nt=Yt[et.l](),(0,e.N)(Dn,Cn,()=>{let zn,yr;try{({value:zn,done:yr}=nt.next())}catch(xr){return void Dn.error(xr)}yr?Dn.complete():Dn.next(zn)},0,!0)}),()=>(0,vt.T)(null==nt?void 0:nt.return)&&nt.return()})}(Yt,Cn);if((0,Tn.U)(Yt))return function bt(Yt,Cn){return Ft((0,Tn.C)(Yt),Cn)}(Yt,Cn)}throw(0,gn.L)(Yt)}(Yt,Cn):(0,w.Tg)(Yt)}},8750:(Kr,dn,Be)=>{"use strict";Be.d(dn,{Tg:()=>Mt});var w=Be(1635),e=Be(7441),wt=Be(9858),ot=Be(1985),Z=Be(5055),tt=Be(7953),Ze=Be(591),Nt=Be(5397),Ut=Be(5196),Ct=Be(8071),et=Be(5334),vt=Be(3494);function Mt(Tn){if(Tn instanceof ot.c)return Tn;if(null!=Tn){if((0,Z.l)(Tn))return function Ft(Tn){return new ot.c(bt=>{const Vt=Tn[vt.s]();if((0,Ct.T)(Vt.subscribe))return Vt.subscribe(bt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Tn);if((0,e.X)(Tn))return function An(Tn){return new ot.c(bt=>{for(let Vt=0;Vt<Tn.length&&!bt.closed;Vt++)bt.next(Tn[Vt]);bt.complete()})}(Tn);if((0,wt.y)(Tn))return function mn(Tn){return new ot.c(bt=>{Tn.then(Vt=>{bt.closed||(bt.next(Vt),bt.complete())},Vt=>bt.error(Vt)).then(null,et.m)})}(Tn);if((0,tt.T)(Tn))return tn(Tn);if((0,Nt.x)(Tn))return function qt(Tn){return new ot.c(bt=>{for(const Vt of Tn)if(bt.next(Vt),bt.closed)return;bt.complete()})}(Tn);if((0,Ut.U)(Tn))return function Un(Tn){return tn((0,Ut.C)(Tn))}(Tn)}throw(0,Ze.L)(Tn)}function tn(Tn){return new ot.c(bt=>{(function gn(Tn,bt){var Vt,wn,Yt,Cn;return(0,w.sH)(this,void 0,void 0,function*(){try{for(Vt=(0,w.xN)(Tn);!(wn=yield Vt.next()).done;)if(bt.next(wn.value),bt.closed)return}catch(Dn){Yt={error:Dn}}finally{try{wn&&!wn.done&&(Cn=Vt.return)&&(yield Cn.call(Vt))}finally{if(Yt)throw Yt.error}}bt.complete()})})(Tn,bt).catch(Vt=>bt.error(Vt))})}},7673:(Kr,dn,Be)=>{"use strict";Be.d(dn,{of:()=>wt});var w=Be(3794),e=Be(6648);function wt(...ot){const Z=(0,w.lI)(ot);return(0,e.H)(ot,Z)}},4360:(Kr,dn,Be)=>{"use strict";Be.d(dn,{_:()=>e});var w=Be(7707);function e(ot,Z,tt,Ze,Nt){return new wt(ot,Z,tt,Ze,Nt)}class wt extends w.vU{constructor(Z,tt,Ze,Nt,Ut,Ct){super(Z),this.onFinalize=Ut,this.shouldUnsubscribe=Ct,this._next=tt?function(et){try{tt(et)}catch(vt){Z.error(vt)}}:super._next,this._error=Nt?function(et){try{Nt(et)}catch(vt){Z.error(vt)}finally{this.unsubscribe()}}:super._error,this._complete=Ze?function(){try{Ze()}catch(et){Z.error(et)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:tt}=this;super.unsubscribe(),!tt&&(null===(Z=this.onFinalize)||void 0===Z||Z.call(this))}}}},5964:(Kr,dn,Be)=>{"use strict";Be.d(dn,{p:()=>wt});var w=Be(9974),e=Be(4360);function wt(ot,Z){return(0,w.N)((tt,Ze)=>{let Nt=0;tt.subscribe((0,e._)(Ze,Ut=>ot.call(Z,Ut,Nt++)&&Ze.next(Ut)))})}},6354:(Kr,dn,Be)=>{"use strict";Be.d(dn,{T:()=>wt});var w=Be(9974),e=Be(4360);function wt(ot,Z){return(0,w.N)((tt,Ze)=>{let Nt=0;tt.subscribe((0,e._)(Ze,Ut=>{Ze.next(ot.call(Z,Ut,Nt++))}))})}},1397:(Kr,dn,Be)=>{"use strict";Be.d(dn,{Z:()=>Nt});var w=Be(6354),e=Be(8750),wt=Be(9974),ot=Be(5225),Z=Be(4360),Ze=Be(8071);function Nt(Ut,Ct,et=1/0){return(0,Ze.T)(Ct)?Nt((vt,Mt)=>(0,w.T)((Ft,An)=>Ct(vt,Ft,Mt,An))((0,e.Tg)(Ut(vt,Mt))),et):("number"==typeof Ct&&(et=Ct),(0,wt.N)((vt,Mt)=>function tt(Ut,Ct,et,vt,Mt,Ft,An,mn){const qt=[];let tn=0,Un=0,gn=!1;const Tn=()=>{gn&&!qt.length&&!tn&&Ct.complete()},bt=wn=>tn<vt?Vt(wn):qt.push(wn),Vt=wn=>{Ft&&Ct.next(wn),tn++;let Yt=!1;(0,e.Tg)(et(wn,Un++)).subscribe((0,Z._)(Ct,Cn=>{null==Mt||Mt(Cn),Ft?bt(Cn):Ct.next(Cn)},()=>{Yt=!0},void 0,()=>{if(Yt)try{for(tn--;qt.length&&tn<vt;){const Cn=qt.shift();An?(0,ot.N)(Ct,An,()=>Vt(Cn)):Vt(Cn)}Tn()}catch(Cn){Ct.error(Cn)}}))};return Ut.subscribe((0,Z._)(Ct,bt,()=>{gn=!0,Tn()})),()=>{null==mn||mn()}}(vt,Mt,Ut,et)))}},5558:(Kr,dn,Be)=>{"use strict";Be.d(dn,{n:()=>ot});var w=Be(8750),e=Be(9974),wt=Be(4360);function ot(Z,tt){return(0,e.N)((Ze,Nt)=>{let Ut=null,Ct=0,et=!1;const vt=()=>et&&!Ut&&Nt.complete();Ze.subscribe((0,wt._)(Nt,Mt=>{null==Ut||Ut.unsubscribe();let Ft=0;const An=Ct++;(0,w.Tg)(Z(Mt,An)).subscribe(Ut=(0,wt._)(Nt,mn=>Nt.next(tt?tt(Mt,mn,An,Ft++):mn),()=>{Ut=null,vt()}))},()=>{et=!0,vt()}))})}},9270:(Kr,dn,Be)=>{"use strict";Be.d(dn,{f:()=>w});const w={setTimeout(e,wt,...ot){const{delegate:Z}=w;return null!=Z&&Z.setTimeout?Z.setTimeout(e,wt,...ot):setTimeout(e,wt,...ot)},clearTimeout(e){const{delegate:wt}=w;return((null==wt?void 0:wt.clearTimeout)||clearTimeout)(e)},delegate:void 0}},4761:(Kr,dn,Be)=>{"use strict";Be.d(dn,{l:()=>e});const e=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Kr,dn,Be)=>{"use strict";Be.d(dn,{s:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(Kr,dn,Be)=>{"use strict";Be.d(dn,{ms:()=>ot,lI:()=>Z});var w=Be(8071);function wt(Ze){return Ze[Ze.length-1]}function ot(Ze){return(0,w.T)(wt(Ze))?Ze.pop():void 0}function Z(Ze){return function e(Ze){return Ze&&(0,w.T)(Ze.schedule)}(wt(Ze))?Ze.pop():void 0}},3073:(Kr,dn,Be)=>{"use strict";Be.d(dn,{D:()=>Z});const{isArray:w}=Array,{getPrototypeOf:e,prototype:wt,keys:ot}=Object;function Z(Ze){if(1===Ze.length){const Nt=Ze[0];if(w(Nt))return{args:Nt,keys:null};if(function tt(Ze){return Ze&&"object"==typeof Ze&&e(Ze)===wt}(Nt)){const Ut=ot(Nt);return{args:Ut.map(Ct=>Nt[Ct]),keys:Ut}}}return{args:Ze,keys:null}}},7908:(Kr,dn,Be)=>{"use strict";function w(e,wt){if(e){const ot=e.indexOf(wt);0<=ot&&e.splice(ot,1)}}Be.d(dn,{o:()=>w})},1853:(Kr,dn,Be)=>{"use strict";function w(e){const ot=e(Z=>{Error.call(Z),Z.stack=(new Error).stack});return ot.prototype=Object.create(Error.prototype),ot.prototype.constructor=ot,ot}Be.d(dn,{L:()=>w})},8496:(Kr,dn,Be)=>{"use strict";function w(e,wt){return e.reduce((ot,Z,tt)=>(ot[Z]=wt[tt],ot),{})}Be.d(dn,{e:()=>w})},9786:(Kr,dn,Be)=>{"use strict";Be.d(dn,{Y:()=>wt,l:()=>ot});var w=Be(1026);let e=null;function wt(Z){if(w.$.useDeprecatedSynchronousErrorHandling){const tt=!e;if(tt&&(e={errorThrown:!1,error:null}),Z(),tt){const{errorThrown:Ze,error:Nt}=e;if(e=null,Ze)throw Nt}}else Z()}function ot(Z){w.$.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=Z)}},5225:(Kr,dn,Be)=>{"use strict";function w(e,wt,ot,Z=0,tt=!1){const Ze=wt.schedule(function(){ot(),tt?e.add(this.schedule(null,Z)):this.unsubscribe()},Z);if(e.add(Ze),!tt)return Ze}Be.d(dn,{N:()=>w})},3669:(Kr,dn,Be)=>{"use strict";function w(e){return e}Be.d(dn,{D:()=>w})},7441:(Kr,dn,Be)=>{"use strict";Be.d(dn,{X:()=>w});const w=e=>e&&"number"==typeof e.length&&"function"!=typeof e},7953:(Kr,dn,Be)=>{"use strict";Be.d(dn,{T:()=>e});var w=Be(8071);function e(wt){return Symbol.asyncIterator&&(0,w.T)(null==wt?void 0:wt[Symbol.asyncIterator])}},8071:(Kr,dn,Be)=>{"use strict";function w(e){return"function"==typeof e}Be.d(dn,{T:()=>w})},5055:(Kr,dn,Be)=>{"use strict";Be.d(dn,{l:()=>wt});var w=Be(3494),e=Be(8071);function wt(ot){return(0,e.T)(ot[w.s])}},5397:(Kr,dn,Be)=>{"use strict";Be.d(dn,{x:()=>wt});var w=Be(4761),e=Be(8071);function wt(ot){return(0,e.T)(null==ot?void 0:ot[w.l])}},9858:(Kr,dn,Be)=>{"use strict";Be.d(dn,{y:()=>e});var w=Be(8071);function e(wt){return(0,w.T)(null==wt?void 0:wt.then)}},5196:(Kr,dn,Be)=>{"use strict";Be.d(dn,{C:()=>wt,U:()=>ot});var w=Be(1635),e=Be(8071);function wt(Z){return(0,w.AQ)(this,arguments,function*(){const Ze=Z.getReader();try{for(;;){const{value:Nt,done:Ut}=yield(0,w.N3)(Ze.read());if(Ut)return yield(0,w.N3)(void 0);yield yield(0,w.N3)(Nt)}}finally{Ze.releaseLock()}})}function ot(Z){return(0,e.T)(null==Z?void 0:Z.getReader)}},9974:(Kr,dn,Be)=>{"use strict";Be.d(dn,{N:()=>wt,S:()=>e});var w=Be(8071);function e(ot){return(0,w.T)(null==ot?void 0:ot.lift)}function wt(ot){return Z=>{if(e(Z))return Z.lift(function(tt){try{return ot(tt,this)}catch(Ze){this.error(Ze)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Kr,dn,Be)=>{"use strict";Be.d(dn,{I:()=>ot});var w=Be(6354);const{isArray:e}=Array;function ot(Z){return(0,w.T)(tt=>function wt(Z,tt){return e(tt)?Z(...tt):Z(tt)}(Z,tt))}},5343:(Kr,dn,Be)=>{"use strict";function w(){}Be.d(dn,{l:()=>w})},1203:(Kr,dn,Be)=>{"use strict";Be.d(dn,{F:()=>e,m:()=>wt});var w=Be(3669);function e(...ot){return wt(ot)}function wt(ot){return 0===ot.length?w.D:1===ot.length?ot[0]:function(tt){return ot.reduce((Ze,Nt)=>Nt(Ze),tt)}}},5334:(Kr,dn,Be)=>{"use strict";Be.d(dn,{m:()=>wt});var w=Be(1026),e=Be(9270);function wt(ot){e.f.setTimeout(()=>{const{onUnhandledError:Z}=w.$;if(!Z)throw ot;Z(ot)})}},591:(Kr,dn,Be)=>{"use strict";function w(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Be.d(dn,{L:()=>w})},8996:(Kr,dn,Be)=>{var w={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function e(wt){if(!Be.o(w,wt))return Promise.resolve().then(()=>{var tt=new Error("Cannot find module '"+wt+"'");throw tt.code="MODULE_NOT_FOUND",tt});var ot=w[wt],Z=ot[0];return Promise.all(ot.slice(1).map(Be.e)).then(()=>Be(Z))}e.keys=()=>Object.keys(w),e.id=8996,Kr.exports=e},9293:Kr=>{function dn(w,e,wt,ot,Z,tt,Ze){try{var Nt=w[tt](Ze),Ut=Nt.value}catch(Ct){return void wt(Ct)}Nt.done?e(Ut):Promise.resolve(Ut).then(ot,Z)}Kr.exports=function Be(w){return function(){var e=this,wt=arguments;return new Promise(function(ot,Z){var tt=w.apply(e,wt);function Ze(Ut){dn(tt,ot,Z,Ze,Nt,"next",Ut)}function Nt(Ut){dn(tt,ot,Z,Ze,Nt,"throw",Ut)}Ze(void 0)})}},Kr.exports.__esModule=!0,Kr.exports.default=Kr.exports},177:(Kr,dn,Be)=>{"use strict";Be.d(dn,{AJ:()=>Xn,Jj:()=>Jn,MD:()=>Zt,N0:()=>Gi,QT:()=>wt,Sm:()=>mn,Sq:()=>ei,T3:()=>yo,VF:()=>Z,Vy:()=>_r,Xr:()=>Ko,ZD:()=>ot,_b:()=>pn,aZ:()=>tn,bT:()=>Fs,fw:()=>qt,hb:()=>Ft,hj:()=>Ut,qQ:()=>Ze});var w=Be(4438);let e=null;function wt(){return e}function ot(x){var ne;null!==(ne=e)&&void 0!==ne||(e=x)}class Z{}const Ze=new w.nKC("");let Nt=(()=>{var x;class ne{historyGo(se){throw new Error("")}}return(x=ne).\u0275fac=function(se){return new(se||x)},x.\u0275prov=w.jDH({token:x,factory:()=>(0,w.WQX)(Ct),providedIn:"platform"}),ne})();const Ut=new w.nKC("");let Ct=(()=>{var x;class ne extends Nt{constructor(){super(),this._doc=(0,w.WQX)(Ze),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wt().getBaseHref(this._doc)}onPopState(se){const Ve=wt().getGlobalEventTarget(this._doc,"window");return Ve.addEventListener("popstate",se,!1),()=>Ve.removeEventListener("popstate",se)}onHashChange(se){const Ve=wt().getGlobalEventTarget(this._doc,"window");return Ve.addEventListener("hashchange",se,!1),()=>Ve.removeEventListener("hashchange",se)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(se){this._location.pathname=se}pushState(se,Ve,ut){this._history.pushState(se,Ve,ut)}replaceState(se,Ve,ut){this._history.replaceState(se,Ve,ut)}forward(){this._history.forward()}back(){this._history.back()}historyGo(se=0){this._history.go(se)}getState(){return this._history.state}}return(x=ne).\u0275fac=function(se){return new(se||x)},x.\u0275prov=w.jDH({token:x,factory:()=>new x,providedIn:"platform"}),ne})();function et(x,ne){if(0==x.length)return ne;if(0==ne.length)return x;let je=0;return x.endsWith("/")&&je++,ne.startsWith("/")&&je++,2==je?x+ne.substring(1):1==je?x+ne:x+"/"+ne}function vt(x){const ne=x.match(/#|\?|$/),je=ne&&ne.index||x.length;return x.slice(0,je-("/"===x[je-1]?1:0))+x.slice(je)}function Mt(x){return x&&"?"!==x[0]?"?"+x:x}let Ft=(()=>{var x;class ne{historyGo(se){throw new Error("")}}return(x=ne).\u0275fac=function(se){return new(se||x)},x.\u0275prov=w.jDH({token:x,factory:()=>(0,w.WQX)(mn),providedIn:"root"}),ne})();const An=new w.nKC("");let mn=(()=>{var x;class ne extends Ft{constructor(se,Ve){var ut,jn,mr;super(),this._platformLocation=se,this._removeListenerFns=[],this._baseHref=null!==(ut=null!==(jn=null!=Ve?Ve:this._platformLocation.getBaseHrefFromDOM())&&void 0!==jn?jn:null===(mr=(0,w.WQX)(Ze).location)||void 0===mr?void 0:mr.origin)&&void 0!==ut?ut:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(se){this._removeListenerFns.push(this._platformLocation.onPopState(se),this._platformLocation.onHashChange(se))}getBaseHref(){return this._baseHref}prepareExternalUrl(se){return et(this._baseHref,se)}path(se=!1){const Ve=this._platformLocation.pathname+Mt(this._platformLocation.search),ut=this._platformLocation.hash;return ut&&se?`${Ve}${ut}`:Ve}pushState(se,Ve,ut,jn){const mr=this.prepareExternalUrl(ut+Mt(jn));this._platformLocation.pushState(se,Ve,mr)}replaceState(se,Ve,ut,jn){const mr=this.prepareExternalUrl(ut+Mt(jn));this._platformLocation.replaceState(se,Ve,mr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(se=0){var Ve,ut;null===(Ve=(ut=this._platformLocation).historyGo)||void 0===Ve||Ve.call(ut,se)}}return(x=ne).\u0275fac=function(se){return new(se||x)(w.KVO(Nt),w.KVO(An,8))},x.\u0275prov=w.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),ne})(),qt=(()=>{var x;class ne extends Ft{constructor(se,Ve){super(),this._platformLocation=se,this._baseHref="",this._removeListenerFns=[],null!=Ve&&(this._baseHref=Ve)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(se){this._removeListenerFns.push(this._platformLocation.onPopState(se),this._platformLocation.onHashChange(se))}getBaseHref(){return this._baseHref}path(se=!1){var Ve;const ut=null!==(Ve=this._platformLocation.hash)&&void 0!==Ve?Ve:"#";return ut.length>0?ut.substring(1):ut}prepareExternalUrl(se){const Ve=et(this._baseHref,se);return Ve.length>0?"#"+Ve:Ve}pushState(se,Ve,ut,jn){let mr=this.prepareExternalUrl(ut+Mt(jn));0==mr.length&&(mr=this._platformLocation.pathname),this._platformLocation.pushState(se,Ve,mr)}replaceState(se,Ve,ut,jn){let mr=this.prepareExternalUrl(ut+Mt(jn));0==mr.length&&(mr=this._platformLocation.pathname),this._platformLocation.replaceState(se,Ve,mr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(se=0){var Ve,ut;null===(Ve=(ut=this._platformLocation).historyGo)||void 0===Ve||Ve.call(ut,se)}}return(x=ne).\u0275fac=function(se){return new(se||x)(w.KVO(Nt),w.KVO(An,8))},x.\u0275prov=w.jDH({token:x,factory:x.\u0275fac}),ne})(),tn=(()=>{var x;class ne{constructor(se){this._subject=new w.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=se;const Ve=this._locationStrategy.getBaseHref();this._basePath=function bt(x){if(new RegExp("^(https?:)?//").test(x)){const[,je]=x.split(/\/\/[^\/]+/);return je}return x}(vt(Tn(Ve))),this._locationStrategy.onPopState(ut=>{this._subject.emit({url:this.path(!0),pop:!0,state:ut.state,type:ut.type})})}ngOnDestroy(){var se;null===(se=this._urlChangeSubscription)||void 0===se||se.unsubscribe(),this._urlChangeListeners=[]}path(se=!1){return this.normalize(this._locationStrategy.path(se))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(se,Ve=""){return this.path()==this.normalize(se+Mt(Ve))}normalize(se){return ne.stripTrailingSlash(function gn(x,ne){if(!x||!ne.startsWith(x))return ne;const je=ne.substring(x.length);return""===je||["/",";","?","#"].includes(je[0])?je:ne}(this._basePath,Tn(se)))}prepareExternalUrl(se){return se&&"/"!==se[0]&&(se="/"+se),this._locationStrategy.prepareExternalUrl(se)}go(se,Ve="",ut=null){this._locationStrategy.pushState(ut,"",se,Ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(se+Mt(Ve)),ut)}replaceState(se,Ve="",ut=null){this._locationStrategy.replaceState(ut,"",se,Ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(se+Mt(Ve)),ut)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(se=0){var Ve,ut;null===(Ve=(ut=this._locationStrategy).historyGo)||void 0===Ve||Ve.call(ut,se)}onUrlChange(se){var Ve;return this._urlChangeListeners.push(se),null!==(Ve=this._urlChangeSubscription)&&void 0!==Ve||(this._urlChangeSubscription=this.subscribe(ut=>{this._notifyUrlChangeListeners(ut.url,ut.state)})),()=>{const ut=this._urlChangeListeners.indexOf(se);var jn;this._urlChangeListeners.splice(ut,1),0===this._urlChangeListeners.length&&(null===(jn=this._urlChangeSubscription)||void 0===jn||jn.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(se="",Ve){this._urlChangeListeners.forEach(ut=>ut(se,Ve))}subscribe(se,Ve,ut){return this._subject.subscribe({next:se,error:Ve,complete:ut})}}return(x=ne).normalizeQueryParams=Mt,x.joinWithSlash=et,x.stripTrailingSlash=vt,x.\u0275fac=function(se){return new(se||x)(w.KVO(Ft))},x.\u0275prov=w.jDH({token:x,factory:()=>function Un(){return new tn((0,w.KVO)(Ft))}(),providedIn:"root"}),ne})();function Tn(x){return x.replace(/\/index.html$/,"")}function pn(x,ne){ne=encodeURIComponent(ne);for(const je of x.split(";")){const se=je.indexOf("="),[Ve,ut]=-1==se?[je,""]:[je.slice(0,se),je.slice(se+1)];if(Ve.trim()===ne)return decodeURIComponent(ut)}return null}class va{constructor(ne,je,se,Ve){this.$implicit=ne,this.ngForOf=je,this.index=se,this.count=Ve}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ei=(()=>{var x;class ne{set ngForOf(se){this._ngForOf=se,this._ngForOfDirty=!0}set ngForTrackBy(se){this._trackByFn=se}get ngForTrackBy(){return this._trackByFn}constructor(se,Ve,ut){this._viewContainer=se,this._template=Ve,this._differs=ut,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(se){se&&(this._template=se)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const se=this._ngForOf;!this._differ&&se&&(this._differ=this._differs.find(se).create(this.ngForTrackBy))}if(this._differ){const se=this._differ.diff(this._ngForOf);se&&this._applyChanges(se)}}_applyChanges(se){const Ve=this._viewContainer;se.forEachOperation((ut,jn,mr)=>{if(null==ut.previousIndex)Ve.createEmbeddedView(this._template,new va(ut.item,this._ngForOf,-1,-1),null===mr?void 0:mr);else if(null==mr)Ve.remove(null===jn?void 0:jn);else if(null!==jn){const Ui=Ve.get(jn);Ve.move(Ui,mr),no(Ui,ut)}});for(let ut=0,jn=Ve.length;ut<jn;ut++){const Ui=Ve.get(ut).context;Ui.index=ut,Ui.count=jn,Ui.ngForOf=this._ngForOf}se.forEachIdentityChange(ut=>{no(Ve.get(ut.currentIndex),ut)})}static ngTemplateContextGuard(se,Ve){return!0}}return(x=ne).\u0275fac=function(se){return new(se||x)(w.rXU(w.c1b),w.rXU(w.C4Q),w.rXU(w._q3))},x.\u0275dir=w.FsC({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),ne})();function no(x,ne){x.context.$implicit=ne.item}let Fs=(()=>{var x;class ne{constructor(se,Ve){this._viewContainer=se,this._context=new Ji,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ve}set ngIf(se){this._context.$implicit=this._context.ngIf=se,this._updateView()}set ngIfThen(se){Ps("ngIfThen",se),this._thenTemplateRef=se,this._thenViewRef=null,this._updateView()}set ngIfElse(se){Ps("ngIfElse",se),this._elseTemplateRef=se,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(se,Ve){return!0}}return(x=ne).\u0275fac=function(se){return new(se||x)(w.rXU(w.c1b),w.rXU(w.C4Q))},x.\u0275dir=w.FsC({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),ne})();class Ji{constructor(){this.$implicit=null,this.ngIf=null}}function Ps(x,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,w.Tbb)(ne)}'.`)}let yo=(()=>{var x;class ne{constructor(se){this._viewContainerRef=se,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(se){if(this._shouldRecreateView(se)){var Ve;const ut=this._viewContainerRef;if(this._viewRef&&ut.remove(ut.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const jn=this._createContextForwardProxy();this._viewRef=ut.createEmbeddedView(this.ngTemplateOutlet,jn,{injector:null!==(Ve=this.ngTemplateOutletInjector)&&void 0!==Ve?Ve:void 0})}}_shouldRecreateView(se){return!!se.ngTemplateOutlet||!!se.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(se,Ve,ut)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Ve,ut),get:(se,Ve,ut)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Ve,ut)}})}}return(x=ne).\u0275fac=function(se){return new(se||x)(w.rXU(w.c1b))},x.\u0275dir=w.FsC({type:x,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[w.OA$]}),ne})();class bl{createSubscription(ne,je){return(0,w.O8t)(()=>ne.subscribe({next:je,error:se=>{throw se}}))}dispose(ne){(0,w.O8t)(()=>ne.unsubscribe())}}class Oa{createSubscription(ne,je){return ne.then(je,se=>{throw se})}dispose(ne){}}const Bo=new Oa,ra=new bl;let Jn=(()=>{var x;class ne{constructor(se){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=se}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(se){if(!this._obj){if(se)try{this.markForCheckOnValueUpdate=!1,this._subscribe(se)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return se!==this._obj?(this._dispose(),this.transform(se)):this._latestValue}_subscribe(se){this._obj=se,this._strategy=this._selectStrategy(se),this._subscription=this._strategy.createSubscription(se,Ve=>this._updateLatestValue(se,Ve))}_selectStrategy(se){if((0,w.jNT)(se))return Bo;if((0,w.zjR)(se))return ra;throw function Io(x,ne){return new w.wOt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(se,Ve){var ut;se===this._obj&&(this._latestValue=Ve,this.markForCheckOnValueUpdate)&&(null===(ut=this._ref)||void 0===ut||ut.markForCheck())}}return(x=ne).\u0275fac=function(se){return new(se||x)(w.rXU(w.gRc,16))},x.\u0275pipe=w.EJ8({name:"async",type:x,pure:!1,standalone:!0}),ne})(),Zt=(()=>{var x;class ne{}return(x=ne).\u0275fac=function(se){return new(se||x)},x.\u0275mod=w.$C({type:x}),x.\u0275inj=w.G2t({}),ne})();const Xn="browser",$n="server";function _r(x){return x===$n}let Ko=(()=>{var x;class ne{}return(x=ne).\u0275prov=(0,w.jDH)({token:x,providedIn:"root",factory:()=>function ir(x){return x===Xn}((0,w.WQX)(w.Agw))?new Xi((0,w.WQX)(Ze),window):new br}),ne})();class Xi{constructor(ne,je){this.document=ne,this.window=je,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(ne){this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){const je=function Qo(x,ne){const je=x.getElementById(ne)||x.getElementsByName(ne)[0];if(je)return je;if("function"==typeof x.createTreeWalker&&x.body&&"function"==typeof x.body.attachShadow){const se=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let Ve=se.currentNode;for(;Ve;){const ut=Ve.shadowRoot;if(ut){const jn=ut.getElementById(ne)||ut.querySelector(`[name="${ne}"]`);if(jn)return jn}Ve=se.nextNode()}}return null}(this.document,ne);je&&(this.scrollToElement(je),je.focus())}setHistoryScrollRestoration(ne){this.window.history.scrollRestoration=ne}scrollToElement(ne){const je=ne.getBoundingClientRect(),se=je.left+this.window.pageXOffset,Ve=je.top+this.window.pageYOffset,ut=this.offset();this.window.scrollTo(se-ut[0],Ve-ut[1])}}class br{setOffset(ne){}getScrollPosition(){return[0,0]}scrollToPosition(ne){}scrollToAnchor(ne){}setHistoryScrollRestoration(ne){}}class Gi{}},4438:(Kr,dn,Be)=>{"use strict";Be.d(dn,{iLQ:()=>n1,sZ2:()=>Sn,hnV:()=>IC,Hbi:()=>FB,o8S:()=>Bm,BIS:()=>Pi,gRc:()=>OC,Ql9:()=>tB,Ocv:()=>cB,Z63:()=>ns,aKT:()=>A,uvJ:()=>Xa,zcH:()=>I,bkB:()=>ee,$GK:()=>Jn,nKC:()=>Dr,zZn:()=>g,_q3:()=>u1,MKu:()=>A1,xe9:()=>G_,Co$:()=>T1,Vns:()=>lv,SKi:()=>vu,Xx1:()=>ir,Agw:()=>Ur,PLl:()=>Lr,sFG:()=>kg,_9s:()=>ym,czy:()=>uh,kdw:()=>pi,C4Q:()=>Qh,NYb:()=>WT,giA:()=>EC,RxE:()=>pC,c1b:()=>Ng,gXe:()=>vs,mal:()=>y0,L39:()=>iF,a0P:()=>dF,Ol2:()=>Ay,w6W:()=>RI,oH4:()=>kC,SmG:()=>fB,Rfq:()=>ps,WQX:()=>At,QuC:()=>Wa,fpN:()=>BB,HJs:()=>hF,N4e:()=>_e,O8t:()=>sF,H3F:()=>gC,H8p:()=>Kl,KH2:()=>s0,TgB:()=>Vv,wOt:()=>Pt,WHO:()=>yC,e01:()=>wC,H5H:()=>My,Zy3:()=>Pn,mq5:()=>Fw,JZv:()=>Zr,LfX:()=>Nn,plB:()=>Gh,jNT:()=>e1,zjR:()=>CC,TL$:()=>ln,Tbb:()=>Wr,Vt3:()=>ly,Mj6:()=>Zo,GFd:()=>S1,OA$:()=>yn,Jv_:()=>zE,aNF:()=>$E,R7$:()=>d0,BMQ:()=>Ey,AVh:()=>By,wni:()=>vE,VBU:()=>iu,FsC:()=>Nl,jDH:()=>Ao,G2t:()=>$a,$C:()=>_a,EJ8:()=>tc,rXU:()=>yg,nrm:()=>Py,eu8:()=>Ny,bVm:()=>M_,qex:()=>N_,k0s:()=>P_,j41:()=>k_,RV6:()=>Sw,xGo:()=>EA,KVO:()=>Te,kS0:()=>GA,QTQ:()=>Qm,bIt:()=>Uy,lsd:()=>wE,XpG:()=>sE,nI1:()=>JE,bMT:()=>ZE,SdG:()=>lE,NAR:()=>aE,Y8G:()=>Sy,mGM:()=>yE,Njj:()=>Xl,tSv:()=>Yg,eBV:()=>LA,n$t:()=>fs,DNE:()=>Qv,EFF:()=>xE,JRh:()=>jy,SpI:()=>Q_,GBs:()=>_E}),Be(467);let wt=null,Z=1;const tt=Symbol("SIGNAL");function Ze(t){const r=wt;return wt=t,r}function Ft(t){if((!wn(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Z)){if(!t.producerMustRecompute(t)&&!gn(t))return t.dirty=!1,void(t.lastCleanEpoch=Z);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Z}}function gn(t){Yt(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],s=t.producerLastReadVersion[r];if(s!==o.version||(Ft(o),s!==o.version))return!0}return!1}function Vt(t,r){if(function Cn(t){var r,o;null!==(r=t.liveConsumerNode)&&void 0!==r||(t.liveConsumerNode=[]),null!==(o=t.liveConsumerIndexOfThis)&&void 0!==o||(t.liveConsumerIndexOfThis=[])}(t),Yt(t),1===t.liveConsumerNode.length)for(let s=0;s<t.producerNode.length;s++)Vt(t.producerNode[s],t.producerIndexOfThis[s]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[r],h=t.liveConsumerNode[r];Yt(h),h.producerIndexOfThis[s]=r}}function wn(t){var r,o;return t.consumerIsAlwaysLive||(null!==(r=null==t||null===(o=t.liveConsumerNode)||void 0===o?void 0:o.length)&&void 0!==r?r:0)>0}function Yt(t){var r,o,s;null!==(r=t.producerNode)&&void 0!==r||(t.producerNode=[]),null!==(o=t.producerIndexOfThis)&&void 0!==o||(t.producerIndexOfThis=[]),null!==(s=t.producerLastReadVersion)&&void 0!==s||(t.producerLastReadVersion=[])}let Vn=null;var Yn=Be(1413),Yi=Be(8359),kr=Be(4412),Di=Be(6354);const fr="https://g.co/ng/security#xss";class Pt extends Error{constructor(r,o){super(Pn(r,o)),this.code=r}}function Pn(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}function Hr(t){return{toString:t}.toString()}const ri="__parameters__";function Ro(t,r,o){return Hr(()=>{const s=function _o(t){return function(...o){if(t){const s=t(...o);for(const h in s)this[h]=s[h]}}}(r);function h(...y){if(this instanceof h)return s.apply(this,y),this;const T=new h(...y);return z.annotation=T,z;function z(K,pe,Pe){const Xe=K.hasOwnProperty(ri)?K[ri]:Object.defineProperty(K,ri,{value:[]})[ri];for(;Xe.length<=Pe;)Xe.push(null);return(Xe[Pe]=Xe[Pe]||[]).push(T),K}}return o&&(h.prototype=Object.create(o.prototype)),h.prototype.ngMetadataName=t,h.annotationCls=h,h})}const Zr=globalThis;function Qi(t){for(let r in t)if(t[r]===Qi)return r;throw Error("Could not find renamed property on target object.")}function Wo(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function Wr(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Wr).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function cn(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Vo=Qi({__forward_ref__:Qi});function ps(t){return t.__forward_ref__=ps,t.toString=function(){return Wr(this())},t}function Jt(t){return jt(t)?t():t}function jt(t){return"function"==typeof t&&t.hasOwnProperty(Vo)&&t.__forward_ref__===ps}function Ao(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function $a(t){return{providers:t.providers||[],imports:t.imports||[]}}function ua(t){return _n(t,Mi)||_n(t,pr)}function Nn(t){return null!==ua(t)}function _n(t,r){return t.hasOwnProperty(r)?t[r]:null}function Mr(t){return t&&(t.hasOwnProperty(pn)||t.hasOwnProperty(Xr))?t[pn]:null}const Mi=Qi({\u0275prov:Qi}),pn=Qi({\u0275inj:Qi}),pr=Qi({ngInjectableDef:Qi}),Xr=Qi({ngInjectorDef:Qi});class Dr{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ao({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Aa(t){return t&&!!t.\u0275providers}const Ms=Qi({\u0275cmp:Qi}),Ri=Qi({\u0275dir:Qi}),Qr=Qi({\u0275pipe:Qi}),ro=Qi({\u0275mod:Qi}),To=Qi({\u0275fac:Qi}),Os=Qi({__NG_ELEMENT_ID__:Qi}),Hi=Qi({__NG_ENV_ID__:Qi});function mi(t){return"string"==typeof t?t:null==t?"":String(t)}function ra(t,r){throw new Pt(-201,!1)}var Jn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Jn||{});let Ds;function Ra(){return Ds}function zi(t){const r=Ds;return Ds=t,r}function Oi(t,r,o){const s=ua(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:o&Jn.Optional?null:void 0!==r?r:void ra()}const ia={},ms="__NG_DI_FLAG__",qo="ngTempTokenPath",kl=/\n/gm,ao="__source";let Jo;function ts(t){const r=Jo;return Jo=t,r}function ka(t,r=Jn.Default){if(void 0===Jo)throw new Pt(-203,!1);return null===Jo?Oi(t,void 0,r):Jo.get(t,r&Jn.Optional?null:void 0,r)}function Te(t,r=Jn.Default){return(Ra()||ka)(Jt(t),r)}function At(t,r=Jn.Default){return Te(t,Tt(r))}function Tt(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function rn(t){const r=[];for(let o=0;o<t.length;o++){const s=Jt(t[o]);if(Array.isArray(s)){if(0===s.length)throw new Pt(900,!1);let h,y=Jn.Default;for(let T=0;T<s.length;T++){const z=s[T],K=Xn(z);"number"==typeof K?-1===K?h=z.token:y|=K:h=z}r.push(Te(h,y))}else r.push(Te(s))}return r}function Zt(t,r){return t[ms]=r,t.prototype[ms]=r,t}function Xn(t){return t[ms]}const ir=Zt(Ro("Optional"),8),pi=Zt(Ro("SkipSelf"),4);function qi(t,r){return t.hasOwnProperty(To)?t[To]:null}function Qo(t,r){t.forEach(o=>Array.isArray(o)?Qo(o,r):r(o))}function br(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function Gi(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function an(t,r,o){let s=wr(t,r);return s>=0?t[1|s]=o:(s=~s,function _t(t,r,o,s){let h=t.length;if(h==r)t.push(o,s);else if(1===h)t.push(s,t[0]),t[0]=o;else{for(h--,t.push(t[h-1],t[h]);h>r;)t[h]=t[h-2],h--;t[r]=o,t[r+1]=s}}(t,s,r,o)),s}function Wn(t,r){const o=wr(t,r);if(o>=0)return t[1|o]}function wr(t,r){return function Yr(t,r,o){let s=0,h=t.length>>o;for(;h!==s;){const y=s+(h-s>>1),T=t[y<<o];if(r===T)return y<<o;T>r?h=y:s=y+1}return~(h<<o)}(t,r,1)}const Li={},ii=[],ns=new Dr(""),Js=new Dr("",-1),Zs=new Dr("");class oa{get(r,o=ia){if(o===ia){const s=new Error(`NullInjectorError: No provider for ${Wr(r)}!`);throw s.name="NullInjectorError",s}return o}}var Cs=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Cs||{}),vs=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vs||{}),Zo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Zo||{});function rl(t,r,o){let s=t.length;for(;;){const h=t.indexOf(r,o);if(-1===h)return h;if(0===h||t.charCodeAt(h-1)<=32){const y=r.length;if(h+y===s||t.charCodeAt(h+y)<=32)return h}o=h+1}}function Ls(t,r,o){let s=0;for(;s<o.length;){const h=o[s];if("number"==typeof h){if(0!==h)break;s++;const y=o[s++],T=o[s++],z=o[s++];t.setAttribute(r,T,z,y)}else{const y=h,T=o[++s];fo(y)?t.setProperty(r,y,T):t.setAttribute(r,y,T),s++}}return s}function xs(t){return 3===t||4===t||6===t}function fo(t){return 64===t.charCodeAt(0)}function Zi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let s=0;s<r.length;s++){const h=r[s];"number"==typeof h?o=h:0===o||Pa(t,o,h,null,-1===o||2===o?r[++s]:null)}}return t}function Pa(t,r,o,s,h){let y=0,T=t.length;if(-1===r)T=-1;else for(;y<t.length;){const z=t[y++];if("number"==typeof z){if(z===r){T=-1;break}if(z>r){T=y-1;break}}}for(;y<t.length;){const z=t[y];if("number"==typeof z)break;if(z===o){if(null===s)return void(null!==h&&(t[y+1]=h));if(s===t[y+1])return void(t[y+2]=h)}y++,null!==s&&y++,null!==h&&y++}-1!==T&&(t.splice(T,0,r),y=T+1),t.splice(y++,0,o),null!==s&&t.splice(y++,0,s),null!==h&&t.splice(y++,0,h)}const _s="ng-template";function Na(t,r,o,s){let h=0;if(s){for(;h<r.length&&"string"==typeof r[h];h+=2)if("class"===r[h]&&-1!==rl(r[h+1].toLowerCase(),o,0))return!0}else if(ul(t))return!1;if(h=r.indexOf(1,h),h>-1){let y;for(;++h<r.length&&"string"==typeof(y=r[h]);)if(y.toLowerCase()===o)return!0}return!1}function ul(t){return 4===t.type&&t.value!==_s}function Ie(t,r,o){return r===(4!==t.type||o?t.value:_s)}function Ae(t,r,o){let s=4;const h=t.attrs,y=null!==h?function Bi(t){for(let r=0;r<t.length;r++)if(xs(t[r]))return r;return t.length}(h):0;let T=!1;for(let z=0;z<r.length;z++){const K=r[z];if("number"!=typeof K){if(!T)if(4&s){if(s=2|1&s,""!==K&&!Ie(t,K,o)||""===K&&1===r.length){if(qe(s))return!1;T=!0}}else if(8&s){if(null===h||!Na(t,h,K,o)){if(qe(s))return!1;T=!0}}else{const pe=r[++z],Pe=Ee(K,h,ul(t),o);if(-1===Pe){if(qe(s))return!1;T=!0;continue}if(""!==pe){let Xe;if(Xe=Pe>y?"":h[Pe+1].toLowerCase(),2&s&&pe!==Xe){if(qe(s))return!1;T=!0}}}}else{if(!T&&!qe(s)&&!qe(K))return!1;if(T&&qe(K))continue;T=!1,s=K|1&s}}return qe(s)||T}function qe(t){return!(1&t)}function Ee(t,r,o,s){if(null===r)return-1;let h=0;if(s||!o){let y=!1;for(;h<r.length;){const T=r[h];if(T===t)return h;if(3===T||6===T)y=!0;else{if(1===T||2===T){let z=r[++h];for(;"string"==typeof z;)z=r[++h];continue}if(4===T)break;if(0===T){h+=4;continue}}h+=y?1:2}return-1}return function ki(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const s=t[o];if("number"==typeof s)return-1;if(s===r)return o;o++}return-1}(r,t)}function pt(t,r,o=!1){for(let s=0;s<r.length;s++)if(Ae(t,r[s],o))return!0;return!1}function La(t,r){e:for(let o=0;o<r.length;o++){const s=r[o];if(t.length===s.length){for(let h=0;h<t.length;h++)if(t[h]!==s[h])continue e;return!0}}return!1}function lo(t,r){return t?":not("+r.trim()+")":r}function Ka(t){let r=t[0],o=1,s=2,h="",y=!1;for(;o<t.length;){let T=t[o];if("string"==typeof T)if(2&s){const z=t[++o];h+="["+T+(z.length>0?'="'+z+'"':"")+"]"}else 8&s?h+="."+T:4&s&&(h+=" "+T);else""!==h&&!qe(T)&&(r+=lo(y,h),h=""),s=T,y=y||!qe(s);o++}return""!==h&&(r+=lo(y,h)),r}function iu(t){return Hr(()=>{var r;const o=ci(t),s={...o,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Cs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(r=t.signals)&&void 0!==r&&r,data:t.data||{},encapsulation:t.encapsulation||vs.Emulated,styles:t.styles||ii,_:null,schemas:t.schemas||null,tView:null,id:""};Rs(s);const h=t.dependencies;return s.directiveDefs=ya(h,!1),s.pipeDefs=ya(h,!0),s.id=function ou(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const h of o)r=Math.imul(31,r)+h.charCodeAt(0)|0;return r+=2147483648,"c"+r}(s),s})}function Al(t){return fi(t)||Is(t)}function mc(t){return null!==t}function _a(t){return Hr(()=>({type:t.type,bootstrap:t.bootstrap||ii,declarations:t.declarations||ii,imports:t.imports||ii,exports:t.exports||ii,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ua(t,r){if(null==t)return Li;const o={};for(const h in t)if(t.hasOwnProperty(h)){const y=t[h];let T,z,K=Zo.None;var s;Array.isArray(y)?(K=y[0],T=y[1],z=null!==(s=y[2])&&void 0!==s?s:T):(T=y,z=y),r?(o[T]=K!==Zo.None?[h,K]:h,r[T]=z):o[T]=h}return o}function Nl(t){return Hr(()=>{const r=ci(t);return Rs(r),r})}function tc(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function fi(t){return t[Ms]||null}function Is(t){return t[Ri]||null}function $i(t){return t[Qr]||null}function Wa(t){const r=fi(t)||Is(t)||$i(t);return null!==r&&r.standalone}function ea(t,r){const o=t[ro]||null;if(!o&&!0===r)throw new Error(`Type ${Wr(t)} does not have '\u0275mod' property.`);return o}function ci(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Li,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ii,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ua(t.inputs,r),outputs:Ua(t.outputs),debugInfo:null}}function Rs(t){var r;null===(r=t.features)||void 0===r||r.forEach(o=>o(t))}function ya(t,r){if(!t)return null;const o=r?$i:Al;return()=>("function"==typeof t?t():t).map(s=>o(s)).filter(mc)}function sa(...t){return{\u0275providers:Gl(0,t),\u0275fromNgModule:!0}}function Gl(t,...r){const o=[],s=new Set;let h;const y=T=>{o.push(T)};return Qo(r,T=>{const z=T;lc(z,y,[],s)&&(h||(h=[]),h.push(z))}),void 0!==h&&vc(h,y),o}function vc(t,r){for(let o=0;o<t.length;o++){const{ngModule:s,providers:h}=t[o];ol(h,y=>{r(y,s)})}}function lc(t,r,o,s){if(!(t=Jt(t)))return!1;let h=null,y=Mr(t);const T=!y&&fi(t);if(y||T){if(T&&!T.standalone)return!1;h=t}else{const K=t.ngModule;if(y=Mr(K),!y)return!1;h=K}const z=s.has(h);if(T){if(z)return!1;if(s.add(h),T.dependencies){const K="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const pe of K)lc(pe,r,o,s)}}else{if(!y)return!1;{if(null!=y.imports&&!z){let pe;s.add(h);try{Qo(y.imports,Pe=>{lc(Pe,r,o,s)&&(pe||(pe=[]),pe.push(Pe))})}finally{}void 0!==pe&&vc(pe,r)}if(!z){const pe=qi(h)||(()=>new h);r({provide:h,useFactory:pe,deps:ii},h),r({provide:Zs,useValue:h,multi:!0},h),r({provide:ns,useValue:()=>Te(h),multi:!0},h)}const K=y.providers;if(null!=K&&!z){const pe=t;ol(K,Pe=>{r(Pe,pe)})}}}return h!==t&&void 0!==t.providers}function ol(t,r){for(let o of t)Aa(o)&&(o=o.\u0275providers),Array.isArray(o)?ol(o,r):r(o)}const Gu=Qi({provide:String,useValue:Qi});function Ma(t){return null!==t&&"object"==typeof t&&Gu in t}function wa(t){return"function"==typeof t}const Kl=new Dr(""),su={},MA={};let Us;function Fc(){return void 0===Us&&(Us=new oa),Us}class Xa{}class sl extends Xa{get destroyed(){return this._destroyed}constructor(r,o,s,h){super(),this.parent=o,this.source=s,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,J(r,T=>this.processProvider(T)),this.records.set(Js,Va(void 0,this)),h.has("environment")&&this.records.set(Xa,Va(void 0,this));const y=this.records.get(Kl);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(Zs,ii,Jn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const r=Ze(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of o)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ze(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=ts(this),s=zi(void 0);try{return r()}finally{ts(o),zi(s)}}get(r,o=ia,s=Jn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Hi))return r[Hi](this);s=Tt(s);const y=ts(this),T=zi(void 0);try{if(!(s&Jn.SkipSelf)){let K=this.records.get(r);if(void 0===K){const pe=function j(t){return"function"==typeof t||"object"==typeof t&&t instanceof Dr}(r)&&ua(r);K=pe&&this.injectableDefInScope(pe)?Va(_c(r),su):null,this.records.set(r,K)}if(null!=K)return this.hydrate(r,K)}return(s&Jn.Self?Fc():this.parent).get(r,o=s&Jn.Optional&&o===ia?null:o)}catch(z){if("NullInjectorError"===z.name){if((z[qo]=z[qo]||[]).unshift(Wr(r)),y)throw z;return function $n(t,r,o,s){const h=t[qo];throw r[ao]&&h.unshift(r[ao]),t.message=function or(t,r,o,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let h=Wr(r);if(Array.isArray(r))h=r.map(Wr).join(" -> ");else if("object"==typeof r){let y=[];for(let T in r)if(r.hasOwnProperty(T)){let z=r[T];y.push(T+":"+("string"==typeof z?JSON.stringify(z):Wr(z)))}h=`{${y.join(", ")}}`}return`${o}${s?"("+s+")":""}[${h}]: ${t.replace(kl,"\n  ")}`}("\n"+t.message,h,o,s),t.ngTokenPath=h,t[qo]=null,t}(z,r,"R3InjectorError",this.source)}throw z}finally{zi(T),ts(y)}}resolveInjectorInitializers(){const r=Ze(null),o=ts(this),s=zi(void 0);try{const y=this.get(ns,ii,Jn.Self);for(const T of y)T()}finally{ts(o),zi(s),Ze(r)}}toString(){const r=[],o=this.records;for(const s of o.keys())r.push(Wr(s));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pt(205,!1)}processProvider(r){let o=wa(r=Jt(r))?r:Jt(r&&r.provide);const s=function Dc(t){return Ma(t)?Va(void 0,t.useValue):Va(zc(t),su)}(r);if(!wa(r)&&!0===r.multi){let h=this.records.get(o);h||(h=Va(void 0,su,!0),h.factory=()=>rn(h.multi),this.records.set(o,h)),o=r,h.multi.push(r)}this.records.set(o,s)}hydrate(r,o){const s=Ze(null);try{return o.value===su&&(o.value=MA,o.value=o.factory()),"object"==typeof o.value&&o.value&&function au(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{Ze(s)}}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Jt(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function _c(t){const r=ua(t),o=null!==r?r.factory:qi(t);if(null!==o)return o;if(t instanceof Dr)throw new Pt(204,!1);if(t instanceof Function)return function yc(t){if(t.length>0)throw new Pt(204,!1);const o=function tr(t){return t&&(t[Mi]||t[pr])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Pt(204,!1)}function zc(t,r,o){let s;if(wa(t)){const h=Jt(t);return qi(h)||_c(h)}if(Ma(t))s=()=>Jt(t.useValue);else if(function Ba(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...rn(t.deps||[]));else if(function bs(t){return!(!t||!t.useExisting)}(t))s=()=>Te(Jt(t.useExisting));else{const h=Jt(t&&(t.useClass||t.provide));if(!function Ml(t){return!!t.deps}(t))return qi(h)||_c(h);s=()=>new h(...rn(t.deps))}return s}function Va(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function J(t,r){for(const o of t)Array.isArray(o)?J(o,r):o&&Aa(o)?J(o.\u0275providers,r):r(o)}function _e(t,r){t instanceof sl&&t.assertNotDestroyed();const s=ts(t),h=zi(void 0);try{return r()}finally{ts(s),zi(h)}}function V(){return void 0!==Ra()||null!=function Tr(){return Jo}()}const es=0,Br=1,wi=2,is=3,da=4,ls=5,dl=6,lu=7,ds=8,xo=9,Ea=10,wo=11,_u=12,cu=13,nc=14,Fa=15,$c=16,ha=17,xc=18,uu=19,lA=20,wc=21,Tl=22,Wl=23,so=25,Ku=1,Ya=7,fa=9,aa=10;var Gc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Gc||{});function hl(t){return Array.isArray(t)&&"object"==typeof t[Ku]}function Bl(t){return Array.isArray(t)&&!0===t[Ku]}function md(t){return!!(4&t.flags)}function yu(t){return t.componentOffset>-1}function JA(t){return!(1&~t.flags)}function jl(t){return!!t.template}function vd(t){return!!(512&t[wi])}class He{constructor(r,o,s){this.previousValue=r,this.currentValue=o,this.firstChange=s}isFirstChange(){return this.firstChange}}function lt(t,r,o,s){null!==r?r.applyValueToInputSignal(r,s):t[o]=s}function yn(){return Zn}function Zn(t){return t.type.prototype.ngOnChanges&&(t.setInput=oi),In}function In(){const t=Cr(this),r=null==t?void 0:t.current;if(r){const o=t.previous;if(o===Li)t.previous=r;else for(let s in r)o[s]=r[s];t.current=null,this.ngOnChanges(r)}}function oi(t,r,o,s,h){const y=this.declaredInputs[s],T=Cr(t)||function vo(t,r){return t[to]=r}(t,{previous:Li,current:null}),z=T.current||(T.current={}),K=T.previous,pe=K[y];z[y]=new He(pe&&pe.currentValue,o,K===Li),lt(t,r,h,o)}yn.ngInherit=!0;const to="__ngSimpleChanges__";function Cr(t){return t[to]||null}const Ns=function(t,r,o){};let uc=!1;function la(t){for(;Array.isArray(t);)t=t[es];return t}function _l(t,r){return la(r[t])}function Da(t,r){return la(r[t.index])}function Cu(t,r){return t.data[r]}function ql(t,r){const o=r[t];return hl(o)?o:o[es]}function Pc(t){return!(128&~t[wi])}function Vi(t,r){return null==r?null:t[r]}function hs(t){t[ha]=0}function Su(t){1024&t[wi]||(t[wi]|=1024,Pc(t)&&Qs(t))}function Yu(t){var r;return!!(9216&t[wi]||null!==(r=t[Wl])&&void 0!==r&&r.dirty)}function bo(t){var r;if(null===(r=t[Ea].changeDetectionScheduler)||void 0===r||r.notify(1),Yu(t))Qs(t);else if(64&t[wi])if(function Xu(){return uc}())t[wi]|=1024,Qs(t);else{var o;null===(o=t[Ea].changeDetectionScheduler)||void 0===o||o.notify()}}function Qs(t){var r;null===(r=t[Ea].changeDetectionScheduler)||void 0===r||r.notify();let o=pa(t);for(;null!==o&&!(8192&o[wi])&&(o[wi]|=8192,Pc(o));)o=pa(o)}function yl(t,r){if(!(256&~t[wi]))throw new Pt(911,!1);null===t[wc]&&(t[wc]=[]),t[wc].push(r)}function pa(t){const r=t[is];return Bl(r)?r[is]:r}const So={lFrame:pA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function hA(){return So.bindingsEnabled}function Ju(){return null!==So.skipHydrationRootTNode}function sr(){return So.lFrame.lView}function cs(){return So.lFrame.tView}function LA(t){return So.lFrame.contextLView=t,t[ds]}function Xl(t){return So.lFrame.contextLView=null,t}function Ws(){let t=Ed();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ed(){return So.lFrame.currentTNode}function Ca(t,r){const o=So.lFrame;o.currentTNode=t,o.isParent=r}function rc(){return So.lFrame.isParent}function Nc(){So.lFrame.isParent=!1}function Fl(){return So.lFrame.bindingIndex++}function bd(t,r){const o=So.lFrame;o.bindingIndex=o.bindingRootIndex=t,El(r)}function El(t){So.lFrame.currentDirectiveIndex=t}function UA(){return So.lFrame.currentQueryIndex}function hu(t){So.lFrame.currentQueryIndex=t}function Yh(t){const r=t[Br];return 2===r.type?r.declTNode:1===r.type?t[ls]:null}function VA(t,r,o){if(o&Jn.SkipSelf){let h=r,y=t;for(;!(h=h.parent,null!==h||o&Jn.Host||(h=Yh(y),null===h||(y=y[nc],10&h.type))););if(null===h)return!1;r=h,t=y}const s=So.lFrame=Td();return s.currentTNode=r,s.lView=t,!0}function fA(t){const r=Td(),o=t[Br];So.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Td(){const t=So.lFrame,r=null===t?null:t.child;return null===r?pA(t):r}function pA(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Bd(){const t=So.lFrame;return So.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const wh=Bd;function QA(){const t=Bd();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yl(){return So.lFrame.selectedIndex}function Fu(t){So.lFrame.selectedIndex=t}function ga(){const t=So.lFrame;return Cu(t.tView,t.selectedIndex)}let Du=!0;function gA(){return Du}function Ia(t){Du=t}function tA(t,r){for(let pe=r.directiveStart,Pe=r.directiveEnd;pe<Pe;pe++){const Bt=t.data[pe].type.prototype,{ngAfterContentInit:en,ngAfterContentChecked:Mn,ngAfterViewInit:ar,ngAfterViewChecked:Pr,ngOnDestroy:Vr}=Bt;var o,s,h,y,T,z,K;en&&(null!==(o=t.contentHooks)&&void 0!==o?o:t.contentHooks=[]).push(-pe,en),Mn&&((null!==(s=t.contentHooks)&&void 0!==s?s:t.contentHooks=[]).push(pe,Mn),(null!==(h=t.contentCheckHooks)&&void 0!==h?h:t.contentCheckHooks=[]).push(pe,Mn)),ar&&(null!==(y=t.viewHooks)&&void 0!==y?y:t.viewHooks=[]).push(-pe,ar),Pr&&((null!==(T=t.viewHooks)&&void 0!==T?T:t.viewHooks=[]).push(pe,Pr),(null!==(z=t.viewCheckHooks)&&void 0!==z?z:t.viewCheckHooks=[]).push(pe,Pr)),null!=Vr&&(null!==(K=t.destroyHooks)&&void 0!==K?K:t.destroyHooks=[]).push(pe,Vr)}}function xu(t,r,o){Cc(t,r,3,o)}function Za(t,r,o,s){(3&t[wi])===o&&Cc(t,r,o,s)}function Jd(t,r){let o=t[wi];(3&o)===r&&(o&=16383,o+=1,t[wi]=o)}function Cc(t,r,o,s){const y=null!=s?s:-1,T=r.length-1;let z=0;for(let K=void 0!==s?65535&t[ha]:0;K<T;K++)if("number"==typeof r[K+1]){if(z=r[K],null!=s&&z>=s)break}else r[K]<0&&(t[ha]+=65536),(z<y||-1==y)&&(ed(t,o,r,K),t[ha]=(4294901760&t[ha])+K+2),K++}function Ru(t,r){Ns(4,t,r);const o=Ze(null);try{r.call(t)}finally{Ze(o),Ns(5,t,r)}}function ed(t,r,o,s){const h=o[s]<0,y=o[s+1],z=t[h?-o[s]:o[s]];h?t[wi]>>14<t[ha]>>16&&(3&t[wi])===r&&(t[wi]+=16384,Ru(z,y)):Ru(z,y)}const mA=-1;class Ac{constructor(r,o,s){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=s}}function Rd(t){return t!==mA}function HA(t){return 32767&t}function zA(t,r){let o=function Zh(t){return t>>16}(t),s=r;for(;o>0;)s=s[nc],o--;return s}let bc=!0;function _A(t){const r=bc;return bc=t,r}const yA=255,Eh=5;let Zl=0;const Yc={};function fu(t,r){const o=eh(t,r);if(-1!==o)return o;const s=r[Br];s.firstCreatePass&&(t.injectorIndex=r.length,nA(s.data,t),nA(r,null),nA(s.blueprint,null));const h=$A(t,r),y=t.injectorIndex;if(Rd(h)){const T=HA(h),z=zA(h,r),K=z[Br].data;for(let pe=0;pe<8;pe++)r[y+pe]=z[T+pe]|K[T+pe]}return r[y+8]=h,y}function nA(t,r){t.push(0,0,0,0,0,0,0,0,r)}function eh(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function $A(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,s=null,h=r;for(;null!==h;){if(s=nf(h),null===s)return mA;if(o++,h=h[nc],-1!==s.injectorIndex)return s.injectorIndex|o<<16}return mA}function tf(t,r,o){!function Ff(t,r,o){let s;"string"==typeof o?s=o.charCodeAt(0)||0:o.hasOwnProperty(Os)&&(s=o[Os]),null==s&&(s=o[Os]=Zl++);const h=s&yA;r.data[t+(h>>Eh)]|=1<<h}(t,r,o)}function th(t,r,o){if(o&Jn.Optional||void 0!==t)return t;ra()}function xf(t,r,o,s){if(o&Jn.Optional&&void 0===s&&(s=null),!(o&(Jn.Self|Jn.Host))){const h=t[xo],y=zi(void 0);try{return h?h.get(r,s,o&Jn.Optional):Oi(r,s,o&Jn.Optional)}finally{zi(y)}}return th(s,0,o)}function Rf(t,r,o,s=Jn.Default,h){if(null!==t){if(2048&r[wi]&&!(s&Jn.Self)){const T=function nd(t,r,o,s,h){let y=t,T=r;for(;null!==y&&null!==T&&2048&T[wi]&&!(512&T[wi]);){const z=Pu(y,T,o,s|Jn.Self,Yc);if(z!==Yc)return z;let K=y.parent;if(!K){const pe=T[lA];if(pe){const Pe=pe.get(o,Yc,s);if(Pe!==Yc)return Pe}K=nf(T),T=T[nc]}y=K}return h}(t,r,o,s,Yc);if(T!==Yc)return T}const y=Pu(t,r,o,s,Yc);if(y!==Yc)return y}return xf(r,o,s,h)}function Pu(t,r,o,s,h){const y=function Nu(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Os)?t[Os]:void 0;return"number"==typeof r?r>=0?r&yA:wA:r}(o);if("function"==typeof y){if(!VA(r,t,s))return s&Jn.Host?th(h,0,s):xf(r,o,s,h);try{let T;if(T=y(s),null!=T||s&Jn.Optional)return T;ra()}finally{wh()}}else if("number"==typeof y){let T=null,z=eh(t,r),K=mA,pe=s&Jn.Host?r[Fa][ls]:null;for((-1===z||s&Jn.SkipSelf)&&(K=-1===z?$A(t,r):r[z+8],K!==mA&&Dl(s,!1)?(T=r[Br],z=HA(K),r=zA(K,r)):z=-1);-1!==z;){const Pe=r[Br];if(Lc(y,z,Pe.data)){const Xe=Ch(z,r,o,T,s,pe);if(Xe!==Yc)return Xe}K=r[z+8],K!==mA&&Dl(s,r[Br].data[z+8]===pe)&&Lc(y,z,r)?(T=Pe,z=HA(K),r=zA(K,r)):z=-1}}return h}function Ch(t,r,o,s,h,y){const T=r[Br],z=T.data[t+8],Pe=ba(z,T,o,null==s?yu(z)&&bc:s!=T&&!!(3&z.type),h&Jn.Host&&y===z);return null!==Pe?dc(r,T,Pe,z):Yc}function ba(t,r,o,s,h){const y=t.providerIndexes,T=r.data,z=1048575&y,K=t.directiveStart,Pe=y>>20,Bt=h?z+Pe:t.directiveEnd;for(let en=s?z:z+Pe;en<Bt;en++){const Mn=T[en];if(en<K&&o===Mn||en>=K&&Mn.type===o)return en}if(h){const en=T[K];if(en&&jl(en)&&en.type===o)return K}return null}function dc(t,r,o,s){let h=t[o];const y=r.data;if(function Zd(t){return t instanceof Ac}(h)){const T=h;T.resolving&&function bl(t,r){throw r&&r.join(" > "),new Pt(-200,t)}(function yo(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():mi(t)}(y[o]));const z=_A(T.canSeeViewProviders);T.resolving=!0;const pe=T.injectImpl?zi(T.injectImpl):null;VA(t,s,Jn.Default);try{h=t[o]=T.factory(void 0,y,t,s),r.firstCreatePass&&o>=s.directiveStart&&function ic(t,r,o){const{ngOnChanges:s,ngOnInit:h,ngDoCheck:y}=r.type.prototype;if(s){var T,z;const Xe=Zn(r);(null!==(T=o.preOrderHooks)&&void 0!==T?T:o.preOrderHooks=[]).push(t,Xe),(null!==(z=o.preOrderCheckHooks)&&void 0!==z?z:o.preOrderCheckHooks=[]).push(t,Xe)}var K,pe,Pe;h&&(null!==(K=o.preOrderHooks)&&void 0!==K?K:o.preOrderHooks=[]).push(0-t,h),y&&((null!==(pe=o.preOrderHooks)&&void 0!==pe?pe:o.preOrderHooks=[]).push(t,y),(null!==(Pe=o.preOrderCheckHooks)&&void 0!==Pe?Pe:o.preOrderCheckHooks=[]).push(t,y))}(o,y[o],r)}finally{null!==pe&&zi(pe),_A(z),T.resolving=!1,wh()}}return h}function Lc(t,r,o){return!!(o[r+(t>>Eh)]&1<<t)}function Dl(t,r){return!(t&Jn.Self||t&Jn.Host&&r)}class pl{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,s){return Rf(this._tNode,this._lView,r,Tt(s),o)}}function wA(){return new pl(Ws(),sr())}function EA(t){return Hr(()=>{const r=t.prototype.constructor,o=r[To]||nh(r),s=Object.prototype;let h=Object.getPrototypeOf(t.prototype).constructor;for(;h&&h!==s;){const y=h[To]||nh(h);if(y&&y!==o)return y;h=Object.getPrototypeOf(h)}return y=>new y})}function nh(t){return jt(t)?()=>{const r=nh(Jt(t));return r&&r()}:qi(t)}function nf(t){const r=t[Br],o=r.type;return 2===o?r.declTNode:1===o?t[ls]:null}function GA(t){return function Df(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const s=o.length;let h=0;for(;h<s;){const y=o[h];if(xs(y))break;if(0===y)h+=2;else if("number"==typeof y)for(h++;h<s&&"string"==typeof o[h];)h++;else{if(y===r)return o[h+1];h+=2}}}return null}(Ws(),t)}function sh(t,r=null,o=null,s){const h=xp(t,r,o,s);return h.resolveInjectorInitializers(),h}function xp(t,r=null,o=null,s,h=new Set){const y=[o||ii,sa(t)];return s=s||("object"==typeof t?void 0:Wr(t)),new sl(y,r||Fc(),s||null,h)}let g=(()=>{var t;class r{static create(s,h){if(Array.isArray(s))return sh({name:""},h,s,"");{var y;const T=null!==(y=s.name)&&void 0!==y?y:"";return sh({name:T},s.parent,s.providers,T)}}}return(t=r).THROW_IF_NOT_FOUND=ia,t.NULL=new oa,t.\u0275prov=Ao({token:t,providedIn:"any",factory:()=>Te(Js)}),t.__NG_ELEMENT_ID__=-1,r})();function _(t){return t.ngOriginalError}class I{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&_(r);for(;o&&_(o);)o=_(o);return o||null}}const P=new Dr("",{providedIn:"root",factory:()=>At(I).handleError.bind(void 0)});let U=(()=>{var t;class r{}return(t=r).__NG_ELEMENT_ID__=te,t.__NG_ENV_ID__=o=>o,r})();class $ extends U{constructor(r){super(),this._lView=r}onDestroy(r){return yl(this._lView,r),()=>function Tu(t,r){if(null===t[wc])return;const o=t[wc].indexOf(r);-1!==o&&t[wc].splice(o,1)}(this._lView,r)}}function te(){return new $(sr())}function ht(){return m(Ws(),sr())}function m(t,r){return new A(Da(t,r))}let A=(()=>{class r{constructor(s){this.nativeElement=s}}return r.__NG_ELEMENT_ID__=ht,r})();function p(t){return t instanceof A?t.nativeElement:t}function Q(t){return r=>{setTimeout(t,void 0,r)}}const ee=class b extends Yn.B{constructor(r=!1){var o;super(),this.destroyRef=void 0,this.__isAsync=r,V()&&(this.destroyRef=null!==(o=At(U,{optional:!0}))&&void 0!==o?o:void 0)}emit(r){const o=Ze(null);try{super.next(r)}finally{Ze(o)}}subscribe(r,o,s){let h=r,y=o||(()=>null),T=s;if(r&&"object"==typeof r){var z,K,pe;const Xe=r;h=null===(z=Xe.next)||void 0===z?void 0:z.bind(Xe),y=null===(K=Xe.error)||void 0===K?void 0:K.bind(Xe),T=null===(pe=Xe.complete)||void 0===pe?void 0:pe.bind(Xe)}this.__isAsync&&(y=Q(y),h&&(h=Q(h)),T&&(T=Q(T)));const Pe=super.subscribe({next:h,error:y,complete:T});return r instanceof Yi.yU&&r.add(Pe),Pe}};function le(){return this._results[Symbol.iterator]()}class me{get changes(){var r;return null!==(r=this._changes)&&void 0!==r?r:this._changes=new ee}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=me.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=le)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){this.dirty=!1;const s=function Xi(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Ko(t,r,o){if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++){let h=t[s],y=r[s];if(o&&(h=o(h),y=o(y)),y!==h)return!1}return!0}(this._results,s,o))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){var r;this.dirty=!0,null===(r=this._onDirty)||void 0===r||r.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function dt(t){return!(128&~t.flags)}const F=new Map;let v=0;const Dt="__ngContext__";function Lt(t,r){hl(r)?(t[Dt]=r[uu],function M(t){F.set(t[uu],t)}(r)):t[Dt]=r}function li(t){return vi(t[_u])}function Ii(t){return vi(t[da])}function vi(t){for(;null!==t&&!Bl(t);)t=t[da];return t}let ft;function ln(t){ft=t}const Sn=new Dr("",{providedIn:"root",factory:()=>On}),On="ng",Lr=new Dr(""),Ur=new Dr("",{providedIn:"platform",factory:()=>"unknown"}),Pi=new Dr("",{providedIn:"root",factory:()=>{var t;return(null===(t=function fn(){if(void 0!==ft)return ft;if(typeof document<"u")return document;throw new Pt(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let oA=()=>null;function CA(t,r,o=!1){return oA(t,r,o)}const ag=new Dr("",{providedIn:"root",factory:()=>!1});let id;function gu(t){var r;return(null===(r=function uf(){if(void 0===id&&(id=null,Zr.trustedTypes))try{id=Zr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return id}())||void 0===r?void 0:r.createScriptURL(t))||t}class ug{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fr})`}}function Od(t){return t instanceof ug?t.changingThisBreaksApplicationSecurity:t}function Uf(t,r){const o=function Af(t){return t instanceof ug&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${fr})`)}return o===r}const Cl=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Y=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Y||{});function un(t){const r=el();return r?r.sanitize(Y.URL,t)||"":Uf(t,"URL")?Od(t):function df(t){return(t=String(t)).match(Cl)?t:"unsafe:"+t}(mi(t))}function Qn(t){const r=el();if(r)return gu(r.sanitize(Y.RESOURCE_URL,t)||"");if(Uf(t,"ResourceURL"))return gu(Od(t));throw new Pt(904,!1)}function fs(t,r,o){return function go(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Qn:un}(r,o)(t)}function el(){const t=sr();return t&&t[Ea].sanitizer}const hc=/^>|^->|<!--|-->|--!>|<!-$/g,oc=/(<|>)/g,tu="\u200b$1\u200b";function Yg(t){return t.ownerDocument.defaultView}function ec(t){return t instanceof Function?t():t}var uh=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(uh||{});let SA;function sA(t,r){return SA(t,r)}function Vc(t,r,o,s,h){if(null!=s){let y,T=!1;Bl(s)?y=s:hl(s)&&(T=!0,s=s[es]);const z=la(s);0===t&&null!==o?null==h?XA(r,o,z):Mh(r,o,z,h||null,!0):1===t&&null!==o?Mh(r,o,z,h||null,!0):2===t?function zp(t,r,o){const s=em(t,r);s&&function Zg(t,r,o,s){t.removeChild(r,o,s)}(t,s,r,o)}(r,z,T):3===t&&r.destroyNode(z),null!=y&&function Um(t,r,o,s,h){const y=o[Ya];y!==la(o)&&Vc(r,t,s,y,h);for(let z=aa;z<o.length;z++){const K=o[z];rm(K[Br],K,t,r,s,y)}}(r,t,y,o,h)}}function dh(t,r){return t.createComment(function Uc(t){return t.replace(hc,r=>r.replace(oc,tu))}(r))}function ma(t,r,o){return t.createElement(r,o)}function Qc(t,r){var o;null===(o=r[Ea].changeDetectionScheduler)||void 0===o||o.notify(1),rm(t,r,r[wo],2,null,null)}function Vp(t,r){const o=t[fa],s=o.indexOf(r);o.splice(s,1)}function Qp(t,r){if(t.length<=aa)return;const o=aa+r,s=t[o];if(s){const h=s[$c];null!==h&&h!==t&&Vp(h,s),r>0&&(t[o-1][da]=s[da]);const y=Gi(t,aa+r);!function Ul(t,r){Qc(t,r),r[es]=null,r[ls]=null}(s[Br],s);const T=y[xc];null!==T&&T.detachView(y[Br]),s[is]=null,s[da]=null,s[wi]&=-129}return s}function mg(t,r){if(!(256&r[wi])){const o=r[wo];o.destroyNode&&rm(t,r,o,3,null,null),function yf(t){let r=t[_u];if(!r)return vg(t[Br],t);for(;r;){let o=null;if(hl(r))o=r[_u];else{const s=r[aa];s&&(o=s)}if(!o){for(;r&&!r[da]&&r!==t;)hl(r)&&vg(r[Br],r),r=r[is];null===r&&(r=t),hl(r)&&vg(r[Br],r),o=r&&r[da]}r=o}}(r)}}function vg(t,r){if(256&r[wi])return;const o=Ze(null);try{r[wi]&=-129,r[wi]|=256,r[Wl]&&function Tn(t){if(Yt(t),wn(t))for(let r=0;r<t.producerNode.length;r++)Vt(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(r[Wl]),function gp(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let s=0;s<o.length;s+=2){const h=r[o[s]];if(!(h instanceof Ac)){const y=o[s+1];if(Array.isArray(y))for(let T=0;T<y.length;T+=2){const z=h[y[T]],K=y[T+1];Ns(4,z,K);try{K.call(z)}finally{Ns(5,z,K)}}else{Ns(4,h,y);try{y.call(h)}finally{Ns(5,h,y)}}}}}(t,r),function vv(t,r){const o=t.cleanup,s=r[lu];if(null!==o)for(let y=0;y<o.length-1;y+=2)if("string"==typeof o[y]){const T=o[y+3];T>=0?s[T]():s[-T].unsubscribe(),y+=2}else o[y].call(s[o[y+1]]);null!==s&&(r[lu]=null);const h=r[wc];if(null!==h){r[wc]=null;for(let y=0;y<h.length;y++)(0,h[y])()}}(t,r),1===r[Br].type&&r[wo].destroy();const s=r[$c];if(null!==s&&Bl(r[is])){s!==r[is]&&Vp(s,r);const h=r[xc];null!==h&&h.detachView(t)}!function Se(t){F.delete(t[uu])}(r)}finally{Ze(o)}}function jp(t,r,o){return function Rm(t,r,o){let s=r;for(;null!==s&&40&s.type;)s=(r=s).parent;if(null===s)return o[es];{const{componentOffset:h}=s;if(h>-1){const{encapsulation:y}=t.data[s.directiveStart+h];if(y===vs.None||y===vs.Emulated)return null}return Da(s,o)}}(t,r.parent,o)}function Mh(t,r,o,s,h){t.insertBefore(r,o,s,h)}function XA(t,r,o){t.appendChild(r,o)}function ud(t,r,o,s,h){null!==s?Mh(t,r,o,s,h):XA(t,r,o)}function em(t,r){return t.parentNode(r)}function tm(t,r,o){return Mm(t,r,o)}let _g,Mm=function Nm(t,r,o){return 40&t.type?Da(t,o):null};function Hp(t,r,o,s){const h=jp(t,s,r),y=r[wo],z=tm(s.parent||r[ls],s,r);if(null!=h)if(Array.isArray(o))for(let K=0;K<o.length;K++)ud(y,h,o[K],z,!1);else ud(y,h,o,z,!1);void 0!==_g&&_g(y,s,r,o,h)}function mp(t,r){if(null!==r){const o=r.type;if(3&o)return Da(r,t);if(4&o)return Oh(-1,t[r.index]);if(8&o){const s=r.child;if(null!==s)return mp(t,s);{const h=t[r.index];return Bl(h)?Oh(-1,h):la(h)}}if(32&o)return sA(r,t)()||la(t[r.index]);{const s=Om(t,r);return null!==s?Array.isArray(s)?s[0]:mp(pa(t[Fa]),s):mp(t,r.next)}}return null}function Om(t,r){return null!==r?t[Fa][ls].projection[r.projection]:null}function Oh(t,r){const o=aa+t+1;if(o<r.length){const s=r[o],h=s[Br].firstChild;if(null!==h)return mp(s,h)}return r[Ya]}function Lm(t,r,o,s,h,y,T){for(;null!=o;){const z=s[o.index],K=o.type;if(T&&0===r&&(z&&Lt(la(z),s),o.flags|=2),32&~o.flags)if(8&K)Lm(t,r,o.child,s,h,y,!1),Vc(r,t,h,z,y);else if(32&K){const pe=sA(o,s);let Pe;for(;Pe=pe();)Vc(r,t,h,Pe,y);Vc(r,t,h,z,y)}else 16&K?yv(t,r,s,o,h,y):Vc(r,t,h,z,y);o=T?o.projectionNext:o.next}}function rm(t,r,o,s,h,y){Lm(o,s,t.firstChild,r,h,y,!1)}function yv(t,r,o,s,h,y){const T=o[Fa],K=T[ls].projection[s.projection];if(Array.isArray(K))for(let pe=0;pe<K.length;pe++)Vc(r,t,h,K[pe],y);else{let pe=K;const Pe=T[is];dt(s)&&(pe.flags|=128),Lm(t,r,pe,Pe,h,y,!0)}}function Vm(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function Ev(t,r,o){const{mergedAttrs:s,classes:h,styles:y}=o;null!==s&&Ls(t,r,s),null!==h&&Vm(t,r,h),null!==y&&function im(t,r,o){t.setAttribute(r,"style",o)}(t,r,y)}const Es={};function d0(t=1){h0(cs(),sr(),Yl()+t,!1)}function h0(t,r,o,s){if(!s)if(3&~r[wi]){const y=t.preOrderHooks;null!==y&&Za(r,y,0,o)}else{const y=t.preOrderCheckHooks;null!==y&&xu(r,y,o)}Fu(o)}function yg(t,r=Jn.Default){const o=sr();return null===o?Te(t,r):Rf(Ws(),o,Jt(t),r)}function Qm(){throw new Error("invalid")}function Lh(t,r,o,s,h,y){const T=Ze(null);try{let z=null;h&Zo.SignalBased&&(z=r[s][tt]),null!==z&&void 0!==z.transformFn&&(y=z.transformFn(y)),h&Zo.HasDecoratorInputTransform&&(y=t.inputTransforms[s].call(r,y)),null!==t.setInput?t.setInput(r,z,y,o,s):lt(r,z,s,y)}finally{Ze(T)}}function hh(t,r,o,s,h,y,T,z,K,pe,Pe){const Xe=r.blueprint.slice();return Xe[es]=h,Xe[wi]=204|s,(null!==pe||t&&2048&t[wi])&&(Xe[wi]|=2048),hs(Xe),Xe[is]=Xe[nc]=t,Xe[ds]=o,Xe[Ea]=T||t&&t[Ea],Xe[wo]=z||t&&t[wo],Xe[xo]=K||t&&t[xo]||null,Xe[ls]=y,Xe[uu]=function C(){return v++}(),Xe[dl]=Pe,Xe[lA]=pe,Xe[Fa]=2==r.type?t[Fa]:Xe,Xe}function wg(t,r,o,s,h){let y=t.data[r];if(null===y)y=function $p(t,r,o,s,h){const y=Ed(),T=rc(),K=t.data[r]=function Cv(t,r,o,s,h,y){let T=r?r.injectorIndex:-1,z=0;return Ju()&&(z|=128),{type:o,index:s,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:z,providerIndexes:0,value:h,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?y:y&&y.parent,o,r,s,h);return null===t.firstChild&&(t.firstChild=K),null!==y&&(T?null==y.child&&null!==K.parent&&(y.child=K):null===y.next&&(y.next=K,K.prev=y)),K}(t,r,o,s,h),function Ei(){return So.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=o,y.value=s,y.attrs=h;const T=function Ol(){const t=So.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();y.injectorIndex=null===T?-1:T.injectorIndex}return Ca(y,!0),y}function TA(t,r,o,s){if(0===o)return-1;const h=r.length;for(let y=0;y<o;y++)r.push(s),t.blueprint.push(s),t.data.push(null);return h}function Ad(t,r,o,s,h){const y=Yl(),T=2&s;try{Fu(-1),T&&r.length>so&&h0(t,r,so,!1),Ns(T?2:0,h),o(s,h)}finally{Fu(y),Ns(T?3:1,h)}}function jm(t,r,o){if(md(r)){const s=Ze(null);try{const y=r.directiveEnd;for(let T=r.directiveStart;T<y;T++){const z=t.data[T];z.contentQueries&&z.contentQueries(1,o[T],T)}}finally{Ze(s)}}}function Eg(t,r,o){hA()&&(function S(t,r,o,s){const h=o.directiveStart,y=o.directiveEnd;yu(o)&&function f(t,r,o){const s=Da(r,t),h=om(o);let T=16;o.signals?T=4096:o.onPush&&(T=64);const z=Re(t,hh(t,h,null,T,s,r,null,t[Ea].rendererFactory.createRenderer(s,o),null,null,null));t[r.index]=z}(r,o,t.data[h+o.componentOffset]),t.firstCreatePass||fu(o,r),Lt(s,r);const T=o.initialInputs;for(let z=h;z<y;z++){const K=t.data[z],pe=dc(r,t,z,o);Lt(pe,r),null!==T&&G(0,z-h,pe,K,0,T),jl(K)&&(ql(o.index,r)[ds]=dc(r,t,z,o))}}(t,r,o,Da(o,r)),!(64&~o.flags)&&H(t,r,o))}function Cg(t,r,o=Da){const s=r.localNames;if(null!==s){let h=r.index+1;for(let y=0;y<s.length;y+=2){const T=s[y+1],z=-1===T?o(r,t):t[T];t[h++]=z}}}function om(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=zf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function zf(t,r,o,s,h,y,T,z,K,pe,Pe){const Xe=so+s,Bt=Xe+h,en=function sm(t,r){const o=[];for(let s=0;s<r;s++)o.push(s<t?null:Es);return o}(Xe,Bt),Mn="function"==typeof pe?pe():pe;return en[Br]={type:t,blueprint:en,template:o,queries:null,viewQuery:z,declTNode:r,data:en.slice().fill(null,Xe),bindingStartIndex:Xe,expandoStartIndex:Bt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:K,consts:Mn,incompleteFirstPass:!1,ssrId:Pe}}let Gp=()=>null;function wf(t,r,o,s,h){for(let T in r){var y;if(!r.hasOwnProperty(T))continue;const z=r[T];if(void 0===z)continue;null!==(y=s)&&void 0!==y||(s={});let K,pe=Zo.None;Array.isArray(z)?(K=z[0],pe=z[1]):K=z;let Pe=T;if(null!==h){if(!h.hasOwnProperty(T))continue;Pe=h[T]}0===t?dd(s,o,Pe,K,pe):dd(s,o,Pe,K)}return s}function dd(t,r,o,s,h){let y;t.hasOwnProperty(o)?(y=t[o]).push(r,s):y=t[o]=[r,s],void 0!==h&&y.push(h)}function Kp(t,r,o,s){if(hA()){const h=null===s?null:{"":-1},y=function Ce(t,r){const o=t.directiveRegistry;let s=null,h=null;if(o)for(let T=0;T<o.length;T++){const z=o[T];if(pt(r,z.selectors,!1))if(s||(s=[]),jl(z))if(null!==z.findHostDirectiveDefs){const K=[];h=h||new Map,z.findHostDirectiveDefs(z,K,h),s.unshift(...K,z),Qe(t,r,K.length)}else s.unshift(z),Qe(t,r,0);else{var y;h=h||new Map,null===(y=z.findHostDirectiveDefs)||void 0===y||y.call(z,z,s,h),s.push(z)}}return null===s?null:[s,h]}(t,o);let T,z;null===y?T=z=null:[T,z]=y,null!==T&&lm(t,r,o,T,h,z),h&&function l(t,r,o){if(r){const s=t.localNames=[];for(let h=0;h<r.length;h+=2){const y=o[r[h+1]];if(null==y)throw new Pt(-301,!1);s.push(r[h],y)}}}(o,s,h)}o.mergedAttrs=Zi(o.mergedAttrs,o.attrs)}function lm(t,r,o,s,h,y){for(let Xe=0;Xe<s.length;Xe++)tf(fu(o,r),t,s[Xe].type);!function i(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,s.length);for(let Xe=0;Xe<s.length;Xe++){const Bt=s[Xe];Bt.providersResolver&&Bt.providersResolver(Bt)}let T=!1,z=!1,K=TA(t,r,s.length,null);for(let Xe=0;Xe<s.length;Xe++){const Bt=s[Xe];o.mergedAttrs=Zi(o.mergedAttrs,Bt.hostAttrs),a(t,o,r,K,Bt),n(K,Bt,h),null!==Bt.contentQueries&&(o.flags|=4),(null!==Bt.hostBindings||null!==Bt.hostAttrs||0!==Bt.hostVars)&&(o.flags|=64);const en=Bt.type.prototype;var pe,Pe;!T&&(en.ngOnChanges||en.ngOnInit||en.ngDoCheck)&&((null!==(pe=t.preOrderHooks)&&void 0!==pe?pe:t.preOrderHooks=[]).push(o.index),T=!0),z||!en.ngOnChanges&&!en.ngDoCheck||((null!==(Pe=t.preOrderCheckHooks)&&void 0!==Pe?Pe:t.preOrderCheckHooks=[]).push(o.index),z=!0),K++}!function BA(t,r,o){const h=r.directiveEnd,y=t.data,T=r.attrs,z=[];let K=null,pe=null;for(let Pe=r.directiveStart;Pe<h;Pe++){const Xe=y[Pe],Bt=o?o.get(Xe):null,Mn=Bt?Bt.outputs:null;K=wf(0,Xe.inputs,Pe,K,Bt?Bt.inputs:null),pe=wf(1,Xe.outputs,Pe,pe,Mn);const ar=null===K||null===T||ul(r)?null:X(K,Pe,T);z.push(ar)}null!==K&&(K.hasOwnProperty("class")&&(r.flags|=8),K.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=z,r.inputs=K,r.outputs=pe}(t,o,y)}function H(t,r,o){const s=o.directiveStart,h=o.directiveEnd,y=o.index,T=function Sd(){return So.lFrame.currentDirectiveIndex}();try{Fu(y);for(let z=s;z<h;z++){const K=t.data[z],pe=r[z];El(z),(null!==K.hostBindings||0!==K.hostVars||null!==K.hostAttrs)&&re(K,pe)}}finally{Fu(-1),El(T)}}function re(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Qe(t,r,o){var s;r.componentOffset=o,(null!==(s=t.components)&&void 0!==s?s:t.components=[]).push(r.index)}function n(t,r,o){if(o){if(r.exportAs)for(let s=0;s<r.exportAs.length;s++)o[r.exportAs[s]]=t;jl(r)&&(o[""]=t)}}function a(t,r,o,s,h){t.data[s]=h;const y=h.factory||(h.factory=qi(h.type)),T=new Ac(y,jl(h),yg);t.blueprint[s]=T,o[s]=T,function Wp(t,r,o,s,h){const y=h.hostBindings;if(y){let T=t.hostBindingOpCodes;null===T&&(T=t.hostBindingOpCodes=[]);const z=~r.index;(function Gf(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(T)!=z&&T.push(z),T.push(o,s,y)}}(t,r,s,TA(t,o,h.hostVars,Es),h)}function E(t,r,o,s,h,y){const T=Da(t,r);!function D(t,r,o,s,h,y,T){if(null==y)t.removeAttribute(r,h,o);else{const z=null==T?mi(y):T(y,s||"",h);t.setAttribute(r,h,z,o)}}(r[wo],T,y,t.value,o,s,h)}function G(t,r,o,s,h,y){const T=y[r];if(null!==T)for(let z=0;z<T.length;)Lh(s,o,T[z++],T[z++],T[z++],T[z++])}function X(t,r,o){let s=null,h=0;for(;h<o.length;){const y=o[h];if(0!==y)if(5!==y){if("number"==typeof y)break;if(t.hasOwnProperty(y)){null===s&&(s=[]);const T=t[y];for(let z=0;z<T.length;z+=3)if(T[z]===r){s.push(y,T[z+1],T[z+2],o[h+1]);break}}h+=2}else h+=2;else h+=4}return s}function fe(t,r,o,s){return[t,!0,0,r,null,s,null,o,null,null]}function xe(t,r){const o=t.contentQueries;if(null!==o){const s=Ze(null);try{for(let h=0;h<o.length;h+=2){const T=o[h+1];if(-1!==T){const z=t.data[T];hu(o[h]),z.contentQueries(2,r[T],T)}}}finally{Ze(s)}}}function Re(t,r){return t[_u]?t[cu][da]=r:t[_u]=r,t[cu]=r,r}function $e(t,r,o){hu(0);const s=Ze(null);try{r(t,o)}finally{Ze(s)}}function nn(t){return t[lu]||(t[lu]=[])}function hn(t){return t.cleanup||(t.cleanup=[])}function nr(t,r){const o=t[xo],s=o?o.get(I,null):null;s&&s.handleError(r)}function Rr(t,r,o,s,h){for(let y=0;y<o.length;){const T=o[y++],z=o[y++],K=o[y++];Lh(t.data[T],r[T],s,z,K,h)}}function Ti(t,r){const o=ql(r,t),s=o[Br];!function mo(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(s,o);const h=o[es];null!==h&&null===o[dl]&&(o[dl]=CA(h,o[xo])),Fi(s,o,o[ds])}function Fi(t,r,o){fA(r);try{var s;const h=t.viewQuery;null!==h&&$e(1,h,o);const y=t.template;null!==y&&Ad(t,r,y,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),null===(s=r[xc])||void 0===s||s.finishViewCreation(t),t.staticContentQueries&&xe(t,r),t.staticViewQueries&&$e(2,t.viewQuery,o);const T=t.components;null!==T&&function on(t,r){for(let o=0;o<r.length;o++)Ti(t,r[o])}(r,T)}catch(h){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),h}finally{r[wi]&=-5,QA()}}function Xt(t,r){return!r||null===r.firstChild||dt(t)}function En(t,r,o,s=!0){const h=r[Br];if(function Hf(t,r,o,s){const h=aa+s,y=o.length;s>0&&(o[h-1][da]=r),s<y-aa?(r[da]=o[h],br(o,aa+s,r)):(o.push(r),r[da]=null),r[is]=o;const T=r[$c];null!==T&&o!==T&&function pp(t,r){const o=t[fa];r[Fa]!==r[is][is][Fa]&&(t[wi]|=Gc.HasTransplantedViews),null===o?t[fa]=[r]:o.push(r)}(T,r);const z=r[xc];null!==z&&z.insertView(t),bo(r),r[wi]|=128}(h,r,t,o),s){const T=Oh(o,t),z=r[wo],K=em(z,t[Ya]);null!==K&&function Bc(t,r,o,s,h,y){s[es]=h,s[ls]=r,rm(t,s,o,1,h,y)}(h,t[ls],z,r,K,T)}const y=r[dl];null!==y&&null!==y.firstChild&&(y.firstChild=null)}function Gt(t,r,o,s,h=!1){for(;null!==o;){const y=r[o.index];null!==y&&s.push(la(y)),Bl(y)&&sc(y,s);const T=o.type;if(8&T)Gt(t,r,o.child,s);else if(32&T){const z=sA(o,r);let K;for(;K=z();)s.push(K)}else if(16&T){const z=Om(r,o);if(Array.isArray(z))s.push(...z);else{const K=pa(r[Fa]);Gt(K[Br],K,z,s,!0)}}o=h?o.projectionNext:o.next}return s}function sc(t,r){for(let o=aa;o<t.length;o++){const s=t[o],h=s[Br].firstChild;null!==h&&Gt(s[Br],s,h,r)}t[Ya]!==t[es]&&r.push(t[Ya])}let xa=[];const ru={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Qs(t.lView)},consumerOnSignalRead(){this.lView[Wl]=this}},Vu=100;function xA(t,r=!0,o=0){const s=t[Ea],h=s.rendererFactory;var T;null===(T=h.begin)||void 0===T||T.call(h);try{!function Qu(t,r){_p(t,r);let o=0;for(;Yu(t);){if(o===Vu)throw new Pt(103,!1);o++,_p(t,1)}}(t,o)}catch(pe){throw r&&nr(t,pe),pe}finally{var z,K;null===(z=h.end)||void 0===z||z.call(h),null===(K=s.inlineEffectRunner)||void 0===K||K.flush()}}function Ef(t,r,o,s){var h;const y=r[wi];if(!(256&~y))return;null===(h=r[Ea].inlineEffectRunner)||void 0===h||h.flush(),fA(r);let z=null,K=null;(function fh(t){return 2!==t.type})(t)&&(K=function hd(t){var r;return null!==(r=t[Wl])&&void 0!==r?r:function Uu(t){var r;const o=null!==(r=xa.pop())&&void 0!==r?r:Object.create(ru);return o.lView=t,o}(t)}(r),z=function tn(t){return t&&(t.nextProducerIndex=0),Ze(t)}(K));try{hs(r),function ZA(t){return So.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Ad(t,r,o,2,s);const pe=!(3&~y);if(pe){const Bt=t.preOrderCheckHooks;null!==Bt&&xu(r,Bt,null)}else{const Bt=t.preOrderHooks;null!==Bt&&Za(r,Bt,0,null),Jd(r,0)}if(function zd(t){for(let r=li(t);null!==r;r=Ii(r)){if(!(r[wi]&Gc.HasTransplantedViews))continue;const o=r[fa];for(let s=0;s<o.length;s++){Su(o[s])}}}(r),vp(r,0),null!==t.contentQueries&&xe(t,r),pe){const Bt=t.contentCheckHooks;null!==Bt&&xu(r,Bt)}else{const Bt=t.contentHooks;null!==Bt&&Za(r,Bt,1),Jd(r,1)}!function Uh(t,r){const o=t.hostBindingOpCodes;if(null!==o)try{for(let s=0;s<o.length;s++){const h=o[s];if(h<0)Fu(~h);else{const y=h,T=o[++s],z=o[++s];bd(T,y),z(2,r[y])}}}finally{Fu(-1)}}(t,r);const Pe=t.components;null!==Pe&&qp(r,Pe,0);const Xe=t.viewQuery;if(null!==Xe&&$e(2,Xe,s),pe){const Bt=t.viewCheckHooks;null!==Bt&&xu(r,Bt)}else{const Bt=t.viewHooks;null!==Bt&&Za(r,Bt,2),Jd(r,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Tl]){for(const Bt of r[Tl])Bt();r[Tl]=null}r[wi]&=-73}catch(pe){throw Qs(r),pe}finally{null!==K&&(function Un(t,r){if(Ze(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(wn(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Vt(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(K,z),function fc(t){t.lView[Wl]!==t&&(t.lView=null,xa.push(t))}(K)),QA()}}function vp(t,r){for(let o=li(t);null!==o;o=Ii(o))for(let s=aa;s<o.length;s++)cm(o[s],r)}function pc(t,r,o){cm(ql(r,t),o)}function cm(t,r){Pc(t)&&_p(t,r)}function _p(t,r){const s=t[Br],h=t[wi],y=t[Wl];let T=!!(0===r&&16&h);if(T||(T=!!(64&h&&0===r)),T||(T=!!(1024&h)),T||(T=!(null==y||!y.dirty||!gn(y))),y&&(y.dirty=!1),t[wi]&=-9217,T)Ef(s,t,s.template,t[ds]);else if(8192&h){vp(t,1);const z=s.components;null!==z&&qp(t,z,1)}}function qp(t,r,o){for(let s=0;s<r.length;s++)pc(t,r[s],o)}function Vh(t){var r;for(null===(r=t[Ea].changeDetectionScheduler)||void 0===r||r.notify();t;){t[wi]|=64;const o=pa(t);if(vd(t)&&!o)return t;t=o}return null}class ph{get rootNodes(){const r=this._lView,o=r[Br];return Gt(o,r,o.firstChild,[])}constructor(r,o,s=!0){this._lView=r,this._cdRefInjectingView=o,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ds]}set context(r){this._lView[ds]=r}get destroyed(){return!(256&~this._lView[wi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[is];if(Bl(r)){const o=r[8],s=o?o.indexOf(this):-1;s>-1&&(Qp(r,s),Gi(o,s))}this._attachedToViewContainer=!1}mg(this._lView[Br],this._lView)}onDestroy(r){yl(this._lView,r)}markForCheck(){Vh(this._cdRefInjectingView||this._lView)}detach(){this._lView[wi]&=-129}reattach(){bo(this._lView),this._lView[wi]|=128}detectChanges(){this._lView[wi]|=1024,xA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Qc(this._lView[Br],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Pt(902,!1);this._appRef=r,bo(this._lView)}}let Qh=(()=>{class r{}return r.__NG_ELEMENT_ID__=wp,r})();const fd=Qh,yp=class extends fd{constructor(r,o,s){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=s}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,s){const h=function kt(t,r,o,s){const h=Ze(null);try{var y,T,z;const K=r.tView,Xe=hh(t,K,o,4096&t[wi]?4096:16,null,r,null,null,null!==(y=null==s?void 0:s.injector)&&void 0!==y?y:null,null!==(T=null==s?void 0:s.embeddedViewInjector)&&void 0!==T?T:null,null!==(z=null==s?void 0:s.dehydratedView)&&void 0!==z?z:null);Xe[$c]=t[r.index];const en=t[xc];return null!==en&&(Xe[xc]=en.createEmbeddedView(K)),Fi(K,Xe,o),Xe}finally{Ze(h)}}(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:o,dehydratedView:s});return new ph(h)}};function wp(){return Sg(Ws(),sr())}function Sg(t,r){return 4&t.type?new yp(r,t,m(t,r)):null}class Jm{}class p0{}class g0{}class J0{resolveComponentFactory(r){throw function X0(t){const r=Error(`No component factory found for ${Wr(t)}.`);return r.ngComponent=t,r}(r)}}let _m=(()=>{class r{}return r.NULL=new J0,r})();class ym{}let kg=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function v0(){const t=sr(),o=ql(Ws().index,t);return(hl(o)?o:t)[wo]}(),r})(),ey=(()=>{var t;class r{}return(t=r).\u0275prov=Ao({token:t,providedIn:"root",factory:()=>null}),r})();const Bv={},_0=new Set;function $h(t){var r,o;_0.has(t)||(_0.add(t),null===(r=performance)||void 0===r||null===(o=r.mark)||void 0===o||o.call(r,"mark_feature_usage",{detail:{feature:t}}))}function Fv(...t){}class vu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ee(!1),this.onMicrotaskEmpty=new ee(!1),this.onStable=new ee(!1),this.onError=new ee(!1),typeof Zone>"u")throw new Pt(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!s&&o,h.shouldCoalesceRunChangeDetection=s,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Z0(){const t="function"==typeof Zr.requestAnimationFrame;let r=Zr[t?"requestAnimationFrame":"setTimeout"],o=Zr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const s=r[Zone.__symbol__("OriginalDelegate")];s&&(r=s);const h=o[Zone.__symbol__("OriginalDelegate")];h&&(o=h)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function iy(t){const r=()=>{!function e_(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Zr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bp(t),t.isCheckStableRunning=!0,Dv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,s,h,y,T,z)=>{if(function t_(t){var r;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(r=t[0].data)||void 0===r?void 0:r.__ignore_ng_zone__)}(z))return o.invokeTask(h,y,T,z);try{return Jf(t),o.invokeTask(h,y,T,z)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||t.shouldCoalesceRunChangeDetection)&&r(),Zm(t)}},onInvoke:(o,s,h,y,T,z,K)=>{try{return Jf(t),o.invoke(h,y,T,z,K)}finally{t.shouldCoalesceRunChangeDetection&&r(),Zm(t)}},onHasTask:(o,s,h,y)=>{o.hasTask(h,y),s===h&&("microTask"==y.change?(t._hasPendingMicrotasks=y.microTask,bp(t),Dv(t)):"macroTask"==y.change&&(t.hasPendingMacrotasks=y.macroTask))},onHandleError:(o,s,h,y)=>(o.handleError(h,y),t.runOutsideAngular(()=>t.onError.emit(y)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vu.isInAngularZone())throw new Pt(909,!1)}static assertNotInAngularZone(){if(vu.isInAngularZone())throw new Pt(909,!1)}run(r,o,s){return this._inner.run(r,o,s)}runTask(r,o,s,h){const y=this._inner,T=y.scheduleEventTask("NgZoneEvent: "+h,r,ry,Fv,Fv);try{return y.runTask(T,o,s)}finally{y.cancelTask(T)}}runGuarded(r,o,s){return this._inner.runGuarded(r,o,s)}runOutsideAngular(r){return this._outer.run(r)}}const ry={};function Dv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Jf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zm(t){t._nesting--,Dv(t)}class ev{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ee,this.onMicrotaskEmpty=new ee,this.onStable=new ee,this.onError=new ee}run(r,o,s){return r.apply(o,s)}runGuarded(r,o,s){return r.apply(o,s)}runOutsideAngular(r){return r()}runTask(r,o,s,h){return r.apply(o,s)}}var Zf=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Zf||{});const wm={destroy(){}};function y0(t,r){var o,s,h;!r&&function ge(t){if(!V())throw new Pt(-203,!1)}();const y=null!==(o=null==r?void 0:r.injector)&&void 0!==o?o:At(g);if(!function nu(t){return"browser"===(null!=t?t:At(g)).get(Ur)}(y))return wm;$h("NgAfterNextRender");const T=y.get(tv),z=null!==(s=T.handler)&&void 0!==s?s:T.handler=new r_,K=null!==(h=null==r?void 0:r.phase)&&void 0!==h?h:Zf.MixedReadWrite,pe=()=>{z.unregister(Xe),Pe()},Pe=y.get(U).onDestroy(pe),Xe=_e(y,()=>new n_(K,()=>{pe(),t()}));return z.register(Xe),{destroy:pe}}class n_{constructor(r,o){var s;this.phase=r,this.callbackFn=o,this.zone=At(vu),this.errorHandler=At(I,{optional:!0}),null===(s=At(Jm,{optional:!0}))||void 0===s||s.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(o){var r;null===(r=this.errorHandler)||void 0===r||r.handleError(o)}}}class r_{constructor(){this.executingCallbacks=!1,this.buckets={[Zf.EarlyRead]:new Set,[Zf.Write]:new Set,[Zf.MixedReadWrite]:new Set,[Zf.Read]:new Set},this.deferredCallbacks=new Set}register(r){(this.executingCallbacks?this.deferredCallbacks:this.buckets[r.phase]).add(r)}unregister(r){this.buckets[r.phase].delete(r),this.deferredCallbacks.delete(r)}execute(){this.executingCallbacks=!0;for(const r of Object.values(this.buckets))for(const o of r)o.invoke();this.executingCallbacks=!1;for(const r of this.deferredCallbacks)this.buckets[r.phase].add(r);this.deferredCallbacks.clear()}destroy(){for(const r of Object.values(this.buckets))r.clear();this.deferredCallbacks.clear()}}let tv=(()=>{var t;class r{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var s;this.executeInternalCallbacks(),null===(s=this.handler)||void 0===s||s.execute()}executeInternalCallbacks(){const s=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const h of s)h()}ngOnDestroy(){var s;null===(s=this.handler)||void 0===s||s.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=r).\u0275prov=Ao({token:t,providedIn:"root",factory:()=>new t}),r})();function Gh(t){return!!ea(t)}function xv(t,r,o){let s=o?t.styles:null,h=o?t.classes:null,y=0;if(null!==r)for(let T=0;T<r.length;T++){const z=r[T];"number"==typeof z?y=z:1==y?h=cn(h,z):2==y&&(s=cn(s,z+": "+r[++T]+";"))}o?t.styles=s:t.stylesWithoutHost=s,o?t.classes=h:t.classesWithoutHost=h}class Im extends _m{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=fi(r);return new Sp(o,this.ngModule)}}function nv(t){const r=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const s=t[o];void 0!==s&&r.push({propName:Array.isArray(s)?s[0]:s,templateName:o})}return r}class eg{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,s){s=Tt(s);const h=this.injector.get(r,Bv,s);return h!==Bv||o===Bv?h:this.parentInjector.get(r,o,s)}}class Sp extends g0{get inputs(){const r=this.componentDef,o=r.inputTransforms,s=nv(r.inputs);if(null!==o)for(const h of s)o.hasOwnProperty(h.propName)&&(h.transform=o[h.propName]);return s}get outputs(){return nv(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Pl(t){return t.map(Ka).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,s,h){const y=Ze(null);try{var z;let K=(h=h||this.ngModule)instanceof Xa?h:null===(z=h)||void 0===z?void 0:z.injector;K&&null!==this.componentDef.getStandaloneInjector&&(K=this.componentDef.getStandaloneInjector(K)||K);const pe=K?new eg(r,K):r,Pe=pe.get(ym,null);if(null===Pe)throw new Pt(407,!1);const Xe=pe.get(ey,null),Mn={rendererFactory:Pe,sanitizer:Xe,inlineEffectRunner:null,afterRenderEventManager:pe.get(tv,null),changeDetectionScheduler:pe.get(Jm,null)},ar=Pe.createRenderer(null,this.componentDef),Pr=this.componentDef.selectors[0][0]||"div",Vr=s?function f0(t,r,o,s){const y=s.get(ag,!1)||o===vs.ShadowDom,T=t.selectRootElement(r,y);return function am(t){Gp(t)}(T),T}(ar,s,this.componentDef.encapsulation,pe):ma(ar,Pr,function s_(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Pr));let vr=512;this.componentDef.signals?vr|=4096:this.componentDef.onPush||(vr|=16);let ss=null;null!==Vr&&(ss=CA(Vr,pe,!0));const qs=zf(0,null,null,1,0,null,null,null,null,null,null),tl=hh(null,qs,null,vr,null,null,Mn,ar,pe,null,ss);let gd,tp;fA(tl);try{const Dp=this.componentDef;let fv,f1=null;Dp.findHostDirectiveDefs?(fv=[],f1=new Map,Dp.findHostDirectiveDefs(Dp,fv,f1),fv.push(Dp)):fv=[Dp];const fF=function I0(t,r){const o=t[Br],s=so;return t[s]=r,wg(o,s,2,"#host",null)}(tl,Vr),pF=function Hc(t,r,o,s,h,y,T){const z=h[Br];!function sy(t,r,o,s){for(const h of t)r.mergedAttrs=Zi(r.mergedAttrs,h.hostAttrs);null!==r.mergedAttrs&&(xv(r,r.mergedAttrs,!0),null!==o&&Ev(s,o,r))}(s,t,r,T);let K=null;null!==r&&(K=CA(r,h[xo]));const pe=y.rendererFactory.createRenderer(r,o);let Pe=16;o.signals?Pe=4096:o.onPush&&(Pe=64);const Xe=hh(h,om(o),null,Pe,h[t.index],t,y,pe,null,null,K);return z.firstCreatePass&&Qe(z,t,s.length-1),Re(h,Xe),h[t.index]=Xe}(fF,Vr,Dp,fv,tl,Mn,ar);tp=Cu(qs,so),Vr&&function l_(t,r,o,s){if(s)Ls(t,o,["ng-version","17.3.10"]);else{const{attrs:h,classes:y}=function Ql(t){const r=[],o=[];let s=1,h=2;for(;s<t.length;){let y=t[s];if("string"==typeof y)2===h?""!==y&&r.push(y,t[++s]):8===h&&o.push(y);else{if(!qe(h))break;h=y}s++}return{attrs:r,classes:o}}(r.selectors[0]);h&&Ls(t,o,h),y&&y.length>0&&Vm(t,o,y.join(" "))}}(ar,Dp,Vr,s),void 0!==o&&function c_(t,r,o){const s=t.projection=[];for(let h=0;h<r.length;h++){const y=o[h];s.push(null!=y?Array.from(y):null)}}(tp,this.ngContentSelectors,o),gd=function ay(t,r,o,s,h,y){const T=Ws(),z=h[Br],K=Da(T,h);lm(z,h,T,o,null,s);for(let Pe=0;Pe<o.length;Pe++)Lt(dc(h,z,T.directiveStart+Pe,T),h);H(z,h,T),K&&Lt(K,h);const pe=dc(h,z,T.directiveStart+T.componentOffset,T);if(t[ds]=h[ds]=pe,null!==y)for(const Pe of y)Pe(pe,r);return jm(z,T,h),pe}(pF,Dp,fv,f1,tl,[u_]),Fi(qs,tl,null)}finally{QA()}return new a_(this.componentType,gd,m(tp,tl),tl,tp)}finally{Ze(y)}}}class a_ extends p0{constructor(r,o,s,h,y){super(),this.location=s,this._rootLView=h,this._tNode=y,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new ph(h,void 0,!1),this.componentType=r}setInput(r,o){const s=this._tNode.inputs;let h;if(null!==s&&(h=s[r])){var y;if(null!==(y=this.previousInputValues)&&void 0!==y||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const T=this._rootLView;Rr(T[Br],T,h,r,o),this.previousInputValues.set(r,o),Vh(ql(this._tNode.index,T))}}get injector(){return new pl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function u_(){const t=Ws();tA(sr()[Br],t)}let Ng=(()=>{class r{}return r.__NG_ELEMENT_ID__=A_,r})();function A_(){return S0(Ws(),sr())}const Tp=Ng,b0=class extends Tp{constructor(r,o,s){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=s}get element(){return m(this._hostTNode,this._hostLView)}get injector(){return new pl(this._hostTNode,this._hostLView)}get parentInjector(){const r=$A(this._hostTNode,this._hostLView);if(Rd(r)){const o=zA(r,this._hostLView),s=HA(r);return new pl(o[Br].data[s+8],o)}return new pl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=d_(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-aa}createEmbeddedView(r,o,s){let h,y;"number"==typeof s?h=s:null!=s&&(h=s.index,y=s.injector);const z=r.createEmbeddedViewImpl(o||{},y,null);return this.insertImpl(z,h,Xt(this._hostTNode,null)),z}createComponent(r,o,s,h,y){var T,K;const pe=r&&!function jn(t){return"function"==typeof t}(r);let Pe;if(pe)Pe=o;else{const Vr=o||{};Pe=Vr.index,s=Vr.injector,h=Vr.projectableNodes,y=Vr.environmentInjector||Vr.ngModuleRef}const Xe=pe?r:new Sp(fi(r)),Bt=s||this.parentInjector;if(!y&&null==Xe.ngModule){const vr=(pe?Bt:this.parentInjector).get(Xa,null);vr&&(y=vr)}const en=fi(null!==(T=Xe.componentType)&&void 0!==T?T:{}),Mn=(null==en?void 0:en.id,null),ar=null!==(K=null==Mn?void 0:Mn.firstChild)&&void 0!==K?K:null,Pr=Xe.create(Bt,h,ar,y);return this.insertImpl(Pr.hostView,Pe,Xt(this._hostTNode,Mn)),Pr}insert(r,o){return this.insertImpl(r,o,!0)}insertImpl(r,o,s){const h=r._lView;if(function _d(t){return Bl(t[is])}(h)){const z=this.indexOf(r);if(-1!==z)this.detach(z);else{const K=h[is],pe=new b0(K,K[ls],K[is]);pe.detach(pe.indexOf(r))}}const y=this._adjustIndex(o),T=this._lContainer;return En(T,h,y,s),r.attachToViewContainerRef(),br(Mg(T),y,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=d_(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),s=Qp(this._lContainer,o);s&&(Gi(Mg(this._lContainer),o),mg(s[Br],s))}detach(r){const o=this._adjustIndex(r,-1),s=Qp(this._lContainer,o);return s&&null!=Gi(Mg(this._lContainer),o)?new ph(s):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function d_(t){return t[8]}function Mg(t){return t[8]||(t[8]=[])}function S0(t,r){let o;const s=r[t.index];return Bl(s)?o=s:(o=fe(s,r,null,t),r[t.index]=o,Re(r,o)),rv(o,r,t,s),new b0(o,t,r)}let rv=function h_(t,r,o,s){if(t[Ya])return;let h;h=8&o.type?la(s):function T0(t,r){const o=t[wo],s=o.createComment(""),h=Da(r,t);return Mh(o,em(o,h),s,function Pm(t,r){return t.nextSibling(r)}(o,h),!1),s}(r,o),t[Ya]=h},Rv=()=>!1;class kv{constructor(r){this.queryList=r,this.matches=null}clone(){return new kv(this.queryList)}setDirty(){this.queryList.setDirty()}}class sv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const s=null!==r.contentQueries?r.contentQueries[0]:o.length,h=[];for(let y=0;y<s;y++){const T=o.getByIndex(y);h.push(this.queries[T.indexInDeclarationView].clone())}return new sv(h)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==de(r,o).matches&&this.queries[o].setDirty()}}class Pv{constructor(r,o,s=null){this.flags=o,this.read=s,this.predicate="string"==typeof r?function __(t){return t.split(",").map(r=>r.trim())}(r):r}}class Nv{constructor(r=[]){this.queries=r}elementStart(r,o){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let s=0;s<this.length;s++){const h=null!==o?o.length:0,y=this.getByIndex(s).embeddedTView(r,h);y&&(y.indexInDeclarationView=s,null!==o?o.push(y):o=[y])}return null!==o?new Nv(o):null}template(r,o){for(let s=0;s<this.queries.length;s++)this.queries[s].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class bm{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new bm(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1&~this.metadata.flags){const o=this._declarationNodeIndex;let s=r.parent;for(;null!==s&&8&s.type&&s.index!==o;)s=s.parent;return o===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const s=this.metadata.predicate;if(Array.isArray(s))for(let h=0;h<s.length;h++){const y=s[h];this.matchTNodeWithReadOption(r,o,g_(o,y)),this.matchTNodeWithReadOption(r,o,ba(o,r,y,!1,!1))}else s===Qh?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,ba(o,r,s,!1,!1))}matchTNodeWithReadOption(r,o,s){if(null!==s){const h=this.metadata.read;if(null!==h)if(h===A||h===Ng||h===Qh&&4&o.type)this.addMatch(o.index,-2);else{const y=ba(o,r,h,!1,!1);null!==y&&this.addMatch(o.index,y)}else this.addMatch(o.index,s)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function g_(t,r){const o=t.localNames;if(null!==o)for(let s=0;s<o.length;s+=2)if(o[s]===r)return o[s+1];return null}function Og(t,r,o,s){return-1===o?function m_(t,r){return 11&t.type?m(t,r):4&t.type?Sg(t,r):null}(r,t):-2===o?function v_(t,r,o){return o===A?m(r,t):o===Qh?Sg(r,t):o===Ng?S0(r,t):void 0}(t,r,s):dc(t,t[Br],o,r)}function B0(t,r,o,s){const h=r[xc].queries[s];if(null===h.matches){const y=t.data,T=o.matches,z=[];for(let K=0;null!==T&&K<T.length;K+=2){const pe=T[K];z.push(pe<0?null:Og(r,y[pe],T[K+1],o.metadata.read))}h.matches=z}return h.matches}function Mv(t,r,o,s){const h=t.queries.getByIndex(o),y=h.matches;if(null!==y){const T=B0(t,r,h,o);for(let z=0;z<y.length;z+=2){const K=y[z];if(K>0)s.push(T[z/2]);else{const pe=y[z+1],Pe=r[-K];for(let Xe=aa;Xe<Pe.length;Xe++){const Bt=Pe[Xe];Bt[$c]===Bt[is]&&Mv(Bt[Br],Bt,pe,s)}if(null!==Pe[fa]){const Xe=Pe[fa];for(let Bt=0;Bt<Xe.length;Bt++){const en=Xe[Bt];Mv(en[Br],en,pe,s)}}}}}return s}function av(t,r,o){var s;const h=new me(!(4&~o));return function zm(t,r,o,s){const h=nn(r);h.push(o),t.firstCreatePass&&hn(t).push(s,h.length-1)}(t,r,h,h.destroy),(null!==(s=r[xc])&&void 0!==s?s:r[xc]=new sv).queries.push(new kv(h))-1}function Lg(t,r,o){null===t.queries&&(t.queries=new Nv),t.queries.track(new bm(r,o))}function de(t,r){return t.queries.getByIndex(r)}function ke(t,r){const o=t[Br],s=de(o,r);return s.crossesNgTemplate?Mv(o,t,r,[]):B0(o,t,s,r)}function ly(t){let r=function E1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const s=[t];for(;r;){let h;if(jl(t))h=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Pt(903,!1);h=r.\u0275dir}if(h){if(o){s.push(h);const T=t;T.inputs=E_(t.inputs),T.inputTransforms=E_(t.inputTransforms),T.declaredInputs=E_(t.declaredInputs),T.outputs=E_(t.outputs);const z=h.hostBindings;z&&SI(t,z);const K=h.viewQuery,pe=h.contentQueries;if(K&&II(t,K),pe&&bI(t,pe),EI(t,h),Wo(t.outputs,h.outputs),jl(h)&&h.data.animation){const Pe=t.data;Pe.animation=(Pe.animation||[]).concat(h.data.animation)}}const y=h.features;if(y)for(let T=0;T<y.length;T++){const z=y[T];z&&z.ngInherit&&z(t),z===ly&&(o=!1)}}r=Object.getPrototypeOf(r)}!function CI(t){let r=0,o=null;for(let s=t.length-1;s>=0;s--){const h=t[s];h.hostVars=r+=h.hostVars,h.hostAttrs=Zi(h.hostAttrs,o=Zi(o,h.hostAttrs))}}(s)}function EI(t,r){for(const s in r.inputs){if(!r.inputs.hasOwnProperty(s)||t.inputs.hasOwnProperty(s))continue;const h=r.inputs[s];if(void 0!==h&&(t.inputs[s]=h,t.declaredInputs[s]=r.declaredInputs[s],null!==r.inputTransforms)){var o;const y=Array.isArray(h)?h[0]:h;if(!r.inputTransforms.hasOwnProperty(y))continue;null!==(o=t.inputTransforms)&&void 0!==o||(t.inputTransforms={}),t.inputTransforms[y]=r.inputTransforms[y]}}}function E_(t){return t===Li?{}:t===ii?[]:t}function II(t,r){const o=t.viewQuery;t.viewQuery=o?(s,h)=>{r(s,h),o(s,h)}:r}function bI(t,r){const o=t.contentQueries;t.contentQueries=o?(s,h,y)=>{r(s,h,y),o(s,h,y)}:r}function SI(t,r){const o=t.hostBindings;t.hostBindings=o?(s,h)=>{r(s,h),o(s,h)}:r}function S1(t){const r=t.inputConfig,o={};for(const s in r)if(r.hasOwnProperty(s)){const h=r[s];Array.isArray(h)&&h[3]&&(o[s]=h[3])}t.inputTransforms=o}class lv{}class T1{}function RI(t,r){return new cy(t,null!=r?r:null,[])}class cy extends lv{constructor(r,o,s){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Im(this);const h=ea(r);this._bootstrapComponents=ec(h.bootstrap),this._r3Injector=xp(r,o,[{provide:lv,useValue:this},{provide:_m,useValue:this.componentFactoryResolver},...s],Wr(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class uy extends T1{constructor(r){super(),this.moduleType=r}create(r){return new cy(this.moduleType,r,[])}}class B1 extends lv{constructor(r){super(),this.componentFactoryResolver=new Im(this),this.instance=null;const o=new sl([...r.providers,{provide:lv,useValue:this},{provide:_m,useValue:this.componentFactoryResolver}],r.parent||Fc(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Ay(t,r,o=null){return new B1({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let Vv=(()=>{var t;class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new kr.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ao({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function I_(t){return!!dy(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function dy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Hu(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function Qv(t,r,o,s,h,y,T,z){const K=sr(),pe=cs(),Pe=t+so,Xe=pe.firstCreatePass?function UI(t,r,o,s,h,y,T,z,K){const pe=r.consts,Pe=wg(r,t,4,T||null,Vi(pe,z));Kp(r,o,Pe,Vi(pe,K)),tA(r,Pe);const Xe=Pe.tView=zf(2,Pe,s,h,y,r.directiveRegistry,r.pipeRegistry,null,r.schemas,pe,null);return null!==r.queries&&(r.queries.template(r,Pe),Xe.queries=r.queries.embeddedTView(Pe)),Pe}(Pe,pe,K,r,o,s,h,y,T):pe.data[Pe];Ca(Xe,!1);const Bt=F1(pe,K,Xe,t);gA()&&Hp(pe,K,Bt,Xe),Lt(Bt,K);const en=fe(Bt,K,Bt,Xe);return K[Pe]=en,Re(K,en),function iv(t,r,o){return Rv(t,r,o)}(en,Xe,K),JA(Xe)&&Eg(pe,K,Xe),null!=T&&Cg(K,Xe,z),Qv}let F1=function D1(t,r,o,s){return Ia(!0),r[wo].createComment("")};function Ey(t,r,o,s){const h=sr();return Hu(h,Fl(),r)&&(cs(),E(ga(),h,t,r,o,s)),Ey}function x_(t,r){return t<<17|r<<2}function Tm(t){return t>>17&32767}function Cy(t){return 2|t}function Av(t){return(131068&t)>>2}function Iy(t,r){return-131069&t|r<<2}function by(t){return 1|t}function aw(t,r,o,s){const h=t[o+1],y=null===r;let T=s?Tm(h):Av(h),z=!1;for(;0!==T&&(!1===z||y);){const pe=t[T+1];bb(t[T],r)&&(z=!0,t[T+1]=s?by(pe):Cy(pe)),T=s?Tm(pe):Av(pe)}z&&(t[o+1]=s?Cy(h):by(h))}function bb(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&wr(t,r)>=0}function Sy(t,r,o){const s=sr();return Hu(s,Fl(),r)&&function FA(t,r,o,s,h,y,T,z){const K=Da(r,o);let Pe,pe=r.inputs;!z&&null!=pe&&(Pe=pe[s])?(Rr(t,o,Pe,s,h),yu(r)&&function Ig(t,r){const o=ql(r,t);16&o[wi]||(o[wi]|=64)}(o,r.index)):3&r.type&&(s=function Iv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),h=null!=T?T(h,r.value||"",s):h,y.setProperty(K,s,h))}(cs(),ga(),s,t,r,s[wo],o,!1),Sy}function Ty(t,r,o,s,h){const T=h?"class":"style";Rr(t,o,r.inputs[T],T,s)}function By(t,r){return function Bp(t,r,o,s){const h=sr(),y=cs(),T=function js(t){const r=So.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}(2);y.firstUpdatePass&&function gw(t,r,o,s){const h=t.data;if(null===h[o+1]){const y=h[Yl()],T=function pw(t,r){return r>=t.expandoStartIndex}(t,o);(function yw(t,r){return!!(t.flags&(r?8:16))})(y,s)&&null===r&&!T&&(r=!1),r=function Pb(t,r,o,s){const h=function Oc(t){const r=So.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let y=s?r.residualClasses:r.residualStyles;if(null===h)0===(s?r.classBindings:r.styleBindings)&&(o=M0(o=Fy(null,t,r,o,s),r.attrs,s),y=null);else{const T=r.directiveStylingLast;if(-1===T||t[T]!==h)if(o=Fy(h,t,r,o,s),null===y){let K=function Nb(t,r,o){const s=o?r.classBindings:r.styleBindings;if(0!==Av(s))return t[Tm(s)]}(t,r,s);void 0!==K&&Array.isArray(K)&&(K=Fy(null,t,r,K[1],s),K=M0(K,r.attrs,s),function Mb(t,r,o,s){t[Tm(o?r.classBindings:r.styleBindings)]=s}(t,r,s,K))}else y=function Ob(t,r,o){let s;const h=r.directiveEnd;for(let y=1+r.directiveStylingLast;y<h;y++)s=M0(s,t[y].hostAttrs,o);return M0(s,r.attrs,o)}(t,r,s)}return void 0!==y&&(s?r.residualClasses=y:r.residualStyles=y),o}(h,y,r,s),function Cb(t,r,o,s,h,y){let T=y?r.classBindings:r.styleBindings,z=Tm(T),K=Av(T);t[s]=o;let Pe,pe=!1;if(Array.isArray(o)?(Pe=o[1],(null===Pe||wr(o,Pe)>0)&&(pe=!0)):Pe=o,h)if(0!==K){const Bt=Tm(t[z+1]);t[s+1]=x_(Bt,z),0!==Bt&&(t[Bt+1]=Iy(t[Bt+1],s)),t[z+1]=function wb(t,r){return 131071&t|r<<17}(t[z+1],s)}else t[s+1]=x_(z,0),0!==z&&(t[z+1]=Iy(t[z+1],s)),z=s;else t[s+1]=x_(K,0),0===z?z=s:t[K+1]=Iy(t[K+1],s),K=s;pe&&(t[s+1]=Cy(t[s+1])),aw(t,Pe,s,!0),aw(t,Pe,s,!1),function Ib(t,r,o,s,h){const y=h?t.residualClasses:t.residualStyles;null!=y&&"string"==typeof r&&wr(y,r)>=0&&(o[s+1]=by(o[s+1]))}(r,Pe,t,s,y),T=x_(z,K),y?r.classBindings=T:r.styleBindings=T}(h,y,r,o,T,s)}}(y,t,T,s),r!==Es&&Hu(h,T,r)&&function vw(t,r,o,s,h,y,T,z){if(!(3&r.type))return;const K=t.data,pe=K[z+1],Pe=function Eb(t){return!(1&~t)}(pe)?_w(K,r,o,h,Av(pe),T):void 0;R_(Pe)||(R_(y)||function yb(t){return!(2&~t)}(pe)&&(y=_w(K,null,o,h,z,T)),function wv(t,r,o,s,h){if(r)h?t.addClass(o,s):t.removeClass(o,s);else{let y=-1===s.indexOf("-")?void 0:uh.DashCase;null==h?t.removeStyle(o,s,y):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),y|=uh.Important),t.setStyle(o,s,h,y))}}(s,T,_l(Yl(),o),h,y))}(y,y.data[Yl()],h,h[wo],t,h[T+1]=function Qb(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Wr(Od(t)))),t}(r,o),s,T)}(t,r,null,!0),By}function Fy(t,r,o,s,h){let y=null;const T=o.directiveEnd;let z=o.directiveStylingLast;for(-1===z?z=o.directiveStart:z++;z<T&&(y=r[z],s=M0(s,y.hostAttrs,h),y!==t);)z++;return null!==t&&(o.directiveStylingLast=z),s}function M0(t,r,o){const s=o?1:2;let h=-1;if(null!==r)for(let y=0;y<r.length;y++){const T=r[y];"number"==typeof T?h=T:h===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),an(t,T,!!o||r[++y]))}return void 0===t?null:t}function _w(t,r,o,s,h,y){const T=null===r;let z;for(;h>0;){const K=t[h],pe=Array.isArray(K),Pe=pe?K[1]:K,Xe=null===Pe;let Bt=o[h+1];Bt===Es&&(Bt=Xe?ii:void 0);let en=Xe?Wn(Bt,s):Pe===s?Bt:void 0;if(pe&&!R_(en)&&(en=Wn(K,s)),R_(en)&&(z=en,T))return z;const Mn=t[h+1];h=T?Tm(Mn):Av(Mn)}if(null!==r){let K=y?r.residualClasses:r.residualStyles;null!=K&&(z=Wn(K,s))}return z}function R_(t){return void 0!==t}function k_(t,r,o,s){const h=sr(),y=cs(),T=so+t,z=h[wo],K=y.firstCreatePass?function u2(t,r,o,s,h,y){const T=r.consts,K=wg(r,t,2,s,Vi(T,h));return Kp(r,o,K,Vi(T,y)),null!==K.attrs&&xv(K,K.attrs,!1),null!==K.mergedAttrs&&xv(K,K.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,K),K}(T,y,h,r,o,s):y.data[T],pe=Iw(y,h,K,z,r,t);h[T]=pe;const Pe=JA(K);return Ca(K,!0),Ev(z,pe,K),!function R0(t){return!(32&~t.flags)}(K)&&gA()&&Hp(y,h,pe,K),0===function Ja(){return So.lFrame.elementDepthCount}()&&Lt(pe,h),function os(){So.lFrame.elementDepthCount++}(),Pe&&(Eg(y,h,K),jm(y,K,h)),null!==s&&Cg(h,K),k_}function P_(){let t=Ws();rc()?Nc():(t=t.parent,Ca(t,!1));const r=t;(function Zu(t){return So.skipHydrationRootTNode===t})(r)&&function wd(){So.skipHydrationRootTNode=null}(),function Qa(){So.lFrame.elementDepthCount--}();const o=cs();return o.firstCreatePass&&(tA(o,t),md(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function vA(t){return!!(8&t.flags)}(r)&&Ty(o,r,sr(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Ic(t){return!!(16&t.flags)}(r)&&Ty(o,r,sr(),r.stylesWithoutHost,!1),P_}function Py(t,r,o,s){return k_(t,r,o,s),P_(),Py}let Iw=(t,r,o,s,h,y)=>(Ia(!0),ma(s,h,function Fd(){return So.lFrame.currentNamespace}()));function N_(t,r,o){const s=sr(),h=cs(),y=t+so,T=h.firstCreatePass?function h2(t,r,o,s,h){const y=r.consts,T=Vi(y,s),z=wg(r,t,8,"ng-container",T);return null!==T&&xv(z,T,!0),Kp(r,o,z,Vi(y,h)),null!==r.queries&&r.queries.elementStart(r,z),z}(y,h,s,r,o):h.data[y];Ca(T,!0);const z=bw(h,s,T,t);return s[y]=z,gA()&&Hp(h,s,z,T),Lt(z,s),JA(T)&&(Eg(h,s,T),jm(h,T,s)),null!=o&&Cg(s,T),N_}function M_(){let t=Ws();const r=cs();return rc()?Nc():(t=t.parent,Ca(t,!1)),r.firstCreatePass&&(tA(r,t),md(t)&&r.queries.elementEnd(t)),M_}function Ny(t,r,o){return N_(t,r,o),M_(),Ny}let bw=(t,r,o,s)=>(Ia(!0),dh(r[wo],""));function Sw(){return sr()}const dv=void 0;var m2=["en",[["a","p"],["AM","PM"],dv],[["AM","PM"],dv,dv],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dv,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dv,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dv,"{1} 'at' {0}",dv],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function g2(t){const o=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===s?1:5}];let o0={};function My(t){const r=function v2(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=Dw(r);if(o)return o;const s=r.split("-")[0];if(o=Dw(s),o)return o;if("en"===s)return m2;throw new Pt(701,!1)}function Fw(t){return My(t)[s0.PluralCase]}function Dw(t){return t in o0||(o0[t]=Zr.ng&&Zr.ng.common&&Zr.ng.common.locales&&Zr.ng.common.locales[t]),o0[t]}var s0=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(s0||{});const a0="en-US";let xw=a0;function Uy(t,r,o,s){const h=sr(),y=cs(),T=Ws();return function Vy(t,r,o,s,h,y,T){const z=JA(s),pe=t.firstCreatePass&&hn(t),Pe=r[ds],Xe=nn(r);let Bt=!0;if(3&s.type||T){const ar=Da(s,r),Pr=T?T(ar):ar,Vr=Xe.length,vr=T?qs=>T(la(qs[s.index])):s.index;let ss=null;if(!T&&z&&(ss=function fS(t,r,o,s){const h=t.cleanup;if(null!=h)for(let y=0;y<h.length-1;y+=2){const T=h[y];if(T===o&&h[y+1]===s){const z=r[lu],K=h[y+2];return z.length>K?z[K]:null}"string"==typeof T&&(y+=2)}return null}(t,r,h,s.index)),null!==ss)(ss.__ngLastListenerFn__||ss).__ngNextListenerFn__=y,ss.__ngLastListenerFn__=y,Bt=!1;else{y=oE(s,r,Pe,y,!1);const qs=o.listen(Pr,h,y);Xe.push(y,qs),pe&&pe.push(h,vr,Vr,Vr+1)}}else y=oE(s,r,Pe,y,!1);const en=s.outputs;let Mn;if(Bt&&null!==en&&(Mn=en[h])){const ar=Mn.length;if(ar)for(let Pr=0;Pr<ar;Pr+=2){const tl=r[Mn[Pr]][Mn[Pr+1]].subscribe(y),gd=Xe.length;Xe.push(y,tl),pe&&pe.push(h,s.index,gd,-(gd+1))}}}(y,h,h[wo],T,t,r,s),Uy}function iE(t,r,o,s){const h=Ze(null);try{return Ns(6,r,o),!1!==o(s)}catch(y){return nr(t,y),!1}finally{Ns(7,r,o),Ze(h)}}function oE(t,r,o,s,h){return function y(T){if(T===Function)return s;Vh(t.componentOffset>-1?ql(t.index,r):r);let K=iE(r,o,s,T),pe=y.__ngNextListenerFn__;for(;pe;)K=iE(r,o,pe,T)&&K,pe=pe.__ngNextListenerFn__;return h&&!1===K&&T.preventDefault(),K}}function sE(t=1){return function Jh(t){return(So.lFrame.contextLView=function Ec(t,r){for(;t>0;)r=r[nc],t--;return r}(t,So.lFrame.contextLView))[ds]}(t)}function pS(t,r){let o=null;const s=function cr(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let h=0;h<r.length;h++){const y=r[h];if("*"!==y){if(null===s?pt(t,y,!0):La(s,y))return h}else o=h}return o}function aE(t){const r=sr()[Fa][ls];if(!r.projection){const s=r.projection=function Ys(t,r){const o=[];for(let s=0;s<t;s++)o.push(r);return o}(t?t.length:1,null),h=s.slice();let y=r.child;for(;null!==y;){const T=t?pS(y,t):0;null!==T&&(h[T]?h[T].projectionNext=y:s[T]=y,h[T]=y),y=y.next}}}function lE(t,r=0,o){const s=sr(),h=cs(),y=wg(h,so+t,16,null,o||null);null===y.projection&&(y.projection=r),Nc(),(!s[dl]||Ju())&&32&~y.flags&&function A0(t,r,o){yv(r[wo],0,r,o,jp(t,o,r),tm(o.parent||r[ls],o,r))}(h,s,y)}function vE(t,r,o,s){!function F0(t,r,o,s){const h=cs();if(h.firstCreatePass){const y=Ws();Lg(h,new Pv(r,o,s),y.index),function k(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(h,t),!(2&~o)&&(h.staticContentQueries=!0)}return av(h,sr(),o)}(t,r,o,s)}function _E(t,r,o){!function Gd(t,r,o){const s=cs();return s.firstCreatePass&&(Lg(s,new Pv(t,r,o),-1),!(2&~r)&&(s.staticViewQueries=!0)),av(s,sr(),r)}(t,r,o)}function yE(t){const r=sr(),o=cs(),s=UA();hu(s+1);const h=de(o,s);if(t.dirty&&function bu(t){return!(4&~t[wi])}(r)===!(2&~h.metadata.flags)){if(null===h.matches)t.reset([]);else{const y=ke(r,s);t.reset(y,p),t.notifyOnChanges()}return!0}return!1}function wE(){return function Ov(t,r){return t[xc].queries[r].queryList}(sr(),UA())}function xE(t,r=""){const o=sr(),s=cs(),h=t+so,y=s.firstCreatePass?wg(s,h,1,r,null):s.data[h],T=RE(s,o,y,r,t);o[h]=T,gA()&&Hp(s,o,T,y),Ca(y,!1)}let RE=(t,r,o,s,h)=>(Ia(!0),function fp(t,r){return t.createText(r)}(r[wo],s));function jy(t){return Q_("",t,""),jy}function Q_(t,r,o){const s=sr(),h=function qv(t,r,o,s){return Hu(t,Fl(),o)?r+mi(o)+s:Es}(s,t,r,o);return h!==Es&&function rr(t,r,o){const s=_l(r,t);!function qA(t,r,o){t.setValue(r,o)}(t[wo],s,o)}(s,Yl(),h),Q_}function Hy(t,r,o,s,h){if(t=Jt(t),Array.isArray(t))for(let y=0;y<t.length;y++)Hy(t[y],r,o,s,h);else{const y=cs(),T=sr(),z=Ws();let K=wa(t)?t:Jt(t.provide);const pe=zc(t),Pe=1048575&z.providerIndexes,Xe=z.directiveStart,Bt=z.providerIndexes>>20;if(wa(t)||!t.multi){const en=new Ac(pe,h,yg),Mn=$y(K,r,h?Pe:Pe+Bt,Xe);-1===Mn?(tf(fu(z,T),y,K),zy(y,t,r.length),r.push(K),z.directiveStart++,z.directiveEnd++,h&&(z.providerIndexes+=1048576),o.push(en),T.push(en)):(o[Mn]=en,T[Mn]=en)}else{const en=$y(K,r,Pe+Bt,Xe),Mn=$y(K,r,Pe,Pe+Bt),Pr=Mn>=0&&o[Mn];if(h&&!Pr||!h&&!(en>=0&&o[en])){tf(fu(z,T),y,K);const Vr=function MS(t,r,o,s,h){const y=new Ac(t,o,yg);return y.multi=[],y.index=r,y.componentProviders=0,HE(y,h,s&&!o),y}(h?NS:PS,o.length,h,s,pe);!h&&Pr&&(o[Mn].providerFactory=Vr),zy(y,t,r.length,0),r.push(K),z.directiveStart++,z.directiveEnd++,h&&(z.providerIndexes+=1048576),o.push(Vr),T.push(Vr)}else zy(y,t,en>-1?en:Mn,HE(o[h?Mn:en],pe,!h&&s));!h&&s&&Pr&&o[Mn].componentProviders++}}}function zy(t,r,o,s){const h=wa(r),y=function Sl(t){return!!t.useClass}(r);if(h||y){const K=(y?Jt(r.useClass):r).prototype.ngOnDestroy;if(K){const pe=t.destroyHooks||(t.destroyHooks=[]);if(!h&&r.multi){const Pe=pe.indexOf(o);-1===Pe?pe.push(o,[s,K]):pe[Pe+1].push(s,K)}else pe.push(o,K)}}}function HE(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function $y(t,r,o,s){for(let h=o;h<s;h++)if(r[h]===t)return h;return-1}function PS(t,r,o,s){return Gy(this.multi,[])}function NS(t,r,o,s){const h=this.multi;let y;if(this.providerFactory){const T=this.providerFactory.componentProviders,z=dc(o,o[Br],this.providerFactory.index,s);y=z.slice(0,T),Gy(h,y);for(let K=T;K<z.length;K++)y.push(z[K])}else y=[],Gy(h,y);return y}function Gy(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function zE(t,r=[]){return o=>{o.providersResolver=(s,h)=>function kS(t,r,o){const s=cs();if(s.firstCreatePass){const h=jl(t);Hy(o,s.data,s.blueprint,h,!0),Hy(r,s.data,s.blueprint,h,!1)}}(s,h?h(t):t,r)}}let OS=(()=>{var t;class r{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const h=Gl(0,s.type),y=h.length>0?Ay([h],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,y)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return(t=r).\u0275prov=Ao({token:t,providedIn:"environment",factory:()=>new t(Te(Xa))}),r})();function $E(t){$h("NgStandalone"),t.getStandaloneInjector=r=>r.get(OS).getOrCreateStandaloneInjector(t)}function KE(t,r,o,s,h,y){const T=r+o;return Hu(t,T,h)?function tg(t,r,o){return t[r]=o}(t,T+1,y?s.call(y,h):s(h)):function H0(t,r){const o=t[r];return o===Es?void 0:o}(t,T+1)}function JE(t,r){const o=cs();let s;const h=t+so;var y;o.firstCreatePass?(s=function XS(t,r){if(r)for(let o=r.length-1;o>=0;o--){const s=r[o];if(t===s.name)return s}}(r,o.pipeRegistry),o.data[h]=s,s.onDestroy&&(null!==(y=o.destroyHooks)&&void 0!==y?y:o.destroyHooks=[]).push(h,s.onDestroy)):s=o.data[h];const T=s.factory||(s.factory=qi(s.type)),K=zi(yg);try{const pe=_A(!1),Pe=T();return _A(pe),function _S(t,r,o,s){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),r[o]=s}(o,sr(),h,Pe),Pe}finally{zi(K)}}function ZE(t,r,o){const s=t+so,h=sr(),y=function Iu(t,r){return t[r]}(h,s);return function z0(t,r){return t[Br].data[r].pure}(h,s)?KE(h,function wl(){const t=So.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}(),r,y.transform,o,y):y.transform(o)}class pC{constructor(r){this.full=r;const o=r.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}let gC=(()=>{var t;class r{log(s){console.log(s)}warn(s){console.warn(s)}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ao({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();const yC=new Dr(""),wC=new Dr("");let Zy,WT=(()=>{var t;class r{constructor(s,h,y){this._ngZone=s,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Zy||(function qT(t){Zy=t}(y),y.addToWindow(h)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vu.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(s)||(clearTimeout(h.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,h,y){let T=-1;h&&h>0&&(T=setTimeout(()=>{this._callbacks=this._callbacks.filter(z=>z.timeoutId!==T),s()},h)),this._callbacks.push({doneCb:s,timeoutId:T,updateCb:y})}whenStable(s,h,y){if(y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,h,y),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,h,y){return[]}}return(t=r).\u0275fac=function(s){return new(s||t)(Te(vu),Te(EC),Te(wC))},t.\u0275prov=Ao({token:t,factory:t.\u0275fac}),r})(),EC=(()=>{var t;class r{constructor(){this._applications=new Map}registerApplication(s,h){this._applications.set(s,h)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,h=!0){var y,T;return null!==(y=null===(T=Zy)||void 0===T?void 0:T.findTestabilityInTree(this,s,h))&&void 0!==y?y:null}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ao({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();function e1(t){return!!t&&"function"==typeof t.then}function CC(t){return!!t&&"function"==typeof t.subscribe}const IC=new Dr("");let t1=(()=>{var t;class r{constructor(){var s;this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,y)=>{this.resolve=h,this.reject=y}),this.appInits=null!==(s=At(IC,{optional:!0}))&&void 0!==s?s:[]}runInitializers(){if(this.initialized)return;const s=[];for(const y of this.appInits){const T=y();if(e1(T))s.push(T);else if(CC(T)){const z=new Promise((K,pe)=>{T.subscribe({complete:K,error:pe})});s.push(z)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{h()}).catch(y=>{this.reject(y)}),0===s.length&&h(),this.initialized=!0}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ao({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const n1=new Dr("");function TC(t,r){return Array.isArray(r)?r.reduce(TC,t):{...t,...r}}let Bm=(()=>{var t;class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=At(P),this.afterRenderEffectManager=At(tv),this.externalTestViews=new Set,this.beforeRender=new Yn.B,this.afterTick=new Yn.B,this.componentTypes=[],this.components=[],this.isStable=At(Vv).hasPendingTasks.pipe((0,Di.T)(s=>!s)),this._injector=At(Xa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,h){const y=s instanceof g0;if(!this._injector.get(t1).done)throw!y&&Wa(s),new Pt(405,!1);let z;z=y?s:this._injector.get(_m).resolveComponentFactory(s),this.componentTypes.push(z.componentType);const K=function XT(t){return t.isBoundToModule}(z)?void 0:this._injector.get(lv),Pe=z.create(g.NULL,[],h||z.selector,K),Xe=Pe.location.nativeElement,Bt=Pe.injector.get(yC,null);return null==Bt||Bt.registerApplication(Xe),Pe.onDestroy(()=>{this.detachView(Pe.hostView),$_(this.components,Pe),null==Bt||Bt.unregisterApplication(Xe)}),this._loadComponent(Pe),Pe}tick(){this._tick(!0)}_tick(s){if(this._runningTick)throw new Pt(101,!1);const h=Ze(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(s)}catch(y){this.internalErrorHandler(y)}finally{this.afterTick.next(),this._runningTick=!1,Ze(h)}}detectChangesInAttachedViews(s){let h=0;const y=this.afterRenderEffectManager;for(;;){if(h===Vu)throw new Pt(103,!1);if(s){const T=0===h;this.beforeRender.next(T);for(let{_lView:z,notifyErrorHandler:K}of this._views)JT(z,T,K)}if(h++,y.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:T})=>r1(T))&&(y.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:T})=>r1(T))))break}}attachView(s){const h=s;this._views.push(h),h.attachToAppRef(this)}detachView(s){const h=s;$_(this._views,h),h.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const h=this._injector.get(n1,[]);[...this._bootstrapListeners,...h].forEach(y=>y(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>$_(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Pt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ao({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function $_(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}function JT(t,r,o){!r&&!r1(t)||function ZT(t,r,o){let s;o?(s=0,t[wi]|=1024):s=64&t[wi]?0:1,xA(t,r,s)}(t,o,r)}function r1(t){return Yu(t)}class eB{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let tB=(()=>{var t;class r{compileModuleSync(s){return new uy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const h=this.compileModuleSync(s),T=ec(ea(s).declarations).reduce((z,K)=>{const pe=fi(K);return pe&&z.push(new Sp(pe)),z},[]);return new eB(h,T)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ao({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),iB=(()=>{var t;class r{constructor(){this.zone=At(vu),this.applicationRef=At(Bm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var s;null===(s=this._onMicrotaskEmptySubscription)||void 0===s||s.unsubscribe()}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ao({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function oB(){const t=At(vu),r=At(I);return o=>t.runOutsideAngular(()=>r.handleError(o))}let aB=(()=>{var t;class r{constructor(){this.subscription=new Yi.yU,this.initialized=!1,this.zone=At(vu),this.pendingTasks=At(Vv)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{vu.assertNotInAngularZone(),queueMicrotask(()=>{null!==s&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var h;vu.assertInAngularZone(),null!==(h=s)&&void 0!==h||(s=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ao({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const G_=new Dr("",{providedIn:"root",factory:()=>At(G_,Jn.Optional|Jn.SkipSelf)||function lB(){return typeof $localize<"u"&&$localize.locale||a0}()}),cB=new Dr("",{providedIn:"root",factory:()=>"USD"}),i1=new Dr("");let xC=(()=>{var t;class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,h){const y=function ac(t="zone.js",r){return"noop"===t?new ev:"zone.js"===t?new vu(r):t}(null==h?void 0:h.ngZone,function DC(t){var r,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==t?void 0:t.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(o=null==t?void 0:t.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==h?void 0:h.ngZoneEventCoalescing,runCoalescing:null==h?void 0:h.ngZoneRunCoalescing}));return y.run(()=>{const T=function kI(t,r,o){return new cy(t,r,o)}(s.moduleType,this.injector,function FC(t){return[{provide:vu,useFactory:t},{provide:ns,multi:!0,useFactory:()=>{const r=At(iB,{optional:!0});return()=>r.initialize()}},{provide:ns,multi:!0,useFactory:()=>{const r=At(aB);return()=>{r.initialize()}}},{provide:P,useFactory:oB}]}(()=>y)),z=T.injector.get(I,null);return y.runOutsideAngular(()=>{const K=y.onError.subscribe({next:pe=>{z.handleError(pe)}});T.onDestroy(()=>{$_(this._modules,T),K.unsubscribe()})}),function SC(t,r,o){try{const s=o();return e1(s)?s.catch(h=>{throw r.runOutsideAngular(()=>t.handleError(h)),h}):s}catch(s){throw r.runOutsideAngular(()=>t.handleError(s)),s}}(z,y,()=>{const K=T.injector.get(t1);return K.runInitializers(),K.donePromise.then(()=>(function Rw(t){"string"==typeof t&&(xw=t.toLowerCase().replace(/_/g,"-"))}(T.injector.get(G_,a0)||a0),this._moduleDoBootstrap(T),T))})})}bootstrapModule(s,h=[]){const y=TC({},h);return function rB(t,r,o){const s=new uy(o);return Promise.resolve(s)}(0,0,s).then(T=>this.bootstrapModuleFactory(T,y))}_moduleDoBootstrap(s){const h=s.injector.get(Bm);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(y=>h.bootstrap(y));else{if(!s.instance.ngDoBootstrap)throw new Pt(-403,!1);s.instance.ngDoBootstrap(h)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pt(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const s=this._injector.get(i1,null);s&&(s.forEach(h=>h()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=r).\u0275fac=function(s){return new(s||t)(Te(g))},t.\u0275prov=Ao({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})(),Fm=null;const RC=new Dr("");function kC(t,r,o=[]){const s=`Platform: ${r}`,h=new Dr(s);return(y=[])=>{let T=o1();if(!T||T.injector.get(RC,!1)){const z=[...o,...y,{provide:h,useValue:!0}];t?t(z):function AB(t){if(Fm&&!Fm.get(RC,!1))throw new Pt(400,!1);(function bC(){!function st(t){Vn=t}(()=>{throw new Pt(600,!1)})})(),Fm=t;const r=t.get(xC);(function NC(t){const r=t.get(Lr,null);null==r||r.forEach(o=>o())})(t)}(function PC(t=[],r){return g.create({name:r,providers:[{provide:Kl,useValue:"platform"},{provide:i1,useValue:new Set([()=>Fm=null])},...t]})}(z,s))}return function dB(t){const r=o1();if(!r)throw new Pt(401,!1);return r}()}}function o1(){var t,r;return null!==(t=null===(r=Fm)||void 0===r?void 0:r.get(xC))&&void 0!==t?t:null}function fB(){}let OC=(()=>{class r{}return r.__NG_ELEMENT_ID__=pB,r})();function pB(t){return function gB(t,r,o){if(yu(t)&&!o){const s=ql(t.index,r);return new ph(s,s)}return 47&t.type?new ph(r[Fa],r):null}(Ws(),sr(),!(16&~t))}class QC{constructor(){}supports(r){return I_(r)}create(r){return new wB(r)}}const yB=(t,r)=>r;class wB{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||yB}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,s=this._removalsHead,h=0,y=null;for(;o||s;){const T=!s||o&&o.currentIndex<HC(s,h,y)?o:s,z=HC(T,h,y),K=T.currentIndex;if(T===s)h--,s=s._nextRemoved;else if(o=o._next,null==T.previousIndex)h++;else{y||(y=[]);const pe=z-h,Pe=K-h;if(pe!=Pe){for(let Bt=0;Bt<pe;Bt++){const en=Bt<y.length?y[Bt]:y[Bt]=0,Mn=en+Bt;Pe<=Mn&&Mn<pe&&(y[Bt]=en+1)}y[T.previousIndex]=Pe-pe}}z!==K&&r(T,z,K)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!I_(r))throw new Pt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let h,y,T,o=this._itHead,s=!1;if(Array.isArray(r)){this.length=r.length;for(let z=0;z<this.length;z++)y=r[z],T=this._trackByFn(z,y),null!==o&&Object.is(o.trackById,T)?(s&&(o=this._verifyReinsertion(o,y,T,z)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,T,z),s=!0),o=o._next}else h=0,function OI(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let s;for(;!(s=o.next()).done;)r(s.value)}}(r,z=>{T=this._trackByFn(h,z),null!==o&&Object.is(o.trackById,T)?(s&&(o=this._verifyReinsertion(o,z,T,h)),Object.is(o.item,z)||this._addIdentityChange(o,z)):(o=this._mismatch(o,z,T,h),s=!0),o=o._next,h++}),this.length=h;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,s,h){let y;return null===r?y=this._itTail:(y=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,y,h)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(s,h))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,y,h)):r=this._addAfter(new EB(o,s),y,h),r}_verifyReinsertion(r,o,s,h){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==y?r=this._reinsertAfter(y,r._prev,h):r.currentIndex!=h&&(r.currentIndex=h,this._addToMoves(r,h)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const h=r._prevRemoved,y=r._nextRemoved;return null===h?this._removalsHead=y:h._nextRemoved=y,null===y?this._removalsTail=h:y._prevRemoved=h,this._insertAfter(r,o,s),this._addToMoves(r,s),r}_moveAfter(r,o,s){return this._unlink(r),this._insertAfter(r,o,s),this._addToMoves(r,s),r}_addAfter(r,o,s){return this._insertAfter(r,o,s),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,s){const h=null===o?this._itHead:o._next;return r._next=h,r._prev=o,null===h?this._itTail=r:h._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new jC),this._linkedRecords.put(r),r.currentIndex=s,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,s=r._next;return null===o?this._itHead=s:o._next=s,null===s?this._itTail=o:s._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jC),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class EB{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CB{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===o||o<=s.currentIndex)&&Object.is(s.trackById,r))return s;return null}remove(r){const o=r._prevDup,s=r._nextDup;return null===o?this._head=s:o._nextDup=s,null===s?this._tail=o:s._prevDup=o,null===this._head}}class jC{constructor(){this.map=new Map}put(r){const o=r.trackById;let s=this.map.get(o);s||(s=new CB,this.map.set(o,s)),s.add(r)}get(r,o){const h=this.map.get(r);return h?h.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HC(t,r,o){const s=t.previousIndex;if(null===s)return s;let h=0;return o&&s<o.length&&(h=o[s]),s+r+h}class zC{constructor(){}supports(r){return r instanceof Map||dy(r)}create(){return new IB}}class IB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||dy(r)))throw new Pt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(s,h)=>{if(o&&o.key===h)this._maybeAddToChanges(o,s),this._appendAfter=o,o=o._next;else{const y=this._getOrCreateRecordForKey(h,s);o=this._insertBeforeOrAppend(o,y)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let s=o;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const s=r._prev;return o._next=r,o._prev=s,r._prev=o,s&&(s._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const h=this._records.get(r);this._maybeAddToChanges(h,o);const y=h._prev,T=h._next;return y&&(y._next=T),T&&(T._prev=y),h._next=null,h._prev=null,h}const s=new bB(r);return this._records.set(r,s),s.currentValue=o,this._addToAdditions(s),s}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(s=>o(r[s],s))}}class bB{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $C(){return new u1([new QC])}let u1=(()=>{var t;class r{constructor(s){this.factories=s}static create(s,h){if(null!=h){const y=h.factories.slice();s=s.concat(y)}return new r(s)}static extend(s){return{provide:r,useFactory:h=>r.create(s,h||$C()),deps:[[r,new pi,new ir]]}}find(s){const h=this.factories.find(y=>y.supports(s));if(null!=h)return h;throw new Pt(901,!1)}}return(t=r).\u0275prov=Ao({token:t,providedIn:"root",factory:$C}),r})();function GC(){return new A1([new zC])}let A1=(()=>{var t;class r{constructor(s){this.factories=s}static create(s,h){if(h){const y=h.factories.slice();s=s.concat(y)}return new r(s)}static extend(s){return{provide:r,useFactory:h=>r.create(s,h||GC()),deps:[[r,new pi,new ir]]}}find(s){const h=this.factories.find(y=>y.supports(s));if(h)return h;throw new Pt(901,!1)}}return(t=r).\u0275prov=Ao({token:t,providedIn:"root",factory:GC}),r})();const BB=kC(null,"core",[]);let FB=(()=>{var t;class r{constructor(s){}}return(t=r).\u0275fac=function(s){return new(s||t)(Te(Bm))},t.\u0275mod=_a({type:t}),t.\u0275inj=$a({}),r})();function iF(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function sF(t){const r=Ze(null);try{return t()}finally{Ze(r)}}function dF(t,r){const o=fi(t),s=r.elementInjector||Fc();return new Sp(o).create(s,r.projectableNodes,r.hostElement,r.environmentInjector)}function hF(t){const r=fi(t);if(!r)return null;const o=new Sp(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},4341:(Kr,dn,Be)=>{"use strict";Be.d(dn,{YN:()=>Na,zX:()=>Gi,VZ:()=>Ne,cz:()=>wn,kq:()=>An,vO:()=>vn});var w=Be(4438),wt=(Be(177),Be(6648)),ot=Be(1985),Z=Be(3073),tt=Be(8750),Ze=Be(3794),Nt=Be(4360),Ut=Be(6450),Ct=Be(8496),vt=Be(6354);const An=new w.nKC("");function bt(Ie){return null==Ie||("string"==typeof Ie||Array.isArray(Ie))&&0===Ie.length}const wn=new w.nKC("");function we(Ie){return null}function Fe(Ie){return null!=Ie}function Le(Ie){return(0,w.jNT)(Ie)?(0,wt.H)(Ie):Ie}function Rt(Ie){let Ae={};return Ie.forEach(qe=>{Ae=null!=qe?{...Ae,...qe}:Ae}),0===Object.keys(Ae).length?null:Ae}function bn(Ie,Ae){return Ae.map(qe=>qe(Ie))}function Rn(Ie){return Ie.map(Ae=>function sn(Ie){return!Ie.validate}(Ae)?Ae:qe=>Ae.validate(qe))}function bi(Ie){return null!=Ie?function dr(Ie){if(!Ie)return null;const Ae=Ie.filter(Fe);return 0==Ae.length?null:function(qe){return Rt(bn(qe,Ae))}}(Rn(Ie)):null}function ui(Ie){return null!=Ie?function Sr(Ie){if(!Ie)return null;const Ae=Ie.filter(Fe);return 0==Ae.length?null:function(qe){return function et(...Ie){const Ae=(0,Ze.ms)(Ie),{args:qe,keys:Ee}=(0,Z.D)(Ie),pt=new ot.c(cr=>{const{length:Bi}=qe;if(!Bi)return void cr.complete();const ki=new Array(Bi);let La=Bi,lo=Bi;for(let Ka=0;Ka<Bi;Ka++){let Pl=!1;(0,tt.Tg)(qe[Ka]).subscribe((0,Nt._)(cr,Ql=>{Pl||(Pl=!0,lo--),ki[Ka]=Ql},()=>La--,void 0,()=>{(!La||!Pl)&&(lo||cr.next(Ee?(0,Ct.e)(Ee,ki):ki),cr.complete())}))}});return Ae?pt.pipe((0,Ut.I)(Ae)):pt}(bn(qe,Ae).map(Le)).pipe((0,vt.T)(Rt))}}(Rn(Ie)):null}class Pt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ae){this._rawValidators=Ae||[],this._composedValidatorFn=bi(this._rawValidators)}_setAsyncValidators(Ae){this._rawAsyncValidators=Ae||[],this._composedAsyncValidatorFn=ui(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ae){this._onDestroyCallbacks.push(Ae)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ae=>Ae()),this._onDestroyCallbacks=[]}reset(Ae=void 0){this.control&&this.control.reset(Ae)}hasError(Ae,qe){return!!this.control&&this.control.hasError(Ae,qe)}getError(Ae,qe){return this.control?this.control.getError(Ae,qe):null}}class vn extends Pt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const na=new w.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Xs}),Xs="always";function Xi(Ie){return"number"==typeof Ie?Ie:parseFloat(Ie)}Promise.resolve(),Promise.resolve();let Qo=(()=>{var Ie;class Ae{constructor(){this._validator=we}ngOnChanges(Ee){if(this.inputName in Ee){const pt=this.normalizeInput(Ee[this.inputName].currentValue);this._enabled=this.enabled(pt),this._validator=this._enabled?this.createValidator(pt):we,this._onChange&&this._onChange()}}validate(Ee){return this._validator(Ee)}registerOnValidatorChange(Ee){this._onChange=Ee}enabled(Ee){return null!=Ee}}return(Ie=Ae).\u0275fac=function(Ee){return new(Ee||Ie)},Ie.\u0275dir=w.FsC({type:Ie,features:[w.OA$]}),Ae})();const br={provide:wn,useExisting:(0,w.Rfq)(()=>Gi),multi:!0};let Gi=(()=>{var Ie;class Ae extends Qo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=Ee=>Xi(Ee),this.createValidator=Ee=>function zn(Ie){return Ae=>{if(bt(Ae.value)||bt(Ie))return null;const qe=parseFloat(Ae.value);return!isNaN(qe)&&qe>Ie?{max:{max:Ie,actual:Ae.value}}:null}}(Ee)}}return(Ie=Ae).\u0275fac=(()=>{let qe;return function(pt){return(qe||(qe=w.xGo(Ie)))(pt||Ie)}})(),Ie.\u0275dir=w.FsC({type:Ie,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Ee,pt){2&Ee&&w.BMQ("max",pt._enabled?pt.max:null)},inputs:{max:"max"},features:[w.Jv_([br]),w.Vt3]}),Ae})();const Ys={provide:wn,useExisting:(0,w.Rfq)(()=>Ne),multi:!0};let Ne=(()=>{var Ie;class Ae extends Qo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=Ee=>Xi(Ee),this.createValidator=Ee=>function nt(Ie){return Ae=>{if(bt(Ae.value)||bt(Ie))return null;const qe=parseFloat(Ae.value);return!isNaN(qe)&&qe<Ie?{min:{min:Ie,actual:Ae.value}}:null}}(Ee)}}return(Ie=Ae).\u0275fac=(()=>{let qe;return function(pt){return(qe||(qe=w.xGo(Ie)))(pt||Ie)}})(),Ie.\u0275dir=w.FsC({type:Ie,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Ee,pt){2&Ee&&w.BMQ("min",pt._enabled?pt.min:null)},inputs:{min:"min"},features:[w.Jv_([Ys]),w.Vt3]}),Ae})(),vs=(()=>{var Ie;class Ae{}return(Ie=Ae).\u0275fac=function(Ee){return new(Ee||Ie)},Ie.\u0275mod=w.$C({type:Ie}),Ie.\u0275inj=w.G2t({}),Ae})(),Na=(()=>{var Ie;class Ae{static withConfig(Ee){var pt;return{ngModule:Ae,providers:[{provide:na,useValue:null!==(pt=Ee.callSetDisabledState)&&void 0!==pt?pt:Xs}]}}}return(Ie=Ae).\u0275fac=function(Ee){return new(Ee||Ie)},Ie.\u0275mod=w.$C({type:Ie}),Ie.\u0275inj=w.G2t({imports:[vs]}),Ae})()},345:(Kr,dn,Be)=>{"use strict";Be.d(dn,{Bb:()=>kr,hE:()=>fr,sG:()=>ui});var w=Be(4438),e=Be(177);class wt extends e.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ot extends wt{static makeCurrent(){(0,e.ZD)(new ot)}onAndCancel(jt,Bn,Wt){return jt.addEventListener(Bn,Wt),()=>{jt.removeEventListener(Bn,Wt)}}dispatchEvent(jt,Bn){jt.dispatchEvent(Bn)}remove(jt){jt.parentNode&&jt.parentNode.removeChild(jt)}createElement(jt,Bn){return(Bn=Bn||this.getDefaultDocument()).createElement(jt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(jt){return jt.nodeType===Node.ELEMENT_NODE}isShadowRoot(jt){return jt instanceof DocumentFragment}getGlobalEventTarget(jt,Bn){return"window"===Bn?window:"document"===Bn?jt:"body"===Bn?jt.body:null}getBaseHref(jt){const Bn=function tt(){return Z=Z||document.querySelector("base"),Z?Z.getAttribute("href"):null}();return null==Bn?null:function Ze(Jt){return new URL(Jt,document.baseURI).pathname}(Bn)}resetBaseElement(){Z=null}getUserAgent(){return window.navigator.userAgent}getCookie(jt){return(0,e._b)(document.cookie,jt)}}let Z=null,Ut=(()=>{var Jt;class jt{build(){return new XMLHttpRequest}}return(Jt=jt).\u0275fac=function(Wt){return new(Wt||Jt)},Jt.\u0275prov=w.jDH({token:Jt,factory:Jt.\u0275fac}),jt})();const Ct=new w.nKC("");let et=(()=>{var Jt;class jt{constructor(Wt,Ye){this._zone=Ye,this._eventNameToPlugin=new Map,Wt.forEach(rt=>{rt.manager=this}),this._plugins=Wt.slice().reverse()}addEventListener(Wt,Ye,rt){return this._findPluginFor(Ye).addEventListener(Wt,Ye,rt)}getZone(){return this._zone}_findPluginFor(Wt){let Ye=this._eventNameToPlugin.get(Wt);if(Ye)return Ye;if(Ye=this._plugins.find(St=>St.supports(Wt)),!Ye)throw new w.wOt(5101,!1);return this._eventNameToPlugin.set(Wt,Ye),Ye}}return(Jt=jt).\u0275fac=function(Wt){return new(Wt||Jt)(w.KVO(Ct),w.KVO(w.SKi))},Jt.\u0275prov=w.jDH({token:Jt,factory:Jt.\u0275fac}),jt})();class vt{constructor(jt){this._doc=jt}}const Mt="ng-app-id";let Ft=(()=>{var Jt;class jt{constructor(Wt,Ye,rt,St={}){this.doc=Wt,this.appId=Ye,this.nonce=rt,this.platformId=St,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,e.Vy)(St),this.resetHostNodes()}addStyles(Wt){for(const Ye of Wt)1===this.changeUsageCount(Ye,1)&&this.onStyleAdded(Ye)}removeStyles(Wt){for(const Ye of Wt)this.changeUsageCount(Ye,-1)<=0&&this.onStyleRemoved(Ye)}ngOnDestroy(){const Wt=this.styleNodesInDOM;Wt&&(Wt.forEach(Ye=>Ye.remove()),Wt.clear());for(const Ye of this.getAllStyles())this.onStyleRemoved(Ye);this.resetHostNodes()}addHost(Wt){this.hostNodes.add(Wt);for(const Ye of this.getAllStyles())this.addStyleToHost(Wt,Ye)}removeHost(Wt){this.hostNodes.delete(Wt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Wt){for(const Ye of this.hostNodes)this.addStyleToHost(Ye,Wt)}onStyleRemoved(Wt){var Ye;const rt=this.styleRef;null===(Ye=rt.get(Wt))||void 0===Ye||null===(Ye=Ye.elements)||void 0===Ye||Ye.forEach(St=>St.remove()),rt.delete(Wt)}collectServerRenderedStyles(){var Wt;const Ye=null===(Wt=this.doc.head)||void 0===Wt?void 0:Wt.querySelectorAll(`style[${Mt}="${this.appId}"]`);if(null!=Ye&&Ye.length){const rt=new Map;return Ye.forEach(St=>{null!=St.textContent&&rt.set(St.textContent,St)}),rt}return null}changeUsageCount(Wt,Ye){const rt=this.styleRef;if(rt.has(Wt)){const St=rt.get(Wt);return St.usage+=Ye,St.usage}return rt.set(Wt,{usage:Ye,elements:[]}),Ye}getStyleElement(Wt,Ye){const rt=this.styleNodesInDOM,St=null==rt?void 0:rt.get(Ye);if((null==St?void 0:St.parentNode)===Wt)return rt.delete(Ye),St.removeAttribute(Mt),St;{const Fn=this.doc.createElement("style");return this.nonce&&Fn.setAttribute("nonce",this.nonce),Fn.textContent=Ye,this.platformIsServer&&Fn.setAttribute(Mt,this.appId),Wt.appendChild(Fn),Fn}}addStyleToHost(Wt,Ye){var rt;const St=this.getStyleElement(Wt,Ye),Fn=this.styleRef,zt=null===(rt=Fn.get(Ye))||void 0===rt?void 0:rt.elements;zt?zt.push(St):Fn.set(Ye,{elements:[St],usage:1})}resetHostNodes(){const Wt=this.hostNodes;Wt.clear(),Wt.add(this.doc.head)}}return(Jt=jt).\u0275fac=function(Wt){return new(Wt||Jt)(w.KVO(e.qQ),w.KVO(w.sZ2),w.KVO(w.BIS,8),w.KVO(w.Agw))},Jt.\u0275prov=w.jDH({token:Jt,factory:Jt.\u0275fac}),jt})();const An={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mn=/%COMP%/g,Tn=new w.nKC("",{providedIn:"root",factory:()=>!0});function wn(Jt,jt){return jt.map(Bn=>Bn.replace(mn,Jt))}let Yt=(()=>{var Jt;class jt{constructor(Wt,Ye,rt,St,Fn,zt,gr,Nr=null){this.eventManager=Wt,this.sharedStylesHost=Ye,this.appId=rt,this.removeStylesOnCompDestroy=St,this.doc=Fn,this.platformId=zt,this.ngZone=gr,this.nonce=Nr,this.rendererByCompId=new Map,this.platformIsServer=(0,e.Vy)(zt),this.defaultRenderer=new Cn(Wt,Fn,gr,this.platformIsServer)}createRenderer(Wt,Ye){if(!Wt||!Ye)return this.defaultRenderer;this.platformIsServer&&Ye.encapsulation===w.gXe.ShadowDom&&(Ye={...Ye,encapsulation:w.gXe.Emulated});const rt=this.getOrCreateRenderer(Wt,Ye);return rt instanceof Kt?rt.applyToHost(Wt):rt instanceof xr&&rt.applyStyles(),rt}getOrCreateRenderer(Wt,Ye){const rt=this.rendererByCompId;let St=rt.get(Ye.id);if(!St){const Fn=this.doc,zt=this.ngZone,gr=this.eventManager,Nr=this.sharedStylesHost,qr=this.removeStylesOnCompDestroy,ji=this.platformIsServer;switch(Ye.encapsulation){case w.gXe.Emulated:St=new Kt(gr,Nr,Ye,this.appId,qr,Fn,zt,ji);break;case w.gXe.ShadowDom:return new yr(gr,Nr,Wt,Ye,Fn,zt,this.nonce,ji);default:St=new xr(gr,Nr,Ye,qr,Fn,zt,ji)}rt.set(Ye.id,St)}return St}ngOnDestroy(){this.rendererByCompId.clear()}}return(Jt=jt).\u0275fac=function(Wt){return new(Wt||Jt)(w.KVO(et),w.KVO(Ft),w.KVO(w.sZ2),w.KVO(Tn),w.KVO(e.qQ),w.KVO(w.Agw),w.KVO(w.SKi),w.KVO(w.BIS))},Jt.\u0275prov=w.jDH({token:Jt,factory:Jt.\u0275fac}),jt})();class Cn{constructor(jt,Bn,Wt,Ye){this.eventManager=jt,this.doc=Bn,this.ngZone=Wt,this.platformIsServer=Ye,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(jt,Bn){return Bn?this.doc.createElementNS(An[Bn]||Bn,jt):this.doc.createElement(jt)}createComment(jt){return this.doc.createComment(jt)}createText(jt){return this.doc.createTextNode(jt)}appendChild(jt,Bn){(zn(jt)?jt.content:jt).appendChild(Bn)}insertBefore(jt,Bn,Wt){jt&&(zn(jt)?jt.content:jt).insertBefore(Bn,Wt)}removeChild(jt,Bn){jt&&jt.removeChild(Bn)}selectRootElement(jt,Bn){let Wt="string"==typeof jt?this.doc.querySelector(jt):jt;if(!Wt)throw new w.wOt(-5104,!1);return Bn||(Wt.textContent=""),Wt}parentNode(jt){return jt.parentNode}nextSibling(jt){return jt.nextSibling}setAttribute(jt,Bn,Wt,Ye){if(Ye){Bn=Ye+":"+Bn;const rt=An[Ye];rt?jt.setAttributeNS(rt,Bn,Wt):jt.setAttribute(Bn,Wt)}else jt.setAttribute(Bn,Wt)}removeAttribute(jt,Bn,Wt){if(Wt){const Ye=An[Wt];Ye?jt.removeAttributeNS(Ye,Bn):jt.removeAttribute(`${Wt}:${Bn}`)}else jt.removeAttribute(Bn)}addClass(jt,Bn){jt.classList.add(Bn)}removeClass(jt,Bn){jt.classList.remove(Bn)}setStyle(jt,Bn,Wt,Ye){Ye&(w.czy.DashCase|w.czy.Important)?jt.style.setProperty(Bn,Wt,Ye&w.czy.Important?"important":""):jt.style[Bn]=Wt}removeStyle(jt,Bn,Wt){Wt&w.czy.DashCase?jt.style.removeProperty(Bn):jt.style[Bn]=""}setProperty(jt,Bn,Wt){null!=jt&&(jt[Bn]=Wt)}setValue(jt,Bn){jt.nodeValue=Bn}listen(jt,Bn,Wt){if("string"==typeof jt&&!(jt=(0,e.QT)().getGlobalEventTarget(this.doc,jt)))throw new Error(`Unsupported event target ${jt} for event ${Bn}`);return this.eventManager.addEventListener(jt,Bn,this.decoratePreventDefault(Wt))}decoratePreventDefault(jt){return Bn=>{if("__ngUnwrap__"===Bn)return jt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>jt(Bn)):jt(Bn))&&Bn.preventDefault()}}}function zn(Jt){return"TEMPLATE"===Jt.tagName&&void 0!==Jt.content}class yr extends Cn{constructor(jt,Bn,Wt,Ye,rt,St,Fn,zt){super(jt,rt,St,zt),this.sharedStylesHost=Bn,this.hostEl=Wt,this.shadowRoot=Wt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const gr=wn(Ye.id,Ye.styles);for(const Nr of gr){const qr=document.createElement("style");Fn&&qr.setAttribute("nonce",Fn),qr.textContent=Nr,this.shadowRoot.appendChild(qr)}}nodeOrShadowRoot(jt){return jt===this.hostEl?this.shadowRoot:jt}appendChild(jt,Bn){return super.appendChild(this.nodeOrShadowRoot(jt),Bn)}insertBefore(jt,Bn,Wt){return super.insertBefore(this.nodeOrShadowRoot(jt),Bn,Wt)}removeChild(jt,Bn){return super.removeChild(this.nodeOrShadowRoot(jt),Bn)}parentNode(jt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(jt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class xr extends Cn{constructor(jt,Bn,Wt,Ye,rt,St,Fn,zt){super(jt,rt,St,Fn),this.sharedStylesHost=Bn,this.removeStylesOnCompDestroy=Ye,this.styles=zt?wn(zt,Wt.styles):Wt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Kt extends xr{constructor(jt,Bn,Wt,Ye,rt,St,Fn,zt){const gr=Ye+"-"+Wt.id;super(jt,Bn,Wt,rt,St,Fn,zt,gr),this.contentAttr=function bt(Jt){return"_ngcontent-%COMP%".replace(mn,Jt)}(gr),this.hostAttr=function Vt(Jt){return"_nghost-%COMP%".replace(mn,Jt)}(gr)}applyToHost(jt){this.applyStyles(),this.setAttribute(jt,this.hostAttr,"")}createElement(jt,Bn){const Wt=super.createElement(jt,Bn);return super.setAttribute(Wt,this.contentAttr,""),Wt}}let Vn=(()=>{var Jt;class jt extends vt{constructor(Wt){super(Wt)}supports(Wt){return!0}addEventListener(Wt,Ye,rt){return Wt.addEventListener(Ye,rt,!1),()=>this.removeEventListener(Wt,Ye,rt)}removeEventListener(Wt,Ye,rt){return Wt.removeEventListener(Ye,rt)}}return(Jt=jt).\u0275fac=function(Wt){return new(Wt||Jt)(w.KVO(e.qQ))},Jt.\u0275prov=w.jDH({token:Jt,factory:Jt.\u0275fac}),jt})();const kn=["alt","control","meta","shift"],st={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},we={alt:Jt=>Jt.altKey,control:Jt=>Jt.ctrlKey,meta:Jt=>Jt.metaKey,shift:Jt=>Jt.shiftKey};let Fe=(()=>{var Jt;class jt extends vt{constructor(Wt){super(Wt)}supports(Wt){return null!=jt.parseEventName(Wt)}addEventListener(Wt,Ye,rt){const St=jt.parseEventName(Ye),Fn=jt.eventCallback(St.fullKey,rt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.QT)().onAndCancel(Wt,St.domEventName,Fn))}static parseEventName(Wt){const Ye=Wt.toLowerCase().split("."),rt=Ye.shift();if(0===Ye.length||"keydown"!==rt&&"keyup"!==rt)return null;const St=jt._normalizeKey(Ye.pop());let Fn="",zt=Ye.indexOf("code");if(zt>-1&&(Ye.splice(zt,1),Fn="code."),kn.forEach(Nr=>{const qr=Ye.indexOf(Nr);qr>-1&&(Ye.splice(qr,1),Fn+=Nr+".")}),Fn+=St,0!=Ye.length||0===St.length)return null;const gr={};return gr.domEventName=rt,gr.fullKey=Fn,gr}static matchEventFullKeyCode(Wt,Ye){let rt=st[Wt.key]||Wt.key,St="";return Ye.indexOf("code.")>-1&&(rt=Wt.code,St="code."),!(null==rt||!rt)&&(rt=rt.toLowerCase()," "===rt?rt="space":"."===rt&&(rt="dot"),kn.forEach(Fn=>{Fn!==rt&&(0,we[Fn])(Wt)&&(St+=Fn+".")}),St+=rt,St===Ye)}static eventCallback(Wt,Ye,rt){return St=>{jt.matchEventFullKeyCode(St,Wt)&&rt.runGuarded(()=>Ye(St))}}static _normalizeKey(Wt){return"esc"===Wt?"escape":Wt}}return(Jt=jt).\u0275fac=function(Wt){return new(Wt||Jt)(w.KVO(e.qQ))},Jt.\u0275prov=w.jDH({token:Jt,factory:Jt.\u0275fac}),jt})();const ui=(0,w.oH4)(w.fpN,"browser",[{provide:w.Agw,useValue:e.AJ},{provide:w.PLl,useValue:function Rn(){ot.makeCurrent()},multi:!0},{provide:e.qQ,useFactory:function bi(){return(0,w.TL$)(document),document},deps:[]}]),Ai=new w.nKC(""),Yn=[{provide:w.e01,useClass:class Nt{addToWindow(jt){w.JZv.getAngularTestability=(Wt,Ye=!0)=>{const rt=jt.findTestabilityInTree(Wt,Ye);if(null==rt)throw new w.wOt(5103,!1);return rt},w.JZv.getAllAngularTestabilities=()=>jt.getAllTestabilities(),w.JZv.getAllAngularRootElements=()=>jt.getAllRootElements(),w.JZv.frameworkStabilizers||(w.JZv.frameworkStabilizers=[]),w.JZv.frameworkStabilizers.push(Wt=>{const Ye=w.JZv.getAllAngularTestabilities();let rt=Ye.length;const St=function(){rt--,0==rt&&Wt()};Ye.forEach(Fn=>{Fn.whenStable(St)})})}findTestabilityInTree(jt,Bn,Wt){if(null==Bn)return null;const Ye=jt.getTestability(Bn);return null!=Ye?Ye:Wt?(0,e.QT)().isShadowRoot(Bn)?this.findTestabilityInTree(jt,Bn.host,!0):this.findTestabilityInTree(jt,Bn.parentElement,!0):null}},deps:[]},{provide:w.WHO,useClass:w.NYb,deps:[w.SKi,w.giA,w.e01]},{provide:w.NYb,useClass:w.NYb,deps:[w.SKi,w.giA,w.e01]}],Yi=[{provide:w.H8p,useValue:"root"},{provide:w.zcH,useFactory:function dr(){return new w.zcH},deps:[]},{provide:Ct,useClass:Vn,multi:!0,deps:[e.qQ,w.SKi,w.Agw]},{provide:Ct,useClass:Fe,multi:!0,deps:[e.qQ]},Yt,Ft,et,{provide:w._9s,useExisting:Yt},{provide:e.N0,useClass:Ut,deps:[]},[]];let kr=(()=>{var Jt;class jt{constructor(Wt){}static withServerTransition(Wt){return{ngModule:jt,providers:[{provide:w.sZ2,useValue:Wt.appId}]}}}return(Jt=jt).\u0275fac=function(Wt){return new(Wt||Jt)(w.KVO(Ai,12))},Jt.\u0275mod=w.$C({type:Jt}),Jt.\u0275inj=w.G2t({providers:[...Yi,...Yn],imports:[e.MD,w.Hbi]}),jt})(),fr=(()=>{var Jt;class jt{constructor(Wt){this._doc=Wt}getTitle(){return this._doc.title}setTitle(Wt){this._doc.title=Wt||""}}return(Jt=jt).\u0275fac=function(Wt){return new(Wt||Jt)(w.KVO(e.qQ))},Jt.\u0275prov=w.jDH({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),jt})()},70:(Kr,dn,Be)=>{"use strict";Be.d(dn,{nX:()=>Tt,Zp:()=>as,Z:()=>To,Xk:()=>fr,Kp:()=>$c,Ix:()=>xo,Wk:()=>_u,iI:()=>cc,Sd:()=>Jt});var w=Be(467),e=Be(4438),wt=Be(1985),ot=Be(8071),tt=Be(6648),Ze=Be(7673),Nt=Be(4412),Ut=Be(4572);const et=(0,Be(1853).L)(L=>function(){L(this),this.name="EmptyError",this.message="no elements in sequence"});var vt=Be(1397),Mt=Be(3669);function Ft(L=1/0){return(0,vt.Z)(Mt.D,L)}var mn=Be(3794);function qt(...L){return function An(){return Ft(1)}()((0,tt.H)(L,(0,mn.lI)(L)))}var tn=Be(8750);function Un(L){return new wt.c(q=>{(0,tn.Tg)(L()).subscribe(q)})}var gn=Be(1203);function Tn(L,q){const ie=(0,ot.T)(L)?L:()=>L,W=ue=>ue.error(ie());return new wt.c(q?ue=>q.schedule(W,0,ue):W)}const bt=new wt.c(L=>L.complete());var Yt=Be(8359),Cn=Be(9974),Dn=Be(4360);function nt(){return(0,Cn.N)((L,q)=>{let ie=null;L._refCount++;const W=(0,Dn._)(q,void 0,void 0,void 0,()=>{if(!L||L._refCount<=0||0<--L._refCount)return void(ie=null);const ue=L._connection,He=ie;ie=null,ue&&(!He||ue===He)&&ue.unsubscribe(),q.unsubscribe()});L.subscribe(W),W.closed||(ie=L.connect())})}class zn extends wt.c{constructor(q,ie){super(),this.source=q,this.subjectFactory=ie,this._subject=null,this._refCount=0,this._connection=null,(0,Cn.S)(q)&&(this.lift=q.lift)}_subscribe(q){return this.getSubject().subscribe(q)}getSubject(){const q=this._subject;return(!q||q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:q}=this;this._subject=this._connection=null,null==q||q.unsubscribe()}connect(){let q=this._connection;if(!q){q=this._connection=new Yt.yU;const ie=this.getSubject();q.add(this.source.subscribe((0,Dn._)(ie,void 0,()=>{this._teardown(),ie.complete()},W=>{this._teardown(),ie.error(W)},()=>this._teardown()))),q.closed&&(this._connection=null,q=Yt.yU.EMPTY)}return q}refCount(){return nt()(this)}}var yr=Be(1413),xr=Be(177),Kt=Be(6354),Vn=Be(5558);function kn(L){return L<=0?()=>bt:(0,Cn.N)((q,ie)=>{let W=0;q.subscribe((0,Dn._)(ie,ue=>{++W<=L&&(ie.next(ue),L<=W&&ie.complete())}))})}var we=Be(5964);function Fe(L){return(0,Cn.N)((q,ie)=>{let W=!1;q.subscribe((0,Dn._)(ie,ue=>{W=!0,ie.next(ue)},()=>{W||ie.next(L),ie.complete()}))})}function Le(L=Rt){return(0,Cn.N)((q,ie)=>{let W=!1;q.subscribe((0,Dn._)(ie,ue=>{W=!0,ie.next(ue)},()=>W?ie.complete():ie.error(L())))})}function Rt(){return new et}function bn(L,q){const ie=arguments.length>=2;return W=>W.pipe(L?(0,we.p)((ue,He)=>L(ue,He,W)):Mt.D,kn(1),ie?Fe(q):Le(()=>new et))}function sn(L,q){return(0,ot.T)(q)?(0,vt.Z)(L,q,1):(0,vt.Z)(L,1)}function Rn(L,q,ie){const W=(0,ot.T)(L)||q||ie?{next:L,error:q,complete:ie}:L;return W?(0,Cn.N)((ue,He)=>{var lt;null===(lt=W.subscribe)||void 0===lt||lt.call(W);let yn=!0;ue.subscribe((0,Dn._)(He,Zn=>{var In;null===(In=W.next)||void 0===In||In.call(W,Zn),He.next(Zn)},()=>{var Zn;yn=!1,null===(Zn=W.complete)||void 0===Zn||Zn.call(W),He.complete()},Zn=>{var In;yn=!1,null===(In=W.error)||void 0===In||In.call(W,Zn),He.error(Zn)},()=>{var Zn,In;yn&&(null===(Zn=W.unsubscribe)||void 0===Zn||Zn.call(W)),null===(In=W.finalize)||void 0===In||In.call(W)}))}):Mt.D}function dr(L){return(0,Cn.N)((q,ie)=>{let He,W=null,ue=!1;W=q.subscribe((0,Dn._)(ie,void 0,void 0,lt=>{He=(0,tn.Tg)(L(lt,dr(L)(q))),W?(W.unsubscribe(),W=null,He.subscribe(ie)):ue=!0})),ue&&(W.unsubscribe(),W=null,He.subscribe(ie))})}function ui(L){return L<=0?()=>bt:(0,Cn.N)((q,ie)=>{let W=[];q.subscribe((0,Dn._)(ie,ue=>{W.push(ue),L<W.length&&W.shift()},()=>{for(const ue of W)ie.next(ue);ie.complete()},void 0,()=>{W=null}))})}function Yi(L){return(0,Cn.N)((q,ie)=>{try{q.subscribe(ie)}finally{ie.add(L)}})}var kr=Be(5343),Wi=Be(345);const fr="primary",Pt=Symbol("RouteTitle");class Pn{constructor(q){this.params=q||{}}has(q){return Object.prototype.hasOwnProperty.call(this.params,q)}get(q){if(this.has(q)){const ie=this.params[q];return Array.isArray(ie)?ie[0]:ie}return null}getAll(q){if(this.has(q)){const ie=this.params[q];return Array.isArray(ie)?ie:[ie]}return[]}get keys(){return Object.keys(this.params)}}function vn(L){return new Pn(L)}function $r(L,q,ie){const W=ie.path.split("/");if(W.length>L.length||"full"===ie.pathMatch&&(q.hasChildren()||W.length<L.length))return null;const ue={};for(let He=0;He<W.length;He++){const lt=W[He],yn=L[He];if(lt.startsWith(":"))ue[lt.substring(1)]=yn;else if(lt!==yn.path)return null}return{consumed:L.slice(0,W.length),posParams:ue}}function lr(L,q){const ie=L?di(L):void 0,W=q?di(q):void 0;if(!ie||!W||ie.length!=W.length)return!1;let ue;for(let He=0;He<ie.length;He++)if(ue=ie[He],!Hr(L[ue],q[ue]))return!1;return!0}function di(L){return[...Object.keys(L),...Object.getOwnPropertySymbols(L)]}function Hr(L,q){if(Array.isArray(L)&&Array.isArray(q)){if(L.length!==q.length)return!1;const ie=[...L].sort(),W=[...q].sort();return ie.every((ue,He)=>W[He]===ue)}return L===q}function Er(L){return L.length>0?L[L.length-1]:null}function ri(L){return function Z(L){return!!L&&(L instanceof wt.c||(0,ot.T)(L.lift)&&(0,ot.T)(L.subscribe))}(L)?L:(0,e.jNT)(L)?(0,tt.H)(Promise.resolve(L)):(0,Ze.of)(L)}const eo={exact:function Mo(L,q,ie){if(!Vo(L.segments,q.segments)||!Qi(L.segments,q.segments,ie)||L.numberOfChildren!==q.numberOfChildren)return!1;for(const W in q.children)if(!L.children[W]||!Mo(L.children[W],q.children[W],ie))return!1;return!0},subset:ko},uo={exact:function Ro(L,q){return lr(L,q)},subset:function Zr(L,q){return Object.keys(q).length<=Object.keys(L).length&&Object.keys(q).every(ie=>Hr(L[ie],q[ie]))},ignored:()=>!0};function _o(L,q,ie){return eo[ie.paths](L.root,q.root,ie.matrixParams)&&uo[ie.queryParams](L.queryParams,q.queryParams)&&!("exact"===ie.fragment&&L.fragment!==q.fragment)}function ko(L,q,ie){return xi(L,q,q.segments,ie)}function xi(L,q,ie,W){if(L.segments.length>ie.length){const ue=L.segments.slice(0,ie.length);return!(!Vo(ue,ie)||q.hasChildren()||!Qi(ue,ie,W))}if(L.segments.length===ie.length){if(!Vo(L.segments,ie)||!Qi(L.segments,ie,W))return!1;for(const ue in q.children)if(!L.children[ue]||!ko(L.children[ue],q.children[ue],W))return!1;return!0}{const ue=ie.slice(0,L.segments.length),He=ie.slice(L.segments.length);return!!(Vo(L.segments,ue)&&Qi(L.segments,ue,W)&&L.children[fr])&&xi(L.children[fr],q,He,W)}}function Qi(L,q,ie){return q.every((W,ue)=>uo[ie](L[ue].parameters,W.parameters))}class Wo{constructor(q=new Wr([],{}),ie={},W=null){this.root=q,this.queryParams=ie,this.fragment=W}get queryParamMap(){var q;return null!==(q=this._queryParamMap)&&void 0!==q||(this._queryParamMap=vn(this.queryParams)),this._queryParamMap}toString(){return Bn.serialize(this)}}class Wr{constructor(q,ie){this.segments=q,this.children=ie,this.parent=null,Object.values(ie).forEach(W=>W.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wt(this)}}class cn{constructor(q,ie){this.path=q,this.parameters=ie}get parameterMap(){var q;return null!==(q=this._parameterMap)&&void 0!==q||(this._parameterMap=vn(this.parameters)),this._parameterMap}toString(){return qr(this)}}function Vo(L,q){return L.length===q.length&&L.every((ie,W)=>ie.path===q[W].path)}let Jt=(()=>{var L;class q{}return(L=q).\u0275fac=function(W){return new(W||L)},L.\u0275prov=e.jDH({token:L,factory:()=>new jt,providedIn:"root"}),q})();class jt{parse(q){const ie=new Ao(q);return new Wo(ie.parseRootSegment(),ie.parseQueryParams(),ie.parseFragment())}serialize(q){const ie=`/${Ye(q.root,!0)}`,W=function $o(L){const q=Object.entries(L).map(([ie,W])=>Array.isArray(W)?W.map(ue=>`${St(ie)}=${St(ue)}`).join("&"):`${St(ie)}=${St(W)}`).filter(ie=>ie);return q.length?`?${q.join("&")}`:""}(q.queryParams);return`${ie}${W}${"string"==typeof q.fragment?`#${function Fn(L){return encodeURI(L)}(q.fragment)}`:""}`}}const Bn=new jt;function Wt(L){return L.segments.map(q=>qr(q)).join("/")}function Ye(L,q){if(!L.hasChildren())return Wt(L);if(q){const ie=L.children[fr]?Ye(L.children[fr],!1):"",W=[];return Object.entries(L.children).forEach(([ue,He])=>{ue!==fr&&W.push(`${ue}:${Ye(He,!1)}`)}),W.length>0?`${ie}(${W.join("//")})`:ie}{const ie=function ps(L,q){let ie=[];return Object.entries(L.children).forEach(([W,ue])=>{W===fr&&(ie=ie.concat(q(ue,W)))}),Object.entries(L.children).forEach(([W,ue])=>{W!==fr&&(ie=ie.concat(q(ue,W)))}),ie}(L,(W,ue)=>ue===fr?[Ye(L.children[fr],!1)]:[`${ue}:${Ye(W,!1)}`]);return 1===Object.keys(L.children).length&&null!=L.children[fr]?`${Wt(L)}/${ie[0]}`:`${Wt(L)}/(${ie.join("//")})`}}function rt(L){return encodeURIComponent(L).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function St(L){return rt(L).replace(/%3B/gi,";")}function zt(L){return rt(L).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gr(L){return decodeURIComponent(L)}function Nr(L){return gr(L.replace(/\+/g,"%20"))}function qr(L){return`${zt(L.path)}${function ji(L){return Object.entries(L).map(([q,ie])=>`;${zt(q)}=${zt(ie)}`).join("")}(L.parameters)}`}const ks=/^[^\/()?;#]+/;function ai(L){const q=L.match(ks);return q?q[0]:""}const Fr=/^[^\/()?;=#]+/,na=/^[^=?&#]+/,ml=/^[^&#]+/;class Ao{constructor(q){this.url=q,this.remaining=q}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wr([],{}):new Wr([],this.parseChildren())}parseQueryParams(){const q={};if(this.consumeOptional("?"))do{this.parseQueryParam(q)}while(this.consumeOptional("&"));return q}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const q=[];for(this.peekStartsWith("(")||q.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),q.push(this.parseSegment());let ie={};this.peekStartsWith("/(")&&(this.capture("/"),ie=this.parseParens(!0));let W={};return this.peekStartsWith("(")&&(W=this.parseParens(!1)),(q.length>0||Object.keys(ie).length>0)&&(W[fr]=new Wr(q,ie)),W}parseSegment(){const q=ai(this.remaining);if(""===q&&this.peekStartsWith(";"))throw new e.wOt(4009,!1);return this.capture(q),new cn(gr(q),this.parseMatrixParams())}parseMatrixParams(){const q={};for(;this.consumeOptional(";");)this.parseParam(q);return q}parseParam(q){const ie=function gs(L){const q=L.match(Fr);return q?q[0]:""}(this.remaining);if(!ie)return;this.capture(ie);let W="";if(this.consumeOptional("=")){const ue=ai(this.remaining);ue&&(W=ue,this.capture(W))}q[gr(ie)]=gr(W)}parseQueryParam(q){const ie=function Xs(L){const q=L.match(na);return q?q[0]:""}(this.remaining);if(!ie)return;this.capture(ie);let W="";if(this.consumeOptional("=")){const lt=function nl(L){const q=L.match(ml);return q?q[0]:""}(this.remaining);lt&&(W=lt,this.capture(W))}const ue=Nr(ie),He=Nr(W);if(q.hasOwnProperty(ue)){let lt=q[ue];Array.isArray(lt)||(lt=[lt],q[ue]=lt),lt.push(He)}else q[ue]=He}parseParens(q){const ie={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const W=ai(this.remaining),ue=this.remaining[W.length];if("/"!==ue&&")"!==ue&&";"!==ue)throw new e.wOt(4010,!1);let He;W.indexOf(":")>-1?(He=W.slice(0,W.indexOf(":")),this.capture(He),this.capture(":")):q&&(He=fr);const lt=this.parseChildren();ie[He]=1===Object.keys(lt).length?lt[fr]:new Wr([],lt),this.consumeOptional("//")}return ie}peekStartsWith(q){return this.remaining.startsWith(q)}consumeOptional(q){return!!this.peekStartsWith(q)&&(this.remaining=this.remaining.substring(q.length),!0)}capture(q){if(!this.consumeOptional(q))throw new e.wOt(4011,!1)}}function vl(L){return L.segments.length>0?new Wr([],{[fr]:L}):L}function $a(L){const q={};for(const[W,ue]of Object.entries(L.children)){const He=$a(ue);if(W===fr&&0===He.segments.length&&He.hasChildren())for(const[lt,yn]of Object.entries(He.children))q[lt]=yn;else(He.segments.length>0||He.hasChildren())&&(q[W]=He)}return function ua(L){if(1===L.numberOfChildren&&L.children[fr]){const q=L.children[fr];return new Wr(L.segments.concat(q.segments),q.children)}return L}(new Wr(L.segments,q))}function Nn(L){return L instanceof Wo}function tr(L){var q;let ie;const He=vl(function W(lt){const yn={};for(const In of lt.children){const oi=W(In);yn[In.outlet]=oi}const Zn=new Wr(lt.url,yn);return lt===L&&(ie=Zn),Zn}(L.root));return null!==(q=ie)&&void 0!==q?q:He}function Mr(L,q,ie,W){let ue=L;for(;ue.parent;)ue=ue.parent;if(0===q.length)return pr(ue,ue,ue,ie,W);const He=function ho(L){if("string"==typeof L[0]&&1===L.length&&"/"===L[0])return new Dr(!0,0,L);let q=0,ie=!1;const W=L.reduce((ue,He,lt)=>{if("object"==typeof He&&null!=He){if(He.outlets){const yn={};return Object.entries(He.outlets).forEach(([Zn,In])=>{yn[Zn]="string"==typeof In?In.split("/"):In}),[...ue,{outlets:yn}]}if(He.segmentPath)return[...ue,He.segmentPath]}return"string"!=typeof He?[...ue,He]:0===lt?(He.split("/").forEach((yn,Zn)=>{0==Zn&&"."===yn||(0==Zn&&""===yn?ie=!0:".."===yn?q++:""!=yn&&ue.push(yn))}),ue):[...ue,He]},[]);return new Dr(ie,q,W)}(q);if(He.toRoot())return pr(ue,ue,new Wr([],{}),ie,W);const lt=function va(L,q,ie){if(L.isAbsolute)return new Yo(q,!0,0);if(!ie)return new Yo(q,!1,NaN);if(null===ie.parent)return new Yo(ie,!0,0);const W=Mi(L.commands[0])?0:1;return function ei(L,q,ie){let W=L,ue=q,He=ie;for(;He>ue;){if(He-=ue,W=W.parent,!W)throw new e.wOt(4005,!1);ue=W.segments.length}return new Yo(W,!1,ue-He)}(ie,ie.segments.length-1+W,L.numberOfDoubleDots)}(He,ue,L),yn=lt.processChildren?Fs(lt.segmentGroup,lt.index,He.commands):hi(lt.segmentGroup,lt.index,He.commands);return pr(ue,lt.segmentGroup,yn,ie,W)}function Mi(L){return"object"==typeof L&&null!=L&&!L.outlets&&!L.segmentPath}function pn(L){return"object"==typeof L&&null!=L&&L.outlets}function pr(L,q,ie,W,ue){let lt,He={};W&&Object.entries(W).forEach(([Zn,In])=>{He[Zn]=Array.isArray(In)?In.map(oi=>`${oi}`):`${In}`}),lt=L===q?ie:Xr(L,q,ie);const yn=vl($a(lt));return new Wo(yn,He,ue)}function Xr(L,q,ie){const W={};return Object.entries(L.children).forEach(([ue,He])=>{W[ue]=He===q?ie:Xr(He,q,ie)}),new Wr(L.segments,W)}class Dr{constructor(q,ie,W){if(this.isAbsolute=q,this.numberOfDoubleDots=ie,this.commands=W,q&&W.length>0&&Mi(W[0]))throw new e.wOt(4003,!1);const ue=W.find(pn);if(ue&&ue!==Er(W))throw new e.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yo{constructor(q,ie,W){this.segmentGroup=q,this.processChildren=ie,this.index=W}}function hi(L,q,ie){var W;if(null!==(W=L)&&void 0!==W||(L=new Wr([],{})),0===L.segments.length&&L.hasChildren())return Fs(L,q,ie);const ue=function Ji(L,q,ie){let W=0,ue=q;const He={match:!1,pathIndex:0,commandIndex:0};for(;ue<L.segments.length;){if(W>=ie.length)return He;const lt=L.segments[ue],yn=ie[W];if(pn(yn))break;const Zn=`${yn}`,In=W<ie.length-1?ie[W+1]:null;if(ue>0&&void 0===Zn)break;if(Zn&&In&&"object"==typeof In&&void 0===In.outlets){if(!Ms(Zn,In,lt))return He;W+=2}else{if(!Ms(Zn,{},lt))return He;W++}ue++}return{match:!0,pathIndex:ue,commandIndex:W}}(L,q,ie),He=ie.slice(ue.commandIndex);if(ue.match&&ue.pathIndex<L.segments.length){const lt=new Wr(L.segments.slice(0,ue.pathIndex),{});return lt.children[fr]=new Wr(L.segments.slice(ue.pathIndex),L.children),Fs(lt,0,He)}return ue.match&&0===He.length?new Wr(L.segments,{}):ue.match&&!L.hasChildren()?Ps(L,q,ie):ue.match?Fs(L,0,He):Ps(L,q,ie)}function Fs(L,q,ie){if(0===ie.length)return new Wr(L.segments,{});{const W=function no(L){return pn(L[0])?L[0].outlets:{[fr]:L}}(ie),ue={};if(Object.keys(W).some(He=>He!==fr)&&L.children[fr]&&1===L.numberOfChildren&&0===L.children[fr].segments.length){const He=Fs(L.children[fr],q,ie);return new Wr(L.segments,He.children)}return Object.entries(W).forEach(([He,lt])=>{"string"==typeof lt&&(lt=[lt]),null!==lt&&(ue[He]=hi(L.children[He],q,lt))}),Object.entries(L.children).forEach(([He,lt])=>{void 0===W[He]&&(ue[He]=lt)}),new Wr(L.segments,ue)}}function Ps(L,q,ie){const W=L.segments.slice(0,q);let ue=0;for(;ue<ie.length;){const He=ie[ue];if(pn(He)){const Zn=Il(He.outlets);return new Wr(W,Zn)}if(0===ue&&Mi(ie[0])){W.push(new cn(L.segments[q].path,Aa(ie[0]))),ue++;continue}const lt=pn(He)?He.outlets[fr]:`${He}`,yn=ue<ie.length-1?ie[ue+1]:null;lt&&yn&&Mi(yn)?(W.push(new cn(lt,Aa(yn))),ue+=2):(W.push(new cn(lt,{})),ue++)}return new Wr(W,{})}function Il(L){const q={};return Object.entries(L).forEach(([ie,W])=>{"string"==typeof W&&(W=[W]),null!==W&&(q[ie]=Ps(new Wr([],{}),0,W))}),q}function Aa(L){const q={};return Object.entries(L).forEach(([ie,W])=>q[ie]=`${W}`),q}function Ms(L,q,ie){return L==ie.path&&lr(q,ie.parameters)}const Ri="imperative";var Qr=function(L){return L[L.NavigationStart=0]="NavigationStart",L[L.NavigationEnd=1]="NavigationEnd",L[L.NavigationCancel=2]="NavigationCancel",L[L.NavigationError=3]="NavigationError",L[L.RoutesRecognized=4]="RoutesRecognized",L[L.ResolveStart=5]="ResolveStart",L[L.ResolveEnd=6]="ResolveEnd",L[L.GuardsCheckStart=7]="GuardsCheckStart",L[L.GuardsCheckEnd=8]="GuardsCheckEnd",L[L.RouteConfigLoadStart=9]="RouteConfigLoadStart",L[L.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",L[L.ChildActivationStart=11]="ChildActivationStart",L[L.ChildActivationEnd=12]="ChildActivationEnd",L[L.ActivationStart=13]="ActivationStart",L[L.ActivationEnd=14]="ActivationEnd",L[L.Scroll=15]="Scroll",L[L.NavigationSkipped=16]="NavigationSkipped",L}(Qr||{});class ro{constructor(q,ie){this.id=q,this.url=ie}}class To extends ro{constructor(q,ie,W="imperative",ue=null){super(q,ie),this.type=Qr.NavigationStart,this.navigationTrigger=W,this.restoredState=ue}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Os extends ro{constructor(q,ie,W){super(q,ie),this.urlAfterRedirects=W,this.type=Qr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Hi=function(L){return L[L.Redirect=0]="Redirect",L[L.SupersededByNewNavigation=1]="SupersededByNewNavigation",L[L.NoDataFromResolver=2]="NoDataFromResolver",L[L.GuardRejected=3]="GuardRejected",L}(Hi||{}),mi=function(L){return L[L.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",L[L.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",L}(mi||{});class yo extends ro{constructor(q,ie,W,ue){super(q,ie),this.reason=W,this.code=ue,this.type=Qr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $l extends ro{constructor(q,ie,W,ue){super(q,ie),this.reason=W,this.code=ue,this.type=Qr.NavigationSkipped}}class Io extends ro{constructor(q,ie,W,ue){super(q,ie),this.error=W,this.target=ue,this.type=Qr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bl extends ro{constructor(q,ie,W,ue){super(q,ie),this.urlAfterRedirects=W,this.state=ue,this.type=Qr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oa extends ro{constructor(q,ie,W,ue){super(q,ie),this.urlAfterRedirects=W,this.state=ue,this.type=Qr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bo extends ro{constructor(q,ie,W,ue,He){super(q,ie),this.urlAfterRedirects=W,this.state=ue,this.shouldActivate=He,this.type=Qr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ra extends ro{constructor(q,ie,W,ue){super(q,ie),this.urlAfterRedirects=W,this.state=ue,this.type=Qr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends ro{constructor(q,ie,W,ue){super(q,ie),this.urlAfterRedirects=W,this.state=ue,this.type=Qr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ds{constructor(q){this.route=q,this.type=Qr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ra{constructor(q){this.route=q,this.type=Qr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zi{constructor(q){this.snapshot=q,this.type=Qr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oi{constructor(q){this.snapshot=q,this.type=Qr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ga{constructor(q){this.snapshot=q,this.type=Qr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class io{constructor(q){this.snapshot=q,this.type=Qr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ia{constructor(q,ie,W){this.routerEvent=q,this.position=ie,this.anchor=W,this.type=Qr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ms{}class qo{constructor(q){this.url=q}}class kl{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new as,this.attachRef=null}}let as=(()=>{var L;class q{constructor(){this.contexts=new Map}onChildOutletCreated(W,ue){const He=this.getOrCreateContext(W);He.outlet=ue,this.contexts.set(W,He)}onChildOutletDestroyed(W){const ue=this.getContext(W);ue&&(ue.outlet=null,ue.attachRef=null)}onOutletDeactivated(){const W=this.contexts;return this.contexts=new Map,W}onOutletReAttached(W){this.contexts=W}getOrCreateContext(W){let ue=this.getContext(W);return ue||(ue=new kl,this.contexts.set(W,ue)),ue}getContext(W){return this.contexts.get(W)||null}}return(L=q).\u0275fac=function(W){return new(W||L)},L.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"}),q})();class ao{constructor(q){this._root=q}get root(){return this._root.value}parent(q){const ie=this.pathFromRoot(q);return ie.length>1?ie[ie.length-2]:null}children(q){const ie=Jo(q,this._root);return ie?ie.children.map(W=>W.value):[]}firstChild(q){const ie=Jo(q,this._root);return ie&&ie.children.length>0?ie.children[0].value:null}siblings(q){const ie=Tr(q,this._root);return ie.length<2?[]:ie[ie.length-2].children.map(ue=>ue.value).filter(ue=>ue!==q)}pathFromRoot(q){return Tr(q,this._root).map(ie=>ie.value)}}function Jo(L,q){if(L===q.value)return q;for(const ie of q.children){const W=Jo(L,ie);if(W)return W}return null}function Tr(L,q){if(L===q.value)return[q];for(const ie of q.children){const W=Tr(L,ie);if(W.length)return W.unshift(q),W}return[]}class ts{constructor(q,ie){this.value=q,this.children=ie}toString(){return`TreeNode(${this.value})`}}function ka(L){const q={};return L&&L.children.forEach(ie=>q[ie.value.outlet]=ie),q}class Te extends ao{constructor(q,ie){super(q),this.snapshot=ie,$n(this,q)}toString(){return this.snapshot.toString()}}function Je(L){const q=function At(L){const He=new Zt([],{},{},"",{},fr,L,null,{});return new Xn("",new ts(He,[]))}(L),ie=new Nt.t([new cn("",{})]),W=new Nt.t({}),ue=new Nt.t({}),He=new Nt.t({}),lt=new Nt.t(""),yn=new Tt(ie,W,He,lt,ue,fr,L,q.root);return yn.snapshot=q.root,new Te(new ts(yn,[]),q)}class Tt{constructor(q,ie,W,ue,He,lt,yn,Zn){var In,oi;this.urlSubject=q,this.paramsSubject=ie,this.queryParamsSubject=W,this.fragmentSubject=ue,this.dataSubject=He,this.outlet=lt,this.component=yn,this._futureSnapshot=Zn,this.title=null!==(In=null===(oi=this.dataSubject)||void 0===oi?void 0:oi.pipe((0,Kt.T)(to=>to[Pt])))&&void 0!==In?In:(0,Ze.of)(void 0),this.url=q,this.params=ie,this.queryParams=W,this.fragment=ue,this.data=He}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var q;return null!==(q=this._paramMap)&&void 0!==q||(this._paramMap=this.params.pipe((0,Kt.T)(ie=>vn(ie)))),this._paramMap}get queryParamMap(){var q;return null!==(q=this._queryParamMap)&&void 0!==q||(this._queryParamMap=this.queryParams.pipe((0,Kt.T)(ie=>vn(ie)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rn(L,q,ie="emptyOnly"){var W;let ue;const{routeConfig:He}=L;var lt;return ue=null===q||"always"!==ie&&""!==(null==He?void 0:He.path)&&(q.component||null!==(W=q.routeConfig)&&void 0!==W&&W.loadComponent)?{params:{...L.params},data:{...L.data},resolve:{...L.data,...null!==(lt=L._resolvedData)&&void 0!==lt?lt:{}}}:{params:{...q.params,...L.params},data:{...q.data,...L.data},resolve:{...L.data,...q.data,...null==He?void 0:He.data,...L._resolvedData}},He&&_r(He)&&(ue.resolve[Pt]=He.title),ue}class Zt{get title(){var q;return null===(q=this.data)||void 0===q?void 0:q[Pt]}constructor(q,ie,W,ue,He,lt,yn,Zn,In){this.url=q,this.params=ie,this.queryParams=W,this.fragment=ue,this.data=He,this.outlet=lt,this.component=yn,this.routeConfig=Zn,this._resolve=In}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var q;return null!==(q=this._paramMap)&&void 0!==q||(this._paramMap=vn(this.params)),this._paramMap}get queryParamMap(){var q;return null!==(q=this._queryParamMap)&&void 0!==q||(this._queryParamMap=vn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(W=>W.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xn extends ao{constructor(q,ie){super(ie),this.url=q,$n(this,ie)}toString(){return or(this._root)}}function $n(L,q){q.value._routerState=L,q.children.forEach(ie=>$n(L,ie))}function or(L){const q=L.children.length>0?` { ${L.children.map(or).join(", ")} } `:"";return`${L.value}${q}`}function er(L){if(L.snapshot){const q=L.snapshot,ie=L._futureSnapshot;L.snapshot=ie,lr(q.queryParams,ie.queryParams)||L.queryParamsSubject.next(ie.queryParams),q.fragment!==ie.fragment&&L.fragmentSubject.next(ie.fragment),lr(q.params,ie.params)||L.paramsSubject.next(ie.params),function si(L,q){if(L.length!==q.length)return!1;for(let ie=0;ie<L.length;++ie)if(!lr(L[ie],q[ie]))return!1;return!0}(q.url,ie.url)||L.urlSubject.next(ie.url),lr(q.data,ie.data)||L.dataSubject.next(ie.data)}else L.snapshot=L._futureSnapshot,L.dataSubject.next(L._futureSnapshot.data)}function ir(L,q){const ie=lr(L.params,q.params)&&function Co(L,q){return Vo(L,q)&&L.every((ie,W)=>lr(ie.parameters,q[W].parameters))}(L.url,q.url);return ie&&!(!L.parent!=!q.parent)&&(!L.parent||ir(L.parent,q.parent))}function _r(L){return"string"==typeof L.title||null===L.title}let pi=(()=>{var L;class q{constructor(){this.activated=null,this._activatedRoute=null,this.name=fr,this.activateEvents=new e.bkB,this.deactivateEvents=new e.bkB,this.attachEvents=new e.bkB,this.detachEvents=new e.bkB,this.parentContexts=(0,e.WQX)(as),this.location=(0,e.WQX)(e.c1b),this.changeDetector=(0,e.WQX)(e.gRc),this.environmentInjector=(0,e.WQX)(e.uvJ),this.inputBinder=(0,e.WQX)(qi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(W){if(W.name){const{firstChange:ue,previousValue:He}=W.name;if(ue)return;this.isTrackedInParentContexts(He)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(He)),this.initializeOutletWithName()}}ngOnDestroy(){var W;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(W=this.inputBinder)||void 0===W||W.unsubscribeFromRouteData(this)}isTrackedInParentContexts(W){var ue;return(null===(ue=this.parentContexts.getContext(W))||void 0===ue?void 0:ue.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const W=this.parentContexts.getContext(this.name);null!=W&&W.route&&(W.attachRef?this.attach(W.attachRef,W.route):this.activateWith(W.route,W.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.wOt(4012,!1);this.location.detach();const W=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(W.instance),W}attach(W,ue){var He;this.activated=W,this._activatedRoute=ue,this.location.insert(W.hostView),null===(He=this.inputBinder)||void 0===He||He.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(W.instance)}deactivate(){if(this.activated){const W=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(W)}}activateWith(W,ue){var He;if(this.isActivated)throw new e.wOt(4013,!1);this._activatedRoute=W;const lt=this.location,Zn=W.snapshot.component,In=this.parentContexts.getOrCreateContext(this.name).children,oi=new Or(W,In,lt.injector);this.activated=lt.createComponent(Zn,{index:lt.length,injector:oi,environmentInjector:null!=ue?ue:this.environmentInjector}),this.changeDetector.markForCheck(),null===(He=this.inputBinder)||void 0===He||He.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(L=q).\u0275fac=function(W){return new(W||L)},L.\u0275dir=e.FsC({type:L,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[e.OA$]}),q})();class Or{__ngOutletInjector(q){return new Or(this.route,this.childContexts,q)}constructor(q,ie,W){this.route=q,this.childContexts=ie,this.parent=W}get(q,ie){return q===Tt?this.route:q===as?this.childContexts:this.parent.get(q,ie)}}const qi=new e.nKC("");let Ko=(()=>{var L;class q{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(W){this.unsubscribeFromRouteData(W),this.subscribeToRouteData(W)}unsubscribeFromRouteData(W){var ue;null===(ue=this.outletDataSubscriptions.get(W))||void 0===ue||ue.unsubscribe(),this.outletDataSubscriptions.delete(W)}subscribeToRouteData(W){const{activatedRoute:ue}=W,He=(0,Ut.z)([ue.queryParams,ue.params,ue.data]).pipe((0,Vn.n)(([lt,yn,Zn],In)=>(Zn={...lt,...yn,...Zn},0===In?(0,Ze.of)(Zn):Promise.resolve(Zn)))).subscribe(lt=>{if(!W.isActivated||!W.activatedComponentRef||W.activatedRoute!==ue||null===ue.component)return void this.unsubscribeFromRouteData(W);const yn=(0,e.HJs)(ue.component);if(yn)for(const{templateName:Zn}of yn.inputs)W.activatedComponentRef.setInput(Zn,lt[Zn]);else this.unsubscribeFromRouteData(W)});this.outletDataSubscriptions.set(W,He)}}return(L=q).\u0275fac=function(W){return new(W||L)},L.\u0275prov=e.jDH({token:L,factory:L.\u0275fac}),q})();function Qo(L,q,ie){if(ie&&L.shouldReuseRoute(q.value,ie.value.snapshot)){const W=ie.value;W._futureSnapshot=q.value;const ue=function br(L,q,ie){return q.children.map(W=>{for(const ue of ie.children)if(L.shouldReuseRoute(W.value,ue.value.snapshot))return Qo(L,W,ue);return Qo(L,W)})}(L,q,ie);return new ts(W,ue)}{if(L.shouldAttach(q.value)){const He=L.retrieve(q.value);if(null!==He){const lt=He.route;return lt.value._futureSnapshot=q.value,lt.children=q.children.map(yn=>Qo(L,yn)),lt}}const W=function Gi(L){return new Tt(new Nt.t(L.url),new Nt.t(L.params),new Nt.t(L.queryParams),new Nt.t(L.fragment),new Nt.t(L.data),L.outlet,L.component,L)}(q.value),ue=q.children.map(He=>Qo(L,He));return new ts(W,ue)}}const Ys="ngNavigationCancelingError";function Ne(L,q){const{redirectTo:ie,navigationBehaviorOptions:W}=Nn(q)?{redirectTo:q,navigationBehaviorOptions:void 0}:q,ue=be(!1,Hi.Redirect);return ue.url=ie,ue.navigationBehaviorOptions=W,ue}function be(L,q){const ie=new Error(`NavigationCancelingError: ${L||""}`);return ie[Ys]=!0,ie.cancellationCode=q,ie}function Qt(L){return!!L&&L[Ys]}let an=(()=>{var L;class q{}return(L=q).\u0275fac=function(W){return new(W||L)},L.\u0275cmp=e.VBU({type:L,selectors:[["ng-component"]],standalone:!0,features:[e.aNF],decls:1,vars:0,template:function(W,ue){1&W&&e.nrm(0,"router-outlet")},dependencies:[pi],encapsulation:2}),q})();function oa(L){const q=L.children&&L.children.map(oa),ie=q?{...L,children:q}:{...L};return!ie.component&&!ie.loadComponent&&(q||ie.loadChildren)&&ie.outlet&&ie.outlet!==fr&&(ie.component=an),ie}function Cs(L){return L.outlet||fr}function Zo(L){var q;if(!L)return null;if(null!==(q=L.routeConfig)&&void 0!==q&&q._injector)return L.routeConfig._injector;for(let ie=L.parent;ie;ie=ie.parent){const W=ie.routeConfig;if(null!=W&&W._loadedInjector)return W._loadedInjector;if(null!=W&&W._injector)return W._injector}return null}class xs{constructor(q,ie,W,ue,He){this.routeReuseStrategy=q,this.futureState=ie,this.currState=W,this.forwardEvent=ue,this.inputBindingEnabled=He}activate(q){const ie=this.futureState._root,W=this.currState?this.currState._root:null;this.deactivateChildRoutes(ie,W,q),er(this.futureState.root),this.activateChildRoutes(ie,W,q)}deactivateChildRoutes(q,ie,W){const ue=ka(ie);q.children.forEach(He=>{const lt=He.value.outlet;this.deactivateRoutes(He,ue[lt],W),delete ue[lt]}),Object.values(ue).forEach(He=>{this.deactivateRouteAndItsChildren(He,W)})}deactivateRoutes(q,ie,W){const ue=q.value,He=ie?ie.value:null;if(ue===He)if(ue.component){const lt=W.getContext(ue.outlet);lt&&this.deactivateChildRoutes(q,ie,lt.children)}else this.deactivateChildRoutes(q,ie,W);else He&&this.deactivateRouteAndItsChildren(ie,W)}deactivateRouteAndItsChildren(q,ie){q.value.component&&this.routeReuseStrategy.shouldDetach(q.value.snapshot)?this.detachAndStoreRouteSubtree(q,ie):this.deactivateRouteAndOutlet(q,ie)}detachAndStoreRouteSubtree(q,ie){const W=ie.getContext(q.value.outlet),ue=W&&q.value.component?W.children:ie,He=ka(q);for(const lt of Object.values(He))this.deactivateRouteAndItsChildren(lt,ue);if(W&&W.outlet){const lt=W.outlet.detach(),yn=W.children.onOutletDeactivated();this.routeReuseStrategy.store(q.value.snapshot,{componentRef:lt,route:q,contexts:yn})}}deactivateRouteAndOutlet(q,ie){const W=ie.getContext(q.value.outlet),ue=W&&q.value.component?W.children:ie,He=ka(q);for(const lt of Object.values(He))this.deactivateRouteAndItsChildren(lt,ue);W&&(W.outlet&&(W.outlet.deactivate(),W.children.onOutletDeactivated()),W.attachRef=null,W.route=null)}activateChildRoutes(q,ie,W){const ue=ka(ie);q.children.forEach(He=>{this.activateRoutes(He,ue[He.value.outlet],W),this.forwardEvent(new io(He.value.snapshot))}),q.children.length&&this.forwardEvent(new Oi(q.value.snapshot))}activateRoutes(q,ie,W){const ue=q.value,He=ie?ie.value:null;if(er(ue),ue===He)if(ue.component){const lt=W.getOrCreateContext(ue.outlet);this.activateChildRoutes(q,ie,lt.children)}else this.activateChildRoutes(q,ie,W);else if(ue.component){const lt=W.getOrCreateContext(ue.outlet);if(this.routeReuseStrategy.shouldAttach(ue.snapshot)){const yn=this.routeReuseStrategy.retrieve(ue.snapshot);this.routeReuseStrategy.store(ue.snapshot,null),lt.children.onOutletReAttached(yn.contexts),lt.attachRef=yn.componentRef,lt.route=yn.route.value,lt.outlet&&lt.outlet.attach(yn.componentRef,yn.route.value),er(yn.route.value),this.activateChildRoutes(q,null,lt.children)}else{const yn=Zo(ue.snapshot);lt.attachRef=null,lt.route=ue,lt.injector=yn,lt.outlet&&lt.outlet.activateWith(ue,lt.injector),this.activateChildRoutes(q,null,lt.children)}}else this.activateChildRoutes(q,null,W)}}class fo{constructor(q){this.path=q,this.route=this.path[this.path.length-1]}}class Zi{constructor(q,ie){this.component=q,this.route=ie}}function Pa(L,q,ie){const W=L._root;return ul(W,q?q._root:null,ie,[W.value])}function Na(L,q){const ie=Symbol(),W=q.get(L,ie);return W===ie?"function"!=typeof L||(0,e.LfX)(L)?q.get(L):L:W}function ul(L,q,ie,W,ue={canDeactivateChecks:[],canActivateChecks:[]}){const He=ka(q);return L.children.forEach(lt=>{(function Ie(L,q,ie,W,ue={canDeactivateChecks:[],canActivateChecks:[]}){const He=L.value,lt=q?q.value:null,yn=ie?ie.getContext(L.value.outlet):null;if(lt&&He.routeConfig===lt.routeConfig){const Zn=function Ae(L,q,ie){if("function"==typeof ie)return ie(L,q);switch(ie){case"pathParamsChange":return!Vo(L.url,q.url);case"pathParamsOrQueryParamsChange":return!Vo(L.url,q.url)||!lr(L.queryParams,q.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ir(L,q)||!lr(L.queryParams,q.queryParams);default:return!ir(L,q)}}(lt,He,He.routeConfig.runGuardsAndResolvers);Zn?ue.canActivateChecks.push(new fo(W)):(He.data=lt.data,He._resolvedData=lt._resolvedData),ul(L,q,He.component?yn?yn.children:null:ie,W,ue),Zn&&yn&&yn.outlet&&yn.outlet.isActivated&&ue.canDeactivateChecks.push(new Zi(yn.outlet.component,lt))}else lt&&qe(q,yn,ue),ue.canActivateChecks.push(new fo(W)),ul(L,null,He.component?yn?yn.children:null:ie,W,ue)})(lt,He[lt.value.outlet],ie,W.concat([lt.value]),ue),delete He[lt.value.outlet]}),Object.entries(He).forEach(([lt,yn])=>qe(yn,ie.getContext(lt),ue)),ue}function qe(L,q,ie){const W=ka(L),ue=L.value;Object.entries(W).forEach(([He,lt])=>{qe(lt,ue.component?q?q.children.getContext(He):null:q,ie)}),ie.canDeactivateChecks.push(new Zi(ue.component&&q&&q.outlet&&q.outlet.isActivated?q.outlet.component:null,ue))}function Ee(L){return"function"==typeof L}function Ka(L){return L instanceof et||"EmptyError"===(null==L?void 0:L.name)}const Pl=Symbol("INITIAL_VALUE");function Ql(){return(0,Vn.n)(L=>(0,Ut.z)(L.map(q=>q.pipe(kn(1),function st(...L){const q=(0,mn.lI)(L);return(0,Cn.N)((ie,W)=>{(q?qt(L,ie,q):qt(L,ie)).subscribe(W)})}(Pl)))).pipe((0,Kt.T)(q=>{for(const ie of q)if(!0!==ie){if(ie===Pl)return Pl;if(!1===ie||ie instanceof Wo)return ie}return!0}),(0,we.p)(q=>q!==Pl),kn(1)))}function $i(L){return(0,gn.F)(Rn(q=>{if(Nn(q))throw Ne(0,q)}),(0,Kt.T)(q=>!0===q))}class ea{constructor(q){this.segmentGroup=q||null}}class ci extends Error{constructor(q){super(),this.urlTree=q}}function Rs(L){return Tn(new ea(L))}class rs{constructor(q,ie){this.urlSerializer=q,this.urlTree=ie}lineralizeSegments(q,ie){let W=[],ue=ie.root;for(;;){if(W=W.concat(ue.segments),0===ue.numberOfChildren)return(0,Ze.of)(W);if(ue.numberOfChildren>1||!ue.children[fr])return Tn(new e.wOt(4e3,!1));ue=ue.children[fr]}}applyRedirectCommands(q,ie,W){const ue=this.applyRedirectCreateUrlTree(ie,this.urlSerializer.parse(ie),q,W);if(ie.startsWith("/"))throw new ci(ue);return ue}applyRedirectCreateUrlTree(q,ie,W,ue){const He=this.createSegmentGroup(q,ie.root,W,ue);return new Wo(He,this.createQueryParams(ie.queryParams,this.urlTree.queryParams),ie.fragment)}createQueryParams(q,ie){const W={};return Object.entries(q).forEach(([ue,He])=>{if("string"==typeof He&&He.startsWith(":")){const yn=He.substring(1);W[ue]=ie[yn]}else W[ue]=He}),W}createSegmentGroup(q,ie,W,ue){const He=this.createSegments(q,ie.segments,W,ue);let lt={};return Object.entries(ie.children).forEach(([yn,Zn])=>{lt[yn]=this.createSegmentGroup(q,Zn,W,ue)}),new Wr(He,lt)}createSegments(q,ie,W,ue){return ie.map(He=>He.path.startsWith(":")?this.findPosParam(q,He,ue):this.findOrReturn(He,W))}findPosParam(q,ie,W){const ue=W[ie.path.substring(1)];if(!ue)throw new e.wOt(4001,!1);return ue}findOrReturn(q,ie){let W=0;for(const ue of ie){if(ue.path===q.path)return ie.splice(W),ue;W++}return q}}const sa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gl(L,q,ie,W,ue){const He=vc(L,q,ie);return He.matched?(W=function Wn(L,q){var ie;return L.providers&&!L._injector&&(L._injector=(0,e.Ol2)(L.providers,q,`Route: ${L.path}`)),null!==(ie=L._injector)&&void 0!==ie?ie:q}(q,W),function Wa(L,q,ie,W){const ue=q.canMatch;if(!ue||0===ue.length)return(0,Ze.of)(!0);const He=ue.map(lt=>{const yn=Na(lt,L);return ri(function lo(L){return L&&Ee(L.canMatch)}(yn)?yn.canMatch(q,ie):(0,e.N4e)(L,()=>yn(q,ie)))});return(0,Ze.of)(He).pipe(Ql(),$i())}(W,q,ie).pipe((0,Kt.T)(lt=>!0===lt?He:{...sa}))):(0,Ze.of)(He)}function vc(L,q,ie){var W,ue;if("**"===q.path)return function lc(L){return{matched:!0,parameters:L.length>0?Er(L).parameters:{},consumedSegments:L,remainingSegments:[],positionalParamSegments:{}}}(ie);if(""===q.path)return"full"===q.pathMatch&&(L.hasChildren()||ie.length>0)?{...sa}:{matched:!0,consumedSegments:[],remainingSegments:ie,parameters:{},positionalParamSegments:{}};const lt=(q.matcher||$r)(ie,L,q);if(!lt)return{...sa};const yn={};Object.entries(null!==(W=lt.posParams)&&void 0!==W?W:{}).forEach(([In,oi])=>{yn[In]=oi.path});const Zn=lt.consumed.length>0?{...yn,...lt.consumed[lt.consumed.length-1].parameters}:yn;return{matched:!0,consumedSegments:lt.consumed,remainingSegments:ie.slice(lt.consumed.length),parameters:Zn,positionalParamSegments:null!==(ue=lt.posParams)&&void 0!==ue?ue:{}}}function qa(L,q,ie,W){return ie.length>0&&function Ma(L,q,ie){return ie.some(W=>Ba(L,q,W)&&Cs(W)!==fr)}(L,ie,W)?{segmentGroup:new Wr(q,Gu(W,new Wr(ie,L.children))),slicedSegments:[]}:0===ie.length&&function bs(L,q,ie){return ie.some(W=>Ba(L,q,W))}(L,ie,W)?{segmentGroup:new Wr(L.segments,ol(L,ie,W,L.children)),slicedSegments:ie}:{segmentGroup:new Wr(L.segments,L.children),slicedSegments:ie}}function ol(L,q,ie,W){const ue={};for(const He of ie)if(Ba(L,q,He)&&!W[Cs(He)]){const lt=new Wr([],{});ue[Cs(He)]=lt}return{...W,...ue}}function Gu(L,q){const ie={};ie[fr]=q;for(const W of L)if(""===W.path&&Cs(W)!==fr){const ue=new Wr([],{});ie[Cs(W)]=ue}return ie}function Ba(L,q,ie){return(!(L.hasChildren()||q.length>0)||"full"!==ie.pathMatch)&&""===ie.path}class Kl{}class Us{constructor(q,ie,W,ue,He,lt,yn){this.injector=q,this.configLoader=ie,this.rootComponentType=W,this.config=ue,this.urlTree=He,this.paramsInheritanceStrategy=lt,this.urlSerializer=yn,this.applyRedirects=new rs(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(q){return new e.wOt(4002,`'${q.segmentGroup}'`)}recognize(){const q=qa(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(q).pipe((0,Kt.T)(ie=>{const W=new Zt([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},fr,this.rootComponentType,null,{}),ue=new ts(W,ie),He=new Xn("",ue),lt=function _n(L,q,ie=null,W=null){return Mr(tr(L),q,ie,W)}(W,[],this.urlTree.queryParams,this.urlTree.fragment);return lt.queryParams=this.urlTree.queryParams,He.url=this.urlSerializer.serialize(lt),this.inheritParamsAndData(He._root,null),{state:He,tree:lt}}))}match(q){return this.processSegmentGroup(this.injector,this.config,q,fr).pipe(dr(W=>{if(W instanceof ci)return this.urlTree=W.urlTree,this.match(W.urlTree.root);throw W instanceof ea?this.noMatchError(W):W}))}inheritParamsAndData(q,ie){const W=q.value,ue=rn(W,ie,this.paramsInheritanceStrategy);W.params=Object.freeze(ue.params),W.data=Object.freeze(ue.data),q.children.forEach(He=>this.inheritParamsAndData(He,W))}processSegmentGroup(q,ie,W,ue){return 0===W.segments.length&&W.hasChildren()?this.processChildren(q,ie,W):this.processSegment(q,ie,W,W.segments,ue,!0).pipe((0,Kt.T)(He=>He instanceof ts?[He]:[]))}processChildren(q,ie,W){const ue=[];for(const He of Object.keys(W.children))"primary"===He?ue.unshift(He):ue.push(He);return(0,tt.H)(ue).pipe(sn(He=>{const lt=W.children[He],yn=function vs(L,q){const ie=L.filter(W=>Cs(W)===q);return ie.push(...L.filter(W=>Cs(W)!==q)),ie}(ie,He);return this.processSegmentGroup(q,yn,lt,He)}),function Sr(L,q){return(0,Cn.N)(function bi(L,q,ie,W,ue){return(He,lt)=>{let yn=ie,Zn=q,In=0;He.subscribe((0,Dn._)(lt,oi=>{const to=In++;Zn=yn?L(Zn,oi,to):(yn=!0,oi),W&&lt.next(Zn)},ue&&(()=>{yn&&lt.next(Zn),lt.complete()})))}}(L,q,arguments.length>=2,!0))}((He,lt)=>(He.push(...lt),He)),Fe(null),function Ai(L,q){const ie=arguments.length>=2;return W=>W.pipe(L?(0,we.p)((ue,He)=>L(ue,He,W)):Mt.D,ui(1),ie?Fe(q):Le(()=>new et))}(),(0,vt.Z)(He=>{if(null===He)return Rs(W);const lt=sl(He);return function Fc(L){L.sort((q,ie)=>q.value.outlet===fr?-1:ie.value.outlet===fr?1:q.value.outlet.localeCompare(ie.value.outlet))}(lt),(0,Ze.of)(lt)}))}processSegment(q,ie,W,ue,He,lt){return(0,tt.H)(ie).pipe(sn(yn=>{var Zn;return this.processSegmentAgainstRoute(null!==(Zn=yn._injector)&&void 0!==Zn?Zn:q,ie,yn,W,ue,He,lt).pipe(dr(In=>{if(In instanceof ea)return(0,Ze.of)(null);throw In}))}),bn(yn=>!!yn),dr(yn=>{if(Ka(yn))return function Sl(L,q,ie){return 0===q.length&&!L.children[ie]}(W,ue,He)?(0,Ze.of)(new Kl):Rs(W);throw yn}))}processSegmentAgainstRoute(q,ie,W,ue,He,lt,yn){return function wa(L,q,ie,W){return!!(Cs(L)===W||W!==fr&&Ba(q,ie,L))&&vc(q,L,ie).matched}(W,ue,He,lt)?void 0===W.redirectTo?this.matchSegmentAgainstRoute(q,ue,W,He,lt):this.allowRedirects&&yn?this.expandSegmentAgainstRouteUsingRedirect(q,ue,ie,W,He,lt):Rs(ue):Rs(ue)}expandSegmentAgainstRouteUsingRedirect(q,ie,W,ue,He,lt){const{matched:yn,consumedSegments:Zn,positionalParamSegments:In,remainingSegments:oi}=vc(ie,ue,He);if(!yn)return Rs(ie);ue.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const to=this.applyRedirects.applyRedirectCommands(Zn,ue.redirectTo,In);return this.applyRedirects.lineralizeSegments(ue,to).pipe((0,vt.Z)(Cr=>this.processSegment(q,W,ie,Cr.concat(oi),lt,!1)))}matchSegmentAgainstRoute(q,ie,W,ue,He){const lt=Gl(ie,W,ue,q);return"**"===W.path&&(ie.children={}),lt.pipe((0,Vn.n)(yn=>{var Zn;return yn.matched?(q=null!==(Zn=W._injector)&&void 0!==Zn?Zn:q,this.getChildConfig(q,W,ue).pipe((0,Vn.n)(({routes:In})=>{var oi,to,Cr;const vo=null!==(oi=W._loadedInjector)&&void 0!==oi?oi:q,{consumedSegments:Ss,remainingSegments:Vs,parameters:Ns}=yn,fl=new Zt(Ss,Ns,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function yc(L){return L.data||{}}(W),Cs(W),null!==(to=null!==(Cr=W.component)&&void 0!==Cr?Cr:W._loadedComponent)&&void 0!==to?to:null,W,function Dc(L){return L.resolve||{}}(W)),{segmentGroup:Wc,slicedSegments:uc}=qa(ie,Ss,Vs,In);if(0===uc.length&&Wc.hasChildren())return this.processChildren(vo,In,Wc).pipe((0,Kt.T)(qc=>null===qc?null:new ts(fl,qc)));if(0===In.length&&0===uc.length)return(0,Ze.of)(new ts(fl,[]));const Xu=Cs(W)===He;return this.processSegment(vo,In,Wc,uc,Xu?fr:He,!0).pipe((0,Kt.T)(qc=>new ts(fl,qc instanceof ts?[qc]:[])))}))):Rs(ie)}))}getChildConfig(q,ie,W){return ie.children?(0,Ze.of)({routes:ie.children,injector:q}):ie.loadChildren?void 0!==ie._loadedRoutes?(0,Ze.of)({routes:ie._loadedRoutes,injector:ie._loadedInjector}):function Is(L,q,ie,W){const ue=q.canLoad;if(void 0===ue||0===ue.length)return(0,Ze.of)(!0);const He=ue.map(lt=>{const yn=Na(lt,L);return ri(function cr(L){return L&&Ee(L.canLoad)}(yn)?yn.canLoad(q,ie):(0,e.N4e)(L,()=>yn(q,ie)))});return(0,Ze.of)(He).pipe(Ql(),$i())}(q,ie,W).pipe((0,vt.Z)(ue=>ue?this.configLoader.loadChildren(q,ie).pipe(Rn(He=>{ie._loadedRoutes=He.routes,ie._loadedInjector=He.injector})):function ou(L){return Tn(be(!1,Hi.GuardRejected))}())):(0,Ze.of)({routes:[],injector:q})}}function Xa(L){const q=L.value.routeConfig;return q&&""===q.path}function sl(L){const q=[],ie=new Set;for(const W of L){if(!Xa(W)){q.push(W);continue}const ue=q.find(He=>W.value.routeConfig===He.value.routeConfig);void 0!==ue?(ue.children.push(...W.children),ie.add(ue)):q.push(W)}for(const W of ie){const ue=sl(W.children);q.push(new ts(W.value,ue))}return q.filter(W=>!ie.has(W))}function Ml(L){const q=L.children.map(ie=>Ml(ie)).flat();return[L,...q]}function _e(L){return(0,Vn.n)(q=>{const ie=L(q);return ie?(0,tt.H)(ie).pipe((0,Kt.T)(()=>q)):(0,Ze.of)(q)})}let V=(()=>{var L;class q{buildTitle(W){let ue,He=W.root;for(;void 0!==He;){var lt;ue=null!==(lt=this.getResolvedTitleForRoute(He))&&void 0!==lt?lt:ue,He=He.children.find(yn=>yn.outlet===fr)}return ue}getResolvedTitleForRoute(W){return W.data[Pt]}}return(L=q).\u0275fac=function(W){return new(W||L)},L.\u0275prov=e.jDH({token:L,factory:()=>(0,e.WQX)(ge),providedIn:"root"}),q})(),ge=(()=>{var L;class q extends V{constructor(W){super(),this.title=W}updateTitle(W){const ue=this.buildTitle(W);void 0!==ue&&this.title.setTitle(ue)}}return(L=q).\u0275fac=function(W){return new(W||L)(e.KVO(Wi.hE))},L.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"}),q})();const x=new e.nKC("",{providedIn:"root",factory:()=>({})}),ne=new e.nKC("");let je=(()=>{var L;class q{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,e.WQX)(e.Ql9)}loadComponent(W){if(this.componentLoaders.get(W))return this.componentLoaders.get(W);if(W._loadedComponent)return(0,Ze.of)(W._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(W);const ue=ri(W.loadComponent()).pipe((0,Kt.T)(ut),Rn(lt=>{this.onLoadEndListener&&this.onLoadEndListener(W),W._loadedComponent=lt}),Yi(()=>{this.componentLoaders.delete(W)})),He=new zn(ue,()=>new yr.B).pipe(nt());return this.componentLoaders.set(W,He),He}loadChildren(W,ue){if(this.childrenLoaders.get(ue))return this.childrenLoaders.get(ue);if(ue._loadedRoutes)return(0,Ze.of)({routes:ue._loadedRoutes,injector:ue._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(ue);const lt=function se(L,q,ie,W){return ri(L.loadChildren()).pipe((0,Kt.T)(ut),(0,vt.Z)(ue=>ue instanceof e.Co$||Array.isArray(ue)?(0,Ze.of)(ue):(0,tt.H)(q.compileModuleAsync(ue))),(0,Kt.T)(ue=>{W&&W(L);let He,lt,yn=!1;return Array.isArray(ue)?(lt=ue,!0):(He=ue.create(ie).injector,lt=He.get(ne,[],{optional:!0,self:!0}).flat()),{routes:lt.map(oa),injector:He}}))}(ue,this.compiler,W,this.onLoadEndListener).pipe(Yi(()=>{this.childrenLoaders.delete(ue)})),yn=new zn(lt,()=>new yr.B).pipe(nt());return this.childrenLoaders.set(ue,yn),yn}}return(L=q).\u0275fac=function(W){return new(W||L)},L.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"}),q})();function ut(L){return function Ve(L){return L&&"object"==typeof L&&"default"in L}(L)?L.default:L}let jn=(()=>{var L;class q{}return(L=q).\u0275fac=function(W){return new(W||L)},L.\u0275prov=e.jDH({token:L,factory:()=>(0,e.WQX)(mr),providedIn:"root"}),q})(),mr=(()=>{var L;class q{shouldProcessUrl(W){return!0}extract(W){return W}merge(W,ue){return W}}return(L=q).\u0275fac=function(W){return new(W||L)},L.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"}),q})();const Ui=new e.nKC(""),oo=new e.nKC("");function Fo(L,q,ie){const W=L.get(oo),ue=L.get(xr.qQ);return L.get(e.SKi).runOutsideAngular(()=>{if(!ue.startViewTransition||W.skipNextTransition)return W.skipNextTransition=!1,new Promise(In=>setTimeout(In));let He;const lt=new Promise(In=>{He=In}),yn=ue.startViewTransition(()=>(He(),function Do(L){return new Promise(q=>{(0,e.mal)(q,{injector:L})})}(L))),{onViewTransitionCreated:Zn}=W;return Zn&&(0,e.N4e)(L,()=>Zn({transition:yn,from:q,to:ie})),lt})}let Lo=(()=>{var L;class q{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new yr.B,this.transitionAbortSubject=new yr.B,this.configLoader=(0,e.WQX)(je),this.environmentInjector=(0,e.WQX)(e.uvJ),this.urlSerializer=(0,e.WQX)(Jt),this.rootContexts=(0,e.WQX)(as),this.location=(0,e.WQX)(xr.aZ),this.inputBindingEnabled=null!==(0,e.WQX)(qi,{optional:!0}),this.titleStrategy=(0,e.WQX)(V),this.options=(0,e.WQX)(x,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,e.WQX)(jn),this.createViewTransition=(0,e.WQX)(Ui,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ze.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=He=>this.events.next(new Ra(He)),this.configLoader.onLoadStartListener=He=>this.events.next(new Ds(He))}complete(){var W;null===(W=this.transitions)||void 0===W||W.complete()}handleNavigationRequest(W){var ue;const He=++this.navigationId;null===(ue=this.transitions)||void 0===ue||ue.next({...this.transitions.value,...W,id:He})}setupNavigations(W,ue,He){return this.transitions=new Nt.t({id:0,currentUrlTree:ue,currentRawUrl:ue,extractedUrl:this.urlHandlingStrategy.extract(ue),urlAfterRedirects:this.urlHandlingStrategy.extract(ue),rawUrl:ue,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ri,restoredState:null,currentSnapshot:He.snapshot,targetSnapshot:null,currentRouterState:He,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,we.p)(lt=>0!==lt.id),(0,Kt.T)(lt=>({...lt,extractedUrl:this.urlHandlingStrategy.extract(lt.rawUrl)})),(0,Vn.n)(lt=>{let yn=!1,Zn=!1;return(0,Ze.of)(lt).pipe((0,Vn.n)(In=>{var oi;if(this.navigationId>lt.id)return this.cancelNavigationTransition(lt,"",Hi.SupersededByNewNavigation),bt;this.currentTransition=lt,this.currentNavigation={id:In.id,initialUrl:In.rawUrl,extractedUrl:In.extractedUrl,trigger:In.source,extras:In.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const to=!W.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Cr=null!==(oi=In.extras.onSameUrlNavigation)&&void 0!==oi?oi:W.onSameUrlNavigation;if(!to&&"reload"!==Cr){const vo="";return this.events.next(new $l(In.id,this.urlSerializer.serialize(In.rawUrl),vo,mi.IgnoredSameUrlNavigation)),In.resolve(null),bt}if(this.urlHandlingStrategy.shouldProcessUrl(In.rawUrl))return(0,Ze.of)(In).pipe((0,Vn.n)(vo=>{var Ss,Vs;const Ns=null===(Ss=this.transitions)||void 0===Ss?void 0:Ss.getValue();return this.events.next(new To(vo.id,this.urlSerializer.serialize(vo.extractedUrl),vo.source,vo.restoredState)),Ns!==(null===(Vs=this.transitions)||void 0===Vs?void 0:Vs.getValue())?bt:Promise.resolve(vo)}),function zc(L,q,ie,W,ue,He){return(0,vt.Z)(lt=>function su(L,q,ie,W,ue,He,lt="emptyOnly"){return new Us(L,q,ie,W,ue,lt,He).recognize()}(L,q,ie,W,lt.extractedUrl,ue,He).pipe((0,Kt.T)(({state:yn,tree:Zn})=>({...lt,targetSnapshot:yn,urlAfterRedirects:Zn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,W.config,this.urlSerializer,this.paramsInheritanceStrategy),Rn(vo=>{lt.targetSnapshot=vo.targetSnapshot,lt.urlAfterRedirects=vo.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:vo.urlAfterRedirects};const Ss=new bl(vo.id,this.urlSerializer.serialize(vo.extractedUrl),this.urlSerializer.serialize(vo.urlAfterRedirects),vo.targetSnapshot);this.events.next(Ss)}));if(to&&this.urlHandlingStrategy.shouldProcessUrl(In.currentRawUrl)){const{id:vo,extractedUrl:Ss,source:Vs,restoredState:Ns,extras:fl}=In,Wc=new To(vo,this.urlSerializer.serialize(Ss),Vs,Ns);this.events.next(Wc);const uc=Je(this.rootComponentType).snapshot;return this.currentTransition=lt={...In,targetSnapshot:uc,urlAfterRedirects:Ss,extras:{...fl,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ss,(0,Ze.of)(lt)}{const vo="";return this.events.next(new $l(In.id,this.urlSerializer.serialize(In.extractedUrl),vo,mi.IgnoredByUrlHandlingStrategy)),In.resolve(null),bt}}),Rn(In=>{const oi=new Oa(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects),In.targetSnapshot);this.events.next(oi)}),(0,Kt.T)(In=>(this.currentTransition=lt={...In,guards:Pa(In.targetSnapshot,In.currentSnapshot,this.rootContexts)},lt)),function iu(L,q){return(0,vt.Z)(ie=>{const{targetSnapshot:W,currentSnapshot:ue,guards:{canActivateChecks:He,canDeactivateChecks:lt}}=ie;return 0===lt.length&&0===He.length?(0,Ze.of)({...ie,guardsResult:!0}):function Al(L,q,ie,W){return(0,tt.H)(L).pipe((0,vt.Z)(ue=>function fi(L,q,ie,W,ue){const He=q&&q.routeConfig?q.routeConfig.canDeactivate:null;if(!He||0===He.length)return(0,Ze.of)(!0);const lt=He.map(yn=>{var Zn;const In=null!==(Zn=Zo(q))&&void 0!==Zn?Zn:ue,oi=Na(yn,In);return ri(function La(L){return L&&Ee(L.canDeactivate)}(oi)?oi.canDeactivate(L,q,ie,W):(0,e.N4e)(In,()=>oi(L,q,ie,W))).pipe(bn())});return(0,Ze.of)(lt).pipe(Ql())}(ue.component,ue.route,ie,q,W)),bn(ue=>!0!==ue,!0))}(lt,W,ue,L).pipe((0,vt.Z)(yn=>yn&&function pt(L){return"boolean"==typeof L}(yn)?function mc(L,q,ie,W){return(0,tt.H)(q).pipe(sn(ue=>qt(function Ua(L,q){return null!==L&&q&&q(new zi(L)),(0,Ze.of)(!0)}(ue.route.parent,W),function _a(L,q){return null!==L&&q&&q(new Ga(L)),(0,Ze.of)(!0)}(ue.route,W),function tc(L,q,ie){const W=q[q.length-1],He=q.slice(0,q.length-1).reverse().map(lt=>function _s(L){const q=L.routeConfig?L.routeConfig.canActivateChild:null;return q&&0!==q.length?{node:L,guards:q}:null}(lt)).filter(lt=>null!==lt).map(lt=>Un(()=>{const yn=lt.guards.map(Zn=>{var In;const oi=null!==(In=Zo(lt.node))&&void 0!==In?In:ie,to=Na(Zn,oi);return ri(function ki(L){return L&&Ee(L.canActivateChild)}(to)?to.canActivateChild(W,L):(0,e.N4e)(oi,()=>to(W,L))).pipe(bn())});return(0,Ze.of)(yn).pipe(Ql())}));return(0,Ze.of)(He).pipe(Ql())}(L,ue.path,ie),function Nl(L,q,ie){const W=q.routeConfig?q.routeConfig.canActivate:null;if(!W||0===W.length)return(0,Ze.of)(!0);const ue=W.map(He=>Un(()=>{var lt;const yn=null!==(lt=Zo(q))&&void 0!==lt?lt:ie,Zn=Na(He,yn);return ri(function Bi(L){return L&&Ee(L.canActivate)}(Zn)?Zn.canActivate(q,L):(0,e.N4e)(yn,()=>Zn(q,L))).pipe(bn())}));return(0,Ze.of)(ue).pipe(Ql())}(L,ue.route,ie))),bn(ue=>!0!==ue,!0))}(W,He,L,q):(0,Ze.of)(yn)),(0,Kt.T)(yn=>({...ie,guardsResult:yn})))})}(this.environmentInjector,In=>this.events.next(In)),Rn(In=>{if(lt.guardsResult=In.guardsResult,Nn(In.guardsResult))throw Ne(0,In.guardsResult);const oi=new Bo(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects),In.targetSnapshot,!!In.guardsResult);this.events.next(oi)}),(0,we.p)(In=>!!In.guardsResult||(this.cancelNavigationTransition(In,"",Hi.GuardRejected),!1)),_e(In=>{if(In.guards.canActivateChecks.length)return(0,Ze.of)(In).pipe(Rn(oi=>{const to=new ra(oi.id,this.urlSerializer.serialize(oi.extractedUrl),this.urlSerializer.serialize(oi.urlAfterRedirects),oi.targetSnapshot);this.events.next(to)}),(0,Vn.n)(oi=>{let to=!1;return(0,Ze.of)(oi).pipe(function Va(L,q){return(0,vt.Z)(ie=>{const{targetSnapshot:W,guards:{canActivateChecks:ue}}=ie;if(!ue.length)return(0,Ze.of)(ie);const He=new Set(ue.map(Zn=>Zn.route)),lt=new Set;for(const Zn of He)if(!lt.has(Zn))for(const In of Ml(Zn))lt.add(In);let yn=0;return(0,tt.H)(lt).pipe(sn(Zn=>He.has(Zn)?function au(L,q,ie,W){const ue=L.routeConfig,He=L._resolve;return void 0!==(null==ue?void 0:ue.title)&&!_r(ue)&&(He[Pt]=ue.title),function j(L,q,ie,W){const ue=di(L);if(0===ue.length)return(0,Ze.of)({});const He={};return(0,tt.H)(ue).pipe((0,vt.Z)(lt=>function J(L,q,ie,W){var ue;const He=null!==(ue=Zo(q))&&void 0!==ue?ue:W,lt=Na(L,He);return ri(lt.resolve?lt.resolve(q,ie):(0,e.N4e)(He,()=>lt(q,ie)))}(L[lt],q,ie,W).pipe(bn(),Rn(yn=>{He[lt]=yn}))),ui(1),function Yn(L){return(0,Kt.T)(()=>L)}(He),dr(lt=>Ka(lt)?bt:Tn(lt)))}(He,L,q,W).pipe((0,Kt.T)(lt=>(L._resolvedData=lt,L.data=rn(L,L.parent,ie).resolve,null)))}(Zn,W,L,q):(Zn.data=rn(Zn,Zn.parent,L).resolve,(0,Ze.of)(void 0))),Rn(()=>yn++),ui(1),(0,vt.Z)(Zn=>yn===lt.size?(0,Ze.of)(ie):bt))})}(this.paramsInheritanceStrategy,this.environmentInjector),Rn({next:()=>to=!0,complete:()=>{to||this.cancelNavigationTransition(oi,"",Hi.NoDataFromResolver)}}))}),Rn(oi=>{const to=new Jn(oi.id,this.urlSerializer.serialize(oi.extractedUrl),this.urlSerializer.serialize(oi.urlAfterRedirects),oi.targetSnapshot);this.events.next(to)}))}),_e(In=>{const oi=to=>{var Cr;const vo=[];null!==(Cr=to.routeConfig)&&void 0!==Cr&&Cr.loadComponent&&!to.routeConfig._loadedComponent&&vo.push(this.configLoader.loadComponent(to.routeConfig).pipe(Rn(Ss=>{to.component=Ss}),(0,Kt.T)(()=>{})));for(const Ss of to.children)vo.push(...oi(Ss));return vo};return(0,Ut.z)(oi(In.targetSnapshot.root)).pipe(Fe(null),kn(1))}),_e(()=>this.afterPreactivation()),(0,Vn.n)(()=>{var In;const{currentSnapshot:oi,targetSnapshot:to}=lt,Cr=null===(In=this.createViewTransition)||void 0===In?void 0:In.call(this,this.environmentInjector,oi.root,to.root);return Cr?(0,tt.H)(Cr).pipe((0,Kt.T)(()=>lt)):(0,Ze.of)(lt)}),(0,Kt.T)(In=>{const oi=function Xi(L,q,ie){const W=Qo(L,q._root,ie?ie._root:void 0);return new Te(W,q)}(W.routeReuseStrategy,In.targetSnapshot,In.currentRouterState);return this.currentTransition=lt={...In,targetRouterState:oi},this.currentNavigation.targetRouterState=oi,lt}),Rn(()=>{this.events.next(new ms)}),((L,q,ie,W)=>(0,Kt.T)(ue=>(new xs(q,ue.targetRouterState,ue.currentRouterState,ie,W).activate(L),ue)))(this.rootContexts,W.routeReuseStrategy,In=>this.events.next(In),this.inputBindingEnabled),kn(1),Rn({next:In=>{var oi;yn=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Os(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects))),null===(oi=this.titleStrategy)||void 0===oi||oi.updateTitle(In.targetRouterState.snapshot),In.resolve(!0)},complete:()=>{yn=!0}}),function Di(L){return(0,Cn.N)((q,ie)=>{(0,tn.Tg)(L).subscribe((0,Dn._)(ie,()=>ie.complete(),kr.l)),!ie.closed&&q.subscribe(ie)})}(this.transitionAbortSubject.pipe(Rn(In=>{throw In}))),Yi(()=>{var In;!yn&&!Zn&&this.cancelNavigationTransition(lt,"",Hi.SupersededByNewNavigation),(null===(In=this.currentTransition)||void 0===In?void 0:In.id)===lt.id&&(this.currentNavigation=null,this.currentTransition=null)}),dr(In=>{if(Zn=!0,Qt(In))this.events.next(new yo(lt.id,this.urlSerializer.serialize(lt.extractedUrl),In.message,In.cancellationCode)),function _t(L){return Qt(L)&&Nn(L.url)}(In)?this.events.next(new qo(In.url)):lt.resolve(!1);else{var oi;this.events.next(new Io(lt.id,this.urlSerializer.serialize(lt.extractedUrl),In,null!==(oi=lt.targetSnapshot)&&void 0!==oi?oi:void 0));try{lt.resolve(W.errorHandler(In))}catch(to){this.options.resolveNavigationPromiseOnError?lt.resolve(!1):lt.reject(to)}}return bt}))}))}cancelNavigationTransition(W,ue,He){const lt=new yo(W.id,this.urlSerializer.serialize(W.extractedUrl),ue,He);this.events.next(lt),W.resolve(!1)}isUpdatingInternalState(){var W,ue;return(null===(W=this.currentTransition)||void 0===W?void 0:W.extractedUrl.toString())!==(null===(ue=this.currentTransition)||void 0===ue?void 0:ue.currentUrlTree.toString())}isUpdatedBrowserUrl(){var W,ue;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(W=this.currentTransition)||void 0===W?void 0:W.extractedUrl.toString())&&!(null!==(ue=this.currentTransition)&&void 0!==ue&&ue.extras.skipLocationChange)}}return(L=q).\u0275fac=function(W){return new(W||L)},L.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"}),q})();function Go(L){return L!==Ri}let Ks=(()=>{var L;class q{}return(L=q).\u0275fac=function(W){return new(W||L)},L.\u0275prov=e.jDH({token:L,factory:()=>(0,e.WQX)(Br),providedIn:"root"}),q})();class es{shouldDetach(q){return!1}store(q,ie){}shouldAttach(q){return!1}retrieve(q){return null}shouldReuseRoute(q,ie){return q.routeConfig===ie.routeConfig}}let Br=(()=>{var L;class q extends es{}return(L=q).\u0275fac=(()=>{let ie;return function(ue){return(ie||(ie=e.xGo(L)))(ue||L)}})(),L.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"}),q})(),wi=(()=>{var L;class q{}return(L=q).\u0275fac=function(W){return new(W||L)},L.\u0275prov=e.jDH({token:L,factory:()=>(0,e.WQX)(is),providedIn:"root"}),q})(),is=(()=>{var L;class q extends wi{constructor(){super(...arguments),this.location=(0,e.WQX)(xr.aZ),this.urlSerializer=(0,e.WQX)(Jt),this.options=(0,e.WQX)(x,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,e.WQX)(jn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Wo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Je(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var W,ue;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(W=null===(ue=this.restoredState())||void 0===ue?void 0:ue.\u0275routerPageId)&&void 0!==W?W:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(W){return this.location.subscribe(ue=>{"popstate"===ue.type&&W(ue.url,ue.state)})}handleRouterEvent(W,ue){if(W instanceof To)this.stateMemento=this.createStateMemento();else if(W instanceof $l)this.rawUrlTree=ue.initialUrl;else if(W instanceof bl){if("eager"===this.urlUpdateStrategy&&!ue.extras.skipLocationChange){const He=this.urlHandlingStrategy.merge(ue.finalUrl,ue.initialUrl);this.setBrowserUrl(He,ue)}}else W instanceof ms?(this.currentUrlTree=ue.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(ue.finalUrl,ue.initialUrl),this.routerState=ue.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ue.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ue))):W instanceof yo&&(W.code===Hi.GuardRejected||W.code===Hi.NoDataFromResolver)?this.restoreHistory(ue):W instanceof Io?this.restoreHistory(ue,!0):W instanceof Os&&(this.lastSuccessfulId=W.id,this.currentPageId=this.browserPageId)}setBrowserUrl(W,ue){const He=this.urlSerializer.serialize(W);if(this.location.isCurrentPathEqualTo(He)||ue.extras.replaceUrl){const yn={...ue.extras.state,...this.generateNgRouterState(ue.id,this.browserPageId)};this.location.replaceState(He,"",yn)}else{const lt={...ue.extras.state,...this.generateNgRouterState(ue.id,this.browserPageId+1)};this.location.go(He,"",lt)}}restoreHistory(W,ue=!1){if("computed"===this.canceledNavigationResolution){const lt=this.currentPageId-this.browserPageId;0!==lt?this.location.historyGo(lt):this.currentUrlTree===W.finalUrl&&0===lt&&(this.resetState(W),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(ue&&this.resetState(W),this.resetUrlToCurrentUrlTree())}resetState(W){var ue;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(ue=W.finalUrl)&&void 0!==ue?ue:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(W,ue){return"computed"===this.canceledNavigationResolution?{navigationId:W,\u0275routerPageId:ue}:{navigationId:W}}}return(L=q).\u0275fac=(()=>{let ie;return function(ue){return(ie||(ie=e.xGo(L)))(ue||L)}})(),L.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"}),q})();var da=function(L){return L[L.COMPLETE=0]="COMPLETE",L[L.FAILED=1]="FAILED",L[L.REDIRECTING=2]="REDIRECTING",L}(da||{});function ls(L,q){L.events.pipe((0,we.p)(ie=>ie instanceof Os||ie instanceof yo||ie instanceof Io||ie instanceof $l),(0,Kt.T)(ie=>ie instanceof Os||ie instanceof $l?da.COMPLETE:ie instanceof yo&&(ie.code===Hi.Redirect||ie.code===Hi.SupersededByNewNavigation)?da.REDIRECTING:da.FAILED),(0,we.p)(ie=>ie!==da.REDIRECTING),kn(1)).subscribe(()=>{q()})}function dl(L){throw L}const lu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ds={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xo=(()=>{var L;class q{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var W,ue;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,e.WQX)(e.H3F),this.stateManager=(0,e.WQX)(wi),this.options=(0,e.WQX)(x,{optional:!0})||{},this.pendingTasks=(0,e.WQX)(e.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,e.WQX)(Lo),this.urlSerializer=(0,e.WQX)(Jt),this.location=(0,e.WQX)(xr.aZ),this.urlHandlingStrategy=(0,e.WQX)(jn),this._events=new yr.B,this.errorHandler=this.options.errorHandler||dl,this.navigated=!1,this.routeReuseStrategy=(0,e.WQX)(Ks),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(W=null===(ue=(0,e.WQX)(ne,{optional:!0}))||void 0===ue?void 0:ue.flat())&&void 0!==W?W:[],this.componentInputBindingEnabled=!!(0,e.WQX)(qi,{optional:!0}),this.eventsSubscription=new Yt.yU,this.isNgZoneEnabled=(0,e.WQX)(e.SKi)instanceof e.SKi&&e.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:He=>{this.console.warn(He)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const W=this.navigationTransitions.events.subscribe(ue=>{try{const He=this.navigationTransitions.currentTransition,lt=this.navigationTransitions.currentNavigation;if(null!==He&&null!==lt)if(this.stateManager.handleRouterEvent(ue,lt),ue instanceof yo&&ue.code!==Hi.Redirect&&ue.code!==Hi.SupersededByNewNavigation)this.navigated=!0;else if(ue instanceof Os)this.navigated=!0;else if(ue instanceof qo){const yn=this.urlHandlingStrategy.merge(ue.url,He.currentRawUrl),Zn={info:He.extras.info,skipLocationChange:He.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Go(He.source)};this.scheduleNavigation(yn,Ri,null,Zn,{resolve:He.resolve,reject:He.reject,promise:He.promise})}(function wo(L){return!(L instanceof ms||L instanceof qo)})(ue)&&this._events.next(ue)}catch(He){this.navigationTransitions.transitionAbortSubject.next(He)}});this.eventsSubscription.add(W)}resetRootComponentType(W){this.routerState.root.component=W,this.navigationTransitions.rootComponentType=W}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ri,this.stateManager.restoredState())}setUpLocationChangeListener(){var W;null!==(W=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==W||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((ue,He)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(ue,"popstate",He)},0)}))}navigateToSyncWithBrowser(W,ue,He){const lt={replaceUrl:!0},yn=null!=He&&He.navigationId?He:null;if(He){const In={...He};delete In.navigationId,delete In.\u0275routerPageId,0!==Object.keys(In).length&&(lt.state=In)}const Zn=this.parseUrl(W);this.scheduleNavigation(Zn,ue,yn,lt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(W){this.config=W.map(oa),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(W,ue={}){const{relativeTo:He,queryParams:lt,fragment:yn,queryParamsHandling:Zn,preserveFragment:In}=ue,oi=In?this.currentUrlTree.fragment:yn;let Cr,to=null;switch(Zn){case"merge":to={...this.currentUrlTree.queryParams,...lt};break;case"preserve":to=this.currentUrlTree.queryParams;break;default:to=lt||null}null!==to&&(to=this.removeEmptyProps(to));try{Cr=tr(He?He.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof W[0]||!W[0].startsWith("/"))&&(W=[]),Cr=this.currentUrlTree.root}return Mr(Cr,W,to,null!=oi?oi:null)}navigateByUrl(W,ue={skipLocationChange:!1}){const He=Nn(W)?W:this.parseUrl(W),lt=this.urlHandlingStrategy.merge(He,this.rawUrlTree);return this.scheduleNavigation(lt,Ri,null,ue)}navigate(W,ue={skipLocationChange:!1}){return function Ea(L){for(let q=0;q<L.length;q++)if(null==L[q])throw new e.wOt(4008,!1)}(W),this.navigateByUrl(this.createUrlTree(W,ue),ue)}serializeUrl(W){return this.urlSerializer.serialize(W)}parseUrl(W){try{return this.urlSerializer.parse(W)}catch{return this.urlSerializer.parse("/")}}isActive(W,ue){let He;if(He=!0===ue?{...lu}:!1===ue?{...ds}:ue,Nn(W))return _o(this.currentUrlTree,W,He);const lt=this.parseUrl(W);return _o(this.currentUrlTree,lt,He)}removeEmptyProps(W){return Object.entries(W).reduce((ue,[He,lt])=>(null!=lt&&(ue[He]=lt),ue),{})}scheduleNavigation(W,ue,He,lt,yn){if(this.disposed)return Promise.resolve(!1);let Zn,In,oi;yn?(Zn=yn.resolve,In=yn.reject,oi=yn.promise):oi=new Promise((Cr,vo)=>{Zn=Cr,In=vo});const to=this.pendingTasks.add();return ls(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(to))}),this.navigationTransitions.handleNavigationRequest({source:ue,restoredState:He,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:W,extras:lt,resolve:Zn,reject:In,promise:oi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),oi.catch(Cr=>Promise.reject(Cr))}}return(L=q).\u0275fac=function(W){return new(W||L)},L.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"}),q})(),_u=(()=>{var L;class q{constructor(W,ue,He,lt,yn,Zn){var In;this.router=W,this.route=ue,this.tabIndexAttribute=He,this.renderer=lt,this.el=yn,this.locationStrategy=Zn,this.href=null,this.commands=null,this.onChanges=new yr.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const oi=null===(In=yn.nativeElement.tagName)||void 0===In?void 0:In.toLowerCase();this.isAnchorElement="a"===oi||"area"===oi,this.isAnchorElement?this.subscription=W.events.subscribe(to=>{to instanceof Os&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(W){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",W)}ngOnChanges(W){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(W){null!=W?(this.commands=Array.isArray(W)?W:[W],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(W,ue,He,lt,yn){const Zn=this.urlTree;return!!(null===Zn||this.isAnchorElement&&(0!==W||ue||He||lt||yn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Zn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var W;null===(W=this.subscription)||void 0===W||W.unsubscribe()}updateHref(){var W;const ue=this.urlTree;this.href=null!==ue&&this.locationStrategy?null===(W=this.locationStrategy)||void 0===W?void 0:W.prepareExternalUrl(this.router.serializeUrl(ue)):null;const He=null===this.href?null:(0,e.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",He)}applyAttributeValue(W,ue){const He=this.renderer,lt=this.el.nativeElement;null!==ue?He.setAttribute(lt,W,ue):He.removeAttribute(lt,W)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(L=q).\u0275fac=function(W){return new(W||L)(e.rXU(xo),e.rXU(Tt),e.kS0("tabindex"),e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(xr.hb))},L.\u0275dir=e.FsC({type:L,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(W,ue){1&W&&e.bIt("click",function(lt){return ue.onClick(lt.button,lt.ctrlKey,lt.shiftKey,lt.altKey,lt.metaKey)}),2&W&&e.BMQ("target",ue.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[e.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",e.L39],skipLocationChange:[e.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",e.L39],replaceUrl:[e.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",e.L39],routerLink:"routerLink"},standalone:!0,features:[e.GFd,e.OA$]}),q})();class Fa{}let $c=(()=>{var L;class q{preload(W,ue){return ue().pipe(dr(()=>(0,Ze.of)(null)))}}return(L=q).\u0275fac=function(W){return new(W||L)},L.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"}),q})(),xc=(()=>{var L;class q{constructor(W,ue,He,lt,yn){this.router=W,this.injector=He,this.preloadingStrategy=lt,this.loader=yn}setUpPreloading(){this.subscription=this.router.events.pipe((0,we.p)(W=>W instanceof Os),sn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(W,ue){const He=[];for(const In of ue){var lt,yn;In.providers&&!In._injector&&(In._injector=(0,e.Ol2)(In.providers,W,`Route: ${In.path}`));const oi=null!==(lt=In._injector)&&void 0!==lt?lt:W,to=null!==(yn=In._loadedInjector)&&void 0!==yn?yn:oi;var Zn;(In.loadChildren&&!In._loadedRoutes&&void 0===In.canLoad||In.loadComponent&&!In._loadedComponent)&&He.push(this.preloadConfig(oi,In)),(In.children||In._loadedRoutes)&&He.push(this.processRoutes(to,null!==(Zn=In.children)&&void 0!==Zn?Zn:In._loadedRoutes))}return(0,tt.H)(He).pipe(Ft())}preloadConfig(W,ue){return this.preloadingStrategy.preload(ue,()=>{let He;He=ue.loadChildren&&void 0===ue.canLoad?this.loader.loadChildren(W,ue):(0,Ze.of)(null);const lt=He.pipe((0,vt.Z)(yn=>{var Zn;return null===yn?(0,Ze.of)(void 0):(ue._loadedRoutes=yn.routes,ue._loadedInjector=yn.injector,this.processRoutes(null!==(Zn=yn.injector)&&void 0!==Zn?Zn:W,yn.routes))}));if(ue.loadComponent&&!ue._loadedComponent){const yn=this.loader.loadComponent(ue);return(0,tt.H)([lt,yn]).pipe(Ft())}return lt})}}return(L=q).\u0275fac=function(W){return new(W||L)(e.KVO(xo),e.KVO(e.Ql9),e.KVO(e.uvJ),e.KVO(Fa),e.KVO(je))},L.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"}),q})();const uu=new e.nKC("");let lA=(()=>{var L;class q{constructor(W,ue,He,lt,yn={}){this.urlSerializer=W,this.transitions=ue,this.viewportScroller=He,this.zone=lt,this.options=yn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,e.WQX)(e.uvJ),yn.scrollPositionRestoration||(yn.scrollPositionRestoration="disabled"),yn.anchorScrolling||(yn.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(W=>{W instanceof To?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=W.navigationTrigger,this.restoredId=W.restoredState?W.restoredState.navigationId:0):W instanceof Os?(this.lastId=W.id,this.scheduleScrollEvent(W,this.urlSerializer.parse(W.urlAfterRedirects).fragment)):W instanceof $l&&W.code===mi.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(W,this.urlSerializer.parse(W.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(W=>{W instanceof ia&&(W.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(W.position):W.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(W.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(W,ue){var He=this;this.zone.runOutsideAngular((0,w.A)(function*(){yield new Promise(lt=>{setTimeout(()=>{lt()}),(0,e.mal)(()=>{lt()},{injector:He.environmentInjector})}),He.zone.run(()=>{He.transitions.events.next(new ia(W,"popstate"===He.lastSource?He.store[He.restoredId]:null,ue))})}))}ngOnDestroy(){var W,ue;null===(W=this.routerEventsSubscription)||void 0===W||W.unsubscribe(),null===(ue=this.scrollEventsSubscription)||void 0===ue||ue.unsubscribe()}}return(L=q).\u0275fac=function(W){e.QTQ()},L.\u0275prov=e.jDH({token:L,factory:L.\u0275fac}),q})();function Wl(L,q){return{\u0275kind:L,\u0275providers:q}}function OA(){const L=(0,e.WQX)(e.zZn);return q=>{var ie,W;const ue=L.get(e.o8S);if(q!==ue.components[0])return;const He=L.get(xo),lt=L.get(fa);1===L.get(aa)&&He.initialNavigation(),null===(ie=L.get(md,null,e.$GK.Optional))||void 0===ie||ie.setUpPreloading(),null===(W=L.get(uu,null,e.$GK.Optional))||void 0===W||W.init(),He.resetRootComponentType(ue.componentTypes[0]),lt.closed||(lt.next(),lt.complete(),lt.unsubscribe())}}const fa=new e.nKC("",{factory:()=>new yr.B}),aa=new e.nKC("",{providedIn:"root",factory:()=>1}),md=new e.nKC("");function yu(L){return Wl(0,[{provide:md,useExisting:xc},{provide:Fa,useExisting:L}])}function Au(L){return Wl(9,[{provide:Ui,useValue:Fo},{provide:oo,useValue:{skipNextTransition:!(null==L||!L.skipInitialTransition),...L}}])}const vh=new e.nKC("ROUTER_FORROOT_GUARD"),Eu=[xr.aZ,{provide:Jt,useClass:jt},xo,as,{provide:Tt,useFactory:function Tl(L){return L.routerState.root},deps:[xo]},je,[]];let cc=(()=>{var L;class q{constructor(W){}static forRoot(W,ue){return{ngModule:q,providers:[Eu,[],{provide:ne,multi:!0,useValue:W},{provide:vh,useFactory:Rc,deps:[[xo,new e.Xx1,new e.kdw]]},{provide:x,useValue:ue||{}},null!=ue&&ue.useHash?{provide:xr.hb,useClass:xr.fw}:{provide:xr.hb,useClass:xr.Sm},{provide:uu,useFactory:()=>{const L=(0,e.WQX)(xr.Xr),q=(0,e.WQX)(e.SKi),ie=(0,e.WQX)(x),W=(0,e.WQX)(Lo),ue=(0,e.WQX)(Jt);return ie.scrollOffset&&L.setOffset(ie.scrollOffset),new lA(ue,W,L,q,ie)}},null!=ue&&ue.preloadingStrategy?yu(ue.preloadingStrategy).\u0275providers:[],null!=ue&&ue.initialNavigation?yh(ue):[],null!=ue&&ue.bindToComponentInputs?Wl(8,[Ko,{provide:qi,useExisting:Ko}]).\u0275providers:[],null!=ue&&ue.enableViewTransitions?Au().\u0275providers:[],[{provide:uA,useFactory:OA},{provide:e.iLQ,multi:!0,useExisting:uA}]]}}static forChild(W){return{ngModule:q,providers:[{provide:ne,multi:!0,useValue:W}]}}}return(L=q).\u0275fac=function(W){return new(W||L)(e.KVO(vh,8))},L.\u0275mod=e.$C({type:L}),L.\u0275inj=e.G2t({}),q})();function Rc(L){return"guarded"}function yh(L){return["disabled"===L.initialNavigation?Wl(3,[{provide:e.hnV,multi:!0,useFactory:()=>{const q=(0,e.WQX)(xo);return()=>{q.setUpLocationChangeListener()}}},{provide:aa,useValue:2}]).\u0275providers:[],"enabledBlocking"===L.initialNavigation?Wl(2,[{provide:aa,useValue:0},{provide:e.hnV,multi:!0,deps:[e.zZn],useFactory:q=>{const ie=q.get(xr.hj,Promise.resolve());return()=>ie.then(()=>new Promise(W=>{const ue=q.get(xo),He=q.get(fa);ls(ue,()=>{W(!0)}),q.get(Lo).afterPreactivation=()=>(W(!0),He.closed?(0,Ze.of)(void 0):He),ue.initialNavigation()}))}}]).\u0275providers:[]]}const uA=new e.nKC("")},3345:(Kr,dn,Be)=>{"use strict";Be.d(dn,{A:()=>An});var w=Be(1076),e=Be(1362),wt=Be(7852),ot=Be(8041);class Z{constructor(qt,tn){this._delegate=qt,this.firebase=tn,(0,wt._addComponent)(qt,new e.uA("app-compat",()=>this,"PUBLIC")),this.container=qt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qt){this._delegate.automaticDataCollectionEnabled=qt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qt=>{this._delegate.checkDestroyed(),qt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,wt.deleteApp)(this._delegate)))}_getService(qt,tn=wt._DEFAULT_ENTRY_NAME){var Un;this._delegate.checkDestroyed();const gn=this._delegate.container.getProvider(qt);return!gn.isInitialized()&&"EXPLICIT"===(null===(Un=gn.getComponent())||void 0===Un?void 0:Un.instantiationMode)&&gn.initialize(),gn.getImmediate({identifier:tn})}_removeServiceInstance(qt,tn=wt._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qt).clearInstance(tn)}_addComponent(qt){(0,wt._addComponent)(this._delegate,qt)}_addOrOverwriteComponent(qt){(0,wt._addOrOverwriteComponent)(this._delegate,qt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ze=new w.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ct=function Ut(){const mn=function Nt(mn){const qt={},tn={__esModule:!0,initializeApp:function Tn(Yt,Cn={}){const Dn=wt.initializeApp(Yt,Cn);if((0,w.gR)(qt,Dn.name))return qt[Dn.name];const nt=new mn(Dn,tn);return qt[Dn.name]=nt,nt},app:gn,registerVersion:wt.registerVersion,setLogLevel:wt.setLogLevel,onLog:wt.onLog,apps:null,SDK_VERSION:wt.SDK_VERSION,INTERNAL:{registerComponent:function Vt(Yt){const Cn=Yt.name,Dn=Cn.replace("-compat","");if(wt._registerComponent(Yt)&&"PUBLIC"===Yt.type){const nt=(zn=gn())=>{if("function"!=typeof zn[Dn])throw Ze.create("invalid-app-argument",{appName:Cn});return zn[Dn]()};void 0!==Yt.serviceProps&&(0,w.zw)(nt,Yt.serviceProps),tn[Dn]=nt,mn.prototype[Dn]=function(...zn){return this._getService.bind(this,Cn).apply(this,Yt.multipleInstances?zn:[])}}return"PUBLIC"===Yt.type?tn[Dn]:null},removeApp:function Un(Yt){delete qt[Yt]},useAsService:function wn(Yt,Cn){return"serverAuth"===Cn?null:Cn},modularAPIs:wt}};function gn(Yt){if(!(0,w.gR)(qt,Yt=Yt||wt._DEFAULT_ENTRY_NAME))throw Ze.create("no-app",{appName:Yt});return qt[Yt]}return tn.default=tn,Object.defineProperty(tn,"apps",{get:function bt(){return Object.keys(qt).map(Yt=>qt[Yt])}}),gn.App=mn,tn}(Z);return mn.INTERNAL=Object.assign(Object.assign({},mn.INTERNAL),{createFirebaseNamespace:Ut,extendNamespace:function qt(tn){(0,w.zw)(mn,tn)},createSubscribe:w.tD,ErrorFactory:w.FA,deepExtend:w.zw}),mn}(),et=new ot.Vy("@firebase/app-compat");if((0,w.Bd)()&&void 0!==self.firebase){et.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const mn=self.firebase.SDK_VERSION;mn&&mn.indexOf("LITE")>=0&&et.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const An=Ct;!function Ft(mn){(0,wt.registerVersion)("@firebase/app-compat","0.2.35",mn)}()},7852:(Kr,dn,Be)=>{"use strict";Be.r(dn),Be.d(dn,{FirebaseError:()=>ot.g,SDK_VERSION:()=>Vo,_DEFAULT_ENTRY_NAME:()=>di,_addComponent:()=>uo,_addOrOverwriteComponent:()=>_o,_apps:()=>Er,_clearComponents:()=>Qi,_components:()=>eo,_getProvider:()=>Mo,_isFirebaseApp:()=>ko,_isFirebaseServerApp:()=>xi,_registerComponent:()=>Ro,_removeServiceInstance:()=>Zr,_serverApps:()=>ri,deleteApp:()=>Wt,getApp:()=>jt,getApps:()=>Bn,initializeApp:()=>ps,initializeServerApp:()=>Jt,onLog:()=>St,registerVersion:()=>rt,setLogLevel:()=>Fn});var w=Be(467),e=Be(1362),wt=Be(8041),ot=Be(1076);const Z=(Nn,_n)=>_n.some(tr=>Nn instanceof tr);let tt,Ze;const Ct=new WeakMap,et=new WeakMap,vt=new WeakMap,Mt=new WeakMap,Ft=new WeakMap;let qt={get(Nn,_n,tr){if(Nn instanceof IDBTransaction){if("done"===_n)return et.get(Nn);if("objectStoreNames"===_n)return Nn.objectStoreNames||vt.get(Nn);if("store"===_n)return tr.objectStoreNames[1]?void 0:tr.objectStore(tr.objectStoreNames[0])}return Tn(Nn[_n])},set:(Nn,_n,tr)=>(Nn[_n]=tr,!0),has:(Nn,_n)=>Nn instanceof IDBTransaction&&("done"===_n||"store"===_n)||_n in Nn};function gn(Nn){return"function"==typeof Nn?function Un(Nn){return Nn!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ut(){return Ze||(Ze=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Nn)?function(..._n){return Nn.apply(bt(this),_n),Tn(Ct.get(this))}:function(..._n){return Tn(Nn.apply(bt(this),_n))}:function(_n,...tr){const Mr=Nn.call(bt(this),_n,...tr);return vt.set(Mr,_n.sort?_n.sort():[_n]),Tn(Mr)}}(Nn):(Nn instanceof IDBTransaction&&function mn(Nn){if(et.has(Nn))return;const _n=new Promise((tr,Mr)=>{const Mi=()=>{Nn.removeEventListener("complete",pn),Nn.removeEventListener("error",pr),Nn.removeEventListener("abort",pr)},pn=()=>{tr(),Mi()},pr=()=>{Mr(Nn.error||new DOMException("AbortError","AbortError")),Mi()};Nn.addEventListener("complete",pn),Nn.addEventListener("error",pr),Nn.addEventListener("abort",pr)});et.set(Nn,_n)}(Nn),Z(Nn,function Nt(){return tt||(tt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Nn,qt):Nn)}function Tn(Nn){if(Nn instanceof IDBRequest)return function An(Nn){const _n=new Promise((tr,Mr)=>{const Mi=()=>{Nn.removeEventListener("success",pn),Nn.removeEventListener("error",pr)},pn=()=>{tr(Tn(Nn.result)),Mi()},pr=()=>{Mr(Nn.error),Mi()};Nn.addEventListener("success",pn),Nn.addEventListener("error",pr)});return _n.then(tr=>{tr instanceof IDBCursor&&Ct.set(tr,Nn)}).catch(()=>{}),Ft.set(_n,Nn),_n}(Nn);if(Mt.has(Nn))return Mt.get(Nn);const _n=gn(Nn);return _n!==Nn&&(Mt.set(Nn,_n),Ft.set(_n,Nn)),_n}const bt=Nn=>Ft.get(Nn),Yt=["get","getKey","getAll","getAllKeys","count"],Cn=["put","add","delete","clear"],Dn=new Map;function nt(Nn,_n){if(!(Nn instanceof IDBDatabase)||_n in Nn||"string"!=typeof _n)return;if(Dn.get(_n))return Dn.get(_n);const tr=_n.replace(/FromIndex$/,""),Mr=_n!==tr,Mi=Cn.includes(tr);if(!(tr in(Mr?IDBIndex:IDBObjectStore).prototype)||!Mi&&!Yt.includes(tr))return;const pn=function(){var pr=(0,w.A)(function*(Xr,...Dr){const ho=this.transaction(Xr,Mi?"readwrite":"readonly");let Yo=ho.store;return Mr&&(Yo=Yo.index(Dr.shift())),(yield Promise.all([Yo[tr](...Dr),Mi&&ho.done]))[0]});return function(Dr){return pr.apply(this,arguments)}}();return Dn.set(_n,pn),pn}!function tn(Nn){qt=Nn(qt)}(Nn=>({...Nn,get:(_n,tr,Mr)=>nt(_n,tr)||Nn.get(_n,tr,Mr),has:(_n,tr)=>!!nt(_n,tr)||Nn.has(_n,tr)}));class zn{constructor(_n){this.container=_n}getPlatformInfoString(){return this.container.getProviders().map(tr=>{if(function yr(Nn){const _n=Nn.getComponent();return"VERSION"===(null==_n?void 0:_n.type)}(tr)){const Mr=tr.getImmediate();return`${Mr.library}/${Mr.version}`}return null}).filter(tr=>tr).join(" ")}}const xr="@firebase/app",Kt="0.10.5",Vn=new wt.Vy("@firebase/app"),di="[DEFAULT]",Hr={[xr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Er=new Map,ri=new Map,eo=new Map;function uo(Nn,_n){try{Nn.container.addComponent(_n)}catch(tr){Vn.debug(`Component ${_n.name} failed to register with FirebaseApp ${Nn.name}`,tr)}}function _o(Nn,_n){Nn.container.addOrOverwriteComponent(_n)}function Ro(Nn){const _n=Nn.name;if(eo.has(_n))return Vn.debug(`There were multiple attempts to register component ${_n}.`),!1;eo.set(_n,Nn);for(const tr of Er.values())uo(tr,Nn);for(const tr of ri.values())uo(tr,Nn);return!0}function Mo(Nn,_n){const tr=Nn.container.getProvider("heartbeat").getImmediate({optional:!0});return tr&&tr.triggerHeartbeat(),Nn.container.getProvider(_n)}function Zr(Nn,_n,tr=di){Mo(Nn,_n).clearInstance(tr)}function ko(Nn){return void 0!==Nn.options}function xi(Nn){return void 0!==Nn.settings}function Qi(){eo.clear()}const Wr=new ot.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class cn{constructor(_n,tr,Mr){this._isDeleted=!1,this._options=Object.assign({},_n),this._config=Object.assign({},tr),this._name=tr.name,this._automaticDataCollectionEnabled=tr.automaticDataCollectionEnabled,this._container=Mr,this.container.addComponent(new e.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_n){this.checkDestroyed(),this._automaticDataCollectionEnabled=_n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_n){this._isDeleted=_n}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}class Co extends cn{constructor(_n,tr,Mr,Mi){const pn=void 0!==tr.automaticDataCollectionEnabled&&tr.automaticDataCollectionEnabled,pr={name:Mr,automaticDataCollectionEnabled:pn};super(void 0!==_n.apiKey?_n:_n.options,pr,Mi),this._serverConfig=Object.assign({automaticDataCollectionEnabled:pn},tr),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,tr.releaseOnDeref=void 0,rt(xr,Kt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(_n){this.isDeleted||(this._refCount++,void 0!==_n&&this._finalizationRegistry.register(_n,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Wt(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Wr.create("server-app-deleted")}}const Vo="10.12.2";function ps(Nn,_n={}){let tr=Nn;"object"!=typeof _n&&(_n={name:_n});const Mr=Object.assign({name:di,automaticDataCollectionEnabled:!1},_n),Mi=Mr.name;if("string"!=typeof Mi||!Mi)throw Wr.create("bad-app-name",{appName:String(Mi)});if(tr||(tr=(0,ot.T9)()),!tr)throw Wr.create("no-options");const pn=Er.get(Mi);if(pn){if((0,ot.bD)(tr,pn.options)&&(0,ot.bD)(Mr,pn.config))return pn;throw Wr.create("duplicate-app",{appName:Mi})}const pr=new e.h1(Mi);for(const Dr of eo.values())pr.addComponent(Dr);const Xr=new cn(tr,Mr,pr);return Er.set(Mi,Xr),Xr}function Jt(Nn,_n){if((0,ot.Bd)())throw Wr.create("invalid-server-app-environment");let tr;void 0===_n.automaticDataCollectionEnabled&&(_n.automaticDataCollectionEnabled=!1),tr=ko(Nn)?Nn.options:Nn;const Mr=Object.assign(Object.assign({},_n),tr);if(void 0!==Mr.releaseOnDeref&&delete Mr.releaseOnDeref,void 0!==_n.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Wr.create("finalization-registry-not-supported",{});const pn=""+(ho=JSON.stringify(Mr),[...ho].reduce((Yo,va)=>Math.imul(31,Yo)+va.charCodeAt(0)|0,0)),pr=ri.get(pn);var ho;if(pr)return pr.incRefCount(_n.releaseOnDeref),pr;const Xr=new e.h1(pn);for(const ho of eo.values())Xr.addComponent(ho);const Dr=new Co(tr,_n,pn,Xr);return ri.set(pn,Dr),Dr}function jt(Nn=di){const _n=Er.get(Nn);if(!_n&&Nn===di&&(0,ot.T9)())return ps();if(!_n)throw Wr.create("no-app",{appName:Nn});return _n}function Bn(){return Array.from(Er.values())}function Wt(Nn){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,w.A)(function*(Nn){let _n=!1;const tr=Nn.name;Er.has(tr)?(_n=!0,Er.delete(tr)):ri.has(tr)&&Nn.decRefCount()<=0&&(ri.delete(tr),_n=!0),_n&&(yield Promise.all(Nn.container.getProviders().map(Mr=>Mr.delete())),Nn.isDeleted=!0)})).apply(this,arguments)}function rt(Nn,_n,tr){var Mr;let Mi=null!==(Mr=Hr[Nn])&&void 0!==Mr?Mr:Nn;tr&&(Mi+=`-${tr}`);const pn=Mi.match(/\s|\//),pr=_n.match(/\s|\//);if(pn||pr){const Xr=[`Unable to register library "${Mi}" with version "${_n}":`];return pn&&Xr.push(`library name "${Mi}" contains illegal characters (whitespace or "/")`),pn&&pr&&Xr.push("and"),pr&&Xr.push(`version name "${_n}" contains illegal characters (whitespace or "/")`),void Vn.warn(Xr.join(" "))}Ro(new e.uA(`${Mi}-version`,()=>({library:Mi,version:_n}),"VERSION"))}function St(Nn,_n){if(null!==Nn&&"function"!=typeof Nn)throw Wr.create("invalid-log-argument");(0,wt.Ey)(Nn,_n)}function Fn(Nn){(0,wt.He)(Nn)}const zt="firebase-heartbeat-database",gr=1,Nr="firebase-heartbeat-store";let qr=null;function ji(){return qr||(qr=function Vt(Nn,_n,{blocked:tr,upgrade:Mr,blocking:Mi,terminated:pn}={}){const pr=indexedDB.open(Nn,_n),Xr=Tn(pr);return Mr&&pr.addEventListener("upgradeneeded",Dr=>{Mr(Tn(pr.result),Dr.oldVersion,Dr.newVersion,Tn(pr.transaction),Dr)}),tr&&pr.addEventListener("blocked",Dr=>tr(Dr.oldVersion,Dr.newVersion,Dr)),Xr.then(Dr=>{pn&&Dr.addEventListener("close",()=>pn()),Mi&&Dr.addEventListener("versionchange",ho=>Mi(ho.oldVersion,ho.newVersion,ho))}).catch(()=>{}),Xr}(zt,gr,{upgrade:(Nn,_n)=>{if(0===_n)try{Nn.createObjectStore(Nr)}catch(tr){console.warn(tr)}}}).catch(Nn=>{throw Wr.create("idb-open",{originalErrorMessage:Nn.message})})),qr}function ks(){return(ks=(0,w.A)(function*(Nn){try{const tr=(yield ji()).transaction(Nr),Mr=yield tr.objectStore(Nr).get(gs(Nn));return yield tr.done,Mr}catch(_n){if(_n instanceof ot.g)Vn.warn(_n.message);else{const tr=Wr.create("idb-get",{originalErrorMessage:null==_n?void 0:_n.message});Vn.warn(tr.message)}}})).apply(this,arguments)}function ai(Nn,_n){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,w.A)(function*(Nn,_n){try{const Mr=(yield ji()).transaction(Nr,"readwrite");yield Mr.objectStore(Nr).put(_n,gs(Nn)),yield Mr.done}catch(tr){if(tr instanceof ot.g)Vn.warn(tr.message);else{const Mr=Wr.create("idb-set",{originalErrorMessage:null==tr?void 0:tr.message});Vn.warn(Mr.message)}}})).apply(this,arguments)}function gs(Nn){return`${Nn.name}!${Nn.options.appId}`}class ml{constructor(_n){this.container=_n,this._heartbeatsCache=null;const tr=this.container.getProvider("app").getImmediate();this._storage=new vl(tr),this._heartbeatsCachePromise=this._storage.read().then(Mr=>(this._heartbeatsCache=Mr,Mr))}triggerHeartbeat(){var _n=this;return(0,w.A)(function*(){var tr,Mr;const pn=_n.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pr=nl();if((null!=(null===(tr=_n._heartbeatsCache)||void 0===tr?void 0:tr.heartbeats)||(_n._heartbeatsCache=yield _n._heartbeatsCachePromise,null!=(null===(Mr=_n._heartbeatsCache)||void 0===Mr?void 0:Mr.heartbeats)))&&_n._heartbeatsCache.lastSentHeartbeatDate!==pr&&!_n._heartbeatsCache.heartbeats.some(Xr=>Xr.date===pr))return _n._heartbeatsCache.heartbeats.push({date:pr,agent:pn}),_n._heartbeatsCache.heartbeats=_n._heartbeatsCache.heartbeats.filter(Xr=>{const Dr=new Date(Xr.date).valueOf();return Date.now()-Dr<=2592e6}),_n._storage.overwrite(_n._heartbeatsCache)})()}getHeartbeatsHeader(){var _n=this;return(0,w.A)(function*(){var tr;if(null===_n._heartbeatsCache&&(yield _n._heartbeatsCachePromise),null==(null===(tr=_n._heartbeatsCache)||void 0===tr?void 0:tr.heartbeats)||0===_n._heartbeatsCache.heartbeats.length)return"";const Mr=nl(),{heartbeatsToSend:Mi,unsentEntries:pn}=function Ao(Nn,_n=1024){const tr=[];let Mr=Nn.slice();for(const Mi of Nn){const pn=tr.find(pr=>pr.agent===Mi.agent);if(pn){if(pn.dates.push(Mi.date),$a(tr)>_n){pn.dates.pop();break}}else if(tr.push({agent:Mi.agent,dates:[Mi.date]}),$a(tr)>_n){tr.pop();break}Mr=Mr.slice(1)}return{heartbeatsToSend:tr,unsentEntries:Mr}}(_n._heartbeatsCache.heartbeats),pr=(0,ot.Uj)(JSON.stringify({version:2,heartbeats:Mi}));return _n._heartbeatsCache.lastSentHeartbeatDate=Mr,pn.length>0?(_n._heartbeatsCache.heartbeats=pn,yield _n._storage.overwrite(_n._heartbeatsCache)):(_n._heartbeatsCache.heartbeats=[],_n._storage.overwrite(_n._heartbeatsCache)),pr})()}}function nl(){return(new Date).toISOString().substring(0,10)}class vl{constructor(_n){this.app=_n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.A)(function*(){return!!(0,ot.zW)()&&(0,ot.eX)().then(()=>!0).catch(()=>!1)})()}read(){var _n=this;return(0,w.A)(function*(){if(yield _n._canUseIndexedDBPromise){const Mr=yield function $o(Nn){return ks.apply(this,arguments)}(_n.app);return null!=Mr&&Mr.heartbeats?Mr:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(_n){var tr=this;return(0,w.A)(function*(){var Mr;if(yield tr._canUseIndexedDBPromise){const pn=yield tr.read();return ai(tr.app,{lastSentHeartbeatDate:null!==(Mr=_n.lastSentHeartbeatDate)&&void 0!==Mr?Mr:pn.lastSentHeartbeatDate,heartbeats:_n.heartbeats})}})()}add(_n){var tr=this;return(0,w.A)(function*(){var Mr;if(yield tr._canUseIndexedDBPromise){const pn=yield tr.read();return ai(tr.app,{lastSentHeartbeatDate:null!==(Mr=_n.lastSentHeartbeatDate)&&void 0!==Mr?Mr:pn.lastSentHeartbeatDate,heartbeats:[...pn.heartbeats,..._n.heartbeats]})}})()}}function $a(Nn){return(0,ot.Uj)(JSON.stringify({version:2,heartbeats:Nn})).length}!function ua(Nn){Ro(new e.uA("platform-logger",_n=>new zn(_n),"PRIVATE")),Ro(new e.uA("heartbeat",_n=>new ml(_n),"PRIVATE")),rt(xr,Kt,Nn),rt(xr,Kt,"esm2017"),rt("fire-js","")}("")},1362:(Kr,dn,Be)=>{"use strict";Be.d(dn,{Kq:()=>Z,h1:()=>Nt,uA:()=>wt});var w=Be(467),e=Be(1076);class wt{constructor(Ct,et,vt){this.name=Ct,this.instanceFactory=et,this.type=vt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ct){return this.instantiationMode=Ct,this}setMultipleInstances(Ct){return this.multipleInstances=Ct,this}setServiceProps(Ct){return this.serviceProps=Ct,this}setInstanceCreatedCallback(Ct){return this.onInstanceCreated=Ct,this}}const ot="[DEFAULT]";class Z{constructor(Ct,et){this.name=Ct,this.container=et,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ct){const et=this.normalizeInstanceIdentifier(Ct);if(!this.instancesDeferred.has(et)){const vt=new e.cY;if(this.instancesDeferred.set(et,vt),this.isInitialized(et)||this.shouldAutoInitialize())try{const Mt=this.getOrInitializeService({instanceIdentifier:et});Mt&&vt.resolve(Mt)}catch{}}return this.instancesDeferred.get(et).promise}getImmediate(Ct){var et;const vt=this.normalizeInstanceIdentifier(null==Ct?void 0:Ct.identifier),Mt=null!==(et=null==Ct?void 0:Ct.optional)&&void 0!==et&&et;if(!this.isInitialized(vt)&&!this.shouldAutoInitialize()){if(Mt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:vt})}catch(Ft){if(Mt)return null;throw Ft}}getComponent(){return this.component}setComponent(Ct){if(Ct.name!==this.name)throw Error(`Mismatching Component ${Ct.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ct,this.shouldAutoInitialize()){if(function Ze(Ut){return"EAGER"===Ut.instantiationMode}(Ct))try{this.getOrInitializeService({instanceIdentifier:ot})}catch{}for(const[et,vt]of this.instancesDeferred.entries()){const Mt=this.normalizeInstanceIdentifier(et);try{const Ft=this.getOrInitializeService({instanceIdentifier:Mt});vt.resolve(Ft)}catch{}}}}clearInstance(Ct=ot){this.instancesDeferred.delete(Ct),this.instancesOptions.delete(Ct),this.instances.delete(Ct)}delete(){var Ct=this;return(0,w.A)(function*(){const et=Array.from(Ct.instances.values());yield Promise.all([...et.filter(vt=>"INTERNAL"in vt).map(vt=>vt.INTERNAL.delete()),...et.filter(vt=>"_delete"in vt).map(vt=>vt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ct=ot){return this.instances.has(Ct)}getOptions(Ct=ot){return this.instancesOptions.get(Ct)||{}}initialize(Ct={}){const{options:et={}}=Ct,vt=this.normalizeInstanceIdentifier(Ct.instanceIdentifier);if(this.isInitialized(vt))throw Error(`${this.name}(${vt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Mt=this.getOrInitializeService({instanceIdentifier:vt,options:et});for(const[Ft,An]of this.instancesDeferred.entries())vt===this.normalizeInstanceIdentifier(Ft)&&An.resolve(Mt);return Mt}onInit(Ct,et){var vt;const Mt=this.normalizeInstanceIdentifier(et),Ft=null!==(vt=this.onInitCallbacks.get(Mt))&&void 0!==vt?vt:new Set;Ft.add(Ct),this.onInitCallbacks.set(Mt,Ft);const An=this.instances.get(Mt);return An&&Ct(An,Mt),()=>{Ft.delete(Ct)}}invokeOnInitCallbacks(Ct,et){const vt=this.onInitCallbacks.get(et);if(vt)for(const Mt of vt)try{Mt(Ct,et)}catch{}}getOrInitializeService({instanceIdentifier:Ct,options:et={}}){let vt=this.instances.get(Ct);if(!vt&&this.component&&(vt=this.component.instanceFactory(this.container,{instanceIdentifier:(Ut=Ct,Ut===ot?void 0:Ut),options:et}),this.instances.set(Ct,vt),this.instancesOptions.set(Ct,et),this.invokeOnInitCallbacks(vt,Ct),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ct,vt)}catch{}var Ut;return vt||null}normalizeInstanceIdentifier(Ct=ot){return this.component?this.component.multipleInstances?Ct:ot:Ct}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Nt{constructor(Ct){this.name=Ct,this.providers=new Map}addComponent(Ct){const et=this.getProvider(Ct.name);if(et.isComponentSet())throw new Error(`Component ${Ct.name} has already been registered with ${this.name}`);et.setComponent(Ct)}addOrOverwriteComponent(Ct){this.getProvider(Ct.name).isComponentSet()&&this.providers.delete(Ct.name),this.addComponent(Ct)}getProvider(Ct){if(this.providers.has(Ct))return this.providers.get(Ct);const et=new Z(Ct,this);return this.providers.set(Ct,et),et}getProviders(){return Array.from(this.providers.values())}}},8041:(Kr,dn,Be)=>{"use strict";Be.d(dn,{$b:()=>e,Ey:()=>Ut,He:()=>Nt,Vy:()=>Ze});const w=[];var e=function(Ct){return Ct[Ct.DEBUG=0]="DEBUG",Ct[Ct.VERBOSE=1]="VERBOSE",Ct[Ct.INFO=2]="INFO",Ct[Ct.WARN=3]="WARN",Ct[Ct.ERROR=4]="ERROR",Ct[Ct.SILENT=5]="SILENT",Ct}(e||{});const wt={debug:e.DEBUG,verbose:e.VERBOSE,info:e.INFO,warn:e.WARN,error:e.ERROR,silent:e.SILENT},ot=e.INFO,Z={[e.DEBUG]:"log",[e.VERBOSE]:"log",[e.INFO]:"info",[e.WARN]:"warn",[e.ERROR]:"error"},tt=(Ct,et,...vt)=>{if(et<Ct.logLevel)return;const Mt=(new Date).toISOString(),Ft=Z[et];if(!Ft)throw new Error(`Attempted to log a message with an invalid logType (value: ${et})`);console[Ft](`[${Mt}]  ${Ct.name}:`,...vt)};class Ze{constructor(et){this.name=et,this._logLevel=ot,this._logHandler=tt,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(et){if(!(et in e))throw new TypeError(`Invalid value "${et}" assigned to \`logLevel\``);this._logLevel=et}setLogLevel(et){this._logLevel="string"==typeof et?wt[et]:et}get logHandler(){return this._logHandler}set logHandler(et){if("function"!=typeof et)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=et}get userLogHandler(){return this._userLogHandler}set userLogHandler(et){this._userLogHandler=et}debug(...et){this._userLogHandler&&this._userLogHandler(this,e.DEBUG,...et),this._logHandler(this,e.DEBUG,...et)}log(...et){this._userLogHandler&&this._userLogHandler(this,e.VERBOSE,...et),this._logHandler(this,e.VERBOSE,...et)}info(...et){this._userLogHandler&&this._userLogHandler(this,e.INFO,...et),this._logHandler(this,e.INFO,...et)}warn(...et){this._userLogHandler&&this._userLogHandler(this,e.WARN,...et),this._logHandler(this,e.WARN,...et)}error(...et){this._userLogHandler&&this._userLogHandler(this,e.ERROR,...et),this._logHandler(this,e.ERROR,...et)}}function Nt(Ct){w.forEach(et=>{et.setLogLevel(Ct)})}function Ut(Ct,et){for(const vt of w){let Mt=null;et&&et.level&&(Mt=wt[et.level]),vt.userLogHandler=null===Ct?null:(Ft,An,...mn)=>{const qt=mn.map(tn=>{if(null==tn)return null;if("string"==typeof tn)return tn;if("number"==typeof tn||"boolean"==typeof tn)return tn.toString();if(tn instanceof Error)return tn.message;try{return JSON.stringify(tn)}catch{return null}}).filter(tn=>tn).join(" ");An>=(null!=Mt?Mt:Ft.logLevel)&&Ct({level:e[An].toLowerCase(),message:qt,args:mn,type:Ft.name})}}}},3077:(Kr,dn,Be)=>{"use strict";Be.d(dn,{U1:()=>At,iq:()=>wr,he:()=>rl,Rg:()=>sa,bv:()=>au,N7:()=>qa,K_:()=>Dc});var w=Be(1660),e=Be(4438),wt=Be(4341),ot=Be(467),Z=Be(70),tt=Be(177),Ze=Be(5531),Nt=Be(4442);var yr=Be(1413);Be(8750),Be(1985),Be(1397),Be(7441),Be(8071),Be(6450);var Sr=Be(4412),ui=Be(4572),Ai=Be(7673),Yn=Be(1635),Yi=Be(5964),kr=Be(5558),Di=Be(3669),Wi=Be(9974),fr=Be(4360);function Pn(j,J){return j===J}let di=(()=>{var j;class J{constructor(V,ge){(0,w.A)(this,"doc",void 0),(0,w.A)(this,"_readyPromise",void 0),(0,w.A)(this,"win",void 0),(0,w.A)(this,"backButton",new yr.B),(0,w.A)(this,"keyboardDidShow",new yr.B),(0,w.A)(this,"keyboardDidHide",new yr.B),(0,w.A)(this,"pause",new yr.B),(0,w.A)(this,"resume",new yr.B),(0,w.A)(this,"resize",new yr.B),this.doc=V,ge.run(()=>{var x;let ne;this.win=V.defaultView,this.backButton.subscribeWithPriority=function(je,se){return this.subscribe(Ve=>Ve.register(je,ut=>ge.run(()=>se(ut))))},Er(this.pause,V,"pause",ge),Er(this.resume,V,"resume",ge),Er(this.backButton,V,"ionBackButton",ge),Er(this.resize,this.win,"resize",ge),Er(this.keyboardDidShow,this.win,"ionKeyboardDidShow",ge),Er(this.keyboardDidHide,this.win,"ionKeyboardDidHide",ge),this._readyPromise=new Promise(je=>{ne=je}),null!==(x=this.win)&&void 0!==x&&x.cordova?V.addEventListener("deviceready",()=>{ne("cordova")},{once:!0}):ne("dom")})}is(V){return(0,Ze.a)(this.win,V)}platforms(){return(0,Ze.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(V){return Hr(this.win.location.href,V)}isLandscape(){return!this.isPortrait()}isPortrait(){var V,ge;return null===(V=(ge=this.win).matchMedia)||void 0===V?void 0:V.call(ge,"(orientation: portrait)").matches}testUserAgent(V){const ge=this.win.navigator;return!!(null!=ge&&ge.userAgent&&ge.userAgent.indexOf(V)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return j=J,(0,w.A)(J,"\u0275fac",function(V){return new(V||j)(e.KVO(tt.qQ),e.KVO(e.SKi))}),(0,w.A)(J,"\u0275prov",e.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})),J})();const Hr=(j,J)=>{J=J.replace(/[[\]\\]/g,"\\$&");const V=new RegExp("[\\?&]"+J+"=([^&#]*)").exec(j);return V?decodeURIComponent(V[1].replace(/\+/g," ")):null},Er=(j,J,_e,V)=>{J&&J.addEventListener(_e,ge=>{V.run(()=>{j.next(null!=ge?ge.detail:void 0)})})};let ri=(()=>{var j;class J{constructor(V,ge,x,ne){(0,w.A)(this,"location",void 0),(0,w.A)(this,"serializer",void 0),(0,w.A)(this,"router",void 0),(0,w.A)(this,"topOutlet",void 0),(0,w.A)(this,"direction",uo),(0,w.A)(this,"animated",_o),(0,w.A)(this,"animationBuilder",void 0),(0,w.A)(this,"guessDirection","forward"),(0,w.A)(this,"guessAnimation",void 0),(0,w.A)(this,"lastNavId",-1),this.location=ge,this.serializer=x,this.router=ne,ne&&ne.events.subscribe(je=>{if(je instanceof Z.Z){const se=je.restoredState?je.restoredState.navigationId:je.id;this.guessDirection=this.guessAnimation=se<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?je.id:se}}),V.backButton.subscribeWithPriority(0,je=>{this.pop(),je()})}navigateForward(V,ge={}){return this.setDirection("forward",ge.animated,ge.animationDirection,ge.animation),this.navigate(V,ge)}navigateBack(V,ge={}){return this.setDirection("back",ge.animated,ge.animationDirection,ge.animation),this.navigate(V,ge)}navigateRoot(V,ge={}){return this.setDirection("root",ge.animated,ge.animationDirection,ge.animation),this.navigate(V,ge)}back(V={animated:!0,animationDirection:"back"}){return this.setDirection("back",V.animated,V.animationDirection,V.animation),this.location.back()}pop(){var V=this;return(0,ot.A)(function*(){let ge=V.topOutlet;for(;ge;){if(yield ge.pop())return!0;ge=ge.parentOutlet}return!1})()}setDirection(V,ge,x,ne){this.direction=V,this.animated=eo(V,ge,x),this.animationBuilder=ne}setTopOutlet(V){this.topOutlet=V}consumeTransition(){let ge,V="root";const x=this.animationBuilder;return"auto"===this.direction?(V=this.guessDirection,ge=this.guessAnimation):(ge=this.animated,V=this.direction),this.direction=uo,this.animated=_o,this.animationBuilder=void 0,{direction:V,animation:ge,animationBuilder:x}}navigate(V,ge){if(Array.isArray(V))return this.router.navigate(V,ge);{const x=this.serializer.parse(V.toString());return void 0!==ge.queryParams&&(x.queryParams={...ge.queryParams}),void 0!==ge.fragment&&(x.fragment=ge.fragment),this.router.navigateByUrl(x,ge)}}}return j=J,(0,w.A)(J,"\u0275fac",function(V){return new(V||j)(e.KVO(di),e.KVO(tt.aZ),e.KVO(Z.Sd),e.KVO(Z.Ix,8))}),(0,w.A)(J,"\u0275prov",e.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})),J})();const eo=(j,J,_e)=>{if(!1!==J){if(void 0!==_e)return _e;if("forward"===j||"back"===j)return j;if("root"===j&&!0===J)return"forward"}},uo="auto",_o=void 0;let Ro=(()=>{var j;class J{get(V,ge){const x=Zr();return x?x.get(V,ge):null}getBoolean(V,ge){const x=Zr();return!!x&&x.getBoolean(V,ge)}getNumber(V,ge){const x=Zr();return x?x.getNumber(V,ge):0}}return j=J,(0,w.A)(J,"\u0275fac",function(V){return new(V||j)}),(0,w.A)(J,"\u0275prov",e.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})),J})();const Mo=new e.nKC("USERCONFIG"),Zr=()=>{if(typeof window<"u"){const j=window.Ionic;if(null!=j&&j.config)return j.config}return null};class ko{constructor(J={}){(0,w.A)(this,"data",void 0),this.data=J,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(J){return this.data[J]}}let xi=(()=>{var j;class J{constructor(){(0,w.A)(this,"zone",(0,e.WQX)(e.SKi)),(0,w.A)(this,"applicationRef",(0,e.WQX)(e.o8S)),(0,w.A)(this,"config",(0,e.WQX)(Mo))}create(V,ge,x){var ne;return new Qi(V,ge,this.applicationRef,this.zone,x,null!==(ne=this.config.useSetInputAPI)&&void 0!==ne&&ne)}}return j=J,(0,w.A)(J,"\u0275fac",function(V){return new(V||j)}),(0,w.A)(J,"\u0275prov",e.jDH({token:j,factory:j.\u0275fac})),J})();class Qi{constructor(J,_e,V,ge,x,ne){(0,w.A)(this,"environmentInjector",void 0),(0,w.A)(this,"injector",void 0),(0,w.A)(this,"applicationRef",void 0),(0,w.A)(this,"zone",void 0),(0,w.A)(this,"elementReferenceKey",void 0),(0,w.A)(this,"enableSignalsSupport",void 0),(0,w.A)(this,"elRefMap",new WeakMap),(0,w.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=J,this.injector=_e,this.applicationRef=V,this.zone=ge,this.elementReferenceKey=x,this.enableSignalsSupport=ne}attachViewToDom(J,_e,V,ge){return this.zone.run(()=>new Promise(x=>{const ne={...V};void 0!==this.elementReferenceKey&&(ne[this.elementReferenceKey]=J),x(Wo(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,J,_e,ne,ge,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(J,_e){return this.zone.run(()=>new Promise(V=>{const ge=this.elRefMap.get(_e);if(ge){ge.destroy(),this.elRefMap.delete(_e);const x=this.elEventsMap.get(_e);x&&(x(),this.elEventsMap.delete(_e))}V()}))}}const Wo=(j,J,_e,V,ge,x,ne,je,se,Ve,ut,jn)=>{const mr=e.zZn.create({providers:Vo(se),parent:_e}),Ui=(0,e.a0P)(je,{environmentInjector:J,elementInjector:mr}),oo=Ui.instance,Fo=Ui.location.nativeElement;if(se)if(ut&&void 0!==oo[ut]&&console.error(`[Ionic Error]: ${ut} is a reserved property when using ${ne.tagName.toLowerCase()}. Rename or remove the "${ut}" property from ${je.name}.`),!0===jn&&void 0!==Ui.setInput){const{modal:Lo,popover:Go,...Ks}=se;for(const es in Ks)Ui.setInput(es,Ks[es]);void 0!==Lo&&Object.assign(oo,{modal:Lo}),void 0!==Go&&Object.assign(oo,{popover:Go})}else Object.assign(oo,se);if(Ve)for(const Lo of Ve)Fo.classList.add(Lo);const Do=cn(j,oo,Fo);return ne.appendChild(Fo),V.attachView(Ui.hostView),ge.set(Fo,Ui),x.set(Fo,Do),Fo},Wr=[Nt.L,Nt.a,Nt.b,Nt.c,Nt.d],cn=(j,J,_e)=>j.run(()=>{const V=Wr.filter(ge=>"function"==typeof J[ge]).map(ge=>{const x=ne=>J[ge](ne.detail);return _e.addEventListener(ge,x),()=>_e.removeEventListener(ge,x)});return()=>V.forEach(ge=>ge())}),Co=new e.nKC("NavParamsToken"),Vo=j=>[{provide:Co,useValue:j},{provide:ko,useFactory:ps,deps:[Co]}],ps=j=>new ko(j),qr=(j,J)=>((j=j.filter(_e=>_e.stackId!==J.stackId)).push(J),j),ks=(j,J)=>{const _e=j.createUrlTree(["."],{relativeTo:J});return j.serializeUrl(_e)},ai=(j,J)=>!J||j.stackId!==J.stackId,Fr=(j,J)=>{if(!j)return;const _e=gs(J);for(let V=0;V<_e.length;V++){if(V>=j.length)return _e[V];if(_e[V]!==j[V])return}},gs=j=>j.split("/").map(J=>J.trim()).filter(J=>""!==J),na=j=>{j&&(j.ref.destroy(),j.unlistenEvents())};class Xs{constructor(J,_e,V,ge,x,ne){(0,w.A)(this,"containerEl",void 0),(0,w.A)(this,"router",void 0),(0,w.A)(this,"navCtrl",void 0),(0,w.A)(this,"zone",void 0),(0,w.A)(this,"location",void 0),(0,w.A)(this,"views",[]),(0,w.A)(this,"runningTask",void 0),(0,w.A)(this,"skipTransition",!1),(0,w.A)(this,"tabsPrefix",void 0),(0,w.A)(this,"activeView",void 0),(0,w.A)(this,"nextId",0),this.containerEl=_e,this.router=V,this.navCtrl=ge,this.zone=x,this.location=ne,this.tabsPrefix=void 0!==J?gs(J):void 0}createView(J,_e){var V;const ge=ks(this.router,_e),x=null==J||null===(V=J.location)||void 0===V?void 0:V.nativeElement,ne=cn(this.zone,J.instance,x);return{id:this.nextId++,stackId:Fr(this.tabsPrefix,ge),unlistenEvents:ne,element:x,ref:J,url:ge}}getExistingView(J){const _e=ks(this.router,J),V=this.views.find(ge=>ge.url===_e);return V&&V.ref.changeDetectorRef.reattach(),V}setActive(J){var _e,V;const ge=this.navCtrl.consumeTransition();let{direction:x,animation:ne,animationBuilder:je}=ge;const se=this.activeView,Ve=ai(J,se);Ve&&(x="back",ne=void 0);const ut=this.views.slice();let jn;const mr=this.router;mr.getCurrentNavigation?jn=mr.getCurrentNavigation():null!==(_e=mr.navigations)&&void 0!==_e&&_e.value&&(jn=mr.navigations.value),null!==(V=jn)&&void 0!==V&&null!==(V=V.extras)&&void 0!==V&&V.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Ui=this.views.includes(J),oo=this.insertView(J,x);Ui||J.ref.changeDetectorRef.detectChanges();const Fo=J.animationBuilder;return void 0===je&&"back"===x&&!Ve&&void 0!==Fo&&(je=Fo),se&&(se.animationBuilder=je),this.zone.runOutsideAngular(()=>this.wait(()=>(se&&se.ref.changeDetectorRef.detach(),J.ref.changeDetectorRef.reattach(),this.transition(J,se,ne,this.canGoBack(1),!1,je).then(()=>ml(J,oo,ut,this.location,this.zone)).then(()=>({enteringView:J,direction:x,animation:ne,tabSwitch:Ve})))))}canGoBack(J,_e=this.getActiveStackId()){return this.getStack(_e).length>J}pop(J,_e=this.getActiveStackId()){return this.zone.run(()=>{const V=this.getStack(_e);if(V.length<=J)return Promise.resolve(!1);const ge=V[V.length-J-1];let x=ge.url;const ne=ge.savedData;if(ne){var je;const Ve=ne.get("primary");null!=Ve&&null!==(je=Ve.route)&&void 0!==je&&null!==(je=je._routerState)&&void 0!==je&&je.snapshot.url&&(x=Ve.route._routerState.snapshot.url)}const{animationBuilder:se}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(x,{...ge.savedExtras,animation:se}).then(()=>!0)})}startBackTransition(){const J=this.activeView;if(J){const _e=this.getStack(J.stackId),V=_e[_e.length-2],ge=V.animationBuilder;return this.wait(()=>this.transition(V,J,"back",this.canGoBack(2),!0,ge))}return Promise.resolve()}endBackTransition(J){J?(this.skipTransition=!0,this.pop(1)):this.activeView&&nl(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(J){const _e=this.getStack(J);return _e.length>0?_e[_e.length-1]:void 0}getRootUrl(J){const _e=this.getStack(J);return _e.length>0?_e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(na),this.activeView=void 0,this.views=[]}getStack(J){return this.views.filter(_e=>_e.stackId===J)}insertView(J,_e){return this.activeView=J,this.views=((j,J,_e)=>"root"===_e?qr(j,J):"forward"===_e?((j,J)=>(j.indexOf(J)>=0?j=j.filter(V=>V.stackId!==J.stackId||V.id<=J.id):j.push(J),j))(j,J):((j,J)=>j.indexOf(J)>=0?j.filter(V=>V.stackId!==J.stackId||V.id<=J.id):qr(j,J))(j,J))(this.views,J,_e),this.views.slice()}transition(J,_e,V,ge,x,ne){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(_e===J)return Promise.resolve(!1);const je=J?J.element:void 0,se=_e?_e.element:void 0,Ve=this.containerEl;return je&&je!==se&&(je.classList.add("ion-page"),je.classList.add("ion-page-invisible"),Ve.commit)?Ve.commit(je,se,{duration:void 0===V?0:void 0,direction:V,showGoBack:ge,progressAnimation:x,animationBuilder:ne}):Promise.resolve(!1)}wait(J){var _e=this;return(0,ot.A)(function*(){void 0!==_e.runningTask&&(yield _e.runningTask,_e.runningTask=void 0);const V=_e.runningTask=J();return V.finally(()=>_e.runningTask=void 0),V})()}}const ml=(j,J,_e,V,ge)=>"function"==typeof requestAnimationFrame?new Promise(x=>{requestAnimationFrame(()=>{nl(j,J,_e,V,ge),x()})}):Promise.resolve(),nl=(j,J,_e,V,ge)=>{ge.run(()=>_e.filter(x=>!J.includes(x)).forEach(na)),J.forEach(x=>{const je=V.path().split("?")[0].split("#")[0];if(x!==j&&x.url!==je){const se=x.element;se.setAttribute("aria-hidden","true"),se.classList.add("ion-page-hidden"),x.ref.changeDetectorRef.detach()}})};let Ao=(()=>{var j;class J{get activatedComponentRef(){return this.activated}set animation(V){this.nativeEl.animation=V}set animated(V){this.nativeEl.animated=V}set swipeGesture(V){this._swipeGesture=V,this.nativeEl.swipeHandler=V?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ge=>this.stackCtrl.endBackTransition(ge)}:void 0}constructor(V,ge,x,ne,je,se,Ve,ut){(0,w.A)(this,"parentOutlet",void 0),(0,w.A)(this,"nativeEl",void 0),(0,w.A)(this,"activatedView",null),(0,w.A)(this,"tabsPrefix",void 0),(0,w.A)(this,"_swipeGesture",void 0),(0,w.A)(this,"stackCtrl",void 0),(0,w.A)(this,"proxyMap",new WeakMap),(0,w.A)(this,"currentActivatedRoute$",new Sr.t(null)),(0,w.A)(this,"activated",null),(0,w.A)(this,"_activatedRoute",null),(0,w.A)(this,"name",Z.Xk),(0,w.A)(this,"stackWillChange",new e.bkB),(0,w.A)(this,"stackDidChange",new e.bkB),(0,w.A)(this,"activateEvents",new e.bkB),(0,w.A)(this,"deactivateEvents",new e.bkB),(0,w.A)(this,"parentContexts",(0,e.WQX)(Z.Zp)),(0,w.A)(this,"location",(0,e.WQX)(e.c1b)),(0,w.A)(this,"environmentInjector",(0,e.WQX)(e.uvJ)),(0,w.A)(this,"inputBinder",(0,e.WQX)($a,{optional:!0})),(0,w.A)(this,"supportsBindingToComponentInputs",!0),(0,w.A)(this,"config",(0,e.WQX)(Ro)),(0,w.A)(this,"navCtrl",(0,e.WQX)(ri)),this.parentOutlet=ut,this.nativeEl=ne.nativeElement,this.name=V||Z.Xk,this.tabsPrefix="true"===ge?ks(je,Ve):void 0,this.stackCtrl=new Xs(this.tabsPrefix,this.nativeEl,je,this.navCtrl,se,x),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var V;this.stackCtrl.destroy(),null===(V=this.inputBinder)||void 0===V||V.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const V=this.getContext();null!=V&&V.route&&this.activateWith(V.route,V.injector)}new Promise(V=>((j,J)=>{j.componentOnReady?j.componentOnReady().then(_e=>J(_e)):(j=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(j):"function"==typeof requestAnimationFrame?requestAnimationFrame(j):setTimeout(j)})(()=>J(j))})(this.nativeEl,V)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(V,ge){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ge=this.getContext();this.activatedView.savedData=new Map(ge.children.contexts);const x=this.activatedView.savedData.get("primary");if(x&&ge.route&&(x.route={...ge.route}),this.activatedView.savedExtras={},ge.route){const ne=ge.route.snapshot;this.activatedView.savedExtras.queryParams=ne.queryParams,this.activatedView.savedExtras.fragment=ne.fragment}}const V=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(V)}}activateWith(V,ge){var x;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=V;let ne,je=this.stackCtrl.getExistingView(V);if(je){ne=this.activated=je.ref;const ut=je.savedData;ut&&(this.getContext().children.contexts=ut),this.updateActivatedRouteProxy(ne.instance,V)}else{var se;const ut=V._futureSnapshot,jn=this.parentContexts.getOrCreateContext(this.name).children,mr=new Sr.t(null),Ui=this.createActivatedRouteProxy(mr,V),oo=new vl(Ui,jn,this.location.injector),Fo=null!==(se=ut.routeConfig.component)&&void 0!==se?se:ut.component;ne=this.activated=this.outletContent.createComponent(Fo,{index:this.outletContent.length,injector:oo,environmentInjector:null!=ge?ge:this.environmentInjector}),mr.next(ne.instance),je=this.stackCtrl.createView(this.activated,V),this.proxyMap.set(ne.instance,Ui),this.currentActivatedRoute$.next({component:ne.instance,activatedRoute:V})}null===(x=this.inputBinder)||void 0===x||x.bindActivatedRouteToOutletComponent(this),this.activatedView=je,this.navCtrl.setTopOutlet(this);const Ve=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:je,tabSwitch:ai(je,Ve)}),this.stackCtrl.setActive(je).then(ut=>{this.activateEvents.emit(ne.instance),this.stackDidChange.emit(ut)})}canGoBack(V=1,ge){return this.stackCtrl.canGoBack(V,ge)}pop(V=1,ge){return this.stackCtrl.pop(V,ge)}getLastUrl(V){const ge=this.stackCtrl.getLastUrl(V);return ge?ge.url:void 0}getLastRouteView(V){return this.stackCtrl.getLastUrl(V)}getRootView(V){return this.stackCtrl.getRootUrl(V)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(V,ge){const x=new Z.nX;return x._futureSnapshot=ge._futureSnapshot,x._routerState=ge._routerState,x.snapshot=ge.snapshot,x.outlet=ge.outlet,x.component=ge.component,x._paramMap=this.proxyObservable(V,"paramMap"),x._queryParamMap=this.proxyObservable(V,"queryParamMap"),x.url=this.proxyObservable(V,"url"),x.params=this.proxyObservable(V,"params"),x.queryParams=this.proxyObservable(V,"queryParams"),x.fragment=this.proxyObservable(V,"fragment"),x.data=this.proxyObservable(V,"data"),x}proxyObservable(V,ge){return V.pipe((0,Yi.p)(x=>!!x),(0,kr.n)(x=>this.currentActivatedRoute$.pipe((0,Yi.p)(ne=>null!==ne&&ne.component===x),(0,kr.n)(ne=>ne&&ne.activatedRoute[ge]),function Pt(j,J=Di.D){return j=null!=j?j:Pn,(0,Wi.N)((_e,V)=>{let ge,x=!0;_e.subscribe((0,fr._)(V,ne=>{const je=J(ne);(x||!j(ge,je))&&(x=!1,ge=je,V.next(ne))}))})}())))}updateActivatedRouteProxy(V,ge){const x=this.proxyMap.get(V);if(!x)throw new Error("Could not find activated route proxy for view");x._futureSnapshot=ge._futureSnapshot,x._routerState=ge._routerState,x.snapshot=ge.snapshot,x.outlet=ge.outlet,x.component=ge.component,this.currentActivatedRoute$.next({component:V,activatedRoute:ge})}}return j=J,(0,w.A)(J,"\u0275fac",function(V){return new(V||j)(e.kS0("name"),e.kS0("tabs"),e.rXU(tt.aZ),e.rXU(e.aKT),e.rXU(Z.Ix),e.rXU(e.SKi),e.rXU(Z.nX),e.rXU(j,12))}),(0,w.A)(J,"\u0275dir",e.FsC({type:j,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),J})();class vl{constructor(J,_e,V){(0,w.A)(this,"route",void 0),(0,w.A)(this,"childContexts",void 0),(0,w.A)(this,"parent",void 0),this.route=J,this.childContexts=_e,this.parent=V}get(J,_e){return J===Z.nX?this.route:J===Z.Zp?this.childContexts:this.parent.get(J,_e)}}const $a=new e.nKC("");let ua=(()=>{var j;class J{constructor(){(0,w.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(V){this.unsubscribeFromRouteData(V),this.subscribeToRouteData(V)}unsubscribeFromRouteData(V){var ge;null===(ge=this.outletDataSubscriptions.get(V))||void 0===ge||ge.unsubscribe(),this.outletDataSubscriptions.delete(V)}subscribeToRouteData(V){const{activatedRoute:ge}=V,x=(0,ui.z)([ge.queryParams,ge.params,ge.data]).pipe((0,kr.n)(([ne,je,se],Ve)=>(se={...ne,...je,...se},0===Ve?(0,Ai.of)(se):Promise.resolve(se)))).subscribe(ne=>{if(!V.isActivated||!V.activatedComponentRef||V.activatedRoute!==ge||null===ge.component)return void this.unsubscribeFromRouteData(V);const je=(0,e.HJs)(ge.component);if(je)for(const{templateName:se}of je.inputs)V.activatedComponentRef.setInput(se,ne[se]);else this.unsubscribeFromRouteData(V)});this.outletDataSubscriptions.set(V,x)}}return j=J,(0,w.A)(J,"\u0275fac",function(V){return new(V||j)}),(0,w.A)(J,"\u0275prov",e.jDH({token:j,factory:j.\u0275fac})),J})();function _n(j){return null!=j&&j.componentInputBindingEnabled?new ua:null}let Mi=(()=>{var j;class J{constructor(V,ge,x,ne,je){(0,w.A)(this,"locationStrategy",void 0),(0,w.A)(this,"navCtrl",void 0),(0,w.A)(this,"elementRef",void 0),(0,w.A)(this,"router",void 0),(0,w.A)(this,"routerLink",void 0),(0,w.A)(this,"routerDirection","forward"),(0,w.A)(this,"routerAnimation",void 0),this.locationStrategy=V,this.navCtrl=ge,this.elementRef=x,this.router=ne,this.routerLink=je}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var V;if(null!==(V=this.routerLink)&&void 0!==V&&V.urlTree){const ge=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ge}}onClick(V){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),V.preventDefault()}}return j=J,(0,w.A)(J,"\u0275fac",function(V){return new(V||j)(e.rXU(tt.hb),e.rXU(ri),e.rXU(e.aKT),e.rXU(Z.Ix),e.rXU(Z.Wk,8))}),(0,w.A)(J,"\u0275dir",e.FsC({type:j,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(V,ge){1&V&&e.bIt("click",function(ne){return ge.onClick(ne)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[e.OA$]})),J})();const Yo=j=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(j):"function"==typeof requestAnimationFrame?requestAnimationFrame(j):setTimeout(j);class Ps{constructor(J){(0,w.A)(this,"ctrl",void 0),this.ctrl=J}create(J){return this.ctrl.create(J||{})}dismiss(J,_e,V){return this.ctrl.dismiss(J,_e,V)}getTop(){return this.ctrl.getTop()}}Be(9986),Be(2725),Be(8454),Be(3314),Be(8607);var ro=Be(3664),To=Be(464),Hi=(Be(5465),Be(6002)),yo=(Be(8476),Be(9672));Be(1970),Be(6411);const Bo=ro.i,ra=function(){var j=(0,ot.A)(function*(J,_e){if(!(typeof window>"u"))return yield Bo(),(0,yo.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),_e)});return function(_e,V){return j.apply(this,arguments)}}(),Jn=["*"],Ds=["outletContent"],kl=(j,J)=>{const _e=j.prototype;J.forEach(V=>{Object.defineProperty(_e,V,{get(){return this.el[V]},set(ge){this.z.runOutsideAngular(()=>this.el[V]=ge)},configurable:!0})})},as=(j,J)=>{const _e=j.prototype;J.forEach(V=>{_e[V]=function(){const ge=arguments;return this.z.runOutsideAngular(()=>this.el[V].apply(this.el,ge))}})};function Tr(j){return function(_e){const{defineCustomElementFn:V,inputs:ge,methods:x}=j;return void 0!==V&&V(),ge&&kl(_e,ge),x&&as(_e,x),_e}}let At=(()=>{var j;let J=((0,w.A)(j=class{constructor(V,ge,x){(0,w.A)(this,"z",void 0),(0,w.A)(this,"el",void 0),this.z=x,V.detach(),this.el=ge.nativeElement}},"\u0275fac",function(V){return new(V||j)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(e.SKi))}),(0,w.A)(j,"\u0275cmp",e.VBU({type:j,selectors:[["ion-app"]],ngContentSelectors:Jn,decls:1,vars:0,template:function(V,ge){1&V&&(e.NAR(),e.SdG(0))},encapsulation:2,changeDetection:0})),j);return J=(0,Yn.Cg)([Tr({})],J),J})(),wr=(()=>{var j;let J=((0,w.A)(j=class{constructor(V,ge,x){(0,w.A)(this,"z",void 0),(0,w.A)(this,"el",void 0),this.z=x,V.detach(),this.el=ge.nativeElement}},"\u0275fac",function(V){return new(V||j)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(e.SKi))}),(0,w.A)(j,"\u0275cmp",e.VBU({type:j,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Jn,decls:1,vars:0,template:function(V,ge){1&V&&(e.NAR(),e.SdG(0))},encapsulation:2,changeDetection:0})),j);return J=(0,Yn.Cg)([Tr({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],J),J})(),rl=(()=>{var j;let J=((0,w.A)(j=class{constructor(V,ge,x){(0,w.A)(this,"z",void 0),(0,w.A)(this,"el",void 0),this.z=x,V.detach(),this.el=ge.nativeElement}},"\u0275fac",function(V){return new(V||j)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(e.SKi))}),(0,w.A)(j,"\u0275cmp",e.VBU({type:j,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Jn,decls:1,vars:0,template:function(V,ge){1&V&&(e.NAR(),e.SdG(0))},encapsulation:2,changeDetection:0})),j);return J=(0,Yn.Cg)([Tr({inputs:["color","mode","position"]})],J),J})(),sa=(()=>{var j;class J extends Ao{constructor(V,ge,x,ne,je,se,Ve,ut){super(V,ge,x,ne,je,se,Ve,ut),(0,w.A)(this,"parentOutlet",void 0),(0,w.A)(this,"outletContent",void 0),this.parentOutlet=ut}}return j=J,(0,w.A)(J,"\u0275fac",function(V){return new(V||j)(e.kS0("name"),e.kS0("tabs"),e.rXU(tt.aZ),e.rXU(e.aKT),e.rXU(Z.Ix),e.rXU(e.SKi),e.rXU(Z.nX),e.rXU(j,12))}),(0,w.A)(J,"\u0275cmp",e.VBU({type:j,selectors:[["ion-router-outlet"]],viewQuery:function(V,ge){if(1&V&&e.GBs(Ds,7,e.c1b),2&V){let x;e.mGM(x=e.lsd())&&(ge.outletContent=x.first)}},features:[e.Vt3],ngContentSelectors:Jn,decls:3,vars:0,consts:[["outletContent",""]],template:function(V,ge){1&V&&(e.NAR(),e.qex(0,null,0),e.SdG(2),e.bVm())},encapsulation:2})),J})(),qa=(()=>{var j;class J extends Mi{}return j=J,(0,w.A)(J,"\u0275fac",(()=>{let _e;return function(ge){return(_e||(_e=e.xGo(j)))(ge||j)}})()),(0,w.A)(J,"\u0275dir",e.FsC({type:j,selectors:[["","routerLink","",5,"a",5,"area"]],features:[e.Vt3]})),J})();const bs={provide:wt.cz,useExisting:(0,e.Rfq)(()=>Ba),multi:!0};let Ba=(()=>{var j;class J extends wt.zX{}return j=J,(0,w.A)(J,"\u0275fac",(()=>{let _e;return function(ge){return(_e||(_e=e.xGo(j)))(ge||j)}})()),(0,w.A)(J,"\u0275dir",e.FsC({type:j,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(V,ge){2&V&&e.BMQ("max",ge._enabled?ge.max:null)},features:[e.Jv_([bs]),e.Vt3]})),J})();const wa={provide:wt.cz,useExisting:(0,e.Rfq)(()=>Sl),multi:!0};let Sl=(()=>{var j;class J extends wt.VZ{}return j=J,(0,w.A)(J,"\u0275fac",(()=>{let _e;return function(ge){return(_e||(_e=e.xGo(j)))(ge||j)}})()),(0,w.A)(J,"\u0275dir",e.FsC({type:j,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(V,ge){2&V&&e.BMQ("min",ge._enabled?ge.min:null)},features:[e.Jv_([wa]),e.Vt3]})),J})(),sl=(()=>{var j;class J extends Ps{constructor(){super(Hi.m),(0,w.A)(this,"angularDelegate",(0,e.WQX)(xi)),(0,w.A)(this,"injector",(0,e.WQX)(e.zZn)),(0,w.A)(this,"environmentInjector",(0,e.WQX)(e.uvJ))}create(V){return super.create({...V,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return j=J,(0,w.A)(J,"\u0275fac",function(V){return new(V||j)}),(0,w.A)(J,"\u0275prov",e.jDH({token:j,factory:j.\u0275fac})),J})();class yc extends Ps{constructor(){super(Hi.c),(0,w.A)(this,"angularDelegate",(0,e.WQX)(xi)),(0,w.A)(this,"injector",(0,e.WQX)(e.zZn)),(0,w.A)(this,"environmentInjector",(0,e.WQX)(e.uvJ))}create(J){return super.create({...J,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let Dc=(()=>{var j;class J extends Ps{constructor(){super(Hi.t)}}return j=J,(0,w.A)(J,"\u0275fac",function(V){return new(V||j)}),(0,w.A)(J,"\u0275prov",e.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})),J})();const zc=(j,J,_e)=>()=>{const V=J.defaultView;if(V&&typeof window<"u"){(0,To.s)({...j,_zoneGate:x=>_e.run(x)});const ge="__zone_symbol__addEventListener"in J.body?"__zone_symbol__addEventListener":"addEventListener";return function Oa(){var j=[];if(typeof window<"u"){var J=window;(!J.customElements||J.Element&&(!J.Element.prototype.closest||!J.Element.prototype.matches||!J.Element.prototype.remove||!J.Element.prototype.getRootNode))&&j.push(Be.e(7278).then(Be.t.bind(Be,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||J.NodeList&&!J.NodeList.prototype.forEach||!J.fetch||!function(){try{var V=new URL("b","http://a");return V.pathname="c%20d","http://a/c%20d"===V.href&&V.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&j.push(Be.e(9329).then(Be.t.bind(Be,7783,23)))}return Promise.all(j)}().then(()=>ra(V,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Yo,jmp:x=>_e.runOutsideAngular(x),ael(x,ne,je,se){x[ge](ne,je,se)},rel(x,ne,je,se){x.removeEventListener(ne,je,se)}}))}};let au=(()=>{var j;class J{static forRoot(V={}){return{ngModule:J,providers:[{provide:Mo,useValue:V},{provide:e.hnV,useFactory:zc,multi:!0,deps:[Mo,tt.qQ,e.SKi]},xi,{provide:$a,useFactory:_n,deps:[Z.Ix]}]}}}return j=J,(0,w.A)(J,"\u0275fac",function(V){return new(V||j)}),(0,w.A)(J,"\u0275mod",e.$C({type:j})),(0,w.A)(J,"\u0275inj",e.G2t({providers:[sl,yc],imports:[tt.MD]})),J})()},7935:(Kr,dn,Be)=>{"use strict";Be.d(dn,{A:()=>w.A});var w=Be(3345);w.A.registerVersion("firebase","10.12.2","app-compat")},4635:(Kr,dn,Be)=>{"use strict";var w=Be(467),e=Be(3345),wt=Be(7852),ot=Be(1076),Z=Be(8041),tt=Be(1635),Ze=Be(1362);const Ut={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const An=function Mt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},mn=function Ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qt=new ot.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Un=new Z.Vy("@firebase/auth");function Tn(F,...v){Un.logLevel<=Z.$b.ERROR&&Un.error(`Auth (${wt.SDK_VERSION}): ${F}`,...v)}function bt(F,...v){throw Dn(F,...v)}function Vt(F,...v){return Dn(F,...v)}function wn(F,v,C){const M=Object.assign(Object.assign({},mn()),{[v]:C});return new ot.FA("auth","Firebase",M).create(v,{appName:F.name})}function Yt(F){return wn(F,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cn(F,v,C){if(!(v instanceof C))throw C.name!==v.constructor.name&&bt(F,"argument-error"),wn(F,"argument-error",`Type of ${v.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dn(F,...v){if("string"!=typeof F){const C=v[0],M=[...v.slice(1)];return M[0]&&(M[0].appName=F.name),F._errorFactory.create(C,...M)}return qt.create(F,...v)}function nt(F,v,...C){if(!F)throw Dn(v,...C)}function zn(F){const v="INTERNAL ASSERTION FAILED: "+F;throw Tn(v),new Error(v)}function yr(F,v){F||zn(v)}function xr(){var F;return typeof self<"u"&&(null===(F=self.location)||void 0===F?void 0:F.href)||""}function Kt(){return"http:"===Vn()||"https:"===Vn()}function Vn(){var F;return typeof self<"u"&&(null===(F=self.location)||void 0===F?void 0:F.protocol)||null}class we{constructor(v,C){this.shortDelay=v,this.longDelay=C,yr(C>v,"Short delay should be less than long delay!"),this.isMobile=(0,ot.jZ)()||(0,ot.lV)()}get(){return function kn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kt()||(0,ot.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fe(F,v){yr(F.emulator,"Emulator should always be set here");const{url:C}=F.emulator;return v?`${C}${v.startsWith("/")?v.slice(1):v}`:C}class Le{static initialize(v,C,M){this.fetchImpl=v,C&&(this.headersImpl=C),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bn=new we(3e4,6e4);function sn(F,v){return F.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:F.tenantId}):v}function Rn(F,v,C,M){return dr.apply(this,arguments)}function dr(){return(dr=(0,w.A)(function*(F,v,C,M,ae={}){return bi(F,ae,(0,w.A)(function*(){let Se={},yt={};M&&("GET"===v?yt=M:Se={body:JSON.stringify(M)});const ye=(0,ot.Am)(Object.assign({key:F.config.apiKey},yt)).slice(1),Ke=yield F._getAdditionalHeaders();return Ke["Content-Type"]="application/json",F.languageCode&&(Ke["X-Firebase-Locale"]=F.languageCode),Le.fetch()(Yn(F,F.config.apiHost,C,ye),Object.assign({method:v,headers:Ke,referrerPolicy:"no-referrer"},Se))}))})).apply(this,arguments)}function bi(F,v,C){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,w.A)(function*(F,v,C){F._canInitEmulator=!1;const M=Object.assign(Object.assign({},Rt),v);try{const ae=new kr(F),Se=yield Promise.race([C(),ae.promise]);ae.clearNetworkTimeout();const yt=yield Se.json();if("needConfirmation"in yt)throw Di(F,"account-exists-with-different-credential",yt);if(Se.ok&&!("errorMessage"in yt))return yt;{const ye=Se.ok?yt.errorMessage:yt.error.message,[Ke,gt]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw Di(F,"credential-already-in-use",yt);if("EMAIL_EXISTS"===Ke)throw Di(F,"email-already-in-use",yt);if("USER_DISABLED"===Ke)throw Di(F,"user-disabled",yt);const Dt=M[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(gt)throw wn(F,Dt,gt);bt(F,Dt)}}catch(ae){if(ae instanceof ot.g)throw ae;bt(F,"network-request-failed",{message:String(ae)})}})).apply(this,arguments)}function ui(F,v,C,M){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,w.A)(function*(F,v,C,M,ae={}){const Se=yield Rn(F,v,C,M,ae);return"mfaPendingCredential"in Se&&bt(F,"multi-factor-auth-required",{_serverResponse:Se}),Se})).apply(this,arguments)}function Yn(F,v,C,M){const ae=`${v}${C}?${M}`;return F.config.emulator?Fe(F.config,ae):`${F.config.apiScheme}://${ae}`}function Yi(F){switch(F){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kr{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((C,M)=>{this.timer=setTimeout(()=>M(Vt(this.auth,"network-request-failed")),bn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Di(F,v,C){const M={appName:F.name};C.email&&(M.email=C.email),C.phoneNumber&&(M.phoneNumber=C.phoneNumber);const ae=Vt(F,v,M);return ae.customData._tokenResponse=C,ae}function Wi(F){return void 0!==F&&void 0!==F.getResponse}function fr(F){return void 0!==F&&void 0!==F.enterprise}class Pt{constructor(v){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=v.recaptchaEnforcementState}getProviderEnforcementState(v){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const C of this.recaptchaEnforcementState)if(C.provider&&C.provider===v)return Yi(C.enforcementState);return null}isProviderEnabled(v){return"ENFORCE"===this.getProviderEnforcementState(v)||"AUDIT"===this.getProviderEnforcementState(v)}}function vn(){return(vn=(0,w.A)(function*(F){return(yield Rn(F,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $r(F,v){return si.apply(this,arguments)}function si(){return(si=(0,w.A)(function*(F,v){return Rn(F,"GET","/v2/recaptchaConfig",sn(F,v))})).apply(this,arguments)}function di(){return(di=(0,w.A)(function*(F,v){return Rn(F,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function Er(){return(Er=(0,w.A)(function*(F,v){return Rn(F,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function ri(F,v){return eo.apply(this,arguments)}function eo(){return(eo=(0,w.A)(function*(F,v){return Rn(F,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function uo(F){if(F)try{const v=new Date(Number(F));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function Mo(){return(Mo=(0,w.A)(function*(F,v=!1){const C=(0,ot.Ku)(F),M=yield C.getIdToken(v),ae=ko(M);nt(ae&&ae.exp&&ae.auth_time&&ae.iat,C.auth,"internal-error");const Se="object"==typeof ae.firebase?ae.firebase:void 0,yt=null==Se?void 0:Se.sign_in_provider;return{claims:ae,token:M,authTime:uo(Zr(ae.auth_time)),issuedAtTime:uo(Zr(ae.iat)),expirationTime:uo(Zr(ae.exp)),signInProvider:yt||null,signInSecondFactor:(null==Se?void 0:Se.sign_in_second_factor)||null}})).apply(this,arguments)}function Zr(F){return 1e3*Number(F)}function ko(F){const[v,C,M]=F.split(".");if(void 0===v||void 0===C||void 0===M)return Tn("JWT malformed, contained fewer than 3 sections"),null;try{const ae=(0,ot.u)(C);return ae?JSON.parse(ae):(Tn("Failed to decode base64 JWT payload"),null)}catch(ae){return Tn("Caught error parsing JWT payload as JSON",null==ae?void 0:ae.toString()),null}}function xi(F){const v=ko(F);return nt(v,"internal-error"),nt(typeof v.exp<"u","internal-error"),nt(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}function Qi(F,v){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,w.A)(function*(F,v,C=!1){if(C)return v;try{return yield v}catch(M){throw M instanceof ot.g&&function Wr({code:F}){return"auth/user-disabled"===F||"auth/user-token-expired"===F}(M)&&F.auth.currentUser===F&&(yield F.auth.signOut()),M}})).apply(this,arguments)}class cn{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var C;if(v){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const ae=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,ae)}}schedule(v=!1){var C=this;if(!this.isRunning)return;const M=this.getInterval(v);this.timerId=setTimeout((0,w.A)(function*(){yield C.iteration()}),M)}iteration(){var v=this;return(0,w.A)(function*(){try{yield v.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null==C?void 0:C.code)&&v.schedule(!0))}v.schedule()})()}}class Co{constructor(v,C){this.createdAt=v,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=uo(this.lastLoginAt),this.creationTime=uo(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vo(F){return ps.apply(this,arguments)}function ps(){return(ps=(0,w.A)(function*(F){var v;const C=F.auth,M=yield F.getIdToken(),ae=yield Qi(F,ri(C,{idToken:M}));nt(null==ae?void 0:ae.users.length,C,"internal-error");const Se=ae.users[0];F._notifyReloadListener(Se);const yt=null!==(v=Se.providerUserInfo)&&void 0!==v&&v.length?Wt(Se.providerUserInfo):[],ye=function Bn(F,v){return[...F.filter(M=>!v.some(ae=>ae.providerId===M.providerId)),...v]}(F.providerData,yt),Dt=!!F.isAnonymous&&!(F.email&&Se.passwordHash||null!=ye&&ye.length),Lt={uid:Se.localId,displayName:Se.displayName||null,photoURL:Se.photoUrl||null,email:Se.email||null,emailVerified:Se.emailVerified||!1,phoneNumber:Se.phoneNumber||null,tenantId:Se.tenantId||null,providerData:ye,metadata:new Co(Se.createdAt,Se.lastLoginAt),isAnonymous:Dt};Object.assign(F,Lt)})).apply(this,arguments)}function jt(){return(jt=(0,w.A)(function*(F){const v=(0,ot.Ku)(F);yield Vo(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function Wt(F){return F.map(v=>{var{providerId:C}=v,M=(0,tt.Tt)(v,["providerId"]);return{providerId:C,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function rt(){return(rt=(0,w.A)(function*(F,v){const C=yield bi(F,{},(0,w.A)(function*(){const M=(0,ot.Am)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:ae,apiKey:Se}=F.config,yt=Yn(F,ae,"/v1/token",`key=${Se}`),ye=yield F._getAdditionalHeaders();return ye["Content-Type"]="application/x-www-form-urlencoded",Le.fetch()(yt,{method:"POST",headers:ye,body:M})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}function Fn(){return(Fn=(0,w.A)(function*(F,v){return Rn(F,"POST","/v2/accounts:revokeToken",sn(F,v))})).apply(this,arguments)}class zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){nt(v.idToken,"internal-error"),nt(typeof v.idToken<"u","internal-error"),nt(typeof v.refreshToken<"u","internal-error");const C="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):xi(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,C)}updateFromIdToken(v){nt(0!==v.length,"internal-error");const C=xi(v);this.updateTokensAndExpiration(v,null,C)}getToken(v,C=!1){var M=this;return(0,w.A)(function*(){return C||!M.accessToken||M.isExpired?(nt(M.refreshToken,v,"user-token-expired"),M.refreshToken?(yield M.refresh(v,M.refreshToken),M.accessToken):null):M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,C){var M=this;return(0,w.A)(function*(){const{accessToken:ae,refreshToken:Se,expiresIn:yt}=yield function Ye(F,v){return rt.apply(this,arguments)}(v,C);M.updateTokensAndExpiration(ae,Se,Number(yt))})()}updateTokensAndExpiration(v,C,M){this.refreshToken=C||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(v,C){const{refreshToken:M,accessToken:ae,expirationTime:Se}=C,yt=new zt;return M&&(nt("string"==typeof M,"internal-error",{appName:v}),yt.refreshToken=M),ae&&(nt("string"==typeof ae,"internal-error",{appName:v}),yt.accessToken=ae),Se&&(nt("number"==typeof Se,"internal-error",{appName:v}),yt.expirationTime=Se),yt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new zt,this.toJSON())}_performRefresh(){return zn("not implemented")}}function gr(F,v){nt("string"==typeof F||typeof F>"u","internal-error",{appName:v})}class Nr{constructor(v){var{uid:C,auth:M,stsTokenManager:ae}=v,Se=(0,tt.Tt)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=M,this.stsTokenManager=ae,this.accessToken=ae.accessToken,this.displayName=Se.displayName||null,this.email=Se.email||null,this.emailVerified=Se.emailVerified||!1,this.phoneNumber=Se.phoneNumber||null,this.photoURL=Se.photoURL||null,this.isAnonymous=Se.isAnonymous||!1,this.tenantId=Se.tenantId||null,this.providerData=Se.providerData?[...Se.providerData]:[],this.metadata=new Co(Se.createdAt||void 0,Se.lastLoginAt||void 0)}getIdToken(v){var C=this;return(0,w.A)(function*(){const M=yield Qi(C,C.stsTokenManager.getToken(C.auth,v));return nt(M,C.auth,"internal-error"),C.accessToken!==M&&(C.accessToken=M,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),M})()}getIdTokenResult(v){return function Ro(F){return Mo.apply(this,arguments)}(this,v)}reload(){return function Jt(F){return jt.apply(this,arguments)}(this)}_assign(v){this!==v&&(nt(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(C=>Object.assign({},C)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const C=new Nr(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return C.metadata._copy(this.metadata),C}_onReload(v){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,C=!1){var M=this;return(0,w.A)(function*(){let ae=!1;v.idToken&&v.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(v),ae=!0),C&&(yield Vo(M)),yield M.auth._persistUserIfCurrent(M),ae&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var v=this;return(0,w.A)(function*(){if((0,wt._isFirebaseServerApp)(v.auth.app))return Promise.reject(Yt(v.auth));const C=yield v.getIdToken();return yield Qi(v,function lr(F,v){return di.apply(this,arguments)}(v.auth,{idToken:C})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,C){var M,ae,Se,yt,ye,Ke,gt,Dt;const Lt=null!==(M=C.displayName)&&void 0!==M?M:void 0,xn=null!==(ae=C.email)&&void 0!==ae?ae:void 0,Kn=null!==(Se=C.phoneNumber)&&void 0!==Se?Se:void 0,qn=null!==(yt=C.photoURL)&&void 0!==yt?yt:void 0,ti=null!==(ye=C.tenantId)&&void 0!==ye?ye:void 0,zr=null!==(Ke=C._redirectEventId)&&void 0!==Ke?Ke:void 0,gi=null!==(gt=C.createdAt)&&void 0!==gt?gt:void 0,Ci=null!==(Dt=C.lastLoginAt)&&void 0!==Dt?Dt:void 0,{uid:Po,emailVerified:Ar,isAnonymous:Ht,providerData:jo,stsTokenManager:Ki}=C;nt(Po&&Ki,v,"internal-error");const Gr=zt.fromJSON(this.name,Ki);nt("string"==typeof Po,v,"internal-error"),gr(Lt,v.name),gr(xn,v.name),nt("boolean"==typeof Ar,v,"internal-error"),nt("boolean"==typeof Ht,v,"internal-error"),gr(Kn,v.name),gr(qn,v.name),gr(ti,v.name),gr(zr,v.name),gr(gi,v.name),gr(Ci,v.name);const li=new Nr({uid:Po,auth:v,email:xn,emailVerified:Ar,displayName:Lt,isAnonymous:Ht,photoURL:qn,phoneNumber:Kn,tenantId:ti,stsTokenManager:Gr,createdAt:gi,lastLoginAt:Ci});return jo&&Array.isArray(jo)&&(li.providerData=jo.map(Ii=>Object.assign({},Ii))),zr&&(li._redirectEventId=zr),li}static _fromIdTokenResponse(v,C,M=!1){return(0,w.A)(function*(){const ae=new zt;ae.updateFromServerResponse(C);const Se=new Nr({uid:C.localId,auth:v,stsTokenManager:ae,isAnonymous:M});return yield Vo(Se),Se})()}static _fromGetAccountInfoResponse(v,C,M){return(0,w.A)(function*(){const ae=C.users[0];nt(void 0!==ae.localId,"internal-error");const Se=void 0!==ae.providerUserInfo?Wt(ae.providerUserInfo):[],yt=!(ae.email&&ae.passwordHash||null!=Se&&Se.length),ye=new zt;ye.updateFromIdToken(M);const Ke=new Nr({uid:ae.localId,auth:v,stsTokenManager:ye,isAnonymous:yt}),gt={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:Se,metadata:new Co(ae.createdAt,ae.lastLoginAt),isAnonymous:!(ae.email&&ae.passwordHash||null!=Se&&Se.length)};return Object.assign(Ke,gt),Ke})()}}const qr=new Map;function ji(F){yr(F instanceof Function,"Expected a class definition");let v=qr.get(F);return v?(yr(v instanceof F,"Instance stored in cache mismatched with class"),v):(v=new F,qr.set(F,v),v)}const ks=(()=>{class F{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.A)(function*(){return!0})()}_set(C,M){var ae=this;return(0,w.A)(function*(){ae.storage[C]=M})()}_get(C){var M=this;return(0,w.A)(function*(){const ae=M.storage[C];return void 0===ae?null:ae})()}_remove(C){var M=this;return(0,w.A)(function*(){delete M.storage[C]})()}_addListener(C,M){}_removeListener(C,M){}}return F.type="NONE",F})();function ai(F,v,C){return`firebase:${F}:${v}:${C}`}class Fr{constructor(v,C,M){this.persistence=v,this.auth=C,this.userKey=M;const{config:ae,name:Se}=this.auth;this.fullUserKey=ai(this.userKey,ae.apiKey,Se),this.fullPersistenceKey=ai("persistence",ae.apiKey,Se),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,w.A)(function*(){const C=yield v.persistence._get(v.fullUserKey);return C?Nr._fromJSON(v.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var C=this;return(0,w.A)(function*(){if(C.persistence===v)return;const M=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=v,M?C.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,C,M="authUser"){return(0,w.A)(function*(){if(!C.length)return new Fr(ji(ks),v,M);const ae=(yield Promise.all(C.map(function(){var gt=(0,w.A)(function*(Dt){if(yield Dt._isAvailable())return Dt});return function(Dt){return gt.apply(this,arguments)}}()))).filter(gt=>gt);let Se=ae[0]||ji(ks);const yt=ai(M,v.config.apiKey,v.name);let ye=null;for(const gt of C)try{const Dt=yield gt._get(yt);if(Dt){const Lt=Nr._fromJSON(v,Dt);gt!==Se&&(ye=Lt),Se=gt;break}}catch{}const Ke=ae.filter(gt=>gt._shouldAllowMigration);return Se._shouldAllowMigration&&Ke.length?(Se=Ke[0],ye&&(yield Se._set(yt,ye.toJSON())),yield Promise.all(C.map(function(){var gt=(0,w.A)(function*(Dt){if(Dt!==Se)try{yield Dt._remove(yt)}catch{}});return function(Dt){return gt.apply(this,arguments)}}())),new Fr(Se,v,M)):new Fr(Se,v,M)})()}}function gs(F){const v=F.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(nl(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(na(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(vl(v))return"Blackberry";if($a(v))return"Webos";if(Xs(v))return"Safari";if((v.includes("chrome/")||ml(v))&&!v.includes("edge/"))return"Chrome";if(Ao(v))return"Android";{const M=F.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==M?void 0:M.length))return M[1]}return"Other"}function na(F=(0,ot.ZQ)()){return/firefox\//i.test(F)}function Xs(F=(0,ot.ZQ)()){const v=F.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function ml(F=(0,ot.ZQ)()){return/crios\//i.test(F)}function nl(F=(0,ot.ZQ)()){return/iemobile/i.test(F)}function Ao(F=(0,ot.ZQ)()){return/android/i.test(F)}function vl(F=(0,ot.ZQ)()){return/blackberry/i.test(F)}function $a(F=(0,ot.ZQ)()){return/webos/i.test(F)}function ua(F=(0,ot.ZQ)()){return/iphone|ipad|ipod/i.test(F)||/macintosh/i.test(F)&&/mobile/i.test(F)}function Mr(F=(0,ot.ZQ)()){return ua(F)||Ao(F)||$a(F)||vl(F)||/windows phone/i.test(F)||nl(F)}function pn(F,v=[]){let C;switch(F){case"Browser":C=gs((0,ot.ZQ)());break;case"Worker":C=`${gs((0,ot.ZQ)())}-${F}`;break;default:C=F}const M=v.length?v.join(","):"FirebaseCore-web";return`${C}/JsCore/${wt.SDK_VERSION}/${M}`}class pr{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,C){const M=Se=>new Promise((yt,ye)=>{try{yt(v(Se))}catch(Ke){ye(Ke)}});M.onAbort=C,this.queue.push(M);const ae=this.queue.length-1;return()=>{this.queue[ae]=()=>Promise.resolve()}}runMiddleware(v){var C=this;return(0,w.A)(function*(){if(C.auth.currentUser===v)return;const M=[];try{for(const ae of C.queue)yield ae(v),ae.onAbort&&M.push(ae.onAbort)}catch(ae){M.reverse();for(const Se of M)try{Se()}catch{}throw C.auth._errorFactory.create("login-blocked",{originalMessage:null==ae?void 0:ae.message})}})()}}function Dr(){return(Dr=(0,w.A)(function*(F,v={}){return Rn(F,"GET","/v2/passwordPolicy",sn(F,v))})).apply(this,arguments)}class Yo{constructor(v){var C,M,ae,Se;const yt=v.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(C=yt.minPasswordLength)&&void 0!==C?C:6,yt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=yt.maxPasswordLength),void 0!==yt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=yt.containsLowercaseCharacter),void 0!==yt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=yt.containsUppercaseCharacter),void 0!==yt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=yt.containsNumericCharacter),void 0!==yt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=yt.containsNonAlphanumericCharacter),this.enforcementState=v.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(ae=null===(M=v.allowedNonAlphanumericCharacters)||void 0===M?void 0:M.join(""))&&void 0!==ae?ae:"",this.forceUpgradeOnSignin=null!==(Se=v.forceUpgradeOnSignin)&&void 0!==Se&&Se,this.schemaVersion=v.schemaVersion}validatePassword(v){var C,M,ae,Se,yt,ye;const Ke={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(v,Ke),this.validatePasswordCharacterOptions(v,Ke),Ke.isValid&&(Ke.isValid=null===(C=Ke.meetsMinPasswordLength)||void 0===C||C),Ke.isValid&&(Ke.isValid=null===(M=Ke.meetsMaxPasswordLength)||void 0===M||M),Ke.isValid&&(Ke.isValid=null===(ae=Ke.containsLowercaseLetter)||void 0===ae||ae),Ke.isValid&&(Ke.isValid=null===(Se=Ke.containsUppercaseLetter)||void 0===Se||Se),Ke.isValid&&(Ke.isValid=null===(yt=Ke.containsNumericCharacter)||void 0===yt||yt),Ke.isValid&&(Ke.isValid=null===(ye=Ke.containsNonAlphanumericCharacter)||void 0===ye||ye),Ke}validatePasswordLengthOptions(v,C){const M=this.customStrengthOptions.minPasswordLength,ae=this.customStrengthOptions.maxPasswordLength;M&&(C.meetsMinPasswordLength=v.length>=M),ae&&(C.meetsMaxPasswordLength=v.length<=ae)}validatePasswordCharacterOptions(v,C){let M;this.updatePasswordCharacterOptionsStatuses(C,!1,!1,!1,!1);for(let ae=0;ae<v.length;ae++)M=v.charAt(ae),this.updatePasswordCharacterOptionsStatuses(C,M>="a"&&M<="z",M>="A"&&M<="Z",M>="0"&&M<="9",this.allowedNonAlphanumericCharacters.includes(M))}updatePasswordCharacterOptionsStatuses(v,C,M,ae,Se){this.customStrengthOptions.containsLowercaseLetter&&(v.containsLowercaseLetter||(v.containsLowercaseLetter=C)),this.customStrengthOptions.containsUppercaseLetter&&(v.containsUppercaseLetter||(v.containsUppercaseLetter=M)),this.customStrengthOptions.containsNumericCharacter&&(v.containsNumericCharacter||(v.containsNumericCharacter=ae)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(v.containsNonAlphanumericCharacter||(v.containsNonAlphanumericCharacter=Se))}}class va{constructor(v,C,M,ae){this.app=v,this.heartbeatServiceProvider=C,this.appCheckServiceProvider=M,this.config=ae,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new no(this),this.idTokenSubscription=new no(this),this.beforeStateQueue=new pr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=ae.sdkClientVersion}_initializeWithPersistence(v,C){var M=this;return C&&(this._popupRedirectResolver=ji(C)),this._initializationPromise=this.queue((0,w.A)(function*(){var ae,Se;if(!M._deleted&&(M.persistenceManager=yield Fr.create(M,v),!M._deleted)){if(null!==(ae=M._popupRedirectResolver)&&void 0!==ae&&ae._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(C),M.lastNotifiedUid=(null===(Se=M.currentUser)||void 0===Se?void 0:Se.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,w.A)(function*(){if(v._deleted)return;const C=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||C){if(v.currentUser&&C&&v.currentUser.uid===C.uid)return v._currentUser._assign(C),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(C,!0)}})()}initializeCurrentUserFromIdToken(v){var C=this;return(0,w.A)(function*(){try{const M=yield ri(C,{idToken:v}),ae=yield Nr._fromGetAccountInfoResponse(C,M,v);yield C.directlySetCurrentUser(ae)}catch(M){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",M),yield C.directlySetCurrentUser(null)}})()}initializeCurrentUser(v){var C=this;return(0,w.A)(function*(){var M;if((0,wt._isFirebaseServerApp)(C.app)){const ye=C.app.settings.authIdToken;return ye?new Promise(Ke=>{setTimeout(()=>C.initializeCurrentUserFromIdToken(ye).then(Ke,Ke))}):C.directlySetCurrentUser(null)}const ae=yield C.assertedPersistence.getCurrentUser();let Se=ae,yt=!1;if(v&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const ye=null===(M=C.redirectUser)||void 0===M?void 0:M._redirectEventId,Ke=null==Se?void 0:Se._redirectEventId,gt=yield C.tryRedirectSignIn(v);(!ye||ye===Ke)&&null!=gt&&gt.user&&(Se=gt.user,yt=!0)}if(!Se)return C.directlySetCurrentUser(null);if(!Se._redirectEventId){if(yt)try{yield C.beforeStateQueue.runMiddleware(Se)}catch(ye){Se=ae,C._popupRedirectResolver._overrideRedirectResult(C,()=>Promise.reject(ye))}return Se?C.reloadAndSetCurrentUserOrClear(Se):C.directlySetCurrentUser(null)}return nt(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===Se._redirectEventId?C.directlySetCurrentUser(Se):C.reloadAndSetCurrentUserOrClear(Se)})()}tryRedirectSignIn(v){var C=this;return(0,w.A)(function*(){let M=null;try{M=yield C._popupRedirectResolver._completeRedirectFn(C,v,!0)}catch{yield C._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(v){var C=this;return(0,w.A)(function*(){try{yield Vo(v)}catch(M){if("auth/network-request-failed"!==(null==M?void 0:M.code))return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function st(){if(typeof navigator>"u")return null;const F=navigator;return F.languages&&F.languages[0]||F.language||null}()}_delete(){var v=this;return(0,w.A)(function*(){v._deleted=!0})()}updateCurrentUser(v){var C=this;return(0,w.A)(function*(){if((0,wt._isFirebaseServerApp)(C.app))return Promise.reject(Yt(C));const M=v?(0,ot.Ku)(v):null;return M&&nt(M.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(M&&M._clone(C))})()}_updateCurrentUser(v,C=!1){var M=this;return(0,w.A)(function*(){if(!M._deleted)return v&&nt(M.tenantId===v.tenantId,M,"tenant-id-mismatch"),C||(yield M.beforeStateQueue.runMiddleware(v)),M.queue((0,w.A)(function*(){yield M.directlySetCurrentUser(v),M.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,w.A)(function*(){return(0,wt._isFirebaseServerApp)(v.app)?Promise.reject(Yt(v)):(yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0))})()}setPersistence(v){var C=this;return(0,wt._isFirebaseServerApp)(this.app)?Promise.reject(Yt(this)):this.queue((0,w.A)(function*(){yield C.assertedPersistence.setPersistence(ji(v))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(v){var C=this;return(0,w.A)(function*(){C._getPasswordPolicyInternal()||(yield C._updatePasswordPolicy());const M=C._getPasswordPolicyInternal();return M.schemaVersion!==C.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(C._errorFactory.create("unsupported-password-policy-schema-version",{})):M.validatePassword(v)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var v=this;return(0,w.A)(function*(){const C=yield function Xr(F){return Dr.apply(this,arguments)}(v),M=new Yo(C);null===v.tenantId?v._projectPasswordPolicy=M:v._tenantPasswordPolicies[v.tenantId]=M})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new ot.FA("auth","Firebase",v())}onAuthStateChanged(v,C,M){return this.registerStateListener(this.authStateSubscription,v,C,M)}beforeAuthStateChanged(v,C){return this.beforeStateQueue.pushCallback(v,C)}onIdTokenChanged(v,C,M){return this.registerStateListener(this.idTokenSubscription,v,C,M)}authStateReady(){return new Promise((v,C)=>{if(this.currentUser)v();else{const M=this.onAuthStateChanged(()=>{M(),v()},C)}})}revokeAccessToken(v){var C=this;return(0,w.A)(function*(){if(C.currentUser){const M=yield C.currentUser.getIdToken(),ae={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:v,idToken:M};null!=C.tenantId&&(ae.tenantId=C.tenantId),yield function St(F,v){return Fn.apply(this,arguments)}(C,ae)}})()}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,C){var M=this;return(0,w.A)(function*(){const ae=yield M.getOrInitRedirectPersistenceManager(C);return null===v?ae.removeCurrentUser():ae.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var C=this;return(0,w.A)(function*(){if(!C.redirectPersistenceManager){const M=v&&ji(v)||C._popupRedirectResolver;nt(M,C,"argument-error"),C.redirectPersistenceManager=yield Fr.create(C,[ji(M._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(v){var C=this;return(0,w.A)(function*(){var M,ae;return C._isInitialized&&(yield C.queue((0,w.A)(function*(){}))),(null===(M=C._currentUser)||void 0===M?void 0:M._redirectEventId)===v?C._currentUser:(null===(ae=C.redirectUser)||void 0===ae?void 0:ae._redirectEventId)===v?C.redirectUser:null})()}_persistUserIfCurrent(v){var C=this;return(0,w.A)(function*(){if(v===C.currentUser)return C.queue((0,w.A)(function*(){return C.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(C=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,C,M,ae){if(this._deleted)return()=>{};const Se="function"==typeof C?C:C.next.bind(C);let yt=!1;const ye=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(ye,this,"internal-error"),ye.then(()=>{yt||Se(this.currentUser)}),"function"==typeof C){const Ke=v.addObserver(C,M,ae);return()=>{yt=!0,Ke()}}{const Ke=v.addObserver(C);return()=>{yt=!0,Ke()}}}directlySetCurrentUser(v){var C=this;return(0,w.A)(function*(){C.currentUser&&C.currentUser!==v&&C._currentUser._stopProactiveRefresh(),v&&C.isProactiveRefreshEnabled&&v._startProactiveRefresh(),C.currentUser=v,v?yield C.assertedPersistence.setCurrentUser(v):yield C.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=pn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,w.A)(function*(){var C;const M={"X-Client-Version":v.clientVersion};v.app.options.appId&&(M["X-Firebase-gmpid"]=v.app.options.appId);const ae=yield null===(C=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();ae&&(M["X-Firebase-Client"]=ae);const Se=yield v._getAppCheckToken();return Se&&(M["X-Firebase-AppCheck"]=Se),M})()}_getAppCheckToken(){var v=this;return(0,w.A)(function*(){var C;const M=yield null===(C=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getToken();return null!=M&&M.error&&function gn(F,...v){Un.logLevel<=Z.$b.WARN&&Un.warn(`Auth (${wt.SDK_VERSION}): ${F}`,...v)}(`Error while retrieving App Check token: ${M.error}`),null==M?void 0:M.token})()}}function ei(F){return(0,ot.Ku)(F)}class no{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,ot.tD)(C=>this.observer=C)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hi={loadJS:()=>(0,w.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ji(F){return hi.loadJS(F)}function Ms(F){return`__${F}${Math.floor(1e6*Math.random())}`}class ro{constructor(v){this.type="recaptcha-enterprise",this.auth=ei(v)}verify(v="verify",C=!1){var M=this;return(0,w.A)(function*(){function Se(){return Se=(0,w.A)(function*(ye){if(!C){if(null==ye.tenantId&&null!=ye._agentRecaptchaConfig)return ye._agentRecaptchaConfig.siteKey;if(null!=ye.tenantId&&void 0!==ye._tenantRecaptchaConfigs[ye.tenantId])return ye._tenantRecaptchaConfigs[ye.tenantId].siteKey}return new Promise(function(){var Ke=(0,w.A)(function*(gt,Dt){$r(ye,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Lt=>{if(void 0!==Lt.recaptchaKey){const xn=new Pt(Lt);return null==ye.tenantId?ye._agentRecaptchaConfig=xn:ye._tenantRecaptchaConfigs[ye.tenantId]=xn,gt(xn.siteKey)}Dt(new Error("recaptcha Enterprise site key undefined"))}).catch(Lt=>{Dt(Lt)})});return function(gt,Dt){return Ke.apply(this,arguments)}}())}),Se.apply(this,arguments)}function yt(ye,Ke,gt){const Dt=window.grecaptcha;fr(Dt)?Dt.enterprise.ready(()=>{Dt.enterprise.execute(ye,{action:v}).then(Lt=>{Ke(Lt)}).catch(()=>{Ke("NO_RECAPTCHA")})}):gt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ye,Ke)=>{(function ae(ye){return Se.apply(this,arguments)})(M.auth).then(gt=>{if(!C&&fr(window.grecaptcha))yt(gt,ye,Ke);else{if(typeof window>"u")return void Ke(new Error("RecaptchaVerifier is only supported in browser"));let Dt=function Il(){return hi.recaptchaEnterpriseScript}();0!==Dt.length&&(Dt+=gt),Ji(Dt).then(()=>{yt(gt,ye,Ke)}).catch(Lt=>{Ke(Lt)})}}).catch(gt=>{Ke(gt)})})})()}}function To(F,v,C){return Os.apply(this,arguments)}function Os(){return(Os=(0,w.A)(function*(F,v,C,M=!1){const ae=new ro(F);let Se;try{Se=yield ae.verify(C)}catch{Se=yield ae.verify(C,!0)}const yt=Object.assign({},v);return Object.assign(yt,M?{captchaResp:Se}:{captchaResponse:Se}),Object.assign(yt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(yt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),yt})).apply(this,arguments)}function Hi(F,v,C,M){return mi.apply(this,arguments)}function mi(){return mi=(0,w.A)(function*(F,v,C,M){var ae;if(null!==(ae=F._getRecaptchaConfig())&&void 0!==ae&&ae.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Se=yield To(F,v,C,"getOobCode"===C);return M(F,Se)}return M(F,v).catch(function(){var Se=(0,w.A)(function*(yt){if("auth/missing-recaptcha-token"===yt.code){console.log(`${C} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ye=yield To(F,v,C,"getOobCode"===C);return M(F,ye)}return Promise.reject(yt)});return function(yt){return Se.apply(this,arguments)}}())}),mi.apply(this,arguments)}function Bo(F){const v=F.indexOf(":");return v<0?"":F.substr(0,v+1)}function Jn(F){if(!F)return null;const v=Number(F);return isNaN(v)?null:v}class Ra{constructor(v,C){this.providerId=v,this.signInMethod=C}toJSON(){return zn("not implemented")}_getIdTokenResponse(v){return zn("not implemented")}_linkToIdToken(v,C){return zn("not implemented")}_getReauthenticationResolver(v){return zn("not implemented")}}function zi(F,v){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,w.A)(function*(F,v){return Rn(F,"POST","/v1/accounts:resetPassword",sn(F,v))})).apply(this,arguments)}function io(){return(io=(0,w.A)(function*(F,v){return Rn(F,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function ia(F,v){return ms.apply(this,arguments)}function ms(){return(ms=(0,w.A)(function*(F,v){return Rn(F,"POST","/v1/accounts:signUp",v)})).apply(this,arguments)}function Gs(){return(Gs=(0,w.A)(function*(F,v){return Rn(F,"POST","/v1/accounts:update",sn(F,v))})).apply(this,arguments)}function kl(F,v){return as.apply(this,arguments)}function as(){return(as=(0,w.A)(function*(F,v){return ui(F,"POST","/v1/accounts:signInWithPassword",sn(F,v))})).apply(this,arguments)}function ao(F,v){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,w.A)(function*(F,v){return Rn(F,"POST","/v1/accounts:sendOobCode",sn(F,v))})).apply(this,arguments)}function ts(){return(ts=(0,w.A)(function*(F,v){return ao(F,v)})).apply(this,arguments)}function ka(F,v){return Te.apply(this,arguments)}function Te(){return(Te=(0,w.A)(function*(F,v){return ao(F,v)})).apply(this,arguments)}function Je(F,v){return At.apply(this,arguments)}function At(){return(At=(0,w.A)(function*(F,v){return ao(F,v)})).apply(this,arguments)}function rn(){return(rn=(0,w.A)(function*(F,v){return ao(F,v)})).apply(this,arguments)}function Xn(){return(Xn=(0,w.A)(function*(F,v){return ui(F,"POST","/v1/accounts:signInWithEmailLink",sn(F,v))})).apply(this,arguments)}function or(){return(or=(0,w.A)(function*(F,v){return ui(F,"POST","/v1/accounts:signInWithEmailLink",sn(F,v))})).apply(this,arguments)}class er extends Ra{constructor(v,C,M,ae=null){super("password",M),this._email=v,this._password=C,this._tenantId=ae}static _fromEmailAndPassword(v,C){return new er(v,C,"password")}static _fromEmailAndCode(v,C,M=null){return new er(v,C,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const C="string"==typeof v?JSON.parse(v):v;if(null!=C&&C.email&&null!=C&&C.password){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(v){var C=this;return(0,w.A)(function*(){switch(C.signInMethod){case"password":return Hi(v,{returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",kl);case"emailLink":return function Zt(F,v){return Xn.apply(this,arguments)}(v,{email:C._email,oobCode:C._password});default:bt(v,"internal-error")}})()}_linkToIdToken(v,C){var M=this;return(0,w.A)(function*(){switch(M.signInMethod){case"password":return Hi(v,{idToken:C,returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ia);case"emailLink":return function $n(F,v){return or.apply(this,arguments)}(v,{idToken:C,email:M._email,oobCode:M._password});default:bt(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function ir(F,v){return _r.apply(this,arguments)}function _r(){return(_r=(0,w.A)(function*(F,v){return ui(F,"POST","/v1/accounts:signInWithIdp",sn(F,v))})).apply(this,arguments)}class Or extends Ra{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(v){const C=new Or(v.providerId,v.signInMethod);return v.idToken||v.accessToken?(v.idToken&&(C.idToken=v.idToken),v.accessToken&&(C.accessToken=v.accessToken),v.nonce&&!v.pendingToken&&(C.nonce=v.nonce),v.pendingToken&&(C.pendingToken=v.pendingToken)):v.oauthToken&&v.oauthTokenSecret?(C.accessToken=v.oauthToken,C.secret=v.oauthTokenSecret):bt("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(v){const C="string"==typeof v?JSON.parse(v):v,{providerId:M,signInMethod:ae}=C,Se=(0,tt.Tt)(C,["providerId","signInMethod"]);if(!M||!ae)return null;const yt=new Or(M,ae);return yt.idToken=Se.idToken||void 0,yt.accessToken=Se.accessToken||void 0,yt.secret=Se.secret,yt.nonce=Se.nonce,yt.pendingToken=Se.pendingToken||null,yt}_getIdTokenResponse(v){return ir(v,this.buildRequest())}_linkToIdToken(v,C){const M=this.buildRequest();return M.idToken=C,ir(v,M)}_getReauthenticationResolver(v){const C=this.buildRequest();return C.autoCreate=!1,ir(v,C)}buildRequest(){const v={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)v.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),v.postBody=(0,ot.Am)(C)}return v}}function Ko(){return(Ko=(0,w.A)(function*(F,v){return Rn(F,"POST","/v1/accounts:sendVerificationCode",sn(F,v))})).apply(this,arguments)}function Qo(){return(Qo=(0,w.A)(function*(F,v){return ui(F,"POST","/v1/accounts:signInWithPhoneNumber",sn(F,v))})).apply(this,arguments)}function Gi(){return(Gi=(0,w.A)(function*(F,v){const C=yield ui(F,"POST","/v1/accounts:signInWithPhoneNumber",sn(F,v));if(C.temporaryProof)throw Di(F,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const Ys={USER_NOT_FOUND:"user-not-found"};function be(){return(be=(0,w.A)(function*(F,v){return ui(F,"POST","/v1/accounts:signInWithPhoneNumber",sn(F,Object.assign(Object.assign({},v),{operation:"REAUTH"})),Ys)})).apply(this,arguments)}class _t extends Ra{constructor(v){super("phone","phone"),this.params=v}static _fromVerification(v,C){return new _t({verificationId:v,verificationCode:C})}static _fromTokenResponse(v,C){return new _t({phoneNumber:v,temporaryProof:C})}_getIdTokenResponse(v){return function Xi(F,v){return Qo.apply(this,arguments)}(v,this._makeVerificationRequest())}_linkToIdToken(v,C){return function br(F,v){return Gi.apply(this,arguments)}(v,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(v){return function Ne(F,v){return be.apply(this,arguments)}(v,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:v,phoneNumber:C,verificationId:M,verificationCode:ae}=this.params;return v&&C?{temporaryProof:v,phoneNumber:C}:{sessionInfo:M,code:ae}}toJSON(){const v={providerId:this.providerId};return this.params.phoneNumber&&(v.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(v.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(v.verificationCode=this.params.verificationCode),this.params.verificationId&&(v.verificationId=this.params.verificationId),v}static fromJSON(v){"string"==typeof v&&(v=JSON.parse(v));const{verificationId:C,verificationCode:M,phoneNumber:ae,temporaryProof:Se}=v;return M||C||ae||Se?new _t({verificationId:C,verificationCode:M,phoneNumber:ae,temporaryProof:Se}):null}}class Wn{constructor(v){var C,M,ae,Se,yt,ye;const Ke=(0,ot.I9)((0,ot.hp)(v)),gt=null!==(C=Ke.apiKey)&&void 0!==C?C:null,Dt=null!==(M=Ke.oobCode)&&void 0!==M?M:null,Lt=function Qt(F){switch(F){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ae=Ke.mode)&&void 0!==ae?ae:null);nt(gt&&Dt&&Lt,"argument-error"),this.apiKey=gt,this.operation=Lt,this.code=Dt,this.continueUrl=null!==(Se=Ke.continueUrl)&&void 0!==Se?Se:null,this.languageCode=null!==(yt=Ke.languageCode)&&void 0!==yt?yt:null,this.tenantId=null!==(ye=Ke.tenantId)&&void 0!==ye?ye:null}static parseLink(v){const C=function an(F){const v=(0,ot.I9)((0,ot.hp)(F)).link,C=v?(0,ot.I9)((0,ot.hp)(v)).deep_link_id:null,M=(0,ot.I9)((0,ot.hp)(F)).deep_link_id;return(M?(0,ot.I9)((0,ot.hp)(M)).link:null)||M||C||v||F}(v);try{return new Wn(C)}catch{return null}}}let _i=(()=>{class F{constructor(){this.providerId=F.PROVIDER_ID}static credential(C,M){return er._fromEmailAndPassword(C,M)}static credentialWithLink(C,M){const ae=Wn.parseLink(M);return nt(ae,"argument-error"),er._fromEmailAndCode(C,ae.code,ae.tenantId)}}return F.PROVIDER_ID="password",F.EMAIL_PASSWORD_SIGN_IN_METHOD="password",F.EMAIL_LINK_SIGN_IN_METHOD="emailLink",F})();class Yr{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class Li extends Yr{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}class ii extends Li{static credentialFromJSON(v){const C="string"==typeof v?JSON.parse(v):v;return nt("providerId"in C&&"signInMethod"in C,"argument-error"),Or._fromParams(C)}credential(v){return this._credential(Object.assign(Object.assign({},v),{nonce:v.rawNonce}))}_credential(v){return nt(v.idToken||v.accessToken,"argument-error"),Or._fromParams(Object.assign(Object.assign({},v),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(v){return ii.oauthCredentialFromTaggedObject(v)}static credentialFromError(v){return ii.oauthCredentialFromTaggedObject(v.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:C,oauthAccessToken:M,oauthTokenSecret:ae,pendingToken:Se,nonce:yt,providerId:ye}=v;if(!M&&!ae&&!C&&!Se||!ye)return null;try{return new ii(ye)._credential({idToken:C,accessToken:M,nonce:yt,pendingToken:Se})}catch{return null}}}let ns=(()=>{class F extends Li{constructor(){super("facebook.com")}static credential(C){return Or._fromParams({providerId:F.PROVIDER_ID,signInMethod:F.FACEBOOK_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return F.credentialFromTaggedObject(C)}static credentialFromError(C){return F.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return F.credential(C.oauthAccessToken)}catch{return null}}}return F.FACEBOOK_SIGN_IN_METHOD="facebook.com",F.PROVIDER_ID="facebook.com",F})(),Js=(()=>{class F extends Li{constructor(){super("google.com"),this.addScope("profile")}static credential(C,M){return Or._fromParams({providerId:F.PROVIDER_ID,signInMethod:F.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:M})}static credentialFromResult(C){return F.credentialFromTaggedObject(C)}static credentialFromError(C){return F.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:M,oauthAccessToken:ae}=C;if(!M&&!ae)return null;try{return F.credential(M,ae)}catch{return null}}}return F.GOOGLE_SIGN_IN_METHOD="google.com",F.PROVIDER_ID="google.com",F})(),Zs=(()=>{class F extends Li{constructor(){super("github.com")}static credential(C){return Or._fromParams({providerId:F.PROVIDER_ID,signInMethod:F.GITHUB_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return F.credentialFromTaggedObject(C)}static credentialFromError(C){return F.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return F.credential(C.oauthAccessToken)}catch{return null}}}return F.GITHUB_SIGN_IN_METHOD="github.com",F.PROVIDER_ID="github.com",F})();class Cs extends Ra{constructor(v,C){super(v,v),this.pendingToken=C}_getIdTokenResponse(v){return ir(v,this.buildRequest())}_linkToIdToken(v,C){const M=this.buildRequest();return M.idToken=C,ir(v,M)}_getReauthenticationResolver(v){const C=this.buildRequest();return C.autoCreate=!1,ir(v,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(v){const C="string"==typeof v?JSON.parse(v):v,{providerId:M,signInMethod:ae,pendingToken:Se}=C;return M&&ae&&Se&&M===ae?new Cs(M,Se):null}static _create(v,C){return new Cs(v,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Zo extends Yr{constructor(v){nt(v.startsWith("saml."),"argument-error"),super(v)}static credentialFromResult(v){return Zo.samlCredentialFromTaggedObject(v)}static credentialFromError(v){return Zo.samlCredentialFromTaggedObject(v.customData||{})}static credentialFromJSON(v){const C=Cs.fromJSON(v);return nt(C,"argument-error"),C}static samlCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{pendingToken:C,providerId:M}=v;if(!C||!M)return null;try{return Cs._create(M,C)}catch{return null}}}let rl=(()=>{class F extends Li{constructor(){super("twitter.com")}static credential(C,M){return Or._fromParams({providerId:F.PROVIDER_ID,signInMethod:F.TWITTER_SIGN_IN_METHOD,oauthToken:C,oauthTokenSecret:M})}static credentialFromResult(C){return F.credentialFromTaggedObject(C)}static credentialFromError(C){return F.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthAccessToken:M,oauthTokenSecret:ae}=C;if(!M||!ae)return null;try{return F.credential(M,ae)}catch{return null}}}return F.TWITTER_SIGN_IN_METHOD="twitter.com",F.PROVIDER_ID="twitter.com",F})();function Ls(F,v){return xs.apply(this,arguments)}function xs(){return(xs=(0,w.A)(function*(F,v){return ui(F,"POST","/v1/accounts:signUp",sn(F,v))})).apply(this,arguments)}class fo{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,C,M,ae=!1){return(0,w.A)(function*(){const Se=yield Nr._fromIdTokenResponse(v,M,ae),yt=Zi(M);return new fo({user:Se,providerId:yt,_tokenResponse:M,operationType:C})})()}static _forOperation(v,C,M){return(0,w.A)(function*(){yield v._updateTokensIfNecessary(M,!0);const ae=Zi(M);return new fo({user:v,providerId:ae,_tokenResponse:M,operationType:C})})()}}function Zi(F){return F.providerId?F.providerId:"phoneNumber"in F?"phone":null}function _s(){return(_s=(0,w.A)(function*(F){var v;if((0,wt._isFirebaseServerApp)(F.app))return Promise.reject(Yt(F));const C=ei(F);if(yield C._initializationPromise,null!==(v=C.currentUser)&&void 0!==v&&v.isAnonymous)return new fo({user:C.currentUser,providerId:null,operationType:"signIn"});const M=yield Ls(C,{returnSecureToken:!0}),ae=yield fo._fromIdTokenResponse(C,"signIn",M,!0);return yield C._updateCurrentUser(ae.user),ae})).apply(this,arguments)}class Na extends ot.g{constructor(v,C,M,ae){var Se;super(C.code,C.message),this.operationType=M,this.user=ae,Object.setPrototypeOf(this,Na.prototype),this.customData={appName:v.name,tenantId:null!==(Se=v.tenantId)&&void 0!==Se?Se:void 0,_serverResponse:C.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(v,C,M,ae){return new Na(v,C,M,ae)}}function ul(F,v,C,M){return("reauthenticate"===v?C._getReauthenticationResolver(F):C._getIdTokenResponse(F)).catch(Se=>{throw"auth/multi-factor-auth-required"===Se.code?Na._fromErrorAndOperation(F,Se,v,M):Se})}function Ie(F){return new Set(F.map(({providerId:v})=>v).filter(v=>!!v))}function qe(){return qe=(0,w.A)(function*(F,v){const C=(0,ot.Ku)(F);yield cr(!0,C,v);const{providerUserInfo:M}=yield function Hr(F,v){return Er.apply(this,arguments)}(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[v]}),ae=Ie(M||[]);return C.providerData=C.providerData.filter(Se=>ae.has(Se.providerId)),ae.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C}),qe.apply(this,arguments)}function Ee(F,v){return pt.apply(this,arguments)}function pt(){return(pt=(0,w.A)(function*(F,v,C=!1){const M=yield Qi(F,v._linkToIdToken(F.auth,yield F.getIdToken()),C);return fo._forOperation(F,"link",M)})).apply(this,arguments)}function cr(F,v,C){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,w.A)(function*(F,v,C){yield Vo(v);const ae=!1===F?"provider-already-linked":"no-such-provider";nt(Ie(v.providerData).has(C)===F,v.auth,ae)})).apply(this,arguments)}function ki(F,v){return La.apply(this,arguments)}function La(){return(La=(0,w.A)(function*(F,v,C=!1){const{auth:M}=F;if((0,wt._isFirebaseServerApp)(M.app))return Promise.reject(Yt(M));const ae="reauthenticate";try{const Se=yield Qi(F,ul(M,ae,v,F),C);nt(Se.idToken,M,"internal-error");const yt=ko(Se.idToken);nt(yt,M,"internal-error");const{sub:ye}=yt;return nt(F.uid===ye,M,"user-mismatch"),fo._forOperation(F,ae,Se)}catch(Se){throw"auth/user-not-found"===(null==Se?void 0:Se.code)&&bt(M,"user-mismatch"),Se}})).apply(this,arguments)}function lo(F,v){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,w.A)(function*(F,v,C=!1){if((0,wt._isFirebaseServerApp)(F.app))return Promise.reject(Yt(F));const M="signIn",ae=yield ul(F,M,v),Se=yield fo._fromIdTokenResponse(F,M,ae);return C||(yield F._updateCurrentUser(Se.user)),Se})).apply(this,arguments)}function Pl(F,v){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,w.A)(function*(F,v){return lo(ei(F),v)})).apply(this,arguments)}function iu(F,v){return Al.apply(this,arguments)}function Al(){return(Al=(0,w.A)(function*(F,v){const C=(0,ot.Ku)(F);return yield cr(!1,C,v.providerId),Ee(C,v)})).apply(this,arguments)}function mc(F,v){return _a.apply(this,arguments)}function _a(){return(_a=(0,w.A)(function*(F,v){return ki((0,ot.Ku)(F),v)})).apply(this,arguments)}function Nl(){return(Nl=(0,w.A)(function*(F,v){return ui(F,"POST","/v1/accounts:signInWithCustomToken",sn(F,v))})).apply(this,arguments)}function fi(){return fi=(0,w.A)(function*(F,v){if((0,wt._isFirebaseServerApp)(F.app))return Promise.reject(Yt(F));const C=ei(F),M=yield function Ua(F,v){return Nl.apply(this,arguments)}(C,{token:v,returnSecureToken:!0}),ae=yield fo._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(ae.user),ae}),fi.apply(this,arguments)}class Is{constructor(v,C){this.factorId=v,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(v,C){return"phoneInfo"in C?$i._fromServerResponse(v,C):"totpInfo"in C?Wa._fromServerResponse(v,C):bt(v,"internal-error")}}class $i extends Is{constructor(v){super("phone",v),this.phoneNumber=v.phoneInfo}static _fromServerResponse(v,C){return new $i(C)}}class Wa extends Is{constructor(v){super("totp",v)}static _fromServerResponse(v,C){return new Wa(C)}}function ea(F,v,C){var M;nt((null===(M=C.url)||void 0===M?void 0:M.length)>0,F,"invalid-continue-uri"),nt(typeof C.dynamicLinkDomain>"u"||C.dynamicLinkDomain.length>0,F,"invalid-dynamic-link-domain"),v.continueUrl=C.url,v.dynamicLinkDomain=C.dynamicLinkDomain,v.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(nt(C.iOS.bundleId.length>0,F,"missing-ios-bundle-id"),v.iOSBundleId=C.iOS.bundleId),C.android&&(nt(C.android.packageName.length>0,F,"missing-android-pkg-name"),v.androidInstallApp=C.android.installApp,v.androidMinimumVersionCode=C.android.minimumVersion,v.androidPackageName=C.android.packageName)}function ci(F){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,w.A)(function*(F){const v=ei(F);v._getPasswordPolicyInternal()&&(yield v._updatePasswordPolicy())})).apply(this,arguments)}function il(){return(il=(0,w.A)(function*(F,v,C){const M=ei(F),ae={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};C&&ea(M,ae,C),yield Hi(M,ae,"getOobCode",ka)})).apply(this,arguments)}function rs(){return rs=(0,w.A)(function*(F,v,C){yield zi((0,ot.Ku)(F),{oobCode:v,newPassword:C}).catch(function(){var M=(0,w.A)(function*(ae){throw"auth/password-does-not-meet-requirements"===ae.code&&ci(F),ae});return function(ae){return M.apply(this,arguments)}}())}),rs.apply(this,arguments)}function Gl(){return Gl=(0,w.A)(function*(F,v){yield function qo(F,v){return Gs.apply(this,arguments)}((0,ot.Ku)(F),{oobCode:v})}),Gl.apply(this,arguments)}function vc(F,v){return lc.apply(this,arguments)}function lc(){return(lc=(0,w.A)(function*(F,v){const C=(0,ot.Ku)(F),M=yield zi(C,{oobCode:v}),ae=M.requestType;switch(nt(ae,C,"internal-error"),ae){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":nt(M.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":nt(M.mfaInfo,C,"internal-error");default:nt(M.email,C,"internal-error")}let Se=null;return M.mfaInfo&&(Se=Is._fromServerResponse(ei(C),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:Se},operation:ae}})).apply(this,arguments)}function ol(){return(ol=(0,w.A)(function*(F,v){const{data:C}=yield vc((0,ot.Ku)(F),v);return C.email})).apply(this,arguments)}function Ma(){return(Ma=(0,w.A)(function*(F,v,C){if((0,wt._isFirebaseServerApp)(F.app))return Promise.reject(Yt(F));const M=ei(F),yt=yield Hi(M,{returnSecureToken:!0,email:v,password:C,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ls).catch(Ke=>{throw"auth/password-does-not-meet-requirements"===Ke.code&&ci(F),Ke}),ye=yield fo._fromIdTokenResponse(M,"signIn",yt);return yield M._updateCurrentUser(ye.user),ye})).apply(this,arguments)}function wa(){return(wa=(0,w.A)(function*(F,v,C){const M=ei(F),ae={requestType:"EMAIL_SIGNIN",email:v,clientType:"CLIENT_TYPE_WEB"};(function Se(yt,ye){nt(ye.handleCodeInApp,M,"argument-error"),ye&&ea(M,yt,ye)})(ae,C),yield Hi(M,ae,"getOobCode",Je)})).apply(this,arguments)}function su(){return(su=(0,w.A)(function*(F,v,C){if((0,wt._isFirebaseServerApp)(F.app))return Promise.reject(Yt(F));const M=(0,ot.Ku)(F),ae=_i.credentialWithLink(v,C||xr());return nt(ae._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),Pl(M,ae)})).apply(this,arguments)}function Us(){return(Us=(0,w.A)(function*(F,v){return Rn(F,"POST","/v1/accounts:createAuthUri",sn(F,v))})).apply(this,arguments)}function Xa(){return Xa=(0,w.A)(function*(F,v){const M={identifier:v,continueUri:Kt()?xr():"http://localhost"},{signinMethods:ae}=yield function MA(F,v){return Us.apply(this,arguments)}((0,ot.Ku)(F),M);return ae||[]}),Xa.apply(this,arguments)}function _c(){return _c=(0,w.A)(function*(F,v){const C=(0,ot.Ku)(F),ae={requestType:"VERIFY_EMAIL",idToken:yield F.getIdToken()};v&&ea(C.auth,ae,v);const{email:Se}=yield function Tr(F,v){return ts.apply(this,arguments)}(C.auth,ae);Se!==F.email&&(yield F.reload())}),_c.apply(this,arguments)}function Dc(){return Dc=(0,w.A)(function*(F,v,C){const M=(0,ot.Ku)(F),Se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield F.getIdToken(),newEmail:v};C&&ea(M.auth,Se,C);const{email:yt}=yield function Tt(F,v){return rn.apply(this,arguments)}(M.auth,Se);yt!==F.email&&(yield F.reload())}),Dc.apply(this,arguments)}function Va(){return(Va=(0,w.A)(function*(F,v){return Rn(F,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function au(){return au=(0,w.A)(function*(F,{displayName:v,photoURL:C}){if(void 0===v&&void 0===C)return;const M=(0,ot.Ku)(F),Se={idToken:yield M.getIdToken(),displayName:v,photoUrl:C,returnSecureToken:!0},yt=yield Qi(M,function zc(F,v){return Va.apply(this,arguments)}(M.auth,Se));M.displayName=yt.displayName||null,M.photoURL=yt.photoUrl||null;const ye=M.providerData.find(({providerId:Ke})=>"password"===Ke);ye&&(ye.displayName=M.displayName,ye.photoURL=M.photoURL),yield M._updateTokensIfNecessary(yt)}),au.apply(this,arguments)}function _e(F,v,C){return V.apply(this,arguments)}function V(){return V=(0,w.A)(function*(F,v,C){const{auth:M}=F,Se={idToken:yield F.getIdToken(),returnSecureToken:!0};v&&(Se.email=v),C&&(Se.password=C);const yt=yield Qi(F,function Ga(F,v){return io.apply(this,arguments)}(M,Se));yield F._updateTokensIfNecessary(yt,!0)}),V.apply(this,arguments)}class x{constructor(v,C,M={}){this.isNewUser=v,this.providerId=C,this.profile=M}}class ne extends x{constructor(v,C,M,ae){super(v,C,M),this.username=ae}}class je extends x{constructor(v,C){super(v,"facebook.com",C)}}class se extends ne{constructor(v,C){super(v,"github.com",C,"string"==typeof(null==C?void 0:C.login)?null==C?void 0:C.login:null)}}class Ve extends x{constructor(v,C){super(v,"google.com",C)}}class ut extends ne{constructor(v,C,M){super(v,"twitter.com",C,M)}}function jn(F){const{user:v,_tokenResponse:C}=F;return v.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function ge(F){var v,C;if(!F)return null;const{providerId:M}=F,ae=F.rawUserInfo?JSON.parse(F.rawUserInfo):{},Se=F.isNewUser||"identitytoolkit#SignupNewUserResponse"===F.kind;if(!M&&null!=F&&F.idToken){const yt=null===(C=null===(v=ko(F.idToken))||void 0===v?void 0:v.firebase)||void 0===C?void 0:C.sign_in_provider;if(yt)return new x(Se,"anonymous"!==yt&&"custom"!==yt?yt:null)}if(!M)return null;switch(M){case"facebook.com":return new je(Se,ae);case"github.com":return new se(Se,ae);case"google.com":return new Ve(Se,ae);case"twitter.com":return new ut(Se,ae,F.screenName||null);case"custom":case"anonymous":return new x(Se,null);default:return new x(Se,M,ae)}}(C)}class ls{constructor(v,C,M){this.type=v,this.credential=C,this.user=M}static _fromIdtoken(v,C){return new ls("enroll",v,C)}static _fromMfaPendingCredential(v){return new ls("signin",v)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(v){var C,M;if(null!=v&&v.multiFactorSession){if(null!==(C=v.multiFactorSession)&&void 0!==C&&C.pendingCredential)return ls._fromMfaPendingCredential(v.multiFactorSession.pendingCredential);if(null!==(M=v.multiFactorSession)&&void 0!==M&&M.idToken)return ls._fromIdtoken(v.multiFactorSession.idToken)}return null}}class dl{constructor(v,C,M){this.session=v,this.hints=C,this.signInResolver=M}static _fromError(v,C){const M=ei(v),ae=C.customData._serverResponse,Se=(ae.mfaInfo||[]).map(ye=>Is._fromServerResponse(M,ye));nt(ae.mfaPendingCredential,M,"internal-error");const yt=ls._fromMfaPendingCredential(ae.mfaPendingCredential);return new dl(yt,Se,function(){var ye=(0,w.A)(function*(Ke){const gt=yield Ke._process(M,yt);delete ae.mfaInfo,delete ae.mfaPendingCredential;const Dt=Object.assign(Object.assign({},ae),{idToken:gt.idToken,refreshToken:gt.refreshToken});switch(C.operationType){case"signIn":const Lt=yield fo._fromIdTokenResponse(M,C.operationType,Dt);return yield M._updateCurrentUser(Lt.user),Lt;case"reauthenticate":return nt(C.user,M,"internal-error"),fo._forOperation(C.user,C.operationType,Dt);default:bt(M,"internal-error")}});return function(Ke){return ye.apply(this,arguments)}}())}resolveSignIn(v){var C=this;return(0,w.A)(function*(){return C.signInResolver(v)})()}}class cu{constructor(v){this.user=v,this.enrolledFactors=[],v._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(M=>Is._fromServerResponse(v.auth,M)))})}static _fromUser(v){return new cu(v)}getSession(){var v=this;return(0,w.A)(function*(){return ls._fromIdtoken(yield v.user.getIdToken(),v.user)})()}enroll(v,C){var M=this;return(0,w.A)(function*(){const ae=v,Se=yield M.getSession(),yt=yield Qi(M.user,ae._process(M.user.auth,Se,C));return yield M.user._updateTokensIfNecessary(yt),M.user.reload()})()}unenroll(v){var C=this;return(0,w.A)(function*(){const M="string"==typeof v?v:v.uid,ae=yield C.user.getIdToken();try{const Se=yield Qi(C.user,function _u(F,v){return Rn(F,"POST","/v2/accounts/mfaEnrollment:withdraw",sn(F,v))}(C.user.auth,{idToken:ae,mfaEnrollmentId:M}));C.enrolledFactors=C.enrolledFactors.filter(({uid:yt})=>yt!==M),yield C.user._updateTokensIfNecessary(Se),yield C.user.reload()}catch(Se){throw Se}})()}}const nc=new WeakMap,$c="__sak";class ha{constructor(v,C){this.storageRetriever=v,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,C){return this.storage.setItem(v,JSON.stringify(C)),Promise.resolve()}_get(v){const C=this.storage.getItem(v);return Promise.resolve(C?JSON.parse(C):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const Tl=(()=>{class F extends ha{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(C,M)=>this.onStorageEvent(C,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xc(){const F=(0,ot.ZQ)();return Xs(F)||ua(F)}()&&function Mi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Mr(),this._shouldAllowMigration=!0}forAllChangedKeys(C){for(const M of Object.keys(this.listeners)){const ae=this.storage.getItem(M),Se=this.localCache[M];ae!==Se&&C(M,Se,ae)}}onStorageEvent(C,M=!1){if(!C.key)return void this.forAllChangedKeys((ye,Ke,gt)=>{this.notifyListeners(ye,gt)});const ae=C.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(ae);if(C.newValue!==ye)null!==C.newValue?this.storage.setItem(ae,C.newValue):this.storage.removeItem(ae);else if(this.localCache[ae]===C.newValue&&!M)return}const Se=()=>{const ye=this.storage.getItem(ae);!M&&this.localCache[ae]===ye||this.notifyListeners(ae,ye)},yt=this.storage.getItem(ae);!function tr(){return(0,ot.lT)()&&10===document.documentMode}()||yt===C.newValue||C.newValue===C.oldValue?Se():setTimeout(Se,10)}notifyListeners(C,M){this.localCache[C]=M;const ae=this.listeners[C];if(ae)for(const Se of Array.from(ae))Se(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,M,ae)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:M,newValue:ae}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(M)}_removeListener(C,M){this.listeners[C]&&(this.listeners[C].delete(M),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,M){var ae=()=>super._set,Se=this;return(0,w.A)(function*(){yield ae().call(Se,C,M),Se.localCache[C]=JSON.stringify(M)})()}_get(C){var M=()=>super._get,ae=this;return(0,w.A)(function*(){const Se=yield M().call(ae,C);return ae.localCache[C]=JSON.stringify(Se),Se})()}_remove(C){var M=()=>super._remove,ae=this;return(0,w.A)(function*(){yield M().call(ae,C),delete ae.localCache[C]})()}}return F.type="LOCAL",F})(),so=(()=>{class F extends ha{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(C,M){}_removeListener(C,M){}}return F.type="SESSION",F})();let YA=(()=>{class F{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const M=this.receivers.find(Se=>Se.isListeningto(C));if(M)return M;const ae=new F(C);return this.receivers.push(ae),ae}isListeningto(C){return this.eventTarget===C}handleEvent(C){var M=this;return(0,w.A)(function*(){const ae=C,{eventId:Se,eventType:yt,data:ye}=ae.data,Ke=M.handlersMap[yt];if(null==Ke||!Ke.size)return;ae.ports[0].postMessage({status:"ack",eventId:Se,eventType:yt});const gt=Array.from(Ke).map(function(){var Lt=(0,w.A)(function*(xn){return xn(ae.origin,ye)});return function(xn){return Lt.apply(this,arguments)}}()),Dt=yield function Ku(F){return Promise.all(F.map(function(){var v=(0,w.A)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(M){return{fulfilled:!1,reason:M}}});return function(C){return v.apply(this,arguments)}}()))}(gt);ae.ports[0].postMessage({status:"done",eventId:Se,eventType:yt,response:Dt})})()}_subscribe(C,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(M)}_unsubscribe(C,M){this.handlersMap[C]&&M&&this.handlersMap[C].delete(M),(!M||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return F.receivers=[],F})();function Ya(F="",v=10){let C="";for(let M=0;M<v;M++)C+=Math.floor(10*Math.random());return F+C}class OA{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,C,M=50){var ae=this;return(0,w.A)(function*(){const Se=typeof MessageChannel<"u"?new MessageChannel:null;if(!Se)throw new Error("connection_unavailable");let yt,ye;return new Promise((Ke,gt)=>{const Dt=Ya("",20);Se.port1.start();const Lt=setTimeout(()=>{gt(new Error("unsupported_event"))},M);ye={messageChannel:Se,onMessage(xn){const Kn=xn;if(Kn.data.eventId===Dt)switch(Kn.data.status){case"ack":clearTimeout(Lt),yt=setTimeout(()=>{gt(new Error("timeout"))},3e3);break;case"done":clearTimeout(yt),Ke(Kn.data.response);break;default:clearTimeout(Lt),clearTimeout(yt),gt(new Error("invalid_response"))}}},ae.handlers.add(ye),Se.port1.addEventListener("message",ye.onMessage),ae.target.postMessage({eventType:v,eventId:Dt,data:C},[Se.port2])}).finally(()=>{ye&&ae.removeMessageHandler(ye)})})()}}function fa(){return window}function Gc(){return typeof fa().WorkerGlobalScope<"u"&&"function"==typeof fa().importScripts}function Bl(){return(Bl=(0,w.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const JA="firebaseLocalStorageDb",vd="firebaseLocalStorage",wu="fbase_key";class Au{constructor(v){this.request=v}toPromise(){return new Promise((v,C)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function Wu(F,v){return F.transaction([vd],v?"readwrite":"readonly").objectStore(vd)}function Eu(){const F=indexedDB.open(JA,1);return new Promise((v,C)=>{F.addEventListener("error",()=>{C(F.error)}),F.addEventListener("upgradeneeded",()=>{const M=F.result;try{M.createObjectStore(vd,{keyPath:wu})}catch(ae){C(ae)}}),F.addEventListener("success",(0,w.A)(function*(){const M=F.result;M.objectStoreNames.contains(vd)?v(M):(M.close(),yield function vh(){const F=indexedDB.deleteDatabase(JA);return new Au(F).toPromise()}(),v(yield Eu()))}))})}function cc(F,v,C){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,w.A)(function*(F,v,C){const M=Wu(F,!0).put({[wu]:v,value:C});return new Au(M).toPromise()})).apply(this,arguments)}function cA(){return(cA=(0,w.A)(function*(F,v){const C=Wu(F,!1).get(v),M=yield new Au(C).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Rc(F,v){const C=Wu(F,!0).delete(v);return new Au(C).toPromise()}const Kc=(()=>{class F{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,w.A)(function*(){return C.db||(C.db=yield Eu()),C.db})()}_withRetries(C){var M=this;return(0,w.A)(function*(){let ae=0;for(;;)try{const Se=yield M._openDb();return yield C(Se)}catch(Se){if(ae++>3)throw Se;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,w.A)(function*(){return Gc()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,w.A)(function*(){C.receiver=YA._getInstance(function yu(){return Gc()?self:null}()),C.receiver._subscribe("keyChanged",function(){var M=(0,w.A)(function*(ae,Se){return{keyProcessed:(yield C._poll()).includes(Se.key)}});return function(ae,Se){return M.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var M=(0,w.A)(function*(ae,Se){return["keyChanged"]});return function(ae,Se){return M.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,w.A)(function*(){var M,ae;if(C.activeServiceWorker=yield function hl(){return Bl.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new OA(C.activeServiceWorker);const Se=yield C.sender._send("ping",{},800);Se&&null!==(M=Se[0])&&void 0!==M&&M.fulfilled&&null!==(ae=Se[0])&&void 0!==ae&&ae.value.includes("keyChanged")&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var M=this;return(0,w.A)(function*(){if(M.sender&&M.activeServiceWorker&&function md(){var F;return(null===(F=null==navigator?void 0:navigator.serviceWorker)||void 0===F?void 0:F.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:C},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.A)(function*(){try{if(!indexedDB)return!1;const C=yield Eu();return yield cc(C,$c,"1"),yield Rc(C,$c),!0}catch{}return!1})()}_withPendingWrite(C){var M=this;return(0,w.A)(function*(){M.pendingWrites++;try{yield C()}finally{M.pendingWrites--}})()}_set(C,M){var ae=this;return(0,w.A)(function*(){return ae._withPendingWrite((0,w.A)(function*(){return yield ae._withRetries(Se=>cc(Se,C,M)),ae.localCache[C]=M,ae.notifyServiceWorker(C)}))})()}_get(C){var M=this;return(0,w.A)(function*(){const ae=yield M._withRetries(Se=>function _h(F,v){return cA.apply(this,arguments)}(Se,C));return M.localCache[C]=ae,ae})()}_remove(C){var M=this;return(0,w.A)(function*(){return M._withPendingWrite((0,w.A)(function*(){return yield M._withRetries(ae=>Rc(ae,C)),delete M.localCache[C],M.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,w.A)(function*(){const M=yield C._withRetries(yt=>{const ye=Wu(yt,!1).getAll();return new Au(ye).toPromise()});if(!M)return[];if(0!==C.pendingWrites)return[];const ae=[],Se=new Set;if(0!==M.length)for(const{fbase_key:yt,value:ye}of M)Se.add(yt),JSON.stringify(C.localCache[yt])!==JSON.stringify(ye)&&(C.notifyListeners(yt,ye),ae.push(yt));for(const yt of Object.keys(C.localCache))C.localCache[yt]&&!Se.has(yt)&&(C.notifyListeners(yt,null),ae.push(yt));return ae})()}notifyListeners(C,M){this.localCache[C]=M;const ae=this.listeners[C];if(ae)for(const Se of Array.from(ae))Se(M)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,w.A)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(M)}_removeListener(C,M){this.listeners[C]&&(this.listeners[C].delete(M),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return F.type="LOCAL",F})(),L=1e12;class q{constructor(v){this.auth=v,this.counter=L,this._widgets=new Map}render(v,C){const M=this.counter;return this._widgets.set(M,new ie(v,this.auth.name,C||{})),this.counter++,M}reset(v){var C;const M=v||L;null===(C=this._widgets.get(M))||void 0===C||C.delete(),this._widgets.delete(M)}getResponse(v){var C;return(null===(C=this._widgets.get(v||L))||void 0===C?void 0:C.getResponse())||""}execute(v){var C=this;return(0,w.A)(function*(){var M;return null===(M=C._widgets.get(v||L))||void 0===M||M.execute(),""})()}}class ie{constructor(v,C,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ae="string"==typeof v?document.getElementById(v):v;nt(ae,"argument-error",{appName:C}),this.container=ae,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function W(F){const v=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<F;M++)v.push(C.charAt(Math.floor(62*Math.random())));return v.join("")}(50);const{callback:v,"expired-callback":C}=this.params;if(v)try{v(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ue=Ms("rcb"),He=new we(3e4,6e4);class lt{constructor(){var v;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(v=fa().grecaptcha)||void 0===v||!v.render)}load(v,C=""){return nt(function yn(F){return F.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(F)}(C),v,"argument-error"),this.shouldResolveImmediately(C)&&Wi(fa().grecaptcha)?Promise.resolve(fa().grecaptcha):new Promise((M,ae)=>{const Se=fa().setTimeout(()=>{ae(Vt(v,"network-request-failed"))},He.get());fa()[ue]=()=>{fa().clearTimeout(Se),delete fa()[ue];const ye=fa().grecaptcha;if(!ye||!Wi(ye))return void ae(Vt(v,"internal-error"));const Ke=ye.render;ye.render=(gt,Dt)=>{const Lt=Ke(gt,Dt);return this.counter++,Lt},this.hostLanguage=C,M(ye)},Ji(`${function Ps(){return hi.recaptchaV2Script}()}?${(0,ot.Am)({onload:ue,render:"explicit",hl:C})}`).catch(()=>{clearTimeout(Se),ae(Vt(v,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(v){var C;return!(null===(C=fa().grecaptcha)||void 0===C||!C.render)&&(v===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zn{load(v){return(0,w.A)(function*(){return new q(v)})()}clearedOneInstance(){}}const In="recaptcha",oi={theme:"light",type:"image"};class to{constructor(v,C,M=Object.assign({},oi)){this.parameters=M,this.type=In,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ei(v),this.isInvisible="invisible"===this.parameters.size,nt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ae="string"==typeof C?document.getElementById(C):C;nt(ae,this.auth,"argument-error"),this.container=ae,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zn:new lt,this.validateStartingState()}verify(){var v=this;return(0,w.A)(function*(){v.assertNotDestroyed();const C=yield v.render(),M=v.getAssertedRecaptcha();return M.getResponse(C)||new Promise(Se=>{const yt=ye=>{ye&&(v.tokenChangeListeners.delete(yt),Se(ye))};v.tokenChangeListeners.add(yt),v.isInvisible&&M.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(v){return Promise.reject(v)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(v=>{throw this.renderPromise=null,v})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(v=>{this.container.removeChild(v)})}validateStartingState(){nt(!this.parameters.sitekey,this.auth,"argument-error"),nt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),nt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(v){return C=>{if(this.tokenChangeListeners.forEach(M=>M(C)),"function"==typeof v)v(C);else if("string"==typeof v){const M=fa()[v];"function"==typeof M&&M(C)}}}assertNotDestroyed(){nt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var v=this;return(0,w.A)(function*(){if(yield v.init(),!v.widgetId){let C=v.container;if(!v.isInvisible){const M=document.createElement("div");C.appendChild(M),C=M}v.widgetId=v.getAssertedRecaptcha().render(C,v.parameters)}return v.widgetId})()}init(){var v=this;return(0,w.A)(function*(){nt(Kt()&&!Gc(),v.auth,"internal-error"),yield function Cr(){let F=null;return new Promise(v=>{"complete"!==document.readyState?(F=()=>v(),window.addEventListener("load",F)):v()}).catch(v=>{throw F&&window.removeEventListener("load",F),v})}(),v.recaptcha=yield v._recaptchaLoader.load(v.auth,v.auth.languageCode||void 0);const C=yield function Pn(F){return vn.apply(this,arguments)}(v.auth);nt(C,v.auth,"internal-error"),v.parameters.sitekey=C})()}getAssertedRecaptcha(){return nt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vo{constructor(v,C){this.verificationId=v,this.onConfirmation=C}confirm(v){const C=_t._fromVerification(this.verificationId,v);return this.onConfirmation(C)}}function Vs(){return(Vs=(0,w.A)(function*(F,v,C){if((0,wt._isFirebaseServerApp)(F.app))return Promise.reject(Yt(F));const M=ei(F),ae=yield Xu(M,v,(0,ot.Ku)(C));return new vo(ae,Se=>Pl(M,Se))})).apply(this,arguments)}function fl(){return(fl=(0,w.A)(function*(F,v,C){const M=(0,ot.Ku)(F);yield cr(!1,M,"phone");const ae=yield Xu(M.auth,v,(0,ot.Ku)(C));return new vo(ae,Se=>iu(M,Se))})).apply(this,arguments)}function uc(){return(uc=(0,w.A)(function*(F,v,C){const M=(0,ot.Ku)(F);if((0,wt._isFirebaseServerApp)(M.auth.app))return Promise.reject(Yt(M.auth));const ae=yield Xu(M.auth,v,(0,ot.Ku)(C));return new vo(ae,Se=>mc(M,Se))})).apply(this,arguments)}function Xu(F,v,C){return qc.apply(this,arguments)}function qc(){return qc=(0,w.A)(function*(F,v,C){var M;const ae=yield C.verify();try{let Se;if(nt("string"==typeof ae,F,"argument-error"),nt(C.type===In,F,"argument-error"),Se="string"==typeof v?{phoneNumber:v}:v,"session"in Se){const yt=Se.session;if("phoneNumber"in Se)return nt("enroll"===yt.type,F,"internal-error"),(yield function ds(F,v){return Rn(F,"POST","/v2/accounts/mfaEnrollment:start",sn(F,v))}(F,{idToken:yt.credential,phoneEnrollmentInfo:{phoneNumber:Se.phoneNumber,recaptchaToken:ae}})).phoneSessionInfo.sessionInfo;{nt("signin"===yt.type,F,"internal-error");const ye=(null===(M=Se.multiFactorHint)||void 0===M?void 0:M.uid)||Se.multiFactorUid;return nt(ye,F,"missing-multi-factor-info"),(yield function AA(F,v){return Rn(F,"POST","/v2/accounts/mfaSignIn:start",sn(F,v))}(F,{mfaPendingCredential:yt.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:ae}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:yt}=yield function qi(F,v){return Ko.apply(this,arguments)}(F,{phoneNumber:Se.phoneNumber,recaptchaToken:ae});return yt}}finally{C._reset()}}),qc.apply(this,arguments)}function kc(){return(kc=(0,w.A)(function*(F,v){const C=(0,ot.Ku)(F);if((0,wt._isFirebaseServerApp)(C.auth.app))return Promise.reject(Yt(C.auth));yield Ee(C,v)})).apply(this,arguments)}let _l=(()=>{class F{constructor(C){this.providerId=F.PROVIDER_ID,this.auth=ei(C)}verifyPhoneNumber(C,M){return Xu(this.auth,C,(0,ot.Ku)(M))}static credential(C,M){return _t._fromVerification(C,M)}static credentialFromResult(C){return F.credentialFromTaggedObject(C)}static credentialFromError(C){return F.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{phoneNumber:M,temporaryProof:ae}=C;return M&&ae?_t._fromTokenResponse(M,ae):null}}return F.PROVIDER_ID="phone",F.PHONE_SIGN_IN_METHOD="phone",F})();function Da(F,v){return v?ji(v):(nt(F._popupRedirectResolver,F,"argument-error"),F._popupRedirectResolver)}class du extends Ra{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return ir(v,this._buildIdpRequest())}_linkToIdToken(v,C){return ir(v,this._buildIdpRequest(C))}_getReauthenticationResolver(v){return ir(v,this._buildIdpRequest())}_buildIdpRequest(v){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(C.idToken=v),C}}function Cu(F){return lo(F.auth,new du(F),F.bypassAuthState)}function Iu(F){const{auth:v,user:C}=F;return nt(C,v,"internal-error"),ki(C,new du(F),F.bypassAuthState)}function ql(F){return bu.apply(this,arguments)}function bu(){return(bu=(0,w.A)(function*(F){const{auth:v,user:C}=F;return nt(C,v,"internal-error"),Ee(C,new du(F),F.bypassAuthState)})).apply(this,arguments)}class Pc{constructor(v,C,M,ae,Se=!1){this.auth=v,this.resolver=M,this.user=ae,this.bypassAuthState=Se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var v=this;return new Promise(function(){var C=(0,w.A)(function*(M,ae){v.pendingPromise={resolve:M,reject:ae};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(Se){v.reject(Se)}});return function(M,ae){return C.apply(this,arguments)}}())}onAuthEvent(v){var C=this;return(0,w.A)(function*(){const{urlResponse:M,sessionId:ae,postBody:Se,tenantId:yt,error:ye,type:Ke}=v;if(ye)return void C.reject(ye);const gt={auth:C.auth,requestUri:M,sessionId:ae,tenantId:yt||void 0,postBody:Se||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(Ke)(gt))}catch(Dt){C.reject(Dt)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return Cu;case"linkViaPopup":case"linkViaRedirect":return ql;case"reauthViaPopup":case"reauthViaRedirect":return Iu;default:bt(this.auth,"internal-error")}}resolve(v){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _d=new we(2e3,1e4);function hs(){return(hs=(0,w.A)(function*(F,v,C){if((0,wt._isFirebaseServerApp)(F.app))return Promise.reject(Vt(F,"operation-not-supported-in-this-environment"));const M=ei(F);Cn(F,v,Yr);const ae=Da(M,C);return new Qs(M,"signInViaPopup",v,ae).executeNotNull()})).apply(this,arguments)}function Ec(){return(Ec=(0,w.A)(function*(F,v,C){const M=(0,ot.Ku)(F);if((0,wt._isFirebaseServerApp)(M.auth.app))return Promise.reject(Vt(M.auth,"operation-not-supported-in-this-environment"));Cn(M.auth,v,Yr);const ae=Da(M.auth,C);return new Qs(M.auth,"reauthViaPopup",v,ae,M).executeNotNull()})).apply(this,arguments)}function bo(){return(bo=(0,w.A)(function*(F,v,C){const M=(0,ot.Ku)(F);Cn(M.auth,v,Yr);const ae=Da(M.auth,C);return new Qs(M.auth,"linkViaPopup",v,ae,M).executeNotNull()})).apply(this,arguments)}let Qs=(()=>{class F extends Pc{constructor(C,M,ae,Se,yt){super(C,M,Se,yt),this.provider=ae,this.authWindow=null,this.pollId=null,F.currentPopupAction&&F.currentPopupAction.cancel(),F.currentPopupAction=this}executeNotNull(){var C=this;return(0,w.A)(function*(){const M=yield C.execute();return nt(M,C.auth,"internal-error"),M})()}onExecution(){var C=this;return(0,w.A)(function*(){yr(1===C.filter.length,"Popup operations only handle one event");const M=Ya();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],M),C.authWindow.associatedEvent=M,C.resolver._originValidation(C.auth).catch(ae=>{C.reject(ae)}),C.resolver._isIframeWebStorageSupported(C.auth,ae=>{ae||C.reject(Vt(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(Vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,F.currentPopupAction=null}pollUserCancellation(){const C=()=>{var M,ae;this.pollId=null!==(ae=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==ae&&ae.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Vt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(C,_d.get())};C()}}return F.currentPopupAction=null,F})();const yl="pendingRedirect",Tu=new Map;class pa extends Pc{constructor(v,C,M=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,M),this.eventId=null}execute(){var v=()=>super.execute,C=this;return(0,w.A)(function*(){let M=Tu.get(C.auth._key());if(!M){try{const Se=(yield function So(F,v){return Bu.apply(this,arguments)}(C.resolver,C.auth))?yield v().call(C):null;M=()=>Promise.resolve(Se)}catch(ae){M=()=>Promise.reject(ae)}Tu.set(C.auth._key(),M)}return C.bypassAuthState||Tu.set(C.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(v){var C=()=>super.onAuthEvent,M=this;return(0,w.A)(function*(){if("signInViaRedirect"===v.type)return C().call(M,v);if("unknown"!==v.type){if(v.eventId){const ae=yield M.auth._redirectUserForId(v.eventId);if(ae)return M.user=ae,C().call(M,v);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,w.A)(function*(){})()}cleanUp(){}}function Bu(){return(Bu=(0,w.A)(function*(F,v){const C=Ju(v),M=hA(F);if(!(yield M._isAvailable()))return!1;const ae="true"===(yield M._get(C));return yield M._remove(C),ae})).apply(this,arguments)}function Xc(F,v){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,w.A)(function*(F,v){return hA(F)._set(Ju(v),"true")})).apply(this,arguments)}function Qa(F,v){Tu.set(F._key(),v)}function hA(F){return ji(F._redirectPersistence)}function Ju(F){return ai(yl,F.config.apiKey,F.name)}function Zu(F,v,C){return function yd(F,v,C){return qd.apply(this,arguments)}(F,v,C)}function qd(){return(qd=(0,w.A)(function*(F,v,C){if((0,wt._isFirebaseServerApp)(F.app))return Promise.reject(Yt(F));const M=ei(F);Cn(F,v,Yr),yield M._initializationPromise;const ae=Da(M,C);return yield Xc(ae,M),ae._openRedirect(M,v,"signInViaRedirect")})).apply(this,arguments)}function Xd(F,v,C){return function wd(F,v,C){return sr.apply(this,arguments)}(F,v,C)}function sr(){return(sr=(0,w.A)(function*(F,v,C){const M=(0,ot.Ku)(F);if(Cn(M.auth,v,Yr),(0,wt._isFirebaseServerApp)(M.auth.app))return Promise.reject(Yt(M.auth));yield M.auth._initializationPromise;const ae=Da(M.auth,C);yield Xc(ae,M.auth);const Se=yield rc(M);return ae._openRedirect(M.auth,v,"reauthViaRedirect",Se)})).apply(this,arguments)}function cs(F,v,C){return function LA(F,v,C){return Xl.apply(this,arguments)}(F,v,C)}function Xl(){return(Xl=(0,w.A)(function*(F,v,C){const M=(0,ot.Ku)(F);Cn(M.auth,v,Yr),yield M.auth._initializationPromise;const ae=Da(M.auth,C);yield cr(!1,M,v.providerId),yield Xc(ae,M.auth);const Se=yield rc(M);return ae._openRedirect(M.auth,v,"linkViaRedirect",Se)})).apply(this,arguments)}function Ed(){return(Ed=(0,w.A)(function*(F,v){return yield ei(F)._initializationPromise,Ol(F,v,!1)})).apply(this,arguments)}function Ol(F,v){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,w.A)(function*(F,v,C=!1){if((0,wt._isFirebaseServerApp)(F.app))return Promise.reject(Yt(F));const M=ei(F),ae=Da(M,v),yt=yield new pa(M,ae,C).execute();return yt&&!C&&(delete yt.user._redirectEventId,yield M._persistUserIfCurrent(yt.user),yield M._setRedirectUser(null,v)),yt})).apply(this,arguments)}function rc(F){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,w.A)(function*(F){const v=Ya(`${F.uid}:::`);return F._redirectEventId=v,yield F.auth._setRedirectUser(F),yield F.auth._persistUserIfCurrent(F),v})).apply(this,arguments)}class Hl{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let C=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(v,M)&&(C=!0,this.sendToConsumer(v,M),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function Mc(F){switch(F.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wl(F);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=v,C=!0)),C}sendToConsumer(v,C){var M;if(v.error&&!wl(v)){const ae=(null===(M=v.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";C.onError(Vt(this.auth,ae))}else C.onAuthEvent(v)}isEventForConsumer(v,C){const M=null===C.eventId||!!v.eventId&&v.eventId===C.eventId;return C.filter.includes(v.type)&&M}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Id(v))}saveEventToCache(v){this.cachedEventUids.add(Id(v)),this.lastProcessedEventTime=Date.now()}}function Id(F){return[F.type,F.eventId,F.sessionId,F.tenantId].filter(v=>v).join("-")}function wl({type:F,error:v}){return"unknown"===F&&"auth/no-auth-event"===(null==v?void 0:v.code)}function ZA(F){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,w.A)(function*(F,v={}){return Rn(F,"GET","/v1/projects",v)})).apply(this,arguments)}const js=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ei=/^https?/;function bd(){return(bd=(0,w.A)(function*(F){if(F.config.emulator)return;const{authorizedDomains:v}=yield ZA(F);for(const C of v)try{if(Sd(C))return}catch{}bt(F,"unauthorized-domain")})).apply(this,arguments)}function Sd(F){const v=xr(),{protocol:C,hostname:M}=new URL(v);if(F.startsWith("chrome-extension://")){const yt=new URL(F);return""===yt.hostname&&""===M?"chrome-extension:"===C&&F.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===C&&yt.hostname===M}if(!Ei.test(C))return!1;if(js.test(F))return M===F;const ae=F.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ae+"|"+ae+")$","i").test(M)}const El=new we(3e4,6e4);function Oc(){const F=fa().___jsl;if(null!=F&&F.H)for(const v of Object.keys(F.H))if(F.H[v].r=F.H[v].r||[],F.H[v].L=F.H[v].L||[],F.H[v].r=[...F.H[v].L],F.CP)for(let C=0;C<F.CP.length;C++)F.CP[C]=null}let hu=null;const VA=new we(5e3,15e3),fA="__/auth/iframe",Td="emulator/auth/iframe",pA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wh(F){const v=F.config;nt(v.authDomain,F,"auth-domain-config-required");const C=v.emulator?Fe(v,Td):`https://${F.config.authDomain}/${fA}`,M={apiKey:v.apiKey,appName:F.name,v:wt.SDK_VERSION},ae=Bd.get(F.config.apiHost);ae&&(M.eid=ae);const Se=F._getFrameworks();return Se.length&&(M.fw=Se.join(",")),`${C}?${(0,ot.Am)(M).slice(1)}`}function Jh(){return Jh=(0,w.A)(function*(F){const v=yield function Yh(F){return hu=hu||function UA(F){return new Promise((v,C)=>{var M,ae,Se;function yt(){Oc(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{Oc(),C(Vt(F,"network-request-failed"))},timeout:El.get()})}if(null!==(ae=null===(M=fa().gapi)||void 0===M?void 0:M.iframes)&&void 0!==ae&&ae.Iframe)v(gapi.iframes.getContext());else{if(null===(Se=fa().gapi)||void 0===Se||!Se.load){const ye=Ms("iframefcb");return fa()[ye]=()=>{gapi.load?yt():C(Vt(F,"network-request-failed"))},Ji(`${function Aa(){return hi.gapiScript}()}?onload=${ye}`).catch(Ke=>C(Ke))}yt()}}).catch(v=>{throw hu=null,v})}(F),hu}(F),C=fa().gapi;return nt(C,F,"internal-error"),v.open({where:document.body,url:wh(F),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pA,dontclear:!0},M=>new Promise(function(){var ae=(0,w.A)(function*(Se,yt){yield M.restyle({setHideOnLeave:!1});const ye=Vt(F,"network-request-failed"),Ke=fa().setTimeout(()=>{yt(ye)},VA.get());function gt(){fa().clearTimeout(Ke),Se(M)}M.ping(gt).then(gt,()=>{yt(ye)})});return function(Se,yt){return ae.apply(this,arguments)}}()))}),Jh.apply(this,arguments)}const Yl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class eA{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Du="__/auth/handler",gA="emulator/auth/handler",Ia=encodeURIComponent("fac");function ic(F,v,C,M,ae,Se){return tA.apply(this,arguments)}function tA(){return(tA=(0,w.A)(function*(F,v,C,M,ae,Se){nt(F.config.authDomain,F,"auth-domain-config-required"),nt(F.config.apiKey,F,"invalid-api-key");const yt={apiKey:F.config.apiKey,appName:F.name,authType:C,redirectUrl:M,v:wt.SDK_VERSION,eventId:ae};if(v instanceof Yr){v.setDefaultLanguage(F.languageCode),yt.providerId=v.providerId||"",(0,ot.Im)(v.getCustomParameters())||(yt.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Dt,Lt]of Object.entries(Se||{}))yt[Dt]=Lt}if(v instanceof Li){const Dt=v.getScopes().filter(Lt=>""!==Lt);Dt.length>0&&(yt.scopes=Dt.join(","))}F.tenantId&&(yt.tid=F.tenantId);const ye=yt;for(const Dt of Object.keys(ye))void 0===ye[Dt]&&delete ye[Dt];const Ke=yield F._getAppCheckToken(),gt=Ke?`#${Ia}=${encodeURIComponent(Ke)}`:"";return`${function xu({config:F}){return F.emulator?Fe(F,gA):`https://${F.authDomain}/${Du}`}(F)}?${(0,ot.Am)(ye).slice(1)}${gt}`})).apply(this,arguments)}const Za="webStorageSupport",Cc=class Jd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=so,this._completeRedirectFn=Ol,this._overrideRedirectResult=Qa}_openPopup(v,C,M,ae){var Se=this;return(0,w.A)(function*(){var yt;yr(null===(yt=Se.eventManagers[v._key()])||void 0===yt?void 0:yt.manager,"_initialize() not called before _openPopup()");const ye=yield ic(v,C,M,xr(),ae);return function Jl(F,v,C,M=500,ae=600){const Se=Math.max((window.screen.availHeight-ae)/2,0).toString(),yt=Math.max((window.screen.availWidth-M)/2,0).toString();let ye="";const Ke=Object.assign(Object.assign({},Yl),{width:M.toString(),height:ae.toString(),top:Se,left:yt}),gt=(0,ot.ZQ)().toLowerCase();C&&(ye=ml(gt)?"_blank":C),na(gt)&&(v=v||"http://localhost",Ke.scrollbars="yes");const Dt=Object.entries(Ke).reduce((xn,[Kn,qn])=>`${xn}${Kn}=${qn},`,"");if(function _n(F=(0,ot.ZQ)()){var v;return ua(F)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(gt)&&"_self"!==ye)return function Fd(F,v){const C=document.createElement("a");C.href=F,C.target=v;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(M)}(v||"",ye),new eA(null);const Lt=window.open(v||"",ye,Dt);nt(Lt,F,"popup-blocked");try{Lt.focus()}catch{}return new eA(Lt)}(v,ye,Ya())})()}_openRedirect(v,C,M,ae){var Se=this;return(0,w.A)(function*(){return yield Se._originValidation(v),function aa(F){fa().location.href=F}(yield ic(v,C,M,xr(),ae)),new Promise(()=>{})})()}_initialize(v){const C=v._key();if(this.eventManagers[C]){const{manager:ae,promise:Se}=this.eventManagers[C];return ae?Promise.resolve(ae):(yr(Se,"If manager is not set, promise should be"),Se)}const M=this.initAndGetManager(v);return this.eventManagers[C]={promise:M},M.catch(()=>{delete this.eventManagers[C]}),M}initAndGetManager(v){var C=this;return(0,w.A)(function*(){const M=yield function QA(F){return Jh.apply(this,arguments)}(v),ae=new Hl(v);return M.register("authEvent",Se=>(nt(null==Se?void 0:Se.authEvent,v,"invalid-auth-event"),{status:ae.onEvent(Se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[v._key()]={manager:ae},C.iframes[v._key()]=M,ae})()}_isIframeWebStorageSupported(v,C){this.iframes[v._key()].send(Za,{type:Za},ae=>{var Se;const yt=null===(Se=null==ae?void 0:ae[0])||void 0===Se?void 0:Se[Za];void 0!==yt&&C(!!yt),bt(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const C=v._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function Bf(F){return bd.apply(this,arguments)}(v)),this.originValidationPromises[C]}get _shouldInitProactively(){return Mr()||Xs()||ua()}};class Ru{constructor(v){this.factorId=v}_process(v,C,M){switch(C.type){case"enroll":return this._finalizeEnroll(v,C.credential,M);case"signin":return this._finalizeSignIn(v,C.credential);default:return zn("unexpected MultiFactorSessionType")}}}class ed extends Ru{constructor(v){super("phone"),this.credential=v}static _fromCredential(v){return new ed(v)}_finalizeEnroll(v,C,M){return function xo(F,v){return Rn(F,"POST","/v2/accounts/mfaEnrollment:finalize",sn(F,v))}(v,{idToken:C,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(v,C){return function qu(F,v){return Rn(F,"POST","/v2/accounts/mfaSignIn:finalize",sn(F,v))}(v,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let mA=(()=>{class F{constructor(){}static assertion(C){return ed._fromCredential(C)}}return F.FACTOR_ID="phone",F})();var vA="@firebase/auth";class td{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var C=this;return(0,w.A)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const C=this.auth.onIdTokenChanged(M=>{v((null==M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(v,C),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const C=this.internalListeners.get(v);C&&(this.internalListeners.delete(v),C(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yA(){return window}(0,ot.XA)("authIdTokenMaxAge"),function Fs(F){hi=F}({loadJS:F=>new Promise((v,C)=>{const M=document.createElement("script");M.setAttribute("src",F),M.onload=v,M.onerror=ae=>{const Se=Vt("internal-error");Se.customData=ae,C(Se)},M.type="text/javascript",M.charset="UTF-8",function ef(){var F,v;return null!==(v=null===(F=document.getElementsByTagName("head"))||void 0===F?void 0:F[0])&&void 0!==v?v:document}().appendChild(M)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Rd(F){(0,wt._registerComponent)(new Ze.uA("auth",(v,{options:C})=>{const M=v.getProvider("app").getImmediate(),ae=v.getProvider("heartbeat"),Se=v.getProvider("app-check-internal"),{apiKey:yt,authDomain:ye}=M.options;nt(yt&&!yt.includes(":"),"invalid-api-key",{appName:M.name});const Ke={apiKey:yt,authDomain:ye,clientPlatform:F,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pn(F)},gt=new va(M,ae,Se,Ke);return function bl(F,v){const C=(null==v?void 0:v.persistence)||[],M=(Array.isArray(C)?C:[C]).map(ji);null!=v&&v.errorMap&&F._updateErrorMap(v.errorMap),F._initializeWithPersistence(M,null==v?void 0:v.popupRedirectResolver)}(gt,C),gt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,C,M)=>{v.getProvider("auth-internal").initialize()})),(0,wt._registerComponent)(new Ze.uA("auth-internal",v=>{const C=ei(v.getProvider("auth").getImmediate());return new td(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,wt.registerVersion)(vA,"1.7.4",function xd(F){switch(F){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(F)),(0,wt.registerVersion)(vA,"1.7.4","esm2017")}("Browser");function Yc(){return Yc=(0,w.A)(function*(F,v,C){var M;const{BuildInfo:ae}=yA();yr(v.sessionId,"AuthEvent did not contain a session ID");const Se=yield function Df(F){return th.apply(this,arguments)}(v.sessionId),yt={};return ua()?yt.ibi=ae.packageName:Ao()?yt.apn=ae.packageName:bt(F,"operation-not-supported-in-this-environment"),ae.displayName&&(yt.appDisplayName=ae.displayName),yt.sessionId=Se,ic(F,C,v.type,void 0,null!==(M=v.eventId)&&void 0!==M?M:void 0,yt)}),Yc.apply(this,arguments)}function fu(){return(fu=(0,w.A)(function*(F){const{BuildInfo:v}=yA(),C={};ua()?C.iosBundleId=v.packageName:Ao()?C.androidPackageName=v.packageName:bt(F,"operation-not-supported-in-this-environment"),yield ZA(F,C)})).apply(this,arguments)}function $A(){return($A=(0,w.A)(function*(F,v,C){const{cordova:M}=yA();let ae=()=>{};try{yield new Promise((Se,yt)=>{let ye=null;function Ke(){var Lt;Se();const xn=null===(Lt=M.plugins.browsertab)||void 0===Lt?void 0:Lt.close;"function"==typeof xn&&xn(),"function"==typeof(null==C?void 0:C.close)&&C.close()}function gt(){ye||(ye=window.setTimeout(()=>{yt(Vt(F,"redirect-cancelled-by-user"))},2e3))}function Dt(){"visible"===(null==document?void 0:document.visibilityState)&&gt()}v.addPassiveListener(Ke),document.addEventListener("resume",gt,!1),Ao()&&document.addEventListener("visibilitychange",Dt,!1),ae=()=>{v.removePassiveListener(Ke),document.removeEventListener("resume",gt,!1),document.removeEventListener("visibilitychange",Dt,!1),ye&&window.clearTimeout(ye)}})}finally{ae()}})).apply(this,arguments)}function th(){return(th=(0,w.A)(function*(F){const v=function xf(F){if(yr(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(F);const v=new ArrayBuffer(F.length),C=new Uint8Array(v);for(let M=0;M<F.length;M++)C[M]=F.charCodeAt(M);return C}(F),C=yield crypto.subtle.digest("SHA-256",v);return Array.from(new Uint8Array(C)).map(ae=>ae.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Pu extends Hl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(v=>{this.resolveInialized=v})}addPassiveListener(v){this.passiveListeners.add(v)}removePassiveListener(v){this.passiveListeners.delete(v)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(v){return this.resolveInialized(),this.passiveListeners.forEach(C=>C(v)),super.onEvent(v)}initialized(){var v=this;return(0,w.A)(function*(){yield v.initPromise})()}}function dc(F){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,w.A)(function*(F){const v=yield Jc()._get(Ll(F));return v&&(yield Jc()._remove(Ll(F))),v})).apply(this,arguments)}function Dl(){const F=[];for(let C=0;C<20;C++){const M=Math.floor(62*Math.random());F.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(M))}return F.join("")}function Jc(){return ji(Tl)}function Ll(F){return ai("authEvent",F.config.apiKey,F.name)}function EA(F){if(null==F||!F.includes("?"))return{};const[v,...C]=F.split("?");return(0,ot.I9)(C.join("?"))}const nf=class nd{constructor(){this._redirectPersistence=so,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ol,this._overrideRedirectResult=Qa}_initialize(v){var C=this;return(0,w.A)(function*(){const M=v._key();let ae=C.eventManagers.get(M);return ae||(ae=new Pu(v),C.eventManagers.set(M,ae),C.attachCallbackListeners(v,ae)),ae})()}_openPopup(v){bt(v,"operation-not-supported-in-this-environment")}_openRedirect(v,C,M,ae){var Se=this;return(0,w.A)(function*(){!function tf(F){var v,C,M,ae,Se,yt,ye,Ke,gt,Dt;const Lt=yA();nt("function"==typeof(null===(v=null==Lt?void 0:Lt.universalLinks)||void 0===v?void 0:v.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),nt(typeof(null===(C=null==Lt?void 0:Lt.BuildInfo)||void 0===C?void 0:C.packageName)<"u",F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),nt("function"==typeof(null===(Se=null===(ae=null===(M=null==Lt?void 0:Lt.cordova)||void 0===M?void 0:M.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Se?void 0:Se.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),nt("function"==typeof(null===(Ke=null===(ye=null===(yt=null==Lt?void 0:Lt.cordova)||void 0===yt?void 0:yt.plugins)||void 0===ye?void 0:ye.browsertab)||void 0===Ke?void 0:Ke.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),nt("function"==typeof(null===(Dt=null===(gt=null==Lt?void 0:Lt.cordova)||void 0===gt?void 0:gt.InAppBrowser)||void 0===Dt?void 0:Dt.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(v);const yt=yield Se._initialize(v);yield yt.initialized(),yt.resetRedirect(),function os(){Tu.clear()}(),yield Se._originValidation(v);const ye=function Ch(F,v,C=null){return{type:v,eventId:C,urlResponse:null,sessionId:Dl(),postBody:null,tenantId:F.tenantId,error:Vt(F,"no-auth-event")}}(v,M,ae);yield function ba(F,v){return Jc()._set(Ll(F),v)}(v,ye);const Ke=yield function Zl(F,v,C){return Yc.apply(this,arguments)}(v,ye,C),gt=yield function nA(F){const{cordova:v}=yA();return new Promise(C=>{v.plugins.browsertab.isAvailable(M=>{let ae=null;M?v.plugins.browsertab.openUrl(F):ae=v.InAppBrowser.open(F,function Nn(F=(0,ot.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(F)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(F)}()?"_blank":"_system","location=yes"),C(ae)})})}(Ke);return function eh(F,v,C){return $A.apply(this,arguments)}(v,yt,gt)})()}_isIframeWebStorageSupported(v,C){throw new Error("Method not implemented.")}_originValidation(v){const C=v._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function Ff(F){return fu.apply(this,arguments)}(v)),this.originValidationPromises[C]}attachCallbackListeners(v,C){const{universalLinks:M,handleOpenURL:ae,BuildInfo:Se}=yA(),yt=setTimeout((0,w.A)(function*(){yield dc(v),C.onEvent(GA())}),500),ye=function(){var Dt=(0,w.A)(function*(Lt){clearTimeout(yt);const xn=yield dc(v);let Kn=null;xn&&null!=Lt&&Lt.url&&(Kn=function Lc(F,v){var C,M;const ae=function wA(F){const v=EA(F),C=v.link?decodeURIComponent(v.link):void 0,M=EA(C).link,ae=v.deep_link_id?decodeURIComponent(v.deep_link_id):void 0;return EA(ae).link||ae||M||C||F}(v);if(ae.includes("/__/auth/callback")){const Se=EA(ae),yt=Se.firebaseError?function pl(F){try{return JSON.parse(F)}catch{return null}}(decodeURIComponent(Se.firebaseError)):null,ye=null===(M=null===(C=null==yt?void 0:yt.code)||void 0===C?void 0:C.split("auth/"))||void 0===M?void 0:M[1],Ke=ye?Vt(ye):null;return Ke?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:Ke,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:ae,postBody:null}}return null}(xn,Lt.url)),C.onEvent(Kn||GA())});return function(xn){return Dt.apply(this,arguments)}}();typeof M<"u"&&"function"==typeof M.subscribe&&M.subscribe(null,ye);const Ke=ae,gt=`${Se.packageName.toLowerCase()}://`;yA().handleOpenURL=function(){var Dt=(0,w.A)(function*(Lt){if(Lt.toLowerCase().startsWith(gt)&&ye({url:Lt}),"function"==typeof Ke)try{Ke(Lt)}catch(xn){console.error(xn)}});return function(Lt){return Dt.apply(this,arguments)}}()}};function GA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Vt("no-auth-event")}}function rA(){var F;return(null===(F=null==self?void 0:self.location)||void 0===F?void 0:F.protocol)||null}function oh(F=(0,ot.ZQ)()){return!("file:"!==rA()&&"ionic:"!==rA()&&"capacitor:"!==rA()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function kf(){try{const F=self.localStorage,v=Ya();if(F)return F.setItem(v,"1"),F.removeItem(v),!function rp(F=(0,ot.ZQ)()){return function bh(){return(0,ot.lT)()&&11===(null==document?void 0:document.documentMode)}()||function np(F=(0,ot.ZQ)()){return/Edge\/\d+/.test(F)}(F)}()||(0,ot.zW)()}catch{return Pd()&&(0,ot.zW)()}return!1}function Pd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Sh(){return(function sf(){return"http:"===rA()||"https:"===rA()}()||(0,ot.sr)()||oh())&&!function kd(){return(0,ot.lV)()||(0,ot.Ll)()}()&&kf()&&!Pd()}function sh(){return oh()&&typeof document<"u"}function g(){return(g=(0,w.A)(function*(){return!!sh()&&new Promise(F=>{const v=setTimeout(()=>{F(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(v),F(!0)})})})).apply(this,arguments)}const c={LOCAL:"local",NONE:"none",SESSION:"session"},u=nt,_="persistence";function P(F){return U.apply(this,arguments)}function U(){return(U=(0,w.A)(function*(F){yield F._initializationPromise;const v=te(),C=ai(_,F.config.apiKey,F.name);v&&v.setItem(C,F._getPersistence())})).apply(this,arguments)}function te(){var F;try{return(null===(F=function d(){return typeof window<"u"?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch{return null}}const oe=nt;class ve{constructor(){this.browserResolver=ji(Cc),this.cordovaResolver=ji(nf),this.underlyingResolver=null,this._redirectPersistence=so,this._completeRedirectFn=Ol,this._overrideRedirectResult=Qa}_initialize(v){var C=this;return(0,w.A)(function*(){return yield C.selectUnderlyingResolver(),C.assertedUnderlyingResolver._initialize(v)})()}_openPopup(v,C,M,ae){var Se=this;return(0,w.A)(function*(){return yield Se.selectUnderlyingResolver(),Se.assertedUnderlyingResolver._openPopup(v,C,M,ae)})()}_openRedirect(v,C,M,ae){var Se=this;return(0,w.A)(function*(){return yield Se.selectUnderlyingResolver(),Se.assertedUnderlyingResolver._openRedirect(v,C,M,ae)})()}_isIframeWebStorageSupported(v,C){this.assertedUnderlyingResolver._isIframeWebStorageSupported(v,C)}_originValidation(v){return this.assertedUnderlyingResolver._originValidation(v)}get _shouldInitProactively(){return sh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return oe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var v=this;return(0,w.A)(function*(){if(v.underlyingResolver)return;const C=yield function xp(){return g.apply(this,arguments)}();v.underlyingResolver=C?v.cordovaResolver:v.browserResolver})()}}function Oe(F){return F.unwrap()}function ct(F){return ht(F)}function ht(F){const{_tokenResponse:v}=F instanceof ot.g?F.customData:F;if(!v)return null;if(!(F instanceof ot.g)&&"temporaryProof"in v&&"phoneNumber"in v)return _l.credentialFromResult(F);const C=v.providerId;if(!C||C===Ut.PASSWORD)return null;let M;switch(C){case Ut.GOOGLE:M=Js;break;case Ut.FACEBOOK:M=ns;break;case Ut.GITHUB:M=Zs;break;case Ut.TWITTER:M=rl;break;default:const{oauthIdToken:ae,oauthAccessToken:Se,oauthTokenSecret:yt,pendingToken:ye,nonce:Ke}=v;return Se||yt||ae||ye?ye?C.startsWith("saml.")?Cs._create(C,ye):Or._fromParams({providerId:C,signInMethod:C,pendingToken:ye,idToken:ae,accessToken:Se}):new ii(C).credential({idToken:ae,accessToken:Se,rawNonce:Ke}):null}return F instanceof ot.g?M.credentialFromError(F):M.credentialFromResult(F)}function m(F,v){return v.catch(C=>{throw C instanceof ot.g&&function at(F,v){var C;const M=null===(C=v.customData)||void 0===C?void 0:C._tokenResponse;if("auth/multi-factor-auth-required"===(null==v?void 0:v.code))v.resolver=new b(F,function lu(F,v){var C;const M=(0,ot.Ku)(F),ae=v;return nt(v.customData.operationType,M,"argument-error"),nt(null===(C=ae.customData._serverResponse)||void 0===C?void 0:C.mfaPendingCredential,M,"argument-error"),dl._fromError(M,ae)}(F,v));else if(M){const ae=ht(v),Se=v;ae&&(Se.credential=ae,Se.tenantId=M.tenantId||void 0,Se.email=M.email||void 0,Se.phoneNumber=M.phoneNumber||void 0)}}(F,C),C}).then(C=>{const ae=C.user;return{operationType:C.operationType,credential:ct(C),additionalUserInfo:jn(C),user:Q.getOrCreate(ae)}})}function A(F,v){return p.apply(this,arguments)}function p(){return(p=(0,w.A)(function*(F,v){const C=yield v;return{verificationId:C.verificationId,confirm:M=>m(F,C.confirm(M))}})).apply(this,arguments)}class b{constructor(v,C){this.resolver=C,this.auth=function he(F){return F.wrapped()}(v)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(v){return m(Oe(this.auth),this.resolver.resolveSignIn(v))}}class Q{constructor(v){this._delegate=v,this.multiFactor=function Fa(F){const v=(0,ot.Ku)(F);return nc.has(v)||nc.set(v,cu._fromUser(v)),nc.get(v)}(v)}static getOrCreate(v){return Q.USER_MAP.has(v)||Q.USER_MAP.set(v,new Q(v)),Q.USER_MAP.get(v)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(v){return this._delegate.getIdTokenResult(v)}getIdToken(v){return this._delegate.getIdToken(v)}linkAndRetrieveDataWithCredential(v){return this.linkWithCredential(v)}linkWithCredential(v){var C=this;return(0,w.A)(function*(){return m(C.auth,iu(C._delegate,v))})()}linkWithPhoneNumber(v,C){var M=this;return(0,w.A)(function*(){return A(M.auth,function Ns(F,v,C){return fl.apply(this,arguments)}(M._delegate,v,C))})()}linkWithPopup(v){var C=this;return(0,w.A)(function*(){return m(C.auth,function Yu(F,v,C){return bo.apply(this,arguments)}(C._delegate,v,ve))})()}linkWithRedirect(v){var C=this;return(0,w.A)(function*(){return yield P(ei(C.auth)),cs(C._delegate,v,ve)})()}reauthenticateAndRetrieveDataWithCredential(v){return this.reauthenticateWithCredential(v)}reauthenticateWithCredential(v){var C=this;return(0,w.A)(function*(){return m(C.auth,mc(C._delegate,v))})()}reauthenticateWithPhoneNumber(v,C){return A(this.auth,function Wc(F,v,C){return uc.apply(this,arguments)}(this._delegate,v,C))}reauthenticateWithPopup(v){return m(this.auth,function Su(F,v,C){return Ec.apply(this,arguments)}(this._delegate,v,ve))}reauthenticateWithRedirect(v){var C=this;return(0,w.A)(function*(){return yield P(ei(C.auth)),Xd(C._delegate,v,ve)})()}sendEmailVerification(v){return function sl(F,v){return _c.apply(this,arguments)}(this._delegate,v)}unlink(v){var C=this;return(0,w.A)(function*(){return yield function Ae(F,v){return qe.apply(this,arguments)}(C._delegate,v),C})()}updateEmail(v){return function j(F,v){const C=(0,ot.Ku)(F);return(0,wt._isFirebaseServerApp)(C.auth.app)?Promise.reject(Yt(C.auth)):_e(C,v,null)}(this._delegate,v)}updatePassword(v){return function J(F,v){return _e((0,ot.Ku)(F),null,v)}(this._delegate,v)}updatePhoneNumber(v){return function la(F,v){return kc.apply(this,arguments)}(this._delegate,v)}updateProfile(v){return function Ml(F,v){return au.apply(this,arguments)}(this._delegate,v)}verifyBeforeUpdateEmail(v,C){return function yc(F,v,C){return Dc.apply(this,arguments)}(this._delegate,v,C)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Q.USER_MAP=new WeakMap;const ee=nt;let le=(()=>{class F{constructor(C,M){if(this.app=C,M.isInitialized())return this._delegate=M.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ae}=C.options;ee(ae,"invalid-api-key",{appName:C.name}),ee(ae,"invalid-api-key",{appName:C.name});const Se=typeof window<"u"?ve:void 0;this._delegate=M.initialize({options:{persistence:We(ae,C.name),popupRedirectResolver:Se}}),this._delegate._updateErrorMap(An),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Q.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(C){this._delegate.languageCode=C}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(C){this._delegate.tenantId=C}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(C,M){!function Oa(F,v,C){const M=ei(F);nt(M._canInitEmulator,M,"emulator-config-failed"),nt(/^https?:\/\//.test(v),M,"invalid-emulator-scheme");const ae=!(null==C||!C.disableWarnings),Se=Bo(v),{host:yt,port:ye}=function ra(F){const v=Bo(F),C=/(\/\/)?([^?#/]+)/.exec(F.substr(v.length));if(!C)return{host:"",port:null};const M=C[2].split("@").pop()||"",ae=/^(\[[^\]]+\])(:|$)/.exec(M);if(ae){const Se=ae[1];return{host:Se,port:Jn(M.substr(Se.length+1))}}{const[Se,yt]=M.split(":");return{host:Se,port:Jn(yt)}}}(v);M.config.emulator={url:`${Se}//${yt}${null===ye?"":`:${ye}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:yt,port:ye,protocol:Se.replace(":",""),options:Object.freeze({disableWarnings:ae})}),ae||function Ds(){function F(){const v=document.createElement("p"),C=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",F):F())}()}(this._delegate,C,M)}applyActionCode(C){return function sa(F,v){return Gl.apply(this,arguments)}(this._delegate,C)}checkActionCode(C){return vc(this._delegate,C)}confirmPasswordReset(C,M){return function ou(F,v,C){return rs.apply(this,arguments)}(this._delegate,C,M)}createUserWithEmailAndPassword(C,M){var ae=this;return(0,w.A)(function*(){return m(ae._delegate,function Gu(F,v,C){return Ma.apply(this,arguments)}(ae._delegate,C,M))})()}fetchProvidersForEmail(C){return this.fetchSignInMethodsForEmail(C)}fetchSignInMethodsForEmail(C){return function Fc(F,v){return Xa.apply(this,arguments)}(this._delegate,C)}isSignInWithEmailLink(C){return function Sl(F,v){const C=Wn.parseLink(v);return"EMAIL_SIGNIN"===(null==C?void 0:C.operation)}(0,C)}getRedirectResult(){var C=this;return(0,w.A)(function*(){ee(Sh(),C._delegate,"operation-not-supported-in-this-environment");const M=yield function Ws(F,v){return Ed.apply(this,arguments)}(C._delegate,ve);return M?m(C._delegate,Promise.resolve(M)):{credential:null,user:null}})()}addFrameworkForLogging(C){!function rh(F,v){ei(F)._logFramework(v)}(this._delegate,C)}onAuthStateChanged(C,M,ae){const{next:Se,error:yt,complete:ye}=me(C,M,ae);return this._delegate.onAuthStateChanged(Se,yt,ye)}onIdTokenChanged(C,M,ae){const{next:Se,error:yt,complete:ye}=me(C,M,ae);return this._delegate.onIdTokenChanged(Se,yt,ye)}sendSignInLinkToEmail(C,M){return function Ba(F,v,C){return wa.apply(this,arguments)}(this._delegate,C,M)}sendPasswordResetEmail(C,M){return function ya(F,v,C){return il.apply(this,arguments)}(this._delegate,C,M||void 0)}setPersistence(C){var M=this;return(0,w.A)(function*(){let ae;switch(function I(F,v){u(Object.values(c).includes(v),F,"invalid-persistence-type"),(0,ot.lV)()?u(v!==c.SESSION,F,"unsupported-persistence-type"):(0,ot.Ll)()?u(v===c.NONE,F,"unsupported-persistence-type"):Pd()?u(v===c.NONE||v===c.LOCAL&&(0,ot.zW)(),F,"unsupported-persistence-type"):u(v===c.NONE||kf(),F,"unsupported-persistence-type")}(M._delegate,C),C){case c.SESSION:ae=so;break;case c.LOCAL:ae=(yield ji(Kc)._isAvailable())?Kc:Tl;break;case c.NONE:ae=ks;break;default:return bt("argument-error",{appName:M._delegate.name})}return M._delegate.setPersistence(ae)})()}signInAndRetrieveDataWithCredential(C){return this.signInWithCredential(C)}signInAnonymously(){return m(this._delegate,function Pa(F){return _s.apply(this,arguments)}(this._delegate))}signInWithCredential(C){return m(this._delegate,Pl(this._delegate,C))}signInWithCustomToken(C){return m(this._delegate,function tc(F,v){return fi.apply(this,arguments)}(this._delegate,C))}signInWithEmailAndPassword(C,M){return m(this._delegate,function bs(F,v,C){return(0,wt._isFirebaseServerApp)(F.app)?Promise.reject(Yt(F)):Pl((0,ot.Ku)(F),_i.credential(v,C)).catch(function(){var M=(0,w.A)(function*(ae){throw"auth/password-does-not-meet-requirements"===ae.code&&ci(F),ae});return function(ae){return M.apply(this,arguments)}}())}(this._delegate,C,M))}signInWithEmailLink(C,M){return m(this._delegate,function Kl(F,v,C){return su.apply(this,arguments)}(this._delegate,C,M))}signInWithPhoneNumber(C,M){return A(this._delegate,function Ss(F,v,C){return Vs.apply(this,arguments)}(this._delegate,C,M))}signInWithPopup(C){var M=this;return(0,w.A)(function*(){return ee(Sh(),M._delegate,"operation-not-supported-in-this-environment"),m(M._delegate,function Vi(F,v,C){return hs.apply(this,arguments)}(M._delegate,C,ve))})()}signInWithRedirect(C){var M=this;return(0,w.A)(function*(){return ee(Sh(),M._delegate,"operation-not-supported-in-this-environment"),yield P(M._delegate),Zu(M._delegate,C,ve)})()}updateCurrentUser(C){return this._delegate.updateCurrentUser(C)}verifyPasswordResetCode(C){return function qa(F,v){return ol.apply(this,arguments)}(this._delegate,C)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=c,F})();function me(F,v,C){let M=F;"function"!=typeof F&&({next:M,error:v,complete:C}=F);const ae=M;return{next:yt=>ae(yt&&Q.getOrCreate(yt)),error:v,complete:C}}function We(F,v){const C=function $(F,v){const C=te();if(!C)return[];const M=ai(_,F,v);switch(C.getItem(M)){case c.NONE:return[ks];case c.LOCAL:return[Kc,so];case c.SESSION:return[so];default:return[]}}(F,v);if(typeof self<"u"&&!C.includes(Kc)&&C.push(Kc),typeof window<"u")for(const M of[Tl,so])C.includes(M)||C.push(M);return C.includes(ks)||C.push(ks),C}class it{constructor(){this.providerId="phone",this._delegate=new _l(Oe(e.A.auth()))}static credential(v,C){return _l.credential(v,C)}verifyPhoneNumber(v,C){return this._delegate.verifyPhoneNumber(v,C)}unwrap(){return this._delegate}}it.PHONE_SIGN_IN_METHOD=_l.PHONE_SIGN_IN_METHOD,it.PROVIDER_ID=_l.PROVIDER_ID;const Me=nt;class Ue{constructor(v,C,M=e.A.app()){var ae;Me(null===(ae=M.options)||void 0===ae?void 0:ae.apiKey,"invalid-api-key",{appName:M.name}),this._delegate=new to(M.auth(),v,C),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function It(F){F.INTERNAL.registerComponent(new Ze.uA("auth-compat",v=>{const C=v.getProvider("app-compat").getImmediate(),M=v.getProvider("auth");return new le(C,M)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:_i,FacebookAuthProvider:ns,GithubAuthProvider:Zs,GoogleAuthProvider:Js,OAuthProvider:ii,SAMLAuthProvider:Zo,PhoneAuthProvider:it,PhoneMultiFactorGenerator:mA,RecaptchaVerifier:Ue,TwitterAuthProvider:rl,Auth:le,AuthCredential:Ra,Error:ot.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.5.9")}(e.A)},2508:(Kr,dn,Be)=>{"use strict";var w=Be(3345),e=Be(1362),wt=Be(467),ot=Be(7852),Z=Be(1076),tt=Be(8041);const Ze="@firebase/database";let Ut="";function Ct(m){Ut=m}class et{constructor(A){this.domStorage_=A,this.prefix_="firebase:"}set(A,p){null==p?this.domStorage_.removeItem(this.prefixedName_(A)):this.domStorage_.setItem(this.prefixedName_(A),(0,Z.As)(p))}get(A){const p=this.domStorage_.getItem(this.prefixedName_(A));return null==p?null:(0,Z.$L)(p)}remove(A){this.domStorage_.removeItem(this.prefixedName_(A))}prefixedName_(A){return this.prefix_+A}toString(){return this.domStorage_.toString()}}class vt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(A,p){null==p?delete this.cache_[A]:this.cache_[A]=p}get(A){return(0,Z.gR)(this.cache_,A)?this.cache_[A]:null}remove(A){delete this.cache_[A]}}const Mt=function(m){try{if(typeof window<"u"&&typeof window[m]<"u"){const A=window[m];return A.setItem("firebase:sentinel","cache"),A.removeItem("firebase:sentinel"),new et(A)}}catch{}return new vt},Ft=Mt("localStorage"),An=Mt("sessionStorage"),mn=new tt.Vy("@firebase/database"),qt=function(){let m=1;return function(){return m++}}(),tn=function(m){const A=(0,Z.kj)(m),p=new Z.gz;p.update(A);const b=p.digest();return Z.K3.encodeByteArray(b)},Un=function(...m){let A="";for(let p=0;p<m.length;p++){const b=m[p];Array.isArray(b)||b&&"object"==typeof b&&"number"==typeof b.length?A+=Un.apply(null,b):A+="object"==typeof b?(0,Z.As)(b):b,A+=" "}return A};let gn=null,Tn=!0;const bt=function(m,A){(0,Z.vA)(!A||!0===m||!1===m,"Can't turn on custom loggers persistently."),!0===m?(mn.logLevel=tt.$b.VERBOSE,gn=mn.log.bind(mn),A&&An.set("logging_enabled",!0)):"function"==typeof m?gn=m:(gn=null,An.remove("logging_enabled"))},Vt=function(...m){if(!0===Tn&&(Tn=!1,null===gn&&!0===An.get("logging_enabled")&&bt(!0)),gn){const A=Un.apply(null,m);gn(A)}},wn=function(m){return function(...A){Vt(m,...A)}},Yt=function(...m){const A="FIREBASE INTERNAL ERROR: "+Un(...m);mn.error(A)},Cn=function(...m){const A=`FIREBASE FATAL ERROR: ${Un(...m)}`;throw mn.error(A),new Error(A)},Dn=function(...m){const A="FIREBASE WARNING: "+Un(...m);mn.warn(A)},zn=function(m){return"number"==typeof m&&(m!=m||m===Number.POSITIVE_INFINITY||m===Number.NEGATIVE_INFINITY)},xr="[MIN_NAME]",Kt="[MAX_NAME]",Vn=function(m,A){if(m===A)return 0;if(m===xr||A===Kt)return-1;if(A===xr||m===Kt)return 1;{const p=ui(m),b=ui(A);return null!==p?null!==b?p-b==0?m.length-A.length:p-b:-1:null!==b?1:m<A?-1:1}},kn=function(m,A){return m===A?0:m<A?-1:1},st=function(m,A){if(A&&m in A)return A[m];throw new Error("Missing required key ("+m+") in object: "+(0,Z.As)(A))},we=function(m){if("object"!=typeof m||null===m)return(0,Z.As)(m);const A=[];for(const b in m)A.push(b);A.sort();let p="{";for(let b=0;b<A.length;b++)0!==b&&(p+=","),p+=(0,Z.As)(A[b]),p+=":",p+=we(m[A[b]]);return p+="}",p},Fe=function(m,A){const p=m.length;if(p<=A)return[m];const b=[];for(let Q=0;Q<p;Q+=A)b.push(m.substring(Q,Q+A>p?p:Q+A));return b};function Le(m,A){for(const p in m)m.hasOwnProperty(p)&&A(p,m[p])}const Rt=function(m){(0,Z.vA)(!zn(m),"Invalid JSON number");const b=1023;let Q,ee,le,me,We;0===m?(ee=0,le=0,Q=1/m==-1/0?1:0):(Q=m<0,(m=Math.abs(m))>=Math.pow(2,1-b)?(me=Math.min(Math.floor(Math.log(m)/Math.LN2),b),ee=me+b,le=Math.round(m*Math.pow(2,52-me)-Math.pow(2,52))):(ee=0,le=Math.round(m/Math.pow(2,-1074))));const it=[];for(We=52;We;We-=1)it.push(le%2?1:0),le=Math.floor(le/2);for(We=11;We;We-=1)it.push(ee%2?1:0),ee=Math.floor(ee/2);it.push(Q?1:0),it.reverse();const Me=it.join("");let Ue="";for(We=0;We<64;We+=8){let dt=parseInt(Me.substr(We,8),2).toString(16);1===dt.length&&(dt="0"+dt),Ue+=dt}return Ue.toLowerCase()},dr=new RegExp("^-?(0*)\\d{1,10}$"),ui=function(m){if(dr.test(m)){const A=Number(m);if(A>=-2147483648&&A<=2147483647)return A}return null},Ai=function(m){try{m()}catch(A){setTimeout(()=>{throw Dn("Exception was thrown by user callback.",A.stack||""),A},Math.floor(0))}},Yi=function(m,A){const p=setTimeout(m,A);return"number"==typeof p&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(p):"object"==typeof p&&p.unref&&p.unref(),p};class kr{constructor(A,p){this.appName_=A,this.appCheckProvider=p,this.appCheck=null==p?void 0:p.getImmediate({optional:!0}),this.appCheck||null==p||p.get().then(b=>this.appCheck=b)}getToken(A){return this.appCheck?this.appCheck.getToken(A):new Promise((p,b)=>{setTimeout(()=>{this.appCheck?this.getToken(A).then(p,b):p(null)},0)})}addTokenChangeListener(A){var p;null===(p=this.appCheckProvider)||void 0===p||p.get().then(b=>b.addTokenListener(A))}notifyForInvalidToken(){Dn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Di{constructor(A,p,b){this.appName_=A,this.firebaseOptions_=p,this.authProvider_=b,this.auth_=null,this.auth_=b.getImmediate({optional:!0}),this.auth_||b.onInit(Q=>this.auth_=Q)}getToken(A){return this.auth_?this.auth_.getToken(A).catch(p=>p&&"auth/token-not-initialized"===p.code?(Vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(p)):new Promise((p,b)=>{setTimeout(()=>{this.auth_?this.getToken(A).then(p,b):p(null)},0)})}addTokenChangeListener(A){this.auth_?this.auth_.addAuthTokenListener(A):this.authProvider_.get().then(p=>p.addAuthTokenListener(A))}removeTokenChangeListener(A){this.authProvider_.get().then(p=>p.removeAuthTokenListener(A))}notifyForInvalidToken(){let A='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';A+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dn(A)}}let Wi=(()=>{class m{constructor(p){this.accessToken=p}getToken(p){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(p){p(this.accessToken)}removeTokenChangeListener(p){}notifyForInvalidToken(){}}return m.OWNER="owner",m})();const si=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Er="websocket",ri="long_polling";class eo{constructor(A,p,b,Q,ee=!1,le="",me=!1,We=!1){this.secure=p,this.namespace=b,this.webSocketOnly=Q,this.nodeAdmin=ee,this.persistenceKey=le,this.includeNamespaceInQueryParams=me,this.isUsingEmulator=We,this._host=A.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ft.get("host:"+A)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(A){A!==this.internalHost&&(this.internalHost=A,this.isCacheableHost()&&Ft.set("host:"+this._host,this.internalHost))}toString(){let A=this.toURLString();return this.persistenceKey&&(A+="<"+this.persistenceKey+">"),A}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function _o(m,A,p){let b;if((0,Z.vA)("string"==typeof A,"typeof type must == string"),(0,Z.vA)("object"==typeof p,"typeof params must == object"),A===Er)b=(m.secure?"wss://":"ws://")+m.internalHost+"/.ws?";else{if(A!==ri)throw new Error("Unknown connection type: "+A);b=(m.secure?"https://":"http://")+m.internalHost+"/.lp?"}(function uo(m){return m.host!==m.internalHost||m.isCustomHost()||m.includeNamespaceInQueryParams})(m)&&(p.ns=m.namespace);const Q=[];return Le(p,(ee,le)=>{Q.push(ee+"="+le)}),b+Q.join("&")}class Ro{constructor(){this.counters_={}}incrementCounter(A,p=1){(0,Z.gR)(this.counters_,A)||(this.counters_[A]=0),this.counters_[A]+=p}get(){return(0,Z.A4)(this.counters_)}}const Mo={},Zr={};function ko(m){const A=m.toString();return Mo[A]||(Mo[A]=new Ro),Mo[A]}class Qi{constructor(A){this.onMessage_=A,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(A,p){this.closeAfterResponse=A,this.onClose=p,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(A,p){for(this.pendingResponses[A]=p;this.pendingResponses[this.currentResponseNum];){const b=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let Q=0;Q<b.length;++Q)b[Q]&&Ai(()=>{this.onMessage_(b[Q])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class qr{constructor(A,p,b,Q,ee,le,me){this.connId=A,this.repoInfo=p,this.applicationId=b,this.appCheckToken=Q,this.authToken=ee,this.transportSessionId=le,this.lastSessionId=me,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wn(A),this.stats_=ko(p),this.urlFn=We=>(this.appCheckToken&&(We.ac=this.appCheckToken),_o(p,ri,We))}open(A,p){this.curSegmentNum=0,this.onDisconnect_=p,this.myPacketOrderer=new Qi(A),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(m){if((0,Z.$g)()||"complete"===document.readyState)m();else{let A=!1;const p=function(){document.body?A||(A=!0,m()):setTimeout(p,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",p,!1),window.addEventListener("load",p,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&p()}),window.attachEvent("onload",p))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ji((...ee)=>{const[le,me,We,it,Me]=ee;if(this.incrementIncomingBytes_(ee),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===le)this.id=me,this.password=We;else{if("close"!==le)throw new Error("Unrecognized command received: "+le);me?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(me,()=>{this.onClosed_()})):this.onClosed_()}},(...ee)=>{const[le,me]=ee;this.incrementIncomingBytes_(ee),this.myPacketOrderer.handleResponse(le,me)},()=>{this.onClosed_()},this.urlFn);const b={start:"t"};b.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(b.cb=this.scriptTagHolder.uniqueCallbackIdentifier),b.v="5",this.transportSessionId&&(b.s=this.transportSessionId),this.lastSessionId&&(b.ls=this.lastSessionId),this.applicationId&&(b.p=this.applicationId),this.appCheckToken&&(b.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&si.test(location.hostname)&&(b.r="f");const Q=this.urlFn(b);this.log_("Connecting via long-poll to "+Q),this.scriptTagHolder.addTag(Q,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qr.forceAllow_=!0}static forceDisallow(){qr.forceDisallow_=!0}static isAvailable(){return!((0,Z.$g)()||!qr.forceAllow_&&(qr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(A){const p=(0,Z.As)(A);this.bytesSent+=p.length,this.stats_.incrementCounter("bytes_sent",p.length);const b=(0,Z.KA)(p),Q=Fe(b,1840);for(let ee=0;ee<Q.length;ee++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,Q.length,Q[ee]),this.curSegmentNum++}addDisconnectPingFrame(A,p){if((0,Z.$g)())return;this.myDisconnFrame=document.createElement("iframe");const b={dframe:"t"};b.id=A,b.pw=p,this.myDisconnFrame.src=this.urlFn(b),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(A){const p=(0,Z.As)(A).length;this.bytesReceived+=p,this.stats_.incrementCounter("bytes_received",p)}}class ji{constructor(A,p,b,Q){if(this.onDisconnect=b,this.urlFn=Q,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Z.$g)())this.commandCB=A,this.onMessageCB=p;else{this.uniqueCallbackIdentifier=qt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=A,window["pRTLPCB"+this.uniqueCallbackIdentifier]=p,this.myIFrame=ji.createIFrame_();let ee="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(ee='<script>document.domain="'+document.domain+'";<\/script>');const le="<html><body>"+ee+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(le),this.myIFrame.doc.close()}catch(me){Vt("frame writing exception"),me.stack&&Vt(me.stack),Vt(me)}}}static createIFrame_(){const A=document.createElement("iframe");if(A.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(A);try{A.contentWindow.document||Vt("No IE domain setting required")}catch{const b=document.domain;A.src="javascript:void((function(){document.open();document.domain='"+b+"';document.close();})())"}return A.contentDocument?A.doc=A.contentDocument:A.contentWindow?A.doc=A.contentWindow.document:A.document&&(A.doc=A.document),A}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const A=this.onDisconnect;A&&(this.onDisconnect=null,A())}startLongPoll(A,p){for(this.myID=A,this.myPW=p,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const A={};A.id=this.myID,A.pw=this.myPW,A.ser=this.currentSerial;let p=this.urlFn(A),b="",Q=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+b.length<=1870;){const le=this.pendingSegs.shift();b=b+"&seg"+Q+"="+le.seg+"&ts"+Q+"="+le.ts+"&d"+Q+"="+le.d,Q++}return p+=b,this.addLongPollTag_(p,this.currentSerial),!0}return!1}enqueueSegment(A,p,b){this.pendingSegs.push({seg:A,ts:p,d:b}),this.alive&&this.newRequest_()}addLongPollTag_(A,p){this.outstandingRequests.add(p);const b=()=>{this.outstandingRequests.delete(p),this.newRequest_()},Q=setTimeout(b,Math.floor(25e3));this.addTag(A,()=>{clearTimeout(Q),b()})}addTag(A,p){(0,Z.$g)()?this.doNodeLongPoll(A,p):setTimeout(()=>{try{if(!this.sendNewPolls)return;const b=this.myIFrame.doc.createElement("script");b.type="text/javascript",b.async=!0,b.src=A,b.onload=b.onreadystatechange=function(){const Q=b.readyState;(!Q||"loaded"===Q||"complete"===Q)&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),p())},b.onerror=()=>{Vt("Long-poll script failed to load: "+A),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(b)}catch{}},Math.floor(1))}}let ai=null;typeof MozWebSocket<"u"?ai=MozWebSocket:typeof WebSocket<"u"&&(ai=WebSocket);let Fr=(()=>{class m{constructor(p,b,Q,ee,le,me,We){this.connId=p,this.applicationId=Q,this.appCheckToken=ee,this.authToken=le,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wn(this.connId),this.stats_=ko(b),this.connURL=m.connectionURL_(b,me,We,ee,Q),this.nodeAdmin=b.nodeAdmin}static connectionURL_(p,b,Q,ee,le){const me={v:"5"};return!(0,Z.$g)()&&typeof location<"u"&&location.hostname&&si.test(location.hostname)&&(me.r="f"),b&&(me.s=b),Q&&(me.ls=Q),ee&&(me.ac=ee),le&&(me.p=le),_o(p,Er,me)}open(p,b){this.onDisconnect=b,this.onMessage=p,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ft.set("previous_websocket_failure",!0);try{let Q;if((0,Z.$g)()){Q={headers:{"User-Agent":`Firebase/5/${Ut}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(Q.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(Q.headers["X-Firebase-AppCheck"]=this.appCheckToken);const le=process.env,me=0===this.connURL.indexOf("wss://")?le.HTTPS_PROXY||le.https_proxy:le.HTTP_PROXY||le.http_proxy;me&&(Q.proxy={origin:me})}this.mySock=new ai(this.connURL,[],Q)}catch(Q){this.log_("Error instantiating WebSocket.");const ee=Q.message||Q.data;return ee&&this.log_(ee),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=Q=>{this.handleIncomingFrame(Q)},this.mySock.onerror=Q=>{this.log_("WebSocket error.  Closing connection.");const ee=Q.message||Q.data;ee&&this.log_(ee),this.onClosed_()}}start(){}static forceDisallow(){m.forceDisallow_=!0}static isAvailable(){let p=!1;if(typeof navigator<"u"&&navigator.userAgent){const Q=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);Q&&Q.length>1&&parseFloat(Q[1])<4.4&&(p=!0)}return!p&&null!==ai&&!m.forceDisallow_}static previouslyFailed(){return Ft.isInMemoryStorage||!0===Ft.get("previous_websocket_failure")}markConnectionHealthy(){Ft.remove("previous_websocket_failure")}appendFrame_(p){if(this.frames.push(p),this.frames.length===this.totalFrames){const b=this.frames.join("");this.frames=null;const Q=(0,Z.$L)(b);this.onMessage(Q)}}handleNewFrameCount_(p){this.totalFrames=p,this.frames=[]}extractFrameCount_(p){if((0,Z.vA)(null===this.frames,"We already have a frame buffer"),p.length<=6){const b=Number(p);if(!isNaN(b))return this.handleNewFrameCount_(b),null}return this.handleNewFrameCount_(1),p}handleIncomingFrame(p){if(null===this.mySock)return;const b=p.data;if(this.bytesReceived+=b.length,this.stats_.incrementCounter("bytes_received",b.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(b);else{const Q=this.extractFrameCount_(b);null!==Q&&this.appendFrame_(Q)}}send(p){this.resetKeepAlive();const b=(0,Z.As)(p);this.bytesSent+=b.length,this.stats_.incrementCounter("bytes_sent",b.length);const Q=Fe(b,16384);Q.length>1&&this.sendString_(String(Q.length));for(let ee=0;ee<Q.length;ee++)this.sendString_(Q[ee])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(p){try{this.mySock.send(p)}catch(b){this.log_("Exception thrown from WebSocket.send():",b.message||b.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return m.responsesRequiredToBeHealthy=2,m.healthyTimeout=3e4,m})(),gs=(()=>{class m{constructor(p){this.initTransports_(p)}static get ALL_TRANSPORTS(){return[qr,Fr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(p){const b=Fr&&Fr.isAvailable();let Q=b&&!Fr.previouslyFailed();if(p.webSocketOnly&&(b||Dn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),Q=!0),Q)this.transports_=[Fr];else{const ee=this.transports_=[];for(const le of m.ALL_TRANSPORTS)le&&le.isAvailable()&&ee.push(le);m.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return m.globalTransportInitialized_=!1,m})();class pr{constructor(A,p,b,Q,ee,le,me,We,it,Me){this.id=A,this.repoInfo_=p,this.applicationId_=b,this.appCheckToken_=Q,this.authToken_=ee,this.onMessage_=le,this.onReady_=me,this.onDisconnect_=We,this.onKill_=it,this.lastSessionId=Me,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wn("c:"+this.id+":"),this.transportManager_=new gs(p),this.log_("Connection created"),this.start_()}start_(){const A=this.transportManager_.initialTransport();this.conn_=new A(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=A.responsesRequiredToBeHealthy||0;const p=this.connReceiver_(this.conn_),b=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(p,b)},Math.floor(0));const Q=A.healthyTimeout||0;Q>0&&(this.healthyTimeout_=Yi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(Q)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(A){return p=>{A===this.conn_?this.onConnectionLost_(p):A===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(A){return p=>{2!==this.state_&&(A===this.rx_?this.onPrimaryMessageReceived_(p):A===this.secondaryConn_?this.onSecondaryMessageReceived_(p):this.log_("message on old connection"))}}sendRequest(A){this.sendData_({t:"d",d:A})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(A){if("t"in A){const p=A.t;"a"===p?this.upgradeIfSecondaryHealthy_():"r"===p?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===p&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(A){const p=st("t",A),b=st("d",A);if("c"===p)this.onSecondaryControl_(b);else{if("d"!==p)throw new Error("Unknown protocol layer: "+p);this.pendingDataMessages.push(b)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(A){const p=st("t",A),b=st("d",A);"c"===p?this.onControl_(b):"d"===p&&this.onDataMessage_(b)}onDataMessage_(A){this.onPrimaryResponse_(),this.onMessage_(A)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(A){const p=st("t",A);if("d"in A){const b=A.d;if("h"===p){const Q=Object.assign({},b);this.repoInfo_.isUsingEmulator&&(Q.h=this.repoInfo_.host),this.onHandshake_(Q)}else if("n"===p){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let Q=0;Q<this.pendingDataMessages.length;++Q)this.onDataMessage_(this.pendingDataMessages[Q]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===p?this.onConnectionShutdown_(b):"r"===p?this.onReset_(b):"e"===p?Yt("Server Error: "+b):"o"===p?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yt("Unknown control packet command: "+p)}}onHandshake_(A){const p=A.ts,b=A.v,Q=A.h;this.sessionId=A.s,this.repoInfo_.host=Q,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,p),"5"!==b&&Dn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const A=this.transportManager_.upgradeTransport();A&&this.startUpgrade_(A)}startUpgrade_(A){this.secondaryConn_=new A(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=A.responsesRequiredToBeHealthy||0;const p=this.connReceiver_(this.secondaryConn_),b=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(p,b),Yi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(A){this.log_("Reset packet received.  New host: "+A),this.repoInfo_.host=A,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(A,p){this.log_("Realtime connection established."),this.conn_=A,this.state_=1,this.onReady_&&(this.onReady_(p,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const A=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===A||this.rx_===A)&&this.close()}onConnectionLost_(A){this.conn_=null,A||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ft.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(A){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(A),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(A){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(A)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Xr{put(A,p,b,Q){}merge(A,p,b,Q){}refreshAuthToken(A){}refreshAppCheckToken(A){}onDisconnectPut(A,p,b){}onDisconnectMerge(A,p,b){}onDisconnectCancel(A,p){}reportStats(A){}}class Dr{constructor(A){this.allowedEvents_=A,this.listeners_={},(0,Z.vA)(Array.isArray(A)&&A.length>0,"Requires a non-empty array")}trigger(A,...p){if(Array.isArray(this.listeners_[A])){const b=[...this.listeners_[A]];for(let Q=0;Q<b.length;Q++)b[Q].callback.apply(b[Q].context,p)}}on(A,p,b){this.validateEventType_(A),this.listeners_[A]=this.listeners_[A]||[],this.listeners_[A].push({callback:p,context:b});const Q=this.getInitialEvent(A);Q&&p.apply(b,Q)}off(A,p,b){this.validateEventType_(A);const Q=this.listeners_[A]||[];for(let ee=0;ee<Q.length;ee++)if(Q[ee].callback===p&&(!b||b===Q[ee].context))return void Q.splice(ee,1)}validateEventType_(A){(0,Z.vA)(this.allowedEvents_.find(p=>p===A),"Unknown event: "+A)}}class ho extends Dr{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Z.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ho}getInitialEvent(A){return(0,Z.vA)("online"===A,"Unknown event type: "+A),[this.online_]}currentlyOnline(){return this.online_}}class ei{constructor(A,p){if(void 0===p){this.pieces_=A.split("/");let b=0;for(let Q=0;Q<this.pieces_.length;Q++)this.pieces_[Q].length>0&&(this.pieces_[b]=this.pieces_[Q],b++);this.pieces_.length=b,this.pieceNum_=0}else this.pieces_=A,this.pieceNum_=p}toString(){let A="";for(let p=this.pieceNum_;p<this.pieces_.length;p++)""!==this.pieces_[p]&&(A+="/"+this.pieces_[p]);return A||"/"}}function no(){return new ei("")}function hi(m){return m.pieceNum_>=m.pieces_.length?null:m.pieces_[m.pieceNum_]}function Fs(m){return m.pieces_.length-m.pieceNum_}function Ji(m){let A=m.pieceNum_;return A<m.pieces_.length&&A++,new ei(m.pieces_,A)}function Ps(m){return m.pieceNum_<m.pieces_.length?m.pieces_[m.pieces_.length-1]:null}function Aa(m,A=0){return m.pieces_.slice(m.pieceNum_+A)}function Ms(m){if(m.pieceNum_>=m.pieces_.length)return null;const A=[];for(let p=m.pieceNum_;p<m.pieces_.length-1;p++)A.push(m.pieces_[p]);return new ei(A,0)}function Ri(m,A){const p=[];for(let b=m.pieceNum_;b<m.pieces_.length;b++)p.push(m.pieces_[b]);if(A instanceof ei)for(let b=A.pieceNum_;b<A.pieces_.length;b++)p.push(A.pieces_[b]);else{const b=A.split("/");for(let Q=0;Q<b.length;Q++)b[Q].length>0&&p.push(b[Q])}return new ei(p,0)}function Qr(m){return m.pieceNum_>=m.pieces_.length}function ro(m,A){const p=hi(m),b=hi(A);if(null===p)return A;if(p===b)return ro(Ji(m),Ji(A));throw new Error("INTERNAL ERROR: innerPath ("+A+") is not within outerPath ("+m+")")}function To(m,A){const p=Aa(m,0),b=Aa(A,0);for(let Q=0;Q<p.length&&Q<b.length;Q++){const ee=Vn(p[Q],b[Q]);if(0!==ee)return ee}return p.length===b.length?0:p.length<b.length?-1:1}function Os(m,A){if(Fs(m)!==Fs(A))return!1;for(let p=m.pieceNum_,b=A.pieceNum_;p<=m.pieces_.length;p++,b++)if(m.pieces_[p]!==A.pieces_[b])return!1;return!0}function Hi(m,A){let p=m.pieceNum_,b=A.pieceNum_;if(Fs(m)>Fs(A))return!1;for(;p<m.pieces_.length;){if(m.pieces_[p]!==A.pieces_[b])return!1;++p,++b}return!0}class mi{constructor(A,p){this.errorPrefix_=p,this.parts_=Aa(A,0),this.byteLength_=Math.max(1,this.parts_.length);for(let b=0;b<this.parts_.length;b++)this.byteLength_+=(0,Z.OE)(this.parts_[b]);Io(this)}}function Io(m){if(m.byteLength_>768)throw new Error(m.errorPrefix_+"has a key path longer than 768 bytes ("+m.byteLength_+").");if(m.parts_.length>32)throw new Error(m.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+bl(m))}function bl(m){return 0===m.parts_.length?"":"in property '"+m.parts_.join(".")+"'"}class Oa extends Dr{constructor(){let A,p;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(p="visibilitychange",A="hidden"):typeof document.mozHidden<"u"?(p="mozvisibilitychange",A="mozHidden"):typeof document.msHidden<"u"?(p="msvisibilitychange",A="msHidden"):typeof document.webkitHidden<"u"&&(p="webkitvisibilitychange",A="webkitHidden")),this.visible_=!0,p&&document.addEventListener(p,()=>{const b=!document[A];b!==this.visible_&&(this.visible_=b,this.trigger("visible",b))},!1)}static getInstance(){return new Oa}getInitialEvent(A){return(0,Z.vA)("visible"===A,"Unknown event type: "+A),[this.visible_]}}const Bo=1e3;let ms,Ga=(()=>{class m extends Xr{constructor(p,b,Q,ee,le,me,We,it){if(super(),this.repoInfo_=p,this.applicationId_=b,this.onDataUpdate_=Q,this.onConnectStatus_=ee,this.onServerInfoUpdate_=le,this.authTokenProvider_=me,this.appCheckTokenProvider_=We,this.authOverride_=it,this.id=m.nextPersistentConnectionId_++,this.log_=wn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bo,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,it&&!(0,Z.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Oa.getInstance().on("visible",this.onVisible_,this),-1===p.host.indexOf("fblocal")&&ho.getInstance().on("online",this.onOnline_,this)}sendRequest(p,b,Q){const ee=++this.requestNumber_,le={r:ee,a:p,b};this.log_((0,Z.As)(le)),(0,Z.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(le),Q&&(this.requestCBHash_[ee]=Q)}get(p){this.initConnection_();const b=new Z.cY,ee={action:"g",request:{p:p._path.toString(),q:p._queryObject},onComplete:me=>{const We=me.d;"ok"===me.s?b.resolve(We):b.reject(We)}};return this.outstandingGets_.push(ee),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),b.promise}listen(p,b,Q,ee){this.initConnection_();const le=p._queryIdentifier,me=p._path.toString();this.log_("Listen called for "+me+" "+le),this.listens.has(me)||this.listens.set(me,new Map),(0,Z.vA)(p._queryParams.isDefault()||!p._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Z.vA)(!this.listens.get(me).has(le),"listen() called twice for same path/queryId.");const We={onComplete:ee,hashFn:b,query:p,tag:Q};this.listens.get(me).set(le,We),this.connected_&&this.sendListen_(We)}sendGet_(p){const b=this.outstandingGets_[p];this.sendRequest("g",b.request,Q=>{delete this.outstandingGets_[p],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),b.onComplete&&b.onComplete(Q)})}sendListen_(p){const b=p.query,Q=b._path.toString(),ee=b._queryIdentifier;this.log_("Listen on "+Q+" for "+ee);const le={p:Q};p.tag&&(le.q=b._queryObject,le.t=p.tag),le.h=p.hashFn(),this.sendRequest("q",le,We=>{const it=We.d,Me=We.s;m.warnOnListenWarnings_(it,b),(this.listens.get(Q)&&this.listens.get(Q).get(ee))===p&&(this.log_("listen response",We),"ok"!==Me&&this.removeListen_(Q,ee),p.onComplete&&p.onComplete(Me,it))})}static warnOnListenWarnings_(p,b){if(p&&"object"==typeof p&&(0,Z.gR)(p,"w")){const Q=(0,Z.yw)(p,"w");if(Array.isArray(Q)&&~Q.indexOf("no_index")){const ee='".indexOn": "'+b._queryParams.getIndex().toString()+'"',le=b._path.toString();Dn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${ee} at ${le} to your security rules for better performance.`)}}}refreshAuthToken(p){this.authToken_=p,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(p)}reduceReconnectDelayIfAdminCredential_(p){(p&&40===p.length||(0,Z.qc)(p))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(p){this.appCheckToken_=p,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const p=this.authToken_,b=(0,Z.Cv)(p)?"auth":"gauth",Q={cred:p};null===this.authOverride_?Q.noauth=!0:"object"==typeof this.authOverride_&&(Q.authvar=this.authOverride_),this.sendRequest(b,Q,ee=>{const le=ee.s,me=ee.d||"error";this.authToken_===p&&("ok"===le?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(le,me))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},p=>{const b=p.s,Q=p.d||"error";"ok"===b?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(b,Q)})}unlisten(p,b){const Q=p._path.toString(),ee=p._queryIdentifier;this.log_("Unlisten called for "+Q+" "+ee),(0,Z.vA)(p._queryParams.isDefault()||!p._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(Q,ee)&&this.connected_&&this.sendUnlisten_(Q,ee,p._queryObject,b)}sendUnlisten_(p,b,Q,ee){this.log_("Unlisten on "+p+" for "+b);const le={p};ee&&(le.q=Q,le.t=ee),this.sendRequest("n",le)}onDisconnectPut(p,b,Q){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",p,b,Q):this.onDisconnectRequestQueue_.push({pathString:p,action:"o",data:b,onComplete:Q})}onDisconnectMerge(p,b,Q){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",p,b,Q):this.onDisconnectRequestQueue_.push({pathString:p,action:"om",data:b,onComplete:Q})}onDisconnectCancel(p,b){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",p,null,b):this.onDisconnectRequestQueue_.push({pathString:p,action:"oc",data:null,onComplete:b})}sendOnDisconnect_(p,b,Q,ee){const le={p:b,d:Q};this.log_("onDisconnect "+p,le),this.sendRequest(p,le,me=>{ee&&setTimeout(()=>{ee(me.s,me.d)},Math.floor(0))})}put(p,b,Q,ee){this.putInternal("p",p,b,Q,ee)}merge(p,b,Q,ee){this.putInternal("m",p,b,Q,ee)}putInternal(p,b,Q,ee,le){this.initConnection_();const me={p:b,d:Q};void 0!==le&&(me.h=le),this.outstandingPuts_.push({action:p,request:me,onComplete:ee}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+b)}sendPut_(p){const b=this.outstandingPuts_[p].action,Q=this.outstandingPuts_[p].request,ee=this.outstandingPuts_[p].onComplete;this.outstandingPuts_[p].queued=this.connected_,this.sendRequest(b,Q,le=>{this.log_(b+" response",le),delete this.outstandingPuts_[p],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),ee&&ee(le.s,le.d)})}reportStats(p){if(this.connected_){const b={c:p};this.log_("reportStats",b),this.sendRequest("s",b,Q=>{"ok"!==Q.s&&this.log_("reportStats","Error sending stats: "+Q.d)})}}onDataMessage_(p){if("r"in p){this.log_("from server: "+(0,Z.As)(p));const b=p.r,Q=this.requestCBHash_[b];Q&&(delete this.requestCBHash_[b],Q(p.b))}else{if("error"in p)throw"A server-side error has occurred: "+p.error;"a"in p&&this.onDataPush_(p.a,p.b)}}onDataPush_(p,b){this.log_("handleServerMessage",p,b),"d"===p?this.onDataUpdate_(b.p,b.d,!1,b.t):"m"===p?this.onDataUpdate_(b.p,b.d,!0,b.t):"c"===p?this.onListenRevoked_(b.p,b.q):"ac"===p?this.onAuthRevoked_(b.s,b.d):"apc"===p?this.onAppCheckRevoked_(b.s,b.d):"sd"===p?this.onSecurityDebugPacket_(b):Yt("Unrecognized action received from server: "+(0,Z.As)(p)+"\nAre you using the latest client?")}onReady_(p,b){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(p),this.lastSessionId=b,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(p){(0,Z.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(p))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(p){p&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bo,this.realtime_||this.scheduleConnect_(0)),this.visible_=p}onOnline_(p){p?(this.log_("Browser went online."),this.reconnectDelay_=Bo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Bo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const p=(new Date).getTime()-this.lastConnectionAttemptTime_;let b=Math.max(0,this.reconnectDelay_-p);b=Math.random()*b,this.log_("Trying to reconnect in "+b+"ms"),this.scheduleConnect_(b),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var p=this;return(0,wt.A)(function*(){if(p.shouldReconnect_()){p.log_("Making a connection attempt"),p.lastConnectionAttemptTime_=(new Date).getTime(),p.lastConnectionEstablishedTime_=null;const b=p.onDataMessage_.bind(p),Q=p.onReady_.bind(p),ee=p.onRealtimeDisconnect_.bind(p),le=p.id+":"+m.nextConnectionId_++,me=p.lastSessionId;let We=!1,it=null;const Me=function(){it?it.close():(We=!0,ee())};p.realtime_={close:Me,sendRequest:function(It){(0,Z.vA)(it,"sendRequest call when we're not connected not allowed."),it.sendRequest(It)}};const dt=p.forceTokenRefresh_;p.forceTokenRefresh_=!1;try{const[It,F]=yield Promise.all([p.authTokenProvider_.getToken(dt),p.appCheckTokenProvider_.getToken(dt)]);We?Vt("getToken() completed but was canceled"):(Vt("getToken() completed. Creating connection."),p.authToken_=It&&It.accessToken,p.appCheckToken_=F&&F.token,it=new pr(le,p.repoInfo_,p.applicationId_,p.appCheckToken_,p.authToken_,b,Q,ee,v=>{Dn(v+" ("+p.repoInfo_.toString()+")"),p.interrupt("server_kill")},me))}catch(It){p.log_("Failed to get token: "+It),We||(p.repoInfo_.nodeAdmin&&Dn(It),Me())}}})()}interrupt(p){Vt("Interrupting connection for reason: "+p),this.interruptReasons_[p]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(p){Vt("Resuming connection for reason: "+p),delete this.interruptReasons_[p],(0,Z.Im)(this.interruptReasons_)&&(this.reconnectDelay_=Bo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(p){const b=p-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:b})}cancelSentTransactions_(){for(let p=0;p<this.outstandingPuts_.length;p++){const b=this.outstandingPuts_[p];b&&"h"in b.request&&b.queued&&(b.onComplete&&b.onComplete("disconnect"),delete this.outstandingPuts_[p],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(p,b){let Q;Q=b?b.map(le=>we(le)).join("$"):"default";const ee=this.removeListen_(p,Q);ee&&ee.onComplete&&ee.onComplete("permission_denied")}removeListen_(p,b){const Q=new ei(p).toString();let ee;if(this.listens.has(Q)){const le=this.listens.get(Q);ee=le.get(b),le.delete(b),0===le.size&&this.listens.delete(Q)}else ee=void 0;return ee}onAuthRevoked_(p,b){Vt("Auth token revoked: "+p+"/"+b),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===p||"permission_denied"===p)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(p,b){Vt("App check token revoked: "+p+"/"+b),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===p||"permission_denied"===p)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(p){this.securityDebugCallback_?this.securityDebugCallback_(p):"msg"in p&&console.log("FIREBASE: "+p.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const p of this.listens.values())for(const b of p.values())this.sendListen_(b);for(let p=0;p<this.outstandingPuts_.length;p++)this.outstandingPuts_[p]&&this.sendPut_(p);for(;this.onDisconnectRequestQueue_.length;){const p=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(p.action,p.pathString,p.data,p.onComplete)}for(let p=0;p<this.outstandingGets_.length;p++)this.outstandingGets_[p]&&this.sendGet_(p)}sendConnectStats_(){const p={};let b="js";(0,Z.$g)()&&(b=this.repoInfo_.nodeAdmin?"admin_node":"node"),p["sdk."+b+"."+Ut.replace(/\./g,"-")]=1,(0,Z.jZ)()?p["framework.cordova"]=1:(0,Z.lV)()&&(p["framework.reactnative"]=1),this.reportStats(p)}shouldReconnect_(){const p=ho.getInstance().currentlyOnline();return(0,Z.Im)(this.interruptReasons_)&&p}}return m.nextPersistentConnectionId_=0,m.nextConnectionId_=0,m})();class io{constructor(A,p){this.name=A,this.node=p}static Wrap(A,p){return new io(A,p)}}class ia{getCompare(){return this.compare.bind(this)}indexedValueChanged(A,p){const b=new io(xr,A),Q=new io(xr,p);return 0!==this.compare(b,Q)}minPost(){return io.MIN}}class qo extends ia{static get __EMPTY_NODE(){return ms}static set __EMPTY_NODE(A){ms=A}compare(A,p){return Vn(A.name,p.name)}isDefinedOn(A){throw(0,Z.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(A,p){return!1}minPost(){return io.MIN}maxPost(){return new io(Kt,ms)}makePost(A,p){return(0,Z.vA)("string"==typeof A,"KeyIndex indexValue must always be a string."),new io(A,ms)}toString(){return".key"}}const Gs=new qo;class kl{constructor(A,p,b,Q,ee=null){this.isReverse_=Q,this.resultGenerator_=ee,this.nodeStack_=[];let le=1;for(;!A.isEmpty();)if(le=p?b(A.key,p):1,Q&&(le*=-1),le<0)A=this.isReverse_?A.left:A.right;else{if(0===le){this.nodeStack_.push(A);break}this.nodeStack_.push(A),A=this.isReverse_?A.right:A.left}}getNext(){if(0===this.nodeStack_.length)return null;let p,A=this.nodeStack_.pop();if(p=this.resultGenerator_?this.resultGenerator_(A.key,A.value):{key:A.key,value:A.value},this.isReverse_)for(A=A.left;!A.isEmpty();)this.nodeStack_.push(A),A=A.right;else for(A=A.right;!A.isEmpty();)this.nodeStack_.push(A),A=A.left;return p}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const A=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(A.key,A.value):{key:A.key,value:A.value}}}let ka,as=(()=>{class m{constructor(p,b,Q,ee,le){this.key=p,this.value=b,this.color=null!=Q?Q:m.RED,this.left=null!=ee?ee:Jo.EMPTY_NODE,this.right=null!=le?le:Jo.EMPTY_NODE}copy(p,b,Q,ee,le){return new m(null!=p?p:this.key,null!=b?b:this.value,null!=Q?Q:this.color,null!=ee?ee:this.left,null!=le?le:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(p){return this.left.inorderTraversal(p)||!!p(this.key,this.value)||this.right.inorderTraversal(p)}reverseTraversal(p){return this.right.reverseTraversal(p)||p(this.key,this.value)||this.left.reverseTraversal(p)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(p,b,Q){let ee=this;const le=Q(p,ee.key);return ee=le<0?ee.copy(null,null,null,ee.left.insert(p,b,Q),null):0===le?ee.copy(null,b,null,null,null):ee.copy(null,null,null,null,ee.right.insert(p,b,Q)),ee.fixUp_()}removeMin_(){if(this.left.isEmpty())return Jo.EMPTY_NODE;let p=this;return!p.left.isRed_()&&!p.left.left.isRed_()&&(p=p.moveRedLeft_()),p=p.copy(null,null,null,p.left.removeMin_(),null),p.fixUp_()}remove(p,b){let Q,ee;if(Q=this,b(p,Q.key)<0)!Q.left.isEmpty()&&!Q.left.isRed_()&&!Q.left.left.isRed_()&&(Q=Q.moveRedLeft_()),Q=Q.copy(null,null,null,Q.left.remove(p,b),null);else{if(Q.left.isRed_()&&(Q=Q.rotateRight_()),!Q.right.isEmpty()&&!Q.right.isRed_()&&!Q.right.left.isRed_()&&(Q=Q.moveRedRight_()),0===b(p,Q.key)){if(Q.right.isEmpty())return Jo.EMPTY_NODE;ee=Q.right.min_(),Q=Q.copy(ee.key,ee.value,null,null,Q.right.removeMin_())}Q=Q.copy(null,null,null,null,Q.right.remove(p,b))}return Q.fixUp_()}isRed_(){return this.color}fixUp_(){let p=this;return p.right.isRed_()&&!p.left.isRed_()&&(p=p.rotateLeft_()),p.left.isRed_()&&p.left.left.isRed_()&&(p=p.rotateRight_()),p.left.isRed_()&&p.right.isRed_()&&(p=p.colorFlip_()),p}moveRedLeft_(){let p=this.colorFlip_();return p.right.left.isRed_()&&(p=p.copy(null,null,null,null,p.right.rotateRight_()),p=p.rotateLeft_(),p=p.colorFlip_()),p}moveRedRight_(){let p=this.colorFlip_();return p.left.left.isRed_()&&(p=p.rotateRight_(),p=p.colorFlip_()),p}rotateLeft_(){const p=this.copy(null,null,m.RED,null,this.right.left);return this.right.copy(null,null,this.color,p,null)}rotateRight_(){const p=this.copy(null,null,m.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,p)}colorFlip_(){const p=this.left.copy(null,null,!this.left.color,null,null),b=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,p,b)}checkMaxDepth_(){const p=this.check_();return Math.pow(2,p)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const p=this.left.check_();if(p!==this.right.check_())throw new Error("Black depths differ");return p+(this.isRed_()?0:1)}}return m.RED=!0,m.BLACK=!1,m})();class Jo{constructor(A,p=Jo.EMPTY_NODE){this.comparator_=A,this.root_=p}insert(A,p){return new Jo(this.comparator_,this.root_.insert(A,p,this.comparator_).copy(null,null,as.BLACK,null,null))}remove(A){return new Jo(this.comparator_,this.root_.remove(A,this.comparator_).copy(null,null,as.BLACK,null,null))}get(A){let p,b=this.root_;for(;!b.isEmpty();){if(p=this.comparator_(A,b.key),0===p)return b.value;p<0?b=b.left:p>0&&(b=b.right)}return null}getPredecessorKey(A){let p,b=this.root_,Q=null;for(;!b.isEmpty();){if(p=this.comparator_(A,b.key),0===p){if(b.left.isEmpty())return Q?Q.key:null;for(b=b.left;!b.right.isEmpty();)b=b.right;return b.key}p<0?b=b.left:p>0&&(Q=b,b=b.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(A){return this.root_.inorderTraversal(A)}reverseTraversal(A){return this.root_.reverseTraversal(A)}getIterator(A){return new kl(this.root_,null,this.comparator_,!1,A)}getIteratorFrom(A,p){return new kl(this.root_,A,this.comparator_,!1,p)}getReverseIteratorFrom(A,p){return new kl(this.root_,A,this.comparator_,!0,p)}getReverseIterator(A){return new kl(this.root_,null,this.comparator_,!0,A)}}function Tr(m,A){return Vn(m.name,A.name)}function ts(m,A){return Vn(m,A)}Jo.EMPTY_NODE=new class ao{copy(A,p,b,Q,ee){return this}insert(A,p,b){return new as(A,p,null)}remove(A,p){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(A){return!1}reverseTraversal(A){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Je=function(m){return"number"==typeof m?"number:"+Rt(m):"string:"+m},At=function(m){if(m.isLeafNode()){const A=m.val();(0,Z.vA)("string"==typeof A||"number"==typeof A||"object"==typeof A&&(0,Z.gR)(A,".sv"),"Priority must be a string or number.")}else(0,Z.vA)(m===ka||m.isEmpty(),"priority of unexpected type.");(0,Z.vA)(m===ka||m.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Tt,Zt,Xn,rn=(()=>{class m{constructor(p,b=m.__childrenNodeConstructor.EMPTY_NODE){this.value_=p,this.priorityNode_=b,this.lazyHash_=null,(0,Z.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),At(this.priorityNode_)}static set __childrenNodeConstructor(p){Tt=p}static get __childrenNodeConstructor(){return Tt}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(p){return new m(this.value_,p)}getImmediateChild(p){return".priority"===p?this.priorityNode_:m.__childrenNodeConstructor.EMPTY_NODE}getChild(p){return Qr(p)?this:".priority"===hi(p)?this.priorityNode_:m.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(p,b){return null}updateImmediateChild(p,b){return".priority"===p?this.updatePriority(b):b.isEmpty()&&".priority"!==p?this:m.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(p,b).updatePriority(this.priorityNode_)}updateChild(p,b){const Q=hi(p);return null===Q?b:b.isEmpty()&&".priority"!==Q?this:((0,Z.vA)(".priority"!==Q||1===Fs(p),".priority must be the last token in a path"),this.updateImmediateChild(Q,m.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ji(p),b)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(p,b){return!1}val(p){return p&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let p="";this.priorityNode_.isEmpty()||(p+="priority:"+Je(this.priorityNode_.val())+":");const b=typeof this.value_;p+=b+":",p+="number"===b?Rt(this.value_):this.value_,this.lazyHash_=tn(p)}return this.lazyHash_}getValue(){return this.value_}compareTo(p){return p===m.__childrenNodeConstructor.EMPTY_NODE?1:p instanceof m.__childrenNodeConstructor?-1:((0,Z.vA)(p.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(p))}compareToLeafNode_(p){const b=typeof p.value_,Q=typeof this.value_,ee=m.VALUE_TYPE_ORDER.indexOf(b),le=m.VALUE_TYPE_ORDER.indexOf(Q);return(0,Z.vA)(ee>=0,"Unknown leaf type: "+b),(0,Z.vA)(le>=0,"Unknown leaf type: "+Q),ee===le?"object"===Q?0:this.value_<p.value_?-1:this.value_===p.value_?0:1:le-ee}withIndex(){return this}isIndexed(){return!0}equals(p){return p===this||!!p.isLeafNode()&&(this.value_===p.value_&&this.priorityNode_.equals(p.priorityNode_))}}return m.VALUE_TYPE_ORDER=["object","boolean","number","string"],m})();const ir=new class er extends ia{compare(A,p){const b=A.node.getPriority(),Q=p.node.getPriority(),ee=b.compareTo(Q);return 0===ee?Vn(A.name,p.name):ee}isDefinedOn(A){return!A.getPriority().isEmpty()}indexedValueChanged(A,p){return!A.getPriority().equals(p.getPriority())}minPost(){return io.MIN}maxPost(){return new io(Kt,new rn("[PRIORITY-POST]",Xn))}makePost(A,p){const b=Zt(A);return new io(p,new rn("[PRIORITY-POST]",b))}toString(){return".priority"}},_r=Math.log(2);class pi{constructor(A){this.count=parseInt(Math.log(A+1)/_r,10),this.current_=this.count-1;const Q=(ee=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=A+1&Q}nextBitIsOne(){const A=!(this.bits_&1<<this.current_);return this.current_--,A}}const Or=function(m,A,p,b){m.sort(A);const Q=function(We,it){const Me=it-We;let Ue,dt;if(0===Me)return null;if(1===Me)return Ue=m[We],dt=p?p(Ue):Ue,new as(dt,Ue.node,as.BLACK,null,null);{const It=parseInt(Me/2,10)+We,F=Q(We,It),v=Q(It+1,it);return Ue=m[It],dt=p?p(Ue):Ue,new as(dt,Ue.node,as.BLACK,F,v)}},me=function(We){let it=null,Me=null,Ue=m.length;const dt=function(F,v){const C=Ue-F,M=Ue;Ue-=F;const ae=Q(C+1,M),Se=m[C],yt=p?p(Se):Se;It(new as(yt,Se.node,v,null,ae))},It=function(F){it?(it.left=F,it=F):(Me=F,it=F)};for(let F=0;F<We.count;++F){const v=We.nextBitIsOne(),C=Math.pow(2,We.count-(F+1));v?dt(C,as.BLACK):(dt(C,as.BLACK),dt(C,as.RED))}return Me}(new pi(m.length));return new Jo(b||A,me)};let qi;const Ko={};class Xi{constructor(A,p){this.indexes_=A,this.indexSet_=p}static get Default(){return(0,Z.vA)(Ko&&ir,"ChildrenNode.ts has not been loaded"),qi=qi||new Xi({".priority":Ko},{".priority":ir}),qi}get(A){const p=(0,Z.yw)(this.indexes_,A);if(!p)throw new Error("No index defined for "+A);return p instanceof Jo?p:null}hasIndex(A){return(0,Z.gR)(this.indexSet_,A.toString())}addIndex(A,p){(0,Z.vA)(A!==Gs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const b=[];let Q=!1;const ee=p.getIterator(io.Wrap);let me,le=ee.getNext();for(;le;)Q=Q||A.isDefinedOn(le.node),b.push(le),le=ee.getNext();me=Q?Or(b,A.getCompare()):Ko;const We=A.toString(),it=Object.assign({},this.indexSet_);it[We]=A;const Me=Object.assign({},this.indexes_);return Me[We]=me,new Xi(Me,it)}addToIndexes(A,p){const b=(0,Z.kH)(this.indexes_,(Q,ee)=>{const le=(0,Z.yw)(this.indexSet_,ee);if((0,Z.vA)(le,"Missing index implementation for "+ee),Q===Ko){if(le.isDefinedOn(A.node)){const me=[],We=p.getIterator(io.Wrap);let it=We.getNext();for(;it;)it.name!==A.name&&me.push(it),it=We.getNext();return me.push(A),Or(me,le.getCompare())}return Ko}{const me=p.get(A.name);let We=Q;return me&&(We=We.remove(new io(A.name,me))),We.insert(A,A.node)}});return new Xi(b,this.indexSet_)}removeFromIndexes(A,p){const b=(0,Z.kH)(this.indexes_,Q=>{if(Q===Ko)return Q;{const ee=p.get(A.name);return ee?Q.remove(new io(A.name,ee)):Q}});return new Xi(b,this.indexSet_)}}let Qo,br=(()=>{class m{constructor(p,b,Q){this.children_=p,this.priorityNode_=b,this.indexMap_=Q,this.lazyHash_=null,this.priorityNode_&&At(this.priorityNode_),this.children_.isEmpty()&&(0,Z.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qo||(Qo=new m(new Jo(ts),null,Xi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qo}updatePriority(p){return this.children_.isEmpty()?this:new m(this.children_,p,this.indexMap_)}getImmediateChild(p){if(".priority"===p)return this.getPriority();{const b=this.children_.get(p);return null===b?Qo:b}}getChild(p){const b=hi(p);return null===b?this:this.getImmediateChild(b).getChild(Ji(p))}hasChild(p){return null!==this.children_.get(p)}updateImmediateChild(p,b){if((0,Z.vA)(b,"We should always be passing snapshot nodes"),".priority"===p)return this.updatePriority(b);{const Q=new io(p,b);let ee,le;b.isEmpty()?(ee=this.children_.remove(p),le=this.indexMap_.removeFromIndexes(Q,this.children_)):(ee=this.children_.insert(p,b),le=this.indexMap_.addToIndexes(Q,this.children_));const me=ee.isEmpty()?Qo:this.priorityNode_;return new m(ee,me,le)}}updateChild(p,b){const Q=hi(p);if(null===Q)return b;{(0,Z.vA)(".priority"!==hi(p)||1===Fs(p),".priority must be the last token in a path");const ee=this.getImmediateChild(Q).updateChild(Ji(p),b);return this.updateImmediateChild(Q,ee)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(p){if(this.isEmpty())return null;const b={};let Q=0,ee=0,le=!0;if(this.forEachChild(ir,(me,We)=>{b[me]=We.val(p),Q++,le&&m.INTEGER_REGEXP_.test(me)?ee=Math.max(ee,Number(me)):le=!1}),!p&&le&&ee<2*Q){const me=[];for(const We in b)me[We]=b[We];return me}return p&&!this.getPriority().isEmpty()&&(b[".priority"]=this.getPriority().val()),b}hash(){if(null===this.lazyHash_){let p="";this.getPriority().isEmpty()||(p+="priority:"+Je(this.getPriority().val())+":"),this.forEachChild(ir,(b,Q)=>{const ee=Q.hash();""!==ee&&(p+=":"+b+":"+ee)}),this.lazyHash_=""===p?"":tn(p)}return this.lazyHash_}getPredecessorChildName(p,b,Q){const ee=this.resolveIndex_(Q);if(ee){const le=ee.getPredecessorKey(new io(p,b));return le?le.name:null}return this.children_.getPredecessorKey(p)}getFirstChildName(p){const b=this.resolveIndex_(p);if(b){const Q=b.minKey();return Q&&Q.name}return this.children_.minKey()}getFirstChild(p){const b=this.getFirstChildName(p);return b?new io(b,this.children_.get(b)):null}getLastChildName(p){const b=this.resolveIndex_(p);if(b){const Q=b.maxKey();return Q&&Q.name}return this.children_.maxKey()}getLastChild(p){const b=this.getLastChildName(p);return b?new io(b,this.children_.get(b)):null}forEachChild(p,b){const Q=this.resolveIndex_(p);return Q?Q.inorderTraversal(ee=>b(ee.name,ee.node)):this.children_.inorderTraversal(b)}getIterator(p){return this.getIteratorFrom(p.minPost(),p)}getIteratorFrom(p,b){const Q=this.resolveIndex_(b);if(Q)return Q.getIteratorFrom(p,ee=>ee);{const ee=this.children_.getIteratorFrom(p.name,io.Wrap);let le=ee.peek();for(;null!=le&&b.compare(le,p)<0;)ee.getNext(),le=ee.peek();return ee}}getReverseIterator(p){return this.getReverseIteratorFrom(p.maxPost(),p)}getReverseIteratorFrom(p,b){const Q=this.resolveIndex_(b);if(Q)return Q.getReverseIteratorFrom(p,ee=>ee);{const ee=this.children_.getReverseIteratorFrom(p.name,io.Wrap);let le=ee.peek();for(;null!=le&&b.compare(le,p)>0;)ee.getNext(),le=ee.peek();return ee}}compareTo(p){return this.isEmpty()?p.isEmpty()?0:-1:p.isLeafNode()||p.isEmpty()?1:p===Ys?-1:0}withIndex(p){if(p===Gs||this.indexMap_.hasIndex(p))return this;{const b=this.indexMap_.addIndex(p,this.children_);return new m(this.children_,this.priorityNode_,b)}}isIndexed(p){return p===Gs||this.indexMap_.hasIndex(p)}equals(p){if(p===this)return!0;if(p.isLeafNode())return!1;{const b=p;if(this.getPriority().equals(b.getPriority())){if(this.children_.count()===b.children_.count()){const Q=this.getIterator(ir),ee=b.getIterator(ir);let le=Q.getNext(),me=ee.getNext();for(;le&&me;){if(le.name!==me.name||!le.node.equals(me.node))return!1;le=Q.getNext(),me=ee.getNext()}return null===le&&null===me}return!1}return!1}}resolveIndex_(p){return p===Gs?null:this.indexMap_.get(p.toString())}}return m.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,m})();const Ys=new class Gi extends br{constructor(){super(new Jo(ts),br.EMPTY_NODE,Xi.Default)}compareTo(A){return A===this?0:1}equals(A){return A===this}getPriority(){return this}getImmediateChild(A){return br.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(io,{MIN:{value:new io(xr,br.EMPTY_NODE)},MAX:{value:new io(Kt,Ys)}}),qo.__EMPTY_NODE=br.EMPTY_NODE,rn.__childrenNodeConstructor=br,function Te(m){ka=m}(Ys),function or(m){Xn=m}(Ys);const Ne=!0;function be(m,A=null){if(null===m)return br.EMPTY_NODE;if("object"==typeof m&&".priority"in m&&(A=m[".priority"]),(0,Z.vA)(null===A||"string"==typeof A||"number"==typeof A||"object"==typeof A&&".sv"in A,"Invalid priority type found: "+typeof A),"object"==typeof m&&".value"in m&&null!==m[".value"]&&(m=m[".value"]),"object"!=typeof m||".sv"in m)return new rn(m,be(A));if(m instanceof Array||!Ne){let p=br.EMPTY_NODE;return Le(m,(b,Q)=>{if((0,Z.gR)(m,b)&&"."!==b.substring(0,1)){const ee=be(Q);(ee.isLeafNode()||!ee.isEmpty())&&(p=p.updateImmediateChild(b,ee))}}),p.updatePriority(be(A))}{const p=[];let b=!1;if(Le(m,(le,me)=>{if("."!==le.substring(0,1)){const We=be(me);We.isEmpty()||(b=b||!We.getPriority().isEmpty(),p.push(new io(le,We)))}}),0===p.length)return br.EMPTY_NODE;const ee=Or(p,Tr,le=>le.name,ts);if(b){const le=Or(p,ir.getCompare());return new br(ee,be(A),new Xi({".priority":le},{".priority":ir}))}return new br(ee,be(A),Xi.Default)}}!function $n(m){Zt=m}(be);class _t extends ia{constructor(A){super(),this.indexPath_=A,(0,Z.vA)(!Qr(A)&&".priority"!==hi(A),"Can't create PathIndex with empty path or .priority key")}extractChild(A){return A.getChild(this.indexPath_)}isDefinedOn(A){return!A.getChild(this.indexPath_).isEmpty()}compare(A,p){const b=this.extractChild(A.node),Q=this.extractChild(p.node),ee=b.compareTo(Q);return 0===ee?Vn(A.name,p.name):ee}makePost(A,p){const b=be(A),Q=br.EMPTY_NODE.updateChild(this.indexPath_,b);return new io(p,Q)}maxPost(){const A=br.EMPTY_NODE.updateChild(this.indexPath_,Ys);return new io(Kt,A)}toString(){return Aa(this.indexPath_,0).join("/")}}const an=new class Qt extends ia{compare(A,p){const b=A.node.compareTo(p.node);return 0===b?Vn(A.name,p.name):b}isDefinedOn(A){return!0}indexedValueChanged(A,p){return!A.equals(p)}minPost(){return io.MIN}maxPost(){return io.MAX}makePost(A,p){const b=be(A);return new io(p,b)}toString(){return".value"}};function Wn(m){return{type:"value",snapshotNode:m}}function wr(m,A){return{type:"child_added",snapshotNode:A,childName:m}}function _i(m,A){return{type:"child_removed",snapshotNode:A,childName:m}}function Yr(m,A,p){return{type:"child_changed",snapshotNode:A,childName:m,oldSnap:p}}class ii{constructor(A){this.index_=A}updateChild(A,p,b,Q,ee,le){(0,Z.vA)(A.isIndexed(this.index_),"A node must be indexed if only a child is updated");const me=A.getImmediateChild(p);return me.getChild(Q).equals(b.getChild(Q))&&me.isEmpty()===b.isEmpty()||(null!=le&&(b.isEmpty()?A.hasChild(p)?le.trackChildChange(_i(p,me)):(0,Z.vA)(A.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):me.isEmpty()?le.trackChildChange(wr(p,b)):le.trackChildChange(Yr(p,b,me))),A.isLeafNode()&&b.isEmpty())?A:A.updateImmediateChild(p,b).withIndex(this.index_)}updateFullNode(A,p,b){return null!=b&&(A.isLeafNode()||A.forEachChild(ir,(Q,ee)=>{p.hasChild(Q)||b.trackChildChange(_i(Q,ee))}),p.isLeafNode()||p.forEachChild(ir,(Q,ee)=>{if(A.hasChild(Q)){const le=A.getImmediateChild(Q);le.equals(ee)||b.trackChildChange(Yr(Q,ee,le))}else b.trackChildChange(wr(Q,ee))})),p.withIndex(this.index_)}updatePriority(A,p){return A.isEmpty()?br.EMPTY_NODE:A.updatePriority(p)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ns{constructor(A){this.indexedFilter_=new ii(A.getIndex()),this.index_=A.getIndex(),this.startPost_=ns.getStartPost_(A),this.endPost_=ns.getEndPost_(A),this.startIsInclusive_=!A.startAfterSet_,this.endIsInclusive_=!A.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(A){const p=this.startIsInclusive_?this.index_.compare(this.getStartPost(),A)<=0:this.index_.compare(this.getStartPost(),A)<0,b=this.endIsInclusive_?this.index_.compare(A,this.getEndPost())<=0:this.index_.compare(A,this.getEndPost())<0;return p&&b}updateChild(A,p,b,Q,ee,le){return this.matches(new io(p,b))||(b=br.EMPTY_NODE),this.indexedFilter_.updateChild(A,p,b,Q,ee,le)}updateFullNode(A,p,b){p.isLeafNode()&&(p=br.EMPTY_NODE);let Q=p.withIndex(this.index_);Q=Q.updatePriority(br.EMPTY_NODE);const ee=this;return p.forEachChild(ir,(le,me)=>{ee.matches(new io(le,me))||(Q=Q.updateImmediateChild(le,br.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(A,Q,b)}updatePriority(A,p){return A}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(A){if(A.hasStart()){const p=A.getIndexStartName();return A.getIndex().makePost(A.getIndexStartValue(),p)}return A.getIndex().minPost()}static getEndPost_(A){if(A.hasEnd()){const p=A.getIndexEndName();return A.getIndex().makePost(A.getIndexEndValue(),p)}return A.getIndex().maxPost()}}class Js{constructor(A){this.withinDirectionalStart=p=>this.reverse_?this.withinEndPost(p):this.withinStartPost(p),this.withinDirectionalEnd=p=>this.reverse_?this.withinStartPost(p):this.withinEndPost(p),this.withinStartPost=p=>{const b=this.index_.compare(this.rangedFilter_.getStartPost(),p);return this.startIsInclusive_?b<=0:b<0},this.withinEndPost=p=>{const b=this.index_.compare(p,this.rangedFilter_.getEndPost());return this.endIsInclusive_?b<=0:b<0},this.rangedFilter_=new ns(A),this.index_=A.getIndex(),this.limit_=A.getLimit(),this.reverse_=!A.isViewFromLeft(),this.startIsInclusive_=!A.startAfterSet_,this.endIsInclusive_=!A.endBeforeSet_}updateChild(A,p,b,Q,ee,le){return this.rangedFilter_.matches(new io(p,b))||(b=br.EMPTY_NODE),A.getImmediateChild(p).equals(b)?A:A.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(A,p,b,Q,ee,le):this.fullLimitUpdateChild_(A,p,b,ee,le)}updateFullNode(A,p,b){let Q;if(p.isLeafNode()||p.isEmpty())Q=br.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<p.numChildren()&&p.isIndexed(this.index_)){let ee;Q=br.EMPTY_NODE.withIndex(this.index_),ee=this.reverse_?p.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):p.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let le=0;for(;ee.hasNext()&&le<this.limit_;){const me=ee.getNext();if(this.withinDirectionalStart(me)){if(!this.withinDirectionalEnd(me))break;Q=Q.updateImmediateChild(me.name,me.node),le++}}}else{let ee;Q=p.withIndex(this.index_),Q=Q.updatePriority(br.EMPTY_NODE),ee=this.reverse_?Q.getReverseIterator(this.index_):Q.getIterator(this.index_);let le=0;for(;ee.hasNext();){const me=ee.getNext();le<this.limit_&&this.withinDirectionalStart(me)&&this.withinDirectionalEnd(me)?le++:Q=Q.updateImmediateChild(me.name,br.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(A,Q,b)}updatePriority(A,p){return A}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(A,p,b,Q,ee){let le;if(this.reverse_){const Ue=this.index_.getCompare();le=(dt,It)=>Ue(It,dt)}else le=this.index_.getCompare();const me=A;(0,Z.vA)(me.numChildren()===this.limit_,"");const We=new io(p,b),it=this.reverse_?me.getFirstChild(this.index_):me.getLastChild(this.index_),Me=this.rangedFilter_.matches(We);if(me.hasChild(p)){const Ue=me.getImmediateChild(p);let dt=Q.getChildAfterChild(this.index_,it,this.reverse_);for(;null!=dt&&(dt.name===p||me.hasChild(dt.name));)dt=Q.getChildAfterChild(this.index_,dt,this.reverse_);const It=null==dt?1:le(dt,We);if(Me&&!b.isEmpty()&&It>=0)return null!=ee&&ee.trackChildChange(Yr(p,b,Ue)),me.updateImmediateChild(p,b);{null!=ee&&ee.trackChildChange(_i(p,Ue));const v=me.updateImmediateChild(p,br.EMPTY_NODE);return null!=dt&&this.rangedFilter_.matches(dt)?(null!=ee&&ee.trackChildChange(wr(dt.name,dt.node)),v.updateImmediateChild(dt.name,dt.node)):v}}return b.isEmpty()?A:Me&&le(it,We)>=0?(null!=ee&&(ee.trackChildChange(_i(it.name,it.node)),ee.trackChildChange(wr(p,b))),me.updateImmediateChild(p,b).updateImmediateChild(it.name,br.EMPTY_NODE)):A}}class Zs{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ir}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Z.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Z.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Z.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Z.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Kt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Z.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ir}copy(){const A=new Zs;return A.limitSet_=this.limitSet_,A.limit_=this.limit_,A.startSet_=this.startSet_,A.startAfterSet_=this.startAfterSet_,A.indexStartValue_=this.indexStartValue_,A.startNameSet_=this.startNameSet_,A.indexStartName_=this.indexStartName_,A.endSet_=this.endSet_,A.endBeforeSet_=this.endBeforeSet_,A.indexEndValue_=this.indexEndValue_,A.endNameSet_=this.endNameSet_,A.indexEndName_=this.indexEndName_,A.index_=this.index_,A.viewFrom_=this.viewFrom_,A}}function Zo(m,A,p){const b=m.copy();return b.startSet_=!0,void 0===A&&(A=null),b.indexStartValue_=A,null!=p?(b.startNameSet_=!0,b.indexStartName_=p):(b.startNameSet_=!1,b.indexStartName_=""),b}function Ls(m,A,p){const b=m.copy();return b.endSet_=!0,void 0===A&&(A=null),b.indexEndValue_=A,void 0!==p?(b.endNameSet_=!0,b.indexEndName_=p):(b.endNameSet_=!1,b.indexEndName_=""),b}function fo(m,A){const p=m.copy();return p.index_=A,p}function Zi(m){const A={};if(m.isDefault())return A;let p;if(m.index_===ir?p="$priority":m.index_===an?p="$value":m.index_===Gs?p="$key":((0,Z.vA)(m.index_ instanceof _t,"Unrecognized index type!"),p=m.index_.toString()),A.orderBy=(0,Z.As)(p),m.startSet_){const b=m.startAfterSet_?"startAfter":"startAt";A[b]=(0,Z.As)(m.indexStartValue_),m.startNameSet_&&(A[b]+=","+(0,Z.As)(m.indexStartName_))}if(m.endSet_){const b=m.endBeforeSet_?"endBefore":"endAt";A[b]=(0,Z.As)(m.indexEndValue_),m.endNameSet_&&(A[b]+=","+(0,Z.As)(m.indexEndName_))}return m.limitSet_&&(m.isViewFromLeft()?A.limitToFirst=m.limit_:A.limitToLast=m.limit_),A}function Pa(m){const A={};if(m.startSet_&&(A.sp=m.indexStartValue_,m.startNameSet_&&(A.sn=m.indexStartName_),A.sin=!m.startAfterSet_),m.endSet_&&(A.ep=m.indexEndValue_,m.endNameSet_&&(A.en=m.indexEndName_),A.ein=!m.endBeforeSet_),m.limitSet_){A.l=m.limit_;let p=m.viewFrom_;""===p&&(p=m.isViewFromLeft()?"l":"r"),A.vf=p}return m.index_!==ir&&(A.i=m.index_.toString()),A}class _s extends Xr{constructor(A,p,b,Q){super(),this.repoInfo_=A,this.onDataUpdate_=p,this.authTokenProvider_=b,this.appCheckTokenProvider_=Q,this.log_=wn("p:rest:"),this.listens_={}}reportStats(A){throw new Error("Method not implemented.")}static getListenId_(A,p){return void 0!==p?"tag$"+p:((0,Z.vA)(A._queryParams.isDefault(),"should have a tag if it's not a default query."),A._path.toString())}listen(A,p,b,Q){const ee=A._path.toString();this.log_("Listen called for "+ee+" "+A._queryIdentifier);const le=_s.getListenId_(A,b),me={};this.listens_[le]=me;const We=Zi(A._queryParams);this.restRequest_(ee+".json",We,(it,Me)=>{let Ue=Me;if(404===it&&(Ue=null,it=null),null===it&&this.onDataUpdate_(ee,Ue,!1,b),(0,Z.yw)(this.listens_,le)===me){let dt;dt=it?401===it?"permission_denied":"rest_error:"+it:"ok",Q(dt,null)}})}unlisten(A,p){const b=_s.getListenId_(A,p);delete this.listens_[b]}get(A){const p=Zi(A._queryParams),b=A._path.toString(),Q=new Z.cY;return this.restRequest_(b+".json",p,(ee,le)=>{let me=le;404===ee&&(me=null,ee=null),null===ee?(this.onDataUpdate_(b,me,!1,null),Q.resolve(me)):Q.reject(new Error(me))}),Q.promise}refreshAuthToken(A){}restRequest_(A,p={},b){return p.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([Q,ee])=>{Q&&Q.accessToken&&(p.auth=Q.accessToken),ee&&ee.token&&(p.ac=ee.token);const le=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+A+"?ns="+this.repoInfo_.namespace+(0,Z.Am)(p);this.log_("Sending REST request for "+le);const me=new XMLHttpRequest;me.onreadystatechange=()=>{if(b&&4===me.readyState){this.log_("REST Response for "+le+" received. status:",me.status,"response:",me.responseText);let We=null;if(me.status>=200&&me.status<300){try{We=(0,Z.$L)(me.responseText)}catch{Dn("Failed to parse JSON response for "+le+": "+me.responseText)}b(null,We)}else 401!==me.status&&404!==me.status&&Dn("Got unsuccessful REST response for "+le+" Status: "+me.status),b(me.status);b=null}},me.open("GET",le,!0),me.send()})}}class Na{constructor(){this.rootNode_=br.EMPTY_NODE}getNode(A){return this.rootNode_.getChild(A)}updateSnapshot(A,p){this.rootNode_=this.rootNode_.updateChild(A,p)}}function ul(){return{value:null,children:new Map}}function Ie(m,A,p){if(Qr(A))m.value=p,m.children.clear();else if(null!==m.value)m.value=m.value.updateChild(A,p);else{const b=hi(A);m.children.has(b)||m.children.set(b,ul()),Ie(m.children.get(b),A=Ji(A),p)}}function Ae(m,A){if(Qr(A))return m.value=null,m.children.clear(),!0;if(null!==m.value){if(m.value.isLeafNode())return!1;{const p=m.value;return m.value=null,p.forEachChild(ir,(b,Q)=>{Ie(m,new ei(b),Q)}),Ae(m,A)}}if(m.children.size>0){const p=hi(A);return A=Ji(A),m.children.has(p)&&Ae(m.children.get(p),A)&&m.children.delete(p),0===m.children.size}return!0}function qe(m,A,p){null!==m.value?p(A,m.value):function Ee(m,A){m.children.forEach((p,b)=>{A(b,p)})}(m,(b,Q)=>{qe(Q,new ei(A.toString()+"/"+b),p)})}class pt{constructor(A){this.collection_=A,this.last_=null}get(){const A=this.collection_.get(),p=Object.assign({},A);return this.last_&&Le(this.last_,(b,Q)=>{p[b]=p[b]-Q}),this.last_=A,p}}class La{constructor(A,p){this.server_=p,this.statsToReport_={},this.statsListener_=new pt(A);const b=1e4+2e4*Math.random();Yi(this.reportStats_.bind(this),Math.floor(b))}reportStats_(){const A=this.statsListener_.get(),p={};let b=!1;Le(A,(Q,ee)=>{ee>0&&(0,Z.gR)(this.statsToReport_,Q)&&(p[Q]=ee,b=!0)}),b&&this.server_.reportStats(p),Yi(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var lo=function(m){return m[m.OVERWRITE=0]="OVERWRITE",m[m.MERGE=1]="MERGE",m[m.ACK_USER_WRITE=2]="ACK_USER_WRITE",m[m.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",m}(lo||{});function Ql(m){return{fromUser:!1,fromServer:!0,queryId:m,tagged:!0}}class iu{constructor(A,p,b){this.path=A,this.affectedTree=p,this.revert=b,this.type=lo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(A){if(Qr(this.path)){if(null!=this.affectedTree.value)return(0,Z.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const p=this.affectedTree.subtree(new ei(A));return new iu(no(),p,this.revert)}}return(0,Z.vA)(hi(this.path)===A,"operationForChild called for unrelated child."),new iu(Ji(this.path),this.affectedTree,this.revert)}}class Al{constructor(A,p){this.source=A,this.path=p,this.type=lo.LISTEN_COMPLETE}operationForChild(A){return Qr(this.path)?new Al(this.source,no()):new Al(this.source,Ji(this.path))}}class mc{constructor(A,p,b){this.source=A,this.path=p,this.snap=b,this.type=lo.OVERWRITE}operationForChild(A){return Qr(this.path)?new mc(this.source,no(),this.snap.getImmediateChild(A)):new mc(this.source,Ji(this.path),this.snap)}}class _a{constructor(A,p,b){this.source=A,this.path=p,this.children=b,this.type=lo.MERGE}operationForChild(A){if(Qr(this.path)){const p=this.children.subtree(new ei(A));return p.isEmpty()?null:p.value?new mc(this.source,no(),p.value):new _a(this.source,no(),p)}return(0,Z.vA)(hi(this.path)===A,"Can't get a merge for a child not on the path of the operation"),new _a(this.source,Ji(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ua{constructor(A,p,b){this.node_=A,this.fullyInitialized_=p,this.filtered_=b}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(A){if(Qr(A))return this.isFullyInitialized()&&!this.filtered_;const p=hi(A);return this.isCompleteForChild(p)}isCompleteForChild(A){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(A)}getNode(){return this.node_}}class Nl{constructor(A){this.query_=A,this.index_=this.query_._queryParams.getIndex()}}function fi(m,A,p,b,Q,ee){const le=b.filter(me=>me.type===p);le.sort((me,We)=>function $i(m,A,p){if(null==A.childName||null==p.childName)throw(0,Z.Hk)("Should only compare child_ events.");const b=new io(A.childName,A.snapshotNode),Q=new io(p.childName,p.snapshotNode);return m.index_.compare(b,Q)}(m,me,We)),le.forEach(me=>{const We=function Is(m,A,p){return"value"===A.type||"child_removed"===A.type||(A.prevName=p.getPredecessorChildName(A.childName,A.snapshotNode,m.index_)),A}(m,me,ee);Q.forEach(it=>{it.respondsTo(me.type)&&A.push(it.createEvent(We,m.query_))})})}function Wa(m,A){return{eventCache:m,serverCache:A}}function ea(m,A,p,b){return Wa(new Ua(A,p,b),m.serverCache)}function ci(m,A,p,b){return Wa(m.eventCache,new Ua(A,p,b))}function Rs(m){return m.eventCache.isFullyInitialized()?m.eventCache.getNode():null}function ya(m){return m.serverCache.isFullyInitialized()?m.serverCache.getNode():null}let il;class rs{constructor(A,p=(()=>(il||(il=new Jo(kn)),il))()){this.value=A,this.children=p}static fromObject(A){let p=new rs(null);return Le(A,(b,Q)=>{p=p.set(new ei(b),Q)}),p}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(A,p){if(null!=this.value&&p(this.value))return{path:no(),value:this.value};if(Qr(A))return null;{const b=hi(A),Q=this.children.get(b);if(null!==Q){const ee=Q.findRootMostMatchingPathAndValue(Ji(A),p);return null!=ee?{path:Ri(new ei(b),ee.path),value:ee.value}:null}return null}}findRootMostValueAndPath(A){return this.findRootMostMatchingPathAndValue(A,()=>!0)}subtree(A){if(Qr(A))return this;{const p=hi(A),b=this.children.get(p);return null!==b?b.subtree(Ji(A)):new rs(null)}}set(A,p){if(Qr(A))return new rs(p,this.children);{const b=hi(A),ee=(this.children.get(b)||new rs(null)).set(Ji(A),p),le=this.children.insert(b,ee);return new rs(this.value,le)}}remove(A){if(Qr(A))return this.children.isEmpty()?new rs(null):new rs(null,this.children);{const p=hi(A),b=this.children.get(p);if(b){const Q=b.remove(Ji(A));let ee;return ee=Q.isEmpty()?this.children.remove(p):this.children.insert(p,Q),null===this.value&&ee.isEmpty()?new rs(null):new rs(this.value,ee)}return this}}get(A){if(Qr(A))return this.value;{const p=hi(A),b=this.children.get(p);return b?b.get(Ji(A)):null}}setTree(A,p){if(Qr(A))return p;{const b=hi(A),ee=(this.children.get(b)||new rs(null)).setTree(Ji(A),p);let le;return le=ee.isEmpty()?this.children.remove(b):this.children.insert(b,ee),new rs(this.value,le)}}fold(A){return this.fold_(no(),A)}fold_(A,p){const b={};return this.children.inorderTraversal((Q,ee)=>{b[Q]=ee.fold_(Ri(A,Q),p)}),p(A,this.value,b)}findOnPath(A,p){return this.findOnPath_(A,no(),p)}findOnPath_(A,p,b){const Q=!!this.value&&b(p,this.value);if(Q)return Q;if(Qr(A))return null;{const ee=hi(A),le=this.children.get(ee);return le?le.findOnPath_(Ji(A),Ri(p,ee),b):null}}foreachOnPath(A,p){return this.foreachOnPath_(A,no(),p)}foreachOnPath_(A,p,b){if(Qr(A))return this;{this.value&&b(p,this.value);const Q=hi(A),ee=this.children.get(Q);return ee?ee.foreachOnPath_(Ji(A),Ri(p,Q),b):new rs(null)}}foreach(A){this.foreach_(no(),A)}foreach_(A,p){this.children.inorderTraversal((b,Q)=>{Q.foreach_(Ri(A,b),p)}),this.value&&p(A,this.value)}foreachChild(A){this.children.inorderTraversal((p,b)=>{b.value&&A(p,b.value)})}}class sa{constructor(A){this.writeTree_=A}static empty(){return new sa(new rs(null))}}function Gl(m,A,p){if(Qr(A))return new sa(new rs(p));{const b=m.writeTree_.findRootMostValueAndPath(A);if(null!=b){const Q=b.path;let ee=b.value;const le=ro(Q,A);return ee=ee.updateChild(le,p),new sa(m.writeTree_.set(Q,ee))}{const Q=new rs(p),ee=m.writeTree_.setTree(A,Q);return new sa(ee)}}}function vc(m,A,p){let b=m;return Le(p,(Q,ee)=>{b=Gl(b,Ri(A,Q),ee)}),b}function lc(m,A){if(Qr(A))return sa.empty();{const p=m.writeTree_.setTree(A,new rs(null));return new sa(p)}}function qa(m,A){return null!=ol(m,A)}function ol(m,A){const p=m.writeTree_.findRootMostValueAndPath(A);return null!=p?m.writeTree_.get(p.path).getChild(ro(p.path,A)):null}function Gu(m){const A=[],p=m.writeTree_.value;return null!=p?p.isLeafNode()||p.forEachChild(ir,(b,Q)=>{A.push(new io(b,Q))}):m.writeTree_.children.inorderTraversal((b,Q)=>{null!=Q.value&&A.push(new io(b,Q.value))}),A}function Ma(m,A){if(Qr(A))return m;{const p=ol(m,A);return new sa(null!=p?new rs(p):m.writeTree_.subtree(A))}}function bs(m){return m.writeTree_.isEmpty()}function Ba(m,A){return wa(no(),m.writeTree_,A)}function wa(m,A,p){if(null!=A.value)return p.updateChild(m,A.value);{let b=null;return A.children.inorderTraversal((Q,ee)=>{".priority"===Q?((0,Z.vA)(null!==ee.value,"Priority writes must always be leaf nodes"),b=ee.value):p=wa(Ri(m,Q),ee,p)}),!p.getChild(m).isEmpty()&&null!==b&&(p=p.updateChild(Ri(m,".priority"),b)),p}}function Sl(m,A){return se(A,m)}function Fc(m,A){if(m.snap)return Hi(m.path,A);for(const p in m.children)if(m.children.hasOwnProperty(p)&&Hi(Ri(m.path,p),A))return!0;return!1}function sl(m){return m.visible}function _c(m,A,p){let b=sa.empty();for(let Q=0;Q<m.length;++Q){const ee=m[Q];if(A(ee)){const le=ee.path;let me;if(ee.snap)Hi(p,le)?(me=ro(p,le),b=Gl(b,me,ee.snap)):Hi(le,p)&&(me=ro(le,p),b=Gl(b,no(),ee.snap.getChild(me)));else{if(!ee.children)throw(0,Z.Hk)("WriteRecord should have .snap or .children");if(Hi(p,le))me=ro(p,le),b=vc(b,me,ee.children);else if(Hi(le,p))if(me=ro(le,p),Qr(me))b=vc(b,no(),ee.children);else{const We=(0,Z.yw)(ee.children,hi(me));if(We){const it=We.getChild(Ji(me));b=Gl(b,no(),it)}}}}}return b}function yc(m,A,p,b,Q){if(b||Q){const ee=Ma(m.visibleWrites,A);return!Q&&bs(ee)?p:Q||null!=p||qa(ee,no())?Ba(_c(m.allWrites,function(it){return(it.visible||Q)&&(!b||!~b.indexOf(it.writeId))&&(Hi(it.path,A)||Hi(A,it.path))},A),p||br.EMPTY_NODE):null}{const ee=ol(m.visibleWrites,A);if(null!=ee)return ee;{const le=Ma(m.visibleWrites,A);return bs(le)?p:null!=p||qa(le,no())?Ba(le,p||br.EMPTY_NODE):null}}}function J(m,A,p,b){return yc(m.writeTree,m.treePath,A,p,b)}function _e(m,A){return function Dc(m,A,p){let b=br.EMPTY_NODE;const Q=ol(m.visibleWrites,A);if(Q)return Q.isLeafNode()||Q.forEachChild(ir,(ee,le)=>{b=b.updateImmediateChild(ee,le)}),b;if(p){const ee=Ma(m.visibleWrites,A);return p.forEachChild(ir,(le,me)=>{const We=Ba(Ma(ee,new ei(le)),me);b=b.updateImmediateChild(le,We)}),Gu(ee).forEach(le=>{b=b.updateImmediateChild(le.name,le.node)}),b}return Gu(Ma(m.visibleWrites,A)).forEach(le=>{b=b.updateImmediateChild(le.name,le.node)}),b}(m.writeTree,m.treePath,A)}function V(m,A,p,b){return function zc(m,A,p,b,Q){(0,Z.vA)(b||Q,"Either existingEventSnap or existingServerSnap must exist");const ee=Ri(A,p);if(qa(m.visibleWrites,ee))return null;{const le=Ma(m.visibleWrites,ee);return bs(le)?Q.getChild(p):Ba(le,Q.getChild(p))}}(m.writeTree,m.treePath,A,p,b)}function ge(m,A){return function Ml(m,A){return ol(m.visibleWrites,A)}(m.writeTree,Ri(m.treePath,A))}function ne(m,A,p){return function Va(m,A,p,b){const Q=Ri(A,p),ee=ol(m.visibleWrites,Q);return null!=ee?ee:b.isCompleteForChild(p)?Ba(Ma(m.visibleWrites,Q),b.getNode().getImmediateChild(p)):null}(m.writeTree,m.treePath,A,p)}function je(m,A){return se(Ri(m.treePath,A),m.writeTree)}function se(m,A){return{treePath:m,writeTree:A}}class Ve{constructor(){this.changeMap=new Map}trackChildChange(A){const p=A.type,b=A.childName;(0,Z.vA)("child_added"===p||"child_changed"===p||"child_removed"===p,"Only child changes supported for tracking"),(0,Z.vA)(".priority"!==b,"Only non-priority child changes can be tracked.");const Q=this.changeMap.get(b);if(Q){const ee=Q.type;if("child_added"===p&&"child_removed"===ee)this.changeMap.set(b,Yr(b,A.snapshotNode,Q.snapshotNode));else if("child_removed"===p&&"child_added"===ee)this.changeMap.delete(b);else if("child_removed"===p&&"child_changed"===ee)this.changeMap.set(b,_i(b,Q.oldSnap));else if("child_changed"===p&&"child_added"===ee)this.changeMap.set(b,wr(b,A.snapshotNode));else{if("child_changed"!==p||"child_changed"!==ee)throw(0,Z.Hk)("Illegal combination of changes: "+A+" occurred after "+Q);this.changeMap.set(b,Yr(b,A.snapshotNode,Q.oldSnap))}}else this.changeMap.set(b,A)}getChanges(){return Array.from(this.changeMap.values())}}const jn=new class ut{getCompleteChild(A){return null}getChildAfterChild(A,p,b){return null}};class mr{constructor(A,p,b=null){this.writes_=A,this.viewCache_=p,this.optCompleteServerCache_=b}getCompleteChild(A){const p=this.viewCache_.eventCache;if(p.isCompleteForChild(A))return p.getNode().getImmediateChild(A);{const b=null!=this.optCompleteServerCache_?new Ua(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ne(this.writes_,A,b)}}getChildAfterChild(A,p,b){const Q=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ya(this.viewCache_),ee=function x(m,A,p,b,Q,ee){return function au(m,A,p,b,Q,ee,le){let me;const We=Ma(m.visibleWrites,A),it=ol(We,no());if(null!=it)me=it;else{if(null==p)return[];me=Ba(We,p)}if(me=me.withIndex(le),me.isEmpty()||me.isLeafNode())return[];{const Me=[],Ue=le.getCompare(),dt=ee?me.getReverseIteratorFrom(b,le):me.getIteratorFrom(b,le);let It=dt.getNext();for(;It&&Me.length<Q;)0!==Ue(It,b)&&Me.push(It),It=dt.getNext();return Me}}(m.writeTree,m.treePath,A,p,b,Q,ee)}(this.writes_,Q,p,1,b,A);return 0===ee.length?null:ee[0]}}function Lo(m,A,p,b,Q,ee){const le=A.eventCache;if(null!=ge(b,p))return A;{let me,We;if(Qr(p))if((0,Z.vA)(A.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),A.serverCache.isFiltered()){const it=ya(A),Ue=_e(b,it instanceof br?it:br.EMPTY_NODE);me=m.filter.updateFullNode(A.eventCache.getNode(),Ue,ee)}else{const it=J(b,ya(A));me=m.filter.updateFullNode(A.eventCache.getNode(),it,ee)}else{const it=hi(p);if(".priority"===it){(0,Z.vA)(1===Fs(p),"Can't have a priority with additional path components");const Me=le.getNode();We=A.serverCache.getNode();const Ue=V(b,p,Me,We);me=null!=Ue?m.filter.updatePriority(Me,Ue):le.getNode()}else{const Me=Ji(p);let Ue;if(le.isCompleteForChild(it)){We=A.serverCache.getNode();const dt=V(b,p,le.getNode(),We);Ue=null!=dt?le.getNode().getImmediateChild(it).updateChild(Me,dt):le.getNode().getImmediateChild(it)}else Ue=ne(b,it,A.serverCache);me=null!=Ue?m.filter.updateChild(le.getNode(),it,Ue,Me,Q,ee):le.getNode()}}return ea(A,me,le.isFullyInitialized()||Qr(p),m.filter.filtersNodes())}}function Go(m,A,p,b,Q,ee,le,me){const We=A.serverCache;let it;const Me=le?m.filter:m.filter.getIndexedFilter();if(Qr(p))it=Me.updateFullNode(We.getNode(),b,null);else if(Me.filtersNodes()&&!We.isFiltered()){const It=We.getNode().updateChild(p,b);it=Me.updateFullNode(We.getNode(),It,null)}else{const It=hi(p);if(!We.isCompleteForPath(p)&&Fs(p)>1)return A;const F=Ji(p),C=We.getNode().getImmediateChild(It).updateChild(F,b);it=".priority"===It?Me.updatePriority(We.getNode(),C):Me.updateChild(We.getNode(),It,C,F,jn,null)}const Ue=ci(A,it,We.isFullyInitialized()||Qr(p),Me.filtersNodes());return Lo(m,Ue,p,Q,new mr(Q,Ue,ee),me)}function Ks(m,A,p,b,Q,ee,le){const me=A.eventCache;let We,it;const Me=new mr(Q,A,ee);if(Qr(p))it=m.filter.updateFullNode(A.eventCache.getNode(),b,le),We=ea(A,it,!0,m.filter.filtersNodes());else{const Ue=hi(p);if(".priority"===Ue)it=m.filter.updatePriority(A.eventCache.getNode(),b),We=ea(A,it,me.isFullyInitialized(),me.isFiltered());else{const dt=Ji(p),It=me.getNode().getImmediateChild(Ue);let F;if(Qr(dt))F=b;else{const v=Me.getCompleteChild(Ue);F=null!=v?".priority"===Ps(dt)&&v.getChild(Ms(dt)).isEmpty()?v:v.updateChild(dt,b):br.EMPTY_NODE}We=It.equals(F)?A:ea(A,m.filter.updateChild(me.getNode(),Ue,F,dt,Me,le),me.isFullyInitialized(),m.filter.filtersNodes())}}return We}function es(m,A){return m.eventCache.isCompleteForChild(A)}function wi(m,A,p){return p.foreach((b,Q)=>{A=A.updateChild(b,Q)}),A}function is(m,A,p,b,Q,ee,le,me){if(A.serverCache.getNode().isEmpty()&&!A.serverCache.isFullyInitialized())return A;let it,We=A;it=Qr(p)?b:new rs(null).setTree(p,b);const Me=A.serverCache.getNode();return it.children.inorderTraversal((Ue,dt)=>{if(Me.hasChild(Ue)){const F=wi(0,A.serverCache.getNode().getImmediateChild(Ue),dt);We=Go(m,We,new ei(Ue),F,Q,ee,le,me)}}),it.children.inorderTraversal((Ue,dt)=>{const It=!A.serverCache.isCompleteForChild(Ue)&&null===dt.value;if(!Me.hasChild(Ue)&&!It){const v=wi(0,A.serverCache.getNode().getImmediateChild(Ue),dt);We=Go(m,We,new ei(Ue),v,Q,ee,le,me)}}),We}class lu{constructor(A,p){this.query_=A,this.eventRegistrations_=[];const b=this.query_._queryParams,Q=new ii(b.getIndex()),ee=function oa(m){return m.loadsAllData()?new ii(m.getIndex()):m.hasLimit()?new Js(m):new ns(m)}(b);this.processor_=function Ui(m){return{filter:m}}(ee);const le=p.serverCache,me=p.eventCache,We=Q.updateFullNode(br.EMPTY_NODE,le.getNode(),null),it=ee.updateFullNode(br.EMPTY_NODE,me.getNode(),null),Me=new Ua(We,le.isFullyInitialized(),Q.filtersNodes()),Ue=new Ua(it,me.isFullyInitialized(),ee.filtersNodes());this.viewCache_=Wa(Ue,Me),this.eventGenerator_=new Nl(this.query_)}get query(){return this.query_}}function Ea(m,A){const p=ya(m.viewCache_);return p&&(m.query._queryParams.loadsAllData()||!Qr(A)&&!p.getImmediateChild(hi(A)).isEmpty())?p.getChild(A):null}function wo(m){return 0===m.eventRegistrations_.length}function cu(m,A,p){const b=[];if(p){(0,Z.vA)(null==A,"A cancel should cancel all event registrations.");const Q=m.query._path;m.eventRegistrations_.forEach(ee=>{const le=ee.createCancelEvent(p,Q);le&&b.push(le)})}if(A){let Q=[];for(let ee=0;ee<m.eventRegistrations_.length;++ee){const le=m.eventRegistrations_[ee];if(le.matches(A)){if(A.hasAnyCallback()){Q=Q.concat(m.eventRegistrations_.slice(ee+1));break}}else Q.push(le)}m.eventRegistrations_=Q}else m.eventRegistrations_=[];return b}function nc(m,A,p,b){A.type===lo.MERGE&&null!==A.source.queryId&&((0,Z.vA)(ya(m.viewCache_),"We should always have a full cache before handling merges"),(0,Z.vA)(Rs(m.viewCache_),"Missing event cache, even though we have a server cache"));const Q=m.viewCache_,ee=function Fo(m,A,p,b,Q){const ee=new Ve;let le,me;if(p.type===lo.OVERWRITE){const it=p;it.source.fromUser?le=Ks(m,A,it.path,it.snap,b,Q,ee):((0,Z.vA)(it.source.fromServer,"Unknown source."),me=it.source.tagged||A.serverCache.isFiltered()&&!Qr(it.path),le=Go(m,A,it.path,it.snap,b,Q,me,ee))}else if(p.type===lo.MERGE){const it=p;it.source.fromUser?le=function Br(m,A,p,b,Q,ee,le){let me=A;return b.foreach((We,it)=>{const Me=Ri(p,We);es(A,hi(Me))&&(me=Ks(m,me,Me,it,Q,ee,le))}),b.foreach((We,it)=>{const Me=Ri(p,We);es(A,hi(Me))||(me=Ks(m,me,Me,it,Q,ee,le))}),me}(m,A,it.path,it.children,b,Q,ee):((0,Z.vA)(it.source.fromServer,"Unknown source."),me=it.source.tagged||A.serverCache.isFiltered(),le=is(m,A,it.path,it.children,b,Q,me,ee))}else if(p.type===lo.ACK_USER_WRITE){const it=p;le=it.revert?function dl(m,A,p,b,Q,ee){let le;if(null!=ge(b,p))return A;{const me=new mr(b,A,Q),We=A.eventCache.getNode();let it;if(Qr(p)||".priority"===hi(p)){let Me;if(A.serverCache.isFullyInitialized())Me=J(b,ya(A));else{const Ue=A.serverCache.getNode();(0,Z.vA)(Ue instanceof br,"serverChildren would be complete if leaf node"),Me=_e(b,Ue)}it=m.filter.updateFullNode(We,Me,ee)}else{const Me=hi(p);let Ue=ne(b,Me,A.serverCache);null==Ue&&A.serverCache.isCompleteForChild(Me)&&(Ue=We.getImmediateChild(Me)),it=null!=Ue?m.filter.updateChild(We,Me,Ue,Ji(p),me,ee):A.eventCache.getNode().hasChild(Me)?m.filter.updateChild(We,Me,br.EMPTY_NODE,Ji(p),me,ee):We,it.isEmpty()&&A.serverCache.isFullyInitialized()&&(le=J(b,ya(A)),le.isLeafNode()&&(it=m.filter.updateFullNode(it,le,ee)))}return le=A.serverCache.isFullyInitialized()||null!=ge(b,no()),ea(A,it,le,m.filter.filtersNodes())}}(m,A,it.path,b,Q,ee):function da(m,A,p,b,Q,ee,le){if(null!=ge(Q,p))return A;const me=A.serverCache.isFiltered(),We=A.serverCache;if(null!=b.value){if(Qr(p)&&We.isFullyInitialized()||We.isCompleteForPath(p))return Go(m,A,p,We.getNode().getChild(p),Q,ee,me,le);if(Qr(p)){let it=new rs(null);return We.getNode().forEachChild(Gs,(Me,Ue)=>{it=it.set(new ei(Me),Ue)}),is(m,A,p,it,Q,ee,me,le)}return A}{let it=new rs(null);return b.foreach((Me,Ue)=>{const dt=Ri(p,Me);We.isCompleteForPath(dt)&&(it=it.set(Me,We.getNode().getChild(dt)))}),is(m,A,p,it,Q,ee,me,le)}}(m,A,it.path,it.affectedTree,b,Q,ee)}else{if(p.type!==lo.LISTEN_COMPLETE)throw(0,Z.Hk)("Unknown operation type: "+p.type);le=function ls(m,A,p,b,Q){const ee=A.serverCache;return Lo(m,ci(A,ee.getNode(),ee.isFullyInitialized()||Qr(p),ee.isFiltered()),p,b,jn,Q)}(m,A,p.path,b,ee)}const We=ee.getChanges();return function Do(m,A,p){const b=A.eventCache;if(b.isFullyInitialized()){const Q=b.getNode().isLeafNode()||b.getNode().isEmpty(),ee=Rs(m);(p.length>0||!m.eventCache.isFullyInitialized()||Q&&!b.getNode().equals(ee)||!b.getNode().getPriority().equals(ee.getPriority()))&&p.push(Wn(Rs(A)))}}(A,le,We),{viewCache:le,changes:We}}(m.processor_,Q,A,p,b);return function oo(m,A){(0,Z.vA)(A.eventCache.getNode().isIndexed(m.filter.getIndex()),"Event snap not indexed"),(0,Z.vA)(A.serverCache.getNode().isIndexed(m.filter.getIndex()),"Server snap not indexed")}(m.processor_,ee.viewCache),(0,Z.vA)(ee.viewCache.serverCache.isFullyInitialized()||!Q.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),m.viewCache_=ee.viewCache,$c(m,ee.changes,ee.viewCache.eventCache.getNode(),null)}function $c(m,A,p,b){return function tc(m,A,p,b){const Q=[],ee=[];return A.forEach(le=>{"child_changed"===le.type&&m.index_.indexedValueChanged(le.oldSnap,le.snapshotNode)&&ee.push(function Li(m,A){return{type:"child_moved",snapshotNode:A,childName:m}}(le.childName,le.snapshotNode))}),fi(m,Q,"child_removed",A,b,p),fi(m,Q,"child_added",A,b,p),fi(m,Q,"child_moved",ee,b,p),fi(m,Q,"child_changed",A,b,p),fi(m,Q,"value",A,b,p),Q}(m.eventGenerator_,A,p,b?[b]:m.eventRegistrations_)}let ha,hl;class xc{constructor(){this.views=new Map}}function Tl(m,A,p,b){const Q=A.source.queryId;if(null!==Q){const ee=m.views.get(Q);return(0,Z.vA)(null!=ee,"SyncTree gave us an op for an invalid query."),nc(ee,A,p,b)}{let ee=[];for(const le of m.views.values())ee=ee.concat(nc(le,A,p,b));return ee}}function Wl(m,A,p,b,Q){const le=m.views.get(A._queryIdentifier);if(!le){let me=J(p,Q?b:null),We=!1;me?We=!0:b instanceof br?(me=_e(p,b),We=!1):(me=br.EMPTY_NODE,We=!1);const it=Wa(new Ua(me,We,!1),new Ua(b,Q,!1));return new lu(A,it)}return le}function YA(m){const A=[];for(const p of m.views.values())p.query._queryParams.loadsAllData()||A.push(p);return A}function Ya(m,A){let p=null;for(const b of m.views.values())p=p||Ea(b,A);return p}function OA(m,A){return A._queryParams.loadsAllData()?Gc(m):m.views.get(A._queryIdentifier)}function fa(m,A){return null!=OA(m,A)}function aa(m){return null!=Gc(m)}function Gc(m){for(const A of m.views.values())if(A.query._queryParams.loadsAllData())return A;return null}let yu=1;class JA{constructor(A){this.listenProvider_=A,this.syncPointTree_=new rs(null),this.pendingWriteTree_=function j(){return{visibleWrites:sa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jl(m,A,p,b,Q){return function Kl(m,A,p,b,Q){(0,Z.vA)(b>m.lastWriteId,"Stacking an older write on top of newer ones"),void 0===Q&&(Q=!0),m.allWrites.push({path:A,snap:p,writeId:b,visible:Q}),Q&&(m.visibleWrites=Gl(m.visibleWrites,A,p)),m.lastWriteId=b}(m.pendingWriteTree_,A,p,b,Q),Q?uA(m,new mc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},A,p)):[]}function wu(m,A,p=!1){const b=function MA(m,A){for(let p=0;p<m.allWrites.length;p++){const b=m.allWrites[p];if(b.writeId===A)return b}return null}(m.pendingWriteTree_,A);if(function Us(m,A){const p=m.allWrites.findIndex(me=>me.writeId===A);(0,Z.vA)(p>=0,"removeWrite called with nonexistent writeId.");const b=m.allWrites[p];m.allWrites.splice(p,1);let Q=b.visible,ee=!1,le=m.allWrites.length-1;for(;Q&&le>=0;){const me=m.allWrites[le];me.visible&&(le>=p&&Fc(me,b.path)?Q=!1:Hi(b.path,me.path)&&(ee=!0)),le--}return!!Q&&(ee?(function Xa(m){m.visibleWrites=_c(m.allWrites,sl,no()),m.lastWriteId=m.allWrites.length>0?m.allWrites[m.allWrites.length-1].writeId:-1}(m),!0):(b.snap?m.visibleWrites=lc(m.visibleWrites,b.path):Le(b.children,We=>{m.visibleWrites=lc(m.visibleWrites,Ri(b.path,We))}),!0))}(m.pendingWriteTree_,A)){let ee=new rs(null);return null!=b.snap?ee=ee.set(no(),!0):Le(b.children,le=>{ee=ee.set(new ei(le),!0)}),uA(m,new iu(b.path,ee,p))}return[]}function Au(m,A,p){return uA(m,new mc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},A,p))}function cc(m,A,p,b,Q=!1){const ee=A._path,le=m.syncPointTree_.get(ee);let me=[];if(le&&("default"===A._queryIdentifier||fa(le,A))){const We=function Ku(m,A,p,b){const Q=A._queryIdentifier,ee=[];let le=[];const me=aa(m);if("default"===Q)for(const[We,it]of m.views.entries())le=le.concat(cu(it,p,b)),wo(it)&&(m.views.delete(We),it.query._queryParams.loadsAllData()||ee.push(it.query));else{const We=m.views.get(Q);We&&(le=le.concat(cu(We,p,b)),wo(We)&&(m.views.delete(Q),We.query._queryParams.loadsAllData()||ee.push(We.query)))}return me&&!aa(m)&&ee.push(new(function lA(){return(0,Z.vA)(ha,"Reference.ts has not been loaded"),ha}())(A._repo,A._path)),{removed:ee,events:le}}(le,A,p,b);(function wc(m){return 0===m.views.size})(le)&&(m.syncPointTree_=m.syncPointTree_.remove(ee));const it=We.removed;if(me=We.events,!Q){const Me=-1!==it.findIndex(dt=>dt._queryParams.loadsAllData()),Ue=m.syncPointTree_.findOnPath(ee,(dt,It)=>aa(It));if(Me&&!Ue){const dt=m.syncPointTree_.subtree(ee);if(!dt.isEmpty()){const It=function q(m){return m.fold((A,p,b)=>{if(p&&aa(p))return[Gc(p)];{let Q=[];return p&&(Q=YA(p)),Le(b,(ee,le)=>{Q=Q.concat(le)}),Q}})}(dt);for(let F=0;F<It.length;++F){const v=It[F],C=v.query,M=AA(m,v);m.listenProvider_.startListening(ie(C),qu(m,C),M.hashFn,M.onComplete)}}}!Ue&&it.length>0&&!b&&(Me?m.listenProvider_.stopListening(ie(A),null):it.forEach(dt=>{const It=m.queryToTagMap.get(dA(dt));m.listenProvider_.stopListening(ie(dt),It)}))}!function W(m,A){for(let p=0;p<A.length;++p){const b=A[p];if(!b._queryParams.loadsAllData()){const Q=dA(b),ee=m.queryToTagMap.get(Q);m.queryToTagMap.delete(Q),m.tagToQueryMap.delete(ee)}}}(m,it)}return me}function Kd(m,A,p,b){const Q=al(m,b);if(null!=Q){const ee=Wd(Q),le=ee.path,me=ee.queryId,We=ro(le,A);return L(m,le,new mc(Ql(me),We,p))}return[]}function cA(m,A,p,b=!1){const Q=A._path;let ee=null,le=!1;m.syncPointTree_.foreachOnPath(Q,(dt,It)=>{const F=ro(dt,Q);ee=ee||Ya(It,F),le=le||aa(It)});let We,me=m.syncPointTree_.get(Q);me?(le=le||aa(me),ee=ee||Ya(me,no())):(me=new xc,m.syncPointTree_=m.syncPointTree_.set(Q,me)),null!=ee?We=!0:(We=!1,ee=br.EMPTY_NODE,m.syncPointTree_.subtree(Q).foreachChild((It,F)=>{const v=Ya(F,no());v&&(ee=ee.updateImmediateChild(It,v))}));const it=fa(me,A);if(!it&&!A._queryParams.loadsAllData()){const dt=dA(A);(0,Z.vA)(!m.queryToTagMap.has(dt),"View does not exist, but we have a tag");const It=function ue(){return yu++}();m.queryToTagMap.set(dt,It),m.tagToQueryMap.set(It,dt)}let Ue=function so(m,A,p,b,Q,ee){const le=Wl(m,A,b,Q,ee);return m.views.has(A._queryIdentifier)||m.views.set(A._queryIdentifier,le),function _u(m,A){m.eventRegistrations_.push(A)}(le,p),function Fa(m,A){const p=m.viewCache_.eventCache,b=[];return p.getNode().isLeafNode()||p.getNode().forEachChild(ir,(ee,le)=>{b.push(wr(ee,le))}),p.isFullyInitialized()&&b.push(Wn(p.getNode())),$c(m,b,p.getNode(),A)}(le,p)}(me,A,p,Sl(m.pendingWriteTree_,Q),ee,We);if(!it&&!le&&!b){const dt=OA(me,A);Ue=Ue.concat(function He(m,A,p){const b=A._path,Q=qu(m,A),ee=AA(m,p),le=m.listenProvider_.startListening(ie(A),Q,ee.hashFn,ee.onComplete),me=m.syncPointTree_.subtree(b);if(Q)(0,Z.vA)(!aa(me.value),"If we're adding a query, it shouldn't be shadowed");else{const We=me.fold((it,Me,Ue)=>{if(!Qr(it)&&Me&&aa(Me))return[Gc(Me).query];{let dt=[];return Me&&(dt=dt.concat(YA(Me).map(It=>It.query))),Le(Ue,(It,F)=>{dt=dt.concat(F)}),dt}});for(let it=0;it<We.length;++it){const Me=We[it];m.listenProvider_.stopListening(ie(Me),qu(m,Me))}}return le}(m,A,dt))}return Ue}function Rc(m,A,p){const Q=m.pendingWriteTree_,ee=m.syncPointTree_.findOnPath(A,(le,me)=>{const it=Ya(me,ro(le,A));if(it)return it});return yc(Q,A,ee,p,!0)}function uA(m,A){return Xh(A,m.syncPointTree_,null,Sl(m.pendingWriteTree_,no()))}function Xh(m,A,p,b){if(Qr(m.path))return Kc(m,A,p,b);{const Q=A.get(no());null==p&&null!=Q&&(p=Ya(Q,no()));let ee=[];const le=hi(m.path),me=m.operationForChild(le),We=A.children.get(le);if(We&&me){const it=p?p.getImmediateChild(le):null,Me=je(b,le);ee=ee.concat(Xh(me,We,it,Me))}return Q&&(ee=ee.concat(Tl(Q,m,b,p))),ee}}function Kc(m,A,p,b){const Q=A.get(no());null==p&&null!=Q&&(p=Ya(Q,no()));let ee=[];return A.children.inorderTraversal((le,me)=>{const We=p?p.getImmediateChild(le):null,it=je(b,le),Me=m.operationForChild(le);Me&&(ee=ee.concat(Kc(Me,me,We,it)))}),Q&&(ee=ee.concat(Tl(Q,m,b,p))),ee}function AA(m,A){const p=A.query,b=qu(m,p);return{hashFn:()=>(function ds(m){return m.viewCache_.serverCache.getNode()}(A)||br.EMPTY_NODE).hash(),onComplete:Q=>{if("ok"===Q)return b?function Eu(m,A,p){const b=al(m,p);if(b){const Q=Wd(b),ee=Q.path,le=Q.queryId,me=ro(ee,A);return L(m,ee,new Al(Ql(le),me))}return[]}(m,p._path,b):function vh(m,A){return uA(m,new Al({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},A))}(m,p._path);{const ee=function Rn(m,A){let p="Unknown Error";"too_big"===m?p="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===m?p="Client doesn't have permission to access the desired data.":"unavailable"===m&&(p="The service is unavailable");const b=new Error(m+" at "+A._path.toString()+": "+p);return b.code=m.toUpperCase(),b}(Q,p);return cc(m,p,null,ee)}}}}function qu(m,A){const p=dA(A);return m.queryToTagMap.get(p)}function dA(m){return m._path.toString()+"$"+m._queryIdentifier}function al(m,A){return m.tagToQueryMap.get(A)}function Wd(m){const A=m.indexOf("$");return(0,Z.vA)(-1!==A&&A<m.length-1,"Bad queryKey."),{queryId:m.substr(A+1),path:new ei(m.substr(0,A))}}function L(m,A,p){const b=m.syncPointTree_.get(A);return(0,Z.vA)(b,"Missing sync point for query tag that we're tracking"),Tl(b,p,Sl(m.pendingWriteTree_,A),null)}function ie(m){return m._queryParams.loadsAllData()&&!m._queryParams.isDefault()?new(function md(){return(0,Z.vA)(hl,"Reference.ts has not been loaded"),hl}())(m._repo,m._path):m}class lt{constructor(A){this.node_=A}getImmediateChild(A){const p=this.node_.getImmediateChild(A);return new lt(p)}node(){return this.node_}}class yn{constructor(A,p){this.syncTree_=A,this.path_=p}getImmediateChild(A){const p=Ri(this.path_,A);return new yn(this.syncTree_,p)}node(){return Rc(this.syncTree_,this.path_)}}const Zn=function(m){return(m=m||{}).timestamp=m.timestamp||(new Date).getTime(),m},In=function(m,A,p){return m&&"object"==typeof m?((0,Z.vA)(".sv"in m,"Unexpected leaf node or priority contents"),"string"==typeof m[".sv"]?oi(m[".sv"],A,p):"object"==typeof m[".sv"]?to(m[".sv"],A):void(0,Z.vA)(!1,"Unexpected server value: "+JSON.stringify(m,null,2))):m},oi=function(m,A,p){if("timestamp"===m)return p.timestamp;(0,Z.vA)(!1,"Unexpected server value: "+m)},to=function(m,A,p){m.hasOwnProperty("increment")||(0,Z.vA)(!1,"Unexpected server value: "+JSON.stringify(m,null,2));const b=m.increment;"number"!=typeof b&&(0,Z.vA)(!1,"Unexpected increment value: "+b);const Q=A.node();if((0,Z.vA)(null!==Q&&typeof Q<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!Q.isLeafNode())return b;const le=Q.getValue();return"number"!=typeof le?b:le+b},Cr=function(m,A,p,b){return Ss(A,new yn(p,m),b)},vo=function(m,A,p){return Ss(m,new lt(A),p)};function Ss(m,A,p){const b=m.getPriority().val(),Q=In(b,A.getImmediateChild(".priority"),p);let ee;if(m.isLeafNode()){const le=m,me=In(le.getValue(),A,p);return me!==le.getValue()||Q!==le.getPriority().val()?new rn(me,be(Q)):m}{const le=m;return ee=le,Q!==le.getPriority().val()&&(ee=ee.updatePriority(new rn(Q))),le.forEachChild(ir,(me,We)=>{const it=Ss(We,A.getImmediateChild(me),p);it!==We&&(ee=ee.updateImmediateChild(me,it))}),ee}}class Vs{constructor(A="",p=null,b={children:{},childCount:0}){this.name=A,this.parent=p,this.node=b}}function Ns(m,A){let p=A instanceof ei?A:new ei(A),b=m,Q=hi(p);for(;null!==Q;){const ee=(0,Z.yw)(b.node.children,Q)||{children:{},childCount:0};b=new Vs(Q,b,ee),p=Ji(p),Q=hi(p)}return b}function fl(m){return m.node.value}function Wc(m,A){m.node.value=A,Da(m)}function uc(m){return m.node.childCount>0}function qc(m,A){Le(m.node.children,(p,b)=>{A(new Vs(p,m,b))})}function la(m,A,p,b){p&&!b&&A(m),qc(m,Q=>{la(Q,A,!0,b)}),p&&b&&A(m)}function _l(m){return new ei(null===m.parent?m.name:_l(m.parent)+"/"+m.name)}function Da(m){null!==m.parent&&function du(m,A,p){const b=function Xu(m){return void 0===fl(m)&&!uc(m)}(p),Q=(0,Z.gR)(m.node.children,A);b&&Q?(delete m.node.children[A],m.node.childCount--,Da(m)):!b&&!Q&&(m.node.children[A]=p.node,m.node.childCount++,Da(m))}(m.parent,m.name,m)}const Cu=/[\[\].#$\/\u0000-\u001F\u007F]/,Iu=/[\[\].#$\u0000-\u001F\u007F]/,ql=10485760,bu=function(m){return"string"==typeof m&&0!==m.length&&!Cu.test(m)},Pc=function(m){return"string"==typeof m&&0!==m.length&&!Iu.test(m)},Vi=function(m){return null===m||"string"==typeof m||"number"==typeof m&&!zn(m)||m&&"object"==typeof m&&(0,Z.gR)(m,".sv")},hs=function(m,A,p,b){b&&void 0===A||Su((0,Z.dI)(m,"value"),A,p)},Su=function(m,A,p){const b=p instanceof ei?new mi(p,m):p;if(void 0===A)throw new Error(m+"contains undefined "+bl(b));if("function"==typeof A)throw new Error(m+"contains a function "+bl(b)+" with contents = "+A.toString());if(zn(A))throw new Error(m+"contains "+A.toString()+" "+bl(b));if("string"==typeof A&&A.length>ql/3&&(0,Z.OE)(A)>ql)throw new Error(m+"contains a string greater than "+ql+" utf8 bytes "+bl(b)+" ('"+A.substring(0,50)+"...')");if(A&&"object"==typeof A){let Q=!1,ee=!1;if(Le(A,(le,me)=>{if(".value"===le)Q=!0;else if(".priority"!==le&&".sv"!==le&&(ee=!0,!bu(le)))throw new Error(m+" contains an invalid key ("+le+") "+bl(b)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function yo(m,A){m.parts_.length>0&&(m.byteLength_+=1),m.parts_.push(A),m.byteLength_+=(0,Z.OE)(A),Io(m)})(b,le),Su(m,me,b),function $l(m){const A=m.parts_.pop();m.byteLength_-=(0,Z.OE)(A),m.parts_.length>0&&(m.byteLength_-=1)}(b)}),Q&&ee)throw new Error(m+' contains ".value" child '+bl(b)+" in addition to actual children.")}},Yu=function(m,A,p,b){if(b&&void 0===A)return;const Q=(0,Z.dI)(m,"values");if(!A||"object"!=typeof A||Array.isArray(A))throw new Error(Q+" must be an object containing the children to replace.");const ee=[];Le(A,(le,me)=>{const We=new ei(le);if(Su(Q,me,Ri(p,We)),".priority"===Ps(We)&&!Vi(me))throw new Error(Q+"contains an invalid value for '"+We.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");ee.push(We)}),function(m,A){let p,b;for(p=0;p<A.length;p++){b=A[p];const ee=Aa(b);for(let le=0;le<ee.length;le++)if((".priority"!==ee[le]||le!==ee.length-1)&&!bu(ee[le]))throw new Error(m+"contains an invalid key ("+ee[le]+") in path "+b.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}A.sort(To);let Q=null;for(p=0;p<A.length;p++){if(b=A[p],null!==Q&&Hi(Q,b))throw new Error(m+"contains a path "+Q.toString()+" that is ancestor of another path "+b.toString());Q=b}}(Q,ee)},bo=function(m,A,p){if(!p||void 0!==A){if(zn(A))throw new Error((0,Z.dI)(m,"priority")+"is "+A.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Vi(A))throw new Error((0,Z.dI)(m,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Qs=function(m,A,p,b){if(!(b&&void 0===p||bu(p)))throw new Error((0,Z.dI)(m,A)+'was an invalid key = "'+p+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},yl=function(m,A,p,b){if(!(b&&void 0===p||Pc(p)))throw new Error((0,Z.dI)(m,A)+'was an invalid path = "'+p+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Tu=function(m,A,p,b){p&&(p=p.replace(/^\/*\.info(\/|$)/,"/")),yl(m,A,p,b)},pa=function(m,A){if(".info"===hi(A))throw new Error(m+" failed = Can't modify data under /.info/")},So=function(m,A){const p=A.path.toString();if("string"!=typeof A.repoInfo.host||0===A.repoInfo.host.length||!bu(A.repoInfo.namespace)&&"localhost"!==A.repoInfo.host.split(":")[0]||0!==p.length&&!function(m){return m&&(m=m.replace(/^\/*\.info(\/|$)/,"/")),Pc(m)}(p))throw new Error((0,Z.dI)(m,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Bu{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xc(m,A){let p=null;for(let b=0;b<A.length;b++){const Q=A[b],ee=Q.getPath();null!==p&&!Os(ee,p.path)&&(m.eventLists_.push(p),p=null),null===p&&(p={events:[],path:ee}),p.events.push(Q)}p&&m.eventLists_.push(p)}function Ja(m,A,p){Xc(m,p),Qa(m,b=>Os(b,A))}function os(m,A,p){Xc(m,p),Qa(m,b=>Hi(b,A)||Hi(A,b))}function Qa(m,A){m.recursionDepth_++;let p=!0;for(let b=0;b<m.eventLists_.length;b++){const Q=m.eventLists_[b];Q&&(A(Q.path)?(hA(m.eventLists_[b]),m.eventLists_[b]=null):p=!1)}p&&(m.eventLists_=[]),m.recursionDepth_--}function hA(m){for(let A=0;A<m.events.length;A++){const p=m.events[A];if(null!==p){m.events[A]=null;const b=p.getEventRunner();gn&&Vt("event: "+p.toString()),Ai(b)}}}const Ju="repo_interrupt",Zu=25;class yd{constructor(A,p,b,Q){this.repoInfo_=A,this.forceRestClient_=p,this.authTokenProvider_=b,this.appCheckProvider_=Q,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Bu,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ul(),this.transactionQueueTree_=new Vs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xd(m){const p=m.infoData_.getNode(new ei(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+p}function wd(m){return Zn({timestamp:Xd(m)})}function sr(m,A,p,b,Q){m.dataUpdateCount++;const ee=new ei(A);p=m.interceptServerDataCallback_?m.interceptServerDataCallback_(A,p):p;let le=[];if(Q)if(b){const We=(0,Z.kH)(p,it=>be(it));le=function _h(m,A,p,b){const Q=al(m,b);if(Q){const ee=Wd(Q),le=ee.path,me=ee.queryId,We=ro(le,A),it=rs.fromObject(p);return L(m,le,new _a(Ql(me),We,it))}return[]}(m.serverSyncTree_,ee,We,Q)}else{const We=be(p);le=Kd(m.serverSyncTree_,ee,We,Q)}else if(b){const We=(0,Z.kH)(p,it=>be(it));le=function Wu(m,A,p){const b=rs.fromObject(p);return uA(m,new _a({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},A,b))}(m.serverSyncTree_,ee,We)}else{const We=be(p);le=Au(m.serverSyncTree_,ee,We)}let me=ee;le.length>0&&(me=Oc(m,ee)),os(m.eventQueue_,me,le)}function cs(m,A){Xl(m,"connected",A),!1===A&&function rc(m){js(m,"onDisconnectEvents");const A=wd(m),p=ul();qe(m.onDisconnect_,no(),(Q,ee)=>{const le=Cr(Q,ee,m.serverSyncTree_,A);Ie(p,Q,le)});let b=[];qe(p,no(),(Q,ee)=>{b=b.concat(Au(m.serverSyncTree_,Q,ee));const le=Td(m,Q);Oc(m,le)}),m.onDisconnect_=ul(),os(m.eventQueue_,no(),b)}(m)}function Xl(m,A,p){const b=new ei("/.info/"+A),Q=be(p);m.infoData_.updateSnapshot(b,Q);const ee=Au(m.infoSyncTree_,b,Q);os(m.eventQueue_,b,ee)}function Ws(m){return m.nextWriteId_++}function Ol(m,A,p,b,Q){js(m,"set",{path:A.toString(),value:p,priority:b});const ee=wd(m),le=be(p,b),me=Rc(m.serverSyncTree_,A),We=vo(le,me,ee),it=Ws(m),Me=jl(m.serverSyncTree_,A,We,it,!0);Xc(m.eventQueue_,Me),m.server_.put(A.toString(),le.val(!0),(dt,It)=>{const F="ok"===dt;F||Dn("set at "+A+" failed: "+dt);const v=wu(m.serverSyncTree_,it,!F);os(m.eventQueue_,A,v),Ei(0,Q,dt,It)});const Ue=Td(m,A);Oc(m,Ue),os(m.eventQueue_,Ue,[])}function Nc(m,A,p){m.server_.onDisconnectCancel(A.toString(),(b,Q)=>{"ok"===b&&Ae(m.onDisconnect_,A),Ei(0,p,b,Q)})}function Cd(m,A,p,b){const Q=be(p);m.server_.onDisconnectPut(A.toString(),Q.val(!0),(ee,le)=>{"ok"===ee&&Ie(m.onDisconnect_,A,Q),Ei(0,b,ee,le)})}function Mc(m,A,p){let b;b=".info"===hi(A._path)?cc(m.infoSyncTree_,A,p):cc(m.serverSyncTree_,A,p),Ja(m.eventQueue_,A._path,b)}function ZA(m){m.persistentConnection_&&m.persistentConnection_.interrupt(Ju)}function js(m,...A){let p="";m.persistentConnection_&&(p=m.persistentConnection_.id+":"),Vt(p,...A)}function Ei(m,A,p,b){A&&Ai(()=>{if("ok"===p)A(null);else{const Q=(p||"error").toUpperCase();let ee=Q;b&&(ee+=": "+b);const le=new Error(ee);le.code=Q,A(le)}})}function bd(m,A,p){return Rc(m.serverSyncTree_,A,p)||br.EMPTY_NODE}function Sd(m,A=m.transactionQueueTree_){if(A||fA(m,A),fl(A)){const p=Yh(m,A);(0,Z.vA)(p.length>0,"Sending zero length transaction queue"),p.every(Q=>0===Q.status)&&function El(m,A,p){const b=p.map(it=>it.currentWriteId),Q=bd(m,A,b);let ee=Q;const le=Q.hash();for(let it=0;it<p.length;it++){const Me=p[it];(0,Z.vA)(0===Me.status,"tryToSendTransactionQueue_: items in queue should all be run."),Me.status=1,Me.retryCount++;const Ue=ro(A,Me.path);ee=ee.updateChild(Ue,Me.currentOutputSnapshotRaw)}const me=ee.val(!0),We=A;m.server_.put(We.toString(),me,it=>{js(m,"transaction put response",{path:We.toString(),status:it});let Me=[];if("ok"===it){const Ue=[];for(let dt=0;dt<p.length;dt++)p[dt].status=2,Me=Me.concat(wu(m.serverSyncTree_,p[dt].currentWriteId)),p[dt].onComplete&&Ue.push(()=>p[dt].onComplete(null,!0,p[dt].currentOutputSnapshotResolved)),p[dt].unwatcher();fA(m,Ns(m.transactionQueueTree_,A)),Sd(m,m.transactionQueueTree_),os(m.eventQueue_,A,Me);for(let dt=0;dt<Ue.length;dt++)Ai(Ue[dt])}else{if("datastale"===it)for(let Ue=0;Ue<p.length;Ue++)p[Ue].status=3===p[Ue].status?4:0;else{Dn("transaction at "+We.toString()+" failed: "+it);for(let Ue=0;Ue<p.length;Ue++)p[Ue].status=4,p[Ue].abortReason=it}Oc(m,A)}},le)}(m,_l(A),p)}else uc(A)&&qc(A,p=>{Sd(m,p)})}function Oc(m,A){const p=hu(m,A),b=_l(p);return function UA(m,A,p){if(0===A.length)return;const b=[];let Q=[];const le=A.filter(me=>0===me.status).map(me=>me.currentWriteId);for(let me=0;me<A.length;me++){const We=A[me],it=ro(p,We.path);let Ue,Me=!1;if((0,Z.vA)(null!==it,"rerunTransactionsUnderNode_: relativePath should not be null."),4===We.status)Me=!0,Ue=We.abortReason,Q=Q.concat(wu(m.serverSyncTree_,We.currentWriteId,!0));else if(0===We.status)if(We.retryCount>=Zu)Me=!0,Ue="maxretry",Q=Q.concat(wu(m.serverSyncTree_,We.currentWriteId,!0));else{const dt=bd(m,We.path,le);We.currentInputSnapshot=dt;const It=A[me].update(dt.val());if(void 0!==It){Su("transaction failed: Data returned ",It,We.path);let F=be(It);"object"==typeof It&&null!=It&&(0,Z.gR)(It,".priority")||(F=F.updatePriority(dt.getPriority()));const C=We.currentWriteId,M=wd(m),ae=vo(F,dt,M);We.currentOutputSnapshotRaw=F,We.currentOutputSnapshotResolved=ae,We.currentWriteId=Ws(m),le.splice(le.indexOf(C),1),Q=Q.concat(jl(m.serverSyncTree_,We.path,ae,We.currentWriteId,We.applyLocally)),Q=Q.concat(wu(m.serverSyncTree_,C,!0))}else Me=!0,Ue="nodata",Q=Q.concat(wu(m.serverSyncTree_,We.currentWriteId,!0))}os(m.eventQueue_,p,Q),Q=[],Me&&(A[me].status=2,setTimeout(A[me].unwatcher,Math.floor(0)),A[me].onComplete&&b.push("nodata"===Ue?()=>A[me].onComplete(null,!1,A[me].currentInputSnapshot):()=>A[me].onComplete(new Error(Ue),!1,null)))}fA(m,m.transactionQueueTree_);for(let me=0;me<b.length;me++)Ai(b[me]);Sd(m,m.transactionQueueTree_)}(m,Yh(m,p),b),b}function hu(m,A){let p,b=m.transactionQueueTree_;for(p=hi(A);null!==p&&void 0===fl(b);)b=Ns(b,p),p=hi(A=Ji(A));return b}function Yh(m,A){const p=[];return VA(m,A,p),p.sort((b,Q)=>b.order-Q.order),p}function VA(m,A,p){const b=fl(A);if(b)for(let Q=0;Q<b.length;Q++)p.push(b[Q]);qc(A,Q=>{VA(m,Q,p)})}function fA(m,A){const p=fl(A);if(p){let b=0;for(let Q=0;Q<p.length;Q++)2!==p[Q].status&&(p[b]=p[Q],b++);p.length=b,Wc(A,p.length>0?p:void 0)}qc(A,b=>{fA(m,b)})}function Td(m,A){const p=_l(hu(m,A)),b=Ns(m.transactionQueueTree_,A);return function kc(m,A,p){let b=p?m:m.parent;for(;null!==b;){if(A(b))return!0;b=b.parent}}(b,Q=>{pA(m,Q)}),pA(m,b),la(b,Q=>{pA(m,Q)}),p}function pA(m,A){const p=fl(A);if(p){const b=[];let Q=[],ee=-1;for(let le=0;le<p.length;le++)3===p[le].status||(1===p[le].status?((0,Z.vA)(ee===le-1,"All SENT items should be at beginning of queue."),ee=le,p[le].status=3,p[le].abortReason="set"):((0,Z.vA)(0===p[le].status,"Unexpected transaction status in abort"),p[le].unwatcher(),Q=Q.concat(wu(m.serverSyncTree_,p[le].currentWriteId,!0)),p[le].onComplete&&b.push(p[le].onComplete.bind(null,new Error("set"),!1,null))));-1===ee?Wc(A,void 0):p.length=ee+1,os(m.eventQueue_,_l(A),Q);for(let le=0;le<b.length;le++)Ai(b[le])}}const QA=function(m,A){const p=Jh(m),b=p.namespace;return"firebase.com"===p.domain&&Cn(p.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!b||"undefined"===b)&&"localhost"!==p.domain&&Cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),p.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Dn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new eo(p.host,p.secure,b,"ws"===p.scheme||"wss"===p.scheme,A,"",b!==p.subdomain),path:new ei(p.pathString)}},Jh=function(m){let A="",p="",b="",Q="",ee="",le=!0,me="https",We=443;if("string"==typeof m){let it=m.indexOf("//");it>=0&&(me=m.substring(0,it-1),m=m.substring(it+2));let Me=m.indexOf("/");-1===Me&&(Me=m.length);let Ue=m.indexOf("?");-1===Ue&&(Ue=m.length),A=m.substring(0,Math.min(Me,Ue)),Me<Ue&&(Q=function Bd(m){let A="";const p=m.split("/");for(let b=0;b<p.length;b++)if(p[b].length>0){let Q=p[b];try{Q=decodeURIComponent(Q.replace(/\+/g," "))}catch{}A+="/"+Q}return A}(m.substring(Me,Ue)));const dt=function wh(m){const A={};"?"===m.charAt(0)&&(m=m.substring(1));for(const p of m.split("&")){if(0===p.length)continue;const b=p.split("=");2===b.length?A[decodeURIComponent(b[0])]=decodeURIComponent(b[1]):Dn(`Invalid query segment '${p}' in query '${m}'`)}return A}(m.substring(Math.min(m.length,Ue)));it=A.indexOf(":"),it>=0?(le="https"===me||"wss"===me,We=parseInt(A.substring(it+1),10)):it=A.length;const It=A.slice(0,it);if("localhost"===It.toLowerCase())p="localhost";else if(It.split(".").length<=2)p=It;else{const F=A.indexOf(".");b=A.substring(0,F).toLowerCase(),p=A.substring(F+1),ee=b}"ns"in dt&&(ee=dt.ns)}return{host:A,port:We,domain:p,subdomain:b,secure:le,scheme:me,pathString:Q,namespace:ee}},Yl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Fu=function(){let m=0;const A=[];return function(p){const b=p===m;let Q;m=p;const ee=new Array(8);for(Q=7;Q>=0;Q--)ee[Q]=Yl.charAt(p%64),p=Math.floor(p/64);(0,Z.vA)(0===p,"Cannot push at time == 0");let le=ee.join("");if(b){for(Q=11;Q>=0&&63===A[Q];Q--)A[Q]=0;A[Q]++}else for(Q=0;Q<12;Q++)A[Q]=Math.floor(64*Math.random());for(Q=0;Q<12;Q++)le+=Yl.charAt(A[Q]);return(0,Z.vA)(20===le.length,"nextPushId: Length should be 20."),le}}();class ga{constructor(A,p,b,Q){this.eventType=A,this.eventRegistration=p,this.snapshot=b,this.prevName=Q}getPath(){const A=this.snapshot.ref;return"value"===this.eventType?A._path:A.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Z.As)(this.snapshot.exportVal())}}class Yd{constructor(A,p,b){this.eventRegistration=A,this.error=p,this.path=b}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class jA{constructor(A,p){this.snapshotCallback=A,this.cancelCallback=p}onValue(A,p){this.snapshotCallback.call(null,A,p)}onCancel(A){return(0,Z.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,A)}get hasCancelCallback(){return!!this.cancelCallback}matches(A){return this.snapshotCallback===A.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===A.snapshotCallback.userCallback&&this.snapshotCallback.context===A.snapshotCallback.context}}class eA{constructor(A,p){this._repo=A,this._path=p}cancel(){const A=new Z.cY;return Nc(this._repo,this._path,A.wrapCallback(()=>{})),A.promise}remove(){pa("OnDisconnect.remove",this._path);const A=new Z.cY;return Cd(this._repo,this._path,null,A.wrapCallback(()=>{})),A.promise}set(A){pa("OnDisconnect.set",this._path),hs("OnDisconnect.set",A,this._path,!1);const p=new Z.cY;return Cd(this._repo,this._path,A,p.wrapCallback(()=>{})),p.promise}setWithPriority(A,p){pa("OnDisconnect.setWithPriority",this._path),hs("OnDisconnect.setWithPriority",A,this._path,!1),bo("OnDisconnect.setWithPriority",p,!1);const b=new Z.cY;return function Hl(m,A,p,b,Q){const ee=be(p,b);m.server_.onDisconnectPut(A.toString(),ee.val(!0),(le,me)=>{"ok"===le&&Ie(m.onDisconnect_,A,ee),Ei(0,Q,le,me)})}(this._repo,this._path,A,p,b.wrapCallback(()=>{})),b.promise}update(A){pa("OnDisconnect.update",this._path),Yu("OnDisconnect.update",A,this._path,!1);const p=new Z.cY;return function Id(m,A,p,b){if((0,Z.Im)(p))return Vt("onDisconnect().update() called with empty data.  Don't do anything."),void Ei(0,b,"ok",void 0);m.server_.onDisconnectMerge(A.toString(),p,(Q,ee)=>{"ok"===Q&&Le(p,(le,me)=>{const We=be(me);Ie(m.onDisconnect_,Ri(A,le),We)}),Ei(0,b,Q,ee)})}(this._repo,this._path,A,p.wrapCallback(()=>{})),p.promise}}class Jl{constructor(A,p,b,Q){this._repo=A,this._path=p,this._queryParams=b,this._orderByCalled=Q}get key(){return Qr(this._path)?null:Ps(this._path)}get ref(){return new Ia(this._repo,this._path)}get _queryIdentifier(){const A=Pa(this._queryParams),p=we(A);return"{}"===p?"default":p}get _queryObject(){return Pa(this._queryParams)}isEqual(A){if(!((A=(0,Z.Ku)(A))instanceof Jl))return!1;const p=this._repo===A._repo,b=Os(this._path,A._path);return p&&b&&this._queryIdentifier===A._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Il(m){let A="";for(let p=m.pieceNum_;p<m.pieces_.length;p++)""!==m.pieces_[p]&&(A+="/"+encodeURIComponent(String(m.pieces_[p])));return A||"/"}(this._path)}}function Fd(m,A){if(!0===m._orderByCalled)throw new Error(A+": You can't combine multiple orderBy calls.")}function Du(m){let A=null,p=null;if(m.hasStart()&&(A=m.getIndexStartValue()),m.hasEnd()&&(p=m.getIndexEndValue()),m.getIndex()===Gs){const b="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",Q="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(m.hasStart()){if(m.getIndexStartName()!==xr)throw new Error(b);if("string"!=typeof A)throw new Error(Q)}if(m.hasEnd()){if(m.getIndexEndName()!==Kt)throw new Error(b);if("string"!=typeof p)throw new Error(Q)}}else if(m.getIndex()===ir){if(null!=A&&!Vi(A)||null!=p&&!Vi(p))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Z.vA)(m.getIndex()instanceof _t||m.getIndex()===an,"unknown index type."),null!=A&&"object"==typeof A||null!=p&&"object"==typeof p)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function gA(m){if(m.hasStart()&&m.hasEnd()&&m.hasLimit()&&!m.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ia extends Jl{constructor(A,p){super(A,p,new Zs,!1)}get parent(){const A=Ms(this._path);return null===A?null:new Ia(this._repo,A)}get root(){let A=this;for(;null!==A.parent;)A=A.parent;return A}}class ic{constructor(A,p,b){this._node=A,this.ref=p,this._index=b}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(A){const p=new ei(A),b=Za(this.ref,A);return new ic(this._node.getChild(p),b,ir)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(A){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(b,Q)=>A(new ic(Q,Za(this.ref,b),ir)))}hasChild(A){const p=new ei(A);return!this._node.getChild(p).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function tA(m,A){return(m=(0,Z.Ku)(m))._checkNotDeleted("ref"),void 0!==A?Za(m._root,A):m._root}function xu(m,A){(m=(0,Z.Ku)(m))._checkNotDeleted("refFromURL");const p=QA(A,m._repo.repoInfo_.nodeAdmin);So("refFromURL",p);const b=p.repoInfo;return!m._repo.repoInfo_.isCustomHost()&&b.host!==m._repo.repoInfo_.host&&Cn("refFromURL: Host name does not match the current database: (found "+b.host+" but expected "+m._repo.repoInfo_.host+")"),tA(m,p.path.toString())}function Za(m,A){return null===hi((m=(0,Z.Ku)(m))._path)?Tu("child","path",A,!1):yl("child","path",A,!1),new Ia(m._repo,Ri(m._path,A))}function ed(m,A){m=(0,Z.Ku)(m),pa("set",m._path),hs("set",A,m._path,!1);const p=new Z.cY;return Ol(m._repo,m._path,A,null,p.wrapCallback(()=>{})),p.promise}function Zd(m,A){Yu("update",A,m._path,!1);const p=new Z.cY;return function Ca(m,A,p,b){js(m,"update",{path:A.toString(),value:p});let Q=!0;const ee=wd(m),le={};if(Le(p,(me,We)=>{Q=!1,le[me]=Cr(Ri(A,me),be(We),m.serverSyncTree_,ee)}),Q)Vt("update() called with empty data.  Don't do anything."),Ei(0,b,"ok",void 0);else{const me=Ws(m),We=function vd(m,A,p,b){!function su(m,A,p,b){(0,Z.vA)(b>m.lastWriteId,"Stacking an older merge on top of newer ones"),m.allWrites.push({path:A,children:p,writeId:b,visible:!0}),m.visibleWrites=vc(m.visibleWrites,A,p),m.lastWriteId=b}(m.pendingWriteTree_,A,p,b);const Q=rs.fromObject(p);return uA(m,new _a({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},A,Q))}(m.serverSyncTree_,A,le,me);Xc(m.eventQueue_,We),m.server_.merge(A.toString(),p,(it,Me)=>{const Ue="ok"===it;Ue||Dn("update at "+A+" failed: "+it);const dt=wu(m.serverSyncTree_,me,!Ue),It=dt.length>0?Oc(m,A):A;os(m.eventQueue_,It,dt),Ei(0,b,it,Me)}),Le(p,it=>{const Me=Td(m,Ri(A,it));Oc(m,Me)}),os(m.eventQueue_,A,[])}}(m._repo,m._path,A,p.wrapCallback(()=>{})),p.promise}function Dd(m){m=(0,Z.Ku)(m);const A=new jA(()=>{}),p=new ku(A);return function Ed(m,A,p){const b=function yh(m,A){const p=A._path;let b=null;m.syncPointTree_.foreachOnPath(p,(it,Me)=>{const Ue=ro(it,p);b=b||Ya(Me,Ue)});let Q=m.syncPointTree_.get(p);Q?b=b||Ya(Q,no()):(Q=new xc,m.syncPointTree_=m.syncPointTree_.set(p,Q));const ee=null!=b,le=ee?new Ua(b,!0,!1):null;return function xo(m){return Rs(m.viewCache_)}(Wl(Q,A,Sl(m.pendingWriteTree_,A._path),ee?le.getNode():br.EMPTY_NODE,ee))}(m.serverSyncTree_,A);return null!=b?Promise.resolve(b):m.server_.get(A).then(Q=>{const ee=be(Q).withIndex(A._queryParams.getIndex());let le;if(cA(m.serverSyncTree_,A,p,!0),A._queryParams.loadsAllData())le=Au(m.serverSyncTree_,A._path,ee);else{const me=qu(m.serverSyncTree_,A);le=Kd(m.serverSyncTree_,A._path,ee,me)}return os(m.eventQueue_,A._path,le),cc(m.serverSyncTree_,A,p,null,!0),ee},Q=>(js(m,"get for query "+(0,Z.As)(A)+" failed: "+Q),Promise.reject(new Error(Q))))}(m._repo,m,p).then(b=>new ic(b,new Ia(m._repo,m._path),m._queryParams.getIndex()))}class ku{constructor(A){this.callbackContext=A}respondsTo(A){return"value"===A}createEvent(A,p){const b=p._queryParams.getIndex();return new ga("value",this,new ic(A.snapshotNode,new Ia(p._repo,p._path),b))}getEventRunner(A){return"cancel"===A.getEventType()?()=>this.callbackContext.onCancel(A.error):()=>this.callbackContext.onValue(A.snapshot,null)}createCancelEvent(A,p){return this.callbackContext.hasCancelCallback?new Yd(this,A,p):null}matches(A){return A instanceof ku&&(!A.callbackContext||!this.callbackContext||A.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class vA{constructor(A,p){this.eventType=A,this.callbackContext=p}respondsTo(A){let p="children_added"===A?"child_added":A;return p="children_removed"===p?"child_removed":p,this.eventType===p}createCancelEvent(A,p){return this.callbackContext.hasCancelCallback?new Yd(this,A,p):null}createEvent(A,p){(0,Z.vA)(null!=A.childName,"Child events should have a childName.");const b=Za(new Ia(p._repo,p._path),A.childName),Q=p._queryParams.getIndex();return new ga(A.type,this,new ic(A.snapshotNode,b,Q),A.prevName)}getEventRunner(A){return"cancel"===A.getEventType()?()=>this.callbackContext.onCancel(A.error):()=>this.callbackContext.onValue(A.snapshot,A.prevName)}matches(A){return A instanceof vA&&this.eventType===A.eventType&&(!this.callbackContext||!A.callbackContext||this.callbackContext.matches(A.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ic(m,A,p,b,Q){let ee;if("object"==typeof b&&(ee=void 0,Q=b),"function"==typeof b&&(ee=b),Q&&Q.onlyOnce){const We=p,it=(Me,Ue)=>{Mc(m._repo,m,me),We(Me,Ue)};it.userCallback=p.userCallback,it.context=p.context,p=it}const le=new jA(p,ee||void 0),me="value"===A?new ku(le):new vA(A,le);return function wl(m,A,p){let b;b=".info"===hi(A._path)?cA(m.infoSyncTree_,A,p):cA(m.serverSyncTree_,A,p),Ja(m.eventQueue_,A._path,b)}(m._repo,m,me),()=>Mc(m._repo,m,me)}function td(m,A,p,b){return Ic(m,"value",A,p,b)}function xd(m,A,p,b){return Ic(m,"child_added",A,p,b)}function Rd(m,A,p,b){return Ic(m,"child_changed",A,p,b)}function HA(m,A,p,b){return Ic(m,"child_moved",A,p,b)}function Zh(m,A,p,b){return Ic(m,"child_removed",A,p,b)}function zA(m,A,p){let b=null;const Q=p?new jA(p):null;"value"===A?b=new ku(Q):A&&(b=new vA(A,Q)),Mc(m._repo,m,b)}class bc{}class _A extends bc{constructor(A,p){super(),this._value=A,this._key=p,this.type="endAt"}_apply(A){hs("endAt",this._value,A._path,!0);const p=Ls(A._queryParams,this._value,this._key);if(gA(p),Du(p),A._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jl(A._repo,A._path,p,A._orderByCalled)}}class yA extends bc{constructor(A,p){super(),this._value=A,this._key=p,this.type="endBefore"}_apply(A){hs("endBefore",this._value,A._path,!1);const p=function xs(m,A,p){let b;return b=Ls(m,A,m.index_===Gs||p?p:xr),b.endBeforeSet_=!0,b}(A._queryParams,this._value,this._key);if(gA(p),Du(p),A._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jl(A._repo,A._path,p,A._orderByCalled)}}class Zl extends bc{constructor(A,p){super(),this._value=A,this._key=p,this.type="startAt"}_apply(A){hs("startAt",this._value,A._path,!0);const p=Zo(A._queryParams,this._value,this._key);if(gA(p),Du(p),A._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Jl(A._repo,A._path,p,A._orderByCalled)}}class Ff extends bc{constructor(A,p){super(),this._value=A,this._key=p,this.type="startAfter"}_apply(A){hs("startAfter",this._value,A._path,!1);const p=function rl(m,A,p){let b;return b=Zo(m,A,m.index_===Gs||p?p:Kt),b.startAfterSet_=!0,b}(A._queryParams,this._value,this._key);if(gA(p),Du(p),A._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Jl(A._repo,A._path,p,A._orderByCalled)}}class nA extends bc{constructor(A){super(),this._limit=A,this.type="limitToFirst"}_apply(A){if(A._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jl(A._repo,A._path,function Cs(m,A){const p=m.copy();return p.limitSet_=!0,p.limit_=A,p.viewFrom_="l",p}(A._queryParams,this._limit),A._orderByCalled)}}class $A extends bc{constructor(A){super(),this._limit=A,this.type="limitToLast"}_apply(A){if(A._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jl(A._repo,A._path,function vs(m,A){const p=m.copy();return p.limitSet_=!0,p.limit_=A,p.viewFrom_="r",p}(A._queryParams,this._limit),A._orderByCalled)}}class Df extends bc{constructor(A){super(),this._path=A,this.type="orderByChild"}_apply(A){Fd(A,"orderByChild");const p=new ei(this._path);if(Qr(p))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const b=new _t(p),Q=fo(A._queryParams,b);return Du(Q),new Jl(A._repo,A._path,Q,!0)}}class xf extends bc{constructor(){super(...arguments),this.type="orderByKey"}_apply(A){Fd(A,"orderByKey");const p=fo(A._queryParams,Gs);return Du(p),new Jl(A._repo,A._path,p,!0)}}class Pu extends bc{constructor(){super(...arguments),this.type="orderByPriority"}_apply(A){Fd(A,"orderByPriority");const p=fo(A._queryParams,ir);return Du(p),new Jl(A._repo,A._path,p,!0)}}class ba extends bc{constructor(){super(...arguments),this.type="orderByValue"}_apply(A){Fd(A,"orderByValue");const p=fo(A._queryParams,an);return Du(p),new Jl(A._repo,A._path,p,!0)}}class Nu extends bc{constructor(A,p){super(),this._value=A,this._key=p,this.type="equalTo"}_apply(A){if(hs("equalTo",this._value,A._path,!1),A._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(A._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _A(this._value,this._key)._apply(new Zl(this._value,this._key)._apply(A))}}function Dl(m,...A){let p=(0,Z.Ku)(m);for(const b of A)p=b._apply(p);return p}(function uu(m){(0,Z.vA)(!ha,"__referenceConstructor has already been defined"),ha=m})(Ia),function Bl(m){(0,Z.vA)(!hl,"__referenceConstructor has already been defined"),hl=m}(Ia);const Ll={};function EA(m,A,p,b,Q){let ee=b||m.options.databaseURL;void 0===ee&&(m.options.projectId||Cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vt("Using default host for project ",m.options.projectId),ee=`${m.options.projectId}-default-rtdb.firebaseio.com`);let We,it,le=QA(ee,Q),me=le.repoInfo;typeof process<"u"&&process.env&&(it=process.env.FIREBASE_DATABASE_EMULATOR_HOST),it?(We=!0,ee=`http://${it}?ns=${me.namespace}`,le=QA(ee,Q),me=le.repoInfo):We=!le.repoInfo.secure;const Me=Q&&We?new Wi(Wi.OWNER):new Di(m.name,m.options,A);So("Invalid Firebase Database URL",le),Qr(le.path)||Cn("Database URL must point to the root of a Firebase Database (not including a child path).");const Ue=function nd(m,A,p,b){let Q=Ll[A.name];Q||(Q={},Ll[A.name]=Q);let ee=Q[m.toURLString()];return ee&&Cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),ee=new yd(m,false,p,b),Q[m.toURLString()]=ee,ee}(me,m,Me,new kr(m.name,p));return new GA(Ue,m)}class GA{constructor(A,p){this._repoInternal=A,this.app=p,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function qd(m,A,p){if(m.stats_=ko(m.repoInfo_),m.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)m.server_=new _s(m.repoInfo_,(b,Q,ee,le)=>{sr(m,b,Q,ee,le)},m.authTokenProvider_,m.appCheckProvider_),setTimeout(()=>cs(m,!0),0);else{if(typeof p<"u"&&null!==p){if("object"!=typeof p)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Z.As)(p)}catch(b){throw new Error("Invalid authOverride provided: "+b)}}m.persistentConnection_=new Ga(m.repoInfo_,A,(b,Q,ee,le)=>{sr(m,b,Q,ee,le)},b=>{cs(m,b)},b=>{!function LA(m,A){Le(A,(p,b)=>{Xl(m,p,b)})}(m,b)},m.authTokenProvider_,m.appCheckProvider_,p),m.server_=m.persistentConnection_}m.authTokenProvider_.addTokenChangeListener(b=>{m.server_.refreshAuthToken(b)}),m.appCheckProvider_.addTokenChangeListener(b=>{m.server_.refreshAppCheckToken(b.token)}),m.statsReporter_=function xi(m,A){const p=m.toString();return Zr[p]||(Zr[p]=A()),Zr[p]}(m.repoInfo_,()=>new La(m.stats_,m.server_)),m.infoData_=new Na,m.infoSyncTree_=new JA({startListening:(b,Q,ee,le)=>{let me=[];const We=m.infoData_.getNode(b._path);return We.isEmpty()||(me=Au(m.infoSyncTree_,b._path,We),setTimeout(()=>{le("ok")},0)),me},stopListening:()=>{}}),Xl(m,"connected",!1),m.serverSyncTree_=new JA({startListening:(b,Q,ee,le)=>(m.server_.listen(b,ee,Q,(me,We)=>{const it=le(me,We);os(m.eventQueue_,b._path,it)}),[]),stopListening:(b,Q)=>{m.server_.unlisten(b,Q)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ia(this._repo,no())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function nh(m,A){const p=Ll[A];(!p||p[m.key]!==m)&&Cn(`Database ${A}(${m.repoInfo_}) has already been deleted.`),ZA(m),delete p[m.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(A){null===this._rootInternal&&Cn("Cannot call "+A+" on a deleted database.")}}function rh(){gs.IS_TRANSPORT_INITIALIZED&&Dn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Ih(){rh(),qr.forceDisallow()}function rf(){rh(),Fr.forceDisallow(),qr.forceAllow()}function kd(m,A){bt(m,A)}const np={".sv":"timestamp"};class Pd{constructor(A,p){this.committed=A,this.snapshot=p}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ga.prototype.simpleListen=function(m,A){this.sendRequest("q",{p:m},A)},Ga.prototype.echo=function(m,A){this.sendRequest("echo",{d:m},A)},function bh(m){Ct(ot.SDK_VERSION),(0,ot._registerComponent)(new e.uA("database",(A,{instanceIdentifier:p})=>EA(A.getProvider("app").getImmediate(),A.getProvider("auth-internal"),A.getProvider("app-check-internal"),p),"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(Ze,"1.0.5",m),(0,ot.registerVersion)(Ze,"1.0.5","esm2017")}();const u=new tt.Vy("@firebase/database-compat"),_=function(m){u.warn("FIREBASE WARNING: "+m)};class U{constructor(A){this._delegate=A}cancel(A){(0,Z.od)("OnDisconnect.cancel",0,1,arguments.length),(0,Z.oD)("OnDisconnect.cancel","onComplete",A,!0);const p=this._delegate.cancel();return A&&p.then(()=>A(null),b=>A(b)),p}remove(A){(0,Z.od)("OnDisconnect.remove",0,1,arguments.length),(0,Z.oD)("OnDisconnect.remove","onComplete",A,!0);const p=this._delegate.remove();return A&&p.then(()=>A(null),b=>A(b)),p}set(A,p){(0,Z.od)("OnDisconnect.set",1,2,arguments.length),(0,Z.oD)("OnDisconnect.set","onComplete",p,!0);const b=this._delegate.set(A);return p&&b.then(()=>p(null),Q=>p(Q)),b}setWithPriority(A,p,b){(0,Z.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Z.oD)("OnDisconnect.setWithPriority","onComplete",b,!0);const Q=this._delegate.setWithPriority(A,p);return b&&Q.then(()=>b(null),ee=>b(ee)),Q}update(A,p){if((0,Z.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(A)){const Q={};for(let ee=0;ee<A.length;++ee)Q[""+ee]=A[ee];A=Q,_("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Z.oD)("OnDisconnect.update","onComplete",p,!0);const b=this._delegate.update(A);return p&&b.then(()=>p(null),Q=>p(Q)),b}}class ${constructor(A,p){this.committed=A,this.snapshot=p}toJSON(){return(0,Z.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class te{constructor(A,p){this._database=A,this._delegate=p}val(){return(0,Z.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Z.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Z.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Z.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(A){return(0,Z.od)("DataSnapshot.child",0,1,arguments.length),A=String(A),yl("DataSnapshot.child","path",A,!1),new te(this._database,this._delegate.child(A))}hasChild(A){return(0,Z.od)("DataSnapshot.hasChild",1,1,arguments.length),yl("DataSnapshot.hasChild","path",A,!1),this._delegate.hasChild(A)}getPriority(){return(0,Z.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(A){return(0,Z.od)("DataSnapshot.forEach",1,1,arguments.length),(0,Z.oD)("DataSnapshot.forEach","action",A,!1),this._delegate.forEach(p=>A(new te(this._database,p)))}hasChildren(){return(0,Z.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Z.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Z.od)("DataSnapshot.ref",0,0,arguments.length),new ve(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class oe{constructor(A,p){this.database=A,this._delegate=p}on(A,p,b,Q){var ee;(0,Z.od)("Query.on",2,4,arguments.length),(0,Z.oD)("Query.on","callback",p,!1);const le=oe.getCancelAndContextArgs_("Query.on",b,Q),me=(it,Me)=>{p.call(le.context,new te(this.database,it),Me)};me.userCallback=p,me.context=le.context;const We=null===(ee=le.cancel)||void 0===ee?void 0:ee.bind(le.context);switch(A){case"value":return td(this._delegate,me,We),p;case"child_added":return xd(this._delegate,me,We),p;case"child_removed":return Zh(this._delegate,me,We),p;case"child_changed":return Rd(this._delegate,me,We),p;case"child_moved":return HA(this._delegate,me,We),p;default:throw new Error((0,Z.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(A,p,b){if((0,Z.od)("Query.off",0,3,arguments.length),function(m,A,p){if(void 0!==A)switch(A){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Z.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,A),(0,Z.oD)("Query.off","callback",p,!0),(0,Z.HN)("Query.off","context",b,!0),p){const Q=()=>{};Q.userCallback=p,Q.context=b,zA(this._delegate,A,Q)}else zA(this._delegate,A)}get(){return Dd(this._delegate).then(A=>new te(this.database,A))}once(A,p,b,Q){(0,Z.od)("Query.once",1,4,arguments.length),(0,Z.oD)("Query.once","callback",p,!0);const ee=oe.getCancelAndContextArgs_("Query.once",b,Q),le=new Z.cY,me=(it,Me)=>{const Ue=new te(this.database,it);p&&p.call(ee.context,Ue,Me),le.resolve(Ue)};me.userCallback=p,me.context=ee.context;const We=it=>{ee.cancel&&ee.cancel.call(ee.context,it),le.reject(it)};switch(A){case"value":td(this._delegate,me,We,{onlyOnce:!0});break;case"child_added":xd(this._delegate,me,We,{onlyOnce:!0});break;case"child_removed":Zh(this._delegate,me,We,{onlyOnce:!0});break;case"child_changed":Rd(this._delegate,me,We,{onlyOnce:!0});break;case"child_moved":HA(this._delegate,me,We,{onlyOnce:!0});break;default:throw new Error((0,Z.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return le.promise}limitToFirst(A){return(0,Z.od)("Query.limitToFirst",1,1,arguments.length),new oe(this.database,Dl(this._delegate,function eh(m){if("number"!=typeof m||Math.floor(m)!==m||m<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new nA(m)}(A)))}limitToLast(A){return(0,Z.od)("Query.limitToLast",1,1,arguments.length),new oe(this.database,Dl(this._delegate,function tf(m){if("number"!=typeof m||Math.floor(m)!==m||m<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new $A(m)}(A)))}orderByChild(A){return(0,Z.od)("Query.orderByChild",1,1,arguments.length),new oe(this.database,Dl(this._delegate,function th(m){if("$key"===m)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===m)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===m)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return yl("orderByChild","path",m,!1),new Df(m)}(A)))}orderByKey(){return(0,Z.od)("Query.orderByKey",0,0,arguments.length),new oe(this.database,Dl(this._delegate,function Rf(){return new xf}()))}orderByPriority(){return(0,Z.od)("Query.orderByPriority",0,0,arguments.length),new oe(this.database,Dl(this._delegate,function Ch(){return new Pu}()))}orderByValue(){return(0,Z.od)("Query.orderByValue",0,0,arguments.length),new oe(this.database,Dl(this._delegate,function dc(){return new ba}()))}startAt(A=null,p){return(0,Z.od)("Query.startAt",0,2,arguments.length),new oe(this.database,Dl(this._delegate,function Yc(m=null,A){return Qs("startAt","key",A,!0),new Zl(m,A)}(A,p)))}startAfter(A=null,p){return(0,Z.od)("Query.startAfter",0,2,arguments.length),new oe(this.database,Dl(this._delegate,function fu(m,A){return Qs("startAfter","key",A,!0),new Ff(m,A)}(A,p)))}endAt(A=null,p){return(0,Z.od)("Query.endAt",0,2,arguments.length),new oe(this.database,Dl(this._delegate,function ef(m,A){return Qs("endAt","key",A,!0),new _A(m,A)}(A,p)))}endBefore(A=null,p){return(0,Z.od)("Query.endBefore",0,2,arguments.length),new oe(this.database,Dl(this._delegate,function Eh(m,A){return Qs("endBefore","key",A,!0),new yA(m,A)}(A,p)))}equalTo(A,p){return(0,Z.od)("Query.equalTo",1,2,arguments.length),new oe(this.database,Dl(this._delegate,function Lc(m,A){return Qs("equalTo","key",A,!0),new Nu(m,A)}(A,p)))}toString(){return(0,Z.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Z.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(A){if((0,Z.od)("Query.isEqual",1,1,arguments.length),!(A instanceof oe))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(A._delegate)}static getCancelAndContextArgs_(A,p,b){const Q={cancel:void 0,context:void 0};if(p&&b)Q.cancel=p,(0,Z.oD)(A,"cancel",Q.cancel,!0),Q.context=b,(0,Z.HN)(A,"context",Q.context,!0);else if(p)if("object"==typeof p&&null!==p)Q.context=p;else{if("function"!=typeof p)throw new Error((0,Z.dI)(A,"cancelOrContext")+" must either be a cancel callback or a context object.");Q.cancel=p}return Q}get ref(){return new ve(this.database,new Ia(this._delegate._repo,this._delegate._path))}}class ve extends oe{constructor(A,p){super(A,new Jl(p._repo,p._path,new Zs,!1)),this.database=A,this._delegate=p}getKey(){return(0,Z.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(A){return(0,Z.od)("Reference.child",1,1,arguments.length),"number"==typeof A&&(A=String(A)),new ve(this.database,Za(this._delegate,A))}getParent(){(0,Z.od)("Reference.parent",0,0,arguments.length);const A=this._delegate.parent;return A?new ve(this.database,A):null}getRoot(){return(0,Z.od)("Reference.root",0,0,arguments.length),new ve(this.database,this._delegate.root)}set(A,p){(0,Z.od)("Reference.set",1,2,arguments.length),(0,Z.oD)("Reference.set","onComplete",p,!0);const b=ed(this._delegate,A);return p&&b.then(()=>p(null),Q=>p(Q)),b}update(A,p){if((0,Z.od)("Reference.update",1,2,arguments.length),Array.isArray(A)){const Q={};for(let ee=0;ee<A.length;++ee)Q[""+ee]=A[ee];A=Q,_("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}pa("Reference.update",this._delegate._path),(0,Z.oD)("Reference.update","onComplete",p,!0);const b=Zd(this._delegate,A);return p&&b.then(()=>p(null),Q=>p(Q)),b}setWithPriority(A,p,b){(0,Z.od)("Reference.setWithPriority",2,3,arguments.length),(0,Z.oD)("Reference.setWithPriority","onComplete",b,!0);const Q=function Ac(m,A,p){if(pa("setWithPriority",m._path),hs("setWithPriority",A,m._path,!1),bo("setWithPriority",p,!1),".length"===m.key||".keys"===m.key)throw"setWithPriority failed: "+m.key+" is a read-only object.";const b=new Z.cY;return Ol(m._repo,m._path,A,p,b.wrapCallback(()=>{})),b.promise}(this._delegate,A,p);return b&&Q.then(()=>b(null),ee=>b(ee)),Q}remove(A){(0,Z.od)("Reference.remove",0,1,arguments.length),(0,Z.oD)("Reference.remove","onComplete",A,!0);const p=function Ru(m){return pa("remove",m._path),ed(m,null)}(this._delegate);return A&&p.then(()=>A(null),b=>A(b)),p}transaction(A,p,b){(0,Z.od)("Reference.transaction",1,3,arguments.length),(0,Z.oD)("Reference.transaction","transactionUpdate",A,!1),(0,Z.oD)("Reference.transaction","onComplete",p,!0),function(m,A,p,b){if(void 0!==p&&"boolean"!=typeof p)throw new Error((0,Z.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,b);const Q=function Sh(m,A,p){var b;if(m=(0,Z.Ku)(m),pa("Reference.transaction",m._path),".length"===m.key||".keys"===m.key)throw"Reference.transaction failed: "+m.key+" is a read-only object.";const Q=null===(b=null==p?void 0:p.applyLocally)||void 0===b||b,ee=new Z.cY,me=td(m,()=>{});return function Bf(m,A,p,b,Q,ee){js(m,"transaction on "+A);const le={path:A,update:p,onComplete:b,status:null,order:qt(),applyLocally:ee,retryCount:0,unwatcher:Q,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},me=bd(m,A,void 0);le.currentInputSnapshot=me;const We=le.update(me.val());if(void 0===We)le.unwatcher(),le.currentOutputSnapshotRaw=null,le.currentOutputSnapshotResolved=null,le.onComplete&&le.onComplete(null,!1,le.currentInputSnapshot);else{Su("transaction failed: Data returned ",We,le.path),le.status=0;const it=Ns(m.transactionQueueTree_,A),Me=fl(it)||[];let Ue;Me.push(le),Wc(it,Me),"object"==typeof We&&null!==We&&(0,Z.gR)(We,".priority")?(Ue=(0,Z.yw)(We,".priority"),(0,Z.vA)(Vi(Ue),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Ue=(Rc(m.serverSyncTree_,A)||br.EMPTY_NODE).getPriority().val();const dt=wd(m),It=be(We,Ue),F=vo(It,me,dt);le.currentOutputSnapshotRaw=It,le.currentOutputSnapshotResolved=F,le.currentWriteId=Ws(m);const v=jl(m.serverSyncTree_,A,F,le.currentWriteId,le.applyLocally);os(m.eventQueue_,A,v),Sd(m,m.transactionQueueTree_)}}(m._repo,m._path,A,(We,it,Me)=>{let Ue=null;We?ee.reject(We):(Ue=new ic(Me,new Ia(m._repo,m._path),ir),ee.resolve(new Pd(it,Ue)))},me,Q),ee.promise}(this._delegate,A,{applyLocally:b}).then(ee=>new $(ee.committed,new te(this.database,ee.snapshot)));return p&&Q.then(ee=>p(null,ee.committed,ee.snapshot),ee=>p(ee,!1,null)),Q}setPriority(A,p){(0,Z.od)("Reference.setPriority",1,2,arguments.length),(0,Z.oD)("Reference.setPriority","onComplete",p,!0);const b=function mA(m,A){m=(0,Z.Ku)(m),pa("setPriority",m._path),bo("setPriority",A,!1);const p=new Z.cY;return Ol(m._repo,Ri(m._path,".priority"),A,null,p.wrapCallback(()=>{})),p.promise}(this._delegate,A);return p&&b.then(()=>p(null),Q=>p(Q)),b}push(A,p){(0,Z.od)("Reference.push",0,2,arguments.length),(0,Z.oD)("Reference.push","onComplete",p,!0);const b=function Cc(m,A){m=(0,Z.Ku)(m),pa("push",m._path),hs("push",A,m._path,!0);const p=Xd(m._repo),b=Fu(p),Q=Za(m,b),ee=Za(m,b);let le;return le=null!=A?ed(ee,A).then(()=>ee):Promise.resolve(ee),Q.then=le.then.bind(le),Q.catch=le.then.bind(le,void 0),Q}(this._delegate,A),Q=b.then(le=>new ve(this.database,le));p&&Q.then(()=>p(null),le=>p(le));const ee=new ve(this.database,b);return ee.then=Q.then.bind(Q),ee.catch=Q.catch.bind(Q,void 0),ee}onDisconnect(){return pa("Reference.onDisconnect",this._delegate._path),new U(new eA(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Oe{constructor(A,p){this._delegate=A,this.app=p,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Ih,forceLongPolling:rf}}useEmulator(A,p,b={}){!function rA(m,A,p,b={}){(m=(0,Z.Ku)(m))._checkNotDeleted("useEmulator"),m._instanceStarted&&Cn("Cannot call useEmulator() after instance has already been initialized.");const Q=m._repoInternal;let ee;if(Q.repoInfo_.nodeAdmin)b.mockUserToken&&Cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),ee=new Wi(Wi.OWNER);else if(b.mockUserToken){const le="string"==typeof b.mockUserToken?b.mockUserToken:(0,Z.Fy)(b.mockUserToken,m.app.options.projectId);ee=new Wi(le)}!function wA(m,A,p,b){m.repoInfo_=new eo(`${A}:${p}`,!1,m.repoInfo_.namespace,m.repoInfo_.webSocketOnly,m.repoInfo_.nodeAdmin,m.repoInfo_.persistenceKey,m.repoInfo_.includeNamespaceInQueryParams,!0),b&&(m.authTokenProvider_=b)}(Q,A,p,ee)}(this._delegate,A,p,b)}ref(A){if((0,Z.od)("database.ref",0,1,arguments.length),A instanceof ve){const p=xu(this._delegate,A.toString());return new ve(this,p)}{const p=tA(this._delegate,A);return new ve(this,p)}}refFromURL(A){(0,Z.od)("database.refFromURL",1,1,arguments.length);const b=xu(this._delegate,A);return new ve(this,b)}goOffline(){return(0,Z.od)("database.goOffline",0,0,arguments.length),function sf(m){(m=(0,Z.Ku)(m))._checkNotDeleted("goOffline"),ZA(m._repo)}(this._delegate)}goOnline(){return(0,Z.od)("database.goOnline",0,0,arguments.length),function oh(m){(m=(0,Z.Ku)(m))._checkNotDeleted("goOnline"),function Fl(m){m.persistentConnection_&&m.persistentConnection_.resume(Ju)}(m._repo)}(this._delegate)}}Oe.ServerValue={TIMESTAMP:function rp(){return np}(),increment:m=>function kf(m){return{".sv":{increment:m}}}(m)};var ct=Object.freeze({__proto__:null,initStandalone:function he({app:m,url:A,version:p,customAuthImpl:b,customAppCheckImpl:Q,namespace:ee,nodeAdmin:le=!1}){Ct(p);const me=new e.h1("database-standalone"),We=new e.Kq("auth-internal",me);let it;return We.setComponent(new e.uA("auth-internal",()=>b,"PRIVATE")),Q&&(it=new e.Kq("app-check-internal",me),it.setComponent(new e.uA("app-check-internal",()=>Q,"PRIVATE"))),{instance:new Oe(EA(m,We,it,A,le),m),namespace:ee}}});const at=Oe.ServerValue;!function ht(m){m.INTERNAL.registerComponent(new e.uA("database-compat",(A,{instanceIdentifier:p})=>{const b=A.getProvider("app-compat").getImmediate(),Q=A.getProvider("database").getImmediate({identifier:p});return new Oe(Q,b)},"PUBLIC").setServiceProps({Reference:ve,Query:oe,Database:Oe,DataSnapshot:te,enableLogging:kd,INTERNAL:ct,ServerValue:at}).setMultipleInstances(!0)),m.registerVersion("@firebase/database-compat","1.0.5")}(w.A)},4666:(Kr,dn,Be)=>{"use strict";var Ut,Ct,w=Be(3345),e=Be(467),wt=Be(7852),ot=Be(1362),Z=Be(8041),tt=Be(1076),Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nt={};(function(){var l;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function f(on,kt,$t){$t||($t=0);var Xt=Array(16);if("string"==typeof kt)for(var En=0;16>En;++En)Xt[En]=kt.charCodeAt($t++)|kt.charCodeAt($t++)<<8|kt.charCodeAt($t++)<<16|kt.charCodeAt($t++)<<24;else for(En=0;16>En;++En)Xt[En]=kt[$t++]|kt[$t++]<<8|kt[$t++]<<16|kt[$t++]<<24;var Hn=on.g[3],Gt=(kt=on.g[0])+(Hn^($t=on.g[1])&((En=on.g[2])^Hn))+Xt[0]+3614090360&4294967295;Gt=($t=(En=(Hn=(kt=($t=(En=(Hn=(kt=($t=(En=(Hn=(kt=($t=(En=(Hn=(kt=($t=(En=(Hn=(kt=($t=(En=(Hn=(kt=($t=(En=(Hn=(kt=($t=(En=(Hn=(kt=($t=(En=(Hn=(kt=($t=(En=(Hn=(kt=($t=(En=(Hn=(kt=($t=(En=(Hn=(kt=($t=(En=(Hn=(kt=($t=(En=(Hn=(kt=($t=(En=(Hn=(kt=$t+(Gt<<7&4294967295|Gt>>>25))+((Gt=Hn+(En^kt&($t^En))+Xt[1]+3905402710&4294967295)<<12&4294967295|Gt>>>20))+((Gt=En+($t^Hn&(kt^$t))+Xt[2]+606105819&4294967295)<<17&4294967295|Gt>>>15))+((Gt=$t+(kt^En&(Hn^kt))+Xt[3]+3250441966&4294967295)<<22&4294967295|Gt>>>10))+((Gt=kt+(Hn^$t&(En^Hn))+Xt[4]+4118548399&4294967295)<<7&4294967295|Gt>>>25))+((Gt=Hn+(En^kt&($t^En))+Xt[5]+1200080426&4294967295)<<12&4294967295|Gt>>>20))+((Gt=En+($t^Hn&(kt^$t))+Xt[6]+2821735955&4294967295)<<17&4294967295|Gt>>>15))+((Gt=$t+(kt^En&(Hn^kt))+Xt[7]+4249261313&4294967295)<<22&4294967295|Gt>>>10))+((Gt=kt+(Hn^$t&(En^Hn))+Xt[8]+1770035416&4294967295)<<7&4294967295|Gt>>>25))+((Gt=Hn+(En^kt&($t^En))+Xt[9]+2336552879&4294967295)<<12&4294967295|Gt>>>20))+((Gt=En+($t^Hn&(kt^$t))+Xt[10]+4294925233&4294967295)<<17&4294967295|Gt>>>15))+((Gt=$t+(kt^En&(Hn^kt))+Xt[11]+2304563134&4294967295)<<22&4294967295|Gt>>>10))+((Gt=kt+(Hn^$t&(En^Hn))+Xt[12]+1804603682&4294967295)<<7&4294967295|Gt>>>25))+((Gt=Hn+(En^kt&($t^En))+Xt[13]+4254626195&4294967295)<<12&4294967295|Gt>>>20))+((Gt=En+($t^Hn&(kt^$t))+Xt[14]+2792965006&4294967295)<<17&4294967295|Gt>>>15))+((Gt=$t+(kt^En&(Hn^kt))+Xt[15]+1236535329&4294967295)<<22&4294967295|Gt>>>10))+((Gt=kt+(En^Hn&($t^En))+Xt[1]+4129170786&4294967295)<<5&4294967295|Gt>>>27))+((Gt=Hn+($t^En&(kt^$t))+Xt[6]+3225465664&4294967295)<<9&4294967295|Gt>>>23))+((Gt=En+(kt^$t&(Hn^kt))+Xt[11]+643717713&4294967295)<<14&4294967295|Gt>>>18))+((Gt=$t+(Hn^kt&(En^Hn))+Xt[0]+3921069994&4294967295)<<20&4294967295|Gt>>>12))+((Gt=kt+(En^Hn&($t^En))+Xt[5]+3593408605&4294967295)<<5&4294967295|Gt>>>27))+((Gt=Hn+($t^En&(kt^$t))+Xt[10]+38016083&4294967295)<<9&4294967295|Gt>>>23))+((Gt=En+(kt^$t&(Hn^kt))+Xt[15]+3634488961&4294967295)<<14&4294967295|Gt>>>18))+((Gt=$t+(Hn^kt&(En^Hn))+Xt[4]+3889429448&4294967295)<<20&4294967295|Gt>>>12))+((Gt=kt+(En^Hn&($t^En))+Xt[9]+568446438&4294967295)<<5&4294967295|Gt>>>27))+((Gt=Hn+($t^En&(kt^$t))+Xt[14]+3275163606&4294967295)<<9&4294967295|Gt>>>23))+((Gt=En+(kt^$t&(Hn^kt))+Xt[3]+4107603335&4294967295)<<14&4294967295|Gt>>>18))+((Gt=$t+(Hn^kt&(En^Hn))+Xt[8]+1163531501&4294967295)<<20&4294967295|Gt>>>12))+((Gt=kt+(En^Hn&($t^En))+Xt[13]+2850285829&4294967295)<<5&4294967295|Gt>>>27))+((Gt=Hn+($t^En&(kt^$t))+Xt[2]+4243563512&4294967295)<<9&4294967295|Gt>>>23))+((Gt=En+(kt^$t&(Hn^kt))+Xt[7]+1735328473&4294967295)<<14&4294967295|Gt>>>18))+((Gt=$t+(Hn^kt&(En^Hn))+Xt[12]+2368359562&4294967295)<<20&4294967295|Gt>>>12))+((Gt=kt+($t^En^Hn)+Xt[5]+4294588738&4294967295)<<4&4294967295|Gt>>>28))+((Gt=Hn+(kt^$t^En)+Xt[8]+2272392833&4294967295)<<11&4294967295|Gt>>>21))+((Gt=En+(Hn^kt^$t)+Xt[11]+1839030562&4294967295)<<16&4294967295|Gt>>>16))+((Gt=$t+(En^Hn^kt)+Xt[14]+4259657740&4294967295)<<23&4294967295|Gt>>>9))+((Gt=kt+($t^En^Hn)+Xt[1]+2763975236&4294967295)<<4&4294967295|Gt>>>28))+((Gt=Hn+(kt^$t^En)+Xt[4]+1272893353&4294967295)<<11&4294967295|Gt>>>21))+((Gt=En+(Hn^kt^$t)+Xt[7]+4139469664&4294967295)<<16&4294967295|Gt>>>16))+((Gt=$t+(En^Hn^kt)+Xt[10]+3200236656&4294967295)<<23&4294967295|Gt>>>9))+((Gt=kt+($t^En^Hn)+Xt[13]+681279174&4294967295)<<4&4294967295|Gt>>>28))+((Gt=Hn+(kt^$t^En)+Xt[0]+3936430074&4294967295)<<11&4294967295|Gt>>>21))+((Gt=En+(Hn^kt^$t)+Xt[3]+3572445317&4294967295)<<16&4294967295|Gt>>>16))+((Gt=$t+(En^Hn^kt)+Xt[6]+76029189&4294967295)<<23&4294967295|Gt>>>9))+((Gt=kt+($t^En^Hn)+Xt[9]+3654602809&4294967295)<<4&4294967295|Gt>>>28))+((Gt=Hn+(kt^$t^En)+Xt[12]+3873151461&4294967295)<<11&4294967295|Gt>>>21))+((Gt=En+(Hn^kt^$t)+Xt[15]+530742520&4294967295)<<16&4294967295|Gt>>>16))+((Gt=$t+(En^Hn^kt)+Xt[2]+3299628645&4294967295)<<23&4294967295|Gt>>>9))+((Gt=kt+(En^($t|~Hn))+Xt[0]+4096336452&4294967295)<<6&4294967295|Gt>>>26))+((Gt=Hn+($t^(kt|~En))+Xt[7]+1126891415&4294967295)<<10&4294967295|Gt>>>22))+((Gt=En+(kt^(Hn|~$t))+Xt[14]+2878612391&4294967295)<<15&4294967295|Gt>>>17))+((Gt=$t+(Hn^(En|~kt))+Xt[5]+4237533241&4294967295)<<21&4294967295|Gt>>>11))+((Gt=kt+(En^($t|~Hn))+Xt[12]+1700485571&4294967295)<<6&4294967295|Gt>>>26))+((Gt=Hn+($t^(kt|~En))+Xt[3]+2399980690&4294967295)<<10&4294967295|Gt>>>22))+((Gt=En+(kt^(Hn|~$t))+Xt[10]+4293915773&4294967295)<<15&4294967295|Gt>>>17))+((Gt=$t+(Hn^(En|~kt))+Xt[1]+2240044497&4294967295)<<21&4294967295|Gt>>>11))+((Gt=kt+(En^($t|~Hn))+Xt[8]+1873313359&4294967295)<<6&4294967295|Gt>>>26))+((Gt=Hn+($t^(kt|~En))+Xt[15]+4264355552&4294967295)<<10&4294967295|Gt>>>22))+((Gt=En+(kt^(Hn|~$t))+Xt[6]+2734768916&4294967295)<<15&4294967295|Gt>>>17))+((Gt=$t+(Hn^(En|~kt))+Xt[13]+1309151649&4294967295)<<21&4294967295|Gt>>>11))+((Hn=(kt=$t+((Gt=kt+(En^($t|~Hn))+Xt[4]+4149444226&4294967295)<<6&4294967295|Gt>>>26))+((Gt=Hn+($t^(kt|~En))+Xt[11]+3174756917&4294967295)<<10&4294967295|Gt>>>22))^((En=Hn+((Gt=En+(kt^(Hn|~$t))+Xt[2]+718787259&4294967295)<<15&4294967295|Gt>>>17))|~kt))+Xt[9]+3951481745&4294967295,on.g[0]=on.g[0]+kt&4294967295,on.g[1]=on.g[1]+(En+(Gt<<21&4294967295|Gt>>>11))&4294967295,on.g[2]=on.g[2]+En&4294967295,on.g[3]=on.g[3]+Hn&4294967295}function D(on,kt){this.h=kt;for(var $t=[],Xt=!0,En=on.length-1;0<=En;En--){var Hn=0|on[En];Xt&&Hn==kt||($t[En]=Hn,Xt=!1)}this.g=$t}(function n(on,kt){function $t(){}$t.prototype=kt.prototype,on.D=kt.prototype,on.prototype=new $t,on.prototype.constructor=on,on.C=function(Xt,En,Hn){for(var Gt=Array(arguments.length-2),sc=2;sc<arguments.length;sc++)Gt[sc-2]=arguments[sc];return kt.prototype[En].apply(Xt,Gt)}})(a,function i(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(on,kt){void 0===kt&&(kt=on.length);for(var $t=kt-this.blockSize,Xt=this.B,En=this.h,Hn=0;Hn<kt;){if(0==En)for(;Hn<=$t;)f(this,on,Hn),Hn+=this.blockSize;if("string"==typeof on){for(;Hn<kt;)if(Xt[En++]=on.charCodeAt(Hn++),En==this.blockSize){f(this,Xt),En=0;break}}else for(;Hn<kt;)if(Xt[En++]=on[Hn++],En==this.blockSize){f(this,Xt),En=0;break}}this.h=En,this.o+=kt},a.prototype.v=function(){var on=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);on[0]=128;for(var kt=1;kt<on.length-8;++kt)on[kt]=0;var $t=8*this.o;for(kt=on.length-8;kt<on.length;++kt)on[kt]=255&$t,$t/=256;for(this.u(on),on=Array(16),kt=$t=0;4>kt;++kt)for(var Xt=0;32>Xt;Xt+=8)on[$t++]=this.g[kt]>>>Xt&255;return on};var G={};function X(on){return-128<=on&&128>on?function E(on,kt){var $t=G;return Object.prototype.hasOwnProperty.call($t,on)?$t[on]:$t[on]=kt(on)}(on,function(kt){return new D([0|kt],0>kt?-1:0)}):new D([0|on],0>on?-1:0)}function fe(on){if(isNaN(on)||!isFinite(on))return Re;if(0>on)return Ln(fe(-on));for(var kt=[],$t=1,Xt=0;on>=$t;Xt++)kt[Xt]=on/$t|0,$t*=4294967296;return new D(kt,0)}var Re=X(0),$e=X(1),xt=X(16777216);function nn(on){if(0!=on.h)return!1;for(var kt=0;kt<on.g.length;kt++)if(0!=on.g[kt])return!1;return!0}function hn(on){return-1==on.h}function Ln(on){for(var kt=on.g.length,$t=[],Xt=0;Xt<kt;Xt++)$t[Xt]=~on.g[Xt];return new D($t,~on.h).add($e)}function nr(on,kt){return on.add(Ln(kt))}function Rr(on,kt){for(;(65535&on[kt])!=on[kt];)on[kt+1]+=on[kt]>>>16,on[kt]&=65535,kt++}function rr(on,kt){this.g=on,this.h=kt}function Ti(on,kt){if(nn(kt))throw Error("division by zero");if(nn(on))return new rr(Re,Re);if(hn(on))return kt=Ti(Ln(on),kt),new rr(Ln(kt.g),Ln(kt.h));if(hn(kt))return kt=Ti(on,Ln(kt)),new rr(Ln(kt.g),kt.h);if(30<on.g.length){if(hn(on)||hn(kt))throw Error("slowDivide_ only works with positive integers.");for(var $t=$e,Xt=kt;0>=Xt.l(on);)$t=mo($t),Xt=mo(Xt);var En=Fi($t,1),Hn=Fi(Xt,1);for(Xt=Fi(Xt,2),$t=Fi($t,2);!nn(Xt);){var Gt=Hn.add(Xt);0>=Gt.l(on)&&(En=En.add($t),Hn=Gt),Xt=Fi(Xt,1),$t=Fi($t,1)}return kt=nr(on,En.j(kt)),new rr(En,kt)}for(En=Re;0<=on.l(kt);){for($t=Math.max(1,Math.floor(on.m()/kt.m())),Xt=48>=(Xt=Math.ceil(Math.log($t)/Math.LN2))?1:Math.pow(2,Xt-48),Gt=(Hn=fe($t)).j(kt);hn(Gt)||0<Gt.l(on);)Gt=(Hn=fe($t-=Xt)).j(kt);nn(Hn)&&(Hn=$e),En=En.add(Hn),on=nr(on,Gt)}return new rr(En,on)}function mo(on){for(var kt=on.g.length+1,$t=[],Xt=0;Xt<kt;Xt++)$t[Xt]=on.i(Xt)<<1|on.i(Xt-1)>>>31;return new D($t,on.h)}function Fi(on,kt){var $t=kt>>5;kt%=32;for(var Xt=on.g.length-$t,En=[],Hn=0;Hn<Xt;Hn++)En[Hn]=0<kt?on.i(Hn+$t)>>>kt|on.i(Hn+$t+1)<<32-kt:on.i(Hn+$t);return new D(En,on.h)}(l=D.prototype).m=function(){if(hn(this))return-Ln(this).m();for(var on=0,kt=1,$t=0;$t<this.g.length;$t++){var Xt=this.i($t);on+=(0<=Xt?Xt:4294967296+Xt)*kt,kt*=4294967296}return on},l.toString=function(on){if(2>(on=on||10)||36<on)throw Error("radix out of range: "+on);if(nn(this))return"0";if(hn(this))return"-"+Ln(this).toString(on);for(var kt=fe(Math.pow(on,6)),$t=this,Xt="";;){var En=Ti($t,kt).g,Hn=((0<($t=nr($t,En.j(kt))).g.length?$t.g[0]:$t.h)>>>0).toString(on);if(nn($t=En))return Hn+Xt;for(;6>Hn.length;)Hn="0"+Hn;Xt=Hn+Xt}},l.i=function(on){return 0>on?0:on<this.g.length?this.g[on]:this.h},l.l=function(on){return hn(on=nr(this,on))?-1:nn(on)?0:1},l.abs=function(){return hn(this)?Ln(this):this},l.add=function(on){for(var kt=Math.max(this.g.length,on.g.length),$t=[],Xt=0,En=0;En<=kt;En++){var Hn=Xt+(65535&this.i(En))+(65535&on.i(En)),Gt=(Hn>>>16)+(this.i(En)>>>16)+(on.i(En)>>>16);Xt=Gt>>>16,$t[En]=(Gt&=65535)<<16|(Hn&=65535)}return new D($t,-2147483648&$t[$t.length-1]?-1:0)},l.j=function(on){if(nn(this)||nn(on))return Re;if(hn(this))return hn(on)?Ln(this).j(Ln(on)):Ln(Ln(this).j(on));if(hn(on))return Ln(this.j(Ln(on)));if(0>this.l(xt)&&0>on.l(xt))return fe(this.m()*on.m());for(var kt=this.g.length+on.g.length,$t=[],Xt=0;Xt<2*kt;Xt++)$t[Xt]=0;for(Xt=0;Xt<this.g.length;Xt++)for(var En=0;En<on.g.length;En++){var Hn=this.i(Xt)>>>16,Gt=65535&this.i(Xt),sc=on.i(En)>>>16,xa=65535&on.i(En);$t[2*Xt+2*En]+=Gt*xa,Rr($t,2*Xt+2*En),$t[2*Xt+2*En+1]+=Hn*xa,Rr($t,2*Xt+2*En+1),$t[2*Xt+2*En+1]+=Gt*sc,Rr($t,2*Xt+2*En+1),$t[2*Xt+2*En+2]+=Hn*sc,Rr($t,2*Xt+2*En+2)}for(Xt=0;Xt<kt;Xt++)$t[Xt]=$t[2*Xt+1]<<16|$t[2*Xt];for(Xt=kt;Xt<2*kt;Xt++)$t[Xt]=0;return new D($t,0)},l.A=function(on){return Ti(this,on).h},l.and=function(on){for(var kt=Math.max(this.g.length,on.g.length),$t=[],Xt=0;Xt<kt;Xt++)$t[Xt]=this.i(Xt)&on.i(Xt);return new D($t,this.h&on.h)},l.or=function(on){for(var kt=Math.max(this.g.length,on.g.length),$t=[],Xt=0;Xt<kt;Xt++)$t[Xt]=this.i(Xt)|on.i(Xt);return new D($t,this.h|on.h)},l.xor=function(on){for(var kt=Math.max(this.g.length,on.g.length),$t=[],Xt=0;Xt<kt;Xt++)$t[Xt]=this.i(Xt)^on.i(Xt);return new D($t,this.h^on.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Ct=Nt.Md5=a,D.prototype.add=D.prototype.add,D.prototype.multiply=D.prototype.j,D.prototype.modulo=D.prototype.A,D.prototype.compare=D.prototype.l,D.prototype.toNumber=D.prototype.m,D.prototype.toString=D.prototype.toString,D.prototype.getBits=D.prototype.i,D.fromNumber=fe,D.fromString=function xe(on,kt){if(0==on.length)throw Error("number format error: empty string");if(2>(kt=kt||10)||36<kt)throw Error("radix out of range: "+kt);if("-"==on.charAt(0))return Ln(xe(on.substring(1),kt));if(0<=on.indexOf("-"))throw Error('number format error: interior "-" character');for(var $t=fe(Math.pow(kt,8)),Xt=Re,En=0;En<on.length;En+=8){var Hn=Math.min(8,on.length-En),Gt=parseInt(on.substring(En,En+Hn),kt);8>Hn?(Hn=fe(Math.pow(kt,Hn)),Xt=Xt.j(Hn).add(fe(Gt))):Xt=(Xt=Xt.j($t)).add(fe(Gt))}return Xt},Ut=Nt.Integer=D}).apply(typeof Ze<"u"?Ze:typeof self<"u"?self:typeof window<"u"?window:{});var Mt,Ft,An,mn,qt,tn,Un,gn,Tn,et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vt={};(function(){var l,n="function"==typeof Object.defineProperties?Object.defineProperty:function(k,de,ke){return k==Array.prototype||k==Object.prototype||(k[de]=ke.value),k},a=function i(k){k=["object"==typeof globalThis&&globalThis,k,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof et&&et];for(var de=0;de<k.length;++de){var ke=k[de];if(ke&&ke.Math==Math)return ke}throw Error("Cannot find global object")}(this);!function f(k,de){if(de)e:{var ke=a;k=k.split(".");for(var mt=0;mt<k.length-1;mt++){var Gn=k[mt];if(!(Gn in ke))break e;ke=ke[Gn]}(de=de(mt=ke[k=k[k.length-1]]))!=mt&&null!=de&&n(ke,k,{configurable:!0,writable:!0,value:de})}}("Array.prototype.values",function(k){return k||function(){return function E(k,de){k instanceof String&&(k+="");var ke=0,mt=!1,Gn={next:function(){if(!mt&&ke<k.length){var ur=ke++;return{value:de(ur,k[ur]),done:!1}}return mt=!0,{done:!0,value:void 0}}};return Gn[Symbol.iterator]=function(){return Gn},Gn}(this,function(de,ke){return ke})}});var D=D||{},G=this||self;function X(k){var de=typeof k;return"array"==(de="object"!=de?de:k?Array.isArray(k)?"array":de:"null")||"object"==de&&"number"==typeof k.length}function fe(k){var de=typeof k;return"object"==de&&null!=k||"function"==de}function xe(k,de,ke){return k.call.apply(k.bind,arguments)}function Re(k,de,ke){if(!k)throw Error();if(2<arguments.length){var mt=Array.prototype.slice.call(arguments,2);return function(){var Gn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Gn,mt),k.apply(de,Gn)}}return function(){return k.apply(de,arguments)}}function $e(k,de,ke){return($e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xe:Re).apply(null,arguments)}function xt(k,de){var ke=Array.prototype.slice.call(arguments,1);return function(){var mt=ke.slice();return mt.push.apply(mt,arguments),k.apply(this,mt)}}function nn(k,de){function ke(){}ke.prototype=de.prototype,k.aa=de.prototype,k.prototype=new ke,k.prototype.constructor=k,k.Qb=function(mt,Gn,ur){for(var yi=Array(arguments.length-2),Vl=2;Vl<arguments.length;Vl++)yi[Vl-2]=arguments[Vl];return de.prototype[Gn].apply(mt,yi)}}function hn(k){const de=k.length;if(0<de){const ke=Array(de);for(let mt=0;mt<de;mt++)ke[mt]=k[mt];return ke}return[]}function Ln(k,de){for(let ke=1;ke<arguments.length;ke++){const mt=arguments[ke];if(X(mt)){const Gn=k.length||0,ur=mt.length||0;k.length=Gn+ur;for(let yi=0;yi<ur;yi++)k[Gn+yi]=mt[yi]}else k.push(mt)}}function Rr(k){return/^[\s\xa0]*$/.test(k)}function rr(){var k=G.navigator;return k&&(k=k.userAgent)?k:""}function Ti(k){return Ti[" "](k),k}Ti[" "]=function(){};var mo=!(-1==rr().indexOf("Gecko")||-1!=rr().toLowerCase().indexOf("webkit")&&-1==rr().indexOf("Edge")||-1!=rr().indexOf("Trident")||-1!=rr().indexOf("MSIE")||-1!=rr().indexOf("Edge"));function Fi(k,de,ke){for(const mt in k)de.call(ke,k[mt],mt,k)}function kt(k){const de={};for(const ke in k)de[ke]=k[ke];return de}const $t="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xt(k,de){let ke,mt;for(let Gn=1;Gn<arguments.length;Gn++){for(ke in mt=arguments[Gn],mt)k[ke]=mt[ke];for(let ur=0;ur<$t.length;ur++)ke=$t[ur],Object.prototype.hasOwnProperty.call(mt,ke)&&(k[ke]=mt[ke])}}function En(k){var de=1;k=k.split(":");const ke=[];for(;0<de&&k.length;)ke.push(k.shift()),de--;return k.length&&ke.push(k.join(":")),ke}function Hn(k){G.setTimeout(()=>{throw k},0)}function Gt(){var k=ru;let de=null;return k.g&&(de=k.g,k.g=k.g.next,k.g||(k.h=null),de.next=null),de}var xa=new class nr{constructor(de,ke){this.i=de,this.j=ke,this.h=0,this.g=null}get(){let de;return 0<this.h?(this.h--,de=this.g,this.g=de.next,de.next=null):de=this.i(),de}}(()=>new hd,k=>k.reset());class hd{constructor(){this.next=this.g=this.h=null}set(de,ke){this.h=de,this.g=ke,this.next=null}reset(){this.next=this.g=this.h=null}}let Uu,fc=!1,ru=new class sc{constructor(){this.h=this.g=null}add(de,ke){const mt=xa.get();mt.set(de,ke),this.h?this.h.next=mt:this.g=mt,this.h=mt}},Vu=()=>{const k=G.Promise.resolve(void 0);Uu=()=>{k.then(xA)}};var xA=()=>{for(var k;k=Gt();){try{k.h.call(k.g)}catch(ke){Hn(ke)}var de=xa;de.j(k),100>de.h&&(de.h++,k.next=de.g,de.g=k)}fc=!1};function Qu(){this.s=this.s,this.C=this.C}function Ha(k,de){this.type=k,this.g=this.target=de,this.defaultPrevented=!1}Qu.prototype.s=!1,Qu.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qu.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ha.prototype.h=function(){this.defaultPrevented=!0};var Ef=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var k=!1,de=Object.defineProperty({},"passive",{get:function(){k=!0}});try{const ke=()=>{};G.addEventListener("test",ke,de),G.removeEventListener("test",ke,de)}catch{}return k}();function fh(k,de){if(Ha.call(this,k?k.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,k){var ke=this.type=k.type,mt=k.changedTouches&&k.changedTouches.length?k.changedTouches[0]:null;if(this.target=k.target||k.srcElement,this.g=de,de=k.relatedTarget){if(mo){e:{try{Ti(de.nodeName);var Gn=!0;break e}catch{}Gn=!1}Gn||(de=null)}}else"mouseover"==ke?de=k.fromElement:"mouseout"==ke&&(de=k.toElement);this.relatedTarget=de,mt?(this.clientX=void 0!==mt.clientX?mt.clientX:mt.pageX,this.clientY=void 0!==mt.clientY?mt.clientY:mt.pageY,this.screenX=mt.screenX||0,this.screenY=mt.screenY||0):(this.clientX=void 0!==k.clientX?k.clientX:k.pageX,this.clientY=void 0!==k.clientY?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0),this.button=k.button,this.key=k.key||"",this.ctrlKey=k.ctrlKey,this.altKey=k.altKey,this.shiftKey=k.shiftKey,this.metaKey=k.metaKey,this.pointerId=k.pointerId||0,this.pointerType="string"==typeof k.pointerType?k.pointerType:vp[k.pointerType]||"",this.state=k.state,this.i=k,k.defaultPrevented&&fh.aa.h.call(this)}}nn(fh,Ha);var vp={2:"touch",3:"pen",4:"mouse"};fh.prototype.h=function(){fh.aa.h.call(this);var k=this.i;k.preventDefault?k.preventDefault():k.returnValue=!1};var zd="closure_listenable_"+(1e6*Math.random()|0),pc=0;function cm(k,de,ke,mt,Gn){this.listener=k,this.proxy=null,this.src=de,this.type=ke,this.capture=!!mt,this.ha=Gn,this.key=++pc,this.da=this.fa=!1}function _p(k){k.da=!0,k.listener=null,k.proxy=null,k.src=null,k.ha=null}function qp(k){this.src=k,this.g={},this.h=0}function Vh(k,de){var ke=de.type;if(ke in k.g){var ur,mt=k.g[ke],Gn=Array.prototype.indexOf.call(mt,de,void 0);(ur=0<=Gn)&&Array.prototype.splice.call(mt,Gn,1),ur&&(_p(de),0==k.g[ke].length&&(delete k.g[ke],k.h--))}}function ph(k,de,ke,mt){for(var Gn=0;Gn<k.length;++Gn){var ur=k[Gn];if(!ur.da&&ur.listener==de&&ur.capture==!!ke&&ur.ha==mt)return Gn}return-1}qp.prototype.add=function(k,de,ke,mt,Gn){var ur=k.toString();(k=this.g[ur])||(k=this.g[ur]=[],this.h++);var yi=ph(k,de,mt,Gn);return-1<yi?(de=k[yi],ke||(de.fa=!1)):((de=new cm(de,this.src,ur,!!mt,Gn)).fa=ke,k.push(de)),de};var Qh="closure_lm_"+(1e6*Math.random()|0),fd={};function yp(k,de,ke,mt,Gn){if(mt&&mt.once)return Ep(k,de,ke,mt,Gn);if(Array.isArray(de)){for(var ur=0;ur<de.length;ur++)yp(k,de[ur],ke,mt,Gn);return null}return ke=Km(ke),k&&k[zd]?k.K(de,ke,fe(mt)?!!mt.capture:!!mt,Gn):wp(k,de,ke,!1,mt,Gn)}function wp(k,de,ke,mt,Gn,ur){if(!de)throw Error("Invalid event type");var yi=fe(Gn)?!!Gn.capture:!!Gn,Vl=Cp(k);if(Vl||(k[Qh]=Vl=new qp(k)),(ke=Vl.add(de,ke,mt,yi,ur)).proxy)return ke;if(mt=function Sg(){const de=um;return function k(ke){return de.call(k.src,k.listener,ke)}}(),ke.proxy=mt,mt.src=k,mt.listener=ke,k.addEventListener)Ef||(Gn=yi),void 0===Gn&&(Gn=!1),k.addEventListener(de.toString(),mt,Gn);else if(k.attachEvent)k.attachEvent(Gm(de.toString()),mt);else{if(!k.addListener||!k.removeListener)throw Error("addEventListener and attachEvent are unavailable.");k.addListener(mt)}return ke}function Ep(k,de,ke,mt,Gn){if(Array.isArray(de)){for(var ur=0;ur<de.length;ur++)Ep(k,de[ur],ke,mt,Gn);return null}return ke=Km(ke),k&&k[zd]?k.L(de,ke,fe(mt)?!!mt.capture:!!mt,Gn):wp(k,de,ke,!0,mt,Gn)}function $m(k,de,ke,mt,Gn){if(Array.isArray(de))for(var ur=0;ur<de.length;ur++)$m(k,de[ur],ke,mt,Gn);else mt=fe(mt)?!!mt.capture:!!mt,ke=Km(ke),k&&k[zd]?(k=k.i,(de=String(de).toString())in k.g&&-1<(ke=ph(ur=k.g[de],ke,mt,Gn))&&(_p(ur[ke]),Array.prototype.splice.call(ur,ke,1),0==ur.length&&(delete k.g[de],k.h--))):k&&(k=Cp(k))&&(de=k.g[de.toString()],k=-1,de&&(k=ph(de,ke,mt,Gn)),(ke=-1<k?de[k]:null)&&Tg(ke))}function Tg(k){if("number"!=typeof k&&k&&!k.da){var de=k.src;if(de&&de[zd])Vh(de.i,k);else{var ke=k.type,mt=k.proxy;de.removeEventListener?de.removeEventListener(ke,mt,k.capture):de.detachEvent?de.detachEvent(Gm(ke),mt):de.addListener&&de.removeListener&&de.removeListener(mt),(ke=Cp(de))?(Vh(ke,k),0==ke.h&&(ke.src=null,de[Qh]=null)):_p(k)}}}function Gm(k){return k in fd?fd[k]:fd[k]="on"+k}function um(k,de){if(k.da)k=!0;else{de=new fh(de,this);var ke=k.listener,mt=k.ha||k.src;k.fa&&Tg(k),k=ke.call(mt,de)}return k}function Cp(k){return(k=k[Qh])instanceof qp?k:null}var bv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Km(k){return"function"==typeof k?k:(k[bv]||(k[bv]=function(de){return k.handleEvent(de)}),k[bv])}function ju(){Qu.call(this),this.i=new qp(this),this.M=this,this.F=null}function gc(k,de){var ke,mt=k.F;if(mt)for(ke=[];mt;mt=mt.F)ke.push(mt);if(k=k.M,mt=de.type||de,"string"==typeof de)de=new Ha(de,k);else if(de instanceof Ha)de.target=de.target||k;else{var Gn=de;Xt(de=new Ha(mt,k),Gn)}if(Gn=!0,ke)for(var ur=ke.length-1;0<=ur;ur--){var yi=de.g=ke[ur];Gn=Am(yi,mt,!0,de)&&Gn}if(Gn=Am(yi=de.g=k,mt,!0,de)&&Gn,Gn=Am(yi,mt,!1,de)&&Gn,ke)for(ur=0;ur<ke.length;ur++)Gn=Am(yi=de.g=ke[ur],mt,!1,de)&&Gn}function Am(k,de,ke,mt){if(!(de=k.i.g[String(de)]))return!0;de=de.concat();for(var Gn=!0,ur=0;ur<de.length;++ur){var yi=de[ur];if(yi&&!yi.da&&yi.capture==ke){var Vl=yi.listener,aA=yi.ha||yi.src;yi.fa&&Vh(k.i,yi),Gn=!1!==Vl.call(aA,mt)&&Gn}}return Gn&&!mt.defaultPrevented}function Sv(k,de,ke){if("function"==typeof k)ke&&(k=$e(k,ke));else{if(!k||"function"!=typeof k.handleEvent)throw Error("Invalid listener argument");k=$e(k.handleEvent,k)}return 2147483647<Number(de)?-1:G.setTimeout(k,de||0)}function dm(k){k.g=Sv(()=>{k.g=null,k.i&&(k.i=!1,dm(k))},k.l);const de=k.h;k.h=null,k.m.apply(null,de)}nn(ju,Qu),ju.prototype[zd]=!0,ju.prototype.removeEventListener=function(k,de,ke,mt){$m(this,k,de,ke,mt)},ju.prototype.N=function(){if(ju.aa.N.call(this),this.i){var de,k=this.i;for(de in k.g){for(var ke=k.g[de],mt=0;mt<ke.length;mt++)_p(ke[mt]);delete k.g[de],k.h--}}this.F=null},ju.prototype.K=function(k,de,ke,mt){return this.i.add(String(k),de,!1,ke,mt)},ju.prototype.L=function(k,de,ke,mt){return this.i.add(String(k),de,!0,ke,mt)};class Xp extends Qu{constructor(de,ke){super(),this.m=de,this.l=ke,this.h=null,this.i=!1,this.g=null}j(de){this.h=arguments,this.g?this.i=!0:dm(this)}N(){super.N(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jh(k){Qu.call(this),this.h=k,this.g={}}nn(jh,Qu);var Yp=[];function hm(k){Fi(k.g,function(de,ke){this.g.hasOwnProperty(ke)&&Tg(de)},k),k.g={}}jh.prototype.N=function(){jh.aa.N.call(this),hm(this)},jh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hh=G.JSON.stringify,fm=G.JSON.parse,Bg=class{stringify(k){return G.JSON.stringify(k,void 0)}parse(k){return G.JSON.parse(k,void 0)}};function Kf(){}function Fg(){}Kf.prototype.h=null;var Ip={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dg(){Ha.call(this,"d")}function pd(){Ha.call(this,"c")}nn(Dg,Ha),nn(pd,Ha);var Wf={},qm=null;function pm(){return qm=qm||new ju}function Xm(k){Ha.call(this,Wf.La,k)}function zh(k){const de=pm();gc(de,new Xm(de))}function gm(k,de){Ha.call(this,Wf.STAT_EVENT,k),this.stat=de}function jc(k){const de=pm();gc(de,new gm(de,k))}function Tv(k,de){Ha.call(this,Wf.Ma,k),this.size=de}function Cf(k,de){if("function"!=typeof k)throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){k()},de)}function qf(){this.g=!0}function If(k,de,ke,mt){k.info(function(){return"XMLHTTP TEXT ("+de+"): "+function Xf(k,de){if(!k.g)return de;if(!de)return null;try{var ke=JSON.parse(de);if(ke)for(k=0;k<ke.length;k++)if(Array.isArray(ke[k])){var mt=ke[k];if(!(2>mt.length)){var Gn=mt[1];if(Array.isArray(Gn)&&!(1>Gn.length)){var ur=Gn[0];if("noop"!=ur&&"stop"!=ur&&"close"!=ur)for(var yi=1;yi<Gn.length;yi++)Gn[yi]=""}}}return Hh(ke)}catch{return de}}(k,ke)+(mt?" "+mt:"")})}Wf.La="serverreachability",nn(Xm,Ha),Wf.STAT_EVENT="statevent",nn(gm,Ha),Wf.Ma="timingevent",nn(Tv,Ha),qf.prototype.xa=function(){this.g=!1},qf.prototype.info=function(){};var Rg,$d={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Jp(){}function Yf(k,de,ke,mt){this.j=k,this.i=de,this.l=ke,this.R=mt||1,this.U=new jh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vm}function vm(){this.i=null,this.g="",this.h=!1}nn(Jp,Kf),Jp.prototype.g=function(){return new XMLHttpRequest},Jp.prototype.i=function(){return{}},Rg=new Jp;var bf={},Jm={};function p0(k,de,ke){k.L=1,k.v=Zf(Jf(de)),k.m=ke,k.P=!0,g0(k,null)}function g0(k,de){k.F=Date.now(),m0(k),k.A=Jf(k.v);var ke=k.A,mt=k.R;Array.isArray(mt)||(mt=[String(mt)]),i_(ke.i,"t",mt),k.C=0,ke=k.j.J,k.h=new vm,k.g=Mv(k.j,ke?de:null,!k.m),0<k.O&&(k.M=new Xp($e(k.Y,k,k.g),k.O)),de=k.U,ke=k.g,mt=k.ca;var Gn="readystatechange";Array.isArray(Gn)||(Gn&&(Yp[0]=Gn.toString()),Gn=Yp);for(var ur=0;ur<Gn.length;ur++){var yi=yp(ke,Gn[ur],mt||de.handleEvent,!1,de.h||de);if(!yi)break;de.g[yi.key]=yi}de=k.H?kt(k.H):{},k.m?(k.u||(k.u="POST"),de["Content-Type"]="application/x-www-form-urlencoded",k.g.ea(k.A,k.u,k.m,de)):(k.u="GET",k.g.ea(k.A,k.u,null,de)),zh(),function mm(k,de,ke,mt,Gn,ur){k.info(function(){if(k.g)if(ur)for(var yi="",Vl=ur.split("&"),aA=0;aA<Vl.length;aA++){var za=Vl[aA].split("=");if(1<za.length){var RA=za[0];za=za[1];var kA=RA.split("_");yi=2<=kA.length&&"type"==kA[1]?yi+(RA+"=")+za+"&":yi+(RA+"=redacted&")}}else yi=null;else yi=ur;return"XMLHTTP REQ ("+mt+") [attempt "+Gn+"]: "+de+"\n"+ke+"\n"+yi})}(k.i,k.u,k.A,k.l,k.R,k.m)}function X0(k){return!!k.g&&"GET"==k.u&&2!=k.L&&k.j.Ca}function Y0(k,de){var ke=k.C,mt=de.indexOf("\n",ke);return-1==mt?Jm:(ke=Number(de.substring(ke,mt)),isNaN(ke)?bf:(mt+=1)+ke>de.length?Jm:(de=de.slice(mt,mt+ke),k.C=mt+ke,de))}function m0(k){k.S=Date.now()+k.I,J0(k,k.I)}function J0(k,de){if(null!=k.B)throw Error("WatchDog timer not null");k.B=Cf($e(k.ba,k),de)}function _m(k){k.B&&(G.clearTimeout(k.B),k.B=null)}function ym(k){0==k.j.G||k.J||g_(k.j,k)}function kg(k){_m(k);var de=k.M;de&&"function"==typeof de.ma&&de.ma(),k.M=null,hm(k.U),k.g&&(de=k.g,k.g=null,de.abort(),de.ma())}function v0(k,de){try{var ke=k.j;if(0!=ke.G&&(ke.g==k||$h(ke.h,k)))if(!k.K&&$h(ke.h,k)&&3==ke.G){try{var mt=ke.Da.g.parse(de)}catch{mt=null}if(Array.isArray(mt)&&3==mt.length){var Gn=mt;if(0==Gn[0]){e:if(!ke.u){if(ke.g){if(!(ke.g.F+3e3<k.F))break e;bm(ke),rv(ke)}sv(ke),jc(18)}}else ke.za=Gn[1],0<ke.za-ke.T&&37500>Gn[2]&&ke.F&&0==ke.v&&!ke.C&&(ke.C=Cf($e(ke.Za,ke),6e3));if(1>=_0(ke.h)&&ke.ca){try{ke.ca()}catch{}ke.ca=void 0}}else Og(ke,11)}else if((k.K||ke.g==k)&&bm(ke),!Rr(de))for(Gn=ke.Da.g.parse(de),de=0;de<Gn.length;de++){let za=Gn[de];if(ke.T=za[0],za=za[1],2==ke.G)if("c"==za[0]){ke.K=za[1],ke.ia=za[2];const RA=za[3];null!=RA&&(ke.la=RA,ke.j.info("VER="+ke.la));const kA=za[4];null!=kA&&(ke.Aa=kA,ke.j.info("SVER="+ke.Aa));const Ug=za[5];null!=Ug&&"number"==typeof Ug&&0<Ug&&(ke.L=mt=1.5*Ug,ke.j.info("backChannelRequestTimeoutMs_="+mt)),mt=ke;const Wh=k.g;if(Wh){const Lv=Wh.g?Wh.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lv){var ur=mt.h;ur.g||-1==Lv.indexOf("spdy")&&-1==Lv.indexOf("quic")&&-1==Lv.indexOf("h2")||(ur.j=ur.l,ur.g=new Set,ur.h&&(Fv(ur,ur.h),ur.h=null))}if(mt.D){const y_=Wh.g?Wh.g.getResponseHeader("X-HTTP-Session-Id"):null;y_&&(mt.ya=y_,ac(mt.I,mt.D,y_))}}ke.G=3,ke.l&&ke.l.ua(),ke.ba&&(ke.R=Date.now()-k.F,ke.j.info("Handshake RTT: "+ke.R+"ms"));var yi=k;if((mt=ke).qa=B0(mt,mt.J?mt.ia:null,mt.W),yi.K){Z0(mt.h,yi);var Vl=yi,aA=mt.L;aA&&(Vl.I=aA),Vl.B&&(_m(Vl),m0(Vl)),mt.g=yi}else kv(mt);0<ke.i.length&&iv(ke)}else"stop"!=za[0]&&"close"!=za[0]||Og(ke,7);else 3==ke.G&&("stop"==za[0]||"close"==za[0]?"stop"==za[0]?Og(ke,7):T0(ke):"noop"!=za[0]&&ke.l&&ke.l.ta(za),ke.v=0)}zh()}catch{}}Yf.prototype.ca=function(k){k=k.target;const de=this.M;de&&3==Tp(k)?de.j():this.Y(k)},Yf.prototype.Y=function(k){try{if(k==this.g)e:{const kA=Tp(this.g);var de=this.g.Ba();if(this.g.Z(),!(3>kA)&&(3!=kA||this.g&&(this.h.h||this.g.oa()||b0(this.g)))){this.J||4!=kA||7==de||zh(),_m(this);var ke=this.g.Z();this.X=ke;t:if(X0(this)){var mt=b0(this.g);k="";var Gn=mt.length,ur=4==Tp(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){kg(this),ym(this);var yi="";break t}this.h.i=new G.TextDecoder}for(de=0;de<Gn;de++)this.h.h=!0,k+=this.h.i.decode(mt[de],{stream:!(ur&&de==Gn-1)});mt.length=0,this.h.g+=k,this.C=0,yi=this.h.g}else yi=this.g.oa();if(this.o=200==ke,function Ym(k,de,ke,mt,Gn,ur,yi){k.info(function(){return"XMLHTTP RESP ("+mt+") [ attempt "+Gn+"]: "+de+"\n"+ke+"\n"+ur+" "+yi})}(this.i,this.u,this.A,this.l,this.R,kA,ke),this.o){if(this.T&&!this.K){t:{if(this.g){var Vl,aA=this.g;if((Vl=aA.g?aA.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rr(Vl)){var za=Vl;break t}}za=null}if(!(ke=za)){this.o=!1,this.s=3,jc(12),kg(this),ym(this);break e}If(this.i,this.l,ke,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,v0(this,ke)}if(this.P){let Wh;for(ke=!0;!this.J&&this.C<yi.length;){if(Wh=Y0(this,yi),Wh==Jm){4==kA&&(this.s=4,jc(14),ke=!1),If(this.i,this.l,null,"[Incomplete Response]");break}if(Wh==bf){this.s=4,jc(15),If(this.i,this.l,yi,"[Invalid Chunk]"),ke=!1;break}If(this.i,this.l,Wh,null),v0(this,Wh)}if(X0(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=kA||0!=yi.length||this.h.h||(this.s=1,jc(16),ke=!1),this.o=this.o&&ke,ke){if(0<yi.length&&!this.W){this.W=!0;var RA=this.j;RA.g==this&&RA.ba&&!RA.M&&(RA.j.info("Great, no buffering proxy detected. Bytes received: "+yi.length),Pv(RA),RA.M=!0,jc(11))}}else If(this.i,this.l,yi,"[Invalid Chunked Response]"),kg(this),ym(this)}else If(this.i,this.l,yi,null),v0(this,yi);4==kA&&kg(this),this.o&&!this.J&&(4==kA?g_(this.j,this):(this.o=!1,m0(this)))}else(function d_(k){const de={};k=(k.g&&2<=Tp(k)&&k.g.getAllResponseHeaders()||"").split("\r\n");for(let mt=0;mt<k.length;mt++){if(Rr(k[mt]))continue;var ke=En(k[mt]);const Gn=ke[0];if("string"!=typeof(ke=ke[1]))continue;ke=ke.trim();const ur=de[Gn]||[];de[Gn]=ur,ur.push(ke)}!function on(k,de){for(const ke in k)de.call(void 0,k[ke],ke,k)}(de,function(mt){return mt.join(", ")})})(this.g),400==ke&&0<yi.indexOf("Unknown SID")?(this.s=3,jc(12)):(this.s=0,jc(13)),kg(this),ym(this)}}}catch{}},Yf.prototype.cancel=function(){this.J=!0,kg(this)},Yf.prototype.ba=function(){this.B=null;const k=Date.now();0<=k-this.S?(function gh(k,de){k.info(function(){return"TIMEOUT: "+de})}(this.i,this.A),2!=this.L&&(zh(),jc(17)),kg(this),this.s=2,ym(this)):J0(this,this.S-k)};var ey=class{constructor(k,de){this.g=k,this.map=de}};function Bv(k){this.l=k||10,k=G.PerformanceNavigationTiming?0<(k=G.performance.getEntriesByType("navigation")).length&&("hq"==k[0].nextHopProtocol||"h2"==k[0].nextHopProtocol):!!(G.chrome&&G.chrome.loadTimes&&G.chrome.loadTimes()&&G.chrome.loadTimes().wasFetchedViaSpdy),this.j=k?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ty(k){return!!k.h||!!k.g&&k.g.size>=k.j}function _0(k){return k.h?1:k.g?k.g.size:0}function $h(k,de){return k.h?k.h==de:!!k.g&&k.g.has(de)}function Fv(k,de){k.g?k.g.add(de):k.h=de}function Z0(k,de){k.h&&k.h==de?k.h=null:k.g&&k.g.has(de)&&k.g.delete(de)}function ny(k){if(null!=k.h)return k.i.concat(k.h.D);if(null!=k.g&&0!==k.g.size){let de=k.i;for(const ke of k.g.values())de=de.concat(ke.D);return de}return hn(k.i)}function Dv(k,de){if(k.forEach&&"function"==typeof k.forEach)k.forEach(de,void 0);else if(X(k)||"string"==typeof k)Array.prototype.forEach.call(k,de,void 0);else for(var ke=function ry(k){if(k.na&&"function"==typeof k.na)return k.na();if(!k.V||"function"!=typeof k.V){if(typeof Map<"u"&&k instanceof Map)return Array.from(k.keys());if(!(typeof Set<"u"&&k instanceof Set)){if(X(k)||"string"==typeof k){var de=[];k=k.length;for(var ke=0;ke<k;ke++)de.push(ke);return de}de=[],ke=0;for(const mt in k)de[ke++]=mt;return de}}}(k),mt=function vu(k){if(k.V&&"function"==typeof k.V)return k.V();if(typeof Map<"u"&&k instanceof Map||typeof Set<"u"&&k instanceof Set)return Array.from(k.values());if("string"==typeof k)return k.split("");if(X(k)){for(var de=[],ke=k.length,mt=0;mt<ke;mt++)de.push(k[mt]);return de}for(mt in de=[],ke=0,k)de[ke++]=k[mt];return de}(k),Gn=mt.length,ur=0;ur<Gn;ur++)de.call(void 0,mt[ur],ke&&ke[ur],k)}Bv.prototype.cancel=function(){if(this.i=ny(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const k of this.g.values())k.cancel();this.g.clear()}};var e_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bp(k){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,k instanceof bp){this.h=k.h,Zm(this,k.j),this.o=k.o,this.g=k.g,ev(this,k.s),this.l=k.l;var de=k.i,ke=new Gh;ke.i=de.i,de.g&&(ke.g=new Map(de.g),ke.h=de.h),t_(this,ke),this.m=k.m}else k&&(de=String(k).match(e_))?(this.h=!1,Zm(this,de[1]||"",!0),this.o=wm(de[2]||""),this.g=wm(de[3]||"",!0),ev(this,de[4]),this.l=wm(de[5]||"",!0),t_(this,de[6]||"",!0),this.m=wm(de[7]||"")):(this.h=!1,this.i=new Gh(null,this.h))}function Jf(k){return new bp(k)}function Zm(k,de,ke){k.j=ke?wm(de,!0):de,k.j&&(k.j=k.j.replace(/:$/,""))}function ev(k,de){if(de){if(de=Number(de),isNaN(de)||0>de)throw Error("Bad port number "+de);k.s=de}else k.s=null}function t_(k,de,ke){de instanceof Gh?(k.i=de,function C0(k,de){de&&!k.j&&(Sf(k),k.i=null,k.g.forEach(function(ke,mt){var Gn=mt.toLowerCase();mt!=Gn&&(E0(this,mt),i_(this,Gn,ke))},k)),k.j=de}(k.i,k.h)):(ke||(de=Pg(de,tv)),k.i=new Gh(de,k.h))}function ac(k,de,ke){k.i.set(de,ke)}function Zf(k){return ac(k,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),k}function wm(k,de){return k?de?decodeURI(k.replace(/%25/g,"%2525")):decodeURIComponent(k):""}function Pg(k,de,ke){return"string"==typeof k?(k=encodeURI(k).replace(de,oy),ke&&(k=k.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k):null}function oy(k){return"%"+((k=k.charCodeAt(0))>>4&15).toString(16)+(15&k).toString(16)}bp.prototype.toString=function(){var k=[],de=this.j;de&&k.push(Pg(de,y0,!0),":");var ke=this.g;return(ke||"file"==de)&&(k.push("//"),(de=this.o)&&k.push(Pg(de,y0,!0),"@"),k.push(encodeURIComponent(String(ke)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ke=this.s)&&k.push(":",String(ke))),(ke=this.l)&&(this.g&&"/"!=ke.charAt(0)&&k.push("/"),k.push(Pg(ke,"/"==ke.charAt(0)?r_:n_,!0))),(ke=this.i.toString())&&k.push("?",ke),(ke=this.m)&&k.push("#",Pg(ke,w0)),k.join("")};var y0=/[#\/\?@]/g,n_=/[#\?:]/g,r_=/[#\?]/g,tv=/[#\?@]/g,w0=/#/g;function Gh(k,de){this.h=this.g=null,this.i=k||null,this.j=!!de}function Sf(k){k.g||(k.g=new Map,k.h=0,k.i&&function iy(k,de){if(k){k=k.split("&");for(var ke=0;ke<k.length;ke++){var mt=k[ke].indexOf("="),Gn=null;if(0<=mt){var ur=k[ke].substring(0,mt);Gn=k[ke].substring(mt+1)}else ur=k[ke];de(ur,Gn?decodeURIComponent(Gn.replace(/\+/g," ")):"")}}}(k.i,function(de,ke){k.add(decodeURIComponent(de.replace(/\+/g," ")),ke)}))}function E0(k,de){Sf(k),de=Cm(k,de),k.g.has(de)&&(k.i=null,k.h-=k.g.get(de).length,k.g.delete(de))}function Em(k,de){return Sf(k),de=Cm(k,de),k.g.has(de)}function i_(k,de,ke){E0(k,de),0<ke.length&&(k.i=null,k.g.set(Cm(k,de),hn(ke)),k.h+=ke.length)}function Cm(k,de){return de=String(de),k.j&&(de=de.toLowerCase()),de}function Kh(k,de,ke,mt,Gn){try{Gn&&(Gn.onload=null,Gn.onerror=null,Gn.onabort=null,Gn.ontimeout=null),mt(ke)}catch{}}function p1(){this.g=new Bg}function xv(k,de,ke){const mt=ke||"";try{Dv(k,function(Gn,ur){let yi=Gn;fe(Gn)&&(yi=Hh(Gn)),de.push(mt+ur+"="+encodeURIComponent(yi))})}catch(Gn){throw de.push(mt+"type="+encodeURIComponent("_badmap")),Gn}}function Im(k){this.l=k.Ub||null,this.j=k.eb||!1}function nv(k,de){ju.call(this),this.D=k,this.o=de,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function s_(k){k.j.read().then(k.Pa.bind(k)).catch(k.ga.bind(k))}function eg(k){k.readyState=4,k.l=null,k.j=null,k.v=null,Sp(k)}function Sp(k){k.onreadystatechange&&k.onreadystatechange.call(k)}function a_(k){let de="";return Fi(k,function(ke,mt){de+=mt,de+=":",de+=ke,de+="\r\n"}),de}function I0(k,de,ke){e:{for(mt in ke){var mt=!1;break e}mt=!0}mt||(ke=a_(ke),"string"==typeof k?null!=ke&&encodeURIComponent(String(ke)):ac(k,de,ke))}function Hc(k){ju.call(this),this.headers=new Map,this.o=k||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=Gh.prototype).add=function(k,de){Sf(this),this.i=null,k=Cm(this,k);var ke=this.g.get(k);return ke||this.g.set(k,ke=[]),ke.push(de),this.h+=1,this},l.forEach=function(k,de){Sf(this),this.g.forEach(function(ke,mt){ke.forEach(function(Gn){k.call(de,Gn,mt,this)},this)},this)},l.na=function(){Sf(this);const k=Array.from(this.g.values()),de=Array.from(this.g.keys()),ke=[];for(let mt=0;mt<de.length;mt++){const Gn=k[mt];for(let ur=0;ur<Gn.length;ur++)ke.push(de[mt])}return ke},l.V=function(k){Sf(this);let de=[];if("string"==typeof k)Em(this,k)&&(de=de.concat(this.g.get(Cm(this,k))));else{k=Array.from(this.g.values());for(let ke=0;ke<k.length;ke++)de=de.concat(k[ke])}return de},l.set=function(k,de){return Sf(this),this.i=null,Em(this,k=Cm(this,k))&&(this.h-=this.g.get(k).length),this.g.set(k,[de]),this.h+=1,this},l.get=function(k,de){return k&&0<(k=this.V(k)).length?String(k[0]):de},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const k=[],de=Array.from(this.g.keys());for(var ke=0;ke<de.length;ke++){var mt=de[ke];const ur=encodeURIComponent(String(mt)),yi=this.V(mt);for(mt=0;mt<yi.length;mt++){var Gn=ur;""!==yi[mt]&&(Gn+="="+encodeURIComponent(String(yi[mt]))),k.push(Gn)}}return this.i=k.join("&")},nn(Im,Kf),Im.prototype.g=function(){return new nv(this.l,this.j)},Im.prototype.i=function(k){return function(){return k}}({}),nn(nv,ju),(l=nv.prototype).open=function(k,de){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=k,this.A=de,this.readyState=1,Sp(this)},l.send=function(k){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const de={headers:this.u,method:this.B,credentials:this.m,cache:void 0};k&&(de.body=k),(this.D||G).fetch(new Request(this.A,de)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,eg(this)),this.readyState=0},l.Sa=function(k){if(this.g&&(this.l=k,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=k.headers,this.readyState=2,Sp(this)),this.g&&(this.readyState=3,Sp(this),this.g)))if("arraybuffer"===this.responseType)k.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof G.ReadableStream<"u"&&"body"in k){if(this.j=k.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;s_(this)}else k.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(k){if(this.g){if(this.o&&k.value)this.response.push(k.value);else if(!this.o){var de=k.value?k.value:new Uint8Array(0);(de=this.v.decode(de,{stream:!k.done}))&&(this.response=this.responseText+=de)}k.done?eg(this):Sp(this),3==this.readyState&&s_(this)}},l.Ra=function(k){this.g&&(this.response=this.responseText=k,eg(this))},l.Qa=function(k){this.g&&(this.response=k,eg(this))},l.ga=function(){this.g&&eg(this)},l.setRequestHeader=function(k,de){this.u.append(k,de)},l.getResponseHeader=function(k){return this.h&&this.h.get(k.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const k=[],de=this.h.entries();for(var ke=de.next();!ke.done;)k.push((ke=ke.value)[0]+": "+ke[1]),ke=de.next();return k.join("\r\n")},Object.defineProperty(nv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(k){this.m=k?"include":"same-origin"}}),nn(Hc,ju);var sy=/^https?$/i,ay=["POST","PUT"];function l_(k,de){k.h=!1,k.g&&(k.j=!0,k.g.abort(),k.j=!1),k.l=de,k.m=5,c_(k),Ng(k)}function c_(k){k.A||(k.A=!0,gc(k,"complete"),gc(k,"error"))}function u_(k){if(k.h&&typeof D<"u"&&(!k.v[1]||4!=Tp(k)||2!=k.Z()))if(k.u&&4==Tp(k))Sv(k.Ea,0,k);else if(gc(k,"readystatechange"),4==Tp(k)){k.h=!1;try{const yi=k.Z();e:switch(yi){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var de=!0;break e;default:de=!1}var ke;if(!(ke=de)){var mt;if(mt=0===yi){var Gn=String(k.D).match(e_)[1]||null;!Gn&&G.self&&G.self.location&&(Gn=G.self.location.protocol.slice(0,-1)),mt=!sy.test(Gn?Gn.toLowerCase():"")}ke=mt}if(ke)gc(k,"complete"),gc(k,"success");else{k.m=6;try{var ur=2<Tp(k)?k.g.statusText:""}catch{ur=""}k.l=ur+" ["+k.Z()+"]",c_(k)}}finally{Ng(k)}}}function Ng(k,de){if(k.g){A_(k);const ke=k.g,mt=k.v[0]?()=>{}:null;k.g=null,k.v=null,de||gc(k,"ready");try{ke.onreadystatechange=mt}catch{}}}function A_(k){k.I&&(G.clearTimeout(k.I),k.I=null)}function Tp(k){return k.g?k.g.readyState:0}function b0(k){try{if(!k.g)return null;if("response"in k.g)return k.g.response;switch(k.H){case"":case"text":return k.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in k.g)return k.g.mozResponseArrayBuffer}return null}catch{return null}}function Mg(k,de,ke){return ke&&ke.internalChannelParams&&ke.internalChannelParams[k]||de}function S0(k){this.Aa=0,this.i=[],this.j=new qf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mg("failFast",!1,k),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mg("baseRetryDelayMs",5e3,k),this.cb=Mg("retryDelaySeedMs",1e4,k),this.Wa=Mg("forwardChannelMaxRetries",2,k),this.wa=Mg("forwardChannelRequestTimeoutMs",2e4,k),this.pa=k&&k.xmlHttpFactory||void 0,this.Xa=k&&k.Tb||void 0,this.Ca=k&&k.useFetchStreams||!1,this.L=void 0,this.J=k&&k.supportsCrossDomainXhr||!1,this.K="",this.h=new Bv(k&&k.concurrentRequestLimit),this.Da=new p1,this.P=k&&k.fastHandshake||!1,this.O=k&&k.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=k&&k.Rb||!1,k&&k.xa&&this.j.xa(),k&&k.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&k&&k.detectBufferingProxy||!1,this.ja=void 0,k&&k.longPollingTimeout&&0<k.longPollingTimeout&&(this.ja=k.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function T0(k){if(Rv(k),3==k.G){var de=k.U++,ke=Jf(k.I);if(ac(ke,"SID",k.K),ac(ke,"RID",de),ac(ke,"TYPE","terminate"),ov(k,ke),(de=new Yf(k,k.j,de)).L=2,de.v=Zf(Jf(ke)),ke=!1,G.navigator&&G.navigator.sendBeacon)try{ke=G.navigator.sendBeacon(de.v.toString(),"")}catch{}!ke&&G.Image&&((new Image).src=de.v,ke=!0),ke||(de.g=Mv(de.j,null),de.g.ea(de.v)),de.F=Date.now(),m0(de)}v_(k)}function rv(k){k.g&&(Pv(k),k.g.cancel(),k.g=null)}function Rv(k){rv(k),k.u&&(G.clearTimeout(k.u),k.u=null),bm(k),k.h.cancel(),k.s&&("number"==typeof k.s&&G.clearTimeout(k.s),k.s=null)}function iv(k){if(!ty(k.h)&&!k.s){k.s=!0;var de=k.Ga;Uu||Vu(),fc||(Uu(),fc=!0),ru.add(de,k),k.B=0}}function f_(k,de){var ke;ke=de?de.l:k.U++;const mt=Jf(k.I);ac(mt,"SID",k.K),ac(mt,"RID",ke),ac(mt,"AID",k.T),ov(k,mt),k.m&&k.o&&I0(mt,k.m,k.o),ke=new Yf(k,k.j,ke,k.B+1),null===k.m&&(ke.H=k.o),de&&(k.i=de.D.concat(k.i)),de=p_(k,ke,1e3),ke.I=Math.round(.5*k.wa)+Math.round(.5*k.wa*Math.random()),Fv(k.h,ke),p0(ke,mt,de)}function ov(k,de){k.H&&Fi(k.H,function(ke,mt){ac(de,mt,ke)}),k.l&&Dv({},function(ke,mt){ac(de,mt,ke)})}function p_(k,de,ke){ke=Math.min(k.i.length,ke);var mt=k.l?$e(k.l.Na,k.l,k):null;e:{var Gn=k.i;let ur=-1;for(;;){const yi=["count="+ke];-1==ur?0<ke?(ur=Gn[0].g,yi.push("ofs="+ur)):ur=0:yi.push("ofs="+ur);let Vl=!0;for(let aA=0;aA<ke;aA++){let za=Gn[aA].g;const RA=Gn[aA].map;if(za-=ur,0>za)ur=Math.max(0,Gn[aA].g-100),Vl=!1;else try{xv(RA,yi,"req"+za+"_")}catch{mt&&mt(RA)}}if(Vl){mt=yi.join("&");break e}}}return k=k.i.splice(0,ke),de.D=k,mt}function kv(k){if(!k.g&&!k.u){k.Y=1;var de=k.Fa;Uu||Vu(),fc||(Uu(),fc=!0),ru.add(de,k),k.v=0}}function sv(k){return!(k.g||k.u||3<=k.v||(k.Y++,k.u=Cf($e(k.Fa,k),m_(k,k.v)),k.v++,0))}function Pv(k){null!=k.A&&(G.clearTimeout(k.A),k.A=null)}function Nv(k){k.g=new Yf(k,k.j,"rpc",k.Y),null===k.m&&(k.g.H=k.o),k.g.O=0;var de=Jf(k.qa);ac(de,"RID","rpc"),ac(de,"SID",k.K),ac(de,"AID",k.T),ac(de,"CI",k.F?"0":"1"),!k.F&&k.ja&&ac(de,"TO",k.ja),ac(de,"TYPE","xmlhttp"),ov(k,de),k.m&&k.o&&I0(de,k.m,k.o),k.L&&(k.g.I=k.L);var ke=k.g;k=k.ia,ke.L=1,ke.v=Zf(Jf(de)),ke.m=null,ke.P=!0,g0(ke,k)}function bm(k){null!=k.C&&(G.clearTimeout(k.C),k.C=null)}function g_(k,de){var ke=null;if(k.g==de){bm(k),Pv(k),k.g=null;var mt=2}else{if(!$h(k.h,de))return;ke=de.D,Z0(k.h,de),mt=1}if(0!=k.G)if(de.o)if(1==mt){ke=de.m?de.m.length:0,de=Date.now()-de.F;var Gn=k.B;gc(mt=pm(),new Tv(mt,ke)),iv(k)}else kv(k);else if(3==(Gn=de.s)||0==Gn&&0<de.X||!(1==mt&&function h_(k,de){return!(_0(k.h)>=k.h.j-(k.s?1:0)||(k.s?(k.i=de.D.concat(k.i),0):1==k.G||2==k.G||k.B>=(k.Va?0:k.Wa)||(k.s=Cf($e(k.Ga,k,de),m_(k,k.B)),k.B++,0)))}(k,de)||2==mt&&sv(k)))switch(ke&&0<ke.length&&(de=k.h,de.i=de.i.concat(ke)),Gn){case 1:Og(k,5);break;case 4:Og(k,10);break;case 3:Og(k,6);break;default:Og(k,2)}}function m_(k,de){let ke=k.Ta+Math.floor(Math.random()*k.cb);return k.isActive()||(ke*=2),ke*de}function Og(k,de){if(k.j.info("Error code "+de),2==de){var ke=$e(k.fb,k),mt=k.Xa;const Gn=!mt;mt=new bp(mt||"//www.google.com/images/cleardot.gif"),G.location&&"http"==G.location.protocol||Zm(mt,"https"),Zf(mt),Gn?function o_(k,de){const ke=new qf;if(G.Image){const mt=new Image;mt.onload=xt(Kh,ke,"TestLoadImage: loaded",!0,de,mt),mt.onerror=xt(Kh,ke,"TestLoadImage: error",!1,de,mt),mt.onabort=xt(Kh,ke,"TestLoadImage: abort",!1,de,mt),mt.ontimeout=xt(Kh,ke,"TestLoadImage: timeout",!1,de,mt),G.setTimeout(function(){mt.ontimeout&&mt.ontimeout()},1e4),mt.src=k}else de(!1)}(mt.toString(),ke):function Zp(k,de){new qf;const mt=new AbortController,Gn=setTimeout(()=>{mt.abort(),Kh(0,0,!1,de)},1e4);fetch(k,{signal:mt.signal}).then(ur=>{clearTimeout(Gn),Kh(0,0,!!ur.ok,de)}).catch(()=>{clearTimeout(Gn),Kh(0,0,!1,de)})}(mt.toString(),ke)}else jc(2);k.G=0,k.l&&k.l.sa(de),v_(k),Rv(k)}function v_(k){if(k.G=0,k.ka=[],k.l){const de=ny(k.h);(0!=de.length||0!=k.i.length)&&(Ln(k.ka,de),Ln(k.ka,k.i),k.h.i.length=0,hn(k.i),k.i.length=0),k.l.ra()}}function B0(k,de,ke){var mt=ke instanceof bp?Jf(ke):new bp(ke);if(""!=mt.g)de&&(mt.g=de+"."+mt.g),ev(mt,mt.s);else{var Gn=G.location;mt=Gn.protocol,de=de?de+"."+Gn.hostname:Gn.hostname,Gn=+Gn.port;var ur=new bp(null);mt&&Zm(ur,mt),de&&(ur.g=de),Gn&&ev(ur,Gn),ke&&(ur.l=ke),mt=ur}return de=k.ya,(ke=k.D)&&de&&ac(mt,ke,de),ac(mt,"VER",k.la),ov(k,mt),mt}function Mv(k,de,ke){if(de&&!k.J)throw Error("Can't create secondary domain capable XhrIo object.");return(de=new Hc(k.Ca&&!k.pa?new Im({eb:ke}):k.pa)).Ha(k.J),de}function Ov(){}function av(){}function Gd(k,de){ju.call(this),this.g=new S0(de),this.l=k,this.h=de&&de.messageUrlParams||null,k=de&&de.messageHeaders||null,de&&de.clientProtocolHeaderRequired&&(k?k["X-Client-Protocol"]="webchannel":k={"X-Client-Protocol":"webchannel"}),this.g.o=k,k=de&&de.initMessageHeaders||null,de&&de.messageContentType&&(k?k["X-WebChannel-Content-Type"]=de.messageContentType:k={"X-WebChannel-Content-Type":de.messageContentType}),de&&de.va&&(k?k["X-WebChannel-Client-Profile"]=de.va:k={"X-WebChannel-Client-Profile":de.va}),this.g.S=k,(k=de&&de.Sb)&&!Rr(k)&&(this.g.m=k),this.v=de&&de.supportsCrossDomainXhr||!1,this.u=de&&de.sendRawJson||!1,(de=de&&de.httpSessionIdParam)&&!Rr(de)&&(this.g.D=de,null!==(k=this.h)&&de in k&&de in(k=this.h)&&delete k[de]),this.j=new Lg(this)}function F0(k){Dg.call(this),k.__headers__&&(this.headers=k.__headers__,this.statusCode=k.__status__,delete k.__headers__,delete k.__status__);var de=k.__sm__;if(de){e:{for(const ke in de){k=ke;break e}k=void 0}(this.i=k)&&(k=this.i,de=null!==de&&k in de?de[k]:void 0),this.data=de}else this.data=k}function __(){pd.call(this),this.status=1}function Lg(k){this.g=k}(l=Hc.prototype).Ha=function(k){this.J=k},l.ea=function(k,de,ke,mt){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+k);de=de?de.toUpperCase():"GET",this.D=k,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rg.g(),this.v=function Wm(k){return k.h||(k.h=k.i())}(this.o?this.o:Rg),this.g.onreadystatechange=$e(this.Ea,this);try{this.B=!0,this.g.open(de,String(k),!0),this.B=!1}catch(ur){return void l_(this,ur)}if(k=ke||"",ke=new Map(this.headers),mt)if(Object.getPrototypeOf(mt)===Object.prototype)for(var Gn in mt)ke.set(Gn,mt[Gn]);else{if("function"!=typeof mt.keys||"function"!=typeof mt.get)throw Error("Unknown input type for opt_headers: "+String(mt));for(const ur of mt.keys())ke.set(ur,mt.get(ur))}mt=Array.from(ke.keys()).find(ur=>"content-type"==ur.toLowerCase()),Gn=G.FormData&&k instanceof G.FormData,!(0<=Array.prototype.indexOf.call(ay,de,void 0))||mt||Gn||ke.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ur,yi]of ke)this.g.setRequestHeader(ur,yi);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{A_(this),this.u=!0,this.g.send(k),this.u=!1}catch(ur){l_(this,ur)}},l.abort=function(k){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=k||7,gc(this,"complete"),gc(this,"abort"),Ng(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ng(this,!0)),Hc.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?u_(this):this.bb())},l.bb=function(){u_(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<Tp(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(k){if(this.g){var de=this.g.responseText;return k&&0==de.indexOf(k)&&(de=de.substring(k.length)),fm(de)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=S0.prototype).la=8,l.G=1,l.connect=function(k,de,ke,mt){jc(0),this.W=k,this.H=de||{},ke&&void 0!==mt&&(this.H.OSID=ke,this.H.OAID=mt),this.F=this.X,this.I=B0(this,null,this.W),iv(this)},l.Ga=function(k){if(this.s)if(this.s=null,1==this.G){if(!k){this.U=Math.floor(1e5*Math.random()),k=this.U++;const Gn=new Yf(this,this.j,k);let ur=this.o;if(this.S&&(ur?(ur=kt(ur),Xt(ur,this.S)):ur=this.S),null!==this.m||this.O||(Gn.H=ur,ur=null),this.P)e:{for(var de=0,ke=0;ke<this.i.length;ke++){var mt=this.i[ke];if(void 0===(mt="__data__"in mt.map&&"string"==typeof(mt=mt.map.__data__)?mt.length:void 0))break;if(4096<(de+=mt)){de=ke;break e}if(4096===de||ke===this.i.length-1){de=ke+1;break e}}de=1e3}else de=1e3;de=p_(this,Gn,de),ac(ke=Jf(this.I),"RID",k),ac(ke,"CVER",22),this.D&&ac(ke,"X-HTTP-Session-Id",this.D),ov(this,ke),ur&&(this.O?de="headers="+encodeURIComponent(String(a_(ur)))+"&"+de:this.m&&I0(ke,this.m,ur)),Fv(this.h,Gn),this.Ua&&ac(ke,"TYPE","init"),this.P?(ac(ke,"$req",de),ac(ke,"SID","null"),Gn.T=!0,p0(Gn,ke,null)):p0(Gn,ke,de),this.G=2}}else 3==this.G&&(k?f_(this,k):0==this.i.length||ty(this.h)||f_(this))},l.Fa=function(){if(this.u=null,Nv(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var k=2*this.R;this.j.info("BP detection timer enabled: "+k),this.A=Cf($e(this.ab,this),k)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jc(10),rv(this),Nv(this))},l.Za=function(){null!=this.C&&(this.C=null,rv(this),sv(this),jc(19))},l.fb=function(k){k?(this.j.info("Successfully pinged google.com"),jc(2)):(this.j.info("Failed to ping google.com"),jc(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=Ov.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},av.prototype.g=function(k,de){return new Gd(k,de)},nn(Gd,ju),Gd.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gd.prototype.close=function(){T0(this.g)},Gd.prototype.o=function(k){var de=this.g;if("string"==typeof k){var ke={};ke.__data__=k,k=ke}else this.u&&((ke={}).__data__=Hh(k),k=ke);de.i.push(new ey(de.Ya++,k)),3==de.G&&iv(de)},Gd.prototype.N=function(){this.g.l=null,delete this.j,T0(this.g),delete this.g,Gd.aa.N.call(this)},nn(F0,Dg),nn(__,pd),nn(Lg,Ov),Lg.prototype.ua=function(){gc(this.g,"a")},Lg.prototype.ta=function(k){gc(this.g,new F0(k))},Lg.prototype.sa=function(k){gc(this.g,new __)},Lg.prototype.ra=function(){gc(this.g,"b")},av.prototype.createWebChannel=av.prototype.g,Gd.prototype.send=Gd.prototype.o,Gd.prototype.open=Gd.prototype.m,Gd.prototype.close=Gd.prototype.close,Tn=vt.createWebChannelTransport=function(){return new av},gn=vt.getStatEventTarget=function(){return pm()},Un=vt.Event=Wf,tn=vt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$d.NO_ERROR=0,$d.TIMEOUT=8,$d.HTTP_ERROR=6,qt=vt.ErrorCode=$d,xg.COMPLETE="complete",mn=vt.EventType=xg,Fg.EventType=Ip,Ip.OPEN="a",Ip.CLOSE="b",Ip.ERROR="c",Ip.MESSAGE="d",ju.prototype.listen=ju.prototype.K,An=vt.WebChannel=Fg,Ft=vt.FetchXmlHttpFactory=Im,Hc.prototype.listenOnce=Hc.prototype.L,Hc.prototype.getLastError=Hc.prototype.Ka,Hc.prototype.getLastErrorCode=Hc.prototype.Ba,Hc.prototype.getStatus=Hc.prototype.Z,Hc.prototype.getResponseJson=Hc.prototype.Oa,Hc.prototype.getResponseText=Hc.prototype.oa,Hc.prototype.send=Hc.prototype.ea,Hc.prototype.setWithCredentials=Hc.prototype.Ha,Mt=vt.XhrIo=Hc}).apply(typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{});const bt="@firebase/firestore";class Vt{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");let wn="10.12.1";const Yt=new Z.Vy("@firebase/firestore");function Cn(){return Yt.logLevel}function nt(l,...n){if(Yt.logLevel<=Z.$b.DEBUG){const i=n.map(xr);Yt.debug(`Firestore (${wn}): ${l}`,...i)}}function zn(l,...n){if(Yt.logLevel<=Z.$b.ERROR){const i=n.map(xr);Yt.error(`Firestore (${wn}): ${l}`,...i)}}function yr(l,...n){if(Yt.logLevel<=Z.$b.WARN){const i=n.map(xr);Yt.warn(`Firestore (${wn}): ${l}`,...i)}}function xr(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function Kt(l="Unexpected state"){const n=`FIRESTORE (${wn}) INTERNAL ASSERTION FAILED: `+l;throw zn(n),new Error(n)}function Vn(l,n){l||Kt()}function st(l,n){return l}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends tt.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Le{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class Rt{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class bn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(Vt.UNAUTHENTICATED))}shutdown(){}}class sn{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Rn{constructor(n){this.t=n,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var a=this;let f=this.i;const E=fe=>this.i!==f?(f=this.i,i(fe)):Promise.resolve();let D=new Le;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new Le,n.enqueueRetryable(()=>E(this.currentUser))};const G=()=>{const fe=D;n.enqueueRetryable((0,e.A)(function*(){yield fe.promise,yield E(a.currentUser)}))},X=fe=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=fe,this.auth.addAuthTokenListener(this.o),G()};this.t.onInit(fe=>X(fe)),setTimeout(()=>{if(!this.auth){const fe=this.t.getImmediate({optional:!0});fe?X(fe):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new Le)}},0),G()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==n?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Vn("string"==typeof a.accessToken),new Rt(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Vn(null===n||"string"==typeof n),new Vt(n)}}class dr{constructor(n,i,a){this.l=n,this.h=i,this.P=a,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bi{constructor(n,i,a){this.l=n,this.h=i,this.P=a}getToken(){return Promise.resolve(new dr(this.l,this.h,this.P))}start(n,i){n.enqueueRetryable(()=>i(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sr{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ui{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,i){const a=E=>{null!=E.error&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${E.error.message}`);const D=E.token!==this.R;return this.R=E.token,nt("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?i(E.token):Promise.resolve()};this.o=E=>{n.enqueueRetryable(()=>a(E))};const f=E=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=E,this.appCheck.addTokenListener(this.o)};this.A.onInit(E=>f(E)),setTimeout(()=>{if(!this.appCheck){const E=this.A.getImmediate({optional:!0});E?f(E):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(Vn("string"==typeof i.token),this.R=i.token,new Sr(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Yn(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(l);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let a=0;a<l;a++)i[a]=Math.floor(256*Math.random());return i}class Yi{static newId(){const i=62*Math.floor(256/62);let a="";for(;a.length<20;){const f=Yn(40);for(let E=0;E<f.length;++E)a.length<20&&f[E]<i&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(f[E]%62))}return a}}function kr(l,n){return l<n?-1:l>n?1:0}function Di(l,n,i){return l.length===n.length&&l.every((a,f)=>i(a,n[f]))}function Wi(l){return l+"\0"}class fr{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new Fe(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Fe(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new Fe(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Fe(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return fr.fromMillis(Date.now())}static fromDate(n){return fr.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),a=Math.floor(1e6*(n-1e3*i));return new fr(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?kr(this.nanoseconds,n.nanoseconds):kr(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Pt(n)}static min(){return new Pt(new fr(0,0))}static max(){return new Pt(new fr(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pn{constructor(n,i,a){void 0===i?i=0:i>n.length&&Kt(),void 0===a?a=n.length-i:a>n.length-i&&Kt(),this.segments=n,this.offset=i,this.len=a}get length(){return this.len}isEqual(n){return 0===Pn.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof Pn?n.forEach(a=>{i.push(a)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,a=this.limit();i<a;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const a=Math.min(n.length,i.length);for(let f=0;f<a;f++){const E=n.get(f),D=i.get(f);if(E<D)return-1;if(E>D)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class vn extends Pn{construct(n,i,a){return new vn(n,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const a of n){if(a.indexOf("//")>=0)throw new Fe(we.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(f=>f.length>0))}return new vn(i)}static emptyPath(){return new vn([])}}const $r=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class si extends Pn{construct(n,i,a){return new si(n,i,a)}static isValidIdentifier(n){return $r.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),si.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new si(["__name__"])}static fromServerFormat(n){const i=[];let a="",f=0;const E=()=>{if(0===a.length)throw new Fe(we.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let D=!1;for(;f<n.length;){const G=n[f];if("\\"===G){if(f+1===n.length)throw new Fe(we.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const X=n[f+1];if("\\"!==X&&"."!==X&&"`"!==X)throw new Fe(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=X,f+=2}else"`"===G?(D=!D,f++):"."!==G||D?(a+=G,f++):(E(),f++)}if(E(),D)throw new Fe(we.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new si(i)}static emptyPath(){return new si([])}}class lr{constructor(n){this.path=n}static fromPath(n){return new lr(vn.fromString(n))}static fromName(n){return new lr(vn.fromString(n).popFirst(5))}static empty(){return new lr(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===vn.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return vn.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new lr(new vn(n.slice()))}}class di{constructor(n,i,a,f){this.indexId=n,this.collectionGroup=i,this.fields=a,this.indexState=f}}function Hr(l){return l.fields.find(n=>2===n.kind)}function Er(l){return l.fields.filter(n=>2!==n.kind)}di.UNKNOWN_ID=-1;class eo{constructor(n,i){this.fieldPath=n,this.kind=i}}class _o{constructor(n,i){this.sequenceNumber=n,this.offset=i}static empty(){return new _o(0,Zr.min())}}function Ro(l,n){const i=l.toTimestamp().seconds,a=l.toTimestamp().nanoseconds+1,f=Pt.fromTimestamp(1e9===a?new fr(i+1,0):new fr(i,a));return new Zr(f,lr.empty(),n)}function Mo(l){return new Zr(l.readTime,l.key,-1)}class Zr{constructor(n,i,a){this.readTime=n,this.documentKey=i,this.largestBatchId=a}static min(){return new Zr(Pt.min(),lr.empty(),-1)}static max(){return new Zr(Pt.max(),lr.empty(),-1)}}function ko(l,n){let i=l.readTime.compareTo(n.readTime);return 0!==i?i:(i=lr.comparator(l.documentKey,n.documentKey),0!==i?i:kr(l.largestBatchId,n.largestBatchId))}const xi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Wo(l){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,e.A)(function*(l){if(l.code!==we.FAILED_PRECONDITION||l.message!==xi)throw l;nt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class cn{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&Kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new cn((a,f)=>{this.nextCallback=E=>{this.wrapSuccess(n,E).next(a,f)},this.catchCallback=E=>{this.wrapFailure(i,E).next(a,f)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof cn?i:cn.resolve(i)}catch(i){return cn.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):cn.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):cn.reject(i)}static resolve(n){return new cn((i,a)=>{i(n)})}static reject(n){return new cn((i,a)=>{a(n)})}static waitFor(n){return new cn((i,a)=>{let f=0,E=0,D=!1;n.forEach(G=>{++f,G.next(()=>{++E,D&&E===f&&i()},X=>a(X))}),D=!0,E===f&&i()})}static or(n){let i=cn.resolve(!1);for(const a of n)i=i.next(f=>f?cn.resolve(f):a());return i}static forEach(n,i){const a=[];return n.forEach((f,E)=>{a.push(i.call(this,f,E))}),this.waitFor(a)}static mapArray(n,i){return new cn((a,f)=>{const E=n.length,D=new Array(E);let G=0;for(let X=0;X<E;X++){const fe=X;i(n[fe]).next(xe=>{D[fe]=xe,++G,G===E&&a(D)},xe=>f(xe))}})}static doWhile(n,i){return new cn((a,f)=>{const E=()=>{!0===n()?i().next(()=>{E()},f):a()};E()})}}class Co{constructor(n,i){this.action=n,this.transaction=i,this.aborted=!1,this.V=new Le,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new jt(n,i.error)):this.V.resolve()},this.transaction.onerror=a=>{const f=St(a.target.error);this.V.reject(new jt(n,f))}}static open(n,i,a,f){try{return new Co(i,n.transaction(f,a))}catch(E){throw new jt(i,E)}}get m(){return this.V.promise}abort(n){n&&this.V.reject(n),this.aborted||(nt("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const i=this.transaction.objectStore(n);return new Wt(i)}}class Vo{constructor(n,i,a){this.name=n,this.version=i,this.p=a,12.2===Vo.S((0,tt.ZQ)())&&zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return nt("SimpleDb","Removing database:",n),Ye(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,tt.zW)())return!1;if(Vo.C())return!0;const n=(0,tt.ZQ)(),i=Vo.S(n),a=0<i&&i<10,f=ps(n),E=0<f&&f<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||a||E)}static C(){var n;return typeof process<"u"&&"YES"===(null===(n=process.__PRIVATE_env)||void 0===n?void 0:n.v)}static F(n,i){return n.store(i)}static S(n){const i=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(n){var i=this;return(0,e.A)(function*(){return i.db||(nt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((a,f)=>{const E=indexedDB.open(i.name,i.version);E.onsuccess=D=>{a(D.target.result)},E.onblocked=()=>{f(new jt(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},E.onerror=D=>{const G=D.target.error;f("VersionError"===G.name?new Fe(we.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===G.name?new Fe(we.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+G):new jt(n,G))},E.onupgradeneeded=D=>{nt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',D.oldVersion),i.p.O(D.target.result,E.transaction,D.oldVersion,i.version).next(()=>{nt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=a=>i.N(a)),i.db})()}L(n){this.N=n,this.db&&(this.db.onversionchange=i=>n(i))}runTransaction(n,i,a,f){var E=this;return(0,e.A)(function*(){const D="readonly"===i;let G=0;for(;;){++G;try{E.db=yield E.M(n);const X=Co.open(E.db,n,D?"readonly":"readwrite",a),fe=f(X).next(xe=>(X.g(),xe)).catch(xe=>(X.abort(xe),cn.reject(xe))).toPromise();return fe.catch(()=>{}),yield X.m,fe}catch(X){const fe=X,xe="FirebaseError"!==fe.name&&G<3;if(nt("SimpleDb","Transaction failed with error:",fe.message,"Retrying:",xe),E.close(),!xe)return Promise.reject(fe)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function ps(l){const n=l.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Jt{constructor(n){this.B=n,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(n){this.B=n}done(){this.k=!0}$(n){this.q=n}delete(){return Ye(this.B.delete())}}class jt extends Fe{constructor(n,i){super(we.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Bn(l){return"IndexedDbTransactionError"===l.name}class Wt{constructor(n){this.store=n}put(n,i){let a;return void 0!==i?(nt("SimpleDb","PUT",this.store.name,n,i),a=this.store.put(i,n)):(nt("SimpleDb","PUT",this.store.name,"<auto-key>",n),a=this.store.put(n)),Ye(a)}add(n){return nt("SimpleDb","ADD",this.store.name,n,n),Ye(this.store.add(n))}get(n){return Ye(this.store.get(n)).next(i=>(void 0===i&&(i=null),nt("SimpleDb","GET",this.store.name,n,i),i))}delete(n){return nt("SimpleDb","DELETE",this.store.name,n),Ye(this.store.delete(n))}count(){return nt("SimpleDb","COUNT",this.store.name),Ye(this.store.count())}U(n,i){const a=this.options(n,i),f=a.index?this.store.index(a.index):this.store;if("function"==typeof f.getAll){const E=f.getAll(a.range);return new cn((D,G)=>{E.onerror=X=>{G(X.target.error)},E.onsuccess=X=>{D(X.target.result)}})}{const E=this.cursor(a),D=[];return this.W(E,(G,X)=>{D.push(X)}).next(()=>D)}}G(n,i){const a=this.store.getAll(n,null===i?void 0:i);return new cn((f,E)=>{a.onerror=D=>{E(D.target.error)},a.onsuccess=D=>{f(D.target.result)}})}j(n,i){nt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(n,i);a.H=!1;const f=this.cursor(a);return this.W(f,(E,D,G)=>G.delete())}J(n,i){let a;i?a=n:(a={},i=n);const f=this.cursor(a);return this.W(f,i)}Y(n){const i=this.cursor({});return new cn((a,f)=>{i.onerror=E=>{const D=St(E.target.error);f(D)},i.onsuccess=E=>{const D=E.target.result;D?n(D.primaryKey,D.value).next(G=>{G?D.continue():a()}):a()}})}W(n,i){const a=[];return new cn((f,E)=>{n.onerror=D=>{E(D.target.error)},n.onsuccess=D=>{const G=D.target.result;if(!G)return void f();const X=new Jt(G),fe=i(G.primaryKey,G.value,X);if(fe instanceof cn){const xe=fe.catch(Re=>(X.done(),cn.reject(Re)));a.push(xe)}X.isDone?f():null===X.K?G.continue():G.continue(X.K)}}).next(()=>cn.waitFor(a))}options(n,i){let a;return void 0!==n&&("string"==typeof n?a=n:i=n),{index:a,range:i}}cursor(n){let i="next";if(n.reverse&&(i="prev"),n.index){const a=this.store.index(n.index);return n.H?a.openKeyCursor(n.range,i):a.openCursor(n.range,i)}return this.store.openCursor(n.range,i)}}function Ye(l){return new cn((n,i)=>{l.onsuccess=a=>{n(a.target.result)},l.onerror=a=>{const f=St(a.target.error);i(f)}})}let rt=!1;function St(l){const n=Vo.S((0,tt.ZQ)());if(n>=12.2&&n<13){const i="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(i)>=0){const a=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return rt||(rt=!0,setTimeout(()=>{throw a},0)),a}}return l}class Fn{constructor(n,i){this.asyncQueue=n,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(n){var i=this;nt("IndexBackfiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,e.A)(function*(){i.task=null;try{nt("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(a){Bn(a)?nt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield Wo(a)}yield i.X(6e4)}))}}class zt{constructor(n,i){this.localStore=n,this.persistence=i}ee(n=50){var i=this;return(0,e.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>i.te(a,n))})()}te(n,i){const a=new Set;let f=i,E=!0;return cn.doWhile(()=>!0===E&&f>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(D=>{if(null!==D&&!a.has(D))return nt("IndexBackfiller",`Processing collection: ${D}`),this.ne(n,D,f).next(G=>{f-=G,a.add(D)});E=!1})).next(()=>i-f)}ne(n,i,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,i).next(f=>this.localStore.localDocuments.getNextDocuments(n,i,f,a).next(E=>{const D=E.changes;return this.localStore.indexManager.updateIndexEntries(n,D).next(()=>this.re(f,E)).next(G=>(nt("IndexBackfiller",`Updating offset: ${G}`),this.localStore.indexManager.updateCollectionGroup(n,i,G))).next(()=>D.size)}))}re(n,i){let a=n;return i.changes.forEach((f,E)=>{const D=Mo(E);ko(D,a)>0&&(a=D)}),new Zr(a.readTime,a.documentKey,Math.max(i.batchId,n.largestBatchId))}}let gr=(()=>{class l{constructor(i,a){this.previousValue=i,a&&(a.sequenceNumberHandler=f=>this.ie(f),this.se=f=>a.writeSequenceNumber(f))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return l.oe=-1,l})();function Nr(l){return null==l}function qr(l){return 0===l&&1/l==-1/0}function ji(l){return"number"==typeof l&&Number.isInteger(l)&&!qr(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function $o(l){let n="";for(let i=0;i<l.length;i++)n.length>0&&(n=ai(n)),n=ks(l.get(i),n);return ai(n)}function ks(l,n){let i=n;const a=l.length;for(let f=0;f<a;f++){const E=l.charAt(f);switch(E){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=E}}return i}function ai(l){return l+"\x01\x01"}function Fr(l){const n=l.length;if(Vn(n>=2),2===n)return Vn("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),vn.emptyPath();const i=n-2,a=[];let f="";for(let E=0;E<n;){const D=l.indexOf("\x01",E);switch((D<0||D>i)&&Kt(),l.charAt(D+1)){case"\x01":const G=l.substring(E,D);let X;0===f.length?X=G:(f+=G,X=f,f=""),a.push(X);break;case"\x10":f+=l.substring(E,D),f+="\0";break;case"\x11":f+=l.substring(E,D+1);break;default:Kt()}E=D+2}return new vn(a)}const gs=["userId","batchId"];function na(l,n){return[l,$o(n)]}function Xs(l,n,i){return[l,$o(n),i]}const ml={},nl=["prefixPath","collectionGroup","readTime","documentId"],Ao=["prefixPath","collectionGroup","documentId"],vl=["collectionGroup","readTime","prefixPath","documentId"],$a=["canonicalId","targetId"],ua=["targetId","path"],Nn=["path","targetId"],_n=["collectionId","parent"],tr=["indexId","uid"],Mr=["uid","sequenceNumber"],Mi=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pn=["indexId","uid","orderedDocumentKey"],pr=["userId","collectionPath","documentId"],Xr=["userId","collectionPath","largestBatchId"],Dr=["userId","collectionGroup","largestBatchId"],ho=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Yo=[...ho,"documentOverlays"],va=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ei=va,no=[...ei,"indexConfiguration","indexState","indexEntries"],hi=no;class Fs extends Qi{constructor(n,i){super(),this._e=n,this.currentSequenceNumber=i}}function Ji(l,n){const i=st(l);return Vo.F(i._e,n)}function Ps(l){let n=0;for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n++;return n}function Il(l,n){for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n(i,l[i])}function Ms(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}class Ri{constructor(n,i){this.comparator=n,this.root=i||ro.EMPTY}insert(n,i){return new Ri(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,ro.BLACK,null,null))}remove(n){return new Ri(this.comparator,this.root.remove(n,this.comparator).copy(null,null,ro.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(n,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(n){let i=0,a=this.root;for(;!a.isEmpty();){const f=this.comparator(n,a.key);if(0===f)return i+a.left.size;f<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,a)=>(n(i,a),!1))}toString(){const n=[];return this.inorderTraversal((i,a)=>(n.push(`${i}:${a}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Qr(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Qr(this.root,n,this.comparator,!1)}getReverseIterator(){return new Qr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Qr(this.root,n,this.comparator,!0)}}class Qr{constructor(n,i,a,f){this.isReverse=f,this.nodeStack=[];let E=1;for(;!n.isEmpty();)if(E=i?a(n.key,i):1,i&&f&&(E*=-1),E<0)n=this.isReverse?n.left:n.right;else{if(0===E){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class ro{constructor(n,i,a,f,E){this.key=n,this.value=i,this.color=null!=a?a:ro.RED,this.left=null!=f?f:ro.EMPTY,this.right=null!=E?E:ro.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,a,f,E){return new ro(null!=n?n:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=f?f:this.left,null!=E?E:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,a){let f=this;const E=a(n,f.key);return f=E<0?f.copy(null,null,null,f.left.insert(n,i,a),null):0===E?f.copy(null,i,null,null,null):f.copy(null,null,null,null,f.right.insert(n,i,a)),f.fixUp()}removeMin(){if(this.left.isEmpty())return ro.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let a,f=this;if(i(n,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(n,i),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===i(n,f.key)){if(f.right.isEmpty())return ro.EMPTY;a=f.right.min(),f=f.copy(a.key,a.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(n,i))}return f.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,ro.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,ro.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Kt();const n=this.left.check();if(n!==this.right.check())throw Kt();return n+(this.isRed()?0:1)}}ro.EMPTY=null,ro.RED=!0,ro.BLACK=!1,ro.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt()}get value(){throw Kt()}get color(){throw Kt()}get left(){throw Kt()}get right(){throw Kt()}copy(n,i,a,f,E){return this}insert(n,i,a){return new ro(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class To{constructor(n){this.comparator=n,this.data=new Ri(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,a)=>(n(i),!1))}forEachInRange(n,i){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const f=a.getNext();if(this.comparator(f.key,n[1])>=0)return;i(f.key)}}forEachWhile(n,i){let a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Os(this.data.getIterator())}getIteratorFrom(n){return new Os(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(a=>{i=i.add(a)}),i}isEqual(n){if(!(n instanceof To)||this.size!==n.size)return!1;const i=this.data.getIterator(),a=n.data.getIterator();for(;i.hasNext();){const f=i.getNext().key,E=a.getNext().key;if(0!==this.comparator(f,E))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new To(this.comparator);return i.data=n,i}}class Os{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hi(l){return l.hasNext()?l.getNext():void 0}class mi{constructor(n){this.fields=n,n.sort(si.comparator)}static empty(){return new mi([])}unionWith(n){let i=new To(si.comparator);for(const a of this.fields)i=i.add(a);for(const a of n)i=i.add(a);return new mi(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return Di(this.fields,n.fields,(i,a)=>i.isEqual(a))}}class yo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Io{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(f){try{return atob(f)}catch(E){throw typeof DOMException<"u"&&E instanceof DOMException?new yo("Invalid base64 string: "+E):E}}(n);return new Io(i)}static fromUint8Array(n){const i=function(f){let E="";for(let D=0;D<f.length;++D)E+=String.fromCharCode(f[D]);return E}(n);return new Io(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let f=0;f<i.length;f++)a[f]=i.charCodeAt(f);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return kr(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Io.EMPTY_BYTE_STRING=new Io("");const bl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(l){if(Vn(!!l),"string"==typeof l){let n=0;const i=bl.exec(l);if(Vn(!!i),i[1]){let f=i[1];f=(f+"000000000").substr(0,9),n=Number(f)}const a=new Date(l);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:Bo(l.seconds),nanos:Bo(l.nanos)}}function Bo(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function ra(l){return"string"==typeof l?Io.fromBase64String(l):Io.fromUint8Array(l)}function Jn(l){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Ds(l){const n=l.mapValue.fields.__previous_value__;return Jn(n)?Ds(n):n}function Ra(l){const n=Oa(l.mapValue.fields.__local_write_time__.timestampValue);return new fr(n.seconds,n.nanos)}class zi{constructor(n,i,a,f,E,D,G,X,fe){this.databaseId=n,this.appId=i,this.persistenceKey=a,this.host=f,this.ssl=E,this.forceLongPolling=D,this.autoDetectLongPolling=G,this.longPollingOptions=X,this.useFetchStreams=fe}}class Oi{constructor(n,i){this.projectId=n,this.database=i||"(default)"}static empty(){return new Oi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Oi&&n.projectId===this.projectId&&n.database===this.database}}const Ga={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},io={nullValue:"NULL_VALUE"};function ia(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Jn(l)?4:rn(l)?9007199254740991:10:Kt()}function ms(l,n){if(l===n)return!0;const i=ia(l);if(i!==ia(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return Ra(l).isEqual(Ra(n));case 3:return function(f,E){if("string"==typeof f.timestampValue&&"string"==typeof E.timestampValue&&f.timestampValue.length===E.timestampValue.length)return f.timestampValue===E.timestampValue;const D=Oa(f.timestampValue),G=Oa(E.timestampValue);return D.seconds===G.seconds&&D.nanos===G.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return E=n,ra(l.bytesValue).isEqual(ra(E.bytesValue));case 7:return l.referenceValue===n.referenceValue;case 8:return function(f,E){return Bo(f.geoPointValue.latitude)===Bo(E.geoPointValue.latitude)&&Bo(f.geoPointValue.longitude)===Bo(E.geoPointValue.longitude)}(l,n);case 2:return function(f,E){if("integerValue"in f&&"integerValue"in E)return Bo(f.integerValue)===Bo(E.integerValue);if("doubleValue"in f&&"doubleValue"in E){const D=Bo(f.doubleValue),G=Bo(E.doubleValue);return D===G?qr(D)===qr(G):isNaN(D)&&isNaN(G)}return!1}(l,n);case 9:return Di(l.arrayValue.values||[],n.arrayValue.values||[],ms);case 10:return function(f,E){const D=f.mapValue.fields||{},G=E.mapValue.fields||{};if(Ps(D)!==Ps(G))return!1;for(const X in D)if(D.hasOwnProperty(X)&&(void 0===G[X]||!ms(D[X],G[X])))return!1;return!0}(l,n);default:return Kt()}var E}function qo(l,n){return void 0!==(l.values||[]).find(i=>ms(i,n))}function Gs(l,n){if(l===n)return 0;const i=ia(l),a=ia(n);if(i!==a)return kr(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return kr(l.booleanValue,n.booleanValue);case 2:return function(E,D){const G=Bo(E.integerValue||E.doubleValue),X=Bo(D.integerValue||D.doubleValue);return G<X?-1:G>X?1:G===X?0:isNaN(G)?isNaN(X)?0:-1:1}(l,n);case 3:return kl(l.timestampValue,n.timestampValue);case 4:return kl(Ra(l),Ra(n));case 5:return kr(l.stringValue,n.stringValue);case 6:return function(E,D){const G=ra(E),X=ra(D);return G.compareTo(X)}(l.bytesValue,n.bytesValue);case 7:return function(E,D){const G=E.split("/"),X=D.split("/");for(let fe=0;fe<G.length&&fe<X.length;fe++){const xe=kr(G[fe],X[fe]);if(0!==xe)return xe}return kr(G.length,X.length)}(l.referenceValue,n.referenceValue);case 8:return function(E,D){const G=kr(Bo(E.latitude),Bo(D.latitude));return 0!==G?G:kr(Bo(E.longitude),Bo(D.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return function(E,D){const G=E.values||[],X=D.values||[];for(let fe=0;fe<G.length&&fe<X.length;++fe){const xe=Gs(G[fe],X[fe]);if(xe)return xe}return kr(G.length,X.length)}(l.arrayValue,n.arrayValue);case 10:return function(E,D){if(E===Ga.mapValue&&D===Ga.mapValue)return 0;if(E===Ga.mapValue)return 1;if(D===Ga.mapValue)return-1;const G=E.fields||{},X=Object.keys(G),fe=D.fields||{},xe=Object.keys(fe);X.sort(),xe.sort();for(let Re=0;Re<X.length&&Re<xe.length;++Re){const $e=kr(X[Re],xe[Re]);if(0!==$e)return $e;const xt=Gs(G[X[Re]],fe[xe[Re]]);if(0!==xt)return xt}return kr(X.length,xe.length)}(l.mapValue,n.mapValue);default:throw Kt()}}function kl(l,n){if("string"==typeof l&&"string"==typeof n&&l.length===n.length)return kr(l,n);const i=Oa(l),a=Oa(n),f=kr(i.seconds,a.seconds);return 0!==f?f:kr(i.nanos,a.nanos)}function as(l){return ao(l)}function ao(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(i){const a=Oa(i);return`time(${a.seconds},${a.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?ra(l.bytesValue).toBase64():"referenceValue"in l?lr.fromName(l.referenceValue).toString():"geoPointValue"in l?function(i){return`geo(${i.latitude},${i.longitude})`}(l.geoPointValue):"arrayValue"in l?function(i){let a="[",f=!0;for(const E of i.values||[])f?f=!1:a+=",",a+=ao(E);return a+"]"}(l.arrayValue):"mapValue"in l?function(i){const a=Object.keys(i.fields||{}).sort();let f="{",E=!0;for(const D of a)E?E=!1:f+=",",f+=`${D}:${ao(i.fields[D])}`;return f+"}"}(l.mapValue):Kt()}function Tr(l,n){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${n.path.canonicalString()}`}}function ts(l){return!!l&&"integerValue"in l}function ka(l){return!!l&&"arrayValue"in l}function Te(l){return!!l&&"nullValue"in l}function Je(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function At(l){return!!l&&"mapValue"in l}function Tt(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return Il(l.mapValue.fields,(i,a)=>n.mapValue.fields[i]=Tt(a)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(l.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Tt(l.arrayValue.values[i]);return n}return Object.assign({},l)}function rn(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}function Zt(l){return"nullValue"in l?io:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?Tr(Oi.empty(),lr.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?{mapValue:{}}:Kt()}function Xn(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?Tr(Oi.empty(),lr.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?{mapValue:{}}:"mapValue"in l?Ga:Kt()}function $n(l,n){const i=Gs(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?-1:!l.inclusive&&n.inclusive?1:0}function or(l,n){const i=Gs(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?1:!l.inclusive&&n.inclusive?-1:0}class er{constructor(n){this.value=n}static empty(){return new er({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let a=0;a<n.length-1;++a)if(i=(i.mapValue.fields||{})[n.get(a)],!At(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=Tt(i)}setAll(n){let i=si.emptyPath(),a={},f=[];n.forEach((D,G)=>{if(!i.isImmediateParentOf(G)){const X=this.getFieldsMap(i);this.applyChanges(X,a,f),a={},f=[],i=G.popLast()}D?a[G.lastSegment()]=Tt(D):f.push(G.lastSegment())});const E=this.getFieldsMap(i);this.applyChanges(E,a,f)}delete(n){const i=this.field(n.popLast());At(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return ms(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<n.length;++a){let f=i.mapValue.fields[n.get(a)];At(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},i.mapValue.fields[n.get(a)]=f),i=f}return i.mapValue.fields}applyChanges(n,i,a){Il(i,(f,E)=>n[f]=E);for(const f of a)delete n[f]}clone(){return new er(Tt(this.value))}}function ir(l){const n=[];return Il(l.fields,(i,a)=>{const f=new si([i]);if(At(a)){const E=ir(a.mapValue).fields;if(0===E.length)n.push(f);else for(const D of E)n.push(f.child(D))}else n.push(f)}),new mi(n)}class _r{constructor(n,i,a,f,E,D,G){this.key=n,this.documentType=i,this.version=a,this.readTime=f,this.createTime=E,this.data=D,this.documentState=G}static newInvalidDocument(n){return new _r(n,0,Pt.min(),Pt.min(),Pt.min(),er.empty(),0)}static newFoundDocument(n,i,a,f){return new _r(n,1,i,Pt.min(),a,f,0)}static newNoDocument(n,i){return new _r(n,2,i,Pt.min(),Pt.min(),er.empty(),0)}static newUnknownDocument(n,i){return new _r(n,3,i,Pt.min(),Pt.min(),er.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(Pt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof _r&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pi{constructor(n,i){this.position=n,this.inclusive=i}}function Or(l,n,i){let a=0;for(let f=0;f<l.position.length;f++){const E=n[f],D=l.position[f];if(a=E.field.isKeyField()?lr.comparator(lr.fromName(D.referenceValue),i.key):Gs(D,i.data.field(E.field)),"desc"===E.dir&&(a*=-1),0!==a)break}return a}function qi(l,n){if(null===l)return null===n;if(null===n||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let i=0;i<l.position.length;i++)if(!ms(l.position[i],n.position[i]))return!1;return!0}class Ko{constructor(n,i="asc"){this.field=n,this.dir=i}}function Xi(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}class Qo{}class br extends Qo{constructor(n,i,a){super(),this.field=n,this.op=i,this.value=a}static create(n,i,a){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,a):new _i(n,i,a):"array-contains"===i?new ns(n,a):"in"===i?new Js(n,a):"not-in"===i?new Zs(n,a):"array-contains-any"===i?new oa(n,a):new br(n,i,a)}static createKeyFieldInFilter(n,i,a){return"in"===i?new Yr(n,a):new Li(n,a)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(Gs(i,this.value)):null!==i&&ia(this.value)===ia(i)&&this.matchesComparison(Gs(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends Qo{constructor(n,i){super(),this.filters=n,this.op=i,this.ae=null}static create(n,i){return new Gi(n,i)}matches(n){return Ys(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ys(l){return"and"===l.op}function Ne(l){return"or"===l.op}function be(l){return _t(l)&&Ys(l)}function _t(l){for(const n of l.filters)if(n instanceof Gi)return!1;return!0}function Qt(l){if(l instanceof br)return l.field.canonicalString()+l.op.toString()+as(l.value);if(be(l))return l.filters.map(n=>Qt(n)).join(",");{const n=l.filters.map(i=>Qt(i)).join(",");return`${l.op}(${n})`}}function an(l,n){return l instanceof br?(a=l,(f=n)instanceof br&&a.op===f.op&&a.field.isEqual(f.field)&&ms(a.value,f.value)):l instanceof Gi?function(a,f){return f instanceof Gi&&a.op===f.op&&a.filters.length===f.filters.length&&a.filters.reduce((E,D,G)=>E&&an(D,f.filters[G]),!0)}(l,n):void Kt();var a,f}function Wn(l,n){const i=l.filters.concat(n);return Gi.create(i,l.op)}function wr(l){return l instanceof br?`${(i=l).field.canonicalString()} ${i.op} ${as(i.value)}`:l instanceof Gi?function(i){return i.op.toString()+" {"+i.getFilters().map(wr).join(" ,")+"}"}(l):"Filter";var i}class _i extends br{constructor(n,i,a){super(n,i,a),this.key=lr.fromName(a.referenceValue)}matches(n){const i=lr.comparator(n.key,this.key);return this.matchesComparison(i)}}class Yr extends br{constructor(n,i){super(n,"in",i),this.keys=ii(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class Li extends br{constructor(n,i){super(n,"not-in",i),this.keys=ii(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function ii(l,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(a=>lr.fromName(a.referenceValue))}class ns extends br{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return ka(i)&&qo(i.arrayValue,this.value)}}class Js extends br{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&qo(this.value.arrayValue,i)}}class Zs extends br{constructor(n,i){super(n,"not-in",i)}matches(n){if(qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!qo(this.value.arrayValue,i)}}class oa extends br{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!ka(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>qo(this.value.arrayValue,a))}}class Cs{constructor(n,i=null,a=[],f=[],E=null,D=null,G=null){this.path=n,this.collectionGroup=i,this.orderBy=a,this.filters=f,this.limit=E,this.startAt=D,this.endAt=G,this.ue=null}}function vs(l,n=null,i=[],a=[],f=null,E=null,D=null){return new Cs(l,n,i,a,f,E,D)}function Zo(l){const n=st(l);if(null===n.ue){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(a=>Qt(a)).join(","),i+="|ob:",i+=n.orderBy.map(a=>{return(E=a).field.canonicalString()+E.dir;var E}).join(","),Nr(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>as(a)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>as(a)).join(",")),n.ue=i}return n.ue}function rl(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<l.orderBy.length;i++)if(!Xi(l.orderBy[i],n.orderBy[i]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let i=0;i<l.filters.length;i++)if(!an(l.filters[i],n.filters[i]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!qi(l.startAt,n.startAt)&&qi(l.endAt,n.endAt)}function Ls(l){return lr.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function xs(l,n){return l.filters.filter(i=>i instanceof br&&i.field.isEqual(n))}function fo(l,n,i){let a=io,f=!0;for(const E of xs(l,n)){let D=io,G=!0;switch(E.op){case"<":case"<=":D=Zt(E.value);break;case"==":case"in":case">=":D=E.value;break;case">":D=E.value,G=!1;break;case"!=":case"not-in":D=io}$n({value:a,inclusive:f},{value:D,inclusive:G})<0&&(a=D,f=G)}if(null!==i)for(let E=0;E<l.orderBy.length;++E)if(l.orderBy[E].field.isEqual(n)){const D=i.position[E];$n({value:a,inclusive:f},{value:D,inclusive:i.inclusive})<0&&(a=D,f=i.inclusive);break}return{value:a,inclusive:f}}function Zi(l,n,i){let a=Ga,f=!0;for(const E of xs(l,n)){let D=Ga,G=!0;switch(E.op){case">=":case">":D=Xn(E.value),G=!1;break;case"==":case"in":case"<=":D=E.value;break;case"<":D=E.value,G=!1;break;case"!=":case"not-in":D=Ga}or({value:a,inclusive:f},{value:D,inclusive:G})>0&&(a=D,f=G)}if(null!==i)for(let E=0;E<l.orderBy.length;++E)if(l.orderBy[E].field.isEqual(n)){const D=i.position[E];or({value:a,inclusive:f},{value:D,inclusive:i.inclusive})>0&&(a=D,f=i.inclusive);break}return{value:a,inclusive:f}}class Pa{constructor(n,i=null,a=[],f=[],E=null,D="F",G=null,X=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=f,this.limit=E,this.limitType=D,this.startAt=G,this.endAt=X,this.ce=null,this.le=null,this.he=null}}function _s(l,n,i,a,f,E,D,G){return new Pa(l,n,i,a,f,E,D,G)}function Na(l){return new Pa(l)}function ul(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function Ie(l){return null!==l.collectionGroup}function Ae(l){const n=st(l);if(null===n.ce){n.ce=[];const i=new Set;for(const E of n.explicitOrderBy)n.ce.push(E),i.add(E.field.canonicalString());const a=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(D){let G=new To(si.comparator);return D.filters.forEach(X=>{X.getFlattenedFilters().forEach(fe=>{fe.isInequality()&&(G=G.add(fe.field))})}),G})(n).forEach(E=>{i.has(E.canonicalString())||E.isKeyField()||n.ce.push(new Ko(E,a))}),i.has(si.keyField().canonicalString())||n.ce.push(new Ko(si.keyField(),a))}return n.ce}function qe(l){const n=st(l);return n.le||(n.le=function pt(l,n){if("F"===l.limitType)return vs(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map(f=>new Ko(f.field,"desc"===f.dir?"asc":"desc"));const i=l.endAt?new pi(l.endAt.position,l.endAt.inclusive):null,a=l.startAt?new pi(l.startAt.position,l.startAt.inclusive):null;return vs(l.path,l.collectionGroup,n,l.filters,l.limit,i,a)}}(n,Ae(l))),n.le}function cr(l,n){const i=l.filters.concat([n]);return new Pa(l.path,l.collectionGroup,l.explicitOrderBy.slice(),i,l.limit,l.limitType,l.startAt,l.endAt)}function Bi(l,n,i){return new Pa(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,i,l.startAt,l.endAt)}function ki(l,n){return rl(qe(l),qe(n))&&l.limitType===n.limitType}function La(l){return`${Zo(qe(l))}|lt:${l.limitType}`}function lo(l){return`Query(target=${function(i){let a=i.path.canonicalString();return null!==i.collectionGroup&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(f=>wr(f)).join(", ")}]`),Nr(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(f=>{return`${(D=f).field.canonicalString()} (${D.dir})`;var D}).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(f=>as(f)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(f=>as(f)).join(",")),`Target(${a})`}(qe(l))}; limitType=${l.limitType})`}function Ka(l,n){return n.isFoundDocument()&&function(a,f){const E=f.key.path;return null!==a.collectionGroup?f.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(E):lr.isDocumentKey(a.path)?a.path.isEqual(E):a.path.isImmediateParentOf(E)}(l,n)&&function(a,f){for(const E of Ae(a))if(!E.field.isKeyField()&&null===f.data.field(E.field))return!1;return!0}(l,n)&&function(a,f){for(const E of a.filters)if(!E.matches(f))return!1;return!0}(l,n)&&(f=n,!((a=l).startAt&&!function(D,G,X){const fe=Or(D,G,X);return D.inclusive?fe<=0:fe<0}(a.startAt,Ae(a),f)||a.endAt&&!function(D,G,X){const fe=Or(D,G,X);return D.inclusive?fe>=0:fe>0}(a.endAt,Ae(a),f)));var a,f}function Pl(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Ql(l){return(n,i)=>{let a=!1;for(const f of Ae(l)){const E=iu(f,n,i);if(0!==E)return E;a=a||f.field.isKeyField()}return 0}}function iu(l,n,i){const a=l.field.isKeyField()?lr.comparator(n.key,i.key):function(E,D,G){const X=D.data.field(E),fe=G.data.field(E);return null!==X&&null!==fe?Gs(X,fe):Kt()}(l.field,n,i);switch(l.dir){case"asc":return a;case"desc":return-1*a;default:return Kt()}}class Al{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),a=this.inner[i];if(void 0!==a)for(const[f,E]of a)if(this.equalsFn(f,n))return E}has(n){return void 0!==this.get(n)}set(n,i){const a=this.mapKeyFn(n),f=this.inner[a];if(void 0===f)return this.inner[a]=[[n,i]],void this.innerSize++;for(let E=0;E<f.length;E++)if(this.equalsFn(f[E][0],n))return void(f[E]=[n,i]);f.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),a=this.inner[i];if(void 0===a)return!1;for(let f=0;f<a.length;f++)if(this.equalsFn(a[f][0],n))return 1===a.length?delete this.inner[i]:a.splice(f,1),this.innerSize--,!0;return!1}forEach(n){Il(this.inner,(i,a)=>{for(const[f,E]of a)n(f,E)})}isEmpty(){return Ms(this.inner)}size(){return this.innerSize}}const mc=new Ri(lr.comparator);function _a(){return mc}const Ua=new Ri(lr.comparator);function Nl(...l){let n=Ua;for(const i of l)n=n.insert(i.key,i);return n}function tc(l){let n=Ua;return l.forEach((i,a)=>n=n.insert(i,a.overlayedDocument)),n}function fi(){return $i()}function Is(){return $i()}function $i(){return new Al(l=>l.toString(),(l,n)=>l.isEqual(n))}const Wa=new Ri(lr.comparator),ea=new To(lr.comparator);function ci(...l){let n=ea;for(const i of l)n=n.add(i);return n}const Rs=new To(kr);function ya(){return Rs}function il(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qr(n)?"-0":n}}function ou(l){return{integerValue:""+l}}function rs(l,n){return ji(n)?ou(n):il(l,n)}class sa{constructor(){this._=void 0}}function Gl(l,n,i){return l instanceof qa?function(f,E){const D={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:f.seconds,nanos:f.nanoseconds}}}};return E&&Jn(E)&&(E=Ds(E)),E&&(D.fields.__previous_value__=E),{mapValue:D}}(i,n):l instanceof ol?Gu(l,n):l instanceof Ma?bs(l,n):function(f,E){const D=lc(f,E),G=wa(D)+wa(f.Pe);return ts(D)&&ts(f.Pe)?ou(G):il(f.serializer,G)}(l,n)}function vc(l,n,i){return l instanceof ol?Gu(l,n):l instanceof Ma?bs(l,n):i}function lc(l,n){return l instanceof Ba?ts(a=n)||(E=a)&&"doubleValue"in E?n:{integerValue:0}:null;var a,E}class qa extends sa{}class ol extends sa{constructor(n){super(),this.elements=n}}function Gu(l,n){const i=Sl(n);for(const a of l.elements)i.some(f=>ms(f,a))||i.push(a);return{arrayValue:{values:i}}}class Ma extends sa{constructor(n){super(),this.elements=n}}function bs(l,n){let i=Sl(n);for(const a of l.elements)i=i.filter(f=>!ms(f,a));return{arrayValue:{values:i}}}class Ba extends sa{constructor(n,i){super(),this.serializer=n,this.Pe=i}}function wa(l){return Bo(l.integerValue||l.doubleValue)}function Sl(l){return ka(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class Kl{constructor(n,i){this.field=n,this.transform=i}}class MA{constructor(n,i){this.version=n,this.transformResults=i}}class Us{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new Us}static exists(n){return new Us(void 0,n)}static updateTime(n){return new Us(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Fc(l,n){return void 0!==l.updateTime?n.isFoundDocument()&&n.version.isEqual(l.updateTime):void 0===l.exists||l.exists===n.isFoundDocument()}class Xa{}function sl(l,n){if(!l.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return l.isNoDocument()?new _e(l.key,Us.none()):new Va(l.key,l.data,Us.none());{const i=l.data,a=er.empty();let f=new To(si.comparator);for(let E of n.fields)if(!f.has(E)){let D=i.field(E);null===D&&E.length>1&&(E=E.popLast(),D=i.field(E)),null===D?a.delete(E):a.set(E,D),f=f.add(E)}return new Ml(l.key,a,new mi(f.toArray()),Us.none())}}function _c(l,n,i){l instanceof Va?function(f,E,D){const G=f.value.clone(),X=j(f.fieldTransforms,E,D.transformResults);G.setAll(X),E.convertToFoundDocument(D.version,G).setHasCommittedMutations()}(l,n,i):l instanceof Ml?function(f,E,D){if(!Fc(f.precondition,E))return void E.convertToUnknownDocument(D.version);const G=j(f.fieldTransforms,E,D.transformResults),X=E.data;X.setAll(au(f)),X.setAll(G),E.convertToFoundDocument(D.version,X).setHasCommittedMutations()}(l,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function yc(l,n,i,a){return l instanceof Va?function(E,D,G,X){if(!Fc(E.precondition,D))return G;const fe=E.value.clone(),xe=J(E.fieldTransforms,X,D);return fe.setAll(xe),D.convertToFoundDocument(D.version,fe).setHasLocalMutations(),null}(l,n,i,a):l instanceof Ml?function(E,D,G,X){if(!Fc(E.precondition,D))return G;const fe=J(E.fieldTransforms,X,D),xe=D.data;return xe.setAll(au(E)),xe.setAll(fe),D.convertToFoundDocument(D.version,xe).setHasLocalMutations(),null===G?null:G.unionWith(E.fieldMask.fields).unionWith(E.fieldTransforms.map(Re=>Re.field))}(l,n,i,a):(G=i,Fc(l.precondition,D=n)?(D.convertToNoDocument(D.version).setHasLocalMutations(),null):G);var D,G}function Dc(l,n){let i=null;for(const a of l.fieldTransforms){const f=n.data.field(a.field),E=lc(a.transform,f||null);null!=E&&(null===i&&(i=er.empty()),i.set(a.field,E))}return i||null}function zc(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&(f=n.fieldTransforms,!!(void 0===(a=l.fieldTransforms)&&void 0===f||a&&f&&Di(a,f,(E,D)=>function su(l,n){return l.field.isEqual(n.field)&&(f=n.transform,(a=l.transform)instanceof ol&&f instanceof ol||a instanceof Ma&&f instanceof Ma?Di(a.elements,f.elements,ms):a instanceof Ba&&f instanceof Ba?ms(a.Pe,f.Pe):a instanceof qa&&f instanceof qa);var a,f}(E,D))))&&(0===l.type?l.value.isEqual(n.value):1!==l.type||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask));var a,f}class Va extends Xa{constructor(n,i,a,f=[]){super(),this.key=n,this.value=i,this.precondition=a,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class Ml extends Xa{constructor(n,i,a,f,E=[]){super(),this.key=n,this.data=i,this.fieldMask=a,this.precondition=f,this.fieldTransforms=E,this.type=1}getFieldMask(){return this.fieldMask}}function au(l){const n=new Map;return l.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=l.data.field(i);n.set(i,a)}}),n}function j(l,n,i){const a=new Map;Vn(l.length===i.length);for(let f=0;f<i.length;f++){const E=l[f],D=E.transform,G=n.data.field(E.field);a.set(E.field,vc(D,G,i[f]))}return a}function J(l,n,i){const a=new Map;for(const f of l){const E=f.transform,D=i.data.field(f.field);a.set(f.field,Gl(E,D,n))}return a}class _e extends Xa{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V extends Xa{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ge{constructor(n,i,a,f){this.batchId=n,this.localWriteTime=i,this.baseMutations=a,this.mutations=f}applyToRemoteDocument(n,i){const a=i.mutationResults;for(let f=0;f<this.mutations.length;f++){const E=this.mutations[f];E.key.isEqual(n.key)&&_c(E,n,a[f])}}applyToLocalView(n,i){for(const a of this.baseMutations)a.key.isEqual(n.key)&&(i=yc(a,n,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(n.key)&&(i=yc(a,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const a=Is();return this.mutations.forEach(f=>{const E=n.get(f.key),D=E.overlayedDocument;let G=this.applyToLocalView(D,E.mutatedFields);G=i.has(f.key)?null:G;const X=sl(D,G);null!==X&&a.set(f.key,X),D.isValidDocument()||D.convertToNoDocument(Pt.min())}),a}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),ci())}isEqual(n){return this.batchId===n.batchId&&Di(this.mutations,n.mutations,(i,a)=>zc(i,a))&&Di(this.baseMutations,n.baseMutations,(i,a)=>zc(i,a))}}class x{constructor(n,i,a,f){this.batch=n,this.commitVersion=i,this.mutationResults=a,this.docVersions=f}static from(n,i,a){Vn(n.mutations.length===a.length);let f=function(){return Wa}();const E=n.mutations;for(let D=0;D<E.length;D++)f=f.insert(E[D].key,a[D].version);return new x(n,i,a,f)}}class ne{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class se{constructor(n,i){this.count=n,this.unchangedNames=i}}var Ve,ut;function jn(l){switch(l){default:return Kt();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function mr(l){if(void 0===l)return zn("GRPC error has no .code"),we.UNKNOWN;switch(l){case Ve.OK:return we.OK;case Ve.CANCELLED:return we.CANCELLED;case Ve.UNKNOWN:return we.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return we.INTERNAL;case Ve.UNAVAILABLE:return we.UNAVAILABLE;case Ve.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Ve.NOT_FOUND:return we.NOT_FOUND;case Ve.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Ve.ABORTED:return we.ABORTED;case Ve.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Ve.DATA_LOSS:return we.DATA_LOSS;default:return Kt()}}(ut=Ve||(Ve={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";function oo(){return new TextEncoder}const Fo=new Ut([4294967295,4294967295],0);function Do(l){const n=oo().encode(l),i=new Ct;return i.update(n),new Uint8Array(i.digest())}function Lo(l){const n=new DataView(l.buffer),i=n.getUint32(0,!0),a=n.getUint32(4,!0),f=n.getUint32(8,!0),E=n.getUint32(12,!0);return[new Ut([i,a],0),new Ut([f,E],0)]}class Go{constructor(n,i,a){if(this.bitmap=n,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ks(`Invalid padding: ${i}`);if(a<0)throw new Ks(`Invalid hash count: ${a}`);if(n.length>0&&0===this.hashCount)throw new Ks(`Invalid hash count: ${a}`);if(0===n.length&&0!==i)throw new Ks(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*n.length-i,this.Te=Ut.fromNumber(this.Ie)}Ee(n,i,a){let f=n.add(i.multiply(Ut.fromNumber(a)));return 1===f.compare(Fo)&&(f=new Ut([f.getBits(0),f.getBits(1)],0)),f.modulo(this.Te).toNumber()}de(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.Ie)return!1;const i=Do(n),[a,f]=Lo(i);for(let E=0;E<this.hashCount;E++){const D=this.Ee(a,f,E);if(!this.de(D))return!1}return!0}static create(n,i,a){const f=n%8==0?0:8-n%8,E=new Uint8Array(Math.ceil(n/8)),D=new Go(E,f,i);return a.forEach(G=>D.insert(G)),D}insert(n){if(0===this.Ie)return;const i=Do(n),[a,f]=Lo(i);for(let E=0;E<this.hashCount;E++){const D=this.Ee(a,f,E);this.Ae(D)}}Ae(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class Ks extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class es{constructor(n,i,a,f,E){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=f,this.resolvedLimboDocuments=E}static createSynthesizedRemoteEventForCurrentChange(n,i,a){const f=new Map;return f.set(n,Br.createSynthesizedTargetChangeForCurrentChange(n,i,a)),new es(Pt.min(),f,new Ri(kr),_a(),ci())}}class Br{constructor(n,i,a,f,E){this.resumeToken=n,this.current=i,this.addedDocuments=a,this.modifiedDocuments=f,this.removedDocuments=E}static createSynthesizedTargetChangeForCurrentChange(n,i,a){return new Br(a,i,ci(),ci(),ci())}}class wi{constructor(n,i,a,f){this.Re=n,this.removedTargetIds=i,this.key=a,this.Ve=f}}class is{constructor(n,i){this.targetId=n,this.me=i}}class da{constructor(n,i,a=Io.EMPTY_BYTE_STRING,f=null){this.state=n,this.targetIds=i,this.resumeToken=a,this.cause=f}}class ls{constructor(){this.fe=0,this.ge=ds(),this.pe=Io.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}Ce(){let n=ci(),i=ci(),a=ci();return this.ge.forEach((f,E)=>{switch(E){case 0:n=n.add(f);break;case 2:i=i.add(f);break;case 1:a=a.add(f);break;default:Kt()}}),new Br(this.pe,this.ye,n,i,a)}ve(){this.we=!1,this.ge=ds()}Fe(n,i){this.we=!0,this.ge=this.ge.insert(n,i)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,Vn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dl{constructor(n){this.Le=n,this.Be=new Map,this.ke=_a(),this.qe=lu(),this.Qe=new Ri(kr)}Ke(n){for(const i of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(i,n.Ve):this.Ue(i,n.key,n.Ve);for(const i of n.removedTargetIds)this.Ue(i,n.key,n.Ve)}We(n){this.forEachTarget(n,i=>{const a=this.Ge(i);switch(n.state){case 0:this.ze(i)&&a.De(n.resumeToken);break;case 1:a.Oe(),a.Se||a.ve(),a.De(n.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(n.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(n.resumeToken));break;default:Kt()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.Be.forEach((a,f)=>{this.ze(f)&&i(f)})}He(n){const i=n.targetId,a=n.me.count,f=this.Je(i);if(f){const E=f.target;if(Ls(E))if(0===a){const D=new lr(E.path);this.Ue(i,D,_r.newNoDocument(D,Pt.min()))}else Vn(1===a);else{const D=this.Ye(i);if(D!==a){const G=this.Ze(n),X=G?this.Xe(G,n,D):1;0!==X&&(this.je(i),this.Qe=this.Qe.insert(i,2===X?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(n){const i=n.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:f=0},hashCount:E=0}=i;let D,G;try{D=ra(a).toUint8Array()}catch(X){if(X instanceof yo)return yr("Decoding the base64 bloom filter in existence filter failed ("+X.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw X}try{G=new Go(D,f,E)}catch(X){return yr(X instanceof Ks?"BloomFilter error: ":"Applying bloom filter failed: ",X),null}return 0===G.Ie?null:G}Xe(n,i,a){return i.me.count===a-this.nt(n,i.targetId)?0:2}nt(n,i){const a=this.Le.getRemoteKeysForTarget(i);let f=0;return a.forEach(E=>{const D=this.Le.tt(),G=`projects/${D.projectId}/databases/${D.database}/documents/${E.path.canonicalString()}`;n.mightContain(G)||(this.Ue(i,E,null),f++)}),f}rt(n){const i=new Map;this.Be.forEach((E,D)=>{const G=this.Je(D);if(G){if(E.current&&Ls(G.target)){const X=new lr(G.target.path);null!==this.ke.get(X)||this.it(D,X)||this.Ue(D,X,_r.newNoDocument(X,n))}E.be&&(i.set(D,E.Ce()),E.ve())}});let a=ci();this.qe.forEach((E,D)=>{let G=!0;D.forEachWhile(X=>{const fe=this.Je(X);return!fe||"TargetPurposeLimboResolution"===fe.purpose||(G=!1,!1)}),G&&(a=a.add(E))}),this.ke.forEach((E,D)=>D.setReadTime(n));const f=new es(n,i,this.Qe,this.ke,a);return this.ke=_a(),this.qe=lu(),this.Qe=new Ri(kr),f}$e(n,i){if(!this.ze(n))return;const a=this.it(n,i.key)?2:0;this.Ge(n).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(n))}Ue(n,i,a){if(!this.ze(n))return;const f=this.Ge(n);this.it(n,i)?f.Fe(i,1):f.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(n)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(n){this.Be.delete(n)}Ye(n){const i=this.Ge(n).Ce();return this.Le.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let i=this.Be.get(n);return i||(i=new ls,this.Be.set(n,i)),i}st(n){let i=this.qe.get(n);return i||(i=new To(kr),this.qe=this.qe.insert(n,i)),i}ze(n){const i=null!==this.Je(n);return i||nt("WatchChangeAggregator","Detected inactive target",n),i}Je(n){const i=this.Be.get(n);return i&&i.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new ls),this.Le.getRemoteKeysForTarget(n).forEach(i=>{this.Ue(n,i,null)})}it(n,i){return this.Le.getRemoteKeysForTarget(n).has(i)}}function lu(){return new Ri(lr.comparator)}function ds(){return new Ri(lr.comparator)}const xo={asc:"ASCENDING",desc:"DESCENDING"},Ea={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wo={and:"AND",or:"OR"};class _u{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function cu(l,n){return l.useProto3Json||Nr(n)?n:{value:n}}function nc(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Fa(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function $c(l,n){return nc(l,n.toTimestamp())}function ha(l){return Vn(!!l),Pt.fromTimestamp(function(i){const a=Oa(i);return new fr(a.seconds,a.nanos)}(l))}function xc(l,n){return uu(l,n).canonicalString()}function uu(l,n){const i=(f=l,new vn(["projects",f.projectId,"databases",f.database])).child("documents");var f;return void 0===n?i:i.child(n)}function lA(l){const n=vn.fromString(l);return Vn(cA(n)),n}function wc(l,n){return xc(l.databaseId,n.path)}function Tl(l,n){const i=lA(n);if(i.get(1)!==l.databaseId.projectId)throw new Fe(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+l.databaseId.projectId);if(i.get(3)!==l.databaseId.database)throw new Fe(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+l.databaseId.database);return new lr(YA(i))}function Wl(l,n){return xc(l.databaseId,n)}function so(l){const n=lA(l);return 4===n.length?vn.emptyPath():YA(n)}function Ku(l){return new vn(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function YA(l){return Vn(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Ya(l,n,i){return{name:wc(l,n),fields:i.value.mapValue.fields}}function OA(l,n,i){const a=Tl(l,n.name),f=ha(n.updateTime),E=n.createTime?ha(n.createTime):Pt.min(),D=new er({mapValue:{fields:n.fields}}),G=_r.newFoundDocument(a,f,E,D);return i&&G.setHasCommittedMutations(),i?G.setHasCommittedMutations():G}function Gc(l,n){let i;if(n instanceof Va)i={update:Ya(l,n.key,n.value)};else if(n instanceof _e)i={delete:wc(l,n.key)};else if(n instanceof Ml)i={update:Ya(l,n.key,n.data),updateMask:_h(n.fieldMask)};else{if(!(n instanceof V))return Kt();i={verify:wc(l,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(a=>function(E,D){const G=D.transform;if(G instanceof qa)return{fieldPath:D.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(G instanceof ol)return{fieldPath:D.field.canonicalString(),appendMissingElements:{values:G.elements}};if(G instanceof Ma)return{fieldPath:D.field.canonicalString(),removeAllFromArray:{values:G.elements}};if(G instanceof Ba)return{fieldPath:D.field.canonicalString(),increment:G.Pe};throw Kt()}(0,a))),n.precondition.isNone||(i.currentDocument=void 0!==(E=n.precondition).updateTime?{updateTime:$c(l,E.updateTime)}:void 0!==E.exists?{exists:E.exists}:Kt()),i;var E}function hl(l,n){const i=n.currentDocument?void 0!==(E=n.currentDocument).updateTime?Us.updateTime(ha(E.updateTime)):void 0!==E.exists?Us.exists(E.exists):Us.none():Us.none(),a=n.updateTransforms?n.updateTransforms.map(f=>function(D,G){let X=null;"setToServerValue"in G?(Vn("REQUEST_TIME"===G.setToServerValue),X=new qa):"appendMissingElements"in G?X=new ol(G.appendMissingElements.values||[]):"removeAllFromArray"in G?X=new Ma(G.removeAllFromArray.values||[]):"increment"in G?X=new Ba(D,G.increment):Kt();const fe=si.fromServerFormat(G.fieldPath);return new Kl(fe,X)}(l,f)):[];var E;if(n.update){const f=Tl(l,n.update.name),E=new er({mapValue:{fields:n.update.fields}});if(n.updateMask){const D=new mi((n.updateMask.fieldPaths||[]).map(xe=>si.fromServerFormat(xe)));return new Ml(f,E,D,i,a)}return new Va(f,E,i,a)}if(n.delete){const f=Tl(l,n.delete);return new _e(f,i)}if(n.verify){const f=Tl(l,n.verify);return new V(f,i)}return Kt()}function md(l,n){return{documents:[Wl(l,n.path)]}}function yu(l,n){const i={structuredQuery:{}},a=n.path;let f;null!==n.collectionGroup?(f=a,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(f=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Wl(l,f);const E=function(fe){if(0!==fe.length)return Kd(Gi.create(fe,"and"))}(n.filters);E&&(i.structuredQuery.where=E);const D=function(fe){if(0!==fe.length)return fe.map(xe=>{return{field:Eu(($e=xe).field),direction:Au($e.dir)};var $e})}(n.orderBy);D&&(i.structuredQuery.orderBy=D);const G=cu(l,n.limit);return null!==G&&(i.structuredQuery.limit=G),n.startAt&&(i.structuredQuery.startAt={before:(fe=n.startAt).inclusive,values:fe.position}),n.endAt&&(i.structuredQuery.endAt=function(fe){return{before:!fe.inclusive,values:fe.position}}(n.endAt)),{_t:i,parent:f};var fe}function jl(l){let n=so(l.parent);const i=l.structuredQuery,a=i.from?i.from.length:0;let f=null;if(a>0){Vn(1===a);const xe=i.from[0];xe.allDescendants?f=xe.collectionId:n=n.child(xe.collectionId)}let E=[];i.where&&(E=function(Re){const $e=wu(Re);return $e instanceof Gi&&be($e)?$e.getFilters():[$e]}(i.where));let D=[];i.orderBy&&(D=i.orderBy.map($e=>{return new Ko(cc((nn=$e).field),function(Ln){switch(Ln){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(nn.direction));var nn}));let G=null;i.limit&&(G=function(Re){let $e;return $e="object"==typeof Re?Re.value:Re,Nr($e)?null:$e}(i.limit));let X=null;var Re;i.startAt&&(X=new pi((Re=i.startAt).values||[],!!Re.before));let fe=null;return i.endAt&&(fe=function(Re){return new pi(Re.values||[],!Re.before)}(i.endAt)),_s(n,f,D,E,G,"F",X,fe)}function wu(l){return void 0!==l.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=cc(i.unaryFilter.field);return br.create(a,"==",{doubleValue:NaN});case"IS_NULL":const f=cc(i.unaryFilter.field);return br.create(f,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const E=cc(i.unaryFilter.field);return br.create(E,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const D=cc(i.unaryFilter.field);return br.create(D,"!=",{nullValue:"NULL_VALUE"});default:return Kt()}}(l):void 0!==l.fieldFilter?br.create(cc((i=l).fieldFilter.field),function(f){switch(f){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==l.compositeFilter?function(i){return Gi.create(i.compositeFilter.filters.map(a=>wu(a)),function(f){switch(f){case"AND":return"and";case"OR":return"or";default:return Kt()}}(i.compositeFilter.op))}(l):Kt();var i}function Au(l){return xo[l]}function Wu(l){return Ea[l]}function vh(l){return wo[l]}function Eu(l){return{fieldPath:l.canonicalString()}}function cc(l){return si.fromServerFormat(l.fieldPath)}function Kd(l){return l instanceof br?function(i){if("=="===i.op){if(Je(i.value))return{unaryFilter:{field:Eu(i.field),op:"IS_NAN"}};if(Te(i.value))return{unaryFilter:{field:Eu(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(Je(i.value))return{unaryFilter:{field:Eu(i.field),op:"IS_NOT_NAN"}};if(Te(i.value))return{unaryFilter:{field:Eu(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eu(i.field),op:Wu(i.op),value:i.value}}}(l):l instanceof Gi?function(i){const a=i.getFilters().map(f=>Kd(f));return 1===a.length?a[0]:{compositeFilter:{op:vh(i.op),filters:a}}}(l):Kt()}function _h(l){const n=[];return l.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function cA(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class Rc{constructor(n,i,a,f,E=Pt.min(),D=Pt.min(),G=Io.EMPTY_BYTE_STRING,X=null){this.target=n,this.targetId=i,this.purpose=a,this.sequenceNumber=f,this.snapshotVersion=E,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=G,this.expectedCount=X}withSequenceNumber(n){return new Rc(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class yh{constructor(n){this.ct=n}}function Xh(l,n){const i=n.key,a={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:Kc(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())a.document={name:wc(E=l.ct,(D=n).key),fields:D.data.value.mapValue.fields,updateTime:nc(E,D.version.toTimestamp()),createTime:nc(E,D.createTime.toTimestamp())};else if(n.isNoDocument())a.noDocument={path:i.path.toArray(),readTime:AA(n.version)};else{if(!n.isUnknownDocument())return Kt();a.unknownDocument={path:i.path.toArray(),version:AA(n.version)}}var E,D;return a}function Kc(l){const n=l.toTimestamp();return[n.seconds,n.nanoseconds]}function AA(l){const n=l.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function qu(l){const n=new fr(l.seconds,l.nanoseconds);return Pt.fromTimestamp(n)}function dA(l,n){const i=(n.baseMutations||[]).map(E=>hl(l.ct,E));for(let E=0;E<n.mutations.length-1;++E)E+1<n.mutations.length&&void 0!==n.mutations[E+1].transform&&(n.mutations[E].updateTransforms=n.mutations[E+1].transform.fieldTransforms,n.mutations.splice(E+1,1),++E);const a=n.mutations.map(E=>hl(l.ct,E)),f=fr.fromMillis(n.localWriteTimeMs);return new ge(n.batchId,f,i,a)}function al(l){const n=qu(l.readTime),i=void 0!==l.lastLimboFreeSnapshotVersion?qu(l.lastLimboFreeSnapshotVersion):Pt.min();let a;return a=void 0!==l.query.documents?(Vn(1===(E=l.query).documents.length),qe(Na(so(E.documents[0])))):function(E){return qe(jl(E))}(l.query),new Rc(a,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,n,i,Io.fromBase64String(l.resumeToken));var E}function Wd(l,n){const i=AA(n.snapshotVersion),a=AA(n.lastLimboFreeSnapshotVersion);let f;f=Ls(n.target)?md(l.ct,n.target):yu(l.ct,n.target)._t;const E=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:Zo(n.target),readTime:i,resumeToken:E,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:f}}function L(l){const n=jl({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?Bi(n,n.limit,"L"):n}function q(l,n){return new ne(n.largestBatchId,hl(l.ct,n.overlayMutation))}function ie(l,n){const i=n.path.lastSegment();return[l,$o(n.path.popLast()),i]}function W(l,n,i,a){return{indexId:l,uid:n,sequenceNumber:i,readTime:AA(a.readTime),documentKey:$o(a.documentKey.path),largestBatchId:a.largestBatchId}}class ue{getBundleMetadata(n,i){return He(n).get(i).next(a=>{if(a)return{id:(E=a).bundleId,createTime:qu(E.createTime),version:E.version};var E})}saveBundleMetadata(n,i){return He(n).put({bundleId:(f=i).id,createTime:AA(ha(f.createTime)),version:f.version});var f}getNamedQuery(n,i){return lt(n).get(i).next(a=>{if(a)return{name:(E=a).name,query:L(E.bundledQuery),readTime:qu(E.readTime)};var E})}saveNamedQuery(n,i){return lt(n).put({name:(f=i).name,readTime:AA(ha(f.readTime)),bundledQuery:f.bundledQuery});var f}}function He(l){return Ji(l,"bundles")}function lt(l){return Ji(l,"namedQueries")}class yn{constructor(n,i){this.serializer=n,this.userId=i}static lt(n,i){return new yn(n,i.uid||"")}getOverlay(n,i){return Zn(n).get(ie(this.userId,i)).next(a=>a?q(this.serializer,a):null)}getOverlays(n,i){const a=fi();return cn.forEach(i,f=>this.getOverlay(n,f).next(E=>{null!==E&&a.set(f,E)})).next(()=>a)}saveOverlays(n,i,a){const f=[];return a.forEach((E,D)=>{const G=new ne(i,D);f.push(this.ht(n,G))}),cn.waitFor(f)}removeOverlaysForBatchId(n,i,a){const f=new Set;i.forEach(D=>f.add($o(D.getCollectionPath())));const E=[];return f.forEach(D=>{const G=IDBKeyRange.bound([this.userId,D,a],[this.userId,D,a+1],!1,!0);E.push(Zn(n).j("collectionPathOverlayIndex",G))}),cn.waitFor(E)}getOverlaysForCollection(n,i,a){const f=fi(),E=$o(i),D=IDBKeyRange.bound([this.userId,E,a],[this.userId,E,Number.POSITIVE_INFINITY],!0);return Zn(n).U("collectionPathOverlayIndex",D).next(G=>{for(const X of G){const fe=q(this.serializer,X);f.set(fe.getKey(),fe)}return f})}getOverlaysForCollectionGroup(n,i,a,f){const E=fi();let D;const G=IDBKeyRange.bound([this.userId,i,a],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Zn(n).J({index:"collectionGroupOverlayIndex",range:G},(X,fe,xe)=>{const Re=q(this.serializer,fe);E.size()<f||Re.largestBatchId===D?(E.set(Re.getKey(),Re),D=Re.largestBatchId):xe.done()}).next(()=>E)}ht(n,i){return Zn(n).put(function(f,E,D){const[G,X,fe]=ie(E,D.mutation.key);return{userId:E,collectionPath:X,documentId:fe,collectionGroup:D.mutation.key.getCollectionGroup(),largestBatchId:D.largestBatchId,overlayMutation:Gc(f.ct,D.mutation)}}(this.serializer,this.userId,i))}}function Zn(l){return Ji(l,"documentOverlays")}class In{constructor(){}Pt(n,i){this.It(n,i),i.Tt()}It(n,i){if("nullValue"in n)this.Et(i,5);else if("booleanValue"in n)this.Et(i,10),i.dt(n.booleanValue?1:0);else if("integerValue"in n)this.Et(i,15),i.dt(Bo(n.integerValue));else if("doubleValue"in n){const a=Bo(n.doubleValue);isNaN(a)?this.Et(i,13):(this.Et(i,15),qr(a)?i.dt(0):i.dt(a))}else if("timestampValue"in n){let a=n.timestampValue;this.Et(i,20),"string"==typeof a&&(a=Oa(a)),i.At(`${a.seconds||""}`),i.dt(a.nanos||0)}else if("stringValue"in n)this.Rt(n.stringValue,i),this.Vt(i);else if("bytesValue"in n)this.Et(i,30),i.ft(ra(n.bytesValue)),this.Vt(i);else if("referenceValue"in n)this.gt(n.referenceValue,i);else if("geoPointValue"in n){const a=n.geoPointValue;this.Et(i,45),i.dt(a.latitude||0),i.dt(a.longitude||0)}else"mapValue"in n?rn(n)?this.Et(i,Number.MAX_SAFE_INTEGER):(this.yt(n.mapValue,i),this.Vt(i)):"arrayValue"in n?(this.wt(n.arrayValue,i),this.Vt(i)):Kt()}Rt(n,i){this.Et(i,25),this.St(n,i)}St(n,i){i.At(n)}yt(n,i){const a=n.fields||{};this.Et(i,55);for(const f of Object.keys(a))this.Rt(f,i),this.It(a[f],i)}wt(n,i){const a=n.values||[];this.Et(i,50);for(const f of a)this.It(f,i)}gt(n,i){this.Et(i,37),lr.fromName(n).path.forEach(a=>{this.Et(i,60),this.St(a,i)})}Et(n,i){n.dt(i)}Vt(n){n.dt(2)}}function oi(l){if(0===l)return 8;let n=0;return!(l>>4)&&(n+=4,l<<=4),!(l>>6)&&(n+=2,l<<=2),!(l>>7)&&(n+=1),n}function to(l){const n=64-function(a){let f=0;for(let E=0;E<8;++E){const D=oi(255&a[E]);if(f+=D,8!==D)break}return f}(l);return Math.ceil(n/8)}In.bt=new In;class Cr{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(n){const i=n[Symbol.iterator]();let a=i.next();for(;!a.done;)this.Ct(a.value),a=i.next();this.vt()}Ft(n){const i=n[Symbol.iterator]();let a=i.next();for(;!a.done;)this.Mt(a.value),a=i.next();this.xt()}Ot(n){for(const i of n){const a=i.charCodeAt(0);if(a<128)this.Ct(a);else if(a<2048)this.Ct(960|a>>>6),this.Ct(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.Ct(480|a>>>12),this.Ct(128|63&a>>>6),this.Ct(128|63&a);else{const f=i.codePointAt(0);this.Ct(240|f>>>18),this.Ct(128|63&f>>>12),this.Ct(128|63&f>>>6),this.Ct(128|63&f)}}this.vt()}Nt(n){for(const i of n){const a=i.charCodeAt(0);if(a<128)this.Mt(a);else if(a<2048)this.Mt(960|a>>>6),this.Mt(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.Mt(480|a>>>12),this.Mt(128|63&a>>>6),this.Mt(128|63&a);else{const f=i.codePointAt(0);this.Mt(240|f>>>18),this.Mt(128|63&f>>>12),this.Mt(128|63&f>>>6),this.Mt(128|63&f)}}this.xt()}Lt(n){const i=this.Bt(n),a=to(i);this.kt(1+a),this.buffer[this.position++]=255&a;for(let f=i.length-a;f<i.length;++f)this.buffer[this.position++]=255&i[f]}qt(n){const i=this.Bt(n),a=to(i);this.kt(1+a),this.buffer[this.position++]=~(255&a);for(let f=i.length-a;f<i.length;++f)this.buffer[this.position++]=~(255&i[f])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(n){this.kt(n.length),this.buffer.set(n,this.position),this.position+=n.length}Wt(){return this.buffer.slice(0,this.position)}Bt(n){const i=function(E){const D=new DataView(new ArrayBuffer(8));return D.setFloat64(0,E,!1),new Uint8Array(D.buffer)}(n),a=!!(128&i[0]);i[0]^=a?255:128;for(let f=1;f<i.length;++f)i[f]^=a?255:0;return i}Ct(n){const i=255&n;0===i?(this.Kt(0),this.Kt(255)):255===i?(this.Kt(255),this.Kt(0)):this.Kt(i)}Mt(n){const i=255&n;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(n)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(n){this.kt(1),this.buffer[this.position++]=n}Ut(n){this.kt(1),this.buffer[this.position++]=~n}kt(n){const i=n+this.position;if(i<=this.buffer.length)return;let a=2*this.buffer.length;a<i&&(a=i);const f=new Uint8Array(a);f.set(this.buffer),this.buffer=f}}class vo{constructor(n){this.Gt=n}ft(n){this.Gt.Dt(n)}At(n){this.Gt.Ot(n)}dt(n){this.Gt.Lt(n)}Tt(){this.Gt.Qt()}}class Ss{constructor(n){this.Gt=n}ft(n){this.Gt.Ft(n)}At(n){this.Gt.Nt(n)}dt(n){this.Gt.qt(n)}Tt(){this.Gt.$t()}}class Vs{constructor(){this.Gt=new Cr,this.zt=new vo(this.Gt),this.jt=new Ss(this.Gt)}seed(n){this.Gt.seed(n)}Ht(n){return 0===n?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Ns{constructor(n,i,a,f){this.indexId=n,this.documentKey=i,this.arrayValue=a,this.directionalValue=f}Jt(){const n=this.directionalValue.length,i=0===n||255===this.directionalValue[n-1]?n+1:n,a=new Uint8Array(i);return a.set(this.directionalValue,0),i!==n?a.set([0],this.directionalValue.length):++a[a.length-1],new Ns(this.indexId,this.documentKey,this.arrayValue,a)}}function fl(l,n){let i=l.indexId-n.indexId;return 0!==i?i:(i=Wc(l.arrayValue,n.arrayValue),0!==i?i:(i=Wc(l.directionalValue,n.directionalValue),0!==i?i:lr.comparator(l.documentKey,n.documentKey)))}function Wc(l,n){for(let i=0;i<l.length&&i<n.length;++i){const a=l[i]-n[i];if(0!==a)return a}return l.length-n.length}class uc{constructor(n){this.Yt=new To((i,a)=>si.comparator(i.field,a.field)),this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.Zt=n.orderBy,this.Xt=[];for(const i of n.filters){const a=i;a.isInequality()?this.Yt=this.Yt.add(a):this.Xt.push(a)}}get en(){return this.Yt.size>1}tn(n){if(Vn(n.collectionGroup===this.collectionId),this.en)return!1;const i=Hr(n);if(void 0!==i&&!this.nn(i))return!1;const a=Er(n);let f=new Set,E=0,D=0;for(;E<a.length&&this.nn(a[E]);++E)f=f.add(a[E].fieldPath.canonicalString());if(E===a.length)return!0;if(this.Yt.size>0){const G=this.Yt.getIterator().getNext();if(!f.has(G.field.canonicalString())){const X=a[E];if(!this.rn(G,X)||!this.sn(this.Zt[D++],X))return!1}++E}for(;E<a.length;++E)if(D>=this.Zt.length||!this.sn(this.Zt[D++],a[E]))return!1;return!0}on(){if(this.en)return null;let n=new To(si.comparator);const i=[];for(const a of this.Xt)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)i.push(new eo(a.field,2));else{if(n.has(a.field))continue;n=n.add(a.field),i.push(new eo(a.field,0))}for(const a of this.Zt)a.field.isKeyField()||n.has(a.field)||(n=n.add(a.field),i.push(new eo(a.field,"asc"===a.dir?0:1)));return new di(di.UNKNOWN_ID,this.collectionId,i,_o.empty())}nn(n){for(const i of this.Xt)if(this.rn(i,n))return!0;return!1}rn(n,i){return!(void 0===n||!n.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===n.op||"array-contains-any"===n.op)}sn(n,i){return!!n.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===n.dir||1===i.kind&&"desc"===n.dir)}}function Xu(l){var n,i;if(Vn(l instanceof br||l instanceof Gi),l instanceof br){if(l instanceof Js){const f=(null===(i=null===(n=l.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(E=>br.create(l.field,"==",E)))||[];return Gi.create(f,"or")}return l}const a=l.filters.map(f=>Xu(f));return Gi.create(a,l.op)}function qc(l){if(0===l.getFilters().length)return[];const n=Da(Xu(l));return Vn(_l(n)),la(n)||kc(n)?[n]:n.getFilters()}function la(l){return l instanceof br}function kc(l){return l instanceof Gi&&be(l)}function _l(l){return la(l)||kc(l)||function(i){if(i instanceof Gi&&Ne(i)){for(const a of i.getFilters())if(!la(a)&&!kc(a))return!1;return!0}return!1}(l)}function Da(l){if(Vn(l instanceof br||l instanceof Gi),l instanceof br)return l;if(1===l.filters.length)return Da(l.filters[0]);const n=l.filters.map(a=>Da(a));let i=Gi.create(n,l.op);return i=Iu(i),_l(i)?i:(Vn(i instanceof Gi),Vn(Ys(i)),Vn(i.filters.length>1),i.filters.reduce((a,f)=>du(a,f)))}function du(l,n){let i;return Vn(l instanceof br||l instanceof Gi),Vn(n instanceof br||n instanceof Gi),i=l instanceof br?n instanceof br?Gi.create([l,n],"and"):Cu(l,n):n instanceof br?Cu(n,l):function(f,E){if(Vn(f.filters.length>0&&E.filters.length>0),Ys(f)&&Ys(E))return Wn(f,E.getFilters());const D=Ne(f)?f:E,G=Ne(f)?E:f,X=D.filters.map(fe=>du(fe,G));return Gi.create(X,"or")}(l,n),Iu(i)}function Cu(l,n){if(Ys(n))return Wn(n,l.getFilters());{const i=n.filters.map(a=>du(l,a));return Gi.create(i,"or")}}function Iu(l){if(Vn(l instanceof br||l instanceof Gi),l instanceof br)return l;const n=l.getFilters();if(1===n.length)return Iu(n[0]);if(_t(l))return l;const i=n.map(f=>Iu(f)),a=[];return i.forEach(f=>{f instanceof br?a.push(f):f instanceof Gi&&(f.op===l.op?a.push(...f.filters):a.push(f))}),1===a.length?a[0]:Gi.create(a,l.op)}class ql{constructor(){this._n=new bu}addToCollectionParentIndex(n,i){return this._n.add(i),cn.resolve()}getCollectionParents(n,i){return cn.resolve(this._n.getEntries(i))}addFieldIndex(n,i){return cn.resolve()}deleteFieldIndex(n,i){return cn.resolve()}deleteAllFieldIndexes(n){return cn.resolve()}createTargetIndexes(n,i){return cn.resolve()}getDocumentsMatchingTarget(n,i){return cn.resolve(null)}getIndexType(n,i){return cn.resolve(0)}getFieldIndexes(n,i){return cn.resolve([])}getNextCollectionGroupToUpdate(n){return cn.resolve(null)}getMinOffset(n,i){return cn.resolve(Zr.min())}getMinOffsetFromCollectionGroup(n,i){return cn.resolve(Zr.min())}updateCollectionGroup(n,i,a){return cn.resolve()}updateIndexEntries(n,i){return cn.resolve()}}class bu{constructor(){this.index={}}add(n){const i=n.lastSegment(),a=n.popLast(),f=this.index[i]||new To(vn.comparator),E=!f.has(a);return this.index[i]=f.add(a),E}has(n){const i=n.lastSegment(),a=n.popLast(),f=this.index[i];return f&&f.has(a)}getEntries(n){return(this.index[n]||new To(vn.comparator)).toArray()}}const Pc=new Uint8Array(0);class _d{constructor(n,i){this.databaseId=i,this.an=new bu,this.un=new Al(a=>Zo(a),(a,f)=>rl(a,f)),this.uid=n.uid||""}addToCollectionParentIndex(n,i){if(!this.an.has(i)){const a=i.lastSegment(),f=i.popLast();n.addOnCommittedListener(()=>{this.an.add(i)});const E={collectionId:a,parent:$o(f)};return Vi(n).put(E)}return cn.resolve()}getCollectionParents(n,i){const a=[],f=IDBKeyRange.bound([i,""],[Wi(i),""],!1,!0);return Vi(n).U(f).next(E=>{for(const D of E){if(D.collectionId!==i)break;a.push(Fr(D.parent))}return a})}addFieldIndex(n,i){const a=Su(n),f={indexId:(G=i).indexId,collectionGroup:G.collectionGroup,fields:G.fields.map(X=>[X.fieldPath.canonicalString(),X.kind])};var G;delete f.indexId;const E=a.add(f);if(i.indexState){const D=Ec(n);return E.next(G=>{D.put(W(G,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return E.next()}deleteFieldIndex(n,i){const a=Su(n),f=Ec(n),E=hs(n);return a.delete(i.indexId).next(()=>f.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>E.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(n){const i=Su(n),a=hs(n),f=Ec(n);return i.j().next(()=>a.j()).next(()=>f.j())}createTargetIndexes(n,i){return cn.forEach(this.cn(i),a=>this.getIndexType(n,a).next(f=>{if(0===f||1===f){const E=new uc(a).on();if(null!=E)return this.addFieldIndex(n,E)}}))}getDocumentsMatchingTarget(n,i){const a=hs(n);let f=!0;const E=new Map;return cn.forEach(this.cn(i),D=>this.ln(n,D).next(G=>{f&&(f=!!G),E.set(D,G)})).next(()=>{if(f){let D=ci();const G=[];return cn.forEach(E,(X,fe)=>{var rr;nt("IndexedDbIndexManager",`Using index ${rr=X,`id=${rr.indexId}|cg=${rr.collectionGroup}|f=${rr.fields.map(Ti=>`${Ti.fieldPath}:${Ti.kind}`).join(",")}`} to execute ${Zo(i)}`);const xe=function(rr,Ti){const mo=Hr(Ti);if(void 0===mo)return null;for(const Fi of xs(rr,mo.fieldPath))switch(Fi.op){case"array-contains-any":return Fi.value.arrayValue.values||[];case"array-contains":return[Fi.value]}return null}(fe,X),Re=function(rr,Ti){const mo=new Map;for(const Fi of Er(Ti))for(const on of xs(rr,Fi.fieldPath))switch(on.op){case"==":case"in":mo.set(Fi.fieldPath.canonicalString(),on.value);break;case"not-in":case"!=":return mo.set(Fi.fieldPath.canonicalString(),on.value),Array.from(mo.values())}return null}(fe,X),$e=function(rr,Ti){const mo=[];let Fi=!0;for(const on of Er(Ti)){const kt=0===on.kind?fo(rr,on.fieldPath,rr.startAt):Zi(rr,on.fieldPath,rr.startAt);mo.push(kt.value),Fi&&(Fi=kt.inclusive)}return new pi(mo,Fi)}(fe,X),xt=function(rr,Ti){const mo=[];let Fi=!0;for(const on of Er(Ti)){const kt=0===on.kind?Zi(rr,on.fieldPath,rr.endAt):fo(rr,on.fieldPath,rr.endAt);mo.push(kt.value),Fi&&(Fi=kt.inclusive)}return new pi(mo,Fi)}(fe,X),nn=this.hn(X,fe,$e),hn=this.hn(X,fe,xt),Ln=this.Pn(X,fe,Re),nr=this.In(X.indexId,xe,nn,$e.inclusive,hn,xt.inclusive,Ln);return cn.forEach(nr,Rr=>a.G(Rr,i.limit).next(rr=>{rr.forEach(Ti=>{const mo=lr.fromSegments(Ti.documentKey);D.has(mo)||(D=D.add(mo),G.push(mo))})}))}).next(()=>G)}return cn.resolve(null)})}cn(n){let i=this.un.get(n);return i||(i=0===n.filters.length?[n]:qc(Gi.create(n.filters,"and")).map(a=>vs(n.path,n.collectionGroup,n.orderBy,a.getFilters(),n.limit,n.startAt,n.endAt)),this.un.set(n,i),i)}In(n,i,a,f,E,D,G){const X=(null!=i?i.length:1)*Math.max(a.length,E.length),fe=X/(null!=i?i.length:1),xe=[];for(let Re=0;Re<X;++Re){const $e=i?this.Tn(i[Re/fe]):Pc,xt=this.En(n,$e,a[Re%fe],f),nn=this.dn(n,$e,E[Re%fe],D),hn=G.map(Ln=>this.En(n,$e,Ln,!0));xe.push(...this.createRange(xt,nn,hn))}return xe}En(n,i,a,f){const E=new Ns(n,lr.empty(),i,a);return f?E:E.Jt()}dn(n,i,a,f){const E=new Ns(n,lr.empty(),i,a);return f?E.Jt():E}ln(n,i){const a=new uc(i),f=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(n,f).next(E=>{let D=null;for(const G of E)a.tn(G)&&(!D||G.fields.length>D.fields.length)&&(D=G);return D})}getIndexType(n,i){let a=2;const f=this.cn(i);return cn.forEach(f,E=>this.ln(n,E).next(D=>{D?0!==a&&D.fields.length<function(X){let fe=new To(si.comparator),xe=!1;for(const Re of X.filters)for(const $e of Re.getFlattenedFilters())$e.field.isKeyField()||("array-contains"===$e.op||"array-contains-any"===$e.op?xe=!0:fe=fe.add($e.field));for(const Re of X.orderBy)Re.field.isKeyField()||(fe=fe.add(Re.field));return fe.size+(xe?1:0)}(E)&&(a=1):a=0})).next(()=>null!==i.limit&&f.length>1&&2===a?1:a)}An(n,i){const a=new Vs;for(const f of Er(n)){const E=i.data.field(f.fieldPath);if(null==E)return null;const D=a.Ht(f.kind);In.bt.Pt(E,D)}return a.Wt()}Tn(n){const i=new Vs;return In.bt.Pt(n,i.Ht(0)),i.Wt()}Rn(n,i){const a=new Vs;return In.bt.Pt(Tr(this.databaseId,i),a.Ht(function(E){const D=Er(E);return 0===D.length?0:D[D.length-1].kind}(n))),a.Wt()}Pn(n,i,a){if(null===a)return[];let f=[];f.push(new Vs);let E=0;for(const D of Er(n)){const G=a[E++];for(const X of f)if(this.Vn(i,D.fieldPath)&&ka(G))f=this.mn(f,D,G);else{const fe=X.Ht(D.kind);In.bt.Pt(G,fe)}}return this.fn(f)}hn(n,i,a){return this.Pn(n,i,a.position)}fn(n){const i=[];for(let a=0;a<n.length;++a)i[a]=n[a].Wt();return i}mn(n,i,a){const f=[...n],E=[];for(const D of a.arrayValue.values||[])for(const G of f){const X=new Vs;X.seed(G.Wt()),In.bt.Pt(D,X.Ht(i.kind)),E.push(X)}return E}Vn(n,i){return!!n.filters.find(a=>a instanceof br&&a.field.isEqual(i)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(n,i){const a=Su(n),f=Ec(n);return(i?a.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):a.U()).next(E=>{const D=[];return cn.forEach(E,G=>f.get([G.indexId,this.uid]).next(X=>{D.push(function(xe,Re){const $e=Re?new _o(Re.sequenceNumber,new Zr(qu(Re.readTime),new lr(Fr(Re.documentKey)),Re.largestBatchId)):_o.empty(),xt=xe.fields.map(([nn,hn])=>new eo(si.fromServerFormat(nn),hn));return new di(xe.indexId,xe.collectionGroup,xt,$e)}(G,X))})).next(()=>D)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(i=>0===i.length?null:(i.sort((a,f)=>{const E=a.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==E?E:kr(a.collectionGroup,f.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(n,i,a){const f=Su(n),E=Ec(n);return this.gn(n).next(D=>f.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(G=>cn.forEach(G,X=>E.put(W(X.indexId,this.uid,D,a)))))}updateIndexEntries(n,i){const a=new Map;return cn.forEach(i,(f,E)=>{const D=a.get(f.collectionGroup);return(D?cn.resolve(D):this.getFieldIndexes(n,f.collectionGroup)).next(G=>(a.set(f.collectionGroup,G),cn.forEach(G,X=>this.pn(n,f,X).next(fe=>{const xe=this.yn(E,X);return fe.isEqual(xe)?cn.resolve():this.wn(n,E,X,fe,xe)}))))})}Sn(n,i,a,f){return hs(n).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.Rn(a,i.key),documentKey:i.key.path.toArray()})}bn(n,i,a,f){return hs(n).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.Rn(a,i.key),i.key.path.toArray()])}pn(n,i,a){const f=hs(n);let E=new To(fl);return f.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.Rn(a,i)])},(D,G)=>{E=E.add(new Ns(a.indexId,i,G.arrayValue,G.directionalValue))}).next(()=>E)}yn(n,i){let a=new To(fl);const f=this.An(i,n);if(null==f)return a;const E=Hr(i);if(null!=E){const D=n.data.field(E.fieldPath);if(ka(D))for(const G of D.arrayValue.values||[])a=a.add(new Ns(i.indexId,n.key,this.Tn(G),f))}else a=a.add(new Ns(i.indexId,n.key,Pc,f));return a}wn(n,i,a,f,E){nt("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const D=[];return function(X,fe,xe,Re,$e){const xt=X.getIterator(),nn=fe.getIterator();let hn=Hi(xt),Ln=Hi(nn);for(;hn||Ln;){let nr=!1,Rr=!1;if(hn&&Ln){const rr=xe(hn,Ln);rr<0?Rr=!0:rr>0&&(nr=!0)}else null!=hn?Rr=!0:nr=!0;nr?(Re(Ln),Ln=Hi(nn)):Rr?($e(hn),hn=Hi(xt)):(hn=Hi(xt),Ln=Hi(nn))}}(f,E,fl,G=>{D.push(this.Sn(n,i,a,G))},G=>{D.push(this.bn(n,i,a,G))}),cn.waitFor(D)}gn(n){let i=1;return Ec(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,f,E)=>{E.done(),i=f.sequenceNumber+1}).next(()=>i)}createRange(n,i,a){a=a.sort((D,G)=>fl(D,G)).filter((D,G,X)=>!G||0!==fl(D,X[G-1]));const f=[];f.push(n);for(const D of a){const G=fl(D,n),X=fl(D,i);if(0===G)f[0]=n.Jt();else if(G>0&&X<0)f.push(D),f.push(D.Jt());else if(X>0)break}f.push(i);const E=[];for(let D=0;D<f.length;D+=2){if(this.Dn(f[D],f[D+1]))return[];E.push(IDBKeyRange.bound([f[D].indexId,this.uid,f[D].arrayValue,f[D].directionalValue,Pc,[]],[f[D+1].indexId,this.uid,f[D+1].arrayValue,f[D+1].directionalValue,Pc,[]]))}return E}Dn(n,i){return fl(n,i)>0}getMinOffsetFromCollectionGroup(n,i){return this.getFieldIndexes(n,i).next(Yu)}getMinOffset(n,i){return cn.mapArray(this.cn(i),a=>this.ln(n,a).next(f=>f||Kt())).next(Yu)}}function Vi(l){return Ji(l,"collectionParents")}function hs(l){return Ji(l,"indexEntries")}function Su(l){return Ji(l,"indexConfiguration")}function Ec(l){return Ji(l,"indexState")}function Yu(l){Vn(0!==l.length);let n=l[0].indexState.offset,i=n.largestBatchId;for(let a=1;a<l.length;a++){const f=l[a].indexState.offset;ko(f,n)<0&&(n=f),i<f.largestBatchId&&(i=f.largestBatchId)}return new Zr(n.readTime,n.documentKey,i)}const bo={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qs{constructor(n,i,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}static withCacheSize(n){return new Qs(n,Qs.DEFAULT_COLLECTION_PERCENTILE,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function yl(l,n,i){const a=l.store("mutations"),f=l.store("documentMutations"),E=[],D=IDBKeyRange.only(i.batchId);let G=0;const X=a.J({range:D},(xe,Re,$e)=>(G++,$e.delete()));E.push(X.next(()=>{Vn(1===G)}));const fe=[];for(const xe of i.mutations){const Re=Xs(n,xe.key.path,i.batchId);E.push(f.delete(Re)),fe.push(xe.key)}return cn.waitFor(E).next(()=>fe)}function Tu(l){if(!l)return 0;let n;if(l.document)n=l.document;else if(l.unknownDocument)n=l.unknownDocument;else{if(!l.noDocument)throw Kt();n=l.noDocument}return JSON.stringify(n).length}Qs.DEFAULT_COLLECTION_PERCENTILE=10,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qs.DEFAULT=new Qs(41943040,Qs.DEFAULT_COLLECTION_PERCENTILE,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qs.DISABLED=new Qs(-1,0,0);class pa{constructor(n,i,a,f){this.userId=n,this.serializer=i,this.indexManager=a,this.referenceDelegate=f,this.Cn={}}static lt(n,i,a,f){Vn(""!==n.uid);const E=n.isAuthenticated()?n.uid:"";return new pa(E,i,a,f)}checkEmpty(n){let i=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bu(n).J({index:"userMutationsIndex",range:a},(f,E,D)=>{i=!1,D.done()}).next(()=>i)}addMutationBatch(n,i,a,f){const E=Xc(n),D=Bu(n);return D.add({}).next(G=>{Vn("number"==typeof G);const X=new ge(G,i,a,f),fe=function(xt,nn,hn){const Ln=hn.baseMutations.map(Rr=>Gc(xt.ct,Rr)),nr=hn.mutations.map(Rr=>Gc(xt.ct,Rr));return{userId:nn,batchId:hn.batchId,localWriteTimeMs:hn.localWriteTime.toMillis(),baseMutations:Ln,mutations:nr}}(this.serializer,this.userId,X),xe=[];let Re=new To(($e,xt)=>kr($e.canonicalString(),xt.canonicalString()));for(const $e of f){const xt=Xs(this.userId,$e.key.path,G);Re=Re.add($e.key.path.popLast()),xe.push(D.put(fe)),xe.push(E.put(xt,ml))}return Re.forEach($e=>{xe.push(this.indexManager.addToCollectionParentIndex(n,$e))}),n.addOnCommittedListener(()=>{this.Cn[G]=X.keys()}),cn.waitFor(xe).next(()=>X)})}lookupMutationBatch(n,i){return Bu(n).get(i).next(a=>a?(Vn(a.userId===this.userId),dA(this.serializer,a)):null)}vn(n,i){return this.Cn[i]?cn.resolve(this.Cn[i]):this.lookupMutationBatch(n,i).next(a=>{if(a){const f=a.keys();return this.Cn[i]=f,f}return null})}getNextMutationBatchAfterBatchId(n,i){const a=i+1,f=IDBKeyRange.lowerBound([this.userId,a]);let E=null;return Bu(n).J({index:"userMutationsIndex",range:f},(D,G,X)=>{G.userId===this.userId&&(Vn(G.batchId>=a),E=dA(this.serializer,G)),X.done()}).next(()=>E)}getHighestUnacknowledgedBatchId(n){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Bu(n).J({index:"userMutationsIndex",range:i,reverse:!0},(f,E,D)=>{a=E.batchId,D.done()}).next(()=>a)}getAllMutationBatches(n){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bu(n).U("userMutationsIndex",i).next(a=>a.map(f=>dA(this.serializer,f)))}getAllMutationBatchesAffectingDocumentKey(n,i){const a=na(this.userId,i.path),f=IDBKeyRange.lowerBound(a),E=[];return Xc(n).J({range:f},(D,G,X)=>{const[fe,xe,Re]=D,$e=Fr(xe);if(fe===this.userId&&i.path.isEqual($e))return Bu(n).get(Re).next(xt=>{if(!xt)throw Kt();Vn(xt.userId===this.userId),E.push(dA(this.serializer,xt))});X.done()}).next(()=>E)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new To(kr);const f=[];return i.forEach(E=>{const D=na(this.userId,E.path),G=IDBKeyRange.lowerBound(D),X=Xc(n).J({range:G},(fe,xe,Re)=>{const[$e,xt,nn]=fe,hn=Fr(xt);$e===this.userId&&E.path.isEqual(hn)?a=a.add(nn):Re.done()});f.push(X)}),cn.waitFor(f).next(()=>this.Fn(n,a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,f=a.length+1,E=na(this.userId,a),D=IDBKeyRange.lowerBound(E);let G=new To(kr);return Xc(n).J({range:D},(X,fe,xe)=>{const[Re,$e,xt]=X,nn=Fr($e);Re===this.userId&&a.isPrefixOf(nn)?nn.length===f&&(G=G.add(xt)):xe.done()}).next(()=>this.Fn(n,G))}Fn(n,i){const a=[],f=[];return i.forEach(E=>{f.push(Bu(n).get(E).next(D=>{if(null===D)throw Kt();Vn(D.userId===this.userId),a.push(dA(this.serializer,D))}))}),cn.waitFor(f).next(()=>a)}removeMutationBatch(n,i){return yl(n._e,this.userId,i).next(a=>(n.addOnCommittedListener(()=>{this.Mn(i.batchId)}),cn.forEach(a,f=>this.referenceDelegate.markPotentiallyOrphaned(n,f))))}Mn(n){delete this.Cn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(i=>{if(!i)return cn.resolve();const a=IDBKeyRange.lowerBound(function(D){return[D]}(this.userId)),f=[];return Xc(n).J({range:a},(E,D,G)=>{if(E[0]===this.userId){const X=Fr(E[1]);f.push(X)}else G.done()}).next(()=>{Vn(0===f.length)})})}containsKey(n,i){return So(n,this.userId,i)}xn(n){return Ja(n).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function So(l,n,i){const a=na(n,i.path),f=a[1],E=IDBKeyRange.lowerBound(a);let D=!1;return Xc(l).J({range:E,H:!0},(G,X,fe)=>{const[xe,Re,$e]=G;xe===n&&Re===f&&(D=!0),fe.done()}).next(()=>D)}function Bu(l){return Ji(l,"mutations")}function Xc(l){return Ji(l,"documentMutations")}function Ja(l){return Ji(l,"mutationQueues")}class os{constructor(n){this.On=n}next(){return this.On+=2,this.On}static Nn(){return new os(0)}static Ln(){return new os(-1)}}class Qa{constructor(n,i){this.referenceDelegate=n,this.serializer=i}allocateTargetId(n){return this.Bn(n).next(i=>{const a=new os(i.highestTargetId);return i.highestTargetId=a.next(),this.kn(n,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.Bn(n).next(i=>Pt.fromTimestamp(new fr(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.Bn(n).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(n,i,a){return this.Bn(n).next(f=>(f.highestListenSequenceNumber=i,a&&(f.lastRemoteSnapshotVersion=a.toTimestamp()),i>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=i),this.kn(n,f)))}addTargetData(n,i){return this.qn(n,i).next(()=>this.Bn(n).next(a=>(a.targetCount+=1,this.Qn(i,a),this.kn(n,a))))}updateTargetData(n,i){return this.qn(n,i)}removeTargetData(n,i){return this.removeMatchingKeysForTargetId(n,i.targetId).next(()=>hA(n).delete(i.targetId)).next(()=>this.Bn(n)).next(a=>(Vn(a.targetCount>0),a.targetCount-=1,this.kn(n,a)))}removeTargets(n,i,a){let f=0;const E=[];return hA(n).J((D,G)=>{const X=al(G);X.sequenceNumber<=i&&null===a.get(X.targetId)&&(f++,E.push(this.removeTargetData(n,X)))}).next(()=>cn.waitFor(E)).next(()=>f)}forEachTarget(n,i){return hA(n).J((a,f)=>{const E=al(f);i(E)})}Bn(n){return Ju(n).get("targetGlobalKey").next(i=>(Vn(null!==i),i))}kn(n,i){return Ju(n).put("targetGlobalKey",i)}qn(n,i){return hA(n).put(Wd(this.serializer,i))}Qn(n,i){let a=!1;return n.targetId>i.highestTargetId&&(i.highestTargetId=n.targetId,a=!0),n.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n.sequenceNumber,a=!0),a}getTargetCount(n){return this.Bn(n).next(i=>i.targetCount)}getTargetData(n,i){const a=Zo(i),f=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let E=null;return hA(n).J({range:f,index:"queryTargetsIndex"},(D,G,X)=>{const fe=al(G);rl(i,fe.target)&&(E=fe,X.done())}).next(()=>E)}addMatchingKeys(n,i,a){const f=[],E=Zu(n);return i.forEach(D=>{const G=$o(D.path);f.push(E.put({targetId:a,path:G})),f.push(this.referenceDelegate.addReference(n,a,D))}),cn.waitFor(f)}removeMatchingKeys(n,i,a){const f=Zu(n);return cn.forEach(i,E=>{const D=$o(E.path);return cn.waitFor([f.delete([a,D]),this.referenceDelegate.removeReference(n,a,E)])})}removeMatchingKeysForTargetId(n,i){const a=Zu(n),f=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(f)}getMatchingKeysForTargetId(n,i){const a=IDBKeyRange.bound([i],[i+1],!1,!0),f=Zu(n);let E=ci();return f.J({range:a,H:!0},(D,G,X)=>{const fe=Fr(D[1]),xe=new lr(fe);E=E.add(xe)}).next(()=>E)}containsKey(n,i){const a=$o(i.path),f=IDBKeyRange.bound([a],[Wi(a)],!1,!0);let E=0;return Zu(n).J({index:"documentTargetsIndex",H:!0,range:f},([D,G],X,fe)=>{0!==D&&(E++,fe.done())}).next(()=>E>0)}ot(n,i){return hA(n).get(i).next(a=>a?al(a):null)}}function hA(l){return Ji(l,"targets")}function Ju(l){return Ji(l,"targetGlobal")}function Zu(l){return Ji(l,"targetDocuments")}function yd([l,n],[i,a]){const f=kr(l,i);return 0===f?kr(n,a):f}class qd{constructor(n){this.Kn=n,this.buffer=new To(yd),this.$n=0}Un(){return++this.$n}Wn(n){const i=[n,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();yd(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Xd{constructor(n,i,a){this.garbageCollector=n,this.asyncQueue=i,this.localStore=a,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(n){var i=this;nt("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,e.A)(function*(){i.Gn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(a){Bn(a)?nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Wo(a)}yield i.zn(3e5)}))}}class wd{constructor(n,i){this.jn=n,this.params=i}calculateTargetCount(n,i){return this.jn.Hn(n).next(a=>Math.floor(i/100*a))}nthSequenceNumber(n,i){if(0===i)return cn.resolve(gr.oe);const a=new qd(i);return this.jn.forEachTarget(n,f=>a.Wn(f.sequenceNumber)).next(()=>this.jn.Jn(n,f=>a.Wn(f))).next(()=>a.maxValue)}removeTargets(n,i,a){return this.jn.removeTargets(n,i,a)}removeOrphanedDocuments(n,i){return this.jn.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),cn.resolve(bo)):this.getCacheSize(n).next(a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bo):this.Yn(n,i))}getCacheSize(n){return this.jn.getCacheSize(n)}Yn(n,i){let a,f,E,D,G,X,fe;const xe=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(Re=>(Re>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Re}`),f=this.params.maximumSequenceNumbersToCollect):f=Re,D=Date.now(),this.nthSequenceNumber(n,f))).next(Re=>(a=Re,G=Date.now(),this.removeTargets(n,a,i))).next(Re=>(E=Re,X=Date.now(),this.removeOrphanedDocuments(n,a))).next(Re=>(fe=Date.now(),Cn()<=Z.$b.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${D-xe}ms\n\tDetermined least recently used ${f} in `+(G-D)+`ms\n\tRemoved ${E} targets in `+(X-G)+`ms\n\tRemoved ${Re} documents in `+(fe-X)+`ms\nTotal Duration: ${fe-xe}ms`),cn.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:E,documentsRemoved:Re})))}}class cs{constructor(n,i){this.db=n,this.garbageCollector=function sr(l,n){return new wd(l,n)}(this,i)}Hn(n){const i=this.Zn(n);return this.db.getTargetCache().getTargetCount(n).next(a=>i.next(f=>a+f))}Zn(n){let i=0;return this.Jn(n,a=>{i++}).next(()=>i)}forEachTarget(n,i){return this.db.getTargetCache().forEachTarget(n,i)}Jn(n,i){return this.Xn(n,(a,f)=>i(f))}addReference(n,i,a){return LA(n,a)}removeReference(n,i,a){return LA(n,a)}removeTargets(n,i,a){return this.db.getTargetCache().removeTargets(n,i,a)}markPotentiallyOrphaned(n,i){return LA(n,i)}er(n,i){return function(f,E){let D=!1;return Ja(f).Y(G=>So(f,G,E).next(X=>(X&&(D=!0),cn.resolve(!X)))).next(()=>D)}(n,i)}removeOrphanedDocuments(n,i){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let E=0;return this.Xn(n,(D,G)=>{if(G<=i){const X=this.er(n,D).next(fe=>{if(!fe)return E++,a.getEntry(n,D).next(()=>(a.removeEntry(D,Pt.min()),Zu(n).delete([0,$o(D.path)])))});f.push(X)}}).next(()=>cn.waitFor(f)).next(()=>a.apply(n)).next(()=>E)}removeTarget(n,i){const a=i.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,a)}updateLimboDocument(n,i){return LA(n,i)}Xn(n,i){const a=Zu(n);let f,E=gr.oe;return a.J({index:"documentTargetsIndex"},([D,G],{path:X,sequenceNumber:fe})=>{0===D?(E!==gr.oe&&i(new lr(Fr(f)),E),E=fe,f=X):E=gr.oe}).next(()=>{E!==gr.oe&&i(new lr(Fr(f)),E)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function LA(l,n){return Zu(l).put((f=l.currentSequenceNumber,{targetId:0,path:$o(n.path),sequenceNumber:f}));var f}class Xl{constructor(){this.changes=new Al(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,_r.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const a=this.changes.get(i);return void 0!==a?cn.resolve(a):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Ws{constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,i,a){return rc(n).put(a)}removeEntry(n,i,a){return rc(n).delete(function(E,D){const G=E.path.toArray();return[G.slice(0,G.length-2),G[G.length-2],Kc(D),G[G.length-1]]}(i,a))}updateMetadata(n,i){return this.getMetadata(n).next(a=>(a.byteSize+=i,this.tr(n,a)))}getEntry(n,i){let a=_r.newInvalidDocument(i);return rc(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Nc(i))},(f,E)=>{a=this.nr(i,E)}).next(()=>a)}rr(n,i){let a={size:0,document:_r.newInvalidDocument(i)};return rc(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Nc(i))},(f,E)=>{a={document:this.nr(i,E),size:Tu(E)}}).next(()=>a)}getEntries(n,i){let a=_a();return this.ir(n,i,(f,E)=>{const D=this.nr(f,E);a=a.insert(f,D)}).next(()=>a)}sr(n,i){let a=_a(),f=new Ri(lr.comparator);return this.ir(n,i,(E,D)=>{const G=this.nr(E,D);a=a.insert(E,G),f=f.insert(E,Tu(D))}).next(()=>({documents:a,_r:f}))}ir(n,i,a){if(i.isEmpty())return cn.resolve();let f=new To(Hl);i.forEach(X=>f=f.add(X));const E=IDBKeyRange.bound(Nc(f.first()),Nc(f.last())),D=f.getIterator();let G=D.getNext();return rc(n).J({index:"documentKeyIndex",range:E},(X,fe,xe)=>{const Re=lr.fromSegments([...fe.prefixPath,fe.collectionGroup,fe.documentId]);for(;G&&Hl(G,Re)<0;)a(G,null),G=D.getNext();G&&G.isEqual(Re)&&(a(G,fe),G=D.hasNext()?D.getNext():null),G?xe.$(Nc(G)):xe.done()}).next(()=>{for(;G;)a(G,null),G=D.hasNext()?D.getNext():null})}getDocumentsMatchingQuery(n,i,a,f,E){const D=i.path,G=[D.popLast().toArray(),D.lastSegment(),Kc(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],X=[D.popLast().toArray(),D.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rc(n).U(IDBKeyRange.bound(G,X,!0)).next(fe=>{null==E||E.incrementDocumentReadCount(fe.length);let xe=_a();for(const Re of fe){const $e=this.nr(lr.fromSegments(Re.prefixPath.concat(Re.collectionGroup,Re.documentId)),Re);$e.isFoundDocument()&&(Ka(i,$e)||f.has($e.key))&&(xe=xe.insert($e.key,$e))}return xe})}getAllFromCollectionGroup(n,i,a,f){let E=_a();const D=Cd(i,a),G=Cd(i,Zr.max());return rc(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(D,G,!0)},(X,fe,xe)=>{const Re=this.nr(lr.fromSegments(fe.prefixPath.concat(fe.collectionGroup,fe.documentId)),fe);E=E.insert(Re.key,Re),E.size===f&&xe.done()}).next(()=>E)}newChangeBuffer(n){return new Ol(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(i=>i.byteSize)}getMetadata(n){return Ca(n).get("remoteDocumentGlobalKey").next(i=>(Vn(!!i),i))}tr(n,i){return Ca(n).put("remoteDocumentGlobalKey",i)}nr(n,i){if(i){const a=function uA(l,n){let i;if(n.document)i=OA(l.ct,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const a=lr.fromSegments(n.noDocument.path),f=qu(n.noDocument.readTime);i=_r.newNoDocument(a,f),n.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!n.unknownDocument)return Kt();{const a=lr.fromSegments(n.unknownDocument.path),f=qu(n.unknownDocument.version);i=_r.newUnknownDocument(a,f)}}return n.readTime&&i.setReadTime(function(f){const E=new fr(f[0],f[1]);return Pt.fromTimestamp(E)}(n.readTime)),i}(this.serializer,i);if(!a.isNoDocument()||!a.version.isEqual(Pt.min()))return a}return _r.newInvalidDocument(n)}}function Ed(l){return new Ws(l)}class Ol extends Xl{constructor(n,i){super(),this.ar=n,this.trackRemovals=i,this.ur=new Al(a=>a.toString(),(a,f)=>a.isEqual(f))}applyChanges(n){const i=[];let a=0,f=new To((E,D)=>kr(E.canonicalString(),D.canonicalString()));return this.changes.forEach((E,D)=>{const G=this.ur.get(E);if(i.push(this.ar.removeEntry(n,E,G.readTime)),D.isValidDocument()){const X=Xh(this.ar.serializer,D);f=f.add(E.path.popLast());const fe=Tu(X);a+=fe-G.size,i.push(this.ar.addEntry(n,E,X))}else if(a-=G.size,this.trackRemovals){const X=Xh(this.ar.serializer,D.convertToNoDocument(Pt.min()));i.push(this.ar.addEntry(n,E,X))}}),f.forEach(E=>{i.push(this.ar.indexManager.addToCollectionParentIndex(n,E))}),i.push(this.ar.updateMetadata(n,a)),cn.waitFor(i)}getFromCache(n,i){return this.ar.rr(n,i).next(a=>(this.ur.set(i,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(n,i){return this.ar.sr(n,i).next(({documents:a,_r:f})=>(f.forEach((E,D)=>{this.ur.set(E,{size:D,readTime:a.get(E).readTime})}),a))}}function Ca(l){return Ji(l,"remoteDocumentGlobal")}function rc(l){return Ji(l,"remoteDocumentsV14")}function Nc(l){const n=l.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function Cd(l,n){const i=n.documentKey.path.toArray();return[l,Kc(n.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Hl(l,n){const i=l.path.toArray(),a=n.path.toArray();let f=0;for(let E=0;E<i.length-2&&E<a.length-2;++E)if(f=kr(i[E],a[E]),f)return f;return f=kr(i.length,a.length),f||(f=kr(i[i.length-2],a[a.length-2]),f||kr(i[i.length-1],a[a.length-1]))}class Id{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class wl{constructor(n,i,a,f){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=f}getDocument(n,i){let a=null;return this.documentOverlayCache.getOverlay(n,i).next(f=>(a=f,this.remoteDocumentCache.getEntry(n,i))).next(f=>(null!==a&&yc(a.mutation,f,mi.empty(),fr.now()),f))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(a=>this.getLocalViewOfDocuments(n,a,ci()).next(()=>a))}getLocalViewOfDocuments(n,i,a=ci()){const f=fi();return this.populateOverlays(n,f,i).next(()=>this.computeViews(n,i,f,a).next(E=>{let D=Nl();return E.forEach((G,X)=>{D=D.insert(G,X.overlayedDocument)}),D}))}getOverlayedDocuments(n,i){const a=fi();return this.populateOverlays(n,a,i).next(()=>this.computeViews(n,i,a,ci()))}populateOverlays(n,i,a){const f=[];return a.forEach(E=>{i.has(E)||f.push(E)}),this.documentOverlayCache.getOverlays(n,f).next(E=>{E.forEach((D,G)=>{i.set(D,G)})})}computeViews(n,i,a,f){let E=_a();const D=$i(),G=$i();return i.forEach((X,fe)=>{const xe=a.get(fe.key);f.has(fe.key)&&(void 0===xe||xe.mutation instanceof Ml)?E=E.insert(fe.key,fe):void 0!==xe?(D.set(fe.key,xe.mutation.getFieldMask()),yc(xe.mutation,fe,xe.mutation.getFieldMask(),fr.now())):D.set(fe.key,mi.empty())}),this.recalculateAndSaveOverlays(n,E).next(X=>(X.forEach((fe,xe)=>D.set(fe,xe)),i.forEach((fe,xe)=>{var Re;return G.set(fe,new Id(xe,null!==(Re=D.get(fe))&&void 0!==Re?Re:null))}),G))}recalculateAndSaveOverlays(n,i){const a=$i();let f=new Ri((D,G)=>D-G),E=ci();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(D=>{for(const G of D)G.keys().forEach(X=>{const fe=i.get(X);if(null===fe)return;let xe=a.get(X)||mi.empty();xe=G.applyToLocalView(fe,xe),a.set(X,xe);const Re=(f.get(G.batchId)||ci()).add(X);f=f.insert(G.batchId,Re)})}).next(()=>{const D=[],G=f.getReverseIterator();for(;G.hasNext();){const X=G.getNext(),fe=X.key,xe=X.value,Re=Is();xe.forEach($e=>{if(!E.has($e)){const xt=sl(i.get($e),a.get($e));null!==xt&&Re.set($e,xt),E=E.add($e)}}),D.push(this.documentOverlayCache.saveOverlays(n,fe,Re))}return cn.waitFor(D)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(a=>this.recalculateAndSaveOverlays(n,a))}getDocumentsMatchingQuery(n,i,a,f){return lr.isDocumentKey((D=i).path)&&null===D.collectionGroup&&0===D.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):Ie(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,a,f):this.getDocumentsMatchingCollectionQuery(n,i,a,f);var D}getNextDocuments(n,i,a,f){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,a,f).next(E=>{const D=f-E.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,a.largestBatchId,f-E.size):cn.resolve(fi());let G=-1,X=E;return D.next(fe=>cn.forEach(fe,(xe,Re)=>(G<Re.largestBatchId&&(G=Re.largestBatchId),E.get(xe)?cn.resolve():this.remoteDocumentCache.getEntry(n,xe).next($e=>{X=X.insert(xe,$e)}))).next(()=>this.populateOverlays(n,fe,E)).next(()=>this.computeViews(n,X,fe,ci())).next(xe=>({batchId:G,changes:tc(xe)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new lr(i)).next(a=>{let f=Nl();return a.isFoundDocument()&&(f=f.insert(a.key,a)),f})}getDocumentsMatchingCollectionGroupQuery(n,i,a,f){const E=i.collectionGroup;let D=Nl();return this.indexManager.getCollectionParents(n,E).next(G=>cn.forEach(G,X=>{const fe=(Re=i,$e=X.child(E),new Pa($e,null,Re.explicitOrderBy.slice(),Re.filters.slice(),Re.limit,Re.limitType,Re.startAt,Re.endAt));var Re,$e;return this.getDocumentsMatchingCollectionQuery(n,fe,a,f).next(xe=>{xe.forEach((Re,$e)=>{D=D.insert(Re,$e)})})}).next(()=>D))}getDocumentsMatchingCollectionQuery(n,i,a,f){let E;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,a.largestBatchId).next(D=>(E=D,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,a,E,f))).next(D=>{E.forEach((X,fe)=>{const xe=fe.getKey();null===D.get(xe)&&(D=D.insert(xe,_r.newInvalidDocument(xe)))});let G=Nl();return D.forEach((X,fe)=>{const xe=E.get(X);void 0!==xe&&yc(xe.mutation,fe,mi.empty(),fr.now()),Ka(i,fe)&&(G=G.insert(X,fe))}),G})}}class Mc{constructor(n){this.serializer=n,this.cr=new Map,this.lr=new Map}getBundleMetadata(n,i){return cn.resolve(this.cr.get(i))}saveBundleMetadata(n,i){return this.cr.set(i.id,{id:(f=i).id,version:f.version,createTime:ha(f.createTime)}),cn.resolve();var f}getNamedQuery(n,i){return cn.resolve(this.lr.get(i))}saveNamedQuery(n,i){return this.lr.set(i.name,{name:(f=i).name,query:L(f.bundledQuery),readTime:ha(f.readTime)}),cn.resolve();var f}}class ZA{constructor(){this.overlays=new Ri(lr.comparator),this.hr=new Map}getOverlay(n,i){return cn.resolve(this.overlays.get(i))}getOverlays(n,i){const a=fi();return cn.forEach(i,f=>this.getOverlay(n,f).next(E=>{null!==E&&a.set(f,E)})).next(()=>a)}saveOverlays(n,i,a){return a.forEach((f,E)=>{this.ht(n,i,E)}),cn.resolve()}removeOverlaysForBatchId(n,i,a){const f=this.hr.get(a);return void 0!==f&&(f.forEach(E=>this.overlays=this.overlays.remove(E)),this.hr.delete(a)),cn.resolve()}getOverlaysForCollection(n,i,a){const f=fi(),E=i.length+1,D=new lr(i.child("")),G=this.overlays.getIteratorFrom(D);for(;G.hasNext();){const X=G.getNext().value,fe=X.getKey();if(!i.isPrefixOf(fe.path))break;fe.path.length===E&&X.largestBatchId>a&&f.set(X.getKey(),X)}return cn.resolve(f)}getOverlaysForCollectionGroup(n,i,a,f){let E=new Ri((fe,xe)=>fe-xe);const D=this.overlays.getIterator();for(;D.hasNext();){const fe=D.getNext().value;if(fe.getKey().getCollectionGroup()===i&&fe.largestBatchId>a){let xe=E.get(fe.largestBatchId);null===xe&&(xe=fi(),E=E.insert(fe.largestBatchId,xe)),xe.set(fe.getKey(),fe)}}const G=fi(),X=E.getIterator();for(;X.hasNext()&&(X.getNext().value.forEach((fe,xe)=>G.set(fe,xe)),!(G.size()>=f)););return cn.resolve(G)}ht(n,i,a){const f=this.overlays.get(a.key);if(null!==f){const D=this.hr.get(f.largestBatchId).delete(a.key);this.hr.set(f.largestBatchId,D)}this.overlays=this.overlays.insert(a.key,new ne(i,a));let E=this.hr.get(i);void 0===E&&(E=ci(),this.hr.set(i,E)),this.hr.set(i,E.add(a.key))}}class Fl{constructor(){this.Pr=new To(js.Ir),this.Tr=new To(js.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(n,i){const a=new js(n,i);this.Pr=this.Pr.add(a),this.Tr=this.Tr.add(a)}dr(n,i){n.forEach(a=>this.addReference(a,i))}removeReference(n,i){this.Ar(new js(n,i))}Rr(n,i){n.forEach(a=>this.removeReference(a,i))}Vr(n){const i=new lr(new vn([])),a=new js(i,n),f=new js(i,n+1),E=[];return this.Tr.forEachInRange([a,f],D=>{this.Ar(D),E.push(D.key)}),E}mr(){this.Pr.forEach(n=>this.Ar(n))}Ar(n){this.Pr=this.Pr.delete(n),this.Tr=this.Tr.delete(n)}gr(n){const i=new lr(new vn([])),a=new js(i,n),f=new js(i,n+1);let E=ci();return this.Tr.forEachInRange([a,f],D=>{E=E.add(D.key)}),E}containsKey(n){const i=new js(n,0),a=this.Pr.firstAfterOrEqual(i);return null!==a&&n.isEqual(a.key)}}class js{constructor(n,i){this.key=n,this.pr=i}static Ir(n,i){return lr.comparator(n.key,i.key)||kr(n.pr,i.pr)}static Er(n,i){return kr(n.pr,i.pr)||lr.comparator(n.key,i.key)}}class Ei{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.yr=1,this.wr=new To(js.Ir)}checkEmpty(n){return cn.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,a,f){const E=this.yr;this.yr++;const D=new ge(E,i,a,f);this.mutationQueue.push(D);for(const G of f)this.wr=this.wr.add(new js(G.key,E)),this.indexManager.addToCollectionParentIndex(n,G.key.path.popLast());return cn.resolve(D)}lookupMutationBatch(n,i){return cn.resolve(this.Sr(i))}getNextMutationBatchAfterBatchId(n,i){const f=this.br(i+1),E=f<0?0:f;return cn.resolve(this.mutationQueue.length>E?this.mutationQueue[E]:null)}getHighestUnacknowledgedBatchId(){return cn.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(n){return cn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const a=new js(i,0),f=new js(i,Number.POSITIVE_INFINITY),E=[];return this.wr.forEachInRange([a,f],D=>{const G=this.Sr(D.pr);E.push(G)}),cn.resolve(E)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new To(kr);return i.forEach(f=>{const E=new js(f,0),D=new js(f,Number.POSITIVE_INFINITY);this.wr.forEachInRange([E,D],G=>{a=a.add(G.pr)})}),cn.resolve(this.Dr(a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,f=a.length+1;let E=a;lr.isDocumentKey(E)||(E=E.child(""));const D=new js(new lr(E),0);let G=new To(kr);return this.wr.forEachWhile(X=>{const fe=X.key.path;return!!a.isPrefixOf(fe)&&(fe.length===f&&(G=G.add(X.pr)),!0)},D),cn.resolve(this.Dr(G))}Dr(n){const i=[];return n.forEach(a=>{const f=this.Sr(a);null!==f&&i.push(f)}),i}removeMutationBatch(n,i){Vn(0===this.Cr(i.batchId,"removed")),this.mutationQueue.shift();let a=this.wr;return cn.forEach(i.mutations,f=>{const E=new js(f.key,i.batchId);return a=a.delete(E),this.referenceDelegate.markPotentiallyOrphaned(n,f.key)}).next(()=>{this.wr=a})}Mn(n){}containsKey(n,i){const a=new js(i,0),f=this.wr.firstAfterOrEqual(a);return cn.resolve(i.isEqual(f&&f.key))}performConsistencyCheck(n){return cn.resolve()}Cr(n,i){return this.br(n)}br(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Sr(n){const i=this.br(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Bf{constructor(n){this.vr=n,this.docs=new Ri(lr.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const a=i.key,f=this.docs.get(a),E=f?f.size:0,D=this.vr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:D}),this.size+=D-E,this.indexManager.addToCollectionParentIndex(n,a.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const a=this.docs.get(i);return cn.resolve(a?a.document.mutableCopy():_r.newInvalidDocument(i))}getEntries(n,i){let a=_a();return i.forEach(f=>{const E=this.docs.get(f);a=a.insert(f,E?E.document.mutableCopy():_r.newInvalidDocument(f))}),cn.resolve(a)}getDocumentsMatchingQuery(n,i,a,f){let E=_a();const D=i.path,G=new lr(D.child("")),X=this.docs.getIteratorFrom(G);for(;X.hasNext();){const{key:fe,value:{document:xe}}=X.getNext();if(!D.isPrefixOf(fe.path))break;fe.path.length>D.length+1||ko(Mo(xe),a)<=0||(f.has(xe.key)||Ka(i,xe))&&(E=E.insert(xe.key,xe.mutableCopy()))}return cn.resolve(E)}getAllFromCollectionGroup(n,i,a,f){Kt()}Fr(n,i){return cn.forEach(this.docs,a=>i(a))}newChangeBuffer(n){return new bd(this)}getSize(n){return cn.resolve(this.size)}}class bd extends Xl{constructor(n){super(),this.ar=n}applyChanges(n){const i=[];return this.changes.forEach((a,f)=>{f.isValidDocument()?i.push(this.ar.addEntry(n,f)):this.ar.removeEntry(a)}),cn.waitFor(i)}getFromCache(n,i){return this.ar.getEntry(n,i)}getAllFromCache(n,i){return this.ar.getEntries(n,i)}}class Sd{constructor(n){this.persistence=n,this.Mr=new Al(i=>Zo(i),rl),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Fl,this.targetCount=0,this.Lr=os.Nn()}forEachTarget(n,i){return this.Mr.forEach((a,f)=>i(f)),cn.resolve()}getLastRemoteSnapshotVersion(n){return cn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return cn.resolve(this.Or)}allocateTargetId(n){return this.highestTargetId=this.Lr.next(),cn.resolve(this.highestTargetId)}setTargetsMetadata(n,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Or&&(this.Or=i),cn.resolve()}qn(n){this.Mr.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.Lr=new os(i),this.highestTargetId=i),n.sequenceNumber>this.Or&&(this.Or=n.sequenceNumber)}addTargetData(n,i){return this.qn(i),this.targetCount+=1,cn.resolve()}updateTargetData(n,i){return this.qn(i),cn.resolve()}removeTargetData(n,i){return this.Mr.delete(i.target),this.Nr.Vr(i.targetId),this.targetCount-=1,cn.resolve()}removeTargets(n,i,a){let f=0;const E=[];return this.Mr.forEach((D,G)=>{G.sequenceNumber<=i&&null===a.get(G.targetId)&&(this.Mr.delete(D),E.push(this.removeMatchingKeysForTargetId(n,G.targetId)),f++)}),cn.waitFor(E).next(()=>f)}getTargetCount(n){return cn.resolve(this.targetCount)}getTargetData(n,i){const a=this.Mr.get(i)||null;return cn.resolve(a)}addMatchingKeys(n,i,a){return this.Nr.dr(i,a),cn.resolve()}removeMatchingKeys(n,i,a){this.Nr.Rr(i,a);const f=this.persistence.referenceDelegate,E=[];return f&&i.forEach(D=>{E.push(f.markPotentiallyOrphaned(n,D))}),cn.waitFor(E)}removeMatchingKeysForTargetId(n,i){return this.Nr.Vr(i),cn.resolve()}getMatchingKeysForTargetId(n,i){const a=this.Nr.gr(i);return cn.resolve(a)}containsKey(n,i){return cn.resolve(this.Nr.containsKey(i))}}class El{constructor(n,i){this.Br={},this.overlays={},this.kr=new gr(0),this.qr=!1,this.qr=!0,this.referenceDelegate=n(this),this.Qr=new Sd(this),this.indexManager=new ql,this.remoteDocumentCache=new Bf(a=>this.referenceDelegate.Kr(a)),this.serializer=new yh(i),this.$r=new Mc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new ZA,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let a=this.Br[n.toKey()];return a||(a=new Ei(i,this.referenceDelegate),this.Br[n.toKey()]=a),a}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(n,i,a){nt("MemoryPersistence","Starting transaction:",n);const f=new Oc(this.kr.next());return this.referenceDelegate.Ur(),a(f).next(E=>this.referenceDelegate.Wr(f).next(()=>E)).toPromise().then(E=>(f.raiseOnCommittedEvent(),E))}Gr(n,i){return cn.or(Object.values(this.Br).map(a=>()=>a.containsKey(n,i)))}}class Oc extends Qi{constructor(n){super(),this.currentSequenceNumber=n}}class UA{constructor(n){this.persistence=n,this.zr=new Fl,this.jr=null}static Hr(n){return new UA(n)}get Jr(){if(this.jr)return this.jr;throw Kt()}addReference(n,i,a){return this.zr.addReference(a,i),this.Jr.delete(a.toString()),cn.resolve()}removeReference(n,i,a){return this.zr.removeReference(a,i),this.Jr.add(a.toString()),cn.resolve()}markPotentiallyOrphaned(n,i){return this.Jr.add(i.toString()),cn.resolve()}removeTarget(n,i){this.zr.Vr(i.targetId).forEach(f=>this.Jr.add(f.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,i.targetId).next(f=>{f.forEach(E=>this.Jr.add(E.toString()))}).next(()=>a.removeTargetData(n,i))}Ur(){this.jr=new Set}Wr(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cn.forEach(this.Jr,a=>{const f=lr.fromPath(a);return this.Yr(n,f).next(E=>{E||i.removeEntry(f,Pt.min())})}).next(()=>(this.jr=null,i.apply(n)))}updateLimboDocument(n,i){return this.Yr(n,i).next(a=>{a?this.Jr.delete(i.toString()):this.Jr.add(i.toString())})}Kr(n){return 0}Yr(n,i){return cn.or([()=>cn.resolve(this.zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Gr(n,i)])}}class Yh{constructor(n){this.serializer=n}O(n,i,a,f){const E=new Co("createOrUpgrade",i);var X;a<1&&f>=1&&(n.createObjectStore("owner"),(X=n).createObjectStore("mutationQueues",{keyPath:"userId"}),X.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gs,{unique:!0}),X.createObjectStore("documentMutations"),VA(n),function(X){X.createObjectStore("remoteDocuments")}(n));let D=cn.resolve();return a<3&&f>=3&&(0!==a&&(function(X){X.deleteObjectStore("targetDocuments"),X.deleteObjectStore("targets"),X.deleteObjectStore("targetGlobal")}(n),VA(n)),D=D.next(()=>function(X){const fe=X.store("targetGlobal"),xe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pt.min().toTimestamp(),targetCount:0};return fe.put("targetGlobalKey",xe)}(E))),a<4&&f>=4&&(0!==a&&(D=D.next(()=>function(X,fe){return fe.store("mutations").U().next(xe=>{X.deleteObjectStore("mutations"),X.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gs,{unique:!0});const Re=fe.store("mutations"),$e=xe.map(xt=>Re.put(xt));return cn.waitFor($e)})}(n,E))),D=D.next(()=>{!function(X){X.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),a<5&&f>=5&&(D=D.next(()=>this.Xr(E))),a<6&&f>=6&&(D=D.next(()=>(function(X){X.createObjectStore("remoteDocumentGlobal")}(n),this.ei(E)))),a<7&&f>=7&&(D=D.next(()=>this.ti(E))),a<8&&f>=8&&(D=D.next(()=>this.ni(n,E))),a<9&&f>=9&&(D=D.next(()=>{!function(X){X.objectStoreNames.contains("remoteDocumentChanges")&&X.deleteObjectStore("remoteDocumentChanges")}(n)})),a<10&&f>=10&&(D=D.next(()=>this.ri(E))),a<11&&f>=11&&(D=D.next(()=>{(function(X){X.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(X){X.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),a<12&&f>=12&&(D=D.next(()=>{!function(X){const fe=X.createObjectStore("documentOverlays",{keyPath:pr});fe.createIndex("collectionPathOverlayIndex",Xr,{unique:!1}),fe.createIndex("collectionGroupOverlayIndex",Dr,{unique:!1})}(n)})),a<13&&f>=13&&(D=D.next(()=>function(X){const fe=X.createObjectStore("remoteDocumentsV14",{keyPath:nl});fe.createIndex("documentKeyIndex",Ao),fe.createIndex("collectionGroupIndex",vl)}(n)).next(()=>this.ii(n,E)).next(()=>n.deleteObjectStore("remoteDocuments"))),a<14&&f>=14&&(D=D.next(()=>this.si(n,E))),a<15&&f>=15&&(D=D.next(()=>function(X){X.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),X.createObjectStore("indexState",{keyPath:tr}).createIndex("sequenceNumberIndex",Mr,{unique:!1}),X.createObjectStore("indexEntries",{keyPath:Mi}).createIndex("documentKeyIndex",pn,{unique:!1})}(n))),a<16&&f>=16&&(D=D.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),D}ei(n){let i=0;return n.store("remoteDocuments").J((a,f)=>{i+=Tu(f)}).next(()=>{const a={byteSize:i};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}Xr(n){const i=n.store("mutationQueues"),a=n.store("mutations");return i.U().next(f=>cn.forEach(f,E=>{const D=IDBKeyRange.bound([E.userId,-1],[E.userId,E.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",D).next(G=>cn.forEach(G,X=>{Vn(X.userId===E.userId);const fe=dA(this.serializer,X);return yl(n,E.userId,fe).next(()=>{})}))}))}ti(n){const i=n.store("targetDocuments"),a=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(f=>{const E=[];return a.J((D,G)=>{const X=new vn(D),fe=[0,$o(X)];E.push(i.get(fe).next(xe=>xe?cn.resolve():i.put({targetId:0,path:$o(X),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>cn.waitFor(E))})}ni(n,i){n.createObjectStore("collectionParents",{keyPath:_n});const a=i.store("collectionParents"),f=new bu,E=D=>{if(f.add(D)){const G=D.lastSegment(),X=D.popLast();return a.put({collectionId:G,parent:$o(X)})}};return i.store("remoteDocuments").J({H:!0},(D,G)=>{const X=new vn(D);return E(X.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([D,G,X],fe)=>{const xe=Fr(G);return E(xe.popLast())}))}ri(n){const i=n.store("targets");return i.J((a,f)=>{const E=al(f),D=Wd(this.serializer,E);return i.put(D)})}ii(n,i){const a=i.store("remoteDocuments"),f=[];return a.J((E,D)=>{const G=i.store("remoteDocumentsV14"),X=(Re=D,Re.document?new lr(vn.fromString(Re.document.name).popFirst(5)):Re.noDocument?lr.fromSegments(Re.noDocument.path):Re.unknownDocument?lr.fromSegments(Re.unknownDocument.path):Kt()).path.toArray(),fe={prefixPath:X.slice(0,X.length-2),collectionGroup:X[X.length-2],documentId:X[X.length-1],readTime:D.readTime||[0,0],unknownDocument:D.unknownDocument,noDocument:D.noDocument,document:D.document,hasCommittedMutations:!!D.hasCommittedMutations};var Re;f.push(G.put(fe))}).next(()=>cn.waitFor(f))}si(n,i){const a=i.store("mutations"),f=Ed(this.serializer),E=new El(UA.Hr,this.serializer.ct);return a.U().next(D=>{const G=new Map;return D.forEach(X=>{var fe;let xe=null!==(fe=G.get(X.userId))&&void 0!==fe?fe:ci();dA(this.serializer,X).keys().forEach(Re=>xe=xe.add(Re)),G.set(X.userId,xe)}),cn.forEach(G,(X,fe)=>{const xe=new Vt(fe),Re=yn.lt(this.serializer,xe),$e=E.getIndexManager(xe),xt=pa.lt(xe,this.serializer,$e,E.referenceDelegate);return new wl(f,xt,Re,$e).recalculateAndSaveOverlaysForDocumentKeys(new Fs(i,gr.oe),X).next()})})}}function VA(l){l.createObjectStore("targetDocuments",{keyPath:ua}).createIndex("documentTargetsIndex",Nn,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$a,{unique:!0}),l.createObjectStore("targetGlobal")}const fA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Td{constructor(n,i,a,f,E,D,G,X,fe,xe,Re=16){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=a,this.oi=E,this.window=D,this.document=G,this._i=fe,this.ai=xe,this.ui=Re,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=$e=>Promise.resolve(),!Td.D())throw new Fe(we.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cs(this,f),this.Ti=i+"main",this.serializer=new yh(X),this.Ei=new Vo(this.Ti,this.ui,new Yh(this.serializer)),this.Qr=new Qa(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ed(this.serializer),this.$r=new ue,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===xe&&zn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(we.FAILED_PRECONDITION,fA);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Qr.getHighestSequenceNumber(n))}).then(n=>{this.kr=new gr(n,this._i)}).then(()=>{this.qr=!0}).catch(n=>(this.Ei&&this.Ei.close(),Promise.reject(n)))}fi(n){var i=this;return this.Ii=function(){var a=(0,e.A)(function*(f){if(i.started)return n(f)});return function(f){return a.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ei.L(function(){var i=(0,e.A)(function*(a){null===a.newVersion&&(yield n())});return function(a){return i.apply(this,arguments)}}())}setNetworkEnabled(n){var i=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.oi.enqueueAndForget((0,e.A)(function*(){i.started&&(yield i.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>Bd(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(n).next(i=>{i||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(n)).next(i=>this.isPrimary&&!i?this.yi(n).next(()=>!1):!!i&&this.wi(n).next(()=>!0))).catch(n=>{if(Bn(n))return nt("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.oi.enqueueRetryable(()=>this.Ii(n)),this.isPrimary=n})}gi(n){return pA(n).get("owner").next(i=>cn.resolve(this.Si(i)))}bi(n){return Bd(n).delete(this.clientId)}Di(){var n=this;return(0,e.A)(function*(){if(n.isPrimary&&!n.Ci(n.Pi,18e5)){n.Pi=Date.now();const i=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const f=Ji(a,"clientMetadata");return f.U().next(E=>{const D=n.vi(E,18e5),G=E.filter(X=>-1===D.indexOf(X));return cn.forEach(G,X=>f.delete(X.clientId)).next(()=>G)})}).catch(()=>[]);if(n.di)for(const a of i)n.di.removeItem(n.Fi(a.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(n){return!!n&&n.ownerId===this.clientId}pi(n){return this.ai?cn.resolve(!0):pA(n).get("owner").next(i=>{if(null!==i&&this.Ci(i.leaseTimestampMs,5e3)&&!this.Mi(i.ownerId)){if(this.Si(i)&&this.networkEnabled)return!0;if(!this.Si(i)){if(!i.allowTabSynchronization)throw new Fe(we.FAILED_PRECONDITION,fA);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bd(n).U().next(a=>void 0===this.vi(a,5e3).find(f=>!(this.clientId===f.clientId||!(!this.networkEnabled&&f.networkEnabled||!this.inForeground&&f.inForeground&&this.networkEnabled===f.networkEnabled))))}).next(i=>(this.isPrimary!==i&&nt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var n=this;return(0,e.A)(function*(){n.qr=!1,n.xi(),n.hi&&(n.hi.cancel(),n.hi=null),n.Oi(),n.Ni(),yield n.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const a=new Fs(i,gr.oe);return n.yi(a).next(()=>n.bi(a))}),n.Ei.close(),n.Li()})()}vi(n,i){return n.filter(a=>this.Ci(a.updateTimeMs,i)&&!this.Mi(a.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",n=>Bd(n).U().next(i=>this.vi(i,18e5).map(a=>a.clientId)))}get started(){return this.qr}getMutationQueue(n,i){return pa.lt(n,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new _d(n,this.serializer.ct.databaseId)}getDocumentOverlayCache(n){return yn.lt(this.serializer,n)}getBundleCache(){return this.$r}runTransaction(n,i,a){nt("IndexedDbPersistence","Starting transaction:",n);const f="readonly"===i?"readonly":"readwrite",E=16===(X=this.ui)?hi:15===X?no:14===X?ei:13===X?va:12===X?Yo:11===X?ho:void Kt();var X;let D;return this.Ei.runTransaction(n,f,E,G=>(D=new Fs(G,this.kr?this.kr.next():gr.oe),"readwrite-primary"===i?this.gi(D).next(X=>!!X||this.pi(D)).next(X=>{if(!X)throw zn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Fe(we.FAILED_PRECONDITION,xi);return a(D)}).next(X=>this.wi(D).next(()=>X)):this.ki(D).next(()=>a(D)))).then(G=>(D.raiseOnCommittedEvent(),G))}ki(n){return pA(n).get("owner").next(i=>{if(null!==i&&this.Ci(i.leaseTimestampMs,5e3)&&!this.Mi(i.ownerId)&&!this.Si(i)&&!(this.ai||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Fe(we.FAILED_PRECONDITION,fA)})}wi(n){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pA(n).put("owner",i)}static D(){return Vo.D()}yi(n){const i=pA(n);return i.get("owner").next(a=>this.Si(a)?(nt("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):cn.resolve())}Ci(n,i){const a=Date.now();return!(n<a-i||n>a&&(zn(`Detected an update time that is in the future: ${n} > ${a}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.ci=()=>{this.xi();const i=/(?:Version|Mobile)\/1[456]/;(0,tt.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(n){var i;try{const a=null!==(null===(i=this.di)||void 0===i?void 0:i.getItem(this.Fi(n)));return nt("IndexedDbPersistence",`Client '${n}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return zn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(n){zn("Failed to set zombie client id.",n)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function pA(l){return Ji(l,"owner")}function Bd(l){return Ji(l,"clientMetadata")}function wh(l,n){let i=l.projectId;return l.isDefaultDatabase||(i+="."+l.database),"firestore/"+n+"/"+i+"/"}class QA{constructor(n,i,a,f){this.targetId=n,this.fromCache=i,this.qi=a,this.Qi=f}static Ki(n,i){let a=ci(),f=ci();for(const E of i.docChanges)switch(E.type){case 0:a=a.add(E.doc.key);break;case 1:f=f.add(E.doc.key)}return new QA(n,i.fromCache,a,f)}}class Jh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Yl{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,tt.nr)()?8:ps((0,tt.ZQ)())>0?6:4}initialize(n,i){this.zi=n,this.indexManager=i,this.$i=!0}getDocumentsMatchingQuery(n,i,a,f){const E={result:null};return this.ji(n,i).next(D=>{E.result=D}).next(()=>{if(!E.result)return this.Hi(n,i,f,a).next(D=>{E.result=D})}).next(()=>{if(E.result)return;const D=new Jh;return this.Ji(n,i,D).next(G=>{if(E.result=G,this.Ui)return this.Yi(n,i,D,G.size)})}).next(()=>E.result)}Yi(n,i,a,f){return a.documentReadCount<this.Wi?(Cn()<=Z.$b.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",lo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),cn.resolve()):(Cn()<=Z.$b.DEBUG&&nt("QueryEngine","Query:",lo(i),"scans",a.documentReadCount,"local documents and returns",f,"documents as results."),a.documentReadCount>this.Gi*f?(Cn()<=Z.$b.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",lo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,qe(i))):cn.resolve())}ji(n,i){if(ul(i))return cn.resolve(null);let a=qe(i);return this.indexManager.getIndexType(n,a).next(f=>0===f?null:(null!==i.limit&&1===f&&(i=Bi(i,null,"F"),a=qe(i)),this.indexManager.getDocumentsMatchingTarget(n,a).next(E=>{const D=ci(...E);return this.zi.getDocuments(n,D).next(G=>this.indexManager.getMinOffset(n,a).next(X=>{const fe=this.Zi(i,G);return this.Xi(i,fe,D,X.readTime)?this.ji(n,Bi(i,null,"F")):this.es(n,fe,i,X)}))})))}Hi(n,i,a,f){return ul(i)||f.isEqual(Pt.min())?cn.resolve(null):this.zi.getDocuments(n,a).next(E=>{const D=this.Zi(i,E);return this.Xi(i,D,a,f)?cn.resolve(null):(Cn()<=Z.$b.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),lo(i)),this.es(n,D,i,Ro(f,-1)).next(G=>G))})}Zi(n,i){let a=new To(Ql(n));return i.forEach((f,E)=>{Ka(n,E)&&(a=a.add(E))}),a}Xi(n,i,a,f){if(null===n.limit)return!1;if(a.size!==i.size)return!0;const E="F"===n.limitType?i.last():i.first();return!!E&&(E.hasPendingWrites||E.version.compareTo(f)>0)}Ji(n,i,a){return Cn()<=Z.$b.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",lo(i)),this.zi.getDocumentsMatchingQuery(n,i,Zr.min(),a)}es(n,i,a,f){return this.zi.getDocumentsMatchingQuery(n,a,f).next(E=>(i.forEach(D=>{E=E.insert(D.key,D)}),E))}}class Fu{constructor(n,i,a,f){this.persistence=n,this.ts=i,this.serializer=f,this.ns=new Ri(kr),this.rs=new Al(E=>Zo(E),rl),this.ss=new Map,this.os=n.getRemoteDocumentCache(),this.Qr=n.getTargetCache(),this.$r=n.getBundleCache(),this._s(a)}_s(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new wl(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.ns))}}function ga(l,n,i,a){return new Fu(l,n,i,a)}function Yd(l,n){return jA.apply(this,arguments)}function jA(){return(jA=(0,e.A)(function*(l,n){const i=st(l);return yield i.persistence.runTransaction("Handle user change","readonly",a=>{let f;return i.mutationQueue.getAllMutationBatches(a).next(E=>(f=E,i._s(n),i.mutationQueue.getAllMutationBatches(a))).next(E=>{const D=[],G=[];let X=ci();for(const fe of f){D.push(fe.batchId);for(const xe of fe.mutations)X=X.add(xe.key)}for(const fe of E){G.push(fe.batchId);for(const xe of fe.mutations)X=X.add(xe.key)}return i.localDocuments.getDocuments(a,X).next(fe=>({us:fe,removedBatchIds:D,addedBatchIds:G}))})})})).apply(this,arguments)}function Jl(l){const n=st(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Qr.getLastRemoteSnapshotVersion(i))}function Du(l,n,i){let a=ci(),f=ci();return i.forEach(E=>a=a.add(E)),n.getEntries(l,a).next(E=>{let D=_a();return i.forEach((G,X)=>{const fe=E.get(G);X.isFoundDocument()!==fe.isFoundDocument()&&(f=f.add(G)),X.isNoDocument()&&X.version.isEqual(Pt.min())?(n.removeEntry(G,X.readTime),D=D.insert(G,X)):!fe.isValidDocument()||X.version.compareTo(fe.version)>0||0===X.version.compareTo(fe.version)&&fe.hasPendingWrites?(n.addEntry(X),D=D.insert(G,X)):nt("LocalStore","Ignoring outdated watch update for ",G,". Current version:",fe.version," Watch version:",X.version)}),{cs:D,ls:f}})}function gA(l,n){const i=st(l);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,n)))}function Ia(l,n){const i=st(l);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let f;return i.Qr.getTargetData(a,n).next(E=>E?(f=E,cn.resolve(f)):i.Qr.allocateTargetId(a).next(D=>(f=new Rc(n,D,"TargetPurposeListen",a.currentSequenceNumber),i.Qr.addTargetData(a,f).next(()=>f))))}).then(a=>{const f=i.ns.get(a.targetId);return(null===f||a.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(i.ns=i.ns.insert(a.targetId,a),i.rs.set(n,a.targetId)),a})}function ic(l,n,i){return tA.apply(this,arguments)}function tA(){return(tA=(0,e.A)(function*(l,n,i){const a=st(l),f=a.ns.get(n),E=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",E,D=>a.persistence.referenceDelegate.removeTarget(D,f)))}catch(D){if(!Bn(D))throw D;nt("LocalStore",`Failed to update sequence numbers for target ${n}: ${D}`)}a.ns=a.ns.remove(n),a.rs.delete(f.target)})).apply(this,arguments)}function xu(l,n,i){const a=st(l);let f=Pt.min(),E=ci();return a.persistence.runTransaction("Execute query","readwrite",D=>function(X,fe,xe){const Re=st(X),$e=Re.rs.get(xe);return void 0!==$e?cn.resolve(Re.ns.get($e)):Re.Qr.getTargetData(fe,xe)}(a,D,qe(n)).next(G=>{if(G)return f=G.lastLimboFreeSnapshotVersion,a.Qr.getMatchingKeysForTargetId(D,G.targetId).next(X=>{E=X})}).next(()=>a.ts.getDocumentsMatchingQuery(D,n,i?f:Pt.min(),i?E:ci())).next(G=>(Cc(a,Pl(n),G),{documents:G,hs:E})))}function Za(l,n){const i=st(l),a=st(i.Qr),f=i.ns.get(n);return f?Promise.resolve(f.target):i.persistence.runTransaction("Get target data","readonly",E=>a.ot(E,n).next(D=>D?D.target:null))}function Jd(l,n){const i=st(l),a=i.ss.get(n)||Pt.min();return i.persistence.runTransaction("Get new document changes","readonly",f=>i.os.getAllFromCollectionGroup(f,n,Ro(a,-1),Number.MAX_SAFE_INTEGER)).then(f=>(Cc(i,n,f),f))}function Cc(l,n,i){let a=l.ss.get(n)||Pt.min();i.forEach((f,E)=>{E.readTime.compareTo(a)>0&&(a=E.readTime)}),l.ss.set(n,a)}function ed(){return(ed=(0,e.A)(function*(l,n,i,a){const f=st(l);let E=ci(),D=_a();for(const fe of i){const xe=n.Ps(fe.metadata.name);fe.document&&(E=E.add(xe));const Re=n.Is(fe);Re.setReadTime(n.Ts(fe.metadata.readTime)),D=D.insert(xe,Re)}const G=f.os.newChangeBuffer({trackRemovals:!0}),X=yield Ia(f,(xe=a,qe(Na(vn.fromString(`__bundle__/docs/${xe}`)))));var xe;return f.persistence.runTransaction("Apply bundle documents","readwrite",fe=>Du(fe,G,D).next(xe=>(G.apply(fe),xe)).next(xe=>f.Qr.removeMatchingKeysForTargetId(fe,X.targetId).next(()=>f.Qr.addMatchingKeys(fe,E,X.targetId)).next(()=>f.localDocuments.getLocalViewOfDocuments(fe,xe.cs,xe.ls)).next(()=>xe.cs)))})).apply(this,arguments)}function mA(l,n){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,e.A)(function*(l,n,i=ci()){const a=yield Ia(l,qe(L(n.bundledQuery))),f=st(l);return f.persistence.runTransaction("Save named query","readwrite",E=>{const D=ha(n.readTime);if(a.snapshotVersion.compareTo(D)>=0)return f.$r.saveNamedQuery(E,n);const G=a.withResumeToken(Io.EMPTY_BYTE_STRING,D);return f.ns=f.ns.insert(G.targetId,G),f.Qr.updateTargetData(E,G).next(()=>f.Qr.removeMatchingKeysForTargetId(E,a.targetId)).next(()=>f.Qr.addMatchingKeys(E,i,a.targetId)).next(()=>f.$r.saveNamedQuery(E,n))})})).apply(this,arguments)}function Zd(l,n){return`firestore_clients_${l}_${n}`}function Dd(l,n,i){let a=`firestore_mutations_${l}_${i}`;return n.isAuthenticated()&&(a+=`_${n.uid}`),a}function ku(l,n){return`firestore_targets_${l}_${n}`}class vA{constructor(n,i,a,f){this.user=n,this.batchId=i,this.state=a,this.error=f}static Es(n,i,a){const f=JSON.parse(a);let E,D="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return D&&f.error&&(D="string"==typeof f.error.message&&"string"==typeof f.error.code,D&&(E=new Fe(f.error.code,f.error.message))),D?new vA(n,i,f.state,E):(zn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${a}`),null)}ds(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Ic{constructor(n,i,a){this.targetId=n,this.state=i,this.error=a}static Es(n,i){const a=JSON.parse(i);let f,E="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return E&&a.error&&(E="string"==typeof a.error.message&&"string"==typeof a.error.code,E&&(f=new Fe(a.error.code,a.error.message))),E?new Ic(n,a.state,f):(zn("SharedClientState",`Failed to parse target state for ID '${n}': ${i}`),null)}ds(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class td{constructor(n,i){this.clientId=n,this.activeTargetIds=i}static Es(n,i){const a=JSON.parse(i);let f="object"==typeof a&&a.activeTargetIds instanceof Array,E=ya();for(let D=0;f&&D<a.activeTargetIds.length;++D)f=ji(a.activeTargetIds[D]),E=E.add(a.activeTargetIds[D]);return f?new td(n,E):(zn("SharedClientState",`Failed to parse client data for instance '${n}': ${i}`),null)}}class xd{constructor(n,i){this.clientId=n,this.onlineState=i}static Es(n){const i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new xd(i.clientId,i.onlineState):(zn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class Rd{constructor(){this.activeTargetIds=ya()}As(n){this.activeTargetIds=this.activeTargetIds.add(n)}Rs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}ds(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class HA{constructor(n,i,a,f,E){this.window=n,this.oi=i,this.persistenceKey=a,this.Vs=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Ri(kr),this.started=!1,this.ys=[];const D=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=E,this.ws=Zd(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Rd),this.bs=new RegExp(`^firestore_clients_${D}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${D}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${D}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(X){return`firestore_bundle_loaded_v2_${X}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,e.A)(function*(){const i=yield n.syncEngine.Bi();for(const f of i){if(f===n.Vs)continue;const E=n.getItem(Zd(n.persistenceKey,f));if(E){const D=td.Es(f,E);D&&(n.ps=n.ps.insert(D.clientId,D))}}n.Ms();const a=n.storage.getItem(n.vs);if(a){const f=n.xs(a);f&&n.Os(f)}for(const f of n.ys)n.gs(f);n.ys=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Ss,JSON.stringify(n))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(n){let i=!1;return this.ps.forEach((a,f)=>{f.activeTargetIds.has(n)&&(i=!0)}),i}addPendingMutation(n){this.Ls(n,"pending")}updateMutationState(n,i,a){this.Ls(n,i,a),this.Bs(n)}addLocalQueryTarget(n){let i="not-current";if(this.isActiveQueryTarget(n)){const a=this.storage.getItem(ku(this.persistenceKey,n));if(a){const f=Ic.Es(n,a);f&&(i=f.state)}}return this.ks.As(n),this.Ms(),i}removeLocalQueryTarget(n){this.ks.Rs(n),this.Ms()}isLocalQueryTarget(n){return this.ks.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(ku(this.persistenceKey,n))}updateQueryState(n,i,a){this.qs(n,i,a)}handleUserChange(n,i,a){i.forEach(f=>{this.Bs(f)}),this.currentUser=n,a.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(n){this.Qs(n)}notifyBundleLoaded(n){this.Ks(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(n){const i=this.storage.getItem(n);return nt("SharedClientState","READ",n,i),i}setItem(n,i){nt("SharedClientState","SET",n,i),this.storage.setItem(n,i)}removeItem(n){nt("SharedClientState","REMOVE",n),this.storage.removeItem(n)}gs(n){var i=this;const a=n;if(a.storageArea===this.storage){if(nt("SharedClientState","EVENT",a.key,a.newValue),a.key===this.ws)return void zn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,e.A)(function*(){if(i.started){if(null!==a.key)if(i.bs.test(a.key)){if(null==a.newValue){const f=i.$s(a.key);return i.Us(f,null)}{const f=i.Ws(a.key,a.newValue);if(f)return i.Us(f.clientId,f)}}else if(i.Ds.test(a.key)){if(null!==a.newValue){const f=i.Gs(a.key,a.newValue);if(f)return i.zs(f)}}else if(i.Cs.test(a.key)){if(null!==a.newValue){const f=i.js(a.key,a.newValue);if(f)return i.Hs(f)}}else if(a.key===i.vs){if(null!==a.newValue){const f=i.xs(a.newValue);if(f)return i.Os(f)}}else if(a.key===i.Ss){const f=function(D){let G=gr.oe;if(null!=D)try{const X=JSON.parse(D);Vn("number"==typeof X),G=X}catch(X){zn("SharedClientState","Failed to read sequence number from WebStorage",X)}return G}(a.newValue);f!==gr.oe&&i.sequenceNumberHandler(f)}else if(a.key===i.Fs){const f=i.Js(a.newValue);yield Promise.all(f.map(E=>i.syncEngine.Ys(E)))}}else i.ys.push(a)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(n,i,a){const f=new vA(this.currentUser,n,i,a),E=Dd(this.persistenceKey,this.currentUser,n);this.setItem(E,f.ds())}Bs(n){const i=Dd(this.persistenceKey,this.currentUser,n);this.removeItem(i)}Qs(n){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:n}))}qs(n,i,a){const f=ku(this.persistenceKey,n),E=new Ic(n,i,a);this.setItem(f,E.ds())}Ks(n){const i=JSON.stringify(Array.from(n));this.setItem(this.Fs,i)}$s(n){const i=this.bs.exec(n);return i?i[1]:null}Ws(n,i){const a=this.$s(n);return td.Es(a,i)}Gs(n,i){const a=this.Ds.exec(n),f=Number(a[1]);return vA.Es(new Vt(void 0!==a[2]?a[2]:null),f,i)}js(n,i){const a=this.Cs.exec(n),f=Number(a[1]);return Ic.Es(f,i)}xs(n){return xd.Es(n)}Js(n){return JSON.parse(n)}zs(n){var i=this;return(0,e.A)(function*(){if(n.user.uid===i.currentUser.uid)return i.syncEngine.Zs(n.batchId,n.state,n.error);nt("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Hs(n){return this.syncEngine.Xs(n.targetId,n.state,n.error)}Us(n,i){const a=i?this.ps.insert(n,i):this.ps.remove(n),f=this.Ns(this.ps),E=this.Ns(a),D=[],G=[];return E.forEach(X=>{f.has(X)||D.push(X)}),f.forEach(X=>{E.has(X)||G.push(X)}),this.syncEngine.eo(D,G).then(()=>{this.ps=a})}Os(n){this.ps.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}Ns(n){let i=ya();return n.forEach((a,f)=>{i=i.unionWith(f.activeTargetIds)}),i}}class Zh{constructor(){this.no=new Rd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,a){}addLocalQueryTarget(n){return this.no.As(n),this.ro[n]||"not-current"}updateQueryState(n,i,a){this.ro[n]=i}removeLocalQueryTarget(n){this.no.Rs(n)}isLocalQueryTarget(n){return this.no.activeTargetIds.has(n)}clearQueryState(n){delete this.ro[n]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(n){return this.no.activeTargetIds.has(n)}start(){return this.no=new Rd,Promise.resolve()}handleUserChange(n,i,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class zA{io(n){}shutdown(){}}class bc{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(n){this.uo.push(n)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.uo)n(0)}ao(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.uo)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _A=null;function ef(){return null===_A?_A=268435456+Math.round(2147483648*Math.random()):_A++,"0x"+_A.toString(16)}const yA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Eh{constructor(n){this.lo=n.lo,this.ho=n.ho}Po(n){this.Io=n}To(n){this.Eo=n}Ao(n){this.Ro=n}onMessage(n){this.Vo=n}close(){this.ho()}send(n){this.lo(n)}mo(){this.Io()}fo(){this.Eo()}po(n){this.Ro(n)}yo(n){this.Vo(n)}}const Zl="WebChannelConnection";class Yc extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",f=encodeURIComponent(this.databaseId.projectId),E=encodeURIComponent(this.databaseId.database);this.wo=a+"://"+i.host,this.So=`projects/${f}/databases/${E}`,this.bo="(default)"===this.databaseId.database?`project_id=${f}`:`project_id=${f}&database_id=${E}`}get Do(){return!1}Co(i,a,f,E,D){const G=ef(),X=this.vo(i,a.toUriEncodedString());nt("RestConnection",`Sending RPC '${i}' ${G}:`,X,f);const fe={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(fe,E,D),this.Mo(i,X,fe,f).then(xe=>(nt("RestConnection",`Received RPC '${i}' ${G}: `,xe),xe),xe=>{throw yr("RestConnection",`RPC '${i}' ${G} failed with error: `,xe,"url: ",X,"request:",f),xe})}xo(i,a,f,E,D,G){return this.Co(i,a,f,E,D)}Fo(i,a,f){i["X-Goog-Api-Client"]="gl-js/ fire/"+wn,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((E,D)=>i[D]=E),f&&f.headers.forEach((E,D)=>i[D]=E)}vo(i,a){return`${this.wo}/v1/${a}:${yA[i]}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Mo(n,i,a,f){const E=ef();return new Promise((D,G)=>{const X=new Mt;X.setWithCredentials(!0),X.listenOnce(mn.COMPLETE,()=>{try{switch(X.getLastErrorCode()){case qt.NO_ERROR:const xe=X.getResponseJson();nt(Zl,`XHR for RPC '${n}' ${E} received:`,JSON.stringify(xe)),D(xe);break;case qt.TIMEOUT:nt(Zl,`RPC '${n}' ${E} timed out`),G(new Fe(we.DEADLINE_EXCEEDED,"Request time out"));break;case qt.HTTP_ERROR:const Re=X.getStatus();if(nt(Zl,`RPC '${n}' ${E} failed with status:`,Re,"response text:",X.getResponseText()),Re>0){let $e=X.getResponseJson();Array.isArray($e)&&($e=$e[0]);const xt=null==$e?void 0:$e.error;if(xt&&xt.status&&xt.message){const nn=function(Ln){const nr=Ln.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(nr)>=0?nr:we.UNKNOWN}(xt.status);G(new Fe(nn,xt.message))}else G(new Fe(we.UNKNOWN,"Server responded with status "+X.getStatus()))}else G(new Fe(we.UNAVAILABLE,"Connection failed."));break;default:Kt()}}finally{nt(Zl,`RPC '${n}' ${E} completed.`)}});const fe=JSON.stringify(f);nt(Zl,`RPC '${n}' ${E} sending request:`,f),X.send(i,"POST",fe,a,15)})}Oo(n,i,a){const f=ef(),E=[this.wo,"/","google.firestore.v1.Firestore","/",n,"/channel"],D=Tn(),G=gn(),X={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},fe=this.longPollingOptions.timeoutSeconds;void 0!==fe&&(X.longPollingTimeout=Math.round(1e3*fe)),this.useFetchStreams&&(X.xmlHttpFactory=new Ft({})),this.Fo(X.initMessageHeaders,i,a),X.encodeInitMessageHeaders=!0;const xe=E.join("");nt(Zl,`Creating RPC '${n}' stream ${f}: ${xe}`,X);const Re=D.createWebChannel(xe,X);let $e=!1,xt=!1;const nn=new Eh({lo:Ln=>{xt?nt(Zl,`Not sending because RPC '${n}' stream ${f} is closed:`,Ln):($e||(nt(Zl,`Opening RPC '${n}' stream ${f} transport.`),Re.open(),$e=!0),nt(Zl,`RPC '${n}' stream ${f} sending:`,Ln),Re.send(Ln))},ho:()=>Re.close()}),hn=(Ln,nr,Rr)=>{Ln.listen(nr,rr=>{try{Rr(rr)}catch(Ti){setTimeout(()=>{throw Ti},0)}})};return hn(Re,An.EventType.OPEN,()=>{xt||(nt(Zl,`RPC '${n}' stream ${f} transport opened.`),nn.mo())}),hn(Re,An.EventType.CLOSE,()=>{xt||(xt=!0,nt(Zl,`RPC '${n}' stream ${f} transport closed`),nn.po())}),hn(Re,An.EventType.ERROR,Ln=>{xt||(xt=!0,yr(Zl,`RPC '${n}' stream ${f} transport errored:`,Ln),nn.po(new Fe(we.UNAVAILABLE,"The operation could not be completed")))}),hn(Re,An.EventType.MESSAGE,Ln=>{var nr;if(!xt){const Rr=Ln.data[0];Vn(!!Rr);const Ti=Rr.error||(null===(nr=Rr[0])||void 0===nr?void 0:nr.error);if(Ti){nt(Zl,`RPC '${n}' stream ${f} received error:`,Ti);const mo=Ti.status;let Fi=function($t){const Xt=Ve[$t];if(void 0!==Xt)return mr(Xt)}(mo),on=Ti.message;void 0===Fi&&(Fi=we.INTERNAL,on="Unknown error status: "+mo+" with message "+Ti.message),xt=!0,nn.po(new Fe(Fi,on)),Re.close()}else nt(Zl,`RPC '${n}' stream ${f} received:`,Rr),nn.yo(Rr)}}),hn(G,Un.STAT_EVENT,Ln=>{Ln.stat===tn.PROXY?nt(Zl,`RPC '${n}' stream ${f} detected buffering proxy`):Ln.stat===tn.NOPROXY&&nt(Zl,`RPC '${n}' stream ${f} detected no buffering proxy`)}),setTimeout(()=>{nn.fo()},0),nn}}function Ff(){return typeof window<"u"?window:null}function fu(){return typeof document<"u"?document:null}function nA(l){return new _u(l,!0)}class eh{constructor(n,i,a=1e3,f=1.5,E=6e4){this.oi=n,this.timerId=i,this.No=a,this.Lo=f,this.Bo=E,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(n){this.cancel();const i=Math.floor(this.ko+this.Uo()),a=Math.max(0,Date.now()-this.Qo),f=Math.max(0,i-a);f>0&&nt("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,f,()=>(this.Qo=Date.now(),n())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class $A{constructor(n,i,a,f,E,D,G,X){this.oi=n,this.Go=a,this.zo=f,this.connection=E,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=G,this.listener=X,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new eh(n,i)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var n=this;return(0,e.A)(function*(){n.Zo()&&(yield n.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(n){this.s_(),this.stream.send(n)}r_(){var n=this;return(0,e.A)(function*(){if(n.Xo())return n.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(n,i){var a=this;return(0,e.A)(function*(){a.s_(),a.o_(),a.Yo.cancel(),a.jo++,4!==n?a.Yo.reset():i&&i.code===we.RESOURCE_EXHAUSTED?(zn(i.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),a.Yo.Ko()):i&&i.code===we.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.__(),a.stream.close(),a.stream=null),a.state=n,yield a.listener.Ao(i)})()}__(){}auth(){this.state=1;const n=this.a_(this.jo),i=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,f])=>{this.jo===i&&this.u_(a,f)},a=>{n(()=>{const f=new Fe(we.UNKNOWN,"Fetching auth token failed: "+a.message);return this.c_(f)})})}u_(n,i){const a=this.a_(this.jo);this.stream=this.l_(n,i),this.stream.Po(()=>{a(()=>this.listener.Po())}),this.stream.To(()=>{a(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(f=>{a(()=>this.c_(f))}),this.stream.onMessage(f=>{a(()=>this.onMessage(f))})}e_(){var n=this;this.state=5,this.Yo.$o((0,e.A)(function*(){n.state=0,n.start()}))}c_(n){return nt("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}a_(n){return i=>{this.oi.enqueueAndForget(()=>this.jo===n?i():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tf extends $A{constructor(n,i,a,f,E,D){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,f,D),this.serializer=E}l_(n,i){return this.connection.Oo("Listen",n,i)}onMessage(n){this.Yo.reset();const i=function aa(l,n){let i;if("targetChange"in n){const a="NO_CHANGE"===(fe=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===fe?1:"REMOVE"===fe?2:"CURRENT"===fe?3:"RESET"===fe?4:Kt(),f=n.targetChange.targetIds||[],E=function(fe,xe){return fe.useProto3Json?(Vn(void 0===xe||"string"==typeof xe),Io.fromBase64String(xe||"")):(Vn(void 0===xe||xe instanceof Buffer||xe instanceof Uint8Array),Io.fromUint8Array(xe||new Uint8Array))}(l,n.targetChange.resumeToken),D=n.targetChange.cause,G=D&&function(fe){const xe=void 0===fe.code?we.UNKNOWN:mr(fe.code);return new Fe(xe,fe.message||"")}(D);i=new da(a,f,E,G||null)}else if("documentChange"in n){const a=n.documentChange,f=Tl(l,a.document.name),E=ha(a.document.updateTime),D=a.document.createTime?ha(a.document.createTime):Pt.min(),G=new er({mapValue:{fields:a.document.fields}}),X=_r.newFoundDocument(f,E,D,G);i=new wi(a.targetIds||[],a.removedTargetIds||[],X.key,X)}else if("documentDelete"in n){const a=n.documentDelete,f=Tl(l,a.document),E=a.readTime?ha(a.readTime):Pt.min(),D=_r.newNoDocument(f,E);i=new wi([],a.removedTargetIds||[],D.key,D)}else if("documentRemove"in n){const a=n.documentRemove,f=Tl(l,a.document);i=new wi([],a.removedTargetIds||[],f,null)}else{if(!("filter"in n))return Kt();{const a=n.filter,{count:f=0,unchangedNames:E}=a,D=new se(f,E);i=new is(a.targetId,D)}}var fe;return i}(this.serializer,n),a=function(E){if(!("targetChange"in E))return Pt.min();const D=E.targetChange;return D.targetIds&&D.targetIds.length?Pt.min():D.readTime?ha(D.readTime):Pt.min()}(n);return this.listener.h_(i,a)}P_(n){const i={};i.database=Ku(this.serializer),i.addTarget=function(E,D){let G;const X=D.target;if(G=Ls(X)?{documents:md(E,X)}:{query:yu(E,X)._t},G.targetId=D.targetId,D.resumeToken.approximateByteSize()>0){G.resumeToken=Fa(E,D.resumeToken);const fe=cu(E,D.expectedCount);null!==fe&&(G.expectedCount=fe)}else if(D.snapshotVersion.compareTo(Pt.min())>0){G.readTime=nc(E,D.snapshotVersion.toTimestamp());const fe=cu(E,D.expectedCount);null!==fe&&(G.expectedCount=fe)}return G}(this.serializer,n);const a=function vd(l,n){const i=function(f){switch(f){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt()}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);a&&(i.labels=a),this.i_(i)}I_(n){const i={};i.database=Ku(this.serializer),i.removeTarget=n,this.i_(i)}}class Df extends $A{constructor(n,i,a,f,E,D){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,f,D),this.serializer=E,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(n,i){return this.connection.Oo("Write",n,i)}onMessage(n){if(Vn(!!n.streamToken),this.lastStreamToken=n.streamToken,this.T_){this.Yo.reset();const i=function Bl(l,n){return l&&l.length>0?(Vn(void 0!==n),l.map(i=>function(f,E){let D=ha(f.updateTime?f.updateTime:E);return D.isEqual(Pt.min())&&(D=ha(E)),new MA(D,f.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),a=ha(n.commitTime);return this.listener.A_(a,i)}return Vn(!n.writeResults||0===n.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const n={};n.database=Ku(this.serializer),this.i_(n)}d_(n){const i={streamToken:this.lastStreamToken,writes:n.map(a=>Gc(this.serializer,a))};this.i_(i)}}class th extends class{}{constructor(n,i,a,f){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=a,this.serializer=f,this.m_=!1}f_(){if(this.m_)throw new Fe(we.FAILED_PRECONDITION,"The client has already been terminated.")}Co(n,i,a,f){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([E,D])=>this.connection.Co(n,uu(i,a),f,E,D)).catch(E=>{throw"FirebaseError"===E.name?(E.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),E):new Fe(we.UNKNOWN,E.toString())})}xo(n,i,a,f,E){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([D,G])=>this.connection.xo(n,uu(i,a),f,D,G,E)).catch(D=>{throw"FirebaseError"===D.name?(D.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),D):new Fe(we.UNKNOWN,D.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class xf{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(n){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.S_("Offline")))}set(n){this.C_(),this.g_=0,"Online"===n&&(this.y_=!1),this.S_(n)}S_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}b_(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(zn(i),this.y_=!1):nt("OnlineStateTracker",i)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Rf{constructor(n,i,a,f,E){var D=this;this.localStore=n,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=E,this.O_.io(G=>{a.enqueueAndForget((0,e.A)(function*(){var X;wA(D)&&(nt("RemoteStore","Restarting streams for network reachability change."),yield(X=(0,e.A)(function*(xe){const Re=st(xe);Re.M_.add(4),yield ba(Re),Re.N_.set("Unknown"),Re.M_.delete(4),yield Pu(Re)}),function fe(xe){return X.apply(this,arguments)})(D))}))}),this.N_=new xf(a,f)}}function Pu(l){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,e.A)(function*(l){if(wA(l))for(const n of l.x_)yield n(!0)})).apply(this,arguments)}function ba(l){return dc.apply(this,arguments)}function dc(){return(dc=(0,e.A)(function*(l){for(const n of l.x_)yield n(!1)})).apply(this,arguments)}function Nu(l,n){const i=st(l);i.F_.has(n.targetId)||(i.F_.set(n.targetId,n),pl(i)?Ll(i):te(i).Xo()&&Dl(i,n))}function Lc(l,n){const i=st(l),a=te(i);i.F_.delete(n),a.Xo()&&Jc(i,n),0===i.F_.size&&(a.Xo()?a.n_():wA(i)&&i.N_.set("Unknown"))}function Dl(l,n){if(l.L_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(Pt.min())>0){const i=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}te(l).P_(n)}function Jc(l,n){l.L_.xe(n),te(l).I_(n)}function Ll(l){l.L_=new dl({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>l.F_.get(n)||null,tt:()=>l.datastore.serializer.databaseId}),te(l).start(),l.N_.w_()}function pl(l){return wA(l)&&!te(l).Zo()&&l.F_.size>0}function wA(l){return 0===st(l).M_.size}function EA(l){l.L_=void 0}function nh(l){return nd.apply(this,arguments)}function nd(){return(nd=(0,e.A)(function*(l){l.N_.set("Online")})).apply(this,arguments)}function nf(l){return GA.apply(this,arguments)}function GA(){return(GA=(0,e.A)(function*(l){l.F_.forEach((n,i)=>{Dl(l,n)})})).apply(this,arguments)}function rh(l,n){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,e.A)(function*(l,n){EA(l),pl(l)?(l.N_.D_(n),Ll(l)):l.N_.set("Unknown")})).apply(this,arguments)}function rf(l,n,i){return ih.apply(this,arguments)}function ih(){return ih=(0,e.A)(function*(l,n,i){if(l.N_.set("Online"),n instanceof da&&2===n.state&&n.cause)try{yield(a=(0,e.A)(function*(E,D){const G=D.cause;for(const X of D.targetIds)E.F_.has(X)&&(yield E.remoteSyncer.rejectListen(X,G),E.F_.delete(X),E.L_.removeTarget(X))}),function f(E,D){return a.apply(this,arguments)})(l,n)}catch(a){nt("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),a),yield rA(l,a)}else if(n instanceof wi?l.L_.Ke(n):n instanceof is?l.L_.He(n):l.L_.We(n),!i.isEqual(Pt.min()))try{const a=yield Jl(l.localStore);i.compareTo(a)>=0&&(yield function(E,D){const G=E.L_.rt(D);return G.targetChanges.forEach((X,fe)=>{if(X.resumeToken.approximateByteSize()>0){const xe=E.F_.get(fe);xe&&E.F_.set(fe,xe.withResumeToken(X.resumeToken,D))}}),G.targetMismatches.forEach((X,fe)=>{const xe=E.F_.get(X);if(!xe)return;E.F_.set(X,xe.withResumeToken(Io.EMPTY_BYTE_STRING,xe.snapshotVersion)),Jc(E,X);const Re=new Rc(xe.target,X,fe,xe.sequenceNumber);Dl(E,Re)}),E.remoteSyncer.applyRemoteEvent(G)}(l,i))}catch(a){nt("RemoteStore","Failed to raise snapshot:",a),yield rA(l,a)}var a}),ih.apply(this,arguments)}function rA(l,n,i){return sf.apply(this,arguments)}function sf(){return(sf=(0,e.A)(function*(l,n,i){if(!Bn(n))throw n;l.M_.add(1),yield ba(l),l.N_.set("Offline"),i||(i=()=>Jl(l.localStore)),l.asyncQueue.enqueueRetryable((0,e.A)(function*(){nt("RemoteStore","Retrying IndexedDB access"),yield i(),l.M_.delete(1),yield Pu(l)}))})).apply(this,arguments)}function oh(l,n){return n().catch(i=>rA(l,i,n))}function kd(l){return bh.apply(this,arguments)}function bh(){return(bh=(0,e.A)(function*(l){const n=st(l),i=oe(n);let a=n.v_.length>0?n.v_[n.v_.length-1].batchId:-1;for(;np(n);)try{const f=yield gA(n.localStore,a);if(null===f){0===n.v_.length&&i.n_();break}a=f.batchId,rp(n,f)}catch(f){yield rA(n,f)}kf(n)&&Pd(n)})).apply(this,arguments)}function np(l){return wA(l)&&l.v_.length<10}function rp(l,n){l.v_.push(n);const i=oe(l);i.Xo()&&i.E_&&i.d_(n.mutations)}function kf(l){return wA(l)&&!oe(l).Zo()&&l.v_.length>0}function Pd(l){oe(l).start()}function Sh(l){return sh.apply(this,arguments)}function sh(){return(sh=(0,e.A)(function*(l){oe(l).V_()})).apply(this,arguments)}function xp(l){return g.apply(this,arguments)}function g(){return(g=(0,e.A)(function*(l){const n=oe(l);for(const i of l.v_)n.d_(i.mutations)})).apply(this,arguments)}function d(l,n,i){return c.apply(this,arguments)}function c(){return(c=(0,e.A)(function*(l,n,i){const a=l.v_.shift(),f=x.from(a,n,i);yield oh(l,()=>l.remoteSyncer.applySuccessfulWrite(f)),yield kd(l)})).apply(this,arguments)}function u(l,n){return _.apply(this,arguments)}function _(){return _=(0,e.A)(function*(l,n){var i;n&&oe(l).E_&&(yield(i=(0,e.A)(function*(f,E){if(jn(G=E.code)&&G!==we.ABORTED){const D=f.v_.shift();oe(f).t_(),yield oh(f,()=>f.remoteSyncer.rejectFailedWrite(D.batchId,E)),yield kd(f)}var G}),function a(f,E){return i.apply(this,arguments)})(l,n)),kf(l)&&Pd(l)}),_.apply(this,arguments)}function I(l,n){return P.apply(this,arguments)}function P(){return(P=(0,e.A)(function*(l,n){const i=st(l);i.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const a=wA(i);i.M_.add(3),yield ba(i),a&&i.N_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.M_.delete(3),yield Pu(i)})).apply(this,arguments)}function U(l,n){return $.apply(this,arguments)}function $(){return($=(0,e.A)(function*(l,n){const i=st(l);n?(i.M_.delete(2),yield Pu(i)):n||(i.M_.add(2),yield ba(i),i.N_.set("Unknown"))})).apply(this,arguments)}function te(l){return l.B_||(l.B_=function(i,a,f){const E=st(i);return E.f_(),new tf(a,E.connection,E.authCredentials,E.appCheckCredentials,E.serializer,f)}(l.datastore,l.asyncQueue,{Po:nh.bind(null,l),To:nf.bind(null,l),Ao:rh.bind(null,l),h_:rf.bind(null,l)}),l.x_.push(function(){var n=(0,e.A)(function*(i){i?(l.B_.t_(),pl(l)?Ll(l):l.N_.set("Unknown")):(yield l.B_.stop(),EA(l))});return function(i){return n.apply(this,arguments)}}())),l.B_}function oe(l){return l.k_||(l.k_=function(i,a,f){const E=st(i);return E.f_(),new Df(a,E.connection,E.authCredentials,E.appCheckCredentials,E.serializer,f)}(l.datastore,l.asyncQueue,{Po:()=>Promise.resolve(),To:Sh.bind(null,l),Ao:u.bind(null,l),R_:xp.bind(null,l),A_:d.bind(null,l)}),l.x_.push(function(){var n=(0,e.A)(function*(i){i?(l.k_.t_(),yield kd(l)):(yield l.k_.stop(),l.v_.length>0&&(nt("RemoteStore",`Stopping write stream with ${l.v_.length} pending writes`),l.v_=[]))});return function(i){return n.apply(this,arguments)}}())),l.k_}class ve{constructor(n,i,a,f,E){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=a,this.op=f,this.removalCallback=E,this.deferred=new Le,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,a,f,E){const D=Date.now()+a,G=new ve(n,i,D,f,E);return G.start(a),G}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(we.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oe(l,n){if(zn("AsyncQueue",`${n}: ${l}`),Bn(l))return new Fe(we.UNAVAILABLE,`${n}: ${l}`);throw l}class he{constructor(n){this.comparator=n?(i,a)=>n(i,a)||lr.comparator(i.key,a.key):(i,a)=>lr.comparator(i.key,a.key),this.keyedMap=Nl(),this.sortedSet=new Ri(this.comparator)}static emptySet(n){return new he(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,a)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof he)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;i.hasNext();){const f=i.getNext().key,E=a.getNext().key;if(!f.isEqual(E))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const a=new he;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=i,a}}class ct{constructor(){this.q_=new Ri(lr.comparator)}track(n){const i=n.doc.key,a=this.q_.get(i);a?0!==n.type&&3===a.type?this.q_=this.q_.insert(i,n):3===n.type&&1!==a.type?this.q_=this.q_.insert(i,{type:a.type,doc:n.doc}):2===n.type&&2===a.type?this.q_=this.q_.insert(i,{type:2,doc:n.doc}):2===n.type&&0===a.type?this.q_=this.q_.insert(i,{type:0,doc:n.doc}):1===n.type&&0===a.type?this.q_=this.q_.remove(i):1===n.type&&2===a.type?this.q_=this.q_.insert(i,{type:1,doc:a.doc}):0===n.type&&1===a.type?this.q_=this.q_.insert(i,{type:2,doc:n.doc}):Kt():this.q_=this.q_.insert(i,n)}Q_(){const n=[];return this.q_.inorderTraversal((i,a)=>{n.push(a)}),n}}class at{constructor(n,i,a,f,E,D,G,X,fe){this.query=n,this.docs=i,this.oldDocs=a,this.docChanges=f,this.mutatedKeys=E,this.fromCache=D,this.syncStateChanged=G,this.excludesMetadataChanges=X,this.hasCachedResults=fe}static fromInitialDocuments(n,i,a,f,E){const D=[];return i.forEach(G=>{D.push({type:0,doc:G})}),new at(n,i,he.emptySet(i),D,a,f,!0,!1,E)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&ki(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,a=n.docChanges;if(i.length!==a.length)return!1;for(let f=0;f<i.length;f++)if(i[f].type!==a[f].type||!i[f].doc.isEqual(a[f].doc))return!1;return!0}}class ht{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(n=>n.G_())}}class m{constructor(){this.queries=new Al(n=>La(n),ki),this.onlineState="Unknown",this.z_=new Set}}function A(l,n){return p.apply(this,arguments)}function p(){return(p=(0,e.A)(function*(l,n){const i=st(l);let a=3;const f=n.query;let E=i.queries.get(f);E?!E.W_()&&n.G_()&&(a=2):(E=new ht,a=n.G_()?0:1);try{switch(a){case 0:E.K_=yield i.onListen(f,!0);break;case 1:E.K_=yield i.onListen(f,!1);break;case 2:yield i.onFirstRemoteStoreListen(f)}}catch(D){const G=Oe(D,`Initialization of query '${lo(n.query)}' failed`);return void n.onError(G)}i.queries.set(f,E),E.U_.push(n),n.j_(i.onlineState),E.K_&&n.H_(E.K_)&&me(i)})).apply(this,arguments)}function b(l,n){return Q.apply(this,arguments)}function Q(){return(Q=(0,e.A)(function*(l,n){const i=st(l),a=n.query;let f=3;const E=i.queries.get(a);if(E){const D=E.U_.indexOf(n);D>=0&&(E.U_.splice(D,1),0===E.U_.length?f=n.G_()?0:1:!E.W_()&&n.G_()&&(f=2))}switch(f){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function ee(l,n){const i=st(l);let a=!1;for(const f of n){const D=i.queries.get(f.query);if(D){for(const G of D.U_)G.H_(f)&&(a=!0);D.K_=f}}a&&me(i)}function le(l,n,i){const a=st(l),f=a.queries.get(n);if(f)for(const E of f.U_)E.onError(i);a.queries.delete(n)}function me(l){l.z_.forEach(n=>{n.next()})}var We,it;(it=We||(We={})).J_="default",it.Cache="cache";class Me{constructor(n,i,a){this.query=n,this.Y_=i,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=a||{}}H_(n){if(!this.options.includeMetadataChanges){const a=[];for(const f of n.docChanges)3!==f.type&&a.push(f);n=new at(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.Z_?this.ea(n)&&(this.Y_.next(n),i=!0):this.ta(n,this.onlineState)&&(this.na(n),i=!0),this.X_=n,i}onError(n){this.Y_.error(n)}j_(n){this.onlineState=n;let i=!1;return this.X_&&!this.Z_&&this.ta(this.X_,n)&&(this.na(this.X_),i=!0),i}ta(n,i){return!n.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}ea(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(n){n=at.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Z_=!0,this.Y_.next(n)}G_(){return this.options.source!==We.Cache}}class Ue{constructor(n,i){this.ia=n,this.byteLength=i}sa(){return"metadata"in this.ia}}class dt{constructor(n){this.serializer=n}Ps(n){return Tl(this.serializer,n)}Is(n){return n.metadata.exists?OA(this.serializer,n.document,!1):_r.newNoDocument(this.Ps(n.metadata.name),this.Ts(n.metadata.readTime))}Ts(n){return ha(n)}}class It{constructor(n,i,a){this.oa=n,this.localStore=i,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=F(n)}_a(n){this.progress.bytesLoaded+=n.byteLength;let i=this.progress.documentsLoaded;if(n.ia.namedQuery)this.queries.push(n.ia.namedQuery);else if(n.ia.documentMetadata){this.documents.push({metadata:n.ia.documentMetadata}),n.ia.documentMetadata.exists||++i;const a=vn.fromString(n.ia.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else n.ia.document&&(this.documents[this.documents.length-1].document=n.ia.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}aa(n){const i=new Map,a=new dt(this.serializer);for(const f of n)if(f.metadata.queries){const E=a.Ps(f.metadata.name);for(const D of f.metadata.queries){const G=(i.get(D)||ci()).add(E);i.set(D,G)}}return i}complete(){var n=this;return(0,e.A)(function*(){const i=yield function Ru(l,n,i,a){return ed.apply(this,arguments)}(n.localStore,new dt(n.serializer),n.documents,n.oa.id),a=n.aa(n.documents);for(const f of n.queries)yield mA(n.localStore,f,a.get(f.name));return n.progress.taskState="Success",{progress:n.progress,ua:n.collectionGroups,ca:i}})()}}function F(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class v{constructor(n){this.key=n}}class C{constructor(n){this.key=n}}class M{constructor(n,i){this.query=n,this.la=i,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ci(),this.mutatedKeys=ci(),this.Ia=Ql(n),this.Ta=new he(this.Ia)}get Ea(){return this.la}da(n,i){const a=i?i.Aa:new ct,f=i?i.Ta:this.Ta;let E=i?i.mutatedKeys:this.mutatedKeys,D=f,G=!1;const X="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,fe="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(n.inorderTraversal((xe,Re)=>{const $e=f.get(xe),xt=Ka(this.query,Re)?Re:null,nn=!!$e&&this.mutatedKeys.has($e.key),hn=!!xt&&(xt.hasLocalMutations||this.mutatedKeys.has(xt.key)&&xt.hasCommittedMutations);let Ln=!1;$e&&xt?$e.data.isEqual(xt.data)?nn!==hn&&(a.track({type:3,doc:xt}),Ln=!0):this.Ra($e,xt)||(a.track({type:2,doc:xt}),Ln=!0,(X&&this.Ia(xt,X)>0||fe&&this.Ia(xt,fe)<0)&&(G=!0)):!$e&&xt?(a.track({type:0,doc:xt}),Ln=!0):$e&&!xt&&(a.track({type:1,doc:$e}),Ln=!0,(X||fe)&&(G=!0)),Ln&&(xt?(D=D.add(xt),E=hn?E.add(xe):E.delete(xe)):(D=D.delete(xe),E=E.delete(xe)))}),null!==this.query.limit)for(;D.size>this.query.limit;){const xe="F"===this.query.limitType?D.last():D.first();D=D.delete(xe.key),E=E.delete(xe.key),a.track({type:1,doc:xe})}return{Ta:D,Aa:a,Xi:G,mutatedKeys:E}}Ra(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,a,f){const E=this.Ta;this.Ta=n.Ta,this.mutatedKeys=n.mutatedKeys;const D=n.Aa.Q_();D.sort((xe,Re)=>function(xt,nn){const hn=Ln=>{switch(Ln){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt()}};return hn(xt)-hn(nn)}(xe.type,Re.type)||this.Ia(xe.doc,Re.doc)),this.Va(a),f=null!=f&&f;const G=i&&!f?this.ma():[],X=0===this.Pa.size&&this.current&&!f?1:0,fe=X!==this.ha;return this.ha=X,0!==D.length||fe?{snapshot:new at(this.query,n.Ta,E,D,n.mutatedKeys,0===X,fe,!1,!!a&&a.resumeToken.approximateByteSize()>0),fa:G}:{fa:G}}j_(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new ct,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(n){return!this.la.has(n)&&!!this.Ta.has(n)&&!this.Ta.get(n).hasLocalMutations}Va(n){n&&(n.addedDocuments.forEach(i=>this.la=this.la.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.la=this.la.delete(i)),this.current=n.current)}ma(){if(!this.current)return[];const n=this.Pa;this.Pa=ci(),this.Ta.forEach(a=>{this.ga(a.key)&&(this.Pa=this.Pa.add(a.key))});const i=[];return n.forEach(a=>{this.Pa.has(a)||i.push(new C(a))}),this.Pa.forEach(a=>{n.has(a)||i.push(new v(a))}),i}pa(n){this.la=n.hs,this.Pa=ci();const i=this.da(n.documents);return this.applyChanges(i,!0)}ya(){return at.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class ae{constructor(n,i,a){this.query=n,this.targetId=i,this.view=a}}class Se{constructor(n){this.key=n,this.wa=!1}}class yt{constructor(n,i,a,f,E,D){this.localStore=n,this.remoteStore=i,this.eventManager=a,this.sharedClientState=f,this.currentUser=E,this.maxConcurrentLimboResolutions=D,this.Sa={},this.ba=new Al(G=>La(G),ki),this.Da=new Map,this.Ca=new Set,this.va=new Ri(lr.comparator),this.Fa=new Map,this.Ma=new Fl,this.xa={},this.Oa=new Map,this.Na=os.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function ye(l,n){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,e.A)(function*(l,n,i=!0){const a=Eo(l);let f;const E=a.ba.get(n);return E?(a.sharedClientState.addLocalQueryTarget(E.targetId),f=E.view.ya()):f=yield Lt(a,n,i,!0),f})).apply(this,arguments)}function gt(l,n){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,e.A)(function*(l,n){const i=Eo(l);yield Lt(i,n,!0,!1)})).apply(this,arguments)}function Lt(l,n,i,a){return xn.apply(this,arguments)}function xn(){return(xn=(0,e.A)(function*(l,n,i,a){const f=yield Ia(l.localStore,qe(n)),E=f.targetId,D=i?l.sharedClientState.addLocalQueryTarget(E):"not-current";let G;return a&&(G=yield Kn(l,n,E,"current"===D,f.resumeToken)),l.isPrimaryClient&&i&&Nu(l.remoteStore,f),G})).apply(this,arguments)}function Kn(l,n,i,a,f){return qn.apply(this,arguments)}function qn(){return qn=(0,e.A)(function*(l,n,i,a,f){l.Ba=(Re,$e,xt)=>{return(nn=(0,e.A)(function*(Ln,nr,Rr,rr){let Ti=nr.view.da(Rr);Ti.Xi&&(Ti=yield xu(Ln.localStore,nr.query,!1).then(({documents:kt})=>nr.view.da(kt,Ti)));const mo=rr&&rr.targetChanges.get(nr.targetId),Fi=rr&&null!=rr.targetMismatches.get(nr.targetId),on=nr.view.applyChanges(Ti,Ln.isPrimaryClient,mo,Fi);return Si(Ln,nr.targetId,on.fa),on.snapshot}),function hn(Ln,nr,Rr,rr){return nn.apply(this,arguments)})(l,Re,$e,xt);var nn};const E=yield xu(l.localStore,n,!0),D=new M(n,E.hs),G=D.da(E.documents),X=Br.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==l.onlineState,f),fe=D.applyChanges(G,l.isPrimaryClient,X);Si(l,i,fe.fa);const xe=new ae(n,i,D);return l.ba.set(n,xe),l.Da.has(i)?l.Da.get(i).push(n):l.Da.set(i,[n]),fe.snapshot}),qn.apply(this,arguments)}function ti(l,n,i){return zr.apply(this,arguments)}function zr(){return(zr=(0,e.A)(function*(l,n,i){const a=st(l),f=a.ba.get(n),E=a.Da.get(f.targetId);if(E.length>1)return a.Da.set(f.targetId,E.filter(D=>!ki(D,n))),void a.ba.delete(n);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(f.targetId),a.sharedClientState.isActiveQueryTarget(f.targetId)||(yield ic(a.localStore,f.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(f.targetId),i&&Lc(a.remoteStore,f.targetId),Oo(a,f.targetId)}).catch(Wo))):(Oo(a,f.targetId),yield ic(a.localStore,f.targetId,!0))})).apply(this,arguments)}function gi(l,n){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,e.A)(function*(l,n){const i=st(l),a=i.ba.get(n),f=i.Da.get(a.targetId);i.isPrimaryClient&&1===f.length&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Lc(i.remoteStore,a.targetId))})).apply(this,arguments)}function Ar(){return(Ar=(0,e.A)(function*(l,n,i){const a=zo(l);try{const f=yield function(D,G){const X=st(D),fe=fr.now(),xe=G.reduce((xt,nn)=>xt.add(nn.key),ci());let Re,$e;return X.persistence.runTransaction("Locally write mutations","readwrite",xt=>{let nn=_a(),hn=ci();return X.os.getEntries(xt,xe).next(Ln=>{nn=Ln,nn.forEach((nr,Rr)=>{Rr.isValidDocument()||(hn=hn.add(nr))})}).next(()=>X.localDocuments.getOverlayedDocuments(xt,nn)).next(Ln=>{Re=Ln;const nr=[];for(const Rr of G){const rr=Dc(Rr,Re.get(Rr.key).overlayedDocument);null!=rr&&nr.push(new Ml(Rr.key,rr,ir(rr.value.mapValue),Us.exists(!0)))}return X.mutationQueue.addMutationBatch(xt,fe,nr,G)}).next(Ln=>{$e=Ln;const nr=Ln.applyToLocalDocumentSet(Re,hn);return X.documentOverlayCache.saveOverlays(xt,Ln.batchId,nr)})}).then(()=>({batchId:$e.batchId,changes:tc(Re)}))}(a.localStore,n);a.sharedClientState.addPendingMutation(f.batchId),function(D,G,X){let fe=D.xa[D.currentUser.toKey()];fe||(fe=new Ri(kr)),fe=fe.insert(G,X),D.xa[D.currentUser.toKey()]=fe}(a,f.batchId,i),yield O(a,f.changes),yield kd(a.remoteStore)}catch(f){const E=Oe(f,"Failed to persist write");i.reject(E)}})).apply(this,arguments)}function Ht(l,n){return jo.apply(this,arguments)}function jo(){return(jo=(0,e.A)(function*(l,n){const i=st(l);try{const a=yield function Fd(l,n){const i=st(l),a=n.snapshotVersion;let f=i.ns;return i.persistence.runTransaction("Apply remote event","readwrite-primary",E=>{const D=i.os.newChangeBuffer({trackRemovals:!0});f=i.ns;const G=[];n.targetChanges.forEach((xe,Re)=>{const $e=f.get(Re);if(!$e)return;G.push(i.Qr.removeMatchingKeys(E,xe.removedDocuments,Re).next(()=>i.Qr.addMatchingKeys(E,xe.addedDocuments,Re)));let xt=$e.withSequenceNumber(E.currentSequenceNumber);var hn,Ln,nr;null!==n.targetMismatches.get(Re)?xt=xt.withResumeToken(Io.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):xe.resumeToken.approximateByteSize()>0&&(xt=xt.withResumeToken(xe.resumeToken,a)),f=f.insert(Re,xt),Ln=xt,nr=xe,(0===(hn=$e).resumeToken.approximateByteSize()||Ln.snapshotVersion.toMicroseconds()-hn.snapshotVersion.toMicroseconds()>=3e8||nr.addedDocuments.size+nr.modifiedDocuments.size+nr.removedDocuments.size>0)&&G.push(i.Qr.updateTargetData(E,xt))});let X=_a(),fe=ci();if(n.documentUpdates.forEach(xe=>{n.resolvedLimboDocuments.has(xe)&&G.push(i.persistence.referenceDelegate.updateLimboDocument(E,xe))}),G.push(Du(E,D,n.documentUpdates).next(xe=>{X=xe.cs,fe=xe.ls})),!a.isEqual(Pt.min())){const xe=i.Qr.getLastRemoteSnapshotVersion(E).next(Re=>i.Qr.setTargetsMetadata(E,E.currentSequenceNumber,a));G.push(xe)}return cn.waitFor(G).next(()=>D.apply(E)).next(()=>i.localDocuments.getLocalViewOfDocuments(E,X,fe)).next(()=>X)}).then(E=>(i.ns=f,E))}(i.localStore,n);n.targetChanges.forEach((f,E)=>{const D=i.Fa.get(E);D&&(Vn(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?D.wa=!0:f.modifiedDocuments.size>0?Vn(D.wa):f.removedDocuments.size>0&&(Vn(D.wa),D.wa=!1))}),yield O(i,a,n)}catch(a){yield Wo(a)}})).apply(this,arguments)}function Ki(l,n,i){const a=st(l);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){const f=[];a.ba.forEach((E,D)=>{const G=D.view.j_(n);G.snapshot&&f.push(G.snapshot)}),function(D,G){const X=st(D);X.onlineState=G;let fe=!1;X.queries.forEach((xe,Re)=>{for(const $e of Re.U_)$e.j_(G)&&(fe=!0)}),fe&&me(X)}(a.eventManager,n),f.length&&a.Sa.h_(f),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}function Gr(l,n,i){return li.apply(this,arguments)}function li(){return(li=(0,e.A)(function*(l,n,i){const a=st(l);a.sharedClientState.updateQueryState(n,"rejected",i);const f=a.Fa.get(n),E=f&&f.key;if(E){let D=new Ri(lr.comparator);D=D.insert(E,_r.newNoDocument(E,Pt.min()));const G=ci().add(E),X=new es(Pt.min(),new Map,new Ri(kr),D,G);yield Ht(a,X),a.va=a.va.remove(E),a.Fa.delete(n),B(a)}else yield ic(a.localStore,n,!1).then(()=>Oo(a,n,i)).catch(Wo)})).apply(this,arguments)}function Ii(l,n){return vi.apply(this,arguments)}function vi(){return(vi=(0,e.A)(function*(l,n){const i=st(l),a=n.batch.batchId;try{const f=yield function eA(l,n){const i=st(l);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const f=n.batch.keys(),E=i.os.newChangeBuffer({trackRemovals:!0});return function(G,X,fe,xe){const Re=fe.batch,$e=Re.keys();let xt=cn.resolve();return $e.forEach(nn=>{xt=xt.next(()=>xe.getEntry(X,nn)).next(hn=>{const Ln=fe.docVersions.get(nn);Vn(null!==Ln),hn.version.compareTo(Ln)<0&&(Re.applyToRemoteDocument(hn,fe),hn.isValidDocument()&&(hn.setReadTime(fe.commitVersion),xe.addEntry(hn)))})}),xt.next(()=>G.mutationQueue.removeMutationBatch(X,Re))}(i,a,n,E).next(()=>E.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,f,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(G){let X=ci();for(let fe=0;fe<G.mutationResults.length;++fe)G.mutationResults[fe].transformResults.length>0&&(X=X.add(G.batch.mutations[fe].key));return X}(n))).next(()=>i.localDocuments.getDocuments(a,f))})}(i.localStore,n);ja(i,a,null),ta(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield O(i,f)}catch(f){yield Wo(f)}})).apply(this,arguments)}function po(l,n,i){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,e.A)(function*(l,n,i){const a=st(l);try{const f=yield function(D,G){const X=st(D);return X.persistence.runTransaction("Reject batch","readwrite-primary",fe=>{let xe;return X.mutationQueue.lookupMutationBatch(fe,G).next(Re=>(Vn(null!==Re),xe=Re.keys(),X.mutationQueue.removeMutationBatch(fe,Re))).next(()=>X.mutationQueue.performConsistencyCheck(fe)).next(()=>X.documentOverlayCache.removeOverlaysForBatchId(fe,xe,G)).next(()=>X.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(fe,xe)).next(()=>X.localDocuments.getDocuments(fe,xe))})}(a.localStore,n);ja(a,n,i),ta(a,n),a.sharedClientState.updateMutationState(n,"rejected",i),yield O(a,f)}catch(f){yield Wo(f)}})).apply(this,arguments)}function Ts(){return(Ts=(0,e.A)(function*(l,n){const i=st(l);wA(i.remoteStore)||nt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(D){const G=st(D);return G.persistence.runTransaction("Get highest unacknowledged batch id","readonly",X=>G.mutationQueue.getHighestUnacknowledgedBatchId(X))}(i.localStore);if(-1===a)return void n.resolve();const f=i.Oa.get(a)||[];f.push(n),i.Oa.set(a,f)}catch(a){const f=Oe(a,"Initialization of waitForPendingWrites() operation failed");n.reject(f)}})).apply(this,arguments)}function ta(l,n){(l.Oa.get(n)||[]).forEach(i=>{i.resolve()}),l.Oa.delete(n)}function ja(l,n,i){const a=st(l);let f=a.xa[a.currentUser.toKey()];if(f){const E=f.get(n);E&&(i?E.reject(i):E.resolve(),f=f.remove(n)),a.xa[a.currentUser.toKey()]=f}}function Oo(l,n,i=null){l.sharedClientState.removeLocalQueryTarget(n);for(const a of l.Da.get(n))l.ba.delete(a),i&&l.Sa.ka(a,i);l.Da.delete(n),l.isPrimaryClient&&l.Ma.Vr(n).forEach(a=>{l.Ma.containsKey(a)||Hs(l,a)})}function Hs(l,n){l.Ca.delete(n.path.canonicalString());const i=l.va.get(n);null!==i&&(Lc(l.remoteStore,i),l.va=l.va.remove(n),l.Fa.delete(i),B(l))}function Si(l,n,i){for(const a of i)a instanceof v?(l.Ma.addReference(a.key,n),R(l,a)):a instanceof C?(nt("SyncEngine","Document no longer in limbo: "+a.key),l.Ma.removeReference(a.key,n),l.Ma.containsKey(a.key)||Hs(l,a.key)):Kt()}function R(l,n){const i=n.key,a=i.path.canonicalString();l.va.get(i)||l.Ca.has(a)||(nt("SyncEngine","New document in limbo: "+i),l.Ca.add(a),B(l))}function B(l){for(;l.Ca.size>0&&l.va.size<l.maxConcurrentLimboResolutions;){const n=l.Ca.values().next().value;l.Ca.delete(n);const i=new lr(vn.fromString(n)),a=l.Na.next();l.Fa.set(a,new Se(i)),l.va=l.va.insert(i,a),Nu(l.remoteStore,new Rc(qe(Na(i.path)),a,"TargetPurposeLimboResolution",gr.oe))}}function O(l,n,i){return N.apply(this,arguments)}function N(){return N=(0,e.A)(function*(l,n,i){const a=st(l),f=[],E=[],D=[];var G;a.ba.isEmpty()||(a.ba.forEach((G,X)=>{D.push(a.Ba(X,n,i).then(fe=>{if((fe||i)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(X.targetId,fe&&!fe.fromCache?"current":"not-current"),fe){f.push(fe);const xe=QA.Ki(X.targetId,fe);E.push(xe)}}))}),yield Promise.all(D),a.Sa.h_(f),yield(G=(0,e.A)(function*(fe,xe){const Re=st(fe);try{yield Re.persistence.runTransaction("notifyLocalViewChanges","readwrite",$e=>cn.forEach(xe,xt=>cn.forEach(xt.qi,nn=>Re.persistence.referenceDelegate.addReference($e,xt.targetId,nn)).next(()=>cn.forEach(xt.Qi,nn=>Re.persistence.referenceDelegate.removeReference($e,xt.targetId,nn)))))}catch($e){if(!Bn($e))throw $e;nt("LocalStore","Failed to update sequence numbers: "+$e)}for(const $e of xe){const xt=$e.targetId;if(!$e.fromCache){const nn=Re.ns.get(xt),Ln=nn.withLastLimboFreeSnapshotVersion(nn.snapshotVersion);Re.ns=Re.ns.insert(xt,Ln)}}}),function X(fe,xe){return G.apply(this,arguments)})(a.localStore,E))}),N.apply(this,arguments)}function ce(l,n){return De.apply(this,arguments)}function De(){return(De=(0,e.A)(function*(l,n){const i=st(l);if(!i.currentUser.isEqual(n)){nt("SyncEngine","User change. New user:",n.toKey());const a=yield Yd(i.localStore,n);i.currentUser=n,(E=i).Oa.forEach(G=>{G.forEach(X=>{X.reject(new Fe(we.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),E.Oa.clear(),i.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield O(i,a.us)}var E})).apply(this,arguments)}function Ge(l,n){const i=st(l),a=i.Fa.get(n);if(a&&a.wa)return ci().add(a.key);{let f=ci();const E=i.Da.get(n);if(!E)return f;for(const D of E){const G=i.ba.get(D);f=f.unionWith(G.view.Ea)}return f}}function Et(l,n){return ft.apply(this,arguments)}function ft(){return(ft=(0,e.A)(function*(l,n){const i=st(l),a=yield xu(i.localStore,n.query,!0),f=n.view.pa(a);return i.isPrimaryClient&&Si(i,n.targetId,f.fa),f})).apply(this,arguments)}function ln(l,n){return fn.apply(this,arguments)}function fn(){return(fn=(0,e.A)(function*(l,n){const i=st(l);return Jd(i.localStore,n).then(a=>O(i,a))})).apply(this,arguments)}function Sn(l,n,i,a){return On.apply(this,arguments)}function On(){return(On=(0,e.A)(function*(l,n,i,a){const f=st(l),E=yield function(G,X){const fe=st(G),xe=st(fe.mutationQueue);return fe.persistence.runTransaction("Lookup mutation documents","readonly",Re=>xe.vn(Re,X).next($e=>$e?fe.localDocuments.getDocuments(Re,$e):cn.resolve(null)))}(f.localStore,n);var X;null!==E?("pending"===i?yield kd(f.remoteStore):"acknowledged"===i||"rejected"===i?(ja(f,n,a||null),ta(f,n),X=n,st(st(f.localStore).mutationQueue).Mn(X)):Kt(),yield O(f,E)):nt("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function Ur(){return(Ur=(0,e.A)(function*(l,n){const i=st(l);if(Eo(i),zo(i),!0===n&&!0!==i.La){const a=i.sharedClientState.getAllActiveQueryTargets(),f=yield ni(i,a.toArray());i.La=!0,yield U(i.remoteStore,!0);for(const E of f)Nu(i.remoteStore,E)}else if(!1===n&&!1!==i.La){const a=[];let f=Promise.resolve();i.Da.forEach((E,D)=>{i.sharedClientState.isLocalQueryTarget(D)?a.push(D):f=f.then(()=>(Oo(i,D),ic(i.localStore,D,!0))),Lc(i.remoteStore,D)}),yield f,yield ni(i,a),function(D){const G=st(D);G.Fa.forEach((X,fe)=>{Lc(G.remoteStore,fe)}),G.Ma.mr(),G.Fa=new Map,G.va=new Ri(lr.comparator)}(i),i.La=!1,yield U(i.remoteStore,!1)}})).apply(this,arguments)}function ni(l,n,i){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,e.A)(function*(l,n,i){const a=st(l),f=[],E=[];for(const D of n){let G;const X=a.Da.get(D);if(X&&0!==X.length){G=yield Ia(a.localStore,qe(X[0]));for(const fe of X){const xe=a.ba.get(fe),Re=yield Et(a,xe);Re.snapshot&&E.push(Re.snapshot)}}else{const fe=yield Za(a.localStore,D);G=yield Ia(a.localStore,fe),yield Kn(a,Pi(fe),D,!1,G.resumeToken)}f.push(G)}return a.Sa.h_(E),f})).apply(this,arguments)}function Pi(l){return _s(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function Ir(l){return i=st(l).localStore,st(st(i).persistence).Bi();var i}function ws(l,n,i,a){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,e.A)(function*(l,n,i,a){const f=st(l);if(f.La)return void nt("SyncEngine","Ignoring unexpected query state notification.");const E=f.Da.get(n);if(E&&E.length>0)switch(i){case"current":case"not-current":{const D=yield Jd(f.localStore,Pl(E[0])),G=es.createSynthesizedRemoteEventForCurrentChange(n,"current"===i,Io.EMPTY_BYTE_STRING);yield O(f,D,G);break}case"rejected":yield ic(f.localStore,n,!0),Oo(f,n,a);break;default:Kt()}})).apply(this,arguments)}function co(l,n,i){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,e.A)(function*(l,n,i){const a=Eo(l);if(a.La){for(const f of n){if(a.Da.has(f)&&a.sharedClientState.isActiveQueryTarget(f)){nt("SyncEngine","Adding an already active target "+f);continue}const E=yield Za(a.localStore,f),D=yield Ia(a.localStore,E);yield Kn(a,Pi(E),D.targetId,!1,D.resumeToken),Nu(a.remoteStore,D)}for(const f of i)a.Da.has(f)&&(yield ic(a.localStore,f,!1).then(()=>{Lc(a.remoteStore,f),Oo(a,f)}).catch(Wo))}})).apply(this,arguments)}function Eo(l){const n=st(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=Ht.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ge.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=Gr.bind(null,n),n.Sa.h_=ee.bind(null,n.eventManager),n.Sa.ka=le.bind(null,n.eventManager),n}function zo(l){const n=st(l);return n.remoteStore.remoteSyncer.applySuccessfulWrite=Ii.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=po.bind(null,n),n}class zs{constructor(){this.synchronizeTabs=!1}initialize(n){var i=this;return(0,e.A)(function*(){i.serializer=nA(n.databaseInfo.databaseId),i.sharedClientState=i.createSharedClientState(n),i.persistence=i.createPersistence(n),yield i.persistence.start(),i.localStore=i.createLocalStore(n),i.gcScheduler=i.createGarbageCollectionScheduler(n,i.localStore),i.indexBackfillerScheduler=i.createIndexBackfillerScheduler(n,i.localStore)})()}createGarbageCollectionScheduler(n,i){return null}createIndexBackfillerScheduler(n,i){return null}createLocalStore(n){return ga(this.persistence,new Yl,n.initialUser,this.serializer)}createPersistence(n){return new El(UA.Hr,this.serializer)}createSharedClientState(n){return new Zh}terminate(){var n=this;return(0,e.A)(function*(){var i,a;null===(i=n.gcScheduler)||void 0===i||i.stop(),null===(a=n.indexBackfillerScheduler)||void 0===a||a.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class ll extends zs{constructor(n,i,a){super(),this.Qa=n,this.cacheSizeBytes=i,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(n){var i=()=>super.initialize,a=this;return(0,e.A)(function*(){yield i().call(a,n),yield a.Qa.initialize(a,n),yield zo(a.Qa.syncEngine),yield kd(a.Qa.remoteStore),yield a.persistence.fi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(n){return ga(this.persistence,new Yl,n.initialUser,this.serializer)}createGarbageCollectionScheduler(n,i){return new Xd(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}createIndexBackfillerScheduler(n,i){const a=new zt(i,this.persistence);return new Fn(n.asyncQueue,a)}createPersistence(n){const i=wh(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Qs.withCacheSize(this.cacheSizeBytes):Qs.DEFAULT;return new Td(this.synchronizeTabs,i,n.clientId,a,n.asyncQueue,Ff(),fu(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(n){return new Zh}}class us extends ll{constructor(n,i){super(n,i,!1),this.Qa=n,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(n){var i=()=>super.initialize,a=this;return(0,e.A)(function*(){yield i().call(a,n);const f=a.Qa.syncEngine;a.sharedClientState instanceof HA&&(a.sharedClientState.syncEngine={Zs:Sn.bind(null,f),Xs:ws.bind(null,f),eo:co.bind(null,f),Bi:Ir.bind(null,f),Ys:ln.bind(null,f)},yield a.sharedClientState.start()),yield a.persistence.fi(function(){var E=(0,e.A)(function*(D){yield function Lr(l,n){return Ur.apply(this,arguments)}(a.Qa.syncEngine,D),a.gcScheduler&&(D&&!a.gcScheduler.started?a.gcScheduler.start():D||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(D&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():D||a.indexBackfillerScheduler.stop())});return function(D){return E.apply(this,arguments)}}())})()}createSharedClientState(n){const i=Ff();if(!HA.D(i))throw new Fe(we.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=wh(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new HA(i,n.asyncQueue,a,n.clientId,n.initialUser)}}class ca{initialize(n,i){var a=this;return(0,e.A)(function*(){a.localStore||(a.localStore=n.localStore,a.sharedClientState=n.sharedClientState,a.datastore=a.createDatastore(i),a.remoteStore=a.createRemoteStore(i),a.eventManager=a.createEventManager(i),a.syncEngine=a.createSyncEngine(i,!n.synchronizeTabs),a.sharedClientState.onlineStateHandler=f=>Ki(a.syncEngine,f,1),a.remoteStore.remoteSyncer.handleCredentialChange=ce.bind(null,a.syncEngine),yield U(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(n){return new m}createDatastore(n){const i=nA(n.databaseInfo.databaseId),a=new Yc(n.databaseInfo);return new th(n.authCredentials,n.appCheckCredentials,a,i)}createRemoteStore(n){return a=this.localStore,f=this.datastore,E=n.asyncQueue,D=i=>Ki(this.syncEngine,i,0),G=bc.D()?new bc:new zA,new Rf(a,f,E,D,G);var a,f,E,D,G}createSyncEngine(n,i){return function(f,E,D,G,X,fe,xe){const Re=new yt(f,E,D,G,X,fe);return xe&&(Re.La=!0),Re}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,i)}terminate(){var n=this;return(0,e.A)(function*(){var i,a;yield(a=(0,e.A)(function*(E){const D=st(E);nt("RemoteStore","RemoteStore shutting down."),D.M_.add(5),yield ba(D),D.O_.shutdown(),D.N_.set("Unknown")}),function f(E){return a.apply(this,arguments)})(n.remoteStore),null===(i=n.datastore)||void 0===i||i.terminate()})()}}function xl(l,n=10240){let i=0;return{read:()=>(0,e.A)(function*(){if(i<l.byteLength){const a={value:l.slice(i,i+n),done:!1};return i+=n,a}return{done:!0}})(),cancel:()=>(0,e.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class cl{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Ka(this.observer.next,n)}error(n){this.observer.error?this.Ka(this.observer.error,n):zn("Uncaught Error in snapshot listener:",n.toString())}$a(){this.muted=!0}Ka(n,i){this.muted||setTimeout(()=>{this.muted||n(i)},0)}}class zl{constructor(n,i){this.Ua=n,this.serializer=i,this.metadata=new Le,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(a=>{a&&a.sa()?this.metadata.resolve(a.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.ia)}`))},a=>this.metadata.reject(a))}close(){return this.Ua.cancel()}getMetadata(){var n=this;return(0,e.A)(function*(){return n.metadata.promise})()}qa(){var n=this;return(0,e.A)(function*(){return yield n.getMetadata(),n.Ga()})()}Ga(){var n=this;return(0,e.A)(function*(){const i=yield n.za();if(null===i)return null;const a=n.Wa.decode(i),f=Number(a);isNaN(f)&&n.ja(`length string (${a}) is not valid number`);const E=yield n.Ha(f);return new Ue(JSON.parse(E),i.length+f)})()}Ja(){return this.buffer.findIndex(n=>123===n)}za(){var n=this;return(0,e.A)(function*(){for(;n.Ja()<0&&!(yield n.Ya()););if(0===n.buffer.length)return null;const i=n.Ja();i<0&&n.ja("Reached the end of bundle when a length string is expected.");const a=n.buffer.slice(0,i);return n.buffer=n.buffer.slice(i),a})()}Ha(n){var i=this;return(0,e.A)(function*(){for(;i.buffer.length<n;)(yield i.Ya())&&i.ja("Reached the end of bundle when more is expected.");const a=i.Wa.decode(i.buffer.slice(0,n));return i.buffer=i.buffer.slice(n),a})()}ja(n){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${n}`)}Ya(){var n=this;return(0,e.A)(function*(){const i=yield n.Ua.read();if(!i.done){const a=new Uint8Array(n.buffer.length+i.value.length);a.set(n.buffer),a.set(i.value,n.buffer.length),n.buffer=a}return i.done})()}}class pu{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(n){var i=this;return(0,e.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new Fe(we.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const a=yield(f=(0,e.A)(function*(D,G){const X=st(D),fe={documents:G.map(xt=>wc(X.serializer,xt))},xe=yield X.xo("BatchGetDocuments",X.serializer.databaseId,vn.emptyPath(),fe,G.length),Re=new Map;xe.forEach(xt=>{const nn=function fa(l,n){return"found"in n?function(a,f){Vn(!!f.found);const E=Tl(a,f.found.name),D=ha(f.found.updateTime),G=f.found.createTime?ha(f.found.createTime):Pt.min(),X=new er({mapValue:{fields:f.found.fields}});return _r.newFoundDocument(E,D,G,X)}(l,n):"missing"in n?function(a,f){Vn(!!f.missing),Vn(!!f.readTime);const E=Tl(a,f.missing),D=ha(f.readTime);return _r.newNoDocument(E,D)}(l,n):Kt()}(X.serializer,xt);Re.set(nn.key.toString(),nn)});const $e=[];return G.forEach(xt=>{const nn=Re.get(xt.toString());Vn(!!nn),$e.push(nn)}),$e}),function E(D,G){return f.apply(this,arguments)})(i.datastore,n);var f;return a.forEach(f=>i.recordVersion(f)),a})()}set(n,i){this.write(i.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,i){try{this.write(i.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(n.toString())}delete(n){this.write(new _e(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,e.A)(function*(){if(n.ensureCommitNotCalled(),n.lastTransactionError)throw n.lastTransactionError;const i=n.readVersions;var a;n.mutations.forEach(a=>{i.delete(a.key.toString())}),i.forEach((a,f)=>{const E=lr.fromPath(f);n.mutations.push(new V(E,n.precondition(E)))}),yield(a=(0,e.A)(function*(E,D){const G=st(E),X={writes:D.map(fe=>Gc(G.serializer,fe))};yield G.Co("Commit",G.serializer.databaseId,vn.emptyPath(),X)}),function f(E,D){return a.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let i;if(n.isFoundDocument())i=n.version;else{if(!n.isNoDocument())throw Kt();i=Pt.min()}const a=this.readVersions.get(n.key.toString());if(a){if(!i.isEqual(a))throw new Fe(we.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),i)}precondition(n){const i=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&i?i.isEqual(Pt.min())?Us.exists(!1):Us.updateTime(i):Us.none()}preconditionForUpdate(n){const i=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&i){if(i.isEqual(Pt.min()))throw new Fe(we.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Us.updateTime(i)}return Us.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class iA{constructor(n,i,a,f,E){this.asyncQueue=n,this.datastore=i,this.options=a,this.updateFunction=f,this.deferred=E,this.Za=a.maxAttempts,this.Yo=new eh(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var n=this;this.Yo.$o((0,e.A)(function*(){const i=new pu(n.datastore),a=n.tu(i);a&&a.then(f=>{n.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{n.deferred.resolve(f)}).catch(E=>{n.nu(E)}))}).catch(f=>{n.nu(f)})}))}tu(n){try{const i=this.updateFunction(n);return!Nr(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}nu(n){this.Za>0&&this.ru(n)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(n)}ru(n){if("FirebaseError"===n.name){const i=n.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!jn(i)}return!1}}class Mu{constructor(n,i,a,f){var E=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=f,this.user=Vt.UNAUTHENTICATED,this.clientId=Yi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var D=(0,e.A)(function*(G){nt("FirestoreClient","Received user=",G.uid),yield E.authCredentialListener(G),E.user=G});return function(G){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(a,D=>(nt("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(we.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new Le;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,e.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(a){const f=Oe(a,"Failed to shutdown persistence");i.reject(f)}})),i.promise}}function Sc(l,n){return KA.apply(this,arguments)}function KA(){return KA=(0,e.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const i=l.configuration;yield n.initialize(i);let a=i.initialUser;l.setCredentialChangeListener(function(){var f=(0,e.A)(function*(E){a.isEqual(E)||(yield Yd(n.localStore,E),a=E)});return function(E){return f.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=n}),KA.apply(this,arguments)}function oA(l,n){return rd.apply(this,arguments)}function rd(){return(rd=(0,e.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress();const i=yield CA(l);nt("FirestoreClient","Initializing OnlineComponentProvider"),yield n.initialize(i,l.configuration),l.setCredentialChangeListener(a=>I(n.remoteStore,a)),l.setAppCheckTokenChangeListener((a,f)=>I(n.remoteStore,f)),l._onlineComponents=n})).apply(this,arguments)}function Ou(l){return"FirebaseError"===l.name?l.code===we.FAILED_PRECONDITION||l.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function CA(l){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,e.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){nt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sc(l,l._uninitializedComponentsProvider._offline)}catch(n){const i=n;if(!Ou(i))throw i;yr("Error using user provided cache. Falling back to memory cache: "+i),yield Sc(l,new zs)}}else nt("FirestoreClient","Using default OfflineComponentProvider"),yield Sc(l,new zs);return l._offlineComponents})).apply(this,arguments)}function Pf(l){return ig.apply(this,arguments)}function ig(){return(ig=(0,e.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(nt("FirestoreClient","Using user provided OnlineComponentProvider"),yield oA(l,l._uninitializedComponentsProvider._online)):(nt("FirestoreClient","Using default OnlineComponentProvider"),yield oA(l,new ca))),l._onlineComponents})).apply(this,arguments)}function af(l){return CA(l).then(n=>n.persistence)}function lf(l){return CA(l).then(n=>n.localStore)}function cf(l){return Pf(l).then(n=>n.remoteStore)}function og(l){return Pf(l).then(n=>n.syncEngine)}function Nf(l){return Th.apply(this,arguments)}function Th(){return(Th=(0,e.A)(function*(l){const n=yield Pf(l),i=n.eventManager;return i.onListen=ye.bind(null,n.syncEngine),i.onUnlisten=ti.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=gt.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=gi.bind(null,n.syncEngine),i})).apply(this,arguments)}function Md(l,n,i={}){const a=new Le;return l.asyncQueue.enqueueAndForget((0,e.A)(function*(){return function(E,D,G,X,fe){const xe=new cl({next:$e=>{D.enqueueAndForget(()=>b(E,Re));const xt=$e.docs.has(G);!xt&&$e.fromCache?fe.reject(new Fe(we.UNAVAILABLE,"Failed to get document because the client is offline.")):xt&&$e.fromCache&&X&&"server"===X.source?fe.reject(new Fe(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):fe.resolve($e)},error:$e=>fe.reject($e)}),Re=new Me(Na(G.path),xe,{includeMetadataChanges:!0,ra:!0});return A(E,Re)}(yield Nf(l),l.asyncQueue,n,i,a)})),a.promise}function Lu(l,n,i={}){const a=new Le;return l.asyncQueue.enqueueAndForget((0,e.A)(function*(){return function(E,D,G,X,fe){const xe=new cl({next:$e=>{D.enqueueAndForget(()=>b(E,Re)),$e.fromCache&&"server"===X.source?fe.reject(new Fe(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):fe.resolve($e)},error:$e=>fe.reject($e)}),Re=new Me(G,xe,{includeMetadataChanges:!0,ra:!0});return A(E,Re)}(yield Nf(l),l.asyncQueue,n,i,a)})),a.promise}function ah(l){const n={};return void 0!==l.timeoutSeconds&&(n.timeoutSeconds=l.timeoutSeconds),n}const Hg=new Map;function cg(l,n,i){if(!i)throw new Fe(we.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function Dm(l,n,i,a){if(!0===n&&!0===a)throw new Fe(we.INVALID_ARGUMENT,`${l} and ${i} cannot be used together.`)}function id(l){if(!lr.isDocumentKey(l))throw new Fe(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function uf(l){if(lr.isDocumentKey(l))throw new Fe(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Bh(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const n=(a=l).constructor?a.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var a;return"function"==typeof l?"a function":Kt()}function Bs(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new Fe(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Bh(l);throw new Fe(we.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return l}function gu(l,n){if(n<=0)throw new Fe(we.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${n}.`)}class ug{constructor(n){var i,a;if(void 0===n.host){if(void 0!==n.ssl)throw new Fe(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Fe(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}Dm("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=ah(null!==(a=n.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(E){if(void 0!==E.timeoutSeconds){if(isNaN(E.timeoutSeconds))throw new Fe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${E.timeoutSeconds} (must not be NaN)`);if(E.timeoutSeconds<5)throw new Fe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${E.timeoutSeconds} (minimum allowed value is 5)`);if(E.timeoutSeconds>30)throw new Fe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${E.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Lf{constructor(n,i,a,f){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=a,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ug({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Fe(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ug(n),void 0!==n.credentials&&(this._authCredentials=function(a){if(!a)return new bn;switch(a.type){case"firstParty":return new bi(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Fe(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Hg.get(i);a&&(nt("ComponentProvider","Removing Datastore"),Hg.delete(i),a.terminate())}(this),Promise.resolve()}}class Zc{constructor(n,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new Zc(this.firestore,n,this._query)}}class Rl{constructor(n,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Rl(this.firestore,n,this._key)}}class eu extends Zc{constructor(n,i,a){super(n,i,Na(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Rl(this.firestore,null,new lr(n))}withConverter(n){return new eu(this.firestore,n,this._path)}}function Od(l,n,...i){if(l=(0,tt.Ku)(l),cg("collection","path",n),l instanceof Lf){const a=vn.fromString(n,...i);return uf(a),new eu(l,null,a)}{if(!(l instanceof Rl||l instanceof eu))throw new Fe(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=l._path.child(vn.fromString(n,...i));return uf(a),new eu(l.firestore,null,a)}}function Af(l,n,...i){if(l=(0,tt.Ku)(l),1===arguments.length&&(n=Yi.newId()),cg("doc","path",n),l instanceof Lf){const a=vn.fromString(n,...i);return id(a),new Rl(l,null,new lr(a))}{if(!(l instanceof Rl||l instanceof eu))throw new Fe(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=l._path.child(vn.fromString(n,...i));return id(a),new Rl(l.firestore,l instanceof eu?l.converter:null,new lr(a))}}function Ag(l,n){return l=(0,tt.Ku)(l),n=(0,tt.Ku)(n),(l instanceof Rl||l instanceof eu)&&(n instanceof Rl||n instanceof eu)&&l.firestore===n.firestore&&l.path===n.path&&l.converter===n.converter}function zg(l,n){return l=(0,tt.Ku)(l),n=(0,tt.Ku)(n),l instanceof Zc&&n instanceof Zc&&l.firestore===n.firestore&&ki(l._query,n._query)&&l.converter===n.converter}class pv{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new eh(this,"async_queue_retry"),this.hu=()=>{const i=fu();i&&nt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Yo.Wo()};const n=fu();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Pu(),this.Iu(n)}enterRestrictedMode(n){if(!this.ou){this.ou=!0,this.cu=n||!1;const i=fu();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.hu)}}enqueue(n){if(this.Pu(),this.ou)return new Promise(()=>{});const i=new Le;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.su.push(n),this.Tu()))}Tu(){var n=this;return(0,e.A)(function*(){if(0!==n.su.length){try{yield n.su[0](),n.su.shift(),n.Yo.reset()}catch(i){if(!Bn(i))throw i;nt("AsyncQueue","Operation failed with retryable error: "+i)}n.su.length>0&&n.Yo.$o(()=>n.Tu())}})()}Iu(n){const i=this.iu.then(()=>(this.uu=!0,n().catch(a=>{throw this.au=a,this.uu=!1,zn("INTERNAL UNHANDLED ERROR: ",function(D){let G=D.message||"";return D.stack&&(G=D.stack.includes(D.message)?D.stack:D.message+"\n"+D.stack),G}(a)),a}).then(a=>(this.uu=!1,a))));return this.iu=i,i}enqueueAfterDelay(n,i,a){this.Pu(),this.lu.indexOf(n)>-1&&(i=0);const f=ve.createAndSchedule(this,n,i,a,E=>this.Eu(E));return this._u.push(f),f}Pu(){this.au&&Kt()}verifyOperationInProgress(){}du(){var n=this;return(0,e.A)(function*(){let i;do{i=n.iu,yield i}while(i!==n.iu)})()}Au(n){for(const i of this._u)if(i.timerId===n)return!0;return!1}Ru(n){return this.du().then(()=>{this._u.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this._u)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.du()})}Vu(n){this.lu.push(n)}Eu(n){const i=this._u.indexOf(n);this._u.splice(i,1)}}function $g(l){return function(i,a){if("object"!=typeof i||null===i)return!1;const f=i;for(const E of["next","error","complete"])if(E in f&&"function"==typeof f[E])return!0;return!1}(l)}class Gg{constructor(){this._progressObserver={},this._taskCompletionResolver=new Le,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,i,a){this._progressObserver={next:n,error:i,complete:a}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,i){return this._taskCompletionResolver.promise.then(n,i)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Sa extends Lf{constructor(n,i,a,f){super(n,i,a,f),this.type="firestore",this._queue=new pv,this._persistenceKey=(null==f?void 0:f.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||df(this),this._firestoreClient.terminate()}}function Cl(l){return l._firestoreClient||df(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function df(l){var n,i,a;const f=l._freezeSettings(),E=(X=(null===(n=l._app)||void 0===n?void 0:n.options.appId)||"",new zi(l._databaseId,X,l._persistenceKey,(xe=f).host,xe.ssl,xe.experimentalForceLongPolling,xe.experimentalAutoDetectLongPolling,ah(xe.experimentalLongPollingOptions),xe.useFetchStreams));var X,xe;l._firestoreClient=new Mu(l._authCredentials,l._appCheckCredentials,l._queue,E),null!==(i=f.localCache)&&void 0!==i&&i._offlineComponentProvider&&null!==(a=f.localCache)&&void 0!==a&&a._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:f.localCache.kind,_offline:f.localCache._offlineComponentProvider,_online:f.localCache._onlineComponentProvider})}function kp(l,n,i){const a=new Le;return l.asyncQueue.enqueue((0,e.A)(function*(){try{yield Sc(l,i),yield oA(l,n),a.resolve()}catch(f){const E=f;if(!Ou(E))throw E;yr("Error enabling indexeddb cache. Falling back to memory cache: "+E),a.reject(E)}})).then(()=>a.promise)}function cp(l){if(l._initialized||l._terminated)throw new Fe(we.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ud{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Ud(Io.fromBase64String(n))}catch(i){throw new Fe(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new Ud(Io.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class sd{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new Fe(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new si(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Dh{constructor(n){this._methodName=n}}class hf{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new Fe(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new Fe(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return kr(this._lat,n._lat)||kr(this._long,n._long)}}const Mp=/^__.*__$/;class Op{constructor(n,i,a){this.data=n,this.fieldMask=i,this.fieldTransforms=a}toMutation(n,i){return null!==this.fieldMask?new Ml(n,this.data,this.fieldMask,i,this.fieldTransforms):new Va(n,this.data,i,this.fieldTransforms)}}class hg{constructor(n,i,a){this.data=n,this.fieldMask=i,this.fieldTransforms=a}toMutation(n,i){return new Ml(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function Wg(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt()}}class xh{constructor(n,i,a,f,E,D){this.settings=n,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=f,void 0===E&&this.mu(),this.fieldTransforms=E||[],this.fieldMask=D||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(n){return new xh(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(n){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(n),f=this.gu({path:a,yu:!1});return f.wu(n),f}Su(n){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(n),f=this.gu({path:a,yu:!1});return f.mu(),f}bu(n){return this.gu({path:void 0,yu:!0})}Du(n){return tu(n,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}mu(){if(this.path)for(let n=0;n<this.path.length;n++)this.wu(this.path.get(n))}wu(n){if(0===n.length)throw this.Du("Document fields must not be empty");if(Wg(this.fu)&&Mp.test(n))throw this.Du('Document fields cannot begin and end with "__"')}}class Rh{constructor(n,i,a){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=a||nA(n)}Fu(n,i,a,f=!1){return new xh({fu:n,methodName:i,vu:a,path:si.emptyPath(),yu:!1,Cu:f},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lh(l){const n=l._freezeSettings(),i=nA(l._databaseId);return new Rh(l._databaseId,!!n.ignoreUndefinedProperties,i)}function ad(l,n,i,a,f,E={}){const D=l.Fu(E.merge||E.mergeFields?2:0,n,i,f);Ta("Data must be an object, but it was:",D,a);const G=fs(a,D);let X,fe;if(E.merge)X=new mi(D.fieldMask),fe=D.fieldTransforms;else if(E.mergeFields){const xe=[];for(const Re of E.mergeFields){const $e=el(n,Re,i);if(!D.contains($e))throw new Fe(we.INVALID_ARGUMENT,`Field '${$e}' is specified in your field mask but missing from your input data.`);Uc(xe,$e)||xe.push($e)}X=new mi(xe),fe=D.fieldTransforms.filter(Re=>X.covers(Re.field))}else X=null,fe=D.fieldTransforms;return new Op(new er(G),X,fe)}class ff extends Dh{_toFieldTransform(n){if(2!==n.fu)throw n.Du(1===n.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof ff}}function Y(l,n,i){return new xh({fu:3,vu:n.settings.vu,methodName:l._methodName,yu:i},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class ze extends Dh{_toFieldTransform(n){return new Kl(n.path,new qa)}isEqual(n){return n instanceof ze}}class Ot extends Dh{constructor(n,i){super(n),this.Mu=i}_toFieldTransform(n){const i=Y(this,n,!0),a=this.Mu.map(E=>go(E,i)),f=new ol(a);return new Kl(n.path,f)}isEqual(n){return n instanceof Ot&&(0,tt.bD)(this.Mu,n.Mu)}}class un extends Dh{constructor(n,i){super(n),this.Mu=i}_toFieldTransform(n){const i=Y(this,n,!0),a=this.Mu.map(E=>go(E,i)),f=new Ma(a);return new Kl(n.path,f)}isEqual(n){return n instanceof un&&(0,tt.bD)(this.Mu,n.Mu)}}class Qn extends Dh{constructor(n,i){super(n),this.xu=i}_toFieldTransform(n){const i=new Ba(n.serializer,rs(n.serializer,this.xu));return new Kl(n.path,i)}isEqual(n){return n instanceof Qn&&this.xu===n.xu}}function hr(l,n,i,a){const f=l.Fu(1,n,i);Ta("Data must be an object, but it was:",f,a);const E=[],D=er.empty();Il(a,(X,fe)=>{const xe=oc(n,X,i);fe=(0,tt.Ku)(fe);const Re=f.Su(xe);if(fe instanceof ff)E.push(xe);else{const $e=go(fe,Re);null!=$e&&(E.push(xe),D.set(xe,$e))}});const G=new mi(E);return new hg(D,G,f.fieldTransforms)}function jr(l,n,i,a,f,E){const D=l.Fu(1,n,i),G=[el(n,a,i)],X=[f];if(E.length%2!=0)throw new Fe(we.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $e=0;$e<E.length;$e+=2)G.push(el(n,E[$e])),X.push(E[$e+1]);const fe=[],xe=er.empty();for(let $e=G.length-1;$e>=0;--$e)if(!Uc(fe,G[$e])){const xt=G[$e];let nn=X[$e];nn=(0,tt.Ku)(nn);const hn=D.Su(xt);if(nn instanceof ff)fe.push(xt);else{const Ln=go(nn,hn);null!=Ln&&(fe.push(xt),xe.set(xt,Ln))}}const Re=new mi(fe);return new hg(xe,Re,D.fieldTransforms)}function Ni(l,n,i,a=!1){return go(i,l.Fu(a?4:3,n))}function go(l,n){if($s(l=(0,tt.Ku)(l)))return Ta("Unsupported field value:",n,l),fs(l,n);if(l instanceof Dh)return function(a,f){if(!Wg(f.fu))throw f.Du(`${a._methodName}() can only be used with update() and set()`);if(!f.path)throw f.Du(`${a._methodName}() is not currently supported inside arrays`);const E=a._toFieldTransform(f);E&&f.fieldTransforms.push(E)}(l,n),null;if(void 0===l&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),l instanceof Array){if(n.settings.yu&&4!==n.fu)throw n.Du("Nested arrays are not supported");return function(a,f){const E=[];let D=0;for(const G of a){let X=go(G,f.bu(D));null==X&&(X={nullValue:"NULL_VALUE"}),E.push(X),D++}return{arrayValue:{values:E}}}(l,n)}return function(a,f){if(null===(a=(0,tt.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return rs(f.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const E=fr.fromDate(a);return{timestampValue:nc(f.serializer,E)}}if(a instanceof fr){const E=new fr(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nc(f.serializer,E)}}if(a instanceof hf)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ud)return{bytesValue:Fa(f.serializer,a._byteString)};if(a instanceof Rl){const E=f.databaseId,D=a.firestore._databaseId;if(!D.isEqual(E))throw f.Du(`Document reference is for database ${D.projectId}/${D.database} but should be for database ${E.projectId}/${E.database}`);return{referenceValue:xc(a.firestore._databaseId||f.databaseId,a._key.path)}}throw f.Du(`Unsupported field value: ${Bh(a)}`)}(l,n)}function fs(l,n){const i={};return Ms(l)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Il(l,(a,f)=>{const E=go(f,n.pu(a));null!=E&&(i[a]=E)}),{mapValue:{fields:i}}}function $s(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof fr||l instanceof hf||l instanceof Ud||l instanceof Rl||l instanceof Dh)}function Ta(l,n,i){if(!$s(i)||"object"!=typeof(f=i)||null===f||Object.getPrototypeOf(f)!==Object.prototype&&null!==Object.getPrototypeOf(f)){const a=Bh(i);throw n.Du("an object"===a?l+" a custom object":l+" "+a)}var f}function el(l,n,i){if((n=(0,tt.Ku)(n))instanceof sd)return n._internalPath;if("string"==typeof n)return oc(l,n);throw tu("Field path arguments must be of type string or ",l,!1,void 0,i)}const hc=new RegExp("[~\\*/\\[\\]]");function oc(l,n,i){if(n.search(hc)>=0)throw tu(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,i);try{return new sd(...n.split("."))._internalPath}catch{throw tu(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,i)}}function tu(l,n,i,a,f){const E=a&&!a.isEmpty(),D=void 0!==f;let G=`Function ${n}() called with invalid data`;i&&(G+=" (via `toFirestore()`)"),G+=". ";let X="";return(E||D)&&(X+=" (found",E&&(X+=` in field ${a}`),D&&(X+=` in document ${f}`),X+=")"),new Fe(we.INVALID_ARGUMENT,G+l+X)}function Uc(l,n){return l.some(i=>i.isEqual(n))}class IA{constructor(n,i,a,f,E){this._firestore=n,this._userDataWriter=i,this._key=a,this._document=f,this._converter=E}get id(){return this._key.path.lastSegment()}get ref(){return new Rl(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new ld(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Vd("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class ld extends IA{data(){return super.data()}}function Vd(l,n){return"string"==typeof n?oc(l,n):n instanceof sd?n._internalPath:n._delegate._internalPath}function fg(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new Fe(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ap{}class pf extends Ap{}function bA(l,n,...i){let a=[];n instanceof Ap&&a.push(n),a=a.concat(i),function(E){const D=E.filter(X=>X instanceof cd).length,G=E.filter(X=>X instanceof jf).length;if(D>1||D>0&&G>0)throw new Fe(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const f of a)l=f._apply(l);return l}class jf extends pf{constructor(n,i,a){super(),this._field=n,this._op=i,this._value=a,this.type="where"}static _create(n,i,a){return new jf(n,i,a)}_apply(n){const i=this._parse(n);return nu(n._query,i),new Zc(n.firestore,n.converter,cr(n._query,i))}_parse(n){const i=lh(n.firestore);return function(E,D,G,X,fe,xe,Re){let $e;if(fe.isKeyField()){if("array-contains"===xe||"array-contains-any"===xe)throw new Fe(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${xe}' queries on documentId().`);if("in"===xe||"not-in"===xe){ec(Re,xe);const xt=[];for(const nn of Re)xt.push(mu(X,E,nn));$e={arrayValue:{values:xt}}}else $e=mu(X,E,Re)}else"in"!==xe&&"not-in"!==xe&&"array-contains-any"!==xe||ec(Re,xe),$e=Ni(G,"where",Re,"in"===xe||"not-in"===xe);return br.create(fe,xe,$e)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}class cd extends Ap{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new cd(n,i)}_parse(n){const i=this._queryConstraints.map(a=>a._parse(n)).filter(a=>a.getFilters().length>0);return 1===i.length?i[0]:Gi.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(f,E){let D=f;const G=E.getFlattenedFilters();for(const X of G)nu(D,X),D=cr(D,X)}(n._query,i),new Zc(n.firestore,n.converter,cr(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class dp extends pf{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new dp(n,i)}_apply(n){const i=function(f,E,D){if(null!==f.startAt)throw new Fe(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==f.endAt)throw new Fe(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ko(E,D)}(n._query,this._field,this._direction);return new Zc(n.firestore,n.converter,function(f,E){const D=f.explicitOrderBy.concat([E]);return new Pa(f.path,f.collectionGroup,D,f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n._query,i))}}class hp extends pf{constructor(n,i,a){super(),this.type=n,this._limit=i,this._limitType=a}static _create(n,i,a){return new hp(n,i,a)}_apply(n){return new Zc(n.firestore,n.converter,Bi(n._query,this._limit,this._limitType))}}class ch extends pf{constructor(n,i,a){super(),this.type=n,this._docOrFields=i,this._inclusive=a}static _create(n,i,a){return new ch(n,i,a)}_apply(n){const i=kh(n,this.type,this._docOrFields,this._inclusive);return new Zc(n.firestore,n.converter,(E=i,new Pa((f=n._query).path,f.collectionGroup,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,E,f.endAt)));var f,E}}class gf extends pf{constructor(n,i,a){super(),this.type=n,this._docOrFields=i,this._inclusive=a}static _create(n,i,a){return new gf(n,i,a)}_apply(n){const i=kh(n,this.type,this._docOrFields,this._inclusive);return new Zc(n.firestore,n.converter,(E=i,new Pa((f=n._query).path,f.collectionGroup,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,E)));var f,E}}function kh(l,n,i,a){if(i[0]=(0,tt.Ku)(i[0]),i[0]instanceof IA)return function(E,D,G,X,fe){if(!X)throw new Fe(we.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${G}().`);const xe=[];for(const Re of Ae(E))if(Re.field.isKeyField())xe.push(Tr(D,X.key));else{const $e=X.data.field(Re.field);if(Jn($e))throw new Fe(we.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===$e){const xt=Re.field.canonicalString();throw new Fe(we.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${xt}' (used as the orderBy) does not exist.`)}xe.push($e)}return new pi(xe,fe)}(l._query,l.firestore._databaseId,n,i[0]._document,a);{const f=lh(l.firestore);return function(D,G,X,fe,xe,Re){const $e=D.explicitOrderBy;if(xe.length>$e.length)throw new Fe(we.INVALID_ARGUMENT,`Too many arguments provided to ${fe}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const xt=[];for(let nn=0;nn<xe.length;nn++){const hn=xe[nn];if($e[nn].field.isKeyField()){if("string"!=typeof hn)throw new Fe(we.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${fe}(), but got a ${typeof hn}`);if(!Ie(D)&&-1!==hn.indexOf("/"))throw new Fe(we.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${fe}() must be a plain document ID, but '${hn}' contains a slash.`);const Ln=D.path.child(vn.fromString(hn));if(!lr.isDocumentKey(Ln))throw new Fe(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${fe}() must result in a valid document path, but '${Ln}' is not because it contains an odd number of segments.`);const nr=new lr(Ln);xt.push(Tr(G,nr))}else{const Ln=Ni(X,fe,hn);xt.push(Ln)}}return new pi(xt,Re)}(l._query,l.firestore._databaseId,f,n,i,a)}}function mu(l,n,i){if("string"==typeof(i=(0,tt.Ku)(i))){if(""===i)throw new Fe(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ie(n)&&-1!==i.indexOf("/"))throw new Fe(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=n.path.child(vn.fromString(i));if(!lr.isDocumentKey(a))throw new Fe(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Tr(l,new lr(a))}if(i instanceof Rl)return Tr(l,i._key);throw new Fe(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(i)}.`)}function ec(l,n){if(!Array.isArray(l)||0===l.length)throw new Fe(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function nu(l,n){const i=function(f,E){for(const D of f)for(const G of D.getFlattenedFilters())if(E.indexOf(G.op)>=0)return G.op;return null}(l.filters,function(f){switch(f){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new Fe(we.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class Ph{convertValue(n,i="none"){switch(ia(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Bo(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(ra(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 10:return this.convertObject(n.mapValue,i);default:throw Kt()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const a={};return Il(n,(f,E)=>{a[f]=this.convertValue(E,i)}),a}convertGeoPoint(n){return new hf(Bo(n.latitude),Bo(n.longitude))}convertArray(n,i){return(n.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(n,i){switch(i){case"previous":const a=Ds(n);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ra(n));default:return null}}convertTimestamp(n){const i=Oa(n);return new fr(i.seconds,i.nanos)}convertDocumentKey(n,i){const a=vn.fromString(n);Vn(cA(a));const f=new Oi(a.get(1),a.get(3)),E=new lr(a.popFirst(5));return f.isEqual(i)||zn(`Document ${E} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),E}}function mf(l,n,i){let a;return a=l?i&&(i.merge||i.mergeFields)?l.toFirestore(n,i):l.toFirestore(n):n,a}class Nh extends Ph{constructor(n){super(),this.firestore=n}convertBytes(n){return new Ud(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Rl(this.firestore,null,i)}}class SA{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class sA extends IA{constructor(n,i,a,f,E,D){super(n,i,a,f,D),this._firestore=n,this._firestoreImpl=n,this.metadata=E}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const a=this._document.data.field(Vd("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Ah extends sA{data(n={}){return super.data(n)}}class Vc{constructor(n,i,a,f){this._firestore=n,this._userDataWriter=i,this._snapshot=f,this.metadata=new SA(f.hasPendingWrites,f.fromCache),this.query=a}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(a=>{n.call(i,new Ah(this._firestore,this._userDataWriter,a.key,a,new SA(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Fe(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(f,E){if(f._snapshot.oldDocs.isEmpty()){let D=0;return f._snapshot.docChanges.map(G=>({type:"added",doc:new Ah(f._firestore,f._userDataWriter,G.doc.key,G.doc,new SA(f._snapshot.mutatedKeys.has(G.doc.key),f._snapshot.fromCache),f.query.converter),oldIndex:-1,newIndex:D++}))}{let D=f._snapshot.oldDocs;return f._snapshot.docChanges.filter(G=>E||3!==G.type).map(G=>{const X=new Ah(f._firestore,f._userDataWriter,G.doc.key,G.doc,new SA(f._snapshot.mutatedKeys.has(G.doc.key),f._snapshot.fromCache),f.query.converter);let fe=-1,xe=-1;return 0!==G.type&&(fe=D.indexOf(G.doc.key),D=D.delete(G.doc.key)),1!==G.type&&(D=D.add(G.doc),xe=D.indexOf(G.doc.key)),{type:fp(G.type),doc:X,oldIndex:fe,newIndex:xe}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function fp(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt()}}function qA(l,n){return l instanceof sA&&n instanceof sA?l._firestore===n._firestore&&l._key.isEqual(n._key)&&(null===l._document?null===n._document:l._document.isEqual(n._document))&&l._converter===n._converter:l instanceof Vc&&n instanceof Vc&&l._firestore===n._firestore&&zg(l.query,n.query)&&l.metadata.isEqual(n.metadata)&&l._snapshot.isEqual(n._snapshot)}class ma extends Ph{constructor(n){super(),this.firestore=n}convertBytes(n){return new Ud(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Rl(this.firestore,null,i)}}function pp(l,n,i){l=Bs(l,Rl);const a=Bs(l.firestore,Sa),f=mf(l.converter,n,i);return gp(a,[ad(lh(a),"setDoc",l._key,f,null!==l.converter,i).toMutation(l._key,Us.none())])}function Vp(l,n,i,...a){l=Bs(l,Rl);const f=Bs(l.firestore,Sa),E=lh(f);let D;return D="string"==typeof(n=(0,tt.Ku)(n))||n instanceof sd?jr(E,"updateDoc",l._key,n,i,a):hr(E,"updateDoc",l._key,n),gp(f,[D.toMutation(l._key,Us.exists(!0))])}function vg(l,...n){var i,a,f;l=(0,tt.Ku)(l);let E={includeMetadataChanges:!1,source:"default"},D=0;"object"!=typeof n[D]||$g(n[D])||(E=n[D],D++);const G={includeMetadataChanges:E.includeMetadataChanges,source:E.source};if($g(n[D])){const Re=n[D];n[D]=null===(i=Re.next)||void 0===i?void 0:i.bind(Re),n[D+1]=null===(a=Re.error)||void 0===a?void 0:a.bind(Re),n[D+2]=null===(f=Re.complete)||void 0===f?void 0:f.bind(Re)}let X,fe,xe;if(l instanceof Rl)fe=Bs(l.firestore,Sa),xe=Na(l._key.path),X={next:Re=>{n[D]&&n[D](jp(fe,l,Re))},error:n[D+1],complete:n[D+2]};else{const Re=Bs(l,Zc);fe=Bs(Re.firestore,Sa),xe=Re._query;const $e=new ma(fe);X={next:xt=>{n[D]&&n[D](new Vc(fe,$e,Re,xt))},error:n[D+1],complete:n[D+2]},fg(l._query)}return function($e,xt,nn,hn){const Ln=new cl(hn),nr=new Me(xt,Ln,nn);return $e.asyncQueue.enqueueAndForget((0,e.A)(function*(){return A(yield Nf($e),nr)})),()=>{Ln.$a(),$e.asyncQueue.enqueueAndForget((0,e.A)(function*(){return b(yield Nf($e),nr)}))}}(Cl(fe),xe,G,X)}function gp(l,n){return function(a,f){const E=new Le;return a.asyncQueue.enqueueAndForget((0,e.A)(function*(){return function Po(l,n,i){return Ar.apply(this,arguments)}(yield og(a),f,E)})),E.promise}(Cl(l),n)}function jp(l,n,i){const a=i.docs.get(n._key),f=new ma(l);return new sA(l,f,n._key,a,new SA(i.hasPendingWrites,i.fromCache),n.converter)}const mp={maxAttempts:5};class Om{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=lh(n)}set(n,i,a){this._verifyNotCommitted();const f=Oh(n,this._firestore),E=mf(f.converter,i,a),D=ad(this._dataReader,"WriteBatch.set",f._key,E,null!==f.converter,a);return this._mutations.push(D.toMutation(f._key,Us.none())),this}update(n,i,a,...f){this._verifyNotCommitted();const E=Oh(n,this._firestore);let D;return D="string"==typeof(i=(0,tt.Ku)(i))||i instanceof sd?jr(this._dataReader,"WriteBatch.update",E._key,i,a,f):hr(this._dataReader,"WriteBatch.update",E._key,i),this._mutations.push(D.toMutation(E._key,Us.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=Oh(n,this._firestore);return this._mutations=this._mutations.concat(new _e(i._key,Us.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Oh(l,n){if((l=(0,tt.Ku)(l)).firestore!==n)throw new Fe(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class zp extends class{constructor(i,a){this._firestore=i,this._transaction=a,this._dataReader=lh(i)}get(i){const a=Oh(i,this._firestore),f=new Nh(this._firestore);return this._transaction.lookup([a._key]).then(E=>{if(!E||1!==E.length)return Kt();const D=E[0];if(D.isFoundDocument())return new IA(this._firestore,f,D.key,D,a.converter);if(D.isNoDocument())return new IA(this._firestore,f,a._key,null,a.converter);throw Kt()})}set(i,a,f){const E=Oh(i,this._firestore),D=mf(E.converter,a,f),G=ad(this._dataReader,"Transaction.set",E._key,D,null!==E.converter,f);return this._transaction.set(E._key,G),this}update(i,a,f,...E){const D=Oh(i,this._firestore);let G;return G="string"==typeof(a=(0,tt.Ku)(a))||a instanceof sd?jr(this._dataReader,"Transaction.update",D._key,a,f,E):hr(this._dataReader,"Transaction.update",D._key,a),this._transaction.update(D._key,G),this}delete(i){const a=Oh(i,this._firestore);return this._transaction.delete(a._key),this}}{constructor(n,i){super(n,i),this._firestore=n}get(n){const i=Oh(n,this._firestore),a=new ma(this._firestore);return super.get(n).then(f=>new sA(this._firestore,a,i._key,f._document,new SA(!1,!1),i.converter))}}function Eg(l,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${l}(): You cannot specify both "merge" and "mergeFields".`);return n}function Cg(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function om(){if(!function $l(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,i=!0){wn=wt.SDK_VERSION,(0,wt._registerComponent)(new ot.uA("firestore",(a,{instanceIdentifier:f,options:E})=>{const D=a.getProvider("app").getImmediate(),G=new Sa(new Rn(a.getProvider("auth-internal")),new ui(a.getProvider("app-check-internal")),function(fe,xe){if(!Object.prototype.hasOwnProperty.apply(fe.options,["projectId"]))throw new Fe(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oi(fe.options.projectId,xe)}(D,f),D);return E=Object.assign({useFetchStreams:i},E),G._setSettings(E),G},"PUBLIC").setMultipleInstances(!0)),(0,wt.registerVersion)(bt,"4.6.3",n),(0,wt.registerVersion)(bt,"4.6.3","esm2017")}();class zf{constructor(n){this._delegate=n}static fromBase64String(n){return om(),new zf(Ud.fromBase64String(n))}static fromUint8Array(n){return Cg(),new zf(Ud.fromUint8Array(n))}toBase64(){return om(),this._delegate.toBase64()}toUint8Array(){return Cg(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sm(l){return function f0(l,n){if("object"!=typeof l||null===l)return!1;const i=l;for(const a of n)if(a in i&&"function"==typeof i[a])return!0;return!1}(l,["next","error","complete"])}class am{enableIndexedDbPersistence(n,i){return function Ld(l,n){cp(l=Bs(l,Sa));const i=Cl(l);if(i._uninitializedComponentsProvider)throw new Fe(we.FAILED_PRECONDITION,"SDK cache is already specified.");yr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const a=l._freezeSettings(),f=new ca;return kp(i,f,new ll(f,a.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(n){return function Qf(l){cp(l=Bs(l,Sa));const n=Cl(l);if(n._uninitializedComponentsProvider)throw new Fe(we.FAILED_PRECONDITION,"SDK cache is already specified.");yr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=l._freezeSettings(),a=new ca;return kp(n,a,new us(a,i.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function dg(l){if(l._initialized&&!l._terminated)throw new Fe(we.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Le;return l._queue.enqueueAndForgetEvenWhileRestricted((0,e.A)(function*(){try{yield(i=(0,e.A)(function*(f){if(!Vo.D())return Promise.resolve();const E=f+"main";yield Vo.delete(E)}),function a(f){return i.apply(this,arguments)})(wh(l._databaseId,l._persistenceKey)),n.resolve()}catch(i){n.reject(i)}var i})),n.promise}(n._delegate)}}class Gp{constructor(n,i,a){this._delegate=i,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},n instanceof Oi||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const i=this._delegate._getSettings();!n.merge&&i.host!==n.host&&yr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},i),n)).merge,this._delegate._setSettings(n)}useEmulator(n,i,a={}){!function As(l,n,i,a={}){var f;const E=(l=Bs(l,Lf))._getSettings(),D=`${n}:${i}`;if("firestore.googleapis.com"!==E.host&&E.host!==D&&yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},E),{host:D,ssl:!1})),a.mockUserToken){let G,X;if("string"==typeof a.mockUserToken)G=a.mockUserToken,X=Vt.MOCK_USER;else{G=(0,tt.Fy)(a.mockUserToken,null===(f=l._app)||void 0===f?void 0:f.options.projectId);const fe=a.mockUserToken.sub||a.mockUserToken.user_id;if(!fe)throw new Fe(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");X=new Vt(fe)}l._authCredentials=new sn(new Rt(G,X))}}(this._delegate,n,i,a)}enableNetwork(){return function ap(l){return function Vg(l){return l.asyncQueue.enqueue((0,e.A)(function*(){const n=yield af(l),i=yield cf(l);return n.setNetworkEnabled(!0),function(f){const E=st(f);return E.M_.delete(0),Pu(E)}(i)}))}(Cl(l=Bs(l,Sa)))}(this._delegate)}disableNetwork(){return function mv(l){return function Mf(l){return l.asyncQueue.enqueue((0,e.A)(function*(){const n=yield af(l),i=yield cf(l);return n.setNetworkEnabled(!1),(a=(0,e.A)(function*(E){const D=st(E);D.M_.add(0),yield ba(D),D.N_.set("Offline")}),function f(E){return a.apply(this,arguments)})(i);var a}))}(Cl(l=Bs(l,Sa)))}(this._delegate)}enablePersistence(n){let i=!1,a=!1;return n&&(i=!!n.synchronizeTabs,a=!!n.experimentalForceOwningTab,Dm("synchronizeTabs",i,"experimentalForceOwningTab",a)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Fh(l){return function(i){const a=new Le;return i.asyncQueue.enqueueAndForget((0,e.A)(function*(){return function ys(l,n){return Ts.apply(this,arguments)}(yield og(i),a)})),a.promise}(Cl(l=Bs(l,Sa)))}(this._delegate)}onSnapshotsInSync(n){return function vv(l,n){return function op(l,n){const i=new cl(n);return l.asyncQueue.enqueueAndForget((0,e.A)(function*(){return f=yield Nf(l),E=i,st(f).z_.add(E),void E.next();var f,E})),()=>{i.$a(),l.asyncQueue.enqueueAndForget((0,e.A)(function*(){return f=yield Nf(l),E=i,void st(f).z_.delete(E);var f,E}))}}(Cl(l=Bs(l,Sa)),$g(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Wp(this,Od(this._delegate,n))}catch(i){throw BA(i,"collection()","Firestore.collection()")}}doc(n){try{return new dd(this,Af(this._delegate,n))}catch(i){throw BA(i,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new DA(this,function Uf(l,n){if(l=Bs(l,Lf),cg("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Fe(we.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zc(l,null,(a=n,new Pa(vn.emptyPath(),a)));var a}(this._delegate,n))}catch(i){throw BA(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function _v(l,n,i){l=Bs(l,Sa);const a=Object.assign(Object.assign({},mp),i);return function(E){if(E.maxAttempts<1)throw new Fe(we.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(E,D,G){const X=new Le;return E.asyncQueue.enqueueAndForget((0,e.A)(function*(){const fe=yield function Tc(l){return Pf(l).then(n=>n.datastore)}(E);new iA(E.asyncQueue,fe,G,D,X).Xa()})),X.promise}(Cl(l),f=>n(new zp(l,f)),a)}(this._delegate,i=>n(new zm(this,i)))}batch(){return Cl(this._delegate),new Cv(new Om(this._delegate,n=>gp(this._delegate,n)))}loadBundle(n){return function od(l,n){const i=Cl(l=Bs(l,Sa)),a=new Gg;return function Qg(l,n,i,a){const f=function(D,G){let X;return X="string"==typeof D?oo().encode(D):D,xe=function(xe,Re){if(xe instanceof Uint8Array)return xl(xe,void 0);if(xe instanceof ArrayBuffer)return xl(new Uint8Array(xe),void 0);if(xe instanceof ReadableStream)return xe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(X),new zl(xe,G);var xe}(i,nA(n));l.asyncQueue.enqueueAndForget((0,e.A)(function*(){!function No(l,n,i){const a=st(l);var f;(f=(0,e.A)(function*(D,G,X){try{const fe=yield G.getMetadata();if(yield function(nn,hn){const Ln=st(nn),nr=ha(hn.createTime);return Ln.persistence.runTransaction("hasNewerBundle","readonly",Rr=>Ln.$r.getBundleMetadata(Rr,hn.id)).then(Rr=>!!Rr&&Rr.createTime.compareTo(nr)>=0)}(D.localStore,fe))return yield G.close(),X._completeWith({taskState:"Success",documentsLoaded:(nn=fe).totalDocuments,bytesLoaded:nn.totalBytes,totalDocuments:nn.totalDocuments,totalBytes:nn.totalBytes}),Promise.resolve(new Set);X._updateProgress(F(fe));const xe=new It(fe,D.localStore,G.serializer);let Re=yield G.qa();for(;Re;){const xt=yield xe._a(Re);xt&&X._updateProgress(xt),Re=yield G.qa()}const $e=yield xe.complete();return yield O(D,$e.ca,void 0),yield function(nn,hn){const Ln=st(nn);return Ln.persistence.runTransaction("Save bundle","readwrite",nr=>Ln.$r.saveBundleMetadata(nr,hn))}(D.localStore,fe),X._completeWith($e.progress),Promise.resolve($e.ua)}catch(fe){return yr("SyncEngine",`Loading bundle failed with ${fe}`),X._failWith(fe),Promise.resolve(new Set)}var nn}),function E(D,G,X){return f.apply(this,arguments)})(a,n,i).then(f=>{a.sharedClientState.notifyBundleLoaded(f)})}(yield og(l),f,a)}))}(i,l._databaseId,n,a),a}(this._delegate,n)}namedQuery(n){return function lp(l,n){return function ag(l,n){return l.asyncQueue.enqueue((0,e.A)(function*(){return function(a,f){const E=st(a);return E.persistence.runTransaction("Get named query","readonly",D=>E.$r.getNamedQuery(D,f))}(yield lf(l),n)}))}(Cl(l=Bs(l,Sa)),n).then(i=>i?new Zc(l,null,i.query):null)}(this._delegate,n).then(i=>i?new DA(this,i):null)}}class $f extends Ph{constructor(n){super(),this.firestore=n}convertBytes(n){return new zf(new Ud(n))}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return dd.forKey(i,this.firestore,null)}}class zm{constructor(n,i){this._firestore=n,this._delegate=i,this._userDataWriter=new $f(n)}get(n){const i=Gf(n);return this._delegate.get(i).then(a=>new Ig(this._firestore,new sA(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,i.converter)))}set(n,i,a){const f=Gf(n);return a?(Eg("Transaction.set",a),this._delegate.set(f,i,a)):this._delegate.set(f,i),this}update(n,i,a,...f){const E=Gf(n);return 2===arguments.length?this._delegate.update(E,i):this._delegate.update(E,i,a,...f),this}delete(n){const i=Gf(n);return this._delegate.delete(i),this}}class Cv{constructor(n){this._delegate=n}set(n,i,a){const f=Gf(n);return a?(Eg("WriteBatch.set",a),this._delegate.set(f,i,a)):this._delegate.set(f,i),this}update(n,i,a,...f){const E=Gf(n);return 2===arguments.length?this._delegate.update(E,i):this._delegate.update(E,i,a,...f),this}delete(n){const i=Gf(n);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class wf{constructor(n,i,a){this._firestore=n,this._userDataWriter=i,this._delegate=a}fromFirestore(n,i){const a=new Ah(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new bg(this._firestore,a),null!=i?i:{})}toFirestore(n,i){return i?this._delegate.toFirestore(n,i):this._delegate.toFirestore(n)}static getInstance(n,i){const a=wf.INSTANCES;let f=a.get(n);f||(f=new WeakMap,a.set(n,f));let E=f.get(i);return E||(E=new wf(n,new $f(n),i),f.set(i,E)),E}}wf.INSTANCES=new WeakMap;class dd{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new $f(n)}static forPath(n,i,a){if(n.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new dd(i,new Rl(i._delegate,a,new lr(n)))}static forKey(n,i,a){return new dd(i,new Rl(i._delegate,a,n))}get id(){return this._delegate.id}get parent(){return new Wp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Wp(this.firestore,Od(this._delegate,n))}catch(i){throw BA(i,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,tt.Ku)(n))instanceof Rl&&Ag(this._delegate,n)}set(n,i){i=Eg("DocumentReference.set",i);try{return i?pp(this._delegate,n,i):pp(this._delegate,n)}catch(a){throw BA(a,"setDoc()","DocumentReference.set()")}}update(n,i,...a){try{return 1===arguments.length?Vp(this._delegate,n):Vp(this._delegate,n,i,...a)}catch(f){throw BA(f,"updateDoc()","DocumentReference.update()")}}delete(){return function Qp(l){return gp(Bs(l.firestore,Sa),[new _e(l._key,Us.none())])}(this._delegate)}onSnapshot(...n){const i=Iv(n),a=FA(n,f=>new Ig(this.firestore,new sA(this.firestore._delegate,this._userDataWriter,f._key,f._document,f.metadata,this._delegate.converter)));return vg(this._delegate,i,a)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function Ul(l){l=Bs(l,Rl);const n=Bs(l.firestore,Sa),i=Cl(n),a=new ma(n);return function sg(l,n){const i=new Le;return l.asyncQueue.enqueueAndForget((0,e.A)(function*(){return(a=(0,e.A)(function*(E,D,G){try{const X=yield function(xe,Re){const $e=st(xe);return $e.persistence.runTransaction("read document","readonly",xt=>$e.localDocuments.getDocument(xt,Re))}(E,D);X.isFoundDocument()?G.resolve(X):X.isNoDocument()?G.resolve(null):G.reject(new Fe(we.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(X){const fe=Oe(X,`Failed to get document '${D} from cache`);G.reject(fe)}}),function f(E,D,G){return a.apply(this,arguments)})(yield lf(l),n,i);var a})),i.promise}(i,l._key).then(f=>new sA(n,a,l._key,f,new SA(null!==f&&f.hasLocalMutations,!0),l.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function Bc(l){l=Bs(l,Rl);const n=Bs(l.firestore,Sa);return Md(Cl(n),l._key,{source:"server"}).then(i=>jp(n,l,i))}(this._delegate):function dh(l){l=Bs(l,Rl);const n=Bs(l.firestore,Sa);return Md(Cl(n),l._key).then(i=>jp(n,l,i))}(this._delegate),i.then(a=>new Ig(this.firestore,new sA(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(n){return new dd(this.firestore,this._delegate.withConverter(n?wf.getInstance(this.firestore,n):null))}}function BA(l,n,i){return l.message=l.message.replace(n,i),l}function Iv(l){for(const n of l)if("object"==typeof n&&!sm(n))return n;return{}}function FA(l,n){var i,a;let f;return f=sm(l[0])?l[0]:sm(l[1])?l[1]:"function"==typeof l[0]?{next:l[0],error:l[1],complete:l[2]}:{next:l[1],error:l[2],complete:l[3]},{next:E=>{f.next&&f.next(n(E))},error:null===(i=f.error)||void 0===i?void 0:i.bind(f),complete:null===(a=f.complete)||void 0===a?void 0:a.bind(f)}}class Ig{constructor(n,i){this._firestore=n,this._delegate=i}get ref(){return new dd(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,i){return this._delegate.get(n,i)}isEqual(n){return qA(this._delegate,n._delegate)}}class bg extends Ig{data(n){const i=this._delegate.data(n);return this._delegate._converter||function kn(l,n){l||Kt()}(void 0!==i),i}}class DA{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new $f(n)}where(n,i,a){try{return new DA(this.firestore,bA(this._delegate,function qg(l,n,i){const a=n,f=Vd("where",l);return jf._create(f,a,i)}(n,i,a)))}catch(f){throw BA(f,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,i){try{return new DA(this.firestore,bA(this._delegate,function pg(l,n="asc"){const i=n,a=Vd("orderBy",l);return dp._create(a,i)}(n,i)))}catch(a){throw BA(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new DA(this.firestore,bA(this._delegate,function WA(l){return gu("limit",l),hp._create("limit",l,"F")}(n)))}catch(i){throw BA(i,"limit()","Query.limit()")}}limitToLast(n){try{return new DA(this.firestore,bA(this._delegate,function Lp(l){return gu("limitToLast",l),hp._create("limitToLast",l,"L")}(n)))}catch(i){throw BA(i,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new DA(this.firestore,bA(this._delegate,function Up(...l){return ch._create("startAt",l,!0)}(...n)))}catch(i){throw BA(i,"startAt()","Query.startAt()")}}startAfter(...n){try{return new DA(this.firestore,bA(this._delegate,function jd(...l){return ch._create("startAfter",l,!1)}(...n)))}catch(i){throw BA(i,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new DA(this.firestore,bA(this._delegate,function Yg(...l){return gf._create("endBefore",l,!1)}(...n)))}catch(i){throw BA(i,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new DA(this.firestore,bA(this._delegate,function xm(...l){return gf._create("endAt",l,!0)}(...n)))}catch(i){throw BA(i,"endAt()","Query.endAt()")}}isEqual(n){return zg(this._delegate,n._delegate)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function yf(l){l=Bs(l,Zc);const n=Bs(l.firestore,Sa),i=Cl(n),a=new ma(n);return function ip(l,n){const i=new Le;return l.asyncQueue.enqueueAndForget((0,e.A)(function*(){return(a=(0,e.A)(function*(E,D,G){try{const X=yield xu(E,D,!0),fe=new M(D,X.hs),xe=fe.da(X.documents),Re=fe.applyChanges(xe,!1);G.resolve(Re.snapshot)}catch(X){const fe=Oe(X,`Failed to execute query '${D} against cache`);G.reject(fe)}}),function f(E,D,G){return a.apply(this,arguments)})(yield lf(l),n,i);var a})),i.promise}(i,l._query).then(f=>new Vc(n,a,l,f))}(this._delegate):"server"===(null==n?void 0:n.source)?function Hf(l){l=Bs(l,Zc);const n=Bs(l.firestore,Sa),i=Cl(n),a=new ma(n);return Lu(i,l._query,{source:"server"}).then(f=>new Vc(n,a,l,f))}(this._delegate):function Qc(l){l=Bs(l,Zc);const n=Bs(l.firestore,Sa),i=Cl(n),a=new ma(n);return fg(l._query),Lu(i,l._query).then(f=>new Vc(n,a,l,f))}(this._delegate),i.then(a=>new lm(this.firestore,new Vc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...n){const i=Iv(n),a=FA(n,f=>new lm(this.firestore,new Vc(this.firestore._delegate,this._userDataWriter,this._delegate,f._snapshot)));return vg(this._delegate,i,a)}withConverter(n){return new DA(this.firestore,this._delegate.withConverter(n?wf.getInstance(this.firestore,n):null))}}class Kp{constructor(n,i){this._firestore=n,this._delegate=i}get type(){return this._delegate.type}get doc(){return new bg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lm{constructor(n,i){this._firestore=n,this._delegate=i}get query(){return new DA(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new bg(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(i=>new Kp(this._firestore,i))}forEach(n,i){this._delegate.forEach(a=>{n.call(i,new bg(this._firestore,a))})}isEqual(n){return qA(this._delegate,n._delegate)}}class Wp extends DA{constructor(n,i){super(n,i),this.firestore=n,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new dd(this.firestore,n):null}doc(n){try{return new dd(this.firestore,void 0===n?Af(this._delegate):Af(this._delegate,n))}catch(i){throw BA(i,"doc()","CollectionReference.doc()")}}add(n){return function mg(l,n){const i=Bs(l.firestore,Sa),a=Af(l),f=mf(l.converter,n);return gp(i,[ad(lh(l.firestore),"addDoc",a._key,f,null!==l.converter,{}).toMutation(a._key,Us.exists(!1))]).then(()=>a)}(this._delegate,n).then(i=>new dd(this.firestore,i))}isEqual(n){return Ag(this._delegate,n._delegate)}withConverter(n){return new Wp(this.firestore,this._delegate.withConverter(n?wf.getInstance(this.firestore,n):null))}}function Gf(l){return Bs(l,Rl)}class S{constructor(...n){this._delegate=new sd(...n)}static documentId(){return new S(si.keyField().canonicalString())}isEqual(n){return(n=(0,tt.Ku)(n))instanceof sd&&this._delegate._internalPath.isEqual(n._internalPath)}}class H{constructor(n){this._delegate=n}static serverTimestamp(){const n=function rm(){return new ze("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new H(n)}static delete(){const n=function Lm(){return new ff("deleteField")}();return n._methodName="FieldValue.delete",new H(n)}static arrayUnion(...n){const i=function A0(...l){return new Ot("arrayUnion",l)}(...n);return i._methodName="FieldValue.arrayUnion",new H(i)}static arrayRemove(...n){const i=function yv(...l){return new un("arrayRemove",l)}(...n);return i._methodName="FieldValue.arrayRemove",new H(i)}static increment(n){const i=function Um(l){return new Qn("increment",l)}(n);return i._methodName="FieldValue.increment",new H(i)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const re={Firestore:Gp,GeoPoint:hf,Timestamp:fr,Blob:zf,Transaction:zm,WriteBatch:Cv,DocumentReference:dd,DocumentSnapshot:Ig,Query:DA,QueryDocumentSnapshot:bg,QuerySnapshot:lm,CollectionReference:Wp,FieldPath:S,FieldValue:H,setLogLevel:function Hm(l){!function Dn(l){Yt.setLogLevel(l)}(l)},CACHE_SIZE_UNLIMITED:-1};!function Qe(l){(function Ce(l,n){l.INTERNAL.registerComponent(new ot.uA("firestore-compat",i=>{const a=i.getProvider("app-compat").getImmediate(),f=i.getProvider("firestore").getImmediate();return n(a,f)},"PUBLIC").setServiceProps(Object.assign({},re)))})(l,(n,i)=>new Gp(n,i,new am)),l.registerVersion("@firebase/firestore-compat","0.3.32")}(w.A)},5562:(Kr,dn,Be)=>{"use strict";var w=Be(3345),e=Be(467),wt=Be(7852),ot=Be(1076),Z=Be(1362);const tt="firebasestorage.googleapis.com",Ze="storageBucket";class et extends ot.g{constructor(be,_t,Qt=0){super(Mt(be),`Firebase Storage: ${_t} (${Mt(be)})`),this.status_=Qt,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,et.prototype)}get status(){return this.status_}set status(be){this.status_=be}_codeEquals(be){return Mt(be)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(be){this.customData.serverResponse=be,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var vt=function(Ne){return Ne.UNKNOWN="unknown",Ne.OBJECT_NOT_FOUND="object-not-found",Ne.BUCKET_NOT_FOUND="bucket-not-found",Ne.PROJECT_NOT_FOUND="project-not-found",Ne.QUOTA_EXCEEDED="quota-exceeded",Ne.UNAUTHENTICATED="unauthenticated",Ne.UNAUTHORIZED="unauthorized",Ne.UNAUTHORIZED_APP="unauthorized-app",Ne.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Ne.INVALID_CHECKSUM="invalid-checksum",Ne.CANCELED="canceled",Ne.INVALID_EVENT_NAME="invalid-event-name",Ne.INVALID_URL="invalid-url",Ne.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Ne.NO_DEFAULT_BUCKET="no-default-bucket",Ne.CANNOT_SLICE_BLOB="cannot-slice-blob",Ne.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Ne.NO_DOWNLOAD_URL="no-download-url",Ne.INVALID_ARGUMENT="invalid-argument",Ne.INVALID_ARGUMENT_COUNT="invalid-argument-count",Ne.APP_DELETED="app-deleted",Ne.INVALID_ROOT_OPERATION="invalid-root-operation",Ne.INVALID_FORMAT="invalid-format",Ne.INTERNAL_ERROR="internal-error",Ne.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ne}(vt||{});function Mt(Ne){return"storage/"+Ne}function Ft(){return new et(vt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function gn(){return new et(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Tn(){return new et(vt.CANCELED,"User canceled the upload/download.")}function Yt(){return new et(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zn(Ne){return new et(vt.INVALID_ARGUMENT,Ne)}function yr(){return new et(vt.APP_DELETED,"The Firebase app was deleted.")}function xr(Ne){return new et(vt.INVALID_ROOT_OPERATION,"The operation '"+Ne+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kt(Ne,be){return new et(vt.INVALID_FORMAT,"String does not match format '"+Ne+"': "+be)}function Vn(Ne){throw new et(vt.INTERNAL_ERROR,"Internal error: "+Ne)}class kn{constructor(be,_t){this.bucket=be,this.path_=_t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const be=encodeURIComponent;return"/b/"+be(this.bucket)+"/o/"+be(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(be,_t){let Qt;try{Qt=kn.makeFromUrl(be,_t)}catch{return new kn(be,"")}if(""===Qt.path)return Qt;throw function Vt(Ne){return new et(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Ne+"'.")}(be)}static makeFromUrl(be,_t){let Qt=null;const an="([A-Za-z0-9.\\-_]+)",_i=new RegExp("^gs://"+an+"(/(.*))?$","i");function Li(xs){xs.path_=decodeURIComponent(xs.path)}const ns=_t.replace(/[.]/g,"\\."),Ls=[{regex:_i,indices:{bucket:1,path:3},postModify:function Wn(xs){"/"===xs.path.charAt(xs.path.length-1)&&(xs.path_=xs.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${ns}/v[A-Za-z0-9_]+/b/${an}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Li},{regex:new RegExp(`^https?://${_t===tt?"(?:storage.googleapis.com|storage.cloud.google.com)":_t}/${an}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Li}];for(let xs=0;xs<Ls.length;xs++){const fo=Ls[xs],Zi=fo.regex.exec(be);if(Zi){let _s=Zi[fo.indices.path];_s||(_s=""),Qt=new kn(Zi[fo.indices.bucket],_s),fo.postModify(Qt);break}}if(null==Qt)throw function bt(Ne){return new et(vt.INVALID_URL,"Invalid URL '"+Ne+"'.")}(be);return Qt}}class st{constructor(be){this.promise_=Promise.reject(be)}getPromise(){return this.promise_}cancel(be=!1){}}function sn(Ne){return"string"==typeof Ne||Ne instanceof String}function Rn(Ne){return dr()&&Ne instanceof Blob}function dr(){return typeof Blob<"u"}function bi(Ne,be,_t,Qt){if(Qt<be)throw zn(`Invalid value for '${Ne}'. Expected ${be} or greater.`);if(Qt>_t)throw zn(`Invalid value for '${Ne}'. Expected ${_t} or less.`)}function Sr(Ne,be,_t){let Qt=be;return null==_t&&(Qt=`https://${be}`),`${_t}://${Qt}/v0${Ne}`}function ui(Ne){const be=encodeURIComponent;let _t="?";for(const Qt in Ne)Ne.hasOwnProperty(Qt)&&(_t=_t+(be(Qt)+"=")+be(Ne[Qt])+"&");return _t=_t.slice(0,-1),_t}var Ai=function(Ne){return Ne[Ne.NO_ERROR=0]="NO_ERROR",Ne[Ne.NETWORK_ERROR=1]="NETWORK_ERROR",Ne[Ne.ABORT=2]="ABORT",Ne}(Ai||{});function Yn(Ne,be){const _t=Ne>=500&&Ne<600,an=-1!==[408,429].indexOf(Ne),Wn=-1!==be.indexOf(Ne);return _t||an||Wn}class Yi{constructor(be,_t,Qt,an,Wn,wr,_i,Yr,Li,ii,ns,Js=!0){this.url_=be,this.method_=_t,this.headers_=Qt,this.body_=an,this.successCodes_=Wn,this.additionalRetryCodes_=wr,this.callback_=_i,this.errorCallback_=Yr,this.timeout_=Li,this.progressCallback_=ii,this.connectionFactory_=ns,this.retry=Js,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Zs,oa)=>{this.resolve_=Zs,this.reject_=oa,this.start_()})}start_(){const _t=(Qt,an)=>{const Wn=this.resolve_,wr=this.reject_,_i=an.connection;if(an.wasSuccessCode)try{const Yr=this.callback_(_i,_i.getResponse());!function Le(Ne){return void 0!==Ne}(Yr)?Wn():Wn(Yr)}catch(Yr){wr(Yr)}else if(null!==_i){const Yr=Ft();Yr.serverResponse=_i.getErrorText(),wr(this.errorCallback_?this.errorCallback_(_i,Yr):Yr)}else wr(an.canceled?this.appDelete_?yr():Tn():gn())};this.canceled_?_t(0,new kr(!1,null,!0)):this.backoffId_=function we(Ne,be,_t){let Qt=1,an=null,Wn=null,wr=!1,_i=0;function Yr(){return 2===_i}let Li=!1;function ii(...vs){Li||(Li=!0,be.apply(null,vs))}function ns(vs){an=setTimeout(()=>{an=null,Ne(Zs,Yr())},vs)}function Js(){Wn&&clearTimeout(Wn)}function Zs(vs,...Zo){if(Li)return void Js();if(vs)return Js(),void ii.call(null,vs,...Zo);if(Yr()||wr)return Js(),void ii.call(null,vs,...Zo);let Ls;Qt<64&&(Qt*=2),1===_i?(_i=2,Ls=0):Ls=1e3*(Qt+Math.random()),ns(Ls)}let oa=!1;function Cs(vs){oa||(oa=!0,Js(),!Li&&(null!==an?(vs||(_i=2),clearTimeout(an),ns(0)):vs||(_i=1)))}return ns(0),Wn=setTimeout(()=>{wr=!0,Cs(!0)},_t),Cs}((Qt,an)=>{if(an)return void Qt(!1,new kr(!1,null,!0));const Wn=this.connectionFactory_();this.pendingConnection_=Wn;const wr=_i=>{null!==this.progressCallback_&&this.progressCallback_(_i.loaded,_i.lengthComputable?_i.total:-1)};null!==this.progressCallback_&&Wn.addUploadProgressListener(wr),Wn.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Wn.removeUploadProgressListener(wr),this.pendingConnection_=null;const _i=Wn.getErrorCode()===Ai.NO_ERROR,Yr=Wn.getStatus();if(!_i||Yn(Yr,this.additionalRetryCodes_)&&this.retry){const ii=Wn.getErrorCode()===Ai.ABORT;return void Qt(!1,new kr(!1,null,ii))}const Li=-1!==this.successCodes_.indexOf(Yr);Qt(!0,new kr(Li,Wn))})},_t,this.timeout_)}getPromise(){return this.promise_}cancel(be){this.canceled_=!0,this.appDelete_=be||!1,null!==this.backoffId_&&function Fe(Ne){Ne(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class kr{constructor(be,_t,Qt){this.wasSuccessCode=be,this.connection=_t,this.canceled=!!Qt}}function $r(...Ne){const be=function vn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==be){const _t=new be;for(let Qt=0;Qt<Ne.length;Qt++)_t.append(Ne[Qt]);return _t.getBlob()}if(dr())return new Blob(Ne);throw new et(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const di={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hr{constructor(be,_t){this.data=be,this.contentType=_t||null}}function Er(Ne,be){switch(Ne){case di.RAW:return new Hr(ri(be));case di.BASE64:case di.BASE64URL:return new Hr(uo(Ne,be));case di.DATA_URL:return new Hr(function Ro(Ne){const be=new _o(Ne);return be.base64?uo(di.BASE64,be.rest):function eo(Ne){let be;try{be=decodeURIComponent(Ne)}catch{throw Kt(di.DATA_URL,"Malformed data URL.")}return ri(be)}(be.rest)}(be),function Mo(Ne){return new _o(Ne).contentType}(be))}throw Ft()}function ri(Ne){const be=[];for(let _t=0;_t<Ne.length;_t++){let Qt=Ne.charCodeAt(_t);Qt<=127?be.push(Qt):Qt<=2047?be.push(192|Qt>>6,128|63&Qt):55296==(64512&Qt)?_t<Ne.length-1&&56320==(64512&Ne.charCodeAt(_t+1))?(Qt=65536|(1023&Qt)<<10|1023&Ne.charCodeAt(++_t),be.push(240|Qt>>18,128|Qt>>12&63,128|Qt>>6&63,128|63&Qt)):be.push(239,191,189):56320==(64512&Qt)?be.push(239,191,189):be.push(224|Qt>>12,128|Qt>>6&63,128|63&Qt)}return new Uint8Array(be)}function uo(Ne,be){switch(Ne){case di.BASE64:{const an=-1!==be.indexOf("-"),Wn=-1!==be.indexOf("_");if(an||Wn)throw Kt(Ne,"Invalid character '"+(an?"-":"_")+"' found: is it base64url encoded?");break}case di.BASE64URL:{const an=-1!==be.indexOf("+"),Wn=-1!==be.indexOf("/");if(an||Wn)throw Kt(Ne,"Invalid character '"+(an?"+":"/")+"' found: is it base64 encoded?");be=be.replace(/-/g,"+").replace(/_/g,"/");break}}let _t;try{_t=function lr(Ne){if(typeof atob>"u")throw function nt(Ne){return new et(vt.UNSUPPORTED_ENVIRONMENT,`${Ne} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Ne)}(be)}catch(an){throw an.message.includes("polyfill")?an:Kt(Ne,"Invalid character found")}const Qt=new Uint8Array(_t.length);for(let an=0;an<_t.length;an++)Qt[an]=_t.charCodeAt(an);return Qt}class _o{constructor(be){this.base64=!1,this.contentType=null;const _t=be.match(/^data:([^,]+)?,/);if(null===_t)throw Kt(di.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Qt=_t[1]||null;null!=Qt&&(this.base64=function Zr(Ne,be){return Ne.length>=be.length&&Ne.substring(Ne.length-be.length)===be}(Qt,";base64"),this.contentType=this.base64?Qt.substring(0,Qt.length-7):Qt),this.rest=be.substring(be.indexOf(",")+1)}}class ko{constructor(be,_t){let Qt=0,an="";Rn(be)?(this.data_=be,Qt=be.size,an=be.type):be instanceof ArrayBuffer?(_t?this.data_=new Uint8Array(be):(this.data_=new Uint8Array(be.byteLength),this.data_.set(new Uint8Array(be))),Qt=this.data_.length):be instanceof Uint8Array&&(_t?this.data_=be:(this.data_=new Uint8Array(be.length),this.data_.set(be)),Qt=be.length),this.size_=Qt,this.type_=an}size(){return this.size_}type(){return this.type_}slice(be,_t){if(Rn(this.data_)){const an=function si(Ne,be,_t){return Ne.webkitSlice?Ne.webkitSlice(be,_t):Ne.mozSlice?Ne.mozSlice(be,_t):Ne.slice?Ne.slice(be,_t):null}(this.data_,be,_t);return null===an?null:new ko(an)}{const Qt=new Uint8Array(this.data_.buffer,be,_t-be);return new ko(Qt,!0)}}static getBlob(...be){if(dr()){const _t=be.map(Qt=>Qt instanceof ko?Qt.data_:Qt);return new ko($r.apply(null,_t))}{const _t=be.map(wr=>sn(wr)?Er(di.RAW,wr).data:wr.data_);let Qt=0;_t.forEach(wr=>{Qt+=wr.byteLength});const an=new Uint8Array(Qt);let Wn=0;return _t.forEach(wr=>{for(let _i=0;_i<wr.length;_i++)an[Wn++]=wr[_i]}),new ko(an,!0)}}uploadData(){return this.data_}}function xi(Ne){let be;try{be=JSON.parse(Ne)}catch{return null}return function bn(Ne){return"object"==typeof Ne&&!Array.isArray(Ne)}(be)?be:null}function Wr(Ne){const be=Ne.lastIndexOf("/",Ne.length-2);return-1===be?Ne:Ne.slice(be+1)}function cn(Ne,be){return be}class Co{constructor(be,_t,Qt,an){this.server=be,this.local=_t||be,this.writable=!!Qt,this.xform=an||cn}}let Vo=null;function Jt(){if(Vo)return Vo;const Ne=[];Ne.push(new Co("bucket")),Ne.push(new Co("generation")),Ne.push(new Co("metageneration")),Ne.push(new Co("name","fullPath",!0));const _t=new Co("name");_t.xform=function be(Wn,wr){return function ps(Ne){return!sn(Ne)||Ne.length<2?Ne:Wr(Ne)}(wr)},Ne.push(_t);const an=new Co("size");return an.xform=function Qt(Wn,wr){return void 0!==wr?Number(wr):wr},Ne.push(an),Ne.push(new Co("timeCreated")),Ne.push(new Co("updated")),Ne.push(new Co("md5Hash",null,!0)),Ne.push(new Co("cacheControl",null,!0)),Ne.push(new Co("contentDisposition",null,!0)),Ne.push(new Co("contentEncoding",null,!0)),Ne.push(new Co("contentLanguage",null,!0)),Ne.push(new Co("contentType",null,!0)),Ne.push(new Co("metadata","customMetadata",!0)),Vo=Ne,Vo}function Wt(Ne,be,_t){const Qt=xi(be);return null===Qt?null:function Bn(Ne,be,_t){const Qt={type:"file"},an=_t.length;for(let Wn=0;Wn<an;Wn++){const wr=_t[Wn];Qt[wr.local]=wr.xform(Qt,be[wr.server])}return function jt(Ne,be){Object.defineProperty(Ne,"ref",{get:function _t(){const Wn=new kn(Ne.bucket,Ne.fullPath);return be._makeStorageReference(Wn)}})}(Qt,Ne),Qt}(Ne,Qt,_t)}function rt(Ne,be){const _t={},Qt=be.length;for(let an=0;an<Qt;an++){const Wn=be[an];Wn.writable&&(_t[Wn.server]=Ne[Wn.local])}return JSON.stringify(_t)}const St="prefixes",Fn="items";class Nr{constructor(be,_t,Qt,an){this.url=be,this.method=_t,this.handler=Qt,this.timeout=an,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function qr(Ne){if(!Ne)throw Ft()}function ji(Ne,be){return function _t(Qt,an){const Wn=Wt(Ne,an,be);return qr(null!==Wn),Wn}}function ai(Ne){return function be(_t,Qt){let an;return an=401===_t.getStatus()?_t.getErrorText().includes("Firebase App Check token is invalid")?function tn(){return new et(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function qt(){return new et(vt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===_t.getStatus()?function mn(Ne){return new et(vt.QUOTA_EXCEEDED,"Quota for bucket '"+Ne+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Ne.bucket):403===_t.getStatus()?function Un(Ne){return new et(vt.UNAUTHORIZED,"User does not have permission to access '"+Ne+"'.")}(Ne.path):Qt,an.status=_t.getStatus(),an.serverResponse=Qt.serverResponse,an}}function Fr(Ne){const be=ai(Ne);return function _t(Qt,an){let Wn=be(Qt,an);return 404===Qt.getStatus()&&(Wn=function An(Ne){return new et(vt.OBJECT_NOT_FOUND,"Object '"+Ne+"' does not exist.")}(Ne.path)),Wn.serverResponse=an.serverResponse,Wn}}function gs(Ne,be,_t){const an=Sr(be.fullServerUrl(),Ne.host,Ne._protocol),wr=Ne.maxOperationRetryTime,_i=new Nr(an,"GET",ji(Ne,_t),wr);return _i.errorHandler=Fr(be),_i}function na(Ne,be,_t,Qt,an){const Wn={};Wn.prefix=be.isRoot?"":be.path+"/",_t&&_t.length>0&&(Wn.delimiter=_t),Qt&&(Wn.pageToken=Qt),an&&(Wn.maxResults=an);const _i=Sr(be.bucketOnlyServerUrl(),Ne.host,Ne._protocol),Li=Ne.maxOperationRetryTime,ii=new Nr(_i,"GET",function $o(Ne,be){return function _t(Qt,an){const Wn=function gr(Ne,be,_t){const Qt=xi(_t);return null===Qt?null:function zt(Ne,be,_t){const Qt={prefixes:[],items:[],nextPageToken:_t.nextPageToken};if(_t[St])for(const an of _t[St]){const Wn=an.replace(/\/$/,""),wr=Ne._makeStorageReference(new kn(be,Wn));Qt.prefixes.push(wr)}if(_t[Fn])for(const an of _t[Fn]){const Wn=Ne._makeStorageReference(new kn(be,an.name));Qt.items.push(Wn)}return Qt}(Ne,be,Qt)}(Ne,be,an);return qr(null!==Wn),Wn}}(Ne,be.bucket),Li);return ii.urlParams=Wn,ii.errorHandler=ai(be),ii}function $a(Ne,be,_t){const Qt=Object.assign({},_t);return Qt.fullPath=Ne.path,Qt.size=be.size(),Qt.contentType||(Qt.contentType=function vl(Ne,be){return Ne&&Ne.contentType||be&&be.type()||"application/octet-stream"}(null,be)),Qt}class Nn{constructor(be,_t,Qt,an){this.current=be,this.total=_t,this.finalized=!!Qt,this.metadata=an||null}}function _n(Ne,be){let _t=null;try{_t=Ne.getResponseHeader("X-Goog-Upload-Status")}catch{qr(!1)}return qr(!!_t&&-1!==(be||["active"]).indexOf(_t)),_t}const pr={STATE_CHANGED:"state_changed"},Xr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Dr(Ne){switch(Ne){case"running":case"pausing":case"canceling":return Xr.RUNNING;case"paused":return Xr.PAUSED;case"success":return Xr.SUCCESS;case"canceled":return Xr.CANCELED;default:return Xr.ERROR}}class ho{constructor(be,_t,Qt){if(function Rt(Ne){return"function"==typeof Ne}(be)||null!=_t||null!=Qt)this.next=be,this.error=null!=_t?_t:void 0,this.complete=null!=Qt?Qt:void 0;else{const Wn=be;this.next=Wn.next,this.error=Wn.error,this.complete=Wn.complete}}}function Yo(Ne){return(...be)=>{Promise.resolve().then(()=>Ne(...be))}}let va=null;class ei{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ai.NO_ERROR,this.sendPromise_=new Promise(be=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ai.ABORT,be()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ai.NETWORK_ERROR,be()}),this.xhr_.addEventListener("load",()=>{be()})})}send(be,_t,Qt,an){if(this.sent_)throw Vn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(_t,be,!0),void 0!==an)for(const Wn in an)an.hasOwnProperty(Wn)&&this.xhr_.setRequestHeader(Wn,an[Wn].toString());return void 0!==Qt?this.xhr_.send(Qt):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(be){return this.xhr_.getResponseHeader(be)}addUploadProgressListener(be){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",be)}removeUploadProgressListener(be){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",be)}}class no extends ei{initXhr(){this.xhr_.responseType="text"}}function hi(){return va?va():new no}class Aa{constructor(be,_t,Qt=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=be,this._blob=_t,this._metadata=Qt,this._mappings=Jt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=an=>{if(this._request=void 0,this._chunkMultiplier=1,an._codeEquals(vt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Wn=this.isExponentialBackoffExpired();if(Yn(an.status,[])){if(!Wn)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();an=gn()}this._error=an,this._transition("error")}},this._metadataErrorHandler=an=>{this._request=void 0,an._codeEquals(vt.CANCELED)?this.completeTransitions_():(this._error=an,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((an,Wn)=>{this._resolve=an,this._reject=Wn,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const be=this._transferred;return _t=>this._updateProgress(be+_t)}_shouldDoResumable(be){return be.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(be){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([_t,Qt])=>{switch(this._state){case"running":be(_t,Qt);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((be,_t)=>{const Qt=function tr(Ne,be,_t,Qt,an){const Wn=be.bucketOnlyServerUrl(),wr=$a(be,Qt,an),_i={name:wr.fullPath},Yr=Sr(Wn,Ne.host,Ne._protocol),ii={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Qt.size()}`,"X-Goog-Upload-Header-Content-Type":wr.contentType,"Content-Type":"application/json; charset=utf-8"},ns=rt(wr,_t),oa=new Nr(Yr,"POST",function Zs(Cs){let vs;_n(Cs);try{vs=Cs.getResponseHeader("X-Goog-Upload-URL")}catch{qr(!1)}return qr(sn(vs)),vs},Ne.maxUploadRetryTime);return oa.urlParams=_i,oa.headers=ii,oa.body=ns,oa.errorHandler=ai(be),oa}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),an=this._ref.storage._makeRequest(Qt,hi,be,_t);this._request=an,an.getPromise().then(Wn=>{this._request=void 0,this._uploadUrl=Wn,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const be=this._uploadUrl;this._resolveToken((_t,Qt)=>{const an=function Mr(Ne,be,_t,Qt){const Yr=new Nr(_t,"POST",function Wn(Li){const ii=_n(Li,["active","final"]);let ns=null;try{ns=Li.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qr(!1)}ns||qr(!1);const Js=Number(ns);return qr(!isNaN(Js)),new Nn(Js,Qt.size(),"final"===ii)},Ne.maxUploadRetryTime);return Yr.headers={"X-Goog-Upload-Command":"query"},Yr.errorHandler=ai(be),Yr}(this._ref.storage,this._ref._location,be,this._blob),Wn=this._ref.storage._makeRequest(an,hi,_t,Qt);this._request=Wn,Wn.getPromise().then(wr=>{this._request=void 0,this._updateProgress(wr.current),this._needToFetchStatus=!1,wr.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const be=262144*this._chunkMultiplier,_t=new Nn(this._transferred,this._blob.size()),Qt=this._uploadUrl;this._resolveToken((an,Wn)=>{let wr;try{wr=function pn(Ne,be,_t,Qt,an,Wn,wr,_i){const Yr=new Nn(0,0);if(wr?(Yr.current=wr.current,Yr.total=wr.total):(Yr.current=0,Yr.total=Qt.size()),Qt.size()!==Yr.total)throw function Cn(){return new et(vt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Li=Yr.total-Yr.current;let ii=Li;an>0&&(ii=Math.min(ii,an));const ns=Yr.current;let Zs="";Zs=0===ii?"finalize":Li===ii?"upload, finalize":"upload";const oa={"X-Goog-Upload-Command":Zs,"X-Goog-Upload-Offset":`${Yr.current}`},Cs=Qt.slice(ns,ns+ii);if(null===Cs)throw Yt();const Ls=new Nr(_t,"POST",function vs(xs,fo){const Zi=_n(xs,["active","final"]),Pa=Yr.current+ii,_s=Qt.size();let Na;return Na="final"===Zi?ji(be,Wn)(xs,fo):null,new Nn(Pa,_s,"final"===Zi,Na)},be.maxUploadRetryTime);return Ls.headers=oa,Ls.body=Cs.uploadData(),Ls.progressCallback=_i||null,Ls.errorHandler=ai(Ne),Ls}(this._ref._location,this._ref.storage,Qt,this._blob,be,this._mappings,_t,this._makeProgressCallback())}catch(Yr){return this._error=Yr,void this._transition("error")}const _i=this._ref.storage._makeRequest(wr,hi,an,Wn,!1);this._request=_i,_i.getPromise().then(Yr=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Yr.current),Yr.finalized?(this._metadata=Yr.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((be,_t)=>{const Qt=gs(this._ref.storage,this._ref._location,this._mappings),an=this._ref.storage._makeRequest(Qt,hi,be,_t);this._request=an,an.getPromise().then(Wn=>{this._request=void 0,this._metadata=Wn,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((be,_t)=>{const Qt=function ua(Ne,be,_t,Qt,an){const Wn=be.bucketOnlyServerUrl(),wr={"X-Goog-Upload-Protocol":"multipart"},Yr=function _i(){let Ls="";for(let xs=0;xs<2;xs++)Ls+=Math.random().toString().slice(2);return Ls}();wr["Content-Type"]="multipart/related; boundary="+Yr;const Li=$a(be,Qt,an),ii=rt(Li,_t),Zs=ko.getBlob("--"+Yr+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ii+"\r\n--"+Yr+"\r\nContent-Type: "+Li.contentType+"\r\n\r\n",Qt,"\r\n--"+Yr+"--");if(null===Zs)throw Yt();const oa={name:Li.fullPath},Cs=Sr(Wn,Ne.host,Ne._protocol),Zo=Ne.maxUploadRetryTime,rl=new Nr(Cs,"POST",ji(Ne,_t),Zo);return rl.urlParams=oa,rl.headers=wr,rl.body=Zs.uploadData(),rl.errorHandler=ai(be),rl}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),an=this._ref.storage._makeRequest(Qt,hi,be,_t);this._request=an,an.getPromise().then(Wn=>{this._request=void 0,this._metadata=Wn,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(be){const _t=this._transferred;this._transferred=be,this._transferred!==_t&&this._notifyObservers()}_transition(be){if(this._state!==be)switch(be){case"canceling":case"pausing":this._state=be,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const _t="paused"===this._state;this._state=be,_t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=be,this._notifyObservers();break;case"canceled":this._error=Tn(),this._state=be,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const be=Dr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:be,metadata:this._metadata,task:this,ref:this._ref}}on(be,_t,Qt,an){const Wn=new ho(_t||void 0,Qt||void 0,an||void 0);return this._addObserver(Wn),()=>{this._removeObserver(Wn)}}then(be,_t){return this._promise.then(be,_t)}catch(be){return this.then(null,be)}_addObserver(be){this._observers.push(be),this._notifyObserver(be)}_removeObserver(be){const _t=this._observers.indexOf(be);-1!==_t&&this._observers.splice(_t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(_t=>{this._notifyObserver(_t)})}_finishPromise(){if(void 0!==this._resolve){let be=!0;switch(Dr(this._state)){case Xr.SUCCESS:Yo(this._resolve.bind(null,this.snapshot))();break;case Xr.CANCELED:case Xr.ERROR:Yo(this._reject.bind(null,this._error))();break;default:be=!1}be&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(be){switch(Dr(this._state)){case Xr.RUNNING:case Xr.PAUSED:be.next&&Yo(be.next.bind(be,this.snapshot))();break;case Xr.SUCCESS:be.complete&&Yo(be.complete.bind(be))();break;default:be.error&&Yo(be.error.bind(be,this._error))()}}resume(){const be="paused"===this._state||"pausing"===this._state;return be&&this._transition("running"),be}pause(){const be="running"===this._state;return be&&this._transition("pausing"),be}cancel(){const be="running"===this._state||"pausing"===this._state;return be&&this._transition("canceling"),be}}class Ms{constructor(be,_t){this._service=be,this._location=_t instanceof kn?_t:kn.makeFromUrl(_t,be.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(be,_t){return new Ms(be,_t)}get root(){const be=new kn(this._location.bucket,"");return this._newRef(this._service,be)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Wr(this._location.path)}get storage(){return this._service}get parent(){const be=function Qi(Ne){if(0===Ne.length)return null;const be=Ne.lastIndexOf("/");return-1===be?"":Ne.slice(0,be)}(this._location.path);if(null===be)return null;const _t=new kn(this._location.bucket,be);return new Ms(this._service,_t)}_throwIfRoot(be){if(""===this._location.path)throw xr(be)}}function mi(Ne,be,_t){return yo.apply(this,arguments)}function yo(){return(yo=(0,e.A)(function*(Ne,be,_t){const an=yield $l(Ne,{pageToken:_t});be.prefixes.push(...an.prefixes),be.items.push(...an.items),null!=an.nextPageToken&&(yield mi(Ne,be,an.nextPageToken))})).apply(this,arguments)}function $l(Ne,be){null!=be&&"number"==typeof be.maxResults&&bi("options.maxResults",1,1e3,be.maxResults);const _t=be||{},Qt=na(Ne.storage,Ne._location,"/",_t.pageToken,_t.maxResults);return Ne.storage.makeRequestWithTokens(Qt,hi)}function Oa(Ne){Ne._throwIfRoot("getDownloadURL");const be=function ml(Ne,be,_t){const an=Sr(be.fullServerUrl(),Ne.host,Ne._protocol),wr=Ne.maxOperationRetryTime,_i=new Nr(an,"GET",function ks(Ne,be){return function _t(Qt,an){const Wn=Wt(Ne,an,be);return qr(null!==Wn),function Ye(Ne,be,_t,Qt){const an=xi(be);if(null===an||!sn(an.downloadTokens))return null;const Wn=an.downloadTokens;if(0===Wn.length)return null;const wr=encodeURIComponent;return Wn.split(",").map(Li=>{const ns=Ne.fullPath;return Sr("/b/"+wr(Ne.bucket)+"/o/"+wr(ns),_t,Qt)+ui({alt:"media",token:Li})})[0]}(Wn,an,Ne.host,Ne._protocol)}}(Ne,_t),wr);return _i.errorHandler=Fr(be),_i}(Ne.storage,Ne._location,Jt());return Ne.storage.makeRequestWithTokens(be,hi).then(_t=>{if(null===_t)throw function Dn(){return new et(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return _t})}function ra(Ne,be){const _t=function Wo(Ne,be){const _t=be.split("/").filter(Qt=>Qt.length>0).join("/");return 0===Ne.length?_t:Ne+"/"+_t}(Ne._location.path,be),Qt=new kn(Ne._location.bucket,_t);return new Ms(Ne.storage,Qt)}function Ra(Ne,be){if(Ne instanceof io){const _t=Ne;if(null==_t._bucket)throw function wn(){return new et(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ze+"' property when initializing the app?")}();const Qt=new Ms(_t,_t._bucket);return null!=be?Ra(Qt,be):Qt}return void 0!==be?ra(Ne,be):Ne}function zi(Ne,be){if(be&&function Jn(Ne){return/^[A-Za-z]+:\/\//.test(Ne)}(be)){if(Ne instanceof io)return function Ds(Ne,be){return new Ms(Ne,be)}(Ne,be);throw zn("To use ref(service, url), the first argument must be a Storage instance.")}return Ra(Ne,be)}function Oi(Ne,be){const _t=null==be?void 0:be[Ze];return null==_t?null:kn.makeFromBucketSpec(_t,Ne)}class io{constructor(be,_t,Qt,an,Wn){this.app=be,this._authProvider=_t,this._appCheckProvider=Qt,this._url=an,this._firebaseVersion=Wn,this._bucket=null,this._host=tt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=an?kn.makeFromBucketSpec(an,this._host):Oi(this._host,this.app.options)}get host(){return this._host}set host(be){this._host=be,this._bucket=null!=this._url?kn.makeFromBucketSpec(this._url,be):Oi(be,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(be){bi("time",0,Number.POSITIVE_INFINITY,be),this._maxUploadRetryTime=be}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(be){bi("time",0,Number.POSITIVE_INFINITY,be),this._maxOperationRetryTime=be}_getAuthToken(){var be=this;return(0,e.A)(function*(){if(be._overrideAuthToken)return be._overrideAuthToken;const _t=be._authProvider.getImmediate({optional:!0});if(_t){const Qt=yield _t.getToken();if(null!==Qt)return Qt.accessToken}return null})()}_getAppCheckToken(){var be=this;return(0,e.A)(function*(){const _t=be._appCheckProvider.getImmediate({optional:!0});return _t?(yield _t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(be=>be.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(be){return new Ms(this,be)}_makeRequest(be,_t,Qt,an,Wn=!0){if(this._deleted)return new st(yr());{const wr=function Pn(Ne,be,_t,Qt,an,Wn,wr=!0){const _i=ui(Ne.urlParams),Yr=Ne.url+_i,Li=Object.assign({},Ne.headers);return function fr(Ne,be){be&&(Ne["X-Firebase-GMPID"]=be)}(Li,be),function Di(Ne,be){null!==be&&be.length>0&&(Ne.Authorization="Firebase "+be)}(Li,_t),function Wi(Ne,be){Ne["X-Firebase-Storage-Version"]="webjs/"+(null!=be?be:"AppManager")}(Li,Wn),function Pt(Ne,be){null!==be&&(Ne["X-Firebase-AppCheck"]=be)}(Li,Qt),new Yi(Yr,Ne.method,Li,Ne.body,Ne.successCodes,Ne.additionalRetryCodes,Ne.handler,Ne.errorHandler,Ne.timeout,Ne.progressCallback,an,wr)}(be,this._appId,Qt,an,_t,this._firebaseVersion,Wn);return this._requests.add(wr),wr.getPromise().then(()=>this._requests.delete(wr),()=>this._requests.delete(wr)),wr}}makeRequestWithTokens(be,_t){var Qt=this;return(0,e.A)(function*(){const[an,Wn]=yield Promise.all([Qt._getAuthToken(),Qt._getAppCheckToken()]);return Qt._makeRequest(be,_t,an,Wn).getPromise()})()}}const ia="@firebase/storage";function At(Ne,be){return zi(Ne=(0,ot.Ku)(Ne),be)}function or(Ne,{instanceIdentifier:be}){const _t=Ne.getProvider("app").getImmediate(),Qt=Ne.getProvider("auth-internal"),an=Ne.getProvider("app-check-internal");return new io(_t,Qt,an,be,wt.SDK_VERSION)}!function er(){(0,wt._registerComponent)(new Z.uA("storage",or,"PUBLIC").setMultipleInstances(!0)),(0,wt.registerVersion)(ia,"0.12.5",""),(0,wt.registerVersion)(ia,"0.12.5","esm2017")}();class ir{constructor(be,_t,Qt){this._delegate=be,this.task=_t,this.ref=Qt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class _r{constructor(be,_t){this._delegate=be,this._ref=_t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ir(this._delegate.snapshot,this,this._ref)}then(be,_t){return this._delegate.then(Qt=>{if(be)return be(new ir(Qt,this,this._ref))},_t)}on(be,_t,Qt,an){let Wn;return _t&&(Wn="function"==typeof _t?wr=>_t(new ir(wr,this,this._ref)):{next:_t.next?wr=>_t.next(new ir(wr,this,this._ref)):void 0,complete:_t.complete||void 0,error:_t.error||void 0}),this._delegate.on(be,Wn,Qt||void 0,an||void 0)}}class pi{constructor(be,_t){this._delegate=be,this._service=_t}get prefixes(){return this._delegate.prefixes.map(be=>new Or(be,this._service))}get items(){return this._delegate.items.map(be=>new Or(be,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Or{constructor(be,_t){this._delegate=be,this.storage=_t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(be){const _t=function Tt(Ne,be){return ra(Ne,be)}(this._delegate,be);return new Or(_t,this.storage)}get root(){return new Or(this._delegate.root,this.storage)}get parent(){const be=this._delegate.parent;return null==be?null:new Or(be,this.storage)}put(be,_t){return this._throwIfRoot("put"),new _r(function ao(Ne,be,_t){return function To(Ne,be,_t){return Ne._throwIfRoot("uploadBytesResumable"),new Aa(Ne,new ko(be),_t)}(Ne=(0,ot.Ku)(Ne),be,_t)}(this._delegate,be,_t),this)}putString(be,_t=di.RAW,Qt){this._throwIfRoot("putString");const an=Er(_t,be),Wn=Object.assign({},Qt);return null==Wn.contentType&&null!=an.contentType&&(Wn.contentType=an.contentType),new _r(new Aa(this._delegate,new ko(an.data,!0),Wn),this)}listAll(){return function ka(Ne){return function Hi(Ne){const be={prefixes:[],items:[]};return mi(Ne,be).then(()=>be)}(Ne=(0,ot.Ku)(Ne))}(this._delegate).then(be=>new pi(be,this.storage))}list(be){return function ts(Ne,be){return $l(Ne=(0,ot.Ku)(Ne),be)}(this._delegate,be||void 0).then(_t=>new pi(_t,this.storage))}getMetadata(){return function Jo(Ne){return function Io(Ne){Ne._throwIfRoot("getMetadata");const be=gs(Ne.storage,Ne._location,Jt());return Ne.storage.makeRequestWithTokens(be,hi)}(Ne=(0,ot.Ku)(Ne))}(this._delegate)}updateMetadata(be){return function Tr(Ne,be){return function bl(Ne,be){Ne._throwIfRoot("updateMetadata");const _t=function nl(Ne,be,_t,Qt){const Wn=Sr(be.fullServerUrl(),Ne.host,Ne._protocol),_i=rt(_t,Qt),Li=Ne.maxOperationRetryTime,ii=new Nr(Wn,"PATCH",ji(Ne,Qt),Li);return ii.headers={"Content-Type":"application/json; charset=utf-8"},ii.body=_i,ii.errorHandler=Fr(be),ii}(Ne.storage,Ne._location,be,Jt());return Ne.storage.makeRequestWithTokens(_t,hi)}(Ne=(0,ot.Ku)(Ne),be)}(this._delegate,be)}getDownloadURL(){return function Te(Ne){return Oa(Ne=(0,ot.Ku)(Ne))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Je(Ne){return function Bo(Ne){Ne._throwIfRoot("deleteObject");const be=function Ao(Ne,be){const Qt=Sr(be.fullServerUrl(),Ne.host,Ne._protocol),_i=new Nr(Qt,"DELETE",function wr(Yr,Li){},Ne.maxOperationRetryTime);return _i.successCodes=[200,204],_i.errorHandler=Fr(be),_i}(Ne.storage,Ne._location);return Ne.storage.makeRequestWithTokens(be,hi)}(Ne=(0,ot.Ku)(Ne))}(this._delegate)}_throwIfRoot(be){if(""===this._delegate._location.path)throw xr(be)}}class qi{constructor(be,_t){this.app=be,this._delegate=_t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(be){if(Ko(be))throw zn("ref() expected a child path but got a URL, use refFromURL instead.");return new Or(At(this._delegate,be),this)}refFromURL(be){if(!Ko(be))throw zn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{kn.makeFromUrl(be,this._delegate.host)}catch{throw zn("refFromUrl() expected a valid full URL but got an invalid one.")}return new Or(At(this._delegate,be),this)}setMaxUploadRetryTime(be){this._delegate.maxUploadRetryTime=be}setMaxOperationRetryTime(be){this._delegate.maxOperationRetryTime=be}useEmulator(be,_t,Qt={}){!function Zt(Ne,be,_t,Qt={}){!function Ga(Ne,be,_t,Qt={}){Ne.host=`${be}:${_t}`,Ne._protocol="http";const{mockUserToken:an}=Qt;an&&(Ne._overrideAuthToken="string"==typeof an?an:(0,ot.Fy)(an,Ne.app.options.projectId))}(Ne,be,_t,Qt)}(this._delegate,be,_t,Qt)}}function Ko(Ne){return/^[A-Za-z]+:\/\//.test(Ne)}function Gi(Ne,{instanceIdentifier:be}){const _t=Ne.getProvider("app-compat").getImmediate(),Qt=Ne.getProvider("storage").getImmediate({identifier:be});return new qi(_t,Qt)}!function Ys(Ne){const be={TaskState:Xr,TaskEvent:pr,StringFormat:di,Storage:qi,Reference:Or};Ne.INTERNAL.registerComponent(new Z.uA("storage-compat",Gi,"PUBLIC").setServiceProps(be).setMultipleInstances(!0)),Ne.registerVersion("@firebase/storage-compat","0.3.8")}(w.A)},467:(Kr,dn,Be)=>{"use strict";function w(wt,ot,Z,tt,Ze,Nt,Ut){try{var Ct=wt[Nt](Ut),et=Ct.value}catch(vt){return void Z(vt)}Ct.done?ot(et):Promise.resolve(et).then(tt,Ze)}function e(wt){return function(){var ot=this,Z=arguments;return new Promise(function(tt,Ze){var Nt=wt.apply(ot,Z);function Ut(et){w(Nt,tt,Ze,Ut,Ct,"next",et)}function Ct(et){w(Nt,tt,Ze,Ut,Ct,"throw",et)}Ut(void 0)})}}Be.d(dn,{A:()=>e})},1660:(Kr,dn,Be)=>{"use strict";Be.d(dn,{A:()=>ot});var w=Be(2284);function ot(Z,tt,Ze){return(tt=function wt(Z){var tt=function e(Z,tt){if("object"!=(0,w.A)(Z)||!Z)return Z;var Ze=Z[Symbol.toPrimitive];if(void 0!==Ze){var Nt=Ze.call(Z,tt||"default");if("object"!=(0,w.A)(Nt))return Nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===tt?String:Number)(Z)}(Z,"string");return"symbol"==(0,w.A)(tt)?tt:String(tt)}(tt))in Z?Object.defineProperty(Z,tt,{value:Ze,enumerable:!0,configurable:!0,writable:!0}):Z[tt]=Ze,Z}},2284:(Kr,dn,Be)=>{"use strict";function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(wt){return typeof wt}:function(wt){return wt&&"function"==typeof Symbol&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(e)}Be.d(dn,{A:()=>w})},1635:(Kr,dn,Be)=>{"use strict";function ot(we,Fe){var Le={};for(var Rt in we)Object.prototype.hasOwnProperty.call(we,Rt)&&Fe.indexOf(Rt)<0&&(Le[Rt]=we[Rt]);if(null!=we&&"function"==typeof Object.getOwnPropertySymbols){var bn=0;for(Rt=Object.getOwnPropertySymbols(we);bn<Rt.length;bn++)Fe.indexOf(Rt[bn])<0&&Object.prototype.propertyIsEnumerable.call(we,Rt[bn])&&(Le[Rt[bn]]=we[Rt[bn]])}return Le}function Z(we,Fe,Le,Rt){var Rn,bn=arguments.length,sn=bn<3?Fe:null===Rt?Rt=Object.getOwnPropertyDescriptor(Fe,Le):Rt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)sn=Reflect.decorate(we,Fe,Le,Rt);else for(var dr=we.length-1;dr>=0;dr--)(Rn=we[dr])&&(sn=(bn<3?Rn(sn):bn>3?Rn(Fe,Le,sn):Rn(Fe,Le))||sn);return bn>3&&sn&&Object.defineProperty(Fe,Le,sn),sn}function vt(we,Fe,Le,Rt){return new(Le||(Le=Promise))(function(sn,Rn){function dr(ui){try{Sr(Rt.next(ui))}catch(Ai){Rn(Ai)}}function bi(ui){try{Sr(Rt.throw(ui))}catch(Ai){Rn(Ai)}}function Sr(ui){ui.done?sn(ui.value):function bn(sn){return sn instanceof Le?sn:new Le(function(Rn){Rn(sn)})}(ui.value).then(dr,bi)}Sr((Rt=Rt.apply(we,Fe||[])).next())})}function Tn(we){return this instanceof Tn?(this.v=we,this):new Tn(we)}function bt(we,Fe,Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var bn,Rt=Le.apply(we,Fe||[]),sn=[];return bn={},Rn("next"),Rn("throw"),Rn("return"),bn[Symbol.asyncIterator]=function(){return this},bn;function Rn(Yn){Rt[Yn]&&(bn[Yn]=function(Yi){return new Promise(function(kr,Di){sn.push([Yn,Yi,kr,Di])>1||dr(Yn,Yi)})})}function dr(Yn,Yi){try{!function bi(Yn){Yn.value instanceof Tn?Promise.resolve(Yn.value.v).then(Sr,ui):Ai(sn[0][2],Yn)}(Rt[Yn](Yi))}catch(kr){Ai(sn[0][3],kr)}}function Sr(Yn){dr("next",Yn)}function ui(Yn){dr("throw",Yn)}function Ai(Yn,Yi){Yn(Yi),sn.shift(),sn.length&&dr(sn[0][0],sn[0][1])}}function wn(we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,Fe=we[Symbol.asyncIterator];return Fe?Fe.call(we):(we=function mn(we){var Fe="function"==typeof Symbol&&Symbol.iterator,Le=Fe&&we[Fe],Rt=0;if(Le)return Le.call(we);if(we&&"number"==typeof we.length)return{next:function(){return we&&Rt>=we.length&&(we=void 0),{value:we&&we[Rt++],done:!we}}};throw new TypeError(Fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(we),Le={},Rt("next"),Rt("throw"),Rt("return"),Le[Symbol.asyncIterator]=function(){return this},Le);function Rt(sn){Le[sn]=we[sn]&&function(Rn){return new Promise(function(dr,bi){!function bn(sn,Rn,dr,bi){Promise.resolve(bi).then(function(Sr){sn({value:Sr,done:dr})},Rn)}(dr,bi,(Rn=we[sn](Rn)).done,Rn.value)})}}}Be.d(dn,{AQ:()=>bt,Cg:()=>Z,N3:()=>Tn,Tt:()=>ot,sH:()=>vt,xN:()=>wn}),"function"==typeof SuppressedError&&SuppressedError}},Kr=>{Kr(Kr.s=5217)}]);